function GO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Be(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function HO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var GT={exports:{}},Cf={},HT={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu=Symbol.for("react.element"),WO=Symbol.for("react.portal"),KO=Symbol.for("react.fragment"),JO=Symbol.for("react.strict_mode"),YO=Symbol.for("react.profiler"),XO=Symbol.for("react.provider"),QO=Symbol.for("react.context"),ZO=Symbol.for("react.forward_ref"),eM=Symbol.for("react.suspense"),tM=Symbol.for("react.memo"),nM=Symbol.for("react.lazy"),ww=Symbol.iterator;function rM(t){return t===null||typeof t!="object"?null:(t=ww&&t[ww]||t["@@iterator"],typeof t=="function"?t:null)}var WT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KT=Object.assign,JT={};function as(t,e,n){this.props=t,this.context=e,this.refs=JT,this.updater=n||WT}as.prototype.isReactComponent={};as.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};as.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function YT(){}YT.prototype=as.prototype;function Xv(t,e,n){this.props=t,this.context=e,this.refs=JT,this.updater=n||WT}var Qv=Xv.prototype=new YT;Qv.constructor=Xv;KT(Qv,as.prototype);Qv.isPureReactComponent=!0;var bw=Array.isArray,XT=Object.prototype.hasOwnProperty,Zv={current:null},QT={key:!0,ref:!0,__self:!0,__source:!0};function ZT(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)XT.call(e,r)&&!QT.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Tu,type:t,key:o,ref:a,props:i,_owner:Zv.current}}function iM(t,e){return{$$typeof:Tu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ey(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tu}function oM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xw=/\/+/g;function Qh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oM(""+t.key):e.toString(36)}function Ic(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Tu:case WO:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Qh(a,0):r,bw(i)?(n="",t!=null&&(n=t.replace(xw,"$&/")+"/"),Ic(i,e,n,"",function(u){return u})):i!=null&&(ey(i)&&(i=iM(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(xw,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",bw(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Qh(o,s);a+=Ic(o,e,n,l,i)}else if(l=rM(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Qh(o,s++),a+=Ic(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function qu(t,e,n){if(t==null)return t;var r=[],i=0;return Ic(t,r,"","",function(o){return e.call(n,o,i++)}),r}function aM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},Nc={transition:null},sM={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:Zv};function eA(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:qu,forEach:function(t,e,n){qu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qu(t,function(){e++}),e},toArray:function(t){return qu(t,function(e){return e})||[]},only:function(t){if(!ey(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=as;Ee.Fragment=KO;Ee.Profiler=YO;Ee.PureComponent=Xv;Ee.StrictMode=JO;Ee.Suspense=eM;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sM;Ee.act=eA;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=KT({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Zv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)XT.call(e,l)&&!QT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Tu,type:t.type,key:i,ref:o,props:r,_owner:a}};Ee.createContext=function(t){return t={$$typeof:QO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XO,_context:t},t.Consumer=t};Ee.createElement=ZT;Ee.createFactory=function(t){var e=ZT.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:ZO,render:t}};Ee.isValidElement=ey;Ee.lazy=function(t){return{$$typeof:nM,_payload:{_status:-1,_result:t},_init:aM}};Ee.memo=function(t,e){return{$$typeof:tM,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Nc.transition;Nc.transition={};try{t()}finally{Nc.transition=e}};Ee.unstable_act=eA;Ee.useCallback=function(t,e){return nn.current.useCallback(t,e)};Ee.useContext=function(t){return nn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return nn.current.useEffect(t,e)};Ee.useId=function(){return nn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return nn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};Ee.useRef=function(t){return nn.current.useRef(t)};Ee.useState=function(t){return nn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return nn.current.useTransition()};Ee.version="18.3.1";HT.exports=Ee;var P=HT.exports;const I=Be(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lM=P,uM=Symbol.for("react.element"),cM=Symbol.for("react.fragment"),dM=Object.prototype.hasOwnProperty,fM=lM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hM={key:!0,ref:!0,__self:!0,__source:!0};function tA(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)dM.call(e,r)&&!hM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uM,type:t,key:o,ref:a,props:i,_owner:fM.current}}Cf.Fragment=cM;Cf.jsx=tA;Cf.jsxs=tA;GT.exports=Cf;var p=GT.exports,lm={},nA={exports:{}},kn={},rA={exports:{}},iA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,B){var q=$.length;$.push(B);e:for(;0<q;){var Y=q-1>>>1,W=$[Y];if(0<i(W,B))$[Y]=B,$[q]=W,q=Y;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var B=$[0],q=$.pop();if(q!==B){$[0]=q;e:for(var Y=0,W=$.length,re=W>>>1;Y<re;){var pe=2*(Y+1)-1,xe=$[pe],ke=pe+1,st=$[ke];if(0>i(xe,q))ke<W&&0>i(st,xe)?($[Y]=st,$[ke]=q,Y=ke):($[Y]=xe,$[pe]=q,Y=pe);else if(ke<W&&0>i(st,q))$[Y]=st,$[ke]=q,Y=ke;else break e}}return B}function i($,B){var q=$.sortIndex-B.sortIndex;return q!==0?q:$.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,g=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=$)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function T($){if(y=!1,_($),!v)if(n(l)!==null)v=!0,M(S);else{var B=n(u);B!==null&&L(T,B.startTime-$)}}function S($,B){v=!1,y&&(y=!1,w(C),C=-1),g=!0;var q=h;try{for(_(B),d=n(l);d!==null&&(!(d.expirationTime>B)||$&&!O());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var W=Y(d.expirationTime<=B);B=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),_(B)}else r(l);d=n(l)}if(d!==null)var re=!0;else{var pe=n(u);pe!==null&&L(T,pe.startTime-B),re=!1}return re}finally{d=null,h=q,g=!1}}var E=!1,A=null,C=-1,k=5,N=-1;function O(){return!(t.unstable_now()-N<k)}function R(){if(A!==null){var $=t.unstable_now();N=$;var B=!0;try{B=A(!0,$)}finally{B?D():(E=!1,A=null)}}else E=!1}var D;if(typeof x=="function")D=function(){x(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,j=U.port2;U.port1.onmessage=R,D=function(){j.postMessage(null)}}else D=function(){b(R,0)};function M($){A=$,E||(E=!0,D())}function L($,B){C=b(function(){$(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,M(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var q=h;h=B;try{return $()}finally{h=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,B){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var q=h;h=$;try{return B()}finally{h=q}},t.unstable_scheduleCallback=function($,B,q){var Y=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Y+q:Y):q=Y,$){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=q+W,$={id:c++,callback:B,priorityLevel:$,startTime:q,expirationTime:W,sortIndex:-1},q>Y?($.sortIndex=q,e(u,$),n(l)===null&&$===n(u)&&(y?(w(C),C=-1):y=!0,L(T,q-Y))):($.sortIndex=W,e(l,$),v||g||(v=!0,M(S))),$},t.unstable_shouldYield=O,t.unstable_wrapCallback=function($){var B=h;return function(){var q=h;h=B;try{return $.apply(this,arguments)}finally{h=q}}}})(iA);rA.exports=iA;var pM=rA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mM=P,Cn=pM;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oA=new Set,El={};function Co(t,e){Ca(t,e),Ca(t+"Capture",e)}function Ca(t,e){for(El[t]=e,t=0;t<e.length;t++)oA.add(e[t])}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),um=Object.prototype.hasOwnProperty,gM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_w={},Sw={};function vM(t){return um.call(Sw,t)?!0:um.call(_w,t)?!1:gM.test(t)?Sw[t]=!0:(_w[t]=!0,!1)}function yM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wM(t,e,n,r){if(e===null||typeof e>"u"||yM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ty=/[\-:]([a-z])/g;function ny(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ty,ny);Bt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ty,ny);Bt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ty,ny);Bt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ry(t,e,n,r){var i=Bt.hasOwnProperty(e)?Bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wM(e,n,i,r)&&(n=null),r||i===null?vM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jr=mM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gu=Symbol.for("react.element"),Yo=Symbol.for("react.portal"),Xo=Symbol.for("react.fragment"),iy=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),aA=Symbol.for("react.provider"),sA=Symbol.for("react.context"),oy=Symbol.for("react.forward_ref"),dm=Symbol.for("react.suspense"),fm=Symbol.for("react.suspense_list"),ay=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),lA=Symbol.for("react.offscreen"),Ew=Symbol.iterator;function Ns(t){return t===null||typeof t!="object"?null:(t=Ew&&t[Ew]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,Zh;function Zs(t){if(Zh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zh=e&&e[1]||""}return`
`+Zh+t}var ep=!1;function tp(t,e){if(!t||ep)return"";ep=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{ep=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zs(t):""}function bM(t){switch(t.tag){case 5:return Zs(t.type);case 16:return Zs("Lazy");case 13:return Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 2:case 15:return t=tp(t.type,!1),t;case 11:return t=tp(t.type.render,!1),t;case 1:return t=tp(t.type,!0),t;default:return""}}function hm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xo:return"Fragment";case Yo:return"Portal";case cm:return"Profiler";case iy:return"StrictMode";case dm:return"Suspense";case fm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sA:return(t.displayName||"Context")+".Consumer";case aA:return(t._context.displayName||"Context")+".Provider";case oy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ay:return e=t.displayName||null,e!==null?e:hm(t.type)||"Memo";case ii:e=t._payload,t=t._init;try{return hm(t(e))}catch{}}return null}function xM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hm(e);case 8:return e===iy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ai(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _M(t){var e=uA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hu(t){t._valueTracker||(t._valueTracker=_M(t))}function cA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pm(t,e){var n=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Tw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ai(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dA(t,e){e=e.checked,e!=null&&ry(t,"checked",e,!1)}function mm(t,e){dA(t,e);var n=Ai(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gm(t,e.type,n):e.hasOwnProperty("defaultValue")&&gm(t,e.type,Ai(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Aw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gm(t,e,n){(e!=="number"||Hc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var el=Array.isArray;function pa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ai(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(el(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ai(n)}}function fA(t,e){var n=Ai(e.value),r=Ai(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ym(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wu,pA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wu=Wu||document.createElement("div"),Wu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SM=["Webkit","ms","Moz","O"];Object.keys(ol).forEach(function(t){SM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ol[e]=ol[t]})});function mA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ol.hasOwnProperty(t)&&ol[t]?(""+e).trim():e+"px"}function gA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var EM=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wm(t,e){if(e){if(EM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function bm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xm=null;function sy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _m=null,ma=null,ga=null;function Pw(t){if(t=ku(t)){if(typeof _m!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Of(e),_m(t.stateNode,t.type,e))}}function vA(t){ma?ga?ga.push(t):ga=[t]:ma=t}function yA(){if(ma){var t=ma,e=ga;if(ga=ma=null,Pw(t),e)for(t=0;t<e.length;t++)Pw(e[t])}}function wA(t,e){return t(e)}function bA(){}var np=!1;function xA(t,e,n){if(np)return t(e,n);np=!0;try{return wA(t,e,n)}finally{np=!1,(ma!==null||ga!==null)&&(bA(),yA())}}function Al(t,e){var n=t.stateNode;if(n===null)return null;var r=Of(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Sm=!1;if(Fr)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){Sm=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{Sm=!1}function TM(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var al=!1,Wc=null,Kc=!1,Em=null,AM={onError:function(t){al=!0,Wc=t}};function CM(t,e,n,r,i,o,a,s,l){al=!1,Wc=null,TM.apply(AM,arguments)}function kM(t,e,n,r,i,o,a,s,l){if(CM.apply(this,arguments),al){if(al){var u=Wc;al=!1,Wc=null}else throw Error(J(198));Kc||(Kc=!0,Em=u)}}function ko(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _A(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Iw(t){if(ko(t)!==t)throw Error(J(188))}function PM(t){var e=t.alternate;if(!e){if(e=ko(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Iw(i),t;if(o===r)return Iw(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function SA(t){return t=PM(t),t!==null?EA(t):null}function EA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=EA(t);if(e!==null)return e;t=t.sibling}return null}var TA=Cn.unstable_scheduleCallback,Nw=Cn.unstable_cancelCallback,IM=Cn.unstable_shouldYield,NM=Cn.unstable_requestPaint,gt=Cn.unstable_now,OM=Cn.unstable_getCurrentPriorityLevel,ly=Cn.unstable_ImmediatePriority,AA=Cn.unstable_UserBlockingPriority,Jc=Cn.unstable_NormalPriority,MM=Cn.unstable_LowPriority,CA=Cn.unstable_IdlePriority,kf=null,yr=null;function RM(t){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(kf,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:DM,$M=Math.log,jM=Math.LN2;function DM(t){return t>>>=0,t===0?32:31-($M(t)/jM|0)|0}var Ku=64,Ju=4194304;function tl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=tl(s):(o&=a,o!==0&&(r=tl(o)))}else a=n&~i,a!==0?r=tl(a):o!==0&&(r=tl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-or(e),i=1<<n,r|=t[n],e&=~i;return r}function LM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-or(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=LM(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Tm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kA(){var t=Ku;return Ku<<=1,!(Ku&4194240)&&(Ku=64),t}function rp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Au(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-or(e),t[e]=n}function BM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-or(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function uy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-or(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ue=0;function PA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var IA,cy,NA,OA,MA,Am=!1,Yu=[],gi=null,vi=null,yi=null,Cl=new Map,kl=new Map,li=[],FM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ow(t,e){switch(t){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":Cl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(e.pointerId)}}function Ms(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ku(e),e!==null&&cy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function VM(t,e,n,r,i){switch(e){case"focusin":return gi=Ms(gi,t,e,n,r,i),!0;case"dragenter":return vi=Ms(vi,t,e,n,r,i),!0;case"mouseover":return yi=Ms(yi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Cl.set(o,Ms(Cl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,kl.set(o,Ms(kl.get(o)||null,t,e,n,r,i)),!0}return!1}function RA(t){var e=no(t.target);if(e!==null){var n=ko(e);if(n!==null){if(e=n.tag,e===13){if(e=_A(n),e!==null){t.blockedOn=e,MA(t.priority,function(){NA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xm=r,n.target.dispatchEvent(r),xm=null}else return e=ku(n),e!==null&&cy(e),t.blockedOn=n,!1;e.shift()}return!0}function Mw(t,e,n){Oc(t)&&n.delete(e)}function zM(){Am=!1,gi!==null&&Oc(gi)&&(gi=null),vi!==null&&Oc(vi)&&(vi=null),yi!==null&&Oc(yi)&&(yi=null),Cl.forEach(Mw),kl.forEach(Mw)}function Rs(t,e){t.blockedOn===e&&(t.blockedOn=null,Am||(Am=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,zM)))}function Pl(t){function e(i){return Rs(i,t)}if(0<Yu.length){Rs(Yu[0],t);for(var n=1;n<Yu.length;n++){var r=Yu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gi!==null&&Rs(gi,t),vi!==null&&Rs(vi,t),yi!==null&&Rs(yi,t),Cl.forEach(e),kl.forEach(e),n=0;n<li.length;n++)r=li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<li.length&&(n=li[0],n.blockedOn===null);)RA(n),n.blockedOn===null&&li.shift()}var va=Jr.ReactCurrentBatchConfig,Xc=!0;function qM(t,e,n,r){var i=Ue,o=va.transition;va.transition=null;try{Ue=1,dy(t,e,n,r)}finally{Ue=i,va.transition=o}}function GM(t,e,n,r){var i=Ue,o=va.transition;va.transition=null;try{Ue=4,dy(t,e,n,r)}finally{Ue=i,va.transition=o}}function dy(t,e,n,r){if(Xc){var i=Cm(t,e,n,r);if(i===null)hp(t,e,r,Qc,n),Ow(t,r);else if(VM(i,t,e,n,r))r.stopPropagation();else if(Ow(t,r),e&4&&-1<FM.indexOf(t)){for(;i!==null;){var o=ku(i);if(o!==null&&IA(o),o=Cm(t,e,n,r),o===null&&hp(t,e,r,Qc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else hp(t,e,r,null,n)}}var Qc=null;function Cm(t,e,n,r){if(Qc=null,t=sy(r),t=no(t),t!==null)if(e=ko(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_A(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qc=t,null}function $A(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OM()){case ly:return 1;case AA:return 4;case Jc:case MM:return 16;case CA:return 536870912;default:return 16}default:return 16}}var fi=null,fy=null,Mc=null;function jA(){if(Mc)return Mc;var t,e=fy,n=e.length,r,i="value"in fi?fi.value:fi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Mc=i.slice(t,1<r?1-r:void 0)}function Rc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xu(){return!0}function Rw(){return!1}function Pn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xu:Rw,this.isPropagationStopped=Rw,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xu)},persist:function(){},isPersistent:Xu}),e}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hy=Pn(ss),Cu=ft({},ss,{view:0,detail:0}),HM=Pn(Cu),ip,op,$s,Pf=ft({},Cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:py,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$s&&($s&&t.type==="mousemove"?(ip=t.screenX-$s.screenX,op=t.screenY-$s.screenY):op=ip=0,$s=t),ip)},movementY:function(t){return"movementY"in t?t.movementY:op}}),$w=Pn(Pf),WM=ft({},Pf,{dataTransfer:0}),KM=Pn(WM),JM=ft({},Cu,{relatedTarget:0}),ap=Pn(JM),YM=ft({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),XM=Pn(YM),QM=ft({},ss,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZM=Pn(QM),eR=ft({},ss,{data:0}),jw=Pn(eR),tR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rR[t])?!!e[t]:!1}function py(){return iR}var oR=ft({},Cu,{key:function(t){if(t.key){var e=tR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:py,charCode:function(t){return t.type==="keypress"?Rc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aR=Pn(oR),sR=ft({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dw=Pn(sR),lR=ft({},Cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:py}),uR=Pn(lR),cR=ft({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),dR=Pn(cR),fR=ft({},Pf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hR=Pn(fR),pR=[9,13,27,32],my=Fr&&"CompositionEvent"in window,sl=null;Fr&&"documentMode"in document&&(sl=document.documentMode);var mR=Fr&&"TextEvent"in window&&!sl,DA=Fr&&(!my||sl&&8<sl&&11>=sl),Lw=" ",Uw=!1;function LA(t,e){switch(t){case"keyup":return pR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qo=!1;function gR(t,e){switch(t){case"compositionend":return UA(e);case"keypress":return e.which!==32?null:(Uw=!0,Lw);case"textInput":return t=e.data,t===Lw&&Uw?null:t;default:return null}}function vR(t,e){if(Qo)return t==="compositionend"||!my&&LA(t,e)?(t=jA(),Mc=fy=fi=null,Qo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DA&&e.locale!=="ko"?null:e.data;default:return null}}var yR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yR[t.type]:e==="textarea"}function BA(t,e,n,r){vA(r),e=Zc(e,"onChange"),0<e.length&&(n=new hy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ll=null,Il=null;function wR(t){XA(t,0)}function If(t){var e=ta(t);if(cA(e))return t}function bR(t,e){if(t==="change")return e}var FA=!1;if(Fr){var sp;if(Fr){var lp="oninput"in document;if(!lp){var Fw=document.createElement("div");Fw.setAttribute("oninput","return;"),lp=typeof Fw.oninput=="function"}sp=lp}else sp=!1;FA=sp&&(!document.documentMode||9<document.documentMode)}function Vw(){ll&&(ll.detachEvent("onpropertychange",VA),Il=ll=null)}function VA(t){if(t.propertyName==="value"&&If(Il)){var e=[];BA(e,Il,t,sy(t)),xA(wR,e)}}function xR(t,e,n){t==="focusin"?(Vw(),ll=e,Il=n,ll.attachEvent("onpropertychange",VA)):t==="focusout"&&Vw()}function _R(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return If(Il)}function SR(t,e){if(t==="click")return If(e)}function ER(t,e){if(t==="input"||t==="change")return If(e)}function TR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lr=typeof Object.is=="function"?Object.is:TR;function Nl(t,e){if(lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!um.call(e,i)||!lr(t[i],e[i]))return!1}return!0}function zw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qw(t,e){var n=zw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zw(n)}}function zA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qA(){for(var t=window,e=Hc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hc(t.document)}return e}function gy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AR(t){var e=qA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zA(n.ownerDocument.documentElement,n)){if(r!==null&&gy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=qw(n,o);var a=qw(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CR=Fr&&"documentMode"in document&&11>=document.documentMode,Zo=null,km=null,ul=null,Pm=!1;function Gw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pm||Zo==null||Zo!==Hc(r)||(r=Zo,"selectionStart"in r&&gy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ul&&Nl(ul,r)||(ul=r,r=Zc(km,"onSelect"),0<r.length&&(e=new hy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zo)))}function Qu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ea={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},up={},GA={};Fr&&(GA=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function Nf(t){if(up[t])return up[t];if(!ea[t])return t;var e=ea[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in GA)return up[t]=e[n];return t}var HA=Nf("animationend"),WA=Nf("animationiteration"),KA=Nf("animationstart"),JA=Nf("transitionend"),YA=new Map,Hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(t,e){YA.set(t,e),Co(e,[t])}for(var cp=0;cp<Hw.length;cp++){var dp=Hw[cp],kR=dp.toLowerCase(),PR=dp[0].toUpperCase()+dp.slice(1);ki(kR,"on"+PR)}ki(HA,"onAnimationEnd");ki(WA,"onAnimationIteration");ki(KA,"onAnimationStart");ki("dblclick","onDoubleClick");ki("focusin","onFocus");ki("focusout","onBlur");ki(JA,"onTransitionEnd");Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);Co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Co("onBeforeInput",["compositionend","keypress","textInput","paste"]);Co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IR=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function Ww(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kM(r,e,void 0,t),t.currentTarget=null}function XA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Ww(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Ww(i,s,u),o=l}}}if(Kc)throw t=Em,Kc=!1,Em=null,t}function Ze(t,e){var n=e[Rm];n===void 0&&(n=e[Rm]=new Set);var r=t+"__bubble";n.has(r)||(QA(e,t,2,!1),n.add(r))}function fp(t,e,n){var r=0;e&&(r|=4),QA(n,t,r,e)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Ol(t){if(!t[Zu]){t[Zu]=!0,oA.forEach(function(n){n!=="selectionchange"&&(IR.has(n)||fp(n,!1,t),fp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zu]||(e[Zu]=!0,fp("selectionchange",!1,e))}}function QA(t,e,n,r){switch($A(e)){case 1:var i=qM;break;case 4:i=GM;break;default:i=dy}n=i.bind(null,e,n,t),i=void 0,!Sm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hp(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=no(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}xA(function(){var u=o,c=sy(n),d=[];e:{var h=YA.get(t);if(h!==void 0){var g=hy,v=t;switch(t){case"keypress":if(Rc(n)===0)break e;case"keydown":case"keyup":g=aR;break;case"focusin":v="focus",g=ap;break;case"focusout":v="blur",g=ap;break;case"beforeblur":case"afterblur":g=ap;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=$w;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=KM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=uR;break;case HA:case WA:case KA:g=XM;break;case JA:g=dR;break;case"scroll":g=HM;break;case"wheel":g=hR;break;case"copy":case"cut":case"paste":g=ZM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Dw}var y=(e&4)!==0,b=!y&&t==="scroll",w=y?h!==null?h+"Capture":null:h;y=[];for(var x=u,_;x!==null;){_=x;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,w!==null&&(T=Al(x,w),T!=null&&y.push(Ml(x,T,_)))),b)break;x=x.return}0<y.length&&(h=new g(h,v,null,n,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==xm&&(v=n.relatedTarget||n.fromElement)&&(no(v)||v[Vr]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?no(v):null,v!==null&&(b=ko(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=$w,T="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=Dw,T="onPointerLeave",w="onPointerEnter",x="pointer"),b=g==null?h:ta(g),_=v==null?h:ta(v),h=new y(T,x+"leave",g,n,c),h.target=b,h.relatedTarget=_,T=null,no(c)===u&&(y=new y(w,x+"enter",v,n,c),y.target=_,y.relatedTarget=b,T=y),b=T,g&&v)t:{for(y=g,w=v,x=0,_=y;_;_=Do(_))x++;for(_=0,T=w;T;T=Do(T))_++;for(;0<x-_;)y=Do(y),x--;for(;0<_-x;)w=Do(w),_--;for(;x--;){if(y===w||w!==null&&y===w.alternate)break t;y=Do(y),w=Do(w)}y=null}else y=null;g!==null&&Kw(d,h,g,y,!1),v!==null&&b!==null&&Kw(d,b,v,y,!0)}}e:{if(h=u?ta(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=bR;else if(Bw(h))if(FA)S=ER;else{S=_R;var E=xR}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=SR);if(S&&(S=S(t,u))){BA(d,S,n,c);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&gm(h,"number",h.value)}switch(E=u?ta(u):window,t){case"focusin":(Bw(E)||E.contentEditable==="true")&&(Zo=E,km=u,ul=null);break;case"focusout":ul=km=Zo=null;break;case"mousedown":Pm=!0;break;case"contextmenu":case"mouseup":case"dragend":Pm=!1,Gw(d,n,c);break;case"selectionchange":if(CR)break;case"keydown":case"keyup":Gw(d,n,c)}var A;if(my)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Qo?LA(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(DA&&n.locale!=="ko"&&(Qo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Qo&&(A=jA()):(fi=c,fy="value"in fi?fi.value:fi.textContent,Qo=!0)),E=Zc(u,C),0<E.length&&(C=new jw(C,t,null,n,c),d.push({event:C,listeners:E}),A?C.data=A:(A=UA(n),A!==null&&(C.data=A)))),(A=mR?gR(t,n):vR(t,n))&&(u=Zc(u,"onBeforeInput"),0<u.length&&(c=new jw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=A))}XA(d,e)})}function Ml(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Al(t,n),o!=null&&r.unshift(Ml(t,o,i)),o=Al(t,e),o!=null&&r.push(Ml(t,o,i))),t=t.return}return r}function Do(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kw(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Al(n,o),l!=null&&a.unshift(Ml(n,l,s))):i||(l=Al(n,o),l!=null&&a.push(Ml(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var NR=/\r\n?/g,OR=/\u0000|\uFFFD/g;function Jw(t){return(typeof t=="string"?t:""+t).replace(NR,`
`).replace(OR,"")}function ec(t,e,n){if(e=Jw(e),Jw(t)!==e&&n)throw Error(J(425))}function ed(){}var Im=null,Nm=null;function Om(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mm=typeof setTimeout=="function"?setTimeout:void 0,MR=typeof clearTimeout=="function"?clearTimeout:void 0,Yw=typeof Promise=="function"?Promise:void 0,RR=typeof queueMicrotask=="function"?queueMicrotask:typeof Yw<"u"?function(t){return Yw.resolve(null).then(t).catch($R)}:Mm;function $R(t){setTimeout(function(){throw t})}function pp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pl(e)}function wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ls=Math.random().toString(36).slice(2),gr="__reactFiber$"+ls,Rl="__reactProps$"+ls,Vr="__reactContainer$"+ls,Rm="__reactEvents$"+ls,jR="__reactListeners$"+ls,DR="__reactHandles$"+ls;function no(t){var e=t[gr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vr]||n[gr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xw(t);t!==null;){if(n=t[gr])return n;t=Xw(t)}return e}t=n,n=t.parentNode}return null}function ku(t){return t=t[gr]||t[Vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ta(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Of(t){return t[Rl]||null}var $m=[],na=-1;function Pi(t){return{current:t}}function rt(t){0>na||(t.current=$m[na],$m[na]=null,na--)}function Je(t,e){na++,$m[na]=t.current,t.current=e}var Ci={},Wt=Pi(Ci),un=Pi(!1),go=Ci;function ka(t,e){var n=t.type.contextTypes;if(!n)return Ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cn(t){return t=t.childContextTypes,t!=null}function td(){rt(un),rt(Wt)}function Qw(t,e,n){if(Wt.current!==Ci)throw Error(J(168));Je(Wt,e),Je(un,n)}function ZA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,xM(t)||"Unknown",i));return ft({},n,r)}function nd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ci,go=Wt.current,Je(Wt,t),Je(un,un.current),!0}function Zw(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=ZA(t,e,go),r.__reactInternalMemoizedMergedChildContext=t,rt(un),rt(Wt),Je(Wt,t)):rt(un),Je(un,n)}var Nr=null,Mf=!1,mp=!1;function eC(t){Nr===null?Nr=[t]:Nr.push(t)}function LR(t){Mf=!0,eC(t)}function Ii(){if(!mp&&Nr!==null){mp=!0;var t=0,e=Ue;try{var n=Nr;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nr=null,Mf=!1}catch(i){throw Nr!==null&&(Nr=Nr.slice(t+1)),TA(ly,Ii),i}finally{Ue=e,mp=!1}}return null}var ra=[],ia=0,rd=null,id=0,jn=[],Dn=0,vo=null,Or=1,Mr="";function Hi(t,e){ra[ia++]=id,ra[ia++]=rd,rd=t,id=e}function tC(t,e,n){jn[Dn++]=Or,jn[Dn++]=Mr,jn[Dn++]=vo,vo=t;var r=Or;t=Mr;var i=32-or(r)-1;r&=~(1<<i),n+=1;var o=32-or(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Or=1<<32-or(e)+i|n<<i|r,Mr=o+t}else Or=1<<o|n<<i|r,Mr=t}function vy(t){t.return!==null&&(Hi(t,1),tC(t,1,0))}function yy(t){for(;t===rd;)rd=ra[--ia],ra[ia]=null,id=ra[--ia],ra[ia]=null;for(;t===vo;)vo=jn[--Dn],jn[Dn]=null,Mr=jn[--Dn],jn[Dn]=null,Or=jn[--Dn],jn[Dn]=null}var En=null,Sn=null,ot=!1,rr=null;function nC(t,e){var n=Un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,Sn=wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,Sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vo!==null?{id:Or,overflow:Mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,Sn=null,!0):!1;default:return!1}}function jm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dm(t){if(ot){var e=Sn;if(e){var n=e;if(!eb(t,e)){if(jm(t))throw Error(J(418));e=wi(n.nextSibling);var r=En;e&&eb(t,e)?nC(r,n):(t.flags=t.flags&-4097|2,ot=!1,En=t)}}else{if(jm(t))throw Error(J(418));t.flags=t.flags&-4097|2,ot=!1,En=t}}}function tb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function tc(t){if(t!==En)return!1;if(!ot)return tb(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Om(t.type,t.memoizedProps)),e&&(e=Sn)){if(jm(t))throw rC(),Error(J(418));for(;e;)nC(t,e),e=wi(e.nextSibling)}if(tb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sn=wi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sn=null}}else Sn=En?wi(t.stateNode.nextSibling):null;return!0}function rC(){for(var t=Sn;t;)t=wi(t.nextSibling)}function Pa(){Sn=En=null,ot=!1}function wy(t){rr===null?rr=[t]:rr.push(t)}var UR=Jr.ReactCurrentBatchConfig;function js(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function nc(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nb(t){var e=t._init;return e(t._payload)}function iC(t){function e(w,x){if(t){var _=w.deletions;_===null?(w.deletions=[x],w.flags|=16):_.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=Si(w,x),w.index=0,w.sibling=null,w}function o(w,x,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<x?(w.flags|=2,x):_):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function s(w,x,_,T){return x===null||x.tag!==6?(x=_p(_,w.mode,T),x.return=w,x):(x=i(x,_),x.return=w,x)}function l(w,x,_,T){var S=_.type;return S===Xo?c(w,x,_.props.children,T,_.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ii&&nb(S)===x.type)?(T=i(x,_.props),T.ref=js(w,x,_),T.return=w,T):(T=Fc(_.type,_.key,_.props,null,w.mode,T),T.ref=js(w,x,_),T.return=w,T)}function u(w,x,_,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Sp(_,w.mode,T),x.return=w,x):(x=i(x,_.children||[]),x.return=w,x)}function c(w,x,_,T,S){return x===null||x.tag!==7?(x=ho(_,w.mode,T,S),x.return=w,x):(x=i(x,_),x.return=w,x)}function d(w,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=_p(""+x,w.mode,_),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gu:return _=Fc(x.type,x.key,x.props,null,w.mode,_),_.ref=js(w,null,x),_.return=w,_;case Yo:return x=Sp(x,w.mode,_),x.return=w,x;case ii:var T=x._init;return d(w,T(x._payload),_)}if(el(x)||Ns(x))return x=ho(x,w.mode,_,null),x.return=w,x;nc(w,x)}return null}function h(w,x,_,T){var S=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(w,x,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gu:return _.key===S?l(w,x,_,T):null;case Yo:return _.key===S?u(w,x,_,T):null;case ii:return S=_._init,h(w,x,S(_._payload),T)}if(el(_)||Ns(_))return S!==null?null:c(w,x,_,T,null);nc(w,_)}return null}function g(w,x,_,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return w=w.get(_)||null,s(x,w,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Gu:return w=w.get(T.key===null?_:T.key)||null,l(x,w,T,S);case Yo:return w=w.get(T.key===null?_:T.key)||null,u(x,w,T,S);case ii:var E=T._init;return g(w,x,_,E(T._payload),S)}if(el(T)||Ns(T))return w=w.get(_)||null,c(x,w,T,S,null);nc(x,T)}return null}function v(w,x,_,T){for(var S=null,E=null,A=x,C=x=0,k=null;A!==null&&C<_.length;C++){A.index>C?(k=A,A=null):k=A.sibling;var N=h(w,A,_[C],T);if(N===null){A===null&&(A=k);break}t&&A&&N.alternate===null&&e(w,A),x=o(N,x,C),E===null?S=N:E.sibling=N,E=N,A=k}if(C===_.length)return n(w,A),ot&&Hi(w,C),S;if(A===null){for(;C<_.length;C++)A=d(w,_[C],T),A!==null&&(x=o(A,x,C),E===null?S=A:E.sibling=A,E=A);return ot&&Hi(w,C),S}for(A=r(w,A);C<_.length;C++)k=g(A,w,C,_[C],T),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?C:k.key),x=o(k,x,C),E===null?S=k:E.sibling=k,E=k);return t&&A.forEach(function(O){return e(w,O)}),ot&&Hi(w,C),S}function y(w,x,_,T){var S=Ns(_);if(typeof S!="function")throw Error(J(150));if(_=S.call(_),_==null)throw Error(J(151));for(var E=S=null,A=x,C=x=0,k=null,N=_.next();A!==null&&!N.done;C++,N=_.next()){A.index>C?(k=A,A=null):k=A.sibling;var O=h(w,A,N.value,T);if(O===null){A===null&&(A=k);break}t&&A&&O.alternate===null&&e(w,A),x=o(O,x,C),E===null?S=O:E.sibling=O,E=O,A=k}if(N.done)return n(w,A),ot&&Hi(w,C),S;if(A===null){for(;!N.done;C++,N=_.next())N=d(w,N.value,T),N!==null&&(x=o(N,x,C),E===null?S=N:E.sibling=N,E=N);return ot&&Hi(w,C),S}for(A=r(w,A);!N.done;C++,N=_.next())N=g(A,w,C,N.value,T),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?C:N.key),x=o(N,x,C),E===null?S=N:E.sibling=N,E=N);return t&&A.forEach(function(R){return e(w,R)}),ot&&Hi(w,C),S}function b(w,x,_,T){if(typeof _=="object"&&_!==null&&_.type===Xo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Gu:e:{for(var S=_.key,E=x;E!==null;){if(E.key===S){if(S=_.type,S===Xo){if(E.tag===7){n(w,E.sibling),x=i(E,_.props.children),x.return=w,w=x;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ii&&nb(S)===E.type){n(w,E.sibling),x=i(E,_.props),x.ref=js(w,E,_),x.return=w,w=x;break e}n(w,E);break}else e(w,E);E=E.sibling}_.type===Xo?(x=ho(_.props.children,w.mode,T,_.key),x.return=w,w=x):(T=Fc(_.type,_.key,_.props,null,w.mode,T),T.ref=js(w,x,_),T.return=w,w=T)}return a(w);case Yo:e:{for(E=_.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(w,x.sibling),x=i(x,_.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=Sp(_,w.mode,T),x.return=w,w=x}return a(w);case ii:return E=_._init,b(w,x,E(_._payload),T)}if(el(_))return v(w,x,_,T);if(Ns(_))return y(w,x,_,T);nc(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(w,x.sibling),x=i(x,_),x.return=w,w=x):(n(w,x),x=_p(_,w.mode,T),x.return=w,w=x),a(w)):n(w,x)}return b}var Ia=iC(!0),oC=iC(!1),od=Pi(null),ad=null,oa=null,by=null;function xy(){by=oa=ad=null}function _y(t){var e=od.current;rt(od),t._currentValue=e}function Lm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ya(t,e){ad=t,by=oa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function zn(t){var e=t._currentValue;if(by!==t)if(t={context:t,memoizedValue:e,next:null},oa===null){if(ad===null)throw Error(J(308));oa=t,ad.dependencies={lanes:0,firstContext:t}}else oa=oa.next=t;return e}var ro=null;function Sy(t){ro===null?ro=[t]:ro.push(t)}function aC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Sy(e)):(n.next=i.next,i.next=n),e.interleaved=n,zr(t,r)}function zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var oi=!1;function Ey(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zr(t,n)}return i=r.interleaved,i===null?(e.next=e,Sy(r)):(e.next=i.next,i.next=e),r.interleaved=e,zr(t,n)}function $c(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uy(t,n)}}function rb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sd(t,e,n,r){var i=t.updateQueue;oi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,y=s;switch(h=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(g,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(g,d,h):v,h==null)break e;d=ft({},d,h);break e;case 2:oi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);wo|=a,t.lanes=a,t.memoizedState=d}}function ib(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var Pu={},wr=Pi(Pu),$l=Pi(Pu),jl=Pi(Pu);function io(t){if(t===Pu)throw Error(J(174));return t}function Ty(t,e){switch(Je(jl,e),Je($l,t),Je(wr,Pu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ym(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ym(e,t)}rt(wr),Je(wr,e)}function Na(){rt(wr),rt($l),rt(jl)}function lC(t){io(jl.current);var e=io(wr.current),n=ym(e,t.type);e!==n&&(Je($l,t),Je(wr,n))}function Ay(t){$l.current===t&&(rt(wr),rt($l))}var ct=Pi(0);function ld(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gp=[];function Cy(){for(var t=0;t<gp.length;t++)gp[t]._workInProgressVersionPrimary=null;gp.length=0}var jc=Jr.ReactCurrentDispatcher,vp=Jr.ReactCurrentBatchConfig,yo=0,dt=null,Tt=null,Ot=null,ud=!1,cl=!1,Dl=0,BR=0;function Ft(){throw Error(J(321))}function ky(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lr(t[n],e[n]))return!1;return!0}function Py(t,e,n,r,i,o){if(yo=o,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jc.current=t===null||t.memoizedState===null?qR:GR,t=n(r,i),cl){o=0;do{if(cl=!1,Dl=0,25<=o)throw Error(J(301));o+=1,Ot=Tt=null,e.updateQueue=null,jc.current=HR,t=n(r,i)}while(cl)}if(jc.current=cd,e=Tt!==null&&Tt.next!==null,yo=0,Ot=Tt=dt=null,ud=!1,e)throw Error(J(300));return t}function Iy(){var t=Dl!==0;return Dl=0,t}function mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?dt.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function qn(){if(Tt===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=Ot===null?dt.memoizedState:Ot.next;if(e!==null)Ot=e,Tt=t;else{if(t===null)throw Error(J(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Ot===null?dt.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Ll(t,e){return typeof e=="function"?e(t):e}function yp(t){var e=qn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Tt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((yo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,dt.lanes|=c,wo|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,lr(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,dt.lanes|=o,wo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wp(t){var e=qn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);lr(o,e.memoizedState)||(sn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function uC(){}function cC(t,e){var n=dt,r=qn(),i=e(),o=!lr(r.memoizedState,i);if(o&&(r.memoizedState=i,sn=!0),r=r.queue,Ny(hC.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,Ul(9,fC.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(J(349));yo&30||dC(n,e,i)}return i}function dC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fC(t,e,n,r){e.value=n,e.getSnapshot=r,pC(e)&&mC(t)}function hC(t,e,n){return n(function(){pC(e)&&mC(t)})}function pC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lr(t,n)}catch{return!0}}function mC(t){var e=zr(t,1);e!==null&&ar(e,t,1,-1)}function ob(t){var e=mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:t},e.queue=t,t=t.dispatch=zR.bind(null,dt,t),[e.memoizedState,t]}function Ul(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gC(){return qn().memoizedState}function Dc(t,e,n,r){var i=mr();dt.flags|=t,i.memoizedState=Ul(1|e,n,void 0,r===void 0?null:r)}function Rf(t,e,n,r){var i=qn();r=r===void 0?null:r;var o=void 0;if(Tt!==null){var a=Tt.memoizedState;if(o=a.destroy,r!==null&&ky(r,a.deps)){i.memoizedState=Ul(e,n,o,r);return}}dt.flags|=t,i.memoizedState=Ul(1|e,n,o,r)}function ab(t,e){return Dc(8390656,8,t,e)}function Ny(t,e){return Rf(2048,8,t,e)}function vC(t,e){return Rf(4,2,t,e)}function yC(t,e){return Rf(4,4,t,e)}function wC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bC(t,e,n){return n=n!=null?n.concat([t]):null,Rf(4,4,wC.bind(null,e,t),n)}function Oy(){}function xC(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ky(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _C(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ky(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SC(t,e,n){return yo&21?(lr(n,e)||(n=kA(),dt.lanes|=n,wo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function FR(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=vp.transition;vp.transition={};try{t(!1),e()}finally{Ue=n,vp.transition=r}}function EC(){return qn().memoizedState}function VR(t,e,n){var r=_i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TC(t))AC(e,n);else if(n=aC(t,e,n,r),n!==null){var i=tn();ar(n,t,r,i),CC(n,e,r)}}function zR(t,e,n){var r=_i(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TC(t))AC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,lr(s,a)){var l=e.interleaved;l===null?(i.next=i,Sy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=aC(t,e,i,r),n!==null&&(i=tn(),ar(n,t,r,i),CC(n,e,r))}}function TC(t){var e=t.alternate;return t===dt||e!==null&&e===dt}function AC(t,e){cl=ud=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uy(t,n)}}var cd={readContext:zn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},qR={readContext:zn,useCallback:function(t,e){return mr().memoizedState=[t,e===void 0?null:e],t},useContext:zn,useEffect:ab,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dc(4194308,4,wC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dc(4,2,t,e)},useMemo:function(t,e){var n=mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=VR.bind(null,dt,t),[r.memoizedState,t]},useRef:function(t){var e=mr();return t={current:t},e.memoizedState=t},useState:ob,useDebugValue:Oy,useDeferredValue:function(t){return mr().memoizedState=t},useTransition:function(){var t=ob(!1),e=t[0];return t=FR.bind(null,t[1]),mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dt,i=mr();if(ot){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Rt===null)throw Error(J(349));yo&30||dC(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,ab(hC.bind(null,r,o,t),[t]),r.flags|=2048,Ul(9,fC.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=mr(),e=Rt.identifierPrefix;if(ot){var n=Mr,r=Or;n=(r&~(1<<32-or(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GR={readContext:zn,useCallback:xC,useContext:zn,useEffect:Ny,useImperativeHandle:bC,useInsertionEffect:vC,useLayoutEffect:yC,useMemo:_C,useReducer:yp,useRef:gC,useState:function(){return yp(Ll)},useDebugValue:Oy,useDeferredValue:function(t){var e=qn();return SC(e,Tt.memoizedState,t)},useTransition:function(){var t=yp(Ll)[0],e=qn().memoizedState;return[t,e]},useMutableSource:uC,useSyncExternalStore:cC,useId:EC,unstable_isNewReconciler:!1},HR={readContext:zn,useCallback:xC,useContext:zn,useEffect:Ny,useImperativeHandle:bC,useInsertionEffect:vC,useLayoutEffect:yC,useMemo:_C,useReducer:wp,useRef:gC,useState:function(){return wp(Ll)},useDebugValue:Oy,useDeferredValue:function(t){var e=qn();return Tt===null?e.memoizedState=t:SC(e,Tt.memoizedState,t)},useTransition:function(){var t=wp(Ll)[0],e=qn().memoizedState;return[t,e]},useMutableSource:uC,useSyncExternalStore:cC,useId:EC,unstable_isNewReconciler:!1};function Qn(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Um(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $f={isMounted:function(t){return(t=t._reactInternals)?ko(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),i=_i(t),o=Dr(r,i);o.payload=e,n!=null&&(o.callback=n),e=bi(t,o,i),e!==null&&(ar(e,t,i,r),$c(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),i=_i(t),o=Dr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=bi(t,o,i),e!==null&&(ar(e,t,i,r),$c(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=_i(t),i=Dr(n,r);i.tag=2,e!=null&&(i.callback=e),e=bi(t,i,r),e!==null&&(ar(e,t,r,n),$c(e,t,r))}};function sb(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Nl(n,r)||!Nl(i,o):!0}function kC(t,e,n){var r=!1,i=Ci,o=e.contextType;return typeof o=="object"&&o!==null?o=zn(o):(i=cn(e)?go:Wt.current,r=e.contextTypes,o=(r=r!=null)?ka(t,i):Ci),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$f,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function lb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$f.enqueueReplaceState(e,e.state,null)}function Bm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ey(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=zn(o):(o=cn(e)?go:Wt.current,i.context=ka(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Um(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$f.enqueueReplaceState(i,i.state,null),sd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Oa(t,e){try{var n="",r=e;do n+=bM(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function bp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WR=typeof WeakMap=="function"?WeakMap:Map;function PC(t,e,n){n=Dr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fd||(fd=!0,Xm=r),Fm(t,e)},n}function IC(t,e,n){n=Dr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Fm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Fm(t,e),typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function ub(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=s5.bind(null,t,e,n),e.then(t,t))}function cb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function db(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dr(-1,1),e.tag=2,bi(n,e,1))),n.lanes|=1),t)}var KR=Jr.ReactCurrentOwner,sn=!1;function Yt(t,e,n,r){e.child=t===null?oC(e,null,n,r):Ia(e,t.child,n,r)}function fb(t,e,n,r,i){n=n.render;var o=e.ref;return ya(e,i),r=Py(t,e,n,r,o,i),n=Iy(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qr(t,e,i)):(ot&&n&&vy(e),e.flags|=1,Yt(t,e,r,i),e.child)}function hb(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!By(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,NC(t,e,o,r,i)):(t=Fc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Nl,n(a,r)&&t.ref===e.ref)return qr(t,e,i)}return e.flags|=1,t=Si(o,r),t.ref=e.ref,t.return=e,e.child=t}function NC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Nl(o,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,qr(t,e,i)}return Vm(t,e,n,r,i)}function OC(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(sa,vn),vn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Je(sa,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Je(sa,vn),vn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Je(sa,vn),vn|=r;return Yt(t,e,i,n),e.child}function MC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vm(t,e,n,r,i){var o=cn(n)?go:Wt.current;return o=ka(e,o),ya(e,i),n=Py(t,e,n,r,o,i),r=Iy(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qr(t,e,i)):(ot&&r&&vy(e),e.flags|=1,Yt(t,e,n,i),e.child)}function pb(t,e,n,r,i){if(cn(n)){var o=!0;nd(e)}else o=!1;if(ya(e,i),e.stateNode===null)Lc(t,e),kC(e,n,r),Bm(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=zn(u):(u=cn(n)?go:Wt.current,u=ka(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&lb(e,a,r,u),oi=!1;var h=e.memoizedState;a.state=h,sd(e,r,a,i),l=e.memoizedState,s!==r||h!==l||un.current||oi?(typeof c=="function"&&(Um(e,n,c,r),l=e.memoizedState),(s=oi||sb(e,n,s,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,sC(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Qn(e.type,s),a.props=u,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=zn(l):(l=cn(n)?go:Wt.current,l=ka(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&lb(e,a,r,l),oi=!1,h=e.memoizedState,a.state=h,sd(e,r,a,i);var v=e.memoizedState;s!==d||h!==v||un.current||oi?(typeof g=="function"&&(Um(e,n,g,r),v=e.memoizedState),(u=oi||sb(e,n,u,r,h,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return zm(t,e,n,r,o,i)}function zm(t,e,n,r,i,o){MC(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Zw(e,n,!1),qr(t,e,o);r=e.stateNode,KR.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ia(e,t.child,null,o),e.child=Ia(e,null,s,o)):Yt(t,e,s,o),e.memoizedState=r.state,i&&Zw(e,n,!0),e.child}function RC(t){var e=t.stateNode;e.pendingContext?Qw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qw(t,e.context,!1),Ty(t,e.containerInfo)}function mb(t,e,n,r,i){return Pa(),wy(i),e.flags|=256,Yt(t,e,n,r),e.child}var qm={dehydrated:null,treeContext:null,retryLane:0};function Gm(t){return{baseLanes:t,cachePool:null,transitions:null}}function $C(t,e,n){var r=e.pendingProps,i=ct.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Je(ct,i&1),t===null)return Dm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Lf(a,r,0,null),t=ho(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Gm(n),e.memoizedState=qm,t):My(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return JR(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Si(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Si(s,o):(o=ho(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Gm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=qm,r}return o=t.child,t=o.sibling,r=Si(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function My(t,e){return e=Lf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rc(t,e,n,r){return r!==null&&wy(r),Ia(e,t.child,null,n),t=My(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JR(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=bp(Error(J(422))),rc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Lf({mode:"visible",children:r.children},i,0,null),o=ho(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ia(e,t.child,null,a),e.child.memoizedState=Gm(a),e.memoizedState=qm,o);if(!(e.mode&1))return rc(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(J(419)),r=bp(o,r,void 0),rc(t,e,a,r)}if(s=(a&t.childLanes)!==0,sn||s){if(r=Rt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,zr(t,i),ar(r,t,i,-1))}return Uy(),r=bp(Error(J(421))),rc(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=l5.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Sn=wi(i.nextSibling),En=e,ot=!0,rr=null,t!==null&&(jn[Dn++]=Or,jn[Dn++]=Mr,jn[Dn++]=vo,Or=t.id,Mr=t.overflow,vo=e),e=My(e,r.children),e.flags|=4096,e)}function gb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lm(t.return,e,n)}function xp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function jC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Yt(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gb(t,n,e);else if(t.tag===19)gb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Je(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ld(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ld(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xp(e,!0,n,null,o);break;case"together":xp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function YR(t,e,n){switch(e.tag){case 3:RC(e),Pa();break;case 5:lC(e);break;case 1:cn(e.type)&&nd(e);break;case 4:Ty(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Je(od,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Je(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?$C(t,e,n):(Je(ct,ct.current&1),t=qr(t,e,n),t!==null?t.sibling:null);Je(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Je(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,OC(t,e,n)}return qr(t,e,n)}var DC,Hm,LC,UC;DC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hm=function(){};LC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,io(wr.current);var o=null;switch(n){case"input":i=pm(t,i),r=pm(t,r),o=[];break;case"select":i=ft({},i,{value:void 0}),r=ft({},r,{value:void 0}),o=[];break;case"textarea":i=vm(t,i),r=vm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ed)}wm(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(El.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(El.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ze("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};UC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ds(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XR(t,e,n){var r=e.pendingProps;switch(yy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return cn(e.type)&&td(),Vt(e),null;case 3:return r=e.stateNode,Na(),rt(un),rt(Wt),Cy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rr!==null&&(eg(rr),rr=null))),Hm(t,e),Vt(e),null;case 5:Ay(e);var i=io(jl.current);if(n=e.type,t!==null&&e.stateNode!=null)LC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Vt(e),null}if(t=io(wr.current),tc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[gr]=e,r[Rl]=o,t=(e.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(i=0;i<nl.length;i++)Ze(nl[i],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":Tw(r,o),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ze("invalid",r);break;case"textarea":Cw(r,o),Ze("invalid",r)}wm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&ec(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&ec(r.textContent,s,t),i=["children",""+s]):El.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ze("scroll",r)}switch(n){case"input":Hu(r),Aw(r,o,!0);break;case"textarea":Hu(r),kw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ed)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[gr]=e,t[Rl]=r,DC(t,e,!1,!1),e.stateNode=t;e:{switch(a=bm(n,r),n){case"dialog":Ze("cancel",t),Ze("close",t),i=r;break;case"iframe":case"object":case"embed":Ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<nl.length;i++)Ze(nl[i],t);i=r;break;case"source":Ze("error",t),i=r;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),i=r;break;case"details":Ze("toggle",t),i=r;break;case"input":Tw(t,r),i=pm(t,r),Ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ft({},r,{value:void 0}),Ze("invalid",t);break;case"textarea":Cw(t,r),i=vm(t,r),Ze("invalid",t);break;default:i=r}wm(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?gA(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pA(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Tl(t,l):typeof l=="number"&&Tl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(El.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ze("scroll",t):l!=null&&ry(t,o,l,a))}switch(n){case"input":Hu(t),Aw(t,r,!1);break;case"textarea":Hu(t),kw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ai(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?pa(t,!!r.multiple,o,!1):r.defaultValue!=null&&pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ed)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)UC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=io(jl.current),io(wr.current),tc(e)){if(r=e.stateNode,n=e.memoizedProps,r[gr]=e,(o=r.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:ec(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ec(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gr]=e,e.stateNode=r}return Vt(e),null;case 13:if(rt(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&Sn!==null&&e.mode&1&&!(e.flags&128))rC(),Pa(),e.flags|=98560,o=!1;else if(o=tc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[gr]=e}else Pa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),o=!1}else rr!==null&&(eg(rr),rr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Ct===0&&(Ct=3):Uy())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return Na(),Hm(t,e),t===null&&Ol(e.stateNode.containerInfo),Vt(e),null;case 10:return _y(e.type._context),Vt(e),null;case 17:return cn(e.type)&&td(),Vt(e),null;case 19:if(rt(ct),o=e.memoizedState,o===null)return Vt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Ds(o,!1);else{if(Ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ld(t),a!==null){for(e.flags|=128,Ds(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Je(ct,ct.current&1|2),e.child}t=t.sibling}o.tail!==null&&gt()>Ma&&(e.flags|=128,r=!0,Ds(o,!1),e.lanes=4194304)}else{if(!r)if(t=ld(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ds(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ot)return Vt(e),null}else 2*gt()-o.renderingStartTime>Ma&&n!==1073741824&&(e.flags|=128,r=!0,Ds(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=gt(),e.sibling=null,n=ct.current,Je(ct,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return Ly(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function QR(t,e){switch(yy(e),e.tag){case 1:return cn(e.type)&&td(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Na(),rt(un),rt(Wt),Cy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ay(e),null;case 13:if(rt(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Pa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rt(ct),null;case 4:return Na(),null;case 10:return _y(e.type._context),null;case 22:case 23:return Ly(),null;case 24:return null;default:return null}}var ic=!1,qt=!1,ZR=typeof WeakSet=="function"?WeakSet:Set,oe=null;function aa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,e,r)}else n.current=null}function Wm(t,e,n){try{n()}catch(r){pt(t,e,r)}}var vb=!1;function e5(t,e){if(Im=Xc,t=qA(),gy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nm={focusedElem:t,selectionRange:n},Xc=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:Qn(e.type,y),b);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(T){pt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return v=vb,vb=!1,v}function dl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Wm(e,n,o)}i=i.next}while(i!==r)}}function jf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Km(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function BC(t){var e=t.alternate;e!==null&&(t.alternate=null,BC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gr],delete e[Rl],delete e[Rm],delete e[jR],delete e[DR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function FC(t){return t.tag===5||t.tag===3||t.tag===4}function yb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ed));else if(r!==4&&(t=t.child,t!==null))for(Jm(t,e,n),t=t.sibling;t!==null;)Jm(t,e,n),t=t.sibling}function Ym(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ym(t,e,n),t=t.sibling;t!==null;)Ym(t,e,n),t=t.sibling}var Lt=null,er=!1;function ni(t,e,n){for(n=n.child;n!==null;)VC(t,e,n),n=n.sibling}function VC(t,e,n){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(kf,n)}catch{}switch(n.tag){case 5:qt||aa(n,e);case 6:var r=Lt,i=er;Lt=null,ni(t,e,n),Lt=r,er=i,Lt!==null&&(er?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(er?(t=Lt,n=n.stateNode,t.nodeType===8?pp(t.parentNode,n):t.nodeType===1&&pp(t,n),Pl(t)):pp(Lt,n.stateNode));break;case 4:r=Lt,i=er,Lt=n.stateNode.containerInfo,er=!0,ni(t,e,n),Lt=r,er=i;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Wm(n,e,a),i=i.next}while(i!==r)}ni(t,e,n);break;case 1:if(!qt&&(aa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){pt(n,e,s)}ni(t,e,n);break;case 21:ni(t,e,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,ni(t,e,n),qt=r):ni(t,e,n);break;default:ni(t,e,n)}}function wb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ZR),e.forEach(function(r){var i=u5.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Lt=s.stateNode,er=!1;break e;case 3:Lt=s.stateNode.containerInfo,er=!0;break e;case 4:Lt=s.stateNode.containerInfo,er=!0;break e}s=s.return}if(Lt===null)throw Error(J(160));VC(o,a,i),Lt=null,er=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){pt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zC(e,t),e=e.sibling}function zC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jn(e,t),hr(t),r&4){try{dl(3,t,t.return),jf(3,t)}catch(y){pt(t,t.return,y)}try{dl(5,t,t.return)}catch(y){pt(t,t.return,y)}}break;case 1:Jn(e,t),hr(t),r&512&&n!==null&&aa(n,n.return);break;case 5:if(Jn(e,t),hr(t),r&512&&n!==null&&aa(n,n.return),t.flags&32){var i=t.stateNode;try{Tl(i,"")}catch(y){pt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&dA(i,o),bm(s,a);var u=bm(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?gA(i,d):c==="dangerouslySetInnerHTML"?pA(i,d):c==="children"?Tl(i,d):ry(i,c,d,u)}switch(s){case"input":mm(i,o);break;case"textarea":fA(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?pa(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?pa(i,!!o.multiple,o.defaultValue,!0):pa(i,!!o.multiple,o.multiple?[]:"",!1))}i[Rl]=o}catch(y){pt(t,t.return,y)}}break;case 6:if(Jn(e,t),hr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){pt(t,t.return,y)}}break;case 3:if(Jn(e,t),hr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(e.containerInfo)}catch(y){pt(t,t.return,y)}break;case 4:Jn(e,t),hr(t);break;case 13:Jn(e,t),hr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(jy=gt())),r&4&&wb(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(qt=(u=qt)||c,Jn(e,t),qt=u):Jn(e,t),hr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(d=oe=c;oe!==null;){switch(h=oe,g=h.child,h.tag){case 0:case 11:case 14:case 15:dl(4,h,h.return);break;case 1:aa(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){pt(r,n,y)}}break;case 5:aa(h,h.return);break;case 22:if(h.memoizedState!==null){xb(d);continue}}g!==null?(g.return=h,oe=g):xb(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=mA("display",a))}catch(y){pt(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){pt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Jn(e,t),hr(t),r&4&&wb(t);break;case 21:break;default:Jn(e,t),hr(t)}}function hr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(FC(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tl(i,""),r.flags&=-33);var o=yb(t);Ym(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=yb(t);Jm(t,s,a);break;default:throw Error(J(161))}}catch(l){pt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function t5(t,e,n){oe=t,qC(t)}function qC(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ic;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||qt;s=ic;var u=qt;if(ic=a,(qt=l)&&!u)for(oe=i;oe!==null;)a=oe,l=a.child,a.tag===22&&a.memoizedState!==null?_b(i):l!==null?(l.return=a,oe=l):_b(i);for(;o!==null;)oe=o,qC(o),o=o.sibling;oe=i,ic=s,qt=u}bb(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):bb(t)}}function bb(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||jf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Qn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&ib(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ib(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Pl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}qt||e.flags&512&&Km(e)}catch(h){pt(e,e.return,h)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function xb(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function _b(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jf(4,e)}catch(l){pt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){pt(e,i,l)}}var o=e.return;try{Km(e)}catch(l){pt(e,o,l)}break;case 5:var a=e.return;try{Km(e)}catch(l){pt(e,a,l)}}}catch(l){pt(e,e.return,l)}if(e===t){oe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,oe=s;break}oe=e.return}}var n5=Math.ceil,dd=Jr.ReactCurrentDispatcher,Ry=Jr.ReactCurrentOwner,Fn=Jr.ReactCurrentBatchConfig,Pe=0,Rt=null,wt=null,Ut=0,vn=0,sa=Pi(0),Ct=0,Bl=null,wo=0,Df=0,$y=0,fl=null,an=null,jy=0,Ma=1/0,kr=null,fd=!1,Xm=null,xi=null,oc=!1,hi=null,hd=0,hl=0,Qm=null,Uc=-1,Bc=0;function tn(){return Pe&6?gt():Uc!==-1?Uc:Uc=gt()}function _i(t){return t.mode&1?Pe&2&&Ut!==0?Ut&-Ut:UR.transition!==null?(Bc===0&&(Bc=kA()),Bc):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:$A(t.type)),t):1}function ar(t,e,n,r){if(50<hl)throw hl=0,Qm=null,Error(J(185));Au(t,n,r),(!(Pe&2)||t!==Rt)&&(t===Rt&&(!(Pe&2)&&(Df|=n),Ct===4&&ui(t,Ut)),dn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Ma=gt()+500,Mf&&Ii()))}function dn(t,e){var n=t.callbackNode;UM(t,e);var r=Yc(t,t===Rt?Ut:0);if(r===0)n!==null&&Nw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nw(n),e===1)t.tag===0?LR(Sb.bind(null,t)):eC(Sb.bind(null,t)),RR(function(){!(Pe&6)&&Ii()}),n=null;else{switch(PA(r)){case 1:n=ly;break;case 4:n=AA;break;case 16:n=Jc;break;case 536870912:n=CA;break;default:n=Jc}n=QC(n,GC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GC(t,e){if(Uc=-1,Bc=0,Pe&6)throw Error(J(327));var n=t.callbackNode;if(wa()&&t.callbackNode!==n)return null;var r=Yc(t,t===Rt?Ut:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pd(t,r);else{e=r;var i=Pe;Pe|=2;var o=WC();(Rt!==t||Ut!==e)&&(kr=null,Ma=gt()+500,fo(t,e));do try{o5();break}catch(s){HC(t,s)}while(!0);xy(),dd.current=o,Pe=i,wt!==null?e=0:(Rt=null,Ut=0,e=Ct)}if(e!==0){if(e===2&&(i=Tm(t),i!==0&&(r=i,e=Zm(t,i))),e===1)throw n=Bl,fo(t,0),ui(t,r),dn(t,gt()),n;if(e===6)ui(t,r);else{if(i=t.current.alternate,!(r&30)&&!r5(i)&&(e=pd(t,r),e===2&&(o=Tm(t),o!==0&&(r=o,e=Zm(t,o))),e===1))throw n=Bl,fo(t,0),ui(t,r),dn(t,gt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Wi(t,an,kr);break;case 3:if(ui(t,r),(r&130023424)===r&&(e=jy+500-gt(),10<e)){if(Yc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Mm(Wi.bind(null,t,an,kr),e);break}Wi(t,an,kr);break;case 4:if(ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-or(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*n5(r/1960))-r,10<r){t.timeoutHandle=Mm(Wi.bind(null,t,an,kr),r);break}Wi(t,an,kr);break;case 5:Wi(t,an,kr);break;default:throw Error(J(329))}}}return dn(t,gt()),t.callbackNode===n?GC.bind(null,t):null}function Zm(t,e){var n=fl;return t.current.memoizedState.isDehydrated&&(fo(t,e).flags|=256),t=pd(t,e),t!==2&&(e=an,an=n,e!==null&&eg(e)),t}function eg(t){an===null?an=t:an.push.apply(an,t)}function r5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!lr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ui(t,e){for(e&=~$y,e&=~Df,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-or(e),r=1<<n;t[n]=-1,e&=~r}}function Sb(t){if(Pe&6)throw Error(J(327));wa();var e=Yc(t,0);if(!(e&1))return dn(t,gt()),null;var n=pd(t,e);if(t.tag!==0&&n===2){var r=Tm(t);r!==0&&(e=r,n=Zm(t,r))}if(n===1)throw n=Bl,fo(t,0),ui(t,e),dn(t,gt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wi(t,an,kr),dn(t,gt()),null}function Dy(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Ma=gt()+500,Mf&&Ii())}}function bo(t){hi!==null&&hi.tag===0&&!(Pe&6)&&wa();var e=Pe;Pe|=1;var n=Fn.transition,r=Ue;try{if(Fn.transition=null,Ue=1,t)return t()}finally{Ue=r,Fn.transition=n,Pe=e,!(Pe&6)&&Ii()}}function Ly(){vn=sa.current,rt(sa)}function fo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MR(n)),wt!==null)for(n=wt.return;n!==null;){var r=n;switch(yy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&td();break;case 3:Na(),rt(un),rt(Wt),Cy();break;case 5:Ay(r);break;case 4:Na();break;case 13:rt(ct);break;case 19:rt(ct);break;case 10:_y(r.type._context);break;case 22:case 23:Ly()}n=n.return}if(Rt=t,wt=t=Si(t.current,null),Ut=vn=e,Ct=0,Bl=null,$y=Df=wo=0,an=fl=null,ro!==null){for(e=0;e<ro.length;e++)if(n=ro[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ro=null}return t}function HC(t,e){do{var n=wt;try{if(xy(),jc.current=cd,ud){for(var r=dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ud=!1}if(yo=0,Ot=Tt=dt=null,cl=!1,Dl=0,Ry.current=null,n===null||n.return===null){Ct=1,Bl=e,wt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Ut,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=cb(a);if(g!==null){g.flags&=-257,db(g,a,s,o,e),g.mode&1&&ub(o,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){ub(o,u,e),Uy();break e}l=Error(J(426))}}else if(ot&&s.mode&1){var b=cb(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),db(b,a,s,o,e),wy(Oa(l,s));break e}}o=l=Oa(l,s),Ct!==4&&(Ct=2),fl===null?fl=[o]:fl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=PC(o,l,e);rb(o,w);break e;case 1:s=l;var x=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(xi===null||!xi.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=IC(o,s,e);rb(o,T);break e}}o=o.return}while(o!==null)}JC(n)}catch(S){e=S,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(!0)}function WC(){var t=dd.current;return dd.current=cd,t===null?cd:t}function Uy(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Rt===null||!(wo&268435455)&&!(Df&268435455)||ui(Rt,Ut)}function pd(t,e){var n=Pe;Pe|=2;var r=WC();(Rt!==t||Ut!==e)&&(kr=null,fo(t,e));do try{i5();break}catch(i){HC(t,i)}while(!0);if(xy(),Pe=n,dd.current=r,wt!==null)throw Error(J(261));return Rt=null,Ut=0,Ct}function i5(){for(;wt!==null;)KC(wt)}function o5(){for(;wt!==null&&!IM();)KC(wt)}function KC(t){var e=XC(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?JC(t):wt=e,Ry.current=null}function JC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QR(n,e),n!==null){n.flags&=32767,wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,wt=null;return}}else if(n=XR(n,e,vn),n!==null){wt=n;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);Ct===0&&(Ct=5)}function Wi(t,e,n){var r=Ue,i=Fn.transition;try{Fn.transition=null,Ue=1,a5(t,e,n,r)}finally{Fn.transition=i,Ue=r}return null}function a5(t,e,n,r){do wa();while(hi!==null);if(Pe&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(BM(t,o),t===Rt&&(wt=Rt=null,Ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oc||(oc=!0,QC(Jc,function(){return wa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Fn.transition,Fn.transition=null;var a=Ue;Ue=1;var s=Pe;Pe|=4,Ry.current=null,e5(t,n),zC(n,t),AR(Nm),Xc=!!Im,Nm=Im=null,t.current=n,t5(n),NM(),Pe=s,Ue=a,Fn.transition=o}else t.current=n;if(oc&&(oc=!1,hi=t,hd=i),o=t.pendingLanes,o===0&&(xi=null),RM(n.stateNode),dn(t,gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fd)throw fd=!1,t=Xm,Xm=null,t;return hd&1&&t.tag!==0&&wa(),o=t.pendingLanes,o&1?t===Qm?hl++:(hl=0,Qm=t):hl=0,Ii(),null}function wa(){if(hi!==null){var t=PA(hd),e=Fn.transition,n=Ue;try{if(Fn.transition=null,Ue=16>t?16:t,hi===null)var r=!1;else{if(t=hi,hi=null,hd=0,Pe&6)throw Error(J(331));var i=Pe;for(Pe|=4,oe=t.current;oe!==null;){var o=oe,a=o.child;if(oe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(oe=u;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:dl(8,c,o)}var d=c.child;if(d!==null)d.return=c,oe=d;else for(;oe!==null;){c=oe;var h=c.sibling,g=c.return;if(BC(c),c===u){oe=null;break}if(h!==null){h.return=g,oe=h;break}oe=g}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}oe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,oe=a;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:dl(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,oe=w;break e}oe=o.return}}var x=t.current;for(oe=x;oe!==null;){a=oe;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,oe=_;else e:for(a=x;oe!==null;){if(s=oe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:jf(9,s)}}catch(S){pt(s,s.return,S)}if(s===a){oe=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,oe=T;break e}oe=s.return}}if(Pe=i,Ii(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(kf,t)}catch{}r=!0}return r}finally{Ue=n,Fn.transition=e}}return!1}function Eb(t,e,n){e=Oa(n,e),e=PC(t,e,1),t=bi(t,e,1),e=tn(),t!==null&&(Au(t,1,e),dn(t,e))}function pt(t,e,n){if(t.tag===3)Eb(t,t,n);else for(;e!==null;){if(e.tag===3){Eb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r))){t=Oa(n,t),t=IC(e,t,1),e=bi(e,t,1),t=tn(),e!==null&&(Au(e,1,t),dn(e,t));break}}e=e.return}}function s5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Ut&n)===n&&(Ct===4||Ct===3&&(Ut&130023424)===Ut&&500>gt()-jy?fo(t,0):$y|=n),dn(t,e)}function YC(t,e){e===0&&(t.mode&1?(e=Ju,Ju<<=1,!(Ju&130023424)&&(Ju=4194304)):e=1);var n=tn();t=zr(t,e),t!==null&&(Au(t,e,n),dn(t,n))}function l5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),YC(t,n)}function u5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),YC(t,n)}var XC;XC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,YR(t,e,n);sn=!!(t.flags&131072)}else sn=!1,ot&&e.flags&1048576&&tC(e,id,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Lc(t,e),t=e.pendingProps;var i=ka(e,Wt.current);ya(e,n),i=Py(null,e,r,t,i,n);var o=Iy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(o=!0,nd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ey(e),i.updater=$f,e.stateNode=i,i._reactInternals=e,Bm(e,r,t,n),e=zm(null,e,r,!0,o,n)):(e.tag=0,ot&&o&&vy(e),Yt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Lc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=d5(r),t=Qn(r,t),i){case 0:e=Vm(null,e,r,t,n);break e;case 1:e=pb(null,e,r,t,n);break e;case 11:e=fb(null,e,r,t,n);break e;case 14:e=hb(null,e,r,Qn(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),Vm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),pb(t,e,r,i,n);case 3:e:{if(RC(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,sC(t,e),sd(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Oa(Error(J(423)),e),e=mb(t,e,r,n,i);break e}else if(r!==i){i=Oa(Error(J(424)),e),e=mb(t,e,r,n,i);break e}else for(Sn=wi(e.stateNode.containerInfo.firstChild),En=e,ot=!0,rr=null,n=oC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pa(),r===i){e=qr(t,e,n);break e}Yt(t,e,r,n)}e=e.child}return e;case 5:return lC(e),t===null&&Dm(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Om(r,i)?a=null:o!==null&&Om(r,o)&&(e.flags|=32),MC(t,e),Yt(t,e,a,n),e.child;case 6:return t===null&&Dm(e),null;case 13:return $C(t,e,n);case 4:return Ty(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ia(e,null,r,n):Yt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),fb(t,e,r,i,n);case 7:return Yt(t,e,e.pendingProps,n),e.child;case 8:return Yt(t,e,e.pendingProps.children,n),e.child;case 12:return Yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Je(od,r._currentValue),r._currentValue=a,o!==null)if(lr(o.value,a)){if(o.children===i.children&&!un.current){e=qr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Dr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lm(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Lm(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Yt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ya(e,n),i=zn(i),r=r(i),e.flags|=1,Yt(t,e,r,n),e.child;case 14:return r=e.type,i=Qn(r,e.pendingProps),i=Qn(r.type,i),hb(t,e,r,i,n);case 15:return NC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),Lc(t,e),e.tag=1,cn(r)?(t=!0,nd(e)):t=!1,ya(e,n),kC(e,r,i),Bm(e,r,i,n),zm(null,e,r,!0,t,n);case 19:return jC(t,e,n);case 22:return OC(t,e,n)}throw Error(J(156,e.tag))};function QC(t,e){return TA(t,e)}function c5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,n,r){return new c5(t,e,n,r)}function By(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d5(t){if(typeof t=="function")return By(t)?1:0;if(t!=null){if(t=t.$$typeof,t===oy)return 11;if(t===ay)return 14}return 2}function Si(t,e){var n=t.alternate;return n===null?(n=Un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fc(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")By(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Xo:return ho(n.children,i,o,e);case iy:a=8,i|=8;break;case cm:return t=Un(12,n,e,i|2),t.elementType=cm,t.lanes=o,t;case dm:return t=Un(13,n,e,i),t.elementType=dm,t.lanes=o,t;case fm:return t=Un(19,n,e,i),t.elementType=fm,t.lanes=o,t;case lA:return Lf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aA:a=10;break e;case sA:a=9;break e;case oy:a=11;break e;case ay:a=14;break e;case ii:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Un(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ho(t,e,n,r){return t=Un(7,t,r,e),t.lanes=n,t}function Lf(t,e,n,r){return t=Un(22,t,r,e),t.elementType=lA,t.lanes=n,t.stateNode={isHidden:!1},t}function _p(t,e,n){return t=Un(6,t,null,e),t.lanes=n,t}function Sp(t,e,n){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function f5(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rp(0),this.expirationTimes=rp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fy(t,e,n,r,i,o,a,s,l){return t=new f5(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Un(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ey(o),t}function h5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZC(t){if(!t)return Ci;t=t._reactInternals;e:{if(ko(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(cn(n))return ZA(t,n,e)}return e}function ek(t,e,n,r,i,o,a,s,l){return t=Fy(n,r,!0,t,i,o,a,s,l),t.context=ZC(null),n=t.current,r=tn(),i=_i(n),o=Dr(r,i),o.callback=e??null,bi(n,o,i),t.current.lanes=i,Au(t,i,r),dn(t,r),t}function Uf(t,e,n,r){var i=e.current,o=tn(),a=_i(i);return n=ZC(n),e.context===null?e.context=n:e.pendingContext=n,e=Dr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bi(i,e,a),t!==null&&(ar(t,i,a,o),$c(t,i,a)),a}function md(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vy(t,e){Tb(t,e),(t=t.alternate)&&Tb(t,e)}function p5(){return null}var tk=typeof reportError=="function"?reportError:function(t){console.error(t)};function zy(t){this._internalRoot=t}Bf.prototype.render=zy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Uf(t,e,null,null)};Bf.prototype.unmount=zy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bo(function(){Uf(null,t,null,null)}),e[Vr]=null}};function Bf(t){this._internalRoot=t}Bf.prototype.unstable_scheduleHydration=function(t){if(t){var e=OA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<li.length&&e!==0&&e<li[n].priority;n++);li.splice(n,0,t),n===0&&RA(t)}};function qy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ff(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ab(){}function m5(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=md(a);o.call(u)}}var a=ek(e,r,t,0,null,!1,!1,"",Ab);return t._reactRootContainer=a,t[Vr]=a.current,Ol(t.nodeType===8?t.parentNode:t),bo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=md(l);s.call(u)}}var l=Fy(t,0,!1,null,null,!1,!1,"",Ab);return t._reactRootContainer=l,t[Vr]=l.current,Ol(t.nodeType===8?t.parentNode:t),bo(function(){Uf(e,l,n,r)}),l}function Vf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=md(a);s.call(l)}}Uf(e,a,t,i)}else a=m5(n,e,t,i,r);return md(a)}IA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=tl(e.pendingLanes);n!==0&&(uy(e,n|1),dn(e,gt()),!(Pe&6)&&(Ma=gt()+500,Ii()))}break;case 13:bo(function(){var r=zr(t,1);if(r!==null){var i=tn();ar(r,t,1,i)}}),Vy(t,1)}};cy=function(t){if(t.tag===13){var e=zr(t,134217728);if(e!==null){var n=tn();ar(e,t,134217728,n)}Vy(t,134217728)}};NA=function(t){if(t.tag===13){var e=_i(t),n=zr(t,e);if(n!==null){var r=tn();ar(n,t,e,r)}Vy(t,e)}};OA=function(){return Ue};MA=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};_m=function(t,e,n){switch(e){case"input":if(mm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Of(r);if(!i)throw Error(J(90));cA(r),mm(r,i)}}}break;case"textarea":fA(t,n);break;case"select":e=n.value,e!=null&&pa(t,!!n.multiple,e,!1)}};wA=Dy;bA=bo;var g5={usingClientEntryPoint:!1,Events:[ku,ta,Of,vA,yA,Dy]},Ls={findFiberByHostInstance:no,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v5={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=SA(t),t===null?null:t.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||p5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{kf=ac.inject(v5),yr=ac}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g5;kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qy(e))throw Error(J(200));return h5(t,e,null,n)};kn.createRoot=function(t,e){if(!qy(t))throw Error(J(299));var n=!1,r="",i=tk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fy(t,1,!1,null,null,n,!1,r,i),t[Vr]=e.current,Ol(t.nodeType===8?t.parentNode:t),new zy(e)};kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=SA(e),t=t===null?null:t.stateNode,t};kn.flushSync=function(t){return bo(t)};kn.hydrate=function(t,e,n){if(!Ff(e))throw Error(J(200));return Vf(null,t,e,!0,n)};kn.hydrateRoot=function(t,e,n){if(!qy(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=tk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=ek(e,null,t,1,n??null,i,!1,o,a),t[Vr]=e.current,Ol(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Bf(e)};kn.render=function(t,e,n){if(!Ff(e))throw Error(J(200));return Vf(null,t,e,!1,n)};kn.unmountComponentAtNode=function(t){if(!Ff(t))throw Error(J(40));return t._reactRootContainer?(bo(function(){Vf(null,null,t,!1,function(){t._reactRootContainer=null,t[Vr]=null})}),!0):!1};kn.unstable_batchedUpdates=Dy;kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ff(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Vf(t,e,n,!1,r)};kn.version="18.3.1-next-f1338f8080-20240426";function nk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nk)}catch(t){console.error(t)}}nk(),nA.exports=kn;var y5=nA.exports,Cb=y5;lm.createRoot=Cb.createRoot,lm.hydrateRoot=Cb.hydrateRoot;var ce=(t=>(t.Admin="Admin",t.Manager="Manager",t.Cashier="Cashier",t.Viewer="Viewer",t))(ce||{});const rk=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),ik=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})}),ok=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962c.513-.96 1.487-1.591 2.571-1.591h1.69c1.084 0 2.058.631 2.571 1.591m-1.5-4.87c.966-.054 1.932.026 2.867.231m-8.686.461a9.083 9.083 0 01-2.233-1.527m-5.145-2.747a6.75 6.75 0 01-1.025-2.185m-2.522-3.238a6.75 6.75 0 00-1.025 2.185m8.686 4.61a9.083 9.083 0 01-2.233 1.527m5.145 2.747a6.75 6.75 0 001.025 2.185m2.522 3.238a6.75 6.75 0 011.025-2.185m-8.686-4.61a9.083 9.083 0 002.233-1.527m-5.145-2.747a6.75 6.75 0 01-1.025-2.185m-2.522-3.238a6.75 6.75 0 00-1.025 2.185"})}),ak=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.003c0 1.113.285 2.16.786 3.07M15 19.128c.331.149.661.296.992.443m-7.007-4.668a2.25 2.25 0 01-.02-3.956 2.25 2.25 0 013.976.02 2.25 2.25 0 01-.02 3.956 2.25 2.25 0 01-3.976-.02zM12 15.75l-4.243 4.243M12 15.75l4.243 4.243m-8.486-4.243L12 15.75l-4.243-4.243m4.243-4.243L12 11.25l-4.243 4.243M12 3v.01M16.5 4.5l.01.01M21 8.25v.01M21 12v.01M21 15.75v.01M16.5 19.5l.01.01M12 21v.01M7.5 19.5l-.01.01M3 15.75v.01M3 12v.01M3 8.25v.01M7.5 4.5l-.01.01"})}),w5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-1.007 1.11-1.226.55-.22 1.156-.169 1.664.13a4.902 4.902 0 012.016 3.033h.003c.184 1.487.054 3.023-.384 4.484.09.09.182.178.27.264.47.442.823.979 1.05 1.58.227.602.268 1.25.122 1.867-.146.617-.458 1.18-.9 1.637a4.902 4.902 0 01-6.108 2.368c-1.897-.732-3.56-2.22-4.32-4.13a4.893 4.893 0 01.164-5.32c.532-.733 1.28-1.343 2.146-1.757.513-.246 1.06-.401 1.617-.464.089-.006.177-.013.266-.02zM12 9a3 3 0 100 6 3 3 0 000-6z"})}),kb=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125v-12.75a1.125 1.125 0 011.125-1.125h17.25a1.125 1.125 0 011.125 1.125v12.75a1.125 1.125 0 01-1.125 1.125m-17.25 0h.009v.008h-.009v-.008zm1.688 0h.009v.008h-.009v-.008zm1.687 0h.009v.008h-.009v-.008zm1.688 0h.009v.008h-.009v-.008zm1.687 0h.009v.008h-.009v-.008zM8.25 6h7.5M8.25 9h7.5m-7.5 3h7.5"})}),sk=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c.51 0 .962-.343 1.087-.835l1.823-6.423a.75.75 0 00-.674-.928H5.216c-.464 0-.893.261-.928.704L3.63 10.25l-1.38-4.853A.75.75 0 001.5 5.25H2.25"})}),b5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.516.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})}),x5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125v-4.25m16 4.25a1.5 1.5 0 003 0m-3 0a1.5 1.5 0 01-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})}),lk=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})}),_5=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.593l6.002-4.591c.828-.426.828-1.506 0-1.932l-6.002-4.591a2.02 2.02 0 00-1.607-.24L9.568 3z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),S5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})}),E5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"})}),T5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A11.953 11.953 0 0012 10.5c-2.998 0-5.74-1.1-7.843-2.918"})}),A5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008H12v-.008z"})}),C5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),k5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),P5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),I5=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 013.75 9.375v-4.5zM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 01-1.125-1.125v-4.5zM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0113.5 9.375v-4.5z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 15.375a.75.75 0 01.75-.75h4.5a.75.75 0 010 1.5h-4.5a.75.75 0 01-.75-.75zM13.5 18.375a.75.75 0 01.75-.75h4.5a.75.75 0 010 1.5h-4.5a.75.75 0 01-.75-.75z"})]}),N5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 017.424 0M5.136 11.886c3.87-3.87 10.154-3.87 14.024 0M19.5 18a.75.75 0 100-1.5.75.75 0 000 1.5z"})}),O5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 004.5 4.5H18a3.75 3.75 0 001.332-7.257 3 3 0 00-2.357-5.022 3.75 3.75 0 00-6.502-2.327 4.5 4.5 0 00-9 5.25z"})}),M5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),uk=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Po={ChartBarIcon:rk,CubeIcon:ik,UserGroupIcon:ok,UsersIcon:ak,ShoppingCartIcon:sk,KeyIcon:b5,BanknotesIcon:lk,TagIcon:_5,ChatBubbleLeftRightIcon:S5,PrinterIcon:E5,GlobeAltIcon:T5,ShieldCheckIcon:A5,XMarkIcon:C5,BuildingStorefrontIcon:k5,ArrowUpTrayIcon:P5,QrCodeIcon:I5,WifiIcon:N5,CloudIcon:O5,TrashIcon:M5,ClockIcon:uk},ck=[{name:"Dashboard",path:"dashboard",icon:rk,roles:[ce.Admin,ce.Manager,ce.Viewer]},{name:"POS",path:"pos",icon:sk,roles:[ce.Admin,ce.Manager,ce.Cashier]},{name:"Products",path:"products",icon:ik,roles:[ce.Admin,ce.Manager]},{name:"Customers",path:"customers",icon:ok,roles:[ce.Admin,ce.Manager,ce.Cashier]},{name:"Credit & Holds",path:"credit-holds",icon:uk,roles:[ce.Admin,ce.Manager,ce.Cashier]},{name:"Employees",path:"employees",icon:ak,roles:[ce.Admin]},{name:"Suppliers",path:"suppliers",icon:x5,roles:[ce.Admin,ce.Manager]},{name:"Purchases",path:"purchases",icon:kb,roles:[ce.Admin,ce.Manager]},{name:"Expenses",path:"expenses",icon:lk,roles:[ce.Admin,ce.Manager]},{name:"Reports",path:"reports",icon:kb,roles:[ce.Admin,ce.Manager,ce.Viewer]},{name:"Settings",path:"settings",icon:w5,roles:[ce.Admin,ce.Manager,ce.Cashier]}],R5=[{id:"totalRevenue",name:"Total Revenue"},{id:"newCustomers",name:"New Customers"},{id:"productsSold",name:"Products Sold"},{id:"todaysTransactions",name:"Todays Transactions"},{id:"licenseActivations",name:"License Activations"},{id:"salesOverview",name:"Sales Overview"},{id:"topProducts",name:"Top Products"},{id:"recentActivity",name:"Recent Activity"},{id:"lowStockAlerts",name:"Low Stock Alerts"},{id:"aiInsights",name:"AI-Powered Insights"}],oo=t=>{switch(t){case ce.Admin:return{totalRevenue:!0,newCustomers:!0,productsSold:!0,todaysTransactions:!0,salesOverview:!0,topProducts:!0,recentActivity:!0,lowStockAlerts:!0,aiInsights:!0,licenseActivations:!0};case ce.Manager:return{totalRevenue:!0,productsSold:!0,salesOverview:!0,topProducts:!0,recentActivity:!0,lowStockAlerts:!0};case ce.Cashier:return{todaysTransactions:!0,productsSold:!0,lowStockAlerts:!0};case ce.Viewer:return{totalRevenue:!0,salesOverview:!0,topProducts:!0};default:return{}}},In={products:{columns:[{key:"imageUrl",header:"Image",render:t=>p.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-10 h-10 rounded-md object-cover"})},{key:"name",header:"Name"},{key:"sku",header:"SKU"},{key:"category",header:"Category"},{key:"price",header:"Price",render:t=>`$${t.price.toFixed(2)}`},{key:"stock",header:"Stock"}],formFields:[{key:"name",label:"Product Name",type:"text",required:!0},{key:"sku",label:"SKU (Stock Keeping Unit)",type:"text",required:!0},{key:"price",label:"Price",type:"number",required:!0},{key:"stock",label:"Stock Quantity",type:"number",required:!0},{key:"category",label:"Category",type:"text"},{key:"brand",label:"Brand",type:"text"},{key:"unit",label:"Unit (e.g., kg, pc)",type:"text"},{key:"lowStockThreshold",label:"Low Stock Alert Threshold",type:"number"},{key:"imageUrl",label:"Product Image",type:"image"}]},customers:{columns:[{key:"name",header:"Name"},{key:"phone",header:"Phone"},{key:"email",header:"Email"},{key:"loyaltyPoints",header:"Loyalty Points"},{key:"dueAmount",header:"Due Amount",render:t=>`$${t.dueAmount.toFixed(2)}`}],formFields:[{key:"name",label:"Customer Name",type:"text",required:!0},{key:"phone",label:"Phone Number",type:"text",required:!0},{key:"email",label:"Email Address",type:"email"},{key:"creditLimit",label:"Credit Limit",type:"number"}]},employees:{columns:[{key:"avatarUrl",header:"Avatar",render:t=>p.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-10 h-10 rounded-full object-cover"})},{key:"name",header:"Name"},{key:"email",header:"Email"},{key:"role",header:"Role"}],formFields:[{key:"name",label:"Full Name",type:"text",required:!0},{key:"email",label:"Email Address",type:"email",required:!0},{key:"password",label:"Password",type:"password",required:!0},{key:"role",label:"Role",type:"select",required:!0,options:Object.values(ce).map(t=>({value:t,label:t}))},{key:"avatarUrl",label:"Avatar Image",type:"image"}]},suppliers:{columns:[{key:"name",header:"Supplier Name"},{key:"contactPerson",header:"Contact Person"},{key:"phone",header:"Phone"},{key:"email",header:"Email"}],formFields:[{key:"name",label:"Supplier Name",type:"text",required:!0},{key:"contactPerson",label:"Contact Person",type:"text"},{key:"phone",label:"Phone Number",type:"text",required:!0},{key:"email",label:"Email Address",type:"email"}]},purchases:{columns:[{key:"id",header:"Order ID"},{key:"supplierName",header:"Supplier"},{key:"createdAt",header:"Date",render:t=>new Date(t.createdAt).toLocaleDateString()},{key:"total",header:"Total",render:t=>`$${t.total.toFixed(2)}`},{key:"status",header:"Status"}],formFields:[{key:"supplierId",label:"Supplier",type:"select",required:!0,options:[]},{key:"status",label:"Status",type:"select",required:!0,options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]}]},expenses:{columns:[{key:"date",header:"Date",render:t=>new Date(t.date).toLocaleDateString()},{key:"category",header:"Category"},{key:"description",header:"Description"},{key:"amount",header:"Amount",render:t=>`$${t.amount.toFixed(2)}`},{key:"recordedBy",header:"Recorded By"}],formFields:[{key:"date",label:"Date",type:"date",required:!0},{key:"category",label:"Category",type:"text",required:!0},{key:"description",label:"Description",type:"text"},{key:"amount",label:"Amount",type:"number",required:!0}]}},$5=[{id:"store_1",name:"Main Branch",location:"New York",organizationId:"org_trial"},{id:"store_2",name:"Downtown Satellite",location:"Los Angeles",organizationId:"org_trial"}],Pb=[{id:"u1",name:"Zia Uddin",email:"ziauddin537000@gmail.com",password:"admin",role:ce.Admin,avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026704d",dashboardWidgets:oo(ce.Admin),organizationId:"org_trial",storeAccess:["all"]},{id:"u2",name:"Jane Smith",email:"manager@example.com",password:"password",role:ce.Manager,avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026704e",dashboardWidgets:oo(ce.Manager),organizationId:"org_trial",storeAccess:["store_1"]},{id:"u3",name:"Mike Johnson",email:"cashier@example.com",password:"password",role:ce.Cashier,avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026704f",dashboardWidgets:oo(ce.Cashier),organizationId:"org_trial",storeAccess:["store_2"]},{id:"u4",name:"Emily Davis",email:"viewer@example.com",password:"password",role:ce.Viewer,avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026704g",dashboardWidgets:oo(ce.Viewer),organizationId:"org_trial",storeAccess:["all"]},{id:"superadmin",name:"Super Admin",email:"superadmin@zenith.com",password:"superadmin123!",role:ce.Admin,avatarUrl:"https://i.pravatar.cc/150?u=superadmin",dashboardWidgets:{},storeAccess:["all"]}],j5=[{id:"p1",name:"Zenith Signature Coffee Beans",category:"Coffee",price:18.99,stock:120,sku:"ZCB-001",brand:"Zenith",unit:"kg",lowStockThreshold:20,imageUrl:"https://images.unsplash.com/photo-1559440618-b54a44186c34?q=80&w=2070&auto=format&fit=crop",organizationId:"org_trial",storeId:"store_1"},{id:"p2",name:"Artisan Sourdough Bread",category:"Bakery",price:6.5,stock:35,sku:"ASB-002",brand:"Local Bakery",unit:"loaf",lowStockThreshold:10,imageUrl:"https://images.unsplash.com/photo-1534623225019-160876432831?q=80&w=2070&auto=format&fit=crop",organizationId:"org_trial",storeId:"store_1"},{id:"p3",name:"Organic Green Tea",category:"Tea",price:12,stock:80,sku:"OGT-003",brand:"PureLeaf",unit:"box",lowStockThreshold:15,imageUrl:"https://images.unsplash.com/photo-1627435601361-ec25f2b74413?q=80&w=1965&auto=format&fit=crop",organizationId:"org_trial",storeId:"store_2"},{id:"p4",name:"Stainless Steel Water Bottle",category:"Merchandise",price:25,stock:50,sku:"SSWB-004",brand:"Zenith",unit:"pc",lowStockThreshold:5,imageUrl:"https://images.unsplash.com/photo-1610399432243-c36314f8a1d7?q=80&w=1974&auto=format&fit=crop",organizationId:"org_trial",storeId:"store_2"}],D5=[{id:"c1",name:"Alice Williams",phone:"555-0101",email:"alice@example.com",loyaltyPoints:250,dueAmount:55.2,creditLimit:200,organizationId:"org_trial",storeId:"store_1"},{id:"c2",name:"Bob Brown",phone:"555-0102",email:"bob@example.com",loyaltyPoints:120,dueAmount:0,organizationId:"org_trial",storeId:"store_2"}],L5=[{id:"s1",date:"2023-10-26T10:00:00Z",total:42.99,cashier:"Mike Johnson",cashierId:"u3",items:2,customerId:"c1",customerName:"Alice Williams",amountPaid:42.99,paymentMethod:"Card",organizationId:"org_trial",storeId:"store_2"},{id:"s2",date:"2023-10-26T11:30:00Z",total:12.5,cashier:"Mike Johnson",cashierId:"u3",items:1,customerId:"guest",customerName:"Guest",amountPaid:15,paymentMethod:"Cash",organizationId:"org_trial",storeId:"store_2"}],U5=[{name:"Mon",sales:4e3},{name:"Tue",sales:3e3},{name:"Wed",sales:2e3},{name:"Thu",sales:2780},{name:"Fri",sales:1890},{name:"Sat",sales:2390},{name:"Sun",sales:3490}],Ib=[{name:"Coffee Beans",value:400},{name:"Sourdough Bread",value:300},{name:"Green Tea",value:300},{name:"Water Bottle",value:200}],B5=[{id:"al1",user:"Zia Uddin",action:"updated system settings",timestamp:"2023-10-27T14:30:00Z"},{id:"al2",user:"Jane Smith",action:'added a new product "Croissant"',timestamp:"2023-10-27T14:00:00Z"},{id:"al3",user:"Mike Johnson",action:"processed sale #s2",timestamp:"2023-10-27T13:45:00Z"}],F5=[{id:"lk1",key:"DEV-AB12CD",assignedToUserId:"u3",assignedToUserName:"Mike Johnson",status:"Active",validity:"Lifetime",deviceName:"Main Counter",organizationId:"org_trial",storeId:"store_1"},{id:"lk2",key:"DEV-EF45GH",assignedToUserId:"",assignedToUserName:"Unassigned",status:"Revoked",validity:"Lifetime",deviceName:"Warehouse Tablet",organizationId:"org_trial",storeId:"store_2"}],V5=[{id:"n1",title:"Low Stock Alert",message:"Zenith Signature Coffee Beans are running low (15 left).",timestamp:new Date().toISOString(),read:!1,link:"products"},{id:"n2",title:"New Feature",message:"AI-Powered Insights are now available on your dashboard!",timestamp:new Date(Date.now()-36e5).toISOString(),read:!0}],z5=[{id:"sup1",name:"Global Coffee Importers",contactPerson:"John Doe",phone:"123-456-7890",email:"j.doe@gci.com",organizationId:"org_trial",storeId:"store_1"},{id:"sup2",name:"Artisan Bakery Co-op",contactPerson:"Mary Jane",phone:"987-654-3210",email:"mary@abcoop.com",organizationId:"org_trial",storeId:"store_2"}],q5=[{id:"po1",supplierId:"sup1",supplierName:"Global Coffee Importers",status:"Completed",items:[{productId:"p1",productName:"Coffee",quantity:50,cost:10}],total:500,createdAt:new Date().toISOString(),createdBy:"Jane Smith",organizationId:"org_trial",storeId:"store_1"},{id:"po2",supplierId:"sup2",supplierName:"Artisan Bakery Co-op",status:"Pending",items:[],total:150,createdAt:new Date().toISOString(),createdBy:"Jane Smith",organizationId:"org_trial",storeId:"store_2"}],G5=[{id:"e1",category:"Rent",description:"October Rent",amount:1500,date:new Date().toISOString(),recordedBy:"Zia Uddin",organizationId:"org_trial",storeId:"store_1"},{id:"e2",category:"Utilities",description:"Electricity Bill",amount:250,date:new Date().toISOString(),recordedBy:"Zia Uddin",organizationId:"org_trial",storeId:"store_2"}],Nb=7,Ob=.01,H5={en:{Dashboard:"Dashboard",POS:"POS",Products:"Products",Customers:"Customers","Credit & Holds":"Credit & Holds",Employees:"Employees",Suppliers:"Suppliers",Purchases:"Purchases",Expenses:"Expenses",Reports:"Reports",Settings:"Settings","Total Revenue":"Total Revenue","New Customers":"New Customers","Products Sold":"Products Sold","Todays Transactions":"Todays Transactions","Shift Started":"Shift Started",Online:"Online",Offline:"Offline","Clock Out":"Clock Out","Clock In":"Clock In",Search:"Search or Scan Barcode...","Current Order":"Current Order",Hold:"Hold","Clear Cart":"Clear Cart",Subtotal:"Subtotal",Tax:"Tax",Total:"Total",Charge:"Charge","Payment Success":"Payment Success","Out of Stock":"Out of Stock!","Stock Limit Exceeded":"Stock limit for this item has been reached!","Manage Products":"Manage Products","Manage Customers":"Manage Customers","Manage Employees":"Manage Employees","Manage Suppliers":"Manage Suppliers","Manage Purchases":"Manage Purchases","Manage Expenses":"Manage Expenses","Add New":"Add New","Import CSV":"Import CSV","Print Labels":"Print Labels","System User Guide":"System User Guide","Guide Intro":"Welcome to the Zenith POS User Guide. This guide will help you understand and use all the features of the system effectively. Click on any section below to expand it.",guide_title_1:"Dashboard & Analytics",guide_content_1:`The Dashboard provides a real-time overview of your business. 
- **Summary Cards:** Quick stats like Total Revenue, New Customers, etc.
- **Charts:** Visualize your Sales Overview and Top Selling Products.
- **AI Insights:** (Premium/Enterprise Plan) Ask business-related questions and get data-driven advice from our AI assistant.
- **Low Stock Alerts:** Instantly see products that are running low based on the threshold you set.
- **Customize:** Click the 'Customize' button to show or hide widgets based on your role and preference.`,guide_title_2:"Point of Sale (POS)",guide_content_2:`The POS screen is designed for fast and efficient checkouts.
- **Product Search:** Use the search bar or a barcode scanner to find products quickly.
- **Cart Management:** Click on products to add them to the cart. Adjust quantity or apply item-specific discounts using the tag icon.
- **Customer:** Add a new customer or search for an existing one. This is required for credit sales.
- **Hold/Resume:** Use the 'Hold' button to save a cart for later. Resume it from the clock icon.
- **Payment:** Click 'Charge' to open the payment modal. You can accept Cash, Card, or assign the sale to a customer's credit.
- **Stock Update:** After each successful sale, the stock levels of the sold products are automatically updated.`,guide_title_3:"Data Management (Products, Customers, etc.)",guide_content_3:`The Management section allows you to handle all your core business data.
- **View & Edit:** Click on any management tab (e.g., Products) to see a list of all items.
- **Add New:** Use the 'Add New' button to create a new entry.
- **Delete:** Select items using the checkboxes and use the 'Delete Selected' button, or delete individual items from the actions column.
- **Import CSV:** For products, you can bulk-upload your inventory using a CSV file. The format should be: Name,Price,Stock,Category,SKU.
- **Print Labels:** Select products and click 'Print Labels' to generate barcode labels for them.`,guide_title_4:"Multi-Store Management (Enterprise Plan)",guide_content_4:`Zenith POS allows you to manage multiple branches from a single account.
- **Switching Stores:** Click on your profile icon in the top-right header. A dropdown menu will appear allowing you to select a specific store or the 'All Stores (Global View)'.
- **Global View:** Shows combined data and analytics from all your branches.
- **Store View:** Filters all data (Dashboard, POS, Management) to show information for the selected store only.
- **Adding Employees:** You must select a specific store view before you can add a new employee. They will be automatically assigned to that store.
- **Managing Stores:** As an Admin, you can add or delete stores from the 'Store Management' card in the Settings page.`,guide_title_5:"Profile & Security",guide_content_5:`Manage your personal account details and security settings.
- **Profile:** Update your name, profile picture, and phone number. Your phone number is important for account recovery.
- **Password:** Change your password by providing your current and new password. For security, we recommend changing it periodically.`,guide_title_6:"License & Activation",guide_content_6:`This section is for Admins to manage the system's license.
- **Master License:** View your current plan, status, and expiry date. You can update your license with a new key here.
- **Trial Mode:** If you are on a trial, this section will allow you to enter a key to activate the full version. Activating from trial will reset demo data.
- **Deactivate:** You can deactivate the license on the current device. This will log you out and require you to activate the software again.
- **Device Keys:** Generate and manage keys for other POS terminals in your store.`,guide_title_7:"System Settings",guide_content_7:`Configure system-wide settings for your business.
- **Localization:** Change the application's language (English/Bangla) and default currency.
- **Business Config:** Set your business name and default tax rate. You can also upload a business logo which will appear on the header and receipts.
- **Data Management:** It is highly recommended to periodically back up your data. Use the 'Backup Data' button to download a file containing all your important information. You can restore from this file using the 'Restore Data' button.`,guide_title_8:"Reports",guide_content_8:`Analyze your business performance with detailed reports.
- **Filters:** Use the filters at the top to narrow down your sales data by date range, cashier, or customer.
- **Summary:** Get quick insights with summary cards for total revenue, transactions, and average sale value.
- **Chart:** The sales trend chart visualizes your performance over the selected period.
- **Transaction List:** See a detailed list of all sales that match your filters.
- **Export:** Export the filtered report data to a CSV or XLSX file for accounting or further analysis.`,"Close Guide":"Close Guide","Shift Started Notification":"You have successfully clocked in.","Shift Ended Notification":"You have successfully clocked out.","Shift Update":"Shift Update","Low Stock Alert":"Low Stock Alert","is running low":"is running low"},bn:{Dashboard:"",POS:" ",Products:"",Customers:"","Credit & Holds":"  ",Employees:"",Suppliers:"",Purchases:"",Expenses:"",Reports:"",Settings:"","Total Revenue":" ","New Customers":" ","Products Sold":" ","Todays Transactions":" ","Shift Started":"  ",Online:"",Offline:"","Clock Out":" ","Clock In":" ",Search:"    ...","Current Order":" ",Hold:"","Clear Cart":"  ",Subtotal:"",Tax:"",Total:"",Charge:"","Payment Success":" ","Out of Stock":" !","Stock Limit Exceeded":"     !","Manage Products":" ","Manage Customers":" ","Manage Employees":" ","Manage Suppliers":" ","Manage Purchases":" ","Manage Expenses":" ","Add New":"  ","Import CSV":"CSV ","Print Labels":" ","System User Guide":"  ","Guide Intro":"Zenith POS                       ",guide_title_1:"  ",guide_content_1:`    -   
- ** :**  ,       
- **:**        
- **AI :** (/ ) -      AI    -  
- ** :**             
- **:**          ''   `,guide_title_2:"   (POS)",guide_content_2:`POS         
- ** :**          
- ** :**                    
- **:**             
- **/:**        ''          
- **:**    ''    ,       
- ** :**    ,        `,guide_title_3:"  (,  )",guide_content_3:`          
- **   :**        (, )  
- **  :**      'Add New'   
- ** :**        'Delete Selected'   ,     einzeln   
- **CSV :**  ,   CSV      -    : Name,Price,Stock,Category,SKU
- ** :**         'Print Labels'  `,guide_title_4:"-  ( )",guide_content_4:`Zenith POS         
- ** :**                   'All Stores (Global View)'   
- ** :**        
- ** :**      (, POS, )   
- ** :**                    
- ** :**  ,    'Store Management'        `,guide_title_5:"  ",guide_content_5:`        
- **:**  ,              
- **:**             ,       `,guide_title_6:"  ",guide_content_6:`        
- ** :**   ,                  
- ** :**     ,                       
- **:**                     
- ** :**    POS        `,guide_title_7:" ",guide_content_7:`   -   
- **:**   (/)     
- ** :**                      
- ** :**                    'Backup Data'     'Restore Data'         `,guide_title_8:"",guide_content_8:`       
- **:**  ,             
- **:**  ,            
- **:**          
- ** :**           
- **:**           CSV  XLSX   `,"Close Guide":"  ","Shift Started Notification":"    ","Shift Ended Notification":"    ","Shift Update":" ","Low Stock Alert":" ","is running low":" "}},dk={USD:{symbol:"$",rate:1},BDT:{symbol:"",rate:117.5},EUR:{symbol:"",rate:.92},INR:{symbol:"",rate:83.5}},W5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.95-4.243l-1.591 1.591M5.25 12H3m4.243-4.95l1.591-1.591M12 9a3 3 0 100 6 3 3 0 000-6z"})}),K5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25c0 5.385 4.365 9.75 9.75 9.75 2.572 0 4.92-.99 6.697-2.648z"})}),J5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),Y5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),Mb=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...t,children:p.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.052-.143z",clipRule:"evenodd"})}),Rb=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),{WifiIcon:X5,CloudIcon:Q5,GlobeAltIcon:Z5}=Po,e$=({user:t,onLogout:e,toggleSidebar:n,isDarkMode:r,toggleDarkMode:i,businessName:o,businessLogo:a,activeView:s,setActiveView:l,notifications:u,setNotifications:c,activeShift:d,onToggleShift:h,isOnline:g,t:v,isInTrial:y,activeStoreId:b,setActiveStoreId:w,accessibleStores:x,allStores:_})=>{const[T,S]=I.useState(!1),[E,A]=I.useState(!1),C=I.useRef(null),k=I.useRef(null),N=u.filter(j=>!j.read).length,O=j=>{j.link&&l(j.link),c(M=>M.map(L=>L.id===j.id?{...L,read:!0}:L)),A(!1)},R=()=>{c(j=>j.map(M=>({...M,read:!0})))},D=()=>{l("settings"),S(!1)},U=I.useMemo(()=>{const j=_.find(M=>M.id===b);return j?j.name:b==="global"?`${o} (Global)`:o},[b,_,o]);return I.useEffect(()=>{const j=M=>{C.current&&!C.current.contains(M.target)&&A(!1),k.current&&!k.current.contains(M.target)&&S(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]),p.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-sm shadow-sm flex flex-col",children:[y&&p.jsxs("div",{className:"bg-amber-500 text-white text-xs font-bold text-center py-1 flex justify-center items-center gap-2",children:[p.jsx("span",{children:" 7-DAY FREE TRIAL MODE"}),p.jsx("span",{className:"hidden sm:inline",children:" - Full features available."}),p.jsx("button",{onClick:()=>l("settings"),className:"underline hover:text-amber-100 ml-2",children:"Activate Now"})]}),p.jsxs("div",{className:"grid grid-cols-3 items-center h-16 px-4 md:px-6 w-full",children:[p.jsxs("div",{className:"flex items-center justify-start gap-4",children:[p.jsx("button",{onClick:n,className:"lg:hidden text-neutral-600 dark:text-neutral-300",children:p.jsx(Y5,{className:"w-6 h-6"})}),d&&p.jsxs("div",{className:"hidden sm:flex items-center gap-2 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 text-xs font-semibold px-3 py-1.5 rounded-full",children:[p.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),p.jsxs("span",{children:[v("Shift Started"),": ",new Date(d.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a?p.jsx("img",{src:a,alt:"Business Logo",className:"h-8 w-8 object-contain"}):p.jsx(Rb,{className:"h-8 w-8 text-primary-600"}),p.jsx("h1",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-100 truncate",children:U})]}),p.jsxs("div",{className:"flex items-center justify-end space-x-2 md:space-x-4",children:[p.jsxs("div",{className:`hidden md:flex items-center gap-1.5 px-2 py-1 rounded-full border ${g?"border-green-200 bg-green-50 text-green-700 dark:border-green-900 dark:bg-green-900/20 dark:text-green-400":"border-neutral-200 bg-neutral-50 text-neutral-500 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-400"}`,children:[g?p.jsx(X5,{className:"w-4 h-4"}):p.jsx(Q5,{className:"w-4 h-4"}),p.jsx("span",{className:"text-xs font-semibold",children:v(g?"Online":"Offline")})]}),p.jsx("button",{onClick:h,className:`hidden md:block text-sm font-semibold px-4 py-2 rounded-lg transition-colors ${d?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 hover:bg-red-200":"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 hover:bg-green-200"}`,children:v(d?"Clock Out":"Clock In")}),p.jsx("button",{onClick:i,className:"p-2 rounded-full text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:r?p.jsx(W5,{className:"w-5 h-5"}):p.jsx(K5,{className:"w-5 h-5"})}),p.jsxs("div",{className:"relative",ref:C,children:[p.jsxs("button",{onClick:()=>A(!E),className:"p-2 rounded-full text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:[p.jsx(J5,{className:"w-6 h-6"}),N>0&&p.jsx("span",{className:"absolute top-1 right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-white text-xs ring-2 ring-white dark:ring-neutral-900",children:N})]}),E&&p.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-neutral-800 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 z-40",children:[p.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-neutral-200 dark:border-neutral-700",children:[p.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),p.jsx("button",{onClick:R,className:"text-xs text-primary-600 dark:text-primary-400 hover:underline",children:"Mark all as read"})]}),p.jsx("ul",{className:"max-h-80 overflow-y-auto",children:u.map(j=>p.jsx("li",{onClick:()=>O(j),className:`p-3 border-b border-neutral-100 dark:border-neutral-700/50 hover:bg-neutral-50 dark:hover:bg-neutral-700/50 ${j.link?"cursor-pointer":""}`,children:p.jsxs("div",{className:"flex items-start gap-3",children:[!j.read&&p.jsx("div",{className:"mt-1.5 w-2 h-2 rounded-full bg-primary-500 flex-shrink-0"}),p.jsxs("div",{className:j.read?"pl-5":"",children:[p.jsx("p",{className:"font-semibold text-sm",children:j.title}),p.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:j.message}),p.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:new Date(j.timestamp).toLocaleString()})]})]})},j.id))}),p.jsx("div",{className:"p-2 text-center border-t border-neutral-200 dark:border-neutral-700",children:p.jsx("button",{className:"text-sm font-medium text-primary-600 dark:text-primary-400 hover:underline",children:"View all notifications"})})]})]}),p.jsxs("div",{className:"relative",ref:k,children:[p.jsxs("button",{onClick:()=>S(!T),className:"flex items-center space-x-2",children:[p.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-9 h-9 rounded-full object-cover"}),p.jsxs("div",{className:"hidden md:block text-left",children:[p.jsx("p",{className:"text-sm font-semibold text-neutral-800 dark:text-neutral-100",children:t.name}),p.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:t.role})]})]}),T&&p.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-neutral-800 rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5 z-40",children:[p.jsxs("div",{className:"px-4 py-2 border-b dark:border-neutral-700",children:[p.jsx("p",{className:"text-sm font-semibold text-neutral-800 dark:text-neutral-100",children:t.name}),p.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:t.role})]}),p.jsxs("div",{className:"py-2",children:[p.jsx("p",{className:"px-4 pb-2 text-xs font-semibold text-neutral-400 uppercase",children:"Switch Store"}),p.jsxs("button",{onClick:()=>{w("global"),S(!1)},className:"w-full text-left flex items-center justify-between px-4 py-2 text-sm text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:[p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx(Z5,{})," All Stores (Global View)"]}),b==="global"&&p.jsx(Mb,{className:"w-5 h-5 text-primary-600"})]}),x.map(j=>p.jsxs("button",{onClick:()=>{w(j.id),S(!1)},className:"w-full text-left flex items-center justify-between px-4 py-2 text-sm text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:[p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx(Rb,{className:"w-4 h-4"})," ",j.name]}),b===j.id&&p.jsx(Mb,{className:"w-5 h-5 text-primary-600"})]},j.id))]}),p.jsxs("div",{className:"border-t dark:border-neutral-700 py-1",children:[p.jsx("button",{onClick:D,className:"w-full text-left block px-4 py-2 text-sm text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:"Profile"}),p.jsx("button",{onClick:e,className:"w-full text-left block px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:"Logout"})]})]})]})]})]})]})},t$=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),n$=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),r$=({userRole:t,activeView:e,setActiveView:n,isOpen:r,setIsOpen:i,businessName:o,businessLogo:a,t:s})=>{const l=ck.filter(c=>c.roles.includes(t)),u=p.jsx("nav",{className:"flex-1 px-2 py-4 space-y-2",children:l.map(c=>p.jsxs("a",{href:"#",onClick:d=>{d.preventDefault(),n(c.path),window.innerWidth<1024&&i(!1)},className:`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 ${e===c.path?"bg-primary-600 text-white shadow-md":"text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700"}`,children:[p.jsx(c.icon,{className:"w-5 h-5 mr-3"}),p.jsx("span",{children:s(c.name)})]},c.name))});return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:`fixed inset-0 bg-black/30 z-40 lg:hidden transition-opacity ${r?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>i(!1)}),p.jsxs("aside",{className:`fixed lg:relative inset-y-0 left-0 z-50 flex flex-col w-64 bg-white dark:bg-neutral-800 border-r border-neutral-200 dark:border-neutral-700 transition-transform duration-300 ease-in-out ${r?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[p.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-neutral-200 dark:border-neutral-700",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[a?p.jsx("img",{src:a,alt:"Business Logo",className:"h-10 w-10 object-contain"}):p.jsx(n$,{className:"h-9 w-9 text-primary-600"}),p.jsx("span",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-100",children:o})]}),p.jsx("button",{onClick:()=>i(!1),className:"p-2 rounded-md text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700 lg:hidden",children:p.jsx(t$,{className:"w-6 h-6"})})]}),u]})]})};function fk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=fk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Se(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=fk(t))&&(r&&(r+=" "),r+=e);return r}var i$=Array.isArray,fn=i$,o$=typeof zu=="object"&&zu&&zu.Object===Object&&zu,hk=o$,a$=hk,s$=typeof self=="object"&&self&&self.Object===Object&&self,l$=a$||s$||Function("return this")(),Er=l$,u$=Er,c$=u$.Symbol,Iu=c$,$b=Iu,pk=Object.prototype,d$=pk.hasOwnProperty,f$=pk.toString,Us=$b?$b.toStringTag:void 0;function h$(t){var e=d$.call(t,Us),n=t[Us];try{t[Us]=void 0;var r=!0}catch{}var i=f$.call(t);return r&&(e?t[Us]=n:delete t[Us]),i}var p$=h$,m$=Object.prototype,g$=m$.toString;function v$(t){return g$.call(t)}var y$=v$,jb=Iu,w$=p$,b$=y$,x$="[object Null]",_$="[object Undefined]",Db=jb?jb.toStringTag:void 0;function S$(t){return t==null?t===void 0?_$:x$:Db&&Db in Object(t)?w$(t):b$(t)}var Yr=S$;function E$(t){return t!=null&&typeof t=="object"}var Xr=E$,T$=Yr,A$=Xr,C$="[object Symbol]";function k$(t){return typeof t=="symbol"||A$(t)&&T$(t)==C$}var us=k$,P$=fn,I$=us,N$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O$=/^\w*$/;function M$(t,e){if(P$(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||I$(t)?!0:O$.test(t)||!N$.test(t)||e!=null&&t in Object(e)}var Gy=M$;function R$(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ni=R$;const cs=Be(Ni);var $$=Yr,j$=Ni,D$="[object AsyncFunction]",L$="[object Function]",U$="[object GeneratorFunction]",B$="[object Proxy]";function F$(t){if(!j$(t))return!1;var e=$$(t);return e==L$||e==U$||e==D$||e==B$}var Hy=F$;const be=Be(Hy);var V$=Er,z$=V$["__core-js_shared__"],q$=z$,Ep=q$,Lb=function(){var t=/[^.]+$/.exec(Ep&&Ep.keys&&Ep.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function G$(t){return!!Lb&&Lb in t}var H$=G$,W$=Function.prototype,K$=W$.toString;function J$(t){if(t!=null){try{return K$.call(t)}catch{}try{return t+""}catch{}}return""}var mk=J$,Y$=Hy,X$=H$,Q$=Ni,Z$=mk,ej=/[\\^$.*+?()[\]{}|]/g,tj=/^\[object .+?Constructor\]$/,nj=Function.prototype,rj=Object.prototype,ij=nj.toString,oj=rj.hasOwnProperty,aj=RegExp("^"+ij.call(oj).replace(ej,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sj(t){if(!Q$(t)||X$(t))return!1;var e=Y$(t)?aj:tj;return e.test(Z$(t))}var lj=sj;function uj(t,e){return t==null?void 0:t[e]}var cj=uj,dj=lj,fj=cj;function hj(t,e){var n=fj(t,e);return dj(n)?n:void 0}var Io=hj,pj=Io,mj=pj(Object,"create"),zf=mj,Ub=zf;function gj(){this.__data__=Ub?Ub(null):{},this.size=0}var vj=gj;function yj(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var wj=yj,bj=zf,xj="__lodash_hash_undefined__",_j=Object.prototype,Sj=_j.hasOwnProperty;function Ej(t){var e=this.__data__;if(bj){var n=e[t];return n===xj?void 0:n}return Sj.call(e,t)?e[t]:void 0}var Tj=Ej,Aj=zf,Cj=Object.prototype,kj=Cj.hasOwnProperty;function Pj(t){var e=this.__data__;return Aj?e[t]!==void 0:kj.call(e,t)}var Ij=Pj,Nj=zf,Oj="__lodash_hash_undefined__";function Mj(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Nj&&e===void 0?Oj:e,this}var Rj=Mj,$j=vj,jj=wj,Dj=Tj,Lj=Ij,Uj=Rj;function ds(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ds.prototype.clear=$j;ds.prototype.delete=jj;ds.prototype.get=Dj;ds.prototype.has=Lj;ds.prototype.set=Uj;var Bj=ds;function Fj(){this.__data__=[],this.size=0}var Vj=Fj;function zj(t,e){return t===e||t!==t&&e!==e}var Wy=zj,qj=Wy;function Gj(t,e){for(var n=t.length;n--;)if(qj(t[n][0],e))return n;return-1}var qf=Gj,Hj=qf,Wj=Array.prototype,Kj=Wj.splice;function Jj(t){var e=this.__data__,n=Hj(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Kj.call(e,n,1),--this.size,!0}var Yj=Jj,Xj=qf;function Qj(t){var e=this.__data__,n=Xj(e,t);return n<0?void 0:e[n][1]}var Zj=Qj,eD=qf;function tD(t){return eD(this.__data__,t)>-1}var nD=tD,rD=qf;function iD(t,e){var n=this.__data__,r=rD(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var oD=iD,aD=Vj,sD=Yj,lD=Zj,uD=nD,cD=oD;function fs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fs.prototype.clear=aD;fs.prototype.delete=sD;fs.prototype.get=lD;fs.prototype.has=uD;fs.prototype.set=cD;var Gf=fs,dD=Io,fD=Er,hD=dD(fD,"Map"),Ky=hD,Bb=Bj,pD=Gf,mD=Ky;function gD(){this.size=0,this.__data__={hash:new Bb,map:new(mD||pD),string:new Bb}}var vD=gD;function yD(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var wD=yD,bD=wD;function xD(t,e){var n=t.__data__;return bD(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Hf=xD,_D=Hf;function SD(t){var e=_D(this,t).delete(t);return this.size-=e?1:0,e}var ED=SD,TD=Hf;function AD(t){return TD(this,t).get(t)}var CD=AD,kD=Hf;function PD(t){return kD(this,t).has(t)}var ID=PD,ND=Hf;function OD(t,e){var n=ND(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var MD=OD,RD=vD,$D=ED,jD=CD,DD=ID,LD=MD;function hs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}hs.prototype.clear=RD;hs.prototype.delete=$D;hs.prototype.get=jD;hs.prototype.has=DD;hs.prototype.set=LD;var Jy=hs,gk=Jy,UD="Expected a function";function Yy(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(UD);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Yy.Cache||gk),n}Yy.Cache=gk;var vk=Yy;const BD=Be(vk);var FD=vk,VD=500;function zD(t){var e=FD(t,function(r){return n.size===VD&&n.clear(),r}),n=e.cache;return e}var qD=zD,GD=qD,HD=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WD=/\\(\\)?/g,KD=GD(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(HD,function(n,r,i,o){e.push(i?o.replace(WD,"$1"):r||n)}),e}),JD=KD;function YD(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Xy=YD,Fb=Iu,XD=Xy,QD=fn,ZD=us,Vb=Fb?Fb.prototype:void 0,zb=Vb?Vb.toString:void 0;function yk(t){if(typeof t=="string")return t;if(QD(t))return XD(t,yk)+"";if(ZD(t))return zb?zb.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var eL=yk,tL=eL;function nL(t){return t==null?"":tL(t)}var wk=nL,rL=fn,iL=Gy,oL=JD,aL=wk;function sL(t,e){return rL(t)?t:iL(t,e)?[t]:oL(aL(t))}var bk=sL,lL=us;function uL(t){if(typeof t=="string"||lL(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Wf=uL,cL=bk,dL=Wf;function fL(t,e){e=cL(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[dL(e[n++])];return n&&n==r?t:void 0}var Qy=fL,hL=Qy;function pL(t,e,n){var r=t==null?void 0:hL(t,e);return r===void 0?n:r}var xk=pL;const Tn=Be(xk);function mL(t){return t==null}var gL=mL;const _e=Be(gL);var vL=Yr,yL=fn,wL=Xr,bL="[object String]";function xL(t){return typeof t=="string"||!yL(t)&&wL(t)&&vL(t)==bL}var _L=xL;const xo=Be(_L);var _k={exports:{}},Fe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy=Symbol.for("react.element"),e0=Symbol.for("react.portal"),Kf=Symbol.for("react.fragment"),Jf=Symbol.for("react.strict_mode"),Yf=Symbol.for("react.profiler"),Xf=Symbol.for("react.provider"),Qf=Symbol.for("react.context"),SL=Symbol.for("react.server_context"),Zf=Symbol.for("react.forward_ref"),eh=Symbol.for("react.suspense"),th=Symbol.for("react.suspense_list"),nh=Symbol.for("react.memo"),rh=Symbol.for("react.lazy"),EL=Symbol.for("react.offscreen"),Sk;Sk=Symbol.for("react.module.reference");function Hn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Zy:switch(t=t.type,t){case Kf:case Yf:case Jf:case eh:case th:return t;default:switch(t=t&&t.$$typeof,t){case SL:case Qf:case Zf:case rh:case nh:case Xf:return t;default:return e}}case e0:return e}}}Fe.ContextConsumer=Qf;Fe.ContextProvider=Xf;Fe.Element=Zy;Fe.ForwardRef=Zf;Fe.Fragment=Kf;Fe.Lazy=rh;Fe.Memo=nh;Fe.Portal=e0;Fe.Profiler=Yf;Fe.StrictMode=Jf;Fe.Suspense=eh;Fe.SuspenseList=th;Fe.isAsyncMode=function(){return!1};Fe.isConcurrentMode=function(){return!1};Fe.isContextConsumer=function(t){return Hn(t)===Qf};Fe.isContextProvider=function(t){return Hn(t)===Xf};Fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zy};Fe.isForwardRef=function(t){return Hn(t)===Zf};Fe.isFragment=function(t){return Hn(t)===Kf};Fe.isLazy=function(t){return Hn(t)===rh};Fe.isMemo=function(t){return Hn(t)===nh};Fe.isPortal=function(t){return Hn(t)===e0};Fe.isProfiler=function(t){return Hn(t)===Yf};Fe.isStrictMode=function(t){return Hn(t)===Jf};Fe.isSuspense=function(t){return Hn(t)===eh};Fe.isSuspenseList=function(t){return Hn(t)===th};Fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kf||t===Yf||t===Jf||t===eh||t===th||t===EL||typeof t=="object"&&t!==null&&(t.$$typeof===rh||t.$$typeof===nh||t.$$typeof===Xf||t.$$typeof===Qf||t.$$typeof===Zf||t.$$typeof===Sk||t.getModuleId!==void 0)};Fe.typeOf=Hn;_k.exports=Fe;var TL=_k.exports,AL=Yr,CL=Xr,kL="[object Number]";function PL(t){return typeof t=="number"||CL(t)&&AL(t)==kL}var Ek=PL;const IL=Be(Ek);var NL=Ek;function OL(t){return NL(t)&&t!=+t}var ML=OL;const Nu=Be(ML);var Qt=function(e){return e===0?0:e>0?1:-1},ao=function(e){return xo(e)&&e.indexOf("%")===e.length-1},X=function(e){return IL(e)&&!Nu(e)},RL=function(e){return _e(e)},kt=function(e){return X(e)||xo(e)},$L=0,ps=function(e){var n=++$L;return"".concat(e||"").concat(n)},Zt=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!X(e)&&!xo(e))return r;var o;if(ao(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Nu(o)&&(o=r),i&&o>n&&(o=n),o},ci=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},jL=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},wn=function(e,n){return X(e)&&X(n)?function(r){return e+r*(n-e)}:function(){return n}};function gd(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Tn(r,e))===n})}var DL=function(e,n){return X(e)&&X(n)?e-n:xo(e)&&xo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ba(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}var LL=["viewBox","children"],UL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qb=["points","pathLength"],Tp={svg:LL,polygon:qb,polyline:qb},t0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],vd=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(P.isValidElement(e)&&(r=e.props),!cs(r))return null;var i={};return Object.keys(r).forEach(function(o){t0.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},BL=function(e,n,r){return function(i){return e(n,r,i),null}},_o=function(e,n,r){if(!cs(e)||tg(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];t0.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=BL(a,n,r))}),i},FL=["children"],VL=["children"];function Gb(t,e){if(t==null)return{};var n=zL(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}var Hb={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Lr=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Wb=null,Ap=null,n0=function t(e){if(e===Wb&&Array.isArray(Ap))return Ap;var n=[];return P.Children.forEach(e,function(r){_e(r)||(TL.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Ap=n,Wb=e,n};function An(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Lr(i)}):r=[Lr(e)],n0(t).forEach(function(i){var o=Tn(i,"type.displayName")||Tn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function yn(t,e){var n=An(t,e);return n&&n[0]}var Kb=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!X(r)||r<=0||!X(i)||i<=0)},qL=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],GL=function(e){return e&&e.type&&xo(e.type)&&qL.indexOf(e.type)>=0},HL=function(e){return e&&ng(e)==="object"&&"clipDot"in e},WL=function(e,n,r,i){var o,a=(o=Tp==null?void 0:Tp[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!be(e)&&(i&&a.includes(n)||UL.includes(n))||r&&t0.includes(n)},ge=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!cs(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;WL((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},rg=function t(e,n){if(e===n)return!0;var r=P.Children.count(e);if(r!==P.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Jb(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!Jb(o,a))return!1}return!0},Jb=function(e,n){if(_e(e)&&_e(n))return!0;if(!_e(e)&&!_e(n)){var r=e.props||{},i=r.children,o=Gb(r,FL),a=n.props||{},s=a.children,l=Gb(a,VL);return i&&s?ba(o,l)&&rg(i,s):!i&&!s?ba(o,l):!1}return!1},Yb=function(e,n){var r=[],i={};return n0(e).forEach(function(o,a){if(GL(o))r.push(o);else if(o){var s=Lr(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(o,s,a);r.push(d),i[s]=!0}}}),r},KL=function(e){var n=e&&e.type;return n&&Hb[n]?Hb[n]:null},JL=function(e,n){return n0(n).indexOf(e)},YL=["children","width","height","viewBox","className","style","title","desc"];function ig(){return ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ig.apply(this,arguments)}function XL(t,e){if(t==null)return{};var n=QL(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function og(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=XL(t,YL),c=i||{width:n,height:r,x:0,y:0},d=Se("recharts-surface",o);return I.createElement("svg",ig({},ge(u,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),e)}var ZL=["children","className"];function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(this,arguments)}function e3(t,e){if(t==null)return{};var n=t3(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Me=I.forwardRef(function(t,e){var n=t.children,r=t.className,i=e3(t,ZL),o=Se("recharts-layer",r);return I.createElement("g",ag({className:o},ge(i,!0),{ref:e}),n)}),sr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function n3(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var r3=n3,i3=r3;function o3(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:i3(t,e,n)}var a3=o3,s3="\\ud800-\\udfff",l3="\\u0300-\\u036f",u3="\\ufe20-\\ufe2f",c3="\\u20d0-\\u20ff",d3=l3+u3+c3,f3="\\ufe0e\\ufe0f",h3="\\u200d",p3=RegExp("["+h3+s3+d3+f3+"]");function m3(t){return p3.test(t)}var Tk=m3;function g3(t){return t.split("")}var v3=g3,Ak="\\ud800-\\udfff",y3="\\u0300-\\u036f",w3="\\ufe20-\\ufe2f",b3="\\u20d0-\\u20ff",x3=y3+w3+b3,_3="\\ufe0e\\ufe0f",S3="["+Ak+"]",sg="["+x3+"]",lg="\\ud83c[\\udffb-\\udfff]",E3="(?:"+sg+"|"+lg+")",Ck="[^"+Ak+"]",kk="(?:\\ud83c[\\udde6-\\uddff]){2}",Pk="[\\ud800-\\udbff][\\udc00-\\udfff]",T3="\\u200d",Ik=E3+"?",Nk="["+_3+"]?",A3="(?:"+T3+"(?:"+[Ck,kk,Pk].join("|")+")"+Nk+Ik+")*",C3=Nk+Ik+A3,k3="(?:"+[Ck+sg+"?",sg,kk,Pk,S3].join("|")+")",P3=RegExp(lg+"(?="+lg+")|"+k3+C3,"g");function I3(t){return t.match(P3)||[]}var N3=I3,O3=v3,M3=Tk,R3=N3;function $3(t){return M3(t)?R3(t):O3(t)}var j3=$3,D3=a3,L3=Tk,U3=j3,B3=wk;function F3(t){return function(e){e=B3(e);var n=L3(e)?U3(e):void 0,r=n?n[0]:e.charAt(0),i=n?D3(n,1).join(""):e.slice(1);return r[t]()+i}}var V3=F3,z3=V3,q3=z3("toUpperCase"),G3=q3;const ih=Be(G3);function Ke(t){return function(){return t}}const Ok=Math.cos,yd=Math.sin,ur=Math.sqrt,wd=Math.PI,oh=2*wd,ug=Math.PI,cg=2*ug,Ki=1e-6,H3=cg-Ki;function Mk(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function W3(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Mk;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class K3{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Mk:W3(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ki)if(!(Math.abs(d*l-u*c)>Ki)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,v=i-s,y=l*l+u*u,b=g*g+v*v,w=Math.sqrt(y),x=Math.sqrt(h),_=o*Math.tan((ug-Math.acos((y+h-b)/(2*w*x)))/2),T=_/x,S=_/w;Math.abs(T-1)>Ki&&this._append`L${e+T*c},${n+T*d}`,this._append`A${o},${o},0,0,${+(d*g>c*v)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ki||Math.abs(this._y1-c)>Ki)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%cg+cg),h>H3?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Ki&&this._append`A${r},${r},0,${+(h>=ug)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function r0(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new K3(e)}function i0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Rk(t){this._context=t}Rk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ah(t){return new Rk(t)}function $k(t){return t[0]}function jk(t){return t[1]}function Dk(t,e){var n=Ke(!0),r=null,i=ah,o=null,a=r0(s);t=typeof t=="function"?t:t===void 0?$k:Ke(t),e=typeof e=="function"?e:e===void 0?jk:Ke(e);function s(l){var u,c=(l=i0(l)).length,d,h=!1,g;for(r==null&&(o=i(g=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ke(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ke(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ke(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function sc(t,e,n){var r=null,i=Ke(!0),o=null,a=ah,s=null,l=r0(u);t=typeof t=="function"?t:t===void 0?$k:Ke(+t),e=typeof e=="function"?e:Ke(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?jk:Ke(+n);function u(d){var h,g,v,y=(d=i0(d)).length,b,w=!1,x,_=new Array(y),T=new Array(y);for(o==null&&(s=a(x=l())),h=0;h<=y;++h){if(!(h<y&&i(b=d[h],h,d))===w)if(w=!w)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=g;--v)s.point(_[v],T[v]);s.lineEnd(),s.areaEnd()}w&&(_[h]=+t(b,h,d),T[h]=+e(b,h,d),s.point(r?+r(b,h,d):_[h],n?+n(b,h,d):T[h]))}if(x)return s=null,x+""||null}function c(){return Dk().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ke(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Ke(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ke(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Ke(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Ke(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ke(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ke(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class Lk{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function J3(t){return new Lk(t,!0)}function Y3(t){return new Lk(t,!1)}const o0={draw(t,e){const n=ur(e/wd);t.moveTo(n,0),t.arc(0,0,n,0,oh)}},X3={draw(t,e){const n=ur(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Uk=ur(1/3),Q3=Uk*2,Z3={draw(t,e){const n=ur(e/Q3),r=n*Uk;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},e4={draw(t,e){const n=ur(e),r=-n/2;t.rect(r,r,n,n)}},t4=.8908130915292852,Bk=yd(wd/10)/yd(7*wd/10),n4=yd(oh/10)*Bk,r4=-Ok(oh/10)*Bk,i4={draw(t,e){const n=ur(e*t4),r=n4*n,i=r4*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=oh*o/5,s=Ok(a),l=yd(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Cp=ur(3),o4={draw(t,e){const n=-ur(e/(Cp*3));t.moveTo(0,n*2),t.lineTo(-Cp*n,-n),t.lineTo(Cp*n,-n),t.closePath()}},Nn=-.5,On=ur(3)/2,dg=1/ur(12),a4=(dg/2+1)*3,s4={draw(t,e){const n=ur(e/a4),r=n/2,i=n*dg,o=r,a=n*dg+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Nn*r-On*i,On*r+Nn*i),t.lineTo(Nn*o-On*a,On*o+Nn*a),t.lineTo(Nn*s-On*l,On*s+Nn*l),t.lineTo(Nn*r+On*i,Nn*i-On*r),t.lineTo(Nn*o+On*a,Nn*a-On*o),t.lineTo(Nn*s+On*l,Nn*l-On*s),t.closePath()}};function l4(t,e){let n=null,r=r0(i);t=typeof t=="function"?t:Ke(t||o0),e=typeof e=="function"?e:Ke(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ke(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ke(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function bd(){}function xd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Fk(t){this._context=t}Fk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function u4(t){return new Fk(t)}function Vk(t){this._context=t}Vk.prototype={areaStart:bd,areaEnd:bd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function c4(t){return new Vk(t)}function zk(t){this._context=t}zk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function d4(t){return new zk(t)}function qk(t){this._context=t}qk.prototype={areaStart:bd,areaEnd:bd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function f4(t){return new qk(t)}function Xb(t){return t<0?-1:1}function Qb(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Xb(o)+Xb(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Zb(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function kp(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function _d(t){this._context=t}_d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kp(this,this._t0,Zb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,kp(this,Zb(this,n=Qb(this,t,e)),n);break;default:kp(this,this._t0,n=Qb(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Gk(t){this._context=new Hk(t)}(Gk.prototype=Object.create(_d.prototype)).point=function(t,e){_d.prototype.point.call(this,e,t)};function Hk(t){this._context=t}Hk.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function h4(t){return new _d(t)}function p4(t){return new Gk(t)}function Wk(t){this._context=t}Wk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=ex(t),i=ex(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ex(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function m4(t){return new Wk(t)}function sh(t,e){this._context=t,this._t=e}sh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function g4(t){return new sh(t,.5)}function v4(t){return new sh(t,0)}function y4(t){return new sh(t,1)}function Ra(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function fg(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function w4(t,e){return t[e]}function b4(t){const e=[];return e.key=t,e}function x4(){var t=Ke([]),e=fg,n=Ra,r=w4;function i(o){var a=Array.from(t.apply(this,arguments),b4),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=i0(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ke(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ke(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?fg:typeof o=="function"?o:Ke(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ra,i):n},i}function _4(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Ra(t,e)}}function S4(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Ra(t,e)}}function E4(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],d=c[r][1]||0,h=c[r-1][1]||0,g=(d-h)/2,v=0;v<s;++v){var y=t[e[v]],b=y[r][1]||0,w=y[r-1][1]||0;g+=b-w}l+=d,u+=g*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Ra(t,e)}}function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}var T4=["type","size","sizeType"];function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(this,arguments)}function tx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tx(Object(n),!0).forEach(function(r){A4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A4(t,e,n){return e=C4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C4(t){var e=k4(t,"string");return Fl(e)=="symbol"?e:e+""}function k4(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P4(t,e){if(t==null)return{};var n=I4(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function I4(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Kk={symbolCircle:o0,symbolCross:X3,symbolDiamond:Z3,symbolSquare:e4,symbolStar:i4,symbolTriangle:o4,symbolWye:s4},N4=Math.PI/180,O4=function(e){var n="symbol".concat(ih(e));return Kk[n]||o0},M4=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*N4;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},R4=function(e,n){Kk["symbol".concat(ih(e))]=n},a0=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=P4(e,T4),u=nx(nx({},l),{},{type:r,size:o,sizeType:s}),c=function(){var b=O4(r),w=l4().type(b).size(M4(o,s,r));return w()},d=u.className,h=u.cx,g=u.cy,v=ge(u,!0);return h===+h&&g===+g&&o===+o?I.createElement("path",hg({},v,{className:Se("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(g,")"),d:c()})):null};a0.registerSymbol=R4;function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}function pg(){return pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pg.apply(this,arguments)}function rx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rx(Object(n),!0).forEach(function(r){Vl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yk(r.key),r)}}function L4(t,e,n){return e&&D4(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function U4(t,e,n){return e=Sd(e),B4(t,Jk()?Reflect.construct(e,n||[],Sd(t).constructor):e.apply(t,n))}function B4(t,e){if(e&&($a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F4(t)}function F4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jk=function(){return!!t})()}function Sd(t){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sd(t)}function V4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mg(t,e)}function mg(t,e){return mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mg(t,e)}function Vl(t,e,n){return e=Yk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yk(t){var e=z4(t,"string");return $a(e)=="symbol"?e:e+""}function z4(t,e){if($a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mn=32,s0=function(t){function e(){return j4(this,e),U4(this,e,arguments)}return V4(e,t),L4(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Mn/2,a=Mn/6,s=Mn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Mn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Mn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Mn/8,"h").concat(Mn,"v").concat(Mn*3/4,"h").concat(-Mn,"z"),className:"recharts-legend-icon"});if(I.isValidElement(r.legendIcon)){var u=$4({},r);return delete u.legendIcon,I.cloneElement(r.legendIcon,u)}return I.createElement(a0,{fill:l,cx:o,cy:o,size:Mn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Mn,height:Mn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,v){var y=g.formatter||l,b=Se(Vl(Vl({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=be(g.value)?null:g.value;sr(!be(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=g.inactive?u:g.color;return I.createElement("li",pg({className:b,style:d,key:"legend-item-".concat(v)},_o(r.props,g,v)),I.createElement(og,{width:a,height:a,viewBox:c,style:h},r.renderIcon(g)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},y?y(w,g,v):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(P.PureComponent);Vl(s0,"displayName","Legend");Vl(s0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var q4=Gf;function G4(){this.__data__=new q4,this.size=0}var H4=G4;function W4(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var K4=W4;function J4(t){return this.__data__.get(t)}var Y4=J4;function X4(t){return this.__data__.has(t)}var Q4=X4,Z4=Gf,eU=Ky,tU=Jy,nU=200;function rU(t,e){var n=this.__data__;if(n instanceof Z4){var r=n.__data__;if(!eU||r.length<nU-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new tU(r)}return n.set(t,e),this.size=n.size,this}var iU=rU,oU=Gf,aU=H4,sU=K4,lU=Y4,uU=Q4,cU=iU;function ms(t){var e=this.__data__=new oU(t);this.size=e.size}ms.prototype.clear=aU;ms.prototype.delete=sU;ms.prototype.get=lU;ms.prototype.has=uU;ms.prototype.set=cU;var Xk=ms,dU="__lodash_hash_undefined__";function fU(t){return this.__data__.set(t,dU),this}var hU=fU;function pU(t){return this.__data__.has(t)}var mU=pU,gU=Jy,vU=hU,yU=mU;function Ed(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new gU;++e<n;)this.add(t[e])}Ed.prototype.add=Ed.prototype.push=vU;Ed.prototype.has=yU;var Qk=Ed;function wU(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Zk=wU;function bU(t,e){return t.has(e)}var eP=bU,xU=Qk,_U=Zk,SU=eP,EU=1,TU=2;function AU(t,e,n,r,i,o){var a=n&EU,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,g=n&TU?new xU:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var v=t[d],y=e[d];if(r)var b=a?r(y,v,d,e,t,o):r(v,y,d,t,e,o);if(b!==void 0){if(b)continue;h=!1;break}if(g){if(!_U(e,function(w,x){if(!SU(g,x)&&(v===w||i(v,w,n,r,o)))return g.push(x)})){h=!1;break}}else if(!(v===y||i(v,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var tP=AU,CU=Er,kU=CU.Uint8Array,PU=kU;function IU(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var NU=IU;function OU(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var l0=OU,ix=Iu,ox=PU,MU=Wy,RU=tP,$U=NU,jU=l0,DU=1,LU=2,UU="[object Boolean]",BU="[object Date]",FU="[object Error]",VU="[object Map]",zU="[object Number]",qU="[object RegExp]",GU="[object Set]",HU="[object String]",WU="[object Symbol]",KU="[object ArrayBuffer]",JU="[object DataView]",ax=ix?ix.prototype:void 0,Pp=ax?ax.valueOf:void 0;function YU(t,e,n,r,i,o,a){switch(n){case JU:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case KU:return!(t.byteLength!=e.byteLength||!o(new ox(t),new ox(e)));case UU:case BU:case zU:return MU(+t,+e);case FU:return t.name==e.name&&t.message==e.message;case qU:case HU:return t==e+"";case VU:var s=$U;case GU:var l=r&DU;if(s||(s=jU),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=LU,a.set(t,e);var c=RU(s(t),s(e),r,i,o,a);return a.delete(t),c;case WU:if(Pp)return Pp.call(t)==Pp.call(e)}return!1}var XU=YU;function QU(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var nP=QU,ZU=nP,e6=fn;function t6(t,e,n){var r=e(t);return e6(t)?r:ZU(r,n(t))}var n6=t6;function r6(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var i6=r6;function o6(){return[]}var a6=o6,s6=i6,l6=a6,u6=Object.prototype,c6=u6.propertyIsEnumerable,sx=Object.getOwnPropertySymbols,d6=sx?function(t){return t==null?[]:(t=Object(t),s6(sx(t),function(e){return c6.call(t,e)}))}:l6,f6=d6;function h6(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var p6=h6,m6=Yr,g6=Xr,v6="[object Arguments]";function y6(t){return g6(t)&&m6(t)==v6}var w6=y6,lx=w6,b6=Xr,rP=Object.prototype,x6=rP.hasOwnProperty,_6=rP.propertyIsEnumerable,S6=lx(function(){return arguments}())?lx:function(t){return b6(t)&&x6.call(t,"callee")&&!_6.call(t,"callee")},u0=S6,Td={exports:{}};function E6(){return!1}var T6=E6;Td.exports;(function(t,e){var n=Er,r=T6,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Td,Td.exports);var iP=Td.exports,A6=9007199254740991,C6=/^(?:0|[1-9]\d*)$/;function k6(t,e){var n=typeof t;return e=e??A6,!!e&&(n=="number"||n!="symbol"&&C6.test(t))&&t>-1&&t%1==0&&t<e}var c0=k6,P6=9007199254740991;function I6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=P6}var d0=I6,N6=Yr,O6=d0,M6=Xr,R6="[object Arguments]",$6="[object Array]",j6="[object Boolean]",D6="[object Date]",L6="[object Error]",U6="[object Function]",B6="[object Map]",F6="[object Number]",V6="[object Object]",z6="[object RegExp]",q6="[object Set]",G6="[object String]",H6="[object WeakMap]",W6="[object ArrayBuffer]",K6="[object DataView]",J6="[object Float32Array]",Y6="[object Float64Array]",X6="[object Int8Array]",Q6="[object Int16Array]",Z6="[object Int32Array]",eB="[object Uint8Array]",tB="[object Uint8ClampedArray]",nB="[object Uint16Array]",rB="[object Uint32Array]",et={};et[J6]=et[Y6]=et[X6]=et[Q6]=et[Z6]=et[eB]=et[tB]=et[nB]=et[rB]=!0;et[R6]=et[$6]=et[W6]=et[j6]=et[K6]=et[D6]=et[L6]=et[U6]=et[B6]=et[F6]=et[V6]=et[z6]=et[q6]=et[G6]=et[H6]=!1;function iB(t){return M6(t)&&O6(t.length)&&!!et[N6(t)]}var oB=iB;function aB(t){return function(e){return t(e)}}var oP=aB,Ad={exports:{}};Ad.exports;(function(t,e){var n=hk,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Ad,Ad.exports);var sB=Ad.exports,lB=oB,uB=oP,ux=sB,cx=ux&&ux.isTypedArray,cB=cx?uB(cx):lB,aP=cB,dB=p6,fB=u0,hB=fn,pB=iP,mB=c0,gB=aP,vB=Object.prototype,yB=vB.hasOwnProperty;function wB(t,e){var n=hB(t),r=!n&&fB(t),i=!n&&!r&&pB(t),o=!n&&!r&&!i&&gB(t),a=n||r||i||o,s=a?dB(t.length,String):[],l=s.length;for(var u in t)(e||yB.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||mB(u,l)))&&s.push(u);return s}var bB=wB,xB=Object.prototype;function _B(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||xB;return t===n}var SB=_B;function EB(t,e){return function(n){return t(e(n))}}var sP=EB,TB=sP,AB=TB(Object.keys,Object),CB=AB,kB=SB,PB=CB,IB=Object.prototype,NB=IB.hasOwnProperty;function OB(t){if(!kB(t))return PB(t);var e=[];for(var n in Object(t))NB.call(t,n)&&n!="constructor"&&e.push(n);return e}var MB=OB,RB=Hy,$B=d0;function jB(t){return t!=null&&$B(t.length)&&!RB(t)}var Ou=jB,DB=bB,LB=MB,UB=Ou;function BB(t){return UB(t)?DB(t):LB(t)}var lh=BB,FB=n6,VB=f6,zB=lh;function qB(t){return FB(t,zB,VB)}var GB=qB,dx=GB,HB=1,WB=Object.prototype,KB=WB.hasOwnProperty;function JB(t,e,n,r,i,o){var a=n&HB,s=dx(t),l=s.length,u=dx(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in e:KB.call(e,h)))return!1}var g=o.get(t),v=o.get(e);if(g&&v)return g==e&&v==t;var y=!0;o.set(t,e),o.set(e,t);for(var b=a;++d<l;){h=s[d];var w=t[h],x=e[h];if(r)var _=a?r(x,w,h,e,t,o):r(w,x,h,t,e,o);if(!(_===void 0?w===x||i(w,x,n,r,o):_)){y=!1;break}b||(b=h=="constructor")}if(y&&!b){var T=t.constructor,S=e.constructor;T!=S&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof S=="function"&&S instanceof S)&&(y=!1)}return o.delete(t),o.delete(e),y}var YB=JB,XB=Io,QB=Er,ZB=XB(QB,"DataView"),eF=ZB,tF=Io,nF=Er,rF=tF(nF,"Promise"),iF=rF,oF=Io,aF=Er,sF=oF(aF,"Set"),lP=sF,lF=Io,uF=Er,cF=lF(uF,"WeakMap"),dF=cF,gg=eF,vg=Ky,yg=iF,wg=lP,bg=dF,uP=Yr,gs=mk,fx="[object Map]",fF="[object Object]",hx="[object Promise]",px="[object Set]",mx="[object WeakMap]",gx="[object DataView]",hF=gs(gg),pF=gs(vg),mF=gs(yg),gF=gs(wg),vF=gs(bg),Ji=uP;(gg&&Ji(new gg(new ArrayBuffer(1)))!=gx||vg&&Ji(new vg)!=fx||yg&&Ji(yg.resolve())!=hx||wg&&Ji(new wg)!=px||bg&&Ji(new bg)!=mx)&&(Ji=function(t){var e=uP(t),n=e==fF?t.constructor:void 0,r=n?gs(n):"";if(r)switch(r){case hF:return gx;case pF:return fx;case mF:return hx;case gF:return px;case vF:return mx}return e});var yF=Ji,Ip=Xk,wF=tP,bF=XU,xF=YB,vx=yF,yx=fn,wx=iP,_F=aP,SF=1,bx="[object Arguments]",xx="[object Array]",lc="[object Object]",EF=Object.prototype,_x=EF.hasOwnProperty;function TF(t,e,n,r,i,o){var a=yx(t),s=yx(e),l=a?xx:vx(t),u=s?xx:vx(e);l=l==bx?lc:l,u=u==bx?lc:u;var c=l==lc,d=u==lc,h=l==u;if(h&&wx(t)){if(!wx(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new Ip),a||_F(t)?wF(t,e,n,r,i,o):bF(t,e,l,n,r,i,o);if(!(n&SF)){var g=c&&_x.call(t,"__wrapped__"),v=d&&_x.call(e,"__wrapped__");if(g||v){var y=g?t.value():t,b=v?e.value():e;return o||(o=new Ip),i(y,b,n,r,o)}}return h?(o||(o=new Ip),xF(t,e,n,r,i,o)):!1}var AF=TF,CF=AF,Sx=Xr;function cP(t,e,n,r,i){return t===e?!0:t==null||e==null||!Sx(t)&&!Sx(e)?t!==t&&e!==e:CF(t,e,n,r,cP,i)}var f0=cP,kF=Xk,PF=f0,IF=1,NF=2;function OF(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new kF;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?PF(c,u,IF|NF,r,d):h))return!1}}return!0}var MF=OF,RF=Ni;function $F(t){return t===t&&!RF(t)}var dP=$F,jF=dP,DF=lh;function LF(t){for(var e=DF(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,jF(i)]}return e}var UF=LF;function BF(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var fP=BF,FF=MF,VF=UF,zF=fP;function qF(t){var e=VF(t);return e.length==1&&e[0][2]?zF(e[0][0],e[0][1]):function(n){return n===t||FF(n,t,e)}}var GF=qF;function HF(t,e){return t!=null&&e in Object(t)}var WF=HF,KF=bk,JF=u0,YF=fn,XF=c0,QF=d0,ZF=Wf;function e8(t,e,n){e=KF(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=ZF(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&QF(i)&&XF(a,i)&&(YF(t)||JF(t)))}var t8=e8,n8=WF,r8=t8;function i8(t,e){return t!=null&&r8(t,e,n8)}var o8=i8,a8=f0,s8=xk,l8=o8,u8=Gy,c8=dP,d8=fP,f8=Wf,h8=1,p8=2;function m8(t,e){return u8(t)&&c8(e)?d8(f8(t),e):function(n){var r=s8(n,t);return r===void 0&&r===e?l8(n,t):a8(e,r,h8|p8)}}var g8=m8;function v8(t){return t}var vs=v8;function y8(t){return function(e){return e==null?void 0:e[t]}}var w8=y8,b8=Qy;function x8(t){return function(e){return b8(e,t)}}var _8=x8,S8=w8,E8=_8,T8=Gy,A8=Wf;function C8(t){return T8(t)?S8(A8(t)):E8(t)}var k8=C8,P8=GF,I8=g8,N8=vs,O8=fn,M8=k8;function R8(t){return typeof t=="function"?t:t==null?N8:typeof t=="object"?O8(t)?I8(t[0],t[1]):P8(t):M8(t)}var Tr=R8;function $8(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var hP=$8;function j8(t){return t!==t}var D8=j8;function L8(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var U8=L8,B8=hP,F8=D8,V8=U8;function z8(t,e,n){return e===e?V8(t,e,n):B8(t,F8,n)}var q8=z8,G8=q8;function H8(t,e){var n=t==null?0:t.length;return!!n&&G8(t,e,0)>-1}var W8=H8;function K8(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var J8=K8;function Y8(){}var X8=Y8,Np=lP,Q8=X8,Z8=l0,e7=1/0,t7=Np&&1/Z8(new Np([,-0]))[1]==e7?function(t){return new Np(t)}:Q8,n7=t7,r7=Qk,i7=W8,o7=J8,a7=eP,s7=n7,l7=l0,u7=200;function c7(t,e,n){var r=-1,i=i7,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=o7;else if(o>=u7){var u=e?null:s7(t);if(u)return l7(u);a=!1,i=a7,l=new r7}else l=e?[]:s;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var d7=c7,f7=Tr,h7=d7;function p7(t,e){return t&&t.length?h7(t,f7(e)):[]}var m7=p7;const Ex=Be(m7);function pP(t,e,n){return e===!0?Ex(t,n):be(e)?Ex(t,e):t}function ja(t){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(t)}var g7=["ref"];function Tx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tx(Object(n),!0).forEach(function(r){uh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ax(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gP(r.key),r)}}function y7(t,e,n){return e&&Ax(t.prototype,e),n&&Ax(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function w7(t,e,n){return e=Cd(e),b7(t,mP()?Reflect.construct(e,n||[],Cd(t).constructor):e.apply(t,n))}function b7(t,e){if(e&&(ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x7(t)}function x7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mP=function(){return!!t})()}function Cd(t){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cd(t)}function _7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xg(t,e)}function xg(t,e){return xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xg(t,e)}function uh(t,e,n){return e=gP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gP(t){var e=S7(t,"string");return ja(e)=="symbol"?e:e+""}function S7(t,e){if(ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function E7(t,e){if(t==null)return{};var n=T7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function A7(t){return t.value}function C7(t,e){if(I.isValidElement(t))return I.cloneElement(t,e);if(typeof t=="function")return I.createElement(t,e);e.ref;var n=E7(e,g7);return I.createElement(s0,n)}var Cx=1,Ei=function(t){function e(){var n;v7(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=w7(this,e,[].concat(i)),uh(n,"lastBoundingBox",{width:-1,height:-1}),n}return _7(e,t),y7(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Cx||Math.abs(i.height-this.lastBoundingBox.height)>Cx)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Cr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();d={left:((u||0)-g.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Cr(Cr({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=Cr(Cr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(g){r.wrapperNode=g}},C7(o,Cr(Cr({},this.props),{},{payload:pP(c,u,A7)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Cr(Cr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&X(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(P.PureComponent);uh(Ei,"displayName","Legend");uh(Ei,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var kx=Iu,k7=u0,P7=fn,Px=kx?kx.isConcatSpreadable:void 0;function I7(t){return P7(t)||k7(t)||!!(Px&&t&&t[Px])}var N7=I7,O7=nP,M7=N7;function vP(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=M7),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?vP(s,e-1,n,r,i):O7(i,s):r||(i[i.length]=s)}return i}var yP=vP;function R7(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var $7=R7,j7=$7,D7=j7(),L7=D7,U7=L7,B7=lh;function F7(t,e){return t&&U7(t,e,B7)}var wP=F7,V7=Ou;function z7(t,e){return function(n,r){if(n==null)return n;if(!V7(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var q7=z7,G7=wP,H7=q7,W7=H7(G7),h0=W7,K7=h0,J7=Ou;function Y7(t,e){var n=-1,r=J7(t)?Array(t.length):[];return K7(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var bP=Y7;function X7(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Q7=X7,Ix=us;function Z7(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=Ix(t),a=e!==void 0,s=e===null,l=e===e,u=Ix(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var eV=Z7,tV=eV;function nV(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=tV(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var rV=nV,Op=Xy,iV=Qy,oV=Tr,aV=bP,sV=Q7,lV=oP,uV=rV,cV=vs,dV=fn;function fV(t,e,n){e.length?e=Op(e,function(o){return dV(o)?function(a){return iV(a,o.length===1?o[0]:o)}:o}):e=[cV];var r=-1;e=Op(e,lV(oV));var i=aV(t,function(o,a,s){var l=Op(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return sV(i,function(o,a){return uV(o,a,n)})}var hV=fV;function pV(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var mV=pV,gV=mV,Nx=Math.max;function vV(t,e,n){return e=Nx(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Nx(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),gV(t,this,s)}}var yV=vV;function wV(t){return function(){return t}}var bV=wV,xV=Io,_V=function(){try{var t=xV(Object,"defineProperty");return t({},"",{}),t}catch{}}(),xP=_V,SV=bV,Ox=xP,EV=vs,TV=Ox?function(t,e){return Ox(t,"toString",{configurable:!0,enumerable:!1,value:SV(e),writable:!0})}:EV,AV=TV,CV=800,kV=16,PV=Date.now;function IV(t){var e=0,n=0;return function(){var r=PV(),i=kV-(r-n);if(n=r,i>0){if(++e>=CV)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var NV=IV,OV=AV,MV=NV,RV=MV(OV),$V=RV,jV=vs,DV=yV,LV=$V;function UV(t,e){return LV(DV(t,e,jV),t+"")}var BV=UV,FV=Wy,VV=Ou,zV=c0,qV=Ni;function GV(t,e,n){if(!qV(n))return!1;var r=typeof e;return(r=="number"?VV(n)&&zV(e,n.length):r=="string"&&e in n)?FV(n[e],t):!1}var ch=GV,HV=yP,WV=hV,KV=BV,Mx=ch,JV=KV(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Mx(t,e[0],e[1])?e=[]:n>2&&Mx(e[0],e[1],e[2])&&(e=[e[0]]),WV(t,HV(e,1),[])}),YV=JV;const p0=Be(YV);function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function _g(){return _g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_g.apply(this,arguments)}function XV(t,e){return tz(t)||ez(t,e)||ZV(t,e)||QV()}function QV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZV(t,e){if(t){if(typeof t=="string")return Rx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rx(t,e)}}function Rx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ez(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function tz(t){if(Array.isArray(t))return t}function $x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$x(Object(n),!0).forEach(function(r){nz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$x(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nz(t,e,n){return e=rz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rz(t){var e=iz(t,"string");return zl(e)=="symbol"?e:e+""}function iz(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oz(t){return Array.isArray(t)&&kt(t[0])&&kt(t[1])?t.join(" ~ "):t}var az=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,g=e.wrapperClassName,v=e.labelClassName,y=e.label,b=e.labelFormatter,w=e.accessibilityLayer,x=w===void 0?!1:w,_=function(){if(c&&c.length){var R={padding:0,margin:0},D=(h?p0(c,h):c).map(function(U,j){if(U.type==="none")return null;var M=Mp({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},s),L=U.formatter||d||oz,$=U.value,B=U.name,q=$,Y=B;if(L&&q!=null&&Y!=null){var W=L($,B,U,j,c);if(Array.isArray(W)){var re=XV(W,2);q=re[0],Y=re[1]}else q=W}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:M},kt(Y)?I.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,kt(Y)?I.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,I.createElement("span",{className:"recharts-tooltip-item-value"},q),I.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:R},D)}return null},T=Mp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Mp({margin:0},u),E=!_e(y),A=E?y:"",C=Se("recharts-default-tooltip",g),k=Se("recharts-tooltip-label",v);E&&b&&c!==void 0&&c!==null&&(A=b(y,c));var N=x?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",_g({className:C,style:T},N),I.createElement("p",{className:k,style:S},I.isValidElement(A)?A:"".concat(A)),_())};function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function uc(t,e,n){return e=sz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sz(t){var e=lz(t,"string");return ql(e)=="symbol"?e:e+""}function lz(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bs="recharts-tooltip-wrapper",uz={visibility:"hidden"};function cz(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Se(Bs,uc(uc(uc(uc({},"".concat(Bs,"-right"),X(n)&&e&&X(e.x)&&n>=e.x),"".concat(Bs,"-left"),X(n)&&e&&X(e.x)&&n<e.x),"".concat(Bs,"-bottom"),X(r)&&e&&X(e.y)&&r>=e.y),"".concat(Bs,"-top"),X(r)&&e&&X(e.y)&&r<e.y))}function jx(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&X(o[r]))return o[r];var c=n[r]-s-i,d=n[r]+i;if(e[r])return a[r]?c:d;if(a[r]){var h=c,g=l[r];return h<g?Math.max(d,l[r]):Math.max(c,l[r])}var v=d+s,y=l[r]+u;return v>y?Math.max(c,l[r]):Math.max(d,l[r])}function dz(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function fz(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return a.height>0&&a.width>0&&n?(c=jx({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=jx({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=dz({translateX:c,translateY:d,useTranslate3d:s})):u=uz,{cssProperties:u,cssClasses:cz({translateX:c,translateY:d,coordinate:n})}}function Da(t){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(t)}function Dx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dx(Object(n),!0).forEach(function(r){Eg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SP(r.key),r)}}function mz(t,e,n){return e&&pz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gz(t,e,n){return e=kd(e),vz(t,_P()?Reflect.construct(e,n||[],kd(t).constructor):e.apply(t,n))}function vz(t,e){if(e&&(Da(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yz(t)}function yz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_P=function(){return!!t})()}function kd(t){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kd(t)}function wz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sg(t,e)}function Sg(t,e){return Sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sg(t,e)}function Eg(t,e,n){return e=SP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SP(t){var e=bz(t,"string");return Da(e)=="symbol"?e:e+""}function bz(t,e){if(Da(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Da(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ux=1,xz=function(t){function e(){var n;hz(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=gz(this,e,[].concat(i)),Eg(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Eg(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return wz(e,t),mz(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Ux||Math.abs(r.height-this.state.lastBoundingBox.height)>Ux)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,g=i.offset,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,x=i.wrapperStyle,_=fz({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:g,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:w}),T=_.cssClasses,S=_.cssProperties,E=Lx(Lx({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return I.createElement("div",{tabIndex:-1,className:T,style:E,ref:function(C){r.wrapperNode=C}},u)}}])}(P.PureComponent),_z=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},No={isSsr:_z()};function La(t){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(t)}function Bx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bx(Object(n),!0).forEach(function(r){m0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ez(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TP(r.key),r)}}function Tz(t,e,n){return e&&Ez(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Az(t,e,n){return e=Pd(e),Cz(t,EP()?Reflect.construct(e,n||[],Pd(t).constructor):e.apply(t,n))}function Cz(t,e){if(e&&(La(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kz(t)}function kz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EP=function(){return!!t})()}function Pd(t){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pd(t)}function Pz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tg(t,e)}function Tg(t,e){return Tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tg(t,e)}function m0(t,e,n){return e=TP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TP(t){var e=Iz(t,"string");return La(e)=="symbol"?e:e+""}function Iz(t,e){if(La(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(La(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nz(t){return t.dataKey}function Oz(t,e){return I.isValidElement(t)?I.cloneElement(t,e):typeof t=="function"?I.createElement(t,e):I.createElement(az,e)}var Rn=function(t){function e(){return Sz(this,e),Az(this,e,arguments)}return Pz(e,t),Tz(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,g=i.offset,v=i.payload,y=i.payloadUniqBy,b=i.position,w=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,T=i.wrapperStyle,S=v??[];d&&S.length&&(S=pP(v.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),y,Nz));var E=S.length>0;return I.createElement(xz,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:E,offset:g,position:b,reverseDirection:w,useTranslate3d:x,viewBox:_,wrapperStyle:T},Oz(u,Fx(Fx({},this.props),{},{payload:S})))}}])}(P.PureComponent);m0(Rn,"displayName","Tooltip");m0(Rn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!No.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Mz=Er,Rz=function(){return Mz.Date.now()},$z=Rz,jz=/\s/;function Dz(t){for(var e=t.length;e--&&jz.test(t.charAt(e)););return e}var Lz=Dz,Uz=Lz,Bz=/^\s+/;function Fz(t){return t&&t.slice(0,Uz(t)+1).replace(Bz,"")}var Vz=Fz,zz=Vz,Vx=Ni,qz=us,zx=NaN,Gz=/^[-+]0x[0-9a-f]+$/i,Hz=/^0b[01]+$/i,Wz=/^0o[0-7]+$/i,Kz=parseInt;function Jz(t){if(typeof t=="number")return t;if(qz(t))return zx;if(Vx(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Vx(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=zz(t);var n=Hz.test(t);return n||Wz.test(t)?Kz(t.slice(2),n?2:8):Gz.test(t)?zx:+t}var AP=Jz,Yz=Ni,Rp=$z,qx=AP,Xz="Expected a function",Qz=Math.max,Zz=Math.min;function eq(t,e,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Xz);e=qx(e)||0,Yz(n)&&(c=!!n.leading,d="maxWait"in n,o=d?Qz(qx(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function g(E){var A=r,C=i;return r=i=void 0,u=E,a=t.apply(C,A),a}function v(E){return u=E,s=setTimeout(w,e),c?g(E):a}function y(E){var A=E-l,C=E-u,k=e-A;return d?Zz(k,o-C):k}function b(E){var A=E-l,C=E-u;return l===void 0||A>=e||A<0||d&&C>=o}function w(){var E=Rp();if(b(E))return x(E);s=setTimeout(w,y(E))}function x(E){return s=void 0,h&&r?g(E):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?a:x(Rp())}function S(){var E=Rp(),A=b(E);if(r=arguments,i=this,l=E,A){if(s===void 0)return v(l);if(d)return clearTimeout(s),s=setTimeout(w,e),g(l)}return s===void 0&&(s=setTimeout(w,e)),a}return S.cancel=_,S.flush=T,S}var tq=eq,nq=tq,rq=Ni,iq="Expected a function";function oq(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(iq);return rq(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),nq(t,e,{leading:r,maxWait:e,trailing:i})}var aq=oq;const CP=Be(aq);function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function Gx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gx(Object(n),!0).forEach(function(r){sq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sq(t,e,n){return e=lq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lq(t){var e=uq(t,"string");return Gl(e)=="symbol"?e:e+""}function uq(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cq(t,e){return pq(t)||hq(t,e)||fq(t,e)||dq()}function dq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fq(t,e){if(t){if(typeof t=="string")return Hx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hx(t,e)}}function Hx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function pq(t){if(Array.isArray(t))return t}var g0=P.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,g=t.children,v=t.debounce,y=v===void 0?0:v,b=t.id,w=t.className,x=t.onResize,_=t.style,T=_===void 0?{}:_,S=P.useRef(null),E=P.useRef();E.current=x,P.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=P.useState({containerWidth:i.width,containerHeight:i.height}),C=cq(A,2),k=C[0],N=C[1],O=P.useCallback(function(D,U){N(function(j){var M=Math.round(D),L=Math.round(U);return j.containerWidth===M&&j.containerHeight===L?j:{containerWidth:M,containerHeight:L}})},[]);P.useEffect(function(){var D=function(B){var q,Y=B[0].contentRect,W=Y.width,re=Y.height;O(W,re),(q=E.current)===null||q===void 0||q.call(E,W,re)};y>0&&(D=CP(D,y,{trailing:!0,leading:!1}));var U=new ResizeObserver(D),j=S.current.getBoundingClientRect(),M=j.width,L=j.height;return O(M,L),U.observe(S.current),function(){U.disconnect()}},[O,y]);var R=P.useMemo(function(){var D=k.containerWidth,U=k.containerHeight;if(D<0||U<0)return null;sr(ao(a)||ao(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),sr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var j=ao(a)?D:a,M=ao(l)?U:l;n&&n>0&&(j?M=j/n:M&&(j=M*n),h&&M>h&&(M=h)),sr(j>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,M,a,l,c,d,n);var L=!Array.isArray(g)&&Lr(g.type).endsWith("Chart");return I.Children.map(g,function($){return I.isValidElement($)?P.cloneElement($,cc({width:j,height:M},L?{style:cc({height:"100%",width:"100%",maxHeight:M,maxWidth:j},$.props.style)}:{})):$})},[n,g,l,h,d,c,k,a]);return I.createElement("div",{id:b?"".concat(b):void 0,className:Se("recharts-responsive-container",w),style:cc(cc({},T),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:S},R)}),dh=function(e){return null};dh.displayName="Cell";function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function Wx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wx(Object(n),!0).forEach(function(r){mq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mq(t,e,n){return e=gq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gq(t){var e=vq(t,"string");return Hl(e)=="symbol"?e:e+""}function vq(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lo={widthCache:{},cacheCount:0},yq=2e3,wq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Kx="recharts_measurement_span";function bq(t){var e=Ag({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var pl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||No.isSsr)return{width:0,height:0};var r=bq(n),i=JSON.stringify({text:e,copyStyle:r});if(Lo.widthCache[i])return Lo.widthCache[i];try{var o=document.getElementById(Kx);o||(o=document.createElement("span"),o.setAttribute("id",Kx),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Ag(Ag({},wq),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Lo.widthCache[i]=l,++Lo.cacheCount>yq&&(Lo.cacheCount=0,Lo.widthCache={}),l}catch{return{width:0,height:0}}},xq=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function Id(t,e){return Tq(t)||Eq(t,e)||Sq(t,e)||_q()}function _q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sq(t,e){if(t){if(typeof t=="string")return Jx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jx(t,e)}}function Jx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Tq(t){if(Array.isArray(t))return t}function Aq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kq(r.key),r)}}function Cq(t,e,n){return e&&Yx(t.prototype,e),n&&Yx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kq(t){var e=Pq(t,"string");return Wl(e)=="symbol"?e:e+""}function Pq(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Iq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Nq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Oq=Object.keys(kP),la="NaN";function Mq(t,e){return t*kP[e]}var dc=function(){function t(e,n){Aq(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Iq.test(n)&&(this.num=NaN,this.unit=""),Oq.includes(n)&&(this.num=Mq(e,n),this.unit="px")}return Cq(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Nq.exec(n))!==null&&r!==void 0?r:[],o=Id(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function PP(t){if(t.includes(la))return la;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Xx.exec(e))!==null&&n!==void 0?n:[],i=Id(r,4),o=i[1],a=i[2],s=i[3],l=dc.parse(o??""),u=dc.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return la;e=e.replace(Xx,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=Qx.exec(e))!==null&&d!==void 0?d:[],g=Id(h,4),v=g[1],y=g[2],b=g[3],w=dc.parse(v??""),x=dc.parse(b??""),_=y==="+"?w.add(x):w.subtract(x);if(_.isNaN())return la;e=e.replace(Qx,_.toString())}return e}var Zx=/\(([^()]*)\)/;function Rq(t){for(var e=t;e.includes("(");){var n=Zx.exec(e),r=Id(n,2),i=r[1];e=e.replace(Zx,PP(i))}return e}function $q(t){var e=t.replace(/\s+/g,"");return e=Rq(e),e=PP(e),e}function jq(t){try{return $q(t)}catch{return la}}function $p(t){var e=jq(t.slice(5,-1));return e===la?"":e}var Dq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Lq=["dx","dy","angle","className","breakAll"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cg.apply(this,arguments)}function e_(t,e){if(t==null)return{};var n=Uq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function t_(t,e){return zq(t)||Vq(t,e)||Fq(t,e)||Bq()}function Bq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fq(t,e){if(t){if(typeof t=="string")return n_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n_(t,e)}}function n_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function zq(t){if(Array.isArray(t))return t}var IP=/[ \f\n\r\t\v\u2028\u2029]+/,NP=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];_e(n)||(r?o=n.toString().split(""):o=n.toString().split(IP));var a=o.map(function(l){return{word:l,width:pl(l,i).width}}),s=r?0:pl("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},qq=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=X(a),d=s,h=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce(function(M,L){var $=L.word,B=L.width,q=M[M.length-1];if(q&&(i==null||o||q.width+B+r<Number(i)))q.words.push($),q.width+=B+r;else{var Y={words:[$],width:B};M.push(Y)}return M},[])},g=h(n),v=function(j){return j.reduce(function(M,L){return M.width>L.width?M:L})};if(!c)return g;for(var y="",b=function(j){var M=d.slice(0,j),L=NP({breakAll:u,style:l,children:M+y}).wordsWithComputedWidth,$=h(L),B=$.length>a||v($).width>Number(i);return[B,$]},w=0,x=d.length-1,_=0,T;w<=x&&_<=d.length-1;){var S=Math.floor((w+x)/2),E=S-1,A=b(E),C=t_(A,2),k=C[0],N=C[1],O=b(S),R=t_(O,1),D=R[0];if(!k&&!D&&(w=S+1),k&&D&&(x=S-1),!k&&D){T=N;break}_++}return T||g},r_=function(e){var n=_e(e)?[]:e.toString().split(IP);return[{words:n}]},Gq=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!No.isSsr){var l,u,c=NP({breakAll:a,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return r_(i);return qq({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return r_(i)},i_="#808080",So=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,g=h===void 0?"start":h,v=e.verticalAnchor,y=v===void 0?"end":v,b=e.fill,w=b===void 0?i_:b,x=e_(e,Dq),_=P.useMemo(function(){return Gq({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),T=x.dx,S=x.dy,E=x.angle,A=x.className,C=x.breakAll,k=e_(x,Lq);if(!kt(r)||!kt(o))return null;var N=r+(X(T)?T:0),O=o+(X(S)?S:0),R;switch(y){case"start":R=$p("calc(".concat(u,")"));break;case"middle":R=$p("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=$p("calc(".concat(_.length-1," * -").concat(s,")"));break}var D=[];if(d){var U=_[0].width,j=x.width;D.push("scale(".concat((X(j)?j/U:1)/U,")"))}return E&&D.push("rotate(".concat(E,", ").concat(N,", ").concat(O,")")),D.length&&(k.transform=D.join(" ")),I.createElement("text",Cg({},ge(k,!0),{x:N,y:O,className:Se("recharts-text",A),textAnchor:g,fill:w.includes("url")?i_:w}),_.map(function(M,L){var $=M.words.join(C?"":" ");return I.createElement("tspan",{x:N,dy:L===0?R:s,key:"".concat($,"-").concat(L)},$)}))};function Ti(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hq(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function v0(t){let e,n,r;t.length!==2?(e=Ti,n=(s,l)=>Ti(t(s),l),r=(s,l)=>t(s)-l):(e=t===Ti||t===Hq?t:Wq,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function Wq(){return 0}function OP(t){return t===null?NaN:+t}function*Kq(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Jq=v0(Ti),Mu=Jq.right;v0(OP).center;class o_ extends Map{constructor(e,n=Qq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(a_(this,e))}has(e){return super.has(a_(this,e))}set(e,n){return super.set(Yq(this,e),n)}delete(e){return super.delete(Xq(this,e))}}function a_({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Yq({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Xq({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Qq(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Zq(t=Ti){if(t===Ti)return MP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function MP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const eG=Math.sqrt(50),tG=Math.sqrt(10),nG=Math.sqrt(2);function Nd(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=eG?10:o>=tG?5:o>=nG?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Nd(t,e,n*2):[s,l,u]}function kg(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Nd(e,t,n):Nd(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Pg(t,e,n){return e=+e,t=+t,n=+n,Nd(t,e,n)[2]}function Ig(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Pg(e,t,n):Pg(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function s_(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function l_(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function RP(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?MP:Zq(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*d/l+h)),v=Math.min(r,Math.floor(e+(l-u)*d/l+h));RP(t,e,g,v,i)}const o=t[e];let a=n,s=r;for(Fs(t,n,e),i(t[r],o)>0&&Fs(t,n,r);a<s;){for(Fs(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Fs(t,n,s):(++s,Fs(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Fs(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function rG(t,e,n){if(t=Float64Array.from(Kq(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return l_(t);if(e>=1)return s_(t);var r,i=(r-1)*e,o=Math.floor(i),a=s_(RP(t,o).subarray(0,o+1)),s=l_(t.subarray(o+1));return a+(s-a)*(i-o)}}function iG(t,e,n=OP){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function oG(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Wn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Qr(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ng=Symbol("implicit");function y0(){var t=new o_,e=[],n=[],r=Ng;function i(o){let a=t.get(o);if(a===void 0){if(r!==Ng)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new o_;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return y0(e,n).unknown(r)},Wn.apply(i,arguments),i}function Kl(){var t=y0().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,g=i<r,v=g?i:r,y=g?r:i;o=(y-v)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),v+=(y-v-o*(h-l))*c,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var b=oG(h).map(function(w){return v+o*w});return n(g?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Kl(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Wn.apply(d(),arguments)}function $P(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return $P(e())},t}function ml(){return $P(Kl.apply(null,arguments).paddingInner(1))}function w0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function jP(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ru(){}var Jl=.7,Od=1/Jl,xa="\\s*([+-]?\\d+)\\s*",Yl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",br="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aG=/^#([0-9a-f]{3,8})$/,sG=new RegExp(`^rgb\\(${xa},${xa},${xa}\\)$`),lG=new RegExp(`^rgb\\(${br},${br},${br}\\)$`),uG=new RegExp(`^rgba\\(${xa},${xa},${xa},${Yl}\\)$`),cG=new RegExp(`^rgba\\(${br},${br},${br},${Yl}\\)$`),dG=new RegExp(`^hsl\\(${Yl},${br},${br}\\)$`),fG=new RegExp(`^hsla\\(${Yl},${br},${br},${Yl}\\)$`),u_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};w0(Ru,Xl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:c_,formatHex:c_,formatHex8:hG,formatHsl:pG,formatRgb:d_,toString:d_});function c_(){return this.rgb().formatHex()}function hG(){return this.rgb().formatHex8()}function pG(){return DP(this).formatHsl()}function d_(){return this.rgb().formatRgb()}function Xl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=aG.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?f_(e):n===3?new ln(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sG.exec(t))?new ln(e[1],e[2],e[3],1):(e=lG.exec(t))?new ln(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=uG.exec(t))?fc(e[1],e[2],e[3],e[4]):(e=cG.exec(t))?fc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dG.exec(t))?m_(e[1],e[2]/100,e[3]/100,1):(e=fG.exec(t))?m_(e[1],e[2]/100,e[3]/100,e[4]):u_.hasOwnProperty(t)?f_(u_[t]):t==="transparent"?new ln(NaN,NaN,NaN,0):null}function f_(t){return new ln(t>>16&255,t>>8&255,t&255,1)}function fc(t,e,n,r){return r<=0&&(t=e=n=NaN),new ln(t,e,n,r)}function mG(t){return t instanceof Ru||(t=Xl(t)),t?(t=t.rgb(),new ln(t.r,t.g,t.b,t.opacity)):new ln}function Og(t,e,n,r){return arguments.length===1?mG(t):new ln(t,e,n,r??1)}function ln(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}w0(ln,Og,jP(Ru,{brighter(t){return t=t==null?Od:Math.pow(Od,t),new ln(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jl:Math.pow(Jl,t),new ln(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ln(po(this.r),po(this.g),po(this.b),Md(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h_,formatHex:h_,formatHex8:gG,formatRgb:p_,toString:p_}));function h_(){return`#${so(this.r)}${so(this.g)}${so(this.b)}`}function gG(){return`#${so(this.r)}${so(this.g)}${so(this.b)}${so((isNaN(this.opacity)?1:this.opacity)*255)}`}function p_(){const t=Md(this.opacity);return`${t===1?"rgb(":"rgba("}${po(this.r)}, ${po(this.g)}, ${po(this.b)}${t===1?")":`, ${t})`}`}function Md(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function po(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function so(t){return t=po(t),(t<16?"0":"")+t.toString(16)}function m_(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ir(t,e,n,r)}function DP(t){if(t instanceof ir)return new ir(t.h,t.s,t.l,t.opacity);if(t instanceof Ru||(t=Xl(t)),!t)return new ir;if(t instanceof ir)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new ir(a,s,l,t.opacity)}function vG(t,e,n,r){return arguments.length===1?DP(t):new ir(t,e,n,r??1)}function ir(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}w0(ir,vG,jP(Ru,{brighter(t){return t=t==null?Od:Math.pow(Od,t),new ir(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jl:Math.pow(Jl,t),new ir(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ln(jp(t>=240?t-240:t+120,i,r),jp(t,i,r),jp(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ir(g_(this.h),hc(this.s),hc(this.l),Md(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Md(this.opacity);return`${t===1?"hsl(":"hsla("}${g_(this.h)}, ${hc(this.s)*100}%, ${hc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function g_(t){return t=(t||0)%360,t<0?t+360:t}function hc(t){return Math.max(0,Math.min(1,t||0))}function jp(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const b0=t=>()=>t;function yG(t,e){return function(n){return t+n*e}}function wG(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function bG(t){return(t=+t)==1?LP:function(e,n){return n-e?wG(e,n,t):b0(isNaN(e)?n:e)}}function LP(t,e){var n=e-t;return n?yG(t,n):b0(isNaN(t)?e:t)}const v_=function t(e){var n=bG(e);function r(i,o){var a=n((i=Og(i)).r,(o=Og(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=LP(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function xG(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function _G(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function SG(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=ys(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function EG(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Rd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function TG(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ys(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Mg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dp=new RegExp(Mg.source,"g");function AG(t){return function(){return t}}function CG(t){return function(e){return t(e)+""}}function kG(t,e){var n=Mg.lastIndex=Dp.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Mg.exec(t))&&(i=Dp.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Rd(r,i)})),n=Dp.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?CG(l[0].x):AG(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function ys(t,e){var n=typeof e,r;return e==null||n==="boolean"?b0(e):(n==="number"?Rd:n==="string"?(r=Xl(e))?(e=r,v_):kG:e instanceof Xl?v_:e instanceof Date?EG:_G(e)?xG:Array.isArray(e)?SG:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?TG:Rd)(t,e)}function x0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function PG(t,e){e===void 0&&(e=t,t=ys);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function IG(t){return function(){return t}}function $d(t){return+t}var y_=[0,1];function en(t){return t}function Rg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:IG(isNaN(e)?NaN:.5)}function NG(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function OG(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Rg(i,r),o=n(a,o)):(r=Rg(r,i),o=n(o,a)),function(s){return o(r(s))}}function MG(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Rg(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Mu(t,s,1,r)-1;return o[l](i[l](s))}}function $u(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fh(){var t=y_,e=y_,n=ys,r,i,o,a=en,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==en&&(a=NG(t[0],t[h-1])),s=h>2?MG:OG,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=s(e,t.map(r),Rd)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,$d),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=x0,c()},d.clamp=function(h){return arguments.length?(a=h?!0:en,c()):a!==en},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,g){return r=h,i=g,c()}}function _0(){return fh()(en,en)}function RG(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jd(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ua(t){return t=jd(Math.abs(t)),t?t[1]:NaN}function $G(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function jG(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var DG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ql(t){if(!(e=DG.exec(t)))throw new Error("invalid format: "+t);var e;return new S0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ql.prototype=S0.prototype;function S0(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}S0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function LG(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var UP;function UG(t,e){var n=jd(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(UP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+jd(t,Math.max(0,e+o-1))[0]}function w_(t,e){var n=jd(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const b_={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:RG,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>w_(t*100,e),r:w_,s:UG,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function x_(t){return t}var __=Array.prototype.map,S_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function BG(t){var e=t.grouping===void 0||t.thousands===void 0?x_:$G(__.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?x_:jG(__.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Ql(d);var h=d.fill,g=d.align,v=d.sign,y=d.symbol,b=d.zero,w=d.width,x=d.comma,_=d.precision,T=d.trim,S=d.type;S==="n"?(x=!0,S="g"):b_[S]||(_===void 0&&(_=12),T=!0,S="g"),(b||h==="0"&&g==="=")&&(b=!0,h="0",g="=");var E=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=y==="$"?r:/[%p]/.test(S)?a:"",C=b_[S],k=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N(O){var R=E,D=A,U,j,M;if(S==="c")D=C(O)+D,O="";else{O=+O;var L=O<0||1/O<0;if(O=isNaN(O)?l:C(Math.abs(O),_),T&&(O=LG(O)),L&&+O==0&&v!=="+"&&(L=!1),R=(L?v==="("?v:s:v==="-"||v==="("?"":v)+R,D=(S==="s"?S_[8+UP/3]:"")+D+(L&&v==="("?")":""),k){for(U=-1,j=O.length;++U<j;)if(M=O.charCodeAt(U),48>M||M>57){D=(M===46?i+O.slice(U+1):O.slice(U))+D,O=O.slice(0,U);break}}}x&&!b&&(O=e(O,1/0));var $=R.length+O.length+D.length,B=$<w?new Array(w-$+1).join(h):"";switch(x&&b&&(O=e(B+O,B.length?w-D.length:1/0),B=""),g){case"<":O=R+O+D+B;break;case"=":O=R+B+O+D;break;case"^":O=B.slice(0,$=B.length>>1)+R+O+D+B.slice($);break;default:O=B+R+O+D;break}return o(O)}return N.toString=function(){return d+""},N}function c(d,h){var g=u((d=Ql(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Ua(h)/3)))*3,y=Math.pow(10,-v),b=S_[8+v/3];return function(w){return g(y*w)+b}}return{format:u,formatPrefix:c}}var pc,E0,BP;FG({thousands:",",grouping:[3],currency:["$",""]});function FG(t){return pc=BG(t),E0=pc.format,BP=pc.formatPrefix,pc}function VG(t){return Math.max(0,-Ua(Math.abs(t)))}function zG(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ua(e)/3)))*3-Ua(Math.abs(t)))}function qG(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ua(e)-Ua(t))+1}function FP(t,e,n,r){var i=Ig(t,e,n),o;switch(r=Ql(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=zG(i,a))&&(r.precision=o),BP(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=qG(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=VG(i))&&(r.precision=o-(r.type==="%")*2);break}}return E0(r)}function Oi(t){var e=t.domain;return t.ticks=function(n){var r=e();return kg(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return FP(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Pg(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Dd(){var t=_0();return t.copy=function(){return $u(t,Dd())},Wn.apply(t,arguments),Oi(t)}function VP(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,$d),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return VP(t).unknown(e)},t=arguments.length?Array.from(t,$d):[0,1],Oi(n)}function zP(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function E_(t){return Math.log(t)}function T_(t){return Math.exp(t)}function GG(t){return-Math.log(-t)}function HG(t){return-Math.exp(-t)}function WG(t){return isFinite(t)?+("1e"+t):t<0?0:t}function KG(t){return t===10?WG:t===Math.E?Math.exp:e=>Math.pow(t,e)}function JG(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function A_(t){return(e,n)=>-t(-e,n)}function T0(t){const e=t(E_,T_),n=e.domain;let r=10,i,o;function a(){return i=JG(r),o=KG(r),n()[0]<0?(i=A_(i),o=A_(o),t(GG,HG)):t(E_,T_),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),g=i(c),v,y;const b=s==null?10:+s;let w=[];if(!(r%1)&&g-h<b){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(v=1;v<r;++v)if(y=h<0?v/o(-h):v*o(h),!(y<u)){if(y>c)break;w.push(y)}}else for(;h<=g;++h)for(v=r-1;v>=1;--v)if(y=h>0?v/o(-h):v*o(h),!(y<u)){if(y>c)break;w.push(y)}w.length*2<b&&(w=kg(u,c,b))}else w=kg(h,g,Math.min(g-h,b)).map(o);return d?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ql(l)).precision==null&&(l.trim=!0),l=E0(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(zP(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function qP(){const t=T0(fh()).domain([1,10]);return t.copy=()=>$u(t,qP()).base(t.base()),Wn.apply(t,arguments),t}function C_(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function k_(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function A0(t){var e=1,n=t(C_(e),k_(e));return n.constant=function(r){return arguments.length?t(C_(e=+r),k_(e)):e},Oi(n)}function GP(){var t=A0(fh());return t.copy=function(){return $u(t,GP()).constant(t.constant())},Wn.apply(t,arguments)}function P_(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function YG(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function XG(t){return t<0?-t*t:t*t}function C0(t){var e=t(en,en),n=1;function r(){return n===1?t(en,en):n===.5?t(YG,XG):t(P_(n),P_(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Oi(e)}function k0(){var t=C0(fh());return t.copy=function(){return $u(t,k0()).exponent(t.exponent())},Wn.apply(t,arguments),t}function QG(){return k0.apply(null,arguments).exponent(.5)}function I_(t){return Math.sign(t)*t*t}function ZG(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function HP(){var t=_0(),e=[0,1],n=!1,r;function i(o){var a=ZG(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(I_(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,$d)).map(I_)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return HP(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Wn.apply(i,arguments),Oi(i)}function WP(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=iG(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Mu(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ti),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return WP().domain(t).range(e).unknown(r)},Wn.apply(o,arguments)}function KP(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Mu(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return KP().domain([t,e]).range(i).unknown(o)},Wn.apply(Oi(a),arguments)}function JP(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Mu(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return JP().domain(t).range(e).unknown(n)},Wn.apply(i,arguments)}const Lp=new Date,Up=new Date;function Pt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>Pt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Lp.setTime(+o),Up.setTime(+a),t(Lp),t(Up),Math.floor(n(Lp,Up))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Ld=Pt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ld.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Pt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ld);Ld.range;const Rr=1e3,Bn=Rr*60,$r=Bn*60,Gr=$r*24,P0=Gr*7,N_=Gr*30,Bp=Gr*365,lo=Pt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Rr)},(t,e)=>(e-t)/Rr,t=>t.getUTCSeconds());lo.range;const I0=Pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Rr)},(t,e)=>{t.setTime(+t+e*Bn)},(t,e)=>(e-t)/Bn,t=>t.getMinutes());I0.range;const N0=Pt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Bn)},(t,e)=>(e-t)/Bn,t=>t.getUTCMinutes());N0.range;const O0=Pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Rr-t.getMinutes()*Bn)},(t,e)=>{t.setTime(+t+e*$r)},(t,e)=>(e-t)/$r,t=>t.getHours());O0.range;const M0=Pt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*$r)},(t,e)=>(e-t)/$r,t=>t.getUTCHours());M0.range;const ju=Pt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Bn)/Gr,t=>t.getDate()-1);ju.range;const hh=Pt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gr,t=>t.getUTCDate()-1);hh.range;const YP=Pt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gr,t=>Math.floor(t/Gr));YP.range;function Oo(t){return Pt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Bn)/P0)}const ph=Oo(0),Ud=Oo(1),eH=Oo(2),tH=Oo(3),Ba=Oo(4),nH=Oo(5),rH=Oo(6);ph.range;Ud.range;eH.range;tH.range;Ba.range;nH.range;rH.range;function Mo(t){return Pt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/P0)}const mh=Mo(0),Bd=Mo(1),iH=Mo(2),oH=Mo(3),Fa=Mo(4),aH=Mo(5),sH=Mo(6);mh.range;Bd.range;iH.range;oH.range;Fa.range;aH.range;sH.range;const R0=Pt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());R0.range;const $0=Pt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());$0.range;const Hr=Pt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Hr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Hr.range;const Wr=Pt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Wr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Wr.range;function XP(t,e,n,r,i,o){const a=[[lo,1,Rr],[lo,5,5*Rr],[lo,15,15*Rr],[lo,30,30*Rr],[o,1,Bn],[o,5,5*Bn],[o,15,15*Bn],[o,30,30*Bn],[i,1,$r],[i,3,3*$r],[i,6,6*$r],[i,12,12*$r],[r,1,Gr],[r,2,2*Gr],[n,1,P0],[e,1,N_],[e,3,3*N_],[t,1,Bp]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const g=d&&typeof d.range=="function"?d:l(u,c,d),v=g?g.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,d){const h=Math.abs(c-u)/d,g=v0(([,,b])=>b).right(a,h);if(g===a.length)return t.every(Ig(u/Bp,c/Bp,d));if(g===0)return Ld.every(Math.max(Ig(u,c,d),1));const[v,y]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return v.every(y)}return[s,l]}const[lH,uH]=XP(Wr,$0,mh,YP,M0,N0),[cH,dH]=XP(Hr,R0,ph,ju,O0,I0);function Fp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Vp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vs(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function fH(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=zs(i),c=qs(i),d=zs(o),h=qs(o),g=zs(a),v=qs(a),y=zs(s),b=qs(s),w=zs(l),x=qs(l),_={a:L,A:$,b:B,B:q,c:null,d:D_,e:D_,f:$H,g:GH,G:WH,H:OH,I:MH,j:RH,L:QP,m:jH,M:DH,p:Y,q:W,Q:B_,s:F_,S:LH,u:UH,U:BH,V:FH,w:VH,W:zH,x:null,X:null,y:qH,Y:HH,Z:KH,"%":U_},T={a:re,A:pe,b:xe,B:ke,c:null,d:L_,e:L_,f:QH,g:l9,G:c9,H:JH,I:YH,j:XH,L:eI,m:ZH,M:e9,p:st,q:je,Q:B_,s:F_,S:t9,u:n9,U:r9,V:i9,w:o9,W:a9,x:null,X:null,y:s9,Y:u9,Z:d9,"%":U_},S={a:N,A:O,b:R,B:D,c:U,d:$_,e:$_,f:kH,g:R_,G:M_,H:j_,I:j_,j:EH,L:CH,m:SH,M:TH,p:k,q:_H,Q:IH,s:NH,S:AH,u:vH,U:yH,V:wH,w:gH,W:bH,x:j,X:M,y:R_,Y:M_,Z:xH,"%":PH};_.x=E(n,_),_.X=E(r,_),_.c=E(e,_),T.x=E(n,T),T.X=E(r,T),T.c=E(e,T);function E(Q,fe){return function(we){var H=[],Te=-1,G=0,me=Q.length,V,se,he;for(we instanceof Date||(we=new Date(+we));++Te<me;)Q.charCodeAt(Te)===37&&(H.push(Q.slice(G,Te)),(se=O_[V=Q.charAt(++Te)])!=null?V=Q.charAt(++Te):se=V==="e"?" ":"0",(he=fe[V])&&(V=he(we,se)),H.push(V),G=Te+1);return H.push(Q.slice(G,Te)),H.join("")}}function A(Q,fe){return function(we){var H=Vs(1900,void 0,1),Te=C(H,Q,we+="",0),G,me;if(Te!=we.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(fe&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(G=Vp(Vs(H.y,0,1)),me=G.getUTCDay(),G=me>4||me===0?Bd.ceil(G):Bd(G),G=hh.offset(G,(H.V-1)*7),H.y=G.getUTCFullYear(),H.m=G.getUTCMonth(),H.d=G.getUTCDate()+(H.w+6)%7):(G=Fp(Vs(H.y,0,1)),me=G.getDay(),G=me>4||me===0?Ud.ceil(G):Ud(G),G=ju.offset(G,(H.V-1)*7),H.y=G.getFullYear(),H.m=G.getMonth(),H.d=G.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),me="Z"in H?Vp(Vs(H.y,0,1)).getUTCDay():Fp(Vs(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(me+5)%7:H.w+H.U*7-(me+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Vp(H)):Fp(H)}}function C(Q,fe,we,H){for(var Te=0,G=fe.length,me=we.length,V,se;Te<G;){if(H>=me)return-1;if(V=fe.charCodeAt(Te++),V===37){if(V=fe.charAt(Te++),se=S[V in O_?fe.charAt(Te++):V],!se||(H=se(Q,we,H))<0)return-1}else if(V!=we.charCodeAt(H++))return-1}return H}function k(Q,fe,we){var H=u.exec(fe.slice(we));return H?(Q.p=c.get(H[0].toLowerCase()),we+H[0].length):-1}function N(Q,fe,we){var H=g.exec(fe.slice(we));return H?(Q.w=v.get(H[0].toLowerCase()),we+H[0].length):-1}function O(Q,fe,we){var H=d.exec(fe.slice(we));return H?(Q.w=h.get(H[0].toLowerCase()),we+H[0].length):-1}function R(Q,fe,we){var H=w.exec(fe.slice(we));return H?(Q.m=x.get(H[0].toLowerCase()),we+H[0].length):-1}function D(Q,fe,we){var H=y.exec(fe.slice(we));return H?(Q.m=b.get(H[0].toLowerCase()),we+H[0].length):-1}function U(Q,fe,we){return C(Q,e,fe,we)}function j(Q,fe,we){return C(Q,n,fe,we)}function M(Q,fe,we){return C(Q,r,fe,we)}function L(Q){return a[Q.getDay()]}function $(Q){return o[Q.getDay()]}function B(Q){return l[Q.getMonth()]}function q(Q){return s[Q.getMonth()]}function Y(Q){return i[+(Q.getHours()>=12)]}function W(Q){return 1+~~(Q.getMonth()/3)}function re(Q){return a[Q.getUTCDay()]}function pe(Q){return o[Q.getUTCDay()]}function xe(Q){return l[Q.getUTCMonth()]}function ke(Q){return s[Q.getUTCMonth()]}function st(Q){return i[+(Q.getUTCHours()>=12)]}function je(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var fe=E(Q+="",_);return fe.toString=function(){return Q},fe},parse:function(Q){var fe=A(Q+="",!1);return fe.toString=function(){return Q},fe},utcFormat:function(Q){var fe=E(Q+="",T);return fe.toString=function(){return Q},fe},utcParse:function(Q){var fe=A(Q+="",!0);return fe.toString=function(){return Q},fe}}}var O_={"-":"",_:" ",0:"0"},$t=/^\s*\d+/,hH=/^%/,pH=/[\\^$*+?|[\]().{}]/g;function Re(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function mH(t){return t.replace(pH,"\\$&")}function zs(t){return new RegExp("^(?:"+t.map(mH).join("|")+")","i")}function qs(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function gH(t,e,n){var r=$t.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function vH(t,e,n){var r=$t.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function yH(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function wH(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function bH(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function M_(t,e,n){var r=$t.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function R_(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function xH(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _H(t,e,n){var r=$t.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function SH(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $_(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function EH(t,e,n){var r=$t.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function j_(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function TH(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function AH(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function CH(t,e,n){var r=$t.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function kH(t,e,n){var r=$t.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function PH(t,e,n){var r=hH.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function IH(t,e,n){var r=$t.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function NH(t,e,n){var r=$t.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function D_(t,e){return Re(t.getDate(),e,2)}function OH(t,e){return Re(t.getHours(),e,2)}function MH(t,e){return Re(t.getHours()%12||12,e,2)}function RH(t,e){return Re(1+ju.count(Hr(t),t),e,3)}function QP(t,e){return Re(t.getMilliseconds(),e,3)}function $H(t,e){return QP(t,e)+"000"}function jH(t,e){return Re(t.getMonth()+1,e,2)}function DH(t,e){return Re(t.getMinutes(),e,2)}function LH(t,e){return Re(t.getSeconds(),e,2)}function UH(t){var e=t.getDay();return e===0?7:e}function BH(t,e){return Re(ph.count(Hr(t)-1,t),e,2)}function ZP(t){var e=t.getDay();return e>=4||e===0?Ba(t):Ba.ceil(t)}function FH(t,e){return t=ZP(t),Re(Ba.count(Hr(t),t)+(Hr(t).getDay()===4),e,2)}function VH(t){return t.getDay()}function zH(t,e){return Re(Ud.count(Hr(t)-1,t),e,2)}function qH(t,e){return Re(t.getFullYear()%100,e,2)}function GH(t,e){return t=ZP(t),Re(t.getFullYear()%100,e,2)}function HH(t,e){return Re(t.getFullYear()%1e4,e,4)}function WH(t,e){var n=t.getDay();return t=n>=4||n===0?Ba(t):Ba.ceil(t),Re(t.getFullYear()%1e4,e,4)}function KH(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Re(e/60|0,"0",2)+Re(e%60,"0",2)}function L_(t,e){return Re(t.getUTCDate(),e,2)}function JH(t,e){return Re(t.getUTCHours(),e,2)}function YH(t,e){return Re(t.getUTCHours()%12||12,e,2)}function XH(t,e){return Re(1+hh.count(Wr(t),t),e,3)}function eI(t,e){return Re(t.getUTCMilliseconds(),e,3)}function QH(t,e){return eI(t,e)+"000"}function ZH(t,e){return Re(t.getUTCMonth()+1,e,2)}function e9(t,e){return Re(t.getUTCMinutes(),e,2)}function t9(t,e){return Re(t.getUTCSeconds(),e,2)}function n9(t){var e=t.getUTCDay();return e===0?7:e}function r9(t,e){return Re(mh.count(Wr(t)-1,t),e,2)}function tI(t){var e=t.getUTCDay();return e>=4||e===0?Fa(t):Fa.ceil(t)}function i9(t,e){return t=tI(t),Re(Fa.count(Wr(t),t)+(Wr(t).getUTCDay()===4),e,2)}function o9(t){return t.getUTCDay()}function a9(t,e){return Re(Bd.count(Wr(t)-1,t),e,2)}function s9(t,e){return Re(t.getUTCFullYear()%100,e,2)}function l9(t,e){return t=tI(t),Re(t.getUTCFullYear()%100,e,2)}function u9(t,e){return Re(t.getUTCFullYear()%1e4,e,4)}function c9(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Fa(t):Fa.ceil(t),Re(t.getUTCFullYear()%1e4,e,4)}function d9(){return"+0000"}function U_(){return"%"}function B_(t){return+t}function F_(t){return Math.floor(+t/1e3)}var Uo,nI,rI;f9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function f9(t){return Uo=fH(t),nI=Uo.format,Uo.parse,rI=Uo.utcFormat,Uo.utcParse,Uo}function h9(t){return new Date(t)}function p9(t){return t instanceof Date?+t:+new Date(+t)}function j0(t,e,n,r,i,o,a,s,l,u){var c=_0(),d=c.invert,h=c.domain,g=u(".%L"),v=u(":%S"),y=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),x=u("%b %d"),_=u("%B"),T=u("%Y");function S(E){return(l(E)<E?g:s(E)<E?v:a(E)<E?y:o(E)<E?b:r(E)<E?i(E)<E?w:x:n(E)<E?_:T)(E)}return c.invert=function(E){return new Date(d(E))},c.domain=function(E){return arguments.length?h(Array.from(E,p9)):h().map(h9)},c.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},c.tickFormat=function(E,A){return A==null?S:u(A)},c.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(zP(A,E)):c},c.copy=function(){return $u(c,j0(t,e,n,r,i,o,a,s,l,u))},c}function m9(){return Wn.apply(j0(cH,dH,Hr,R0,ph,ju,O0,I0,lo,nI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function g9(){return Wn.apply(j0(lH,uH,Wr,$0,mh,hh,M0,N0,lo,rI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gh(){var t=0,e=1,n,r,i,o,a=en,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var g,v;return arguments.length?([g,v]=h,a=d(g,v),u):[a(0),a(1)]}}return u.range=c(ys),u.rangeRound=c(x0),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function Mi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function iI(){var t=Oi(gh()(en));return t.copy=function(){return Mi(t,iI())},Qr.apply(t,arguments)}function oI(){var t=T0(gh()).domain([1,10]);return t.copy=function(){return Mi(t,oI()).base(t.base())},Qr.apply(t,arguments)}function aI(){var t=A0(gh());return t.copy=function(){return Mi(t,aI()).constant(t.constant())},Qr.apply(t,arguments)}function D0(){var t=C0(gh());return t.copy=function(){return Mi(t,D0()).exponent(t.exponent())},Qr.apply(t,arguments)}function v9(){return D0.apply(null,arguments).exponent(.5)}function sI(){var t=[],e=en;function n(r){if(r!=null&&!isNaN(r=+r))return e((Mu(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ti),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>rG(t,o/r))},n.copy=function(){return sI(e).domain(t)},Qr.apply(n,arguments)}function vh(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=en,c,d=!1,h;function g(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-o)*(r*y<r*o?s:l),u(d?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(y){return arguments.length?(d=!!y,g):d},g.interpolator=function(y){return arguments.length?(u=y,g):u};function v(y){return function(b){var w,x,_;return arguments.length?([w,x,_]=b,u=PG(y,[w,x,_]),g):[u(0),u(.5),u(1)]}}return g.range=v(ys),g.rangeRound=v(x0),g.unknown=function(y){return arguments.length?(h=y,g):h},function(y){return c=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g}}function lI(){var t=Oi(vh()(en));return t.copy=function(){return Mi(t,lI())},Qr.apply(t,arguments)}function uI(){var t=T0(vh()).domain([.1,1,10]);return t.copy=function(){return Mi(t,uI()).base(t.base())},Qr.apply(t,arguments)}function cI(){var t=A0(vh());return t.copy=function(){return Mi(t,cI()).constant(t.constant())},Qr.apply(t,arguments)}function L0(){var t=C0(vh());return t.copy=function(){return Mi(t,L0()).exponent(t.exponent())},Qr.apply(t,arguments)}function y9(){return L0.apply(null,arguments).exponent(.5)}const V_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Kl,scaleDiverging:lI,scaleDivergingLog:uI,scaleDivergingPow:L0,scaleDivergingSqrt:y9,scaleDivergingSymlog:cI,scaleIdentity:VP,scaleImplicit:Ng,scaleLinear:Dd,scaleLog:qP,scaleOrdinal:y0,scalePoint:ml,scalePow:k0,scaleQuantile:WP,scaleQuantize:KP,scaleRadial:HP,scaleSequential:iI,scaleSequentialLog:oI,scaleSequentialPow:D0,scaleSequentialQuantile:sI,scaleSequentialSqrt:v9,scaleSequentialSymlog:aI,scaleSqrt:QG,scaleSymlog:GP,scaleThreshold:JP,scaleTime:m9,scaleUtc:g9,tickFormat:FP},Symbol.toStringTag,{value:"Module"}));var w9=us;function b9(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!w9(a):n(a,s)))var s=a,l=o}return l}var yh=b9;function x9(t,e){return t>e}var dI=x9,_9=yh,S9=dI,E9=vs;function T9(t){return t&&t.length?_9(t,E9,S9):void 0}var A9=T9;const wh=Be(A9);function C9(t,e){return t<e}var fI=C9,k9=yh,P9=fI,I9=vs;function N9(t){return t&&t.length?k9(t,I9,P9):void 0}var O9=N9;const bh=Be(O9);var M9=Xy,R9=Tr,$9=bP,j9=fn;function D9(t,e){var n=j9(t)?M9:$9;return n(t,R9(e))}var L9=D9,U9=yP,B9=L9;function F9(t,e){return U9(B9(t,e),1)}var V9=F9;const z9=Be(V9);var q9=f0;function G9(t,e){return q9(t,e)}var H9=G9;const Du=Be(H9);var ws=1e9,W9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},B0,at=!0,Gn="[DecimalError] ",mo=Gn+"Invalid argument: ",U0=Gn+"Exponent out of range: ",bs=Math.floor,Yi=Math.pow,K9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bn,Nt=1e7,nt=7,hI=9007199254740991,Fd=bs(hI/nt),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*nt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return Ur(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return qe(Ur(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return bt(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(bn))throw Error(Gn+"NaN");if(n.s<1)throw Error(Gn+(n.s?"NaN":"-Infinity"));return n.eq(bn)?new r(0):(at=!1,e=Ur(Zl(n,o),Zl(t,o),o),at=!0,qe(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?gI(e,t):pI(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Gn+"NaN");return n.s?(at=!1,e=Ur(n,t,0,1).times(t),at=!0,n.minus(e)):qe(new r(n),i)};ae.naturalExponential=ae.exp=function(){return mI(this)};ae.naturalLogarithm=ae.ln=function(){return Zl(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pI(e,t):gI(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(mo+t);if(e=bt(i)+1,r=i.d.length-1,n=r*nt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Gn+"NaN")}for(t=bt(s),at=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=vr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=bs((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Ur(s,o,a+2)).times(.5),vr(o.d).slice(0,a)===(e=vr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(qe(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return at=!0,qe(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,g=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+g[r]*h[i-r-1]+e,o[i--]=s%Nt|0,e=s/Nt|0;o[i]=(o[i]+e)%Nt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,at?qe(t,d.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(_r(t,0,ws),e===void 0?e=r.rounding:_r(e,0,8),qe(n,t+bt(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Eo(r,!0):(_r(t,0,ws),e===void 0?e=i.rounding:_r(e,0,8),r=qe(new i(r),t+1,e),n=Eo(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Eo(i):(_r(t,0,ws),e===void 0?e=o.rounding:_r(e,0,8),r=qe(new o(i),t+bt(i)+1,e),n=Eo(r.abs(),!1,t+bt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return qe(new e(t),bt(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(bn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Gn+"Infinity");return s}if(s.eq(bn))return s;if(r=l.precision,t.eq(bn))return qe(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=hI){for(i=new l(bn),e=Math.ceil(r/nt+4),at=!1;n%2&&(i=i.times(s),q_(i.d,e)),n=bs(n/2),n!==0;)s=s.times(s),q_(s.d,e);return at=!0,t.s<0?new l(bn).div(i):qe(i,r)}}else if(o<0)throw Error(Gn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,at=!1,i=t.times(Zl(s,r+u)),at=!0,i=mI(i),i.s=o,i};ae.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=bt(i),r=Eo(i,n<=o.toExpNeg||n>=o.toExpPos)):(_r(t,1,ws),e===void 0?e=o.rounding:_r(e,0,8),i=qe(new o(i),t,e),n=bt(i),r=Eo(i,t<=n||n<=o.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(_r(t,1,ws),e===void 0?e=r.rounding:_r(e,0,8)),qe(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=bt(t),n=t.constructor;return Eo(t,e<=n.toExpNeg||e>=n.toExpPos)};function pI(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),at?qe(e,d):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/nt),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Nt|0,l[o]%=Nt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,at?qe(e,d):e}function _r(t,e,n){if(t!==~~t||t<e||t>n)throw Error(mo+t)}function vr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=nt-r.length,n&&(o+=ai(n)),o+=r;a=t[e],r=a+"",n=nt-r.length,n&&(o+=ai(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Ur=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Nt|0,a=o/Nt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Nt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,h,g,v,y,b,w,x,_,T,S,E,A,C,k=r.constructor,N=r.s==i.s?1:-1,O=r.d,R=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Gn+"Division by zero");for(l=r.e-i.e,A=R.length,S=O.length,g=new k(N),v=g.d=[],u=0;R[u]==(O[u]||0);)++u;if(R[u]>(O[u]||0)&&--l,o==null?x=o=k.precision:a?x=o+(bt(r)-bt(i))+1:x=o,x<0)return new k(0);if(x=x/nt+2|0,u=0,A==1)for(c=0,R=R[0],x++;(u<S||c)&&x--;u++)_=c*Nt+(O[u]||0),v[u]=_/R|0,c=_%R|0;else{for(c=Nt/(R[0]+1)|0,c>1&&(R=t(R,c),O=t(O,c),A=R.length,S=O.length),T=A,y=O.slice(0,A),b=y.length;b<A;)y[b++]=0;C=R.slice(),C.unshift(0),E=R[0],R[1]>=Nt/2&&++E;do c=0,s=e(R,y,A,b),s<0?(w=y[0],A!=b&&(w=w*Nt+(y[1]||0)),c=w/E|0,c>1?(c>=Nt&&(c=Nt-1),d=t(R,c),h=d.length,b=y.length,s=e(d,y,h,b),s==1&&(c--,n(d,A<h?C:R,h))):(c==0&&(s=c=1),d=R.slice()),h=d.length,h<b&&d.unshift(0),n(y,d,b),s==-1&&(b=y.length,s=e(R,y,A,b),s<1&&(c++,n(y,A<b?C:R,b))),b=y.length):s===0&&(c++,y=[0]),v[u++]=c,s&&y[0]?y[b++]=O[T]||0:(y=[O[T]],b=1);while((T++<S||y[0]!==void 0)&&x--)}return v[0]||v.shift(),g.e=l,qe(g,a?o+bt(g)+1:o)}}();function mI(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,d=c.precision;if(bt(t)>16)throw Error(U0+bt(t));if(!t.s)return new c(bn);for(at=!1,s=d,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Yi(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(bn),c.precision=s;;){if(i=qe(i.times(t),s),n=n.times(++l),a=o.plus(Ur(i,n,s)),vr(a.d).slice(0,s)===vr(o.d).slice(0,s)){for(;u--;)o=qe(o.times(o),s);return c.precision=d,e==null?(at=!0,qe(o,d)):o}o=a}}function bt(t){for(var e=t.e*nt,n=t.d[0];n>=10;n/=10)e++;return e}function zp(t,e,n){if(e>t.LN10.sd())throw at=!0,n&&(t.precision=n),Error(Gn+"LN10 precision limit exceeded");return qe(new t(t.LN10),e)}function ai(t){for(var e="";t--;)e+="0";return e}function Zl(t,e){var n,r,i,o,a,s,l,u,c,d=1,h=10,g=t,v=g.d,y=g.constructor,b=y.precision;if(g.s<1)throw Error(Gn+(g.s?"NaN":"-Infinity"));if(g.eq(bn))return new y(0);if(e==null?(at=!1,u=b):u=e,g.eq(10))return e==null&&(at=!0),zp(y,u);if(u+=h,y.precision=u,n=vr(v),r=n.charAt(0),o=bt(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=vr(g.d),r=n.charAt(0),d++;o=bt(g),r>1?(g=new y("0."+n),o++):g=new y(r+"."+n.slice(1))}else return l=zp(y,u+2,b).times(o+""),g=Zl(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=b,e==null?(at=!0,qe(g,b)):g;for(s=a=g=Ur(g.minus(bn),g.plus(bn),u),c=qe(g.times(g),u),i=3;;){if(a=qe(a.times(c),u),l=s.plus(Ur(a,new y(i),u)),vr(l.d).slice(0,u)===vr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(zp(y,u+2,b).times(o+""))),s=Ur(s,new y(d),u),y.precision=b,e==null?(at=!0,qe(s,b)):s;s=l,i+=2}}function z_(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=bs(n/nt),t.d=[],r=(n+1)%nt,n<0&&(r+=nt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=nt;r<i;)t.d.push(+e.slice(r,r+=nt));e=e.slice(r),r=nt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),at&&(t.e>Fd||t.e<-Fd))throw Error(U0+n)}else t.s=0,t.e=0,t.d=[0];return t}function qe(t,e,n){var r,i,o,a,s,l,u,c,d=t.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=nt,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/nt),o=d.length,c>=o)return t;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=nt,i=r-nt+a}if(n!==void 0&&(o=Yi(10,a-i-1),s=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Yi(10,a-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=bt(t),d.length=1,e=e-o-1,d[0]=Yi(10,(nt-e%nt)%nt),t.e=bs(-e/nt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=Yi(10,nt-r),d[c]=i>0?(u/Yi(10,a-i)%Yi(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==Nt&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=Nt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(at&&(t.e>Fd||t.e<-Fd))throw Error(U0+bt(t));return t}function gI(t,e){var n,r,i,o,a,s,l,u,c,d,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),at?qe(e,g):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(g/nt),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=Nt-1;--l[o],l[i]+=Nt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,at?qe(e,g):e):new h(0)}function Eo(t,e,n){var r,i=bt(t),o=vr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+ai(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ai(-i-1)+o,n&&(r=n-a)>0&&(o+=ai(r))):i>=a?(o+=ai(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+ai(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=ai(r))),t.s<0?"-"+o:o}function q_(t,e){if(t.length>e)return t.length=e,!0}function vI(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(mo+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return z_(a,o.toString())}else if(typeof o!="string")throw Error(mo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,K9.test(o))z_(a,o);else throw Error(mo+o)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=vI,i.config=i.set=J9,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function J9(t){if(!t||typeof t!="object")throw Error(Gn+"Object expected");var e,n,r,i=["precision",1,ws,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(bs(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(mo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(mo+n+": "+r);return this}var B0=vI(W9);bn=new B0(1);const ze=B0;function Y9(t){return eW(t)||Z9(t)||Q9(t)||X9()}function X9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q9(t,e){if(t){if(typeof t=="string")return $g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $g(t,e)}}function Z9(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function eW(t){if(Array.isArray(t))return $g(t)}function $g(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tW=function(e){return e},yI={},wI=function(e){return e===yI},G_=function(e){return function n(){return arguments.length===0||arguments.length===1&&wI(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},nW=function t(e,n){return e===1?n:G_(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==yI}).length;return a>=e?n.apply(void 0,i):t(e-a,G_(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return wI(d)?l.shift():d});return n.apply(void 0,Y9(c).concat(l))}))})},xh=function(e){return nW(e.length,e)},jg=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},rW=xh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),iW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return tW;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Dg=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},bI=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function oW(t){var e;return t===0?e=1:e=Math.floor(new ze(t).abs().log(10).toNumber())+1,e}function aW(t,e,n){for(var r=new ze(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var sW=xh(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),lW=xh(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),uW=xh(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const _h={rangeStep:aW,getDigitCount:oW,interpolateNumber:sW,uninterpolateNumber:lW,uninterpolateTruncation:uW};function Lg(t){return fW(t)||dW(t)||xI(t)||cW()}function cW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dW(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fW(t){if(Array.isArray(t))return Ug(t)}function eu(t,e){return mW(t)||pW(t,e)||xI(t,e)||hW()}function hW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xI(t,e){if(t){if(typeof t=="string")return Ug(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ug(t,e)}}function Ug(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pW(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function mW(t){if(Array.isArray(t))return t}function _I(t){var e=eu(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function SI(t,e,n){if(t.lte(0))return new ze(0);var r=_h.getDigitCount(t.toNumber()),i=new ze(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new ze(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new ze(Math.ceil(l))}function gW(t,e,n){var r=1,i=new ze(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new ze(10).pow(_h.getDigitCount(t)-1),i=new ze(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ze(Math.floor(t)))}else t===0?i=new ze(Math.floor((e-1)/2)):n||(i=new ze(Math.floor(t)));var a=Math.floor((e-1)/2),s=iW(rW(function(l){return i.add(new ze(l-a).mul(r)).toNumber()}),jg);return s(0,e)}function EI(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ze(0),tickMin:new ze(0),tickMax:new ze(0)};var o=SI(new ze(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new ze(0):(a=new ze(t).add(e).div(2),a=a.sub(new ze(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new ze(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?EI(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new ze(s).mul(o)),tickMax:a.add(new ze(l).mul(o))})}function vW(t){var e=eu(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=_I([n,r]),l=eu(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(Lg(jg(0,i-1).map(function(){return 1/0}))):[].concat(Lg(jg(0,i-1).map(function(){return-1/0})),[c]);return n>r?Dg(d):d}if(u===c)return gW(u,i,o);var h=EI(u,c,a,o),g=h.step,v=h.tickMin,y=h.tickMax,b=_h.rangeStep(v,y.add(new ze(.1).mul(g)),g);return n>r?Dg(b):b}function yW(t,e){var n=eu(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=_I([r,i]),s=eu(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=SI(new ze(u).sub(l).div(c-1),o,0),h=[].concat(Lg(_h.rangeStep(new ze(l),new ze(u).sub(new ze(.99).mul(d)),d)),[u]);return r>i?Dg(h):h}var wW=bI(vW),bW=bI(yW),xW="Invariant failed";function To(t,e){throw new Error(xW)}var _W=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Va(t){"@babel/helpers - typeof";return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(t)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vd.apply(this,arguments)}function SW(t,e){return CW(t)||AW(t,e)||TW(t,e)||EW()}function EW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TW(t,e){if(t){if(typeof t=="string")return H_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H_(t,e)}}function H_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function CW(t){if(Array.isArray(t))return t}function kW(t,e){if(t==null)return{};var n=PW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CI(r.key),r)}}function OW(t,e,n){return e&&NW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MW(t,e,n){return e=zd(e),RW(t,TI()?Reflect.construct(e,n||[],zd(t).constructor):e.apply(t,n))}function RW(t,e){if(e&&(Va(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $W(t)}function $W(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TI=function(){return!!t})()}function zd(t){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zd(t)}function jW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bg(t,e)}function Bg(t,e){return Bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bg(t,e)}function AI(t,e,n){return e=CI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CI(t){var e=DW(t,"string");return Va(e)=="symbol"?e:e+""}function DW(t,e){if(Va(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lu=function(t){function e(){return IW(this,e),MW(this,e,arguments)}return jW(e,t),OW(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=kW(r,_W),g=ge(h,!1);this.props.direction==="x"&&c.type!=="number"&&To();var v=l.map(function(y){var b=u(y,s),w=b.x,x=b.y,_=b.value,T=b.errorVal;if(!T)return null;var S=[],E,A;if(Array.isArray(T)){var C=SW(T,2);E=C[0],A=C[1]}else E=A=T;if(o==="vertical"){var k=c.scale,N=x+i,O=N+a,R=N-a,D=k(_-E),U=k(_+A);S.push({x1:U,y1:O,x2:U,y2:R}),S.push({x1:D,y1:N,x2:U,y2:N}),S.push({x1:D,y1:O,x2:D,y2:R})}else if(o==="horizontal"){var j=d.scale,M=w+i,L=M-a,$=M+a,B=j(_-E),q=j(_+A);S.push({x1:L,y1:q,x2:$,y2:q}),S.push({x1:M,y1:B,x2:M,y2:q}),S.push({x1:L,y1:B,x2:$,y2:B})}return I.createElement(Me,Vd({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},g),S.map(function(Y){return I.createElement("line",Vd({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return I.createElement(Me,{className:"recharts-errorBars"},v)}}])}(I.Component);AI(Lu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});AI(Lu,"displayName","ErrorBar");function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function W_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W_(Object(n),!0).forEach(function(r){LW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LW(t,e,n){return e=UW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UW(t){var e=BW(t,"string");return tu(e)=="symbol"?e:e+""}function BW(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kI=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=yn(n,Ei);if(!a)return null;var s=Ei.defaultProps,l=s!==void 0?Fi(Fi({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,g=d.props,v=g.sectors||g.data||[];return c.concat(v.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,g=h!==void 0?Fi(Fi({},h),d.props):{},v=g.dataKey,y=g.name,b=g.legendType,w=g.hide;return{inactive:w,dataKey:v,type:l.iconType||b||"square",color:F0(d),value:y||v,payload:g}}),Fi(Fi(Fi({},l),Ei.getWithHeight(a,i)),{},{payload:u,item:a})};function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function K_(t){return qW(t)||zW(t)||VW(t)||FW()}function FW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VW(t,e){if(t){if(typeof t=="string")return Fg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fg(t,e)}}function zW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qW(t){if(Array.isArray(t))return Fg(t)}function Fg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J_(Object(n),!0).forEach(function(r){_a(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _a(t,e,n){return e=GW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GW(t){var e=HW(t,"string");return nu(e)=="symbol"?e:e+""}function HW(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function At(t,e,n){return _e(t)||_e(e)?n:kt(e)?Tn(t,e,n):be(e)?e(t):n}function gl(t,e,n,r){var i=z9(t,function(s){return At(s,e)});if(n==="number"){var o=i.filter(function(s){return X(s)||parseFloat(s)});return o.length?[bh(o),wh(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!_e(s)}):i;return a.map(function(s){return kt(s)||s instanceof Date?s:""})}var WW=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Qt(d-c)!==Qt(h-d)){var v=[];if(Qt(h-d)===Qt(l[1]-l[0])){g=h;var y=d+l[1]-l[0];v[0]=Math.min(y,(y+c)/2),v[1]=Math.max(y,(y+c)/2)}else{g=c;var b=h+l[1]-l[0];v[0]=Math.min(d,(b+d)/2),v[1]=Math.max(d,(b+d)/2)}var w=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){a=i[u].index;break}}else{var x=Math.min(c,h),_=Math.max(c,h);if(e>(x+d)/2&&e<=(_+d)/2){a=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},F0=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?mt(mt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},KW=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,d=Object.keys(c),h=0,g=d.length;h<g;h++){var v=c[d[h]],y=v.items,b=v.cateAxisId,w=y.filter(function(A){return Lr(A.type).indexOf("Bar")>=0});if(w&&w.length){var x=w[0].type.defaultProps,_=x!==void 0?mt(mt({},x),w[0].props):w[0].props,T=_.barSize,S=_[b];a[S]||(a[S]=[]);var E=_e(T)?n:T;a[S].push({item:w[0],stackList:w.slice(1),barSize:_e(E)?void 0:Zt(E,r,0)})}}return a},JW=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Zt(n,i,0,!0),c,d=[];if(a[0].barSize===+a[0].barSize){var h=!1,g=i/l,v=a.reduce(function(T,S){return T+S.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&g>0&&(h=!0,g*=.9,v=l*g);var y=(i-v)/2>>0,b={offset:y-u,size:0};c=a.reduce(function(T,S){var E={item:S.item,position:{offset:b.offset+b.size+u,size:h?g:S.barSize}},A=[].concat(K_(T),[E]);return b=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:b})}),A},d)}else{var w=Zt(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var x=(i-2*w-(l-1)*u)/l;x>1&&(x>>=0);var _=s===+s?Math.min(x,s):x;c=a.reduce(function(T,S,E){var A=[].concat(K_(T),[{item:S.item,position:{offset:w+(x+u)*E+(x-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:A[A.length-1].position})}),A},d)}return c},YW=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=kI({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,g=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&g!=="center"&&X(e[g]))return mt(mt({},e),{},_a({},g,e[g]+(d||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&v!=="middle"&&X(e[v]))return mt(mt({},e),{},_a({},v,e[v]+(h||0)))}return e},XW=function(e,n,r){return _e(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},PI=function(e,n,r,i,o){var a=n.props.children,s=An(a,Lu).filter(function(u){return XW(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=At(c,r);if(_e(d))return u;var h=Array.isArray(d)?[bh(d),wh(d)]:[d,d],g=l.reduce(function(v,y){var b=At(c,y,0),w=h[0]-Math.abs(Array.isArray(b)?b[0]:b),x=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(w,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},QW=function(e,n,r,i,o){var a=n.map(function(s){return PI(e,s,r,o,i)}).filter(function(s){return!_e(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},II=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&PI(e,l,u,i)||gl(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},NI=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},OI=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},jr=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Qt(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!Nu(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},qp=new WeakMap,mc=function(e,n){if(typeof n!="function")return e;qp.has(e)||qp.set(e,new WeakMap);var r=qp.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},MI=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Kl(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Dd(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ml(),realScaleType:"point"}:o==="category"?{scale:Kl(),realScaleType:"band"}:{scale:Dd(),realScaleType:"linear"};if(xo(i)){var l="scale".concat(ih(i));return{scale:(V_[l]||ml)(),realScaleType:V_[l]?l:"point"}}return be(i)?{scale:i}:{scale:ml(),realScaleType:"point"}},Y_=1e-4,RI=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-Y_,a=Math.max(i[0],i[1])+Y_,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},ZW=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},eK=function(e,n){if(!n||n.length!==2||!X(n[0])||!X(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!X(e[0])||e[0]<r)&&(o[0]=r),(!X(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},tK=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Nu(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},nK=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Nu(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},rK={sign:tK,expand:_4,none:Ra,silhouette:S4,wiggle:E4,positive:nK},iK=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=rK[r],a=x4().keys(i).value(function(s,l){return+At(s,l,0)}).order(fg).offset(o);return a(e)},oK=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(d,h){var g,v=(g=h.type)!==null&&g!==void 0&&g.defaultProps?mt(mt({},h.type.defaultProps),h.props):h.props,y=v.stackId,b=v.hide;if(b)return d;var w=v[r],x=d[w]||{hasStack:!1,stackGroups:{}};if(kt(y)){var _=x.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),x.hasStack=!0,x.stackGroups[y]=_}else x.stackGroups[ps("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return mt(mt({},d),{},_a({},w,x))},l),c={};return Object.keys(u).reduce(function(d,h){var g=u[h];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,b){var w=g.stackGroups[b];return mt(mt({},y),{},_a({},b,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:iK(e,w.items,o)}))},v)}return mt(mt({},d),{},_a({},h,g))},c)},$I=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=wW(u,o,s);return e.domain([bh(c),wh(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=bW(d,o,s);return{niceTicks:h}}return null};function X_(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_e(i[e.dataKey])){var s=gd(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=At(i,_e(a)?e.dataKey:a);return _e(l)?null:e.scale(l)}var Q_=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=At(a,n.dataKey,n.domain[s]);return _e(l)?null:n.scale(l)-o/2+i},aK=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},sK=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?mt(mt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(kt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},lK=function(e){return e.reduce(function(n,r){return[bh(r.concat([n[0]]).filter(X)),wh(r.concat([n[1]]).filter(X))]},[1/0,-1/0])},jI=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var d=lK(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Z_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vg=function(e,n,r){if(be(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(X(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Z_.test(e[0])){var o=+Z_.exec(e[0])[1];i[0]=n[0]-o}else be(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(X(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(eS.test(e[1])){var a=+eS.exec(e[1])[1];i[1]=n[1]+a}else be(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},qd=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=p0(n,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},tS=function(e,n,r){return!e||!e.length||Du(e,Tn(r,"type.defaultProps.domain"))?n:e},DI=function(e,n){var r=e.type.defaultProps?mt(mt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return mt(mt({},ge(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:F0(e),value:At(n,i),type:l,payload:n,chartType:u,hide:c})};function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function nS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(n),!0).forEach(function(r){LI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LI(t,e,n){return e=uK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uK(t){var e=cK(t,"string");return ru(e)=="symbol"?e:e+""}function cK(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dK(t,e){return mK(t)||pK(t,e)||hK(t,e)||fK()}function fK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hK(t,e){if(t){if(typeof t=="string")return rS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rS(t,e)}}function rS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function mK(t){if(Array.isArray(t))return t}var Gd=Math.PI/180,gK=function(e){return e*180/Math.PI},Ye=function(e,n,r,i){return{x:e+Math.cos(-Gd*i)*r,y:n+Math.sin(-Gd*i)*r}},UI=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},vK=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=Zt(e.cx,a,a/2),d=Zt(e.cy,s,s/2),h=UI(a,s,r),g=Zt(e.innerRadius,h,0),v=Zt(e.outerRadius,h,h*.8),y=Object.keys(n);return y.reduce(function(b,w){var x=n[w],_=x.domain,T=x.reversed,S;if(_e(x.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[g,v]),T&&(S=[S[1],S[0]]);else{S=x.range;var E=S,A=dK(E,2);l=A[0],u=A[1]}var C=MI(x,o),k=C.realScaleType,N=C.scale;N.domain(_).range(S),RI(N);var O=$I(N,Pr(Pr({},x),{},{realScaleType:k})),R=Pr(Pr(Pr({},x),O),{},{range:S,radius:v,realScaleType:k,scale:N,cx:c,cy:d,innerRadius:g,outerRadius:v,startAngle:l,endAngle:u});return Pr(Pr({},b),{},LI({},w,R))},{})},yK=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},wK=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=yK({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:gK(u),angleInRadian:u}},bK=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},xK=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},iS=function(e,n){var r=e.x,i=e.y,o=wK({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=bK(n),d=c.startAngle,h=c.endAngle,g=s,v;if(d<=h){for(;g>h;)g-=360;for(;g<d;)g+=360;v=g>=d&&g<=h}else{for(;g>d;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=d}return v?Pr(Pr({},n),{},{radius:a,angle:xK(g,n)}):null},BI=function(e){return!P.isValidElement(e)&&!be(e)&&typeof e!="boolean"?e.className:""};function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}var _K=["offset"];function SK(t){return CK(t)||AK(t)||TK(t)||EK()}function EK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TK(t,e){if(t){if(typeof t=="string")return zg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zg(t,e)}}function AK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CK(t){if(Array.isArray(t))return zg(t)}function zg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kK(t,e){if(t==null)return{};var n=PK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oS(Object(n),!0).forEach(function(r){IK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IK(t,e,n){return e=NK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NK(t){var e=OK(t,"string");return iu(e)=="symbol"?e:e+""}function OK(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ou.apply(this,arguments)}var MK=function(e){var n=e.value,r=e.formatter,i=_e(e.children)?n:e.children;return be(r)?r(i):i},RK=function(e,n){var r=Qt(n-e),i=Math.min(Math.abs(n-e),360);return r*i},$K=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,g=l.startAngle,v=l.endAngle,y=l.clockWise,b=(d+h)/2,w=RK(g,v),x=w>=0?1:-1,_,T;i==="insideStart"?(_=g+x*a,T=y):i==="insideEnd"?(_=v-x*a,T=!y):i==="end"&&(_=v+x*a,T=y),T=w<=0?T:!T;var S=Ye(u,c,b,_),E=Ye(u,c,b,_+(T?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(T?0:1,`,
    `).concat(E.x,",").concat(E.y),C=_e(e.id)?ps("recharts-radial-line-"):e.id;return I.createElement("text",ou({},r,{dominantBaseline:"central",className:Se("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:C,d:A})),I.createElement("textPath",{xlinkHref:"#".concat(C)},n))},jK=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var g=Ye(a,s,u+r,h),v=g.x,y=g.y;return{x:v,y,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,w=Ye(a,s,b,h),x=w.x,_=w.y;return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},DK=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,d=c>=0?1:-1,h=d*i,g=d>0?"end":"start",v=d>0?"start":"end",y=u>=0?1:-1,b=y*i,w=y>0?"end":"start",x=y>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:g};return St(St({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return St(St({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:s-b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return St(St({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var E={x:s+u+b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return St(St({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return o==="insideLeft"?St({x:s+b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},A):o==="insideRight"?St({x:s+u-b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},A):o==="insideTop"?St({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},A):o==="insideBottom"?St({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:g},A):o==="insideTopLeft"?St({x:s+b,y:l+h,textAnchor:x,verticalAnchor:v},A):o==="insideTopRight"?St({x:s+u-b,y:l+h,textAnchor:w,verticalAnchor:v},A):o==="insideBottomLeft"?St({x:s+b,y:l+c-h,textAnchor:x,verticalAnchor:g},A):o==="insideBottomRight"?St({x:s+u-b,y:l+c-h,textAnchor:w,verticalAnchor:g},A):cs(o)&&(X(o.x)||ao(o.x))&&(X(o.y)||ao(o.y))?St({x:s+Zt(o.x,u),y:l+Zt(o.y,c),textAnchor:"end",verticalAnchor:"end"},A):St({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},LK=function(e){return"cx"in e&&X(e.cx)};function Mt(t){var e=t.offset,n=e===void 0?5:e,r=kK(t,_K),i=St({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||_e(s)&&_e(l)&&!P.isValidElement(u)&&!be(u))return null;if(P.isValidElement(u))return P.cloneElement(u,i);var g;if(be(u)){if(g=P.createElement(u,i),P.isValidElement(g))return g}else g=MK(i);var v=LK(o),y=ge(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return $K(i,g,y);var b=v?jK(i):DK(i);return I.createElement(So,ou({className:Se("recharts-label",d)},y,b,{breakAll:h}),g)}Mt.displayName="Label";var FI=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,g=e.top,v=e.left,y=e.width,b=e.height,w=e.clockWise,x=e.labelViewBox;if(x)return x;if(X(y)&&X(b)){if(X(d)&&X(h))return{x:d,y:h,width:y,height:b};if(X(g)&&X(v))return{x:g,y:v,width:y,height:b}}return X(d)&&X(h)?{x:d,y:h,width:0,height:0}:X(n)&&X(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},UK=function(e,n){return e?e===!0?I.createElement(Mt,{key:"label-implicit",viewBox:n}):kt(e)?I.createElement(Mt,{key:"label-implicit",viewBox:n,value:e}):P.isValidElement(e)?e.type===Mt?P.cloneElement(e,{key:"label-implicit",viewBox:n}):I.createElement(Mt,{key:"label-implicit",content:e,viewBox:n}):be(e)?I.createElement(Mt,{key:"label-implicit",content:e,viewBox:n}):cs(e)?I.createElement(Mt,ou({viewBox:n},e,{key:"label-implicit"})):null:null},BK=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=FI(e),a=An(i,Mt).map(function(l,u){return P.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=UK(e.label,n||o);return[s].concat(SK(a))};Mt.parseViewBox=FI;Mt.renderCallByParent=BK;function FK(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var VK=FK;const zK=Be(VK);function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}var qK=["valueAccessor"],GK=["data","dataKey","clockWise","id","textBreakAll"];function HK(t){return YK(t)||JK(t)||KK(t)||WK()}function WK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KK(t,e){if(t){if(typeof t=="string")return qg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qg(t,e)}}function JK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YK(t){if(Array.isArray(t))return qg(t)}function qg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hd.apply(this,arguments)}function aS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(n),!0).forEach(function(r){XK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XK(t,e,n){return e=QK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QK(t){var e=ZK(t,"string");return au(e)=="symbol"?e:e+""}function ZK(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lS(t,e){if(t==null)return{};var n=eJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tJ=function(e){return Array.isArray(e.value)?zK(e.value):e.value};function Br(t){var e=t.valueAccessor,n=e===void 0?tJ:e,r=lS(t,qK),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=lS(r,GK);return!i||!i.length?null:I.createElement(Me,{className:"recharts-label-list"},i.map(function(c,d){var h=_e(o)?n(c,d):At(c&&c.payload,o),g=_e(s)?{}:{id:"".concat(s,"-").concat(d)};return I.createElement(Mt,Hd({},ge(c,!0),u,g,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Mt.parseViewBox(_e(a)?c:sS(sS({},c),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Br.displayName="LabelList";function nJ(t,e){return t?t===!0?I.createElement(Br,{key:"labelList-implicit",data:e}):I.isValidElement(t)||be(t)?I.createElement(Br,{key:"labelList-implicit",data:e,content:t}):cs(t)?I.createElement(Br,Hd({data:e},t,{key:"labelList-implicit"})):null:null}function rJ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=An(r,Br).map(function(a,s){return P.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=nJ(t.label,e);return[o].concat(HK(i))}Br.renderCallByParent=rJ;function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(this,arguments)}function uS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(n),!0).forEach(function(r){iJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iJ(t,e,n){return e=oJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oJ(t){var e=aJ(t,"string");return su(e)=="symbol"?e:e+""}function aJ(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sJ=function(e,n){var r=Qt(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},gc=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/Gd,h=u?o:o+a*d,g=Ye(n,r,c,h),v=Ye(n,r,i,h),y=u?o-a*d:o,b=Ye(n,r,c*Math.cos(d*Gd),y);return{center:g,circleTangency:v,lineTangency:b,theta:d}},VI=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=sJ(a,s),u=a+l,c=Ye(n,r,o,a),d=Ye(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=Ye(n,r,i,a),v=Ye(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},lJ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Qt(c-u),h=gc({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),g=h.circleTangency,v=h.lineTangency,y=h.theta,b=gc({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),w=b.circleTangency,x=b.lineTangency,_=b.theta,T=l?Math.abs(u-c):Math.abs(u-c)-y-_;if(T<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):VI({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var E=gc({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=E.circleTangency,C=E.lineTangency,k=E.theta,N=gc({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=N.circleTangency,R=N.lineTangency,D=N.theta,U=l?Math.abs(u-c):Math.abs(u-c)-k-D;if(U<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},uJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zI=function(e){var n=cS(cS({},uJ),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(a<o||c===d)return null;var g=Se("recharts-sector",h),v=a-o,y=Zt(s,v,0,!0),b;return y>0&&Math.abs(c-d)<360?b=lJ({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):b=VI({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:d}),I.createElement("path",Gg({},ge(n,!0),{className:g,d:b,role:"img"}))};function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}function dS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dS(Object(n),!0).forEach(function(r){cJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cJ(t,e,n){return e=dJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dJ(t){var e=fJ(t,"string");return lu(e)=="symbol"?e:e+""}function fJ(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hS={curveBasisClosed:c4,curveBasisOpen:d4,curveBasis:u4,curveBumpX:J3,curveBumpY:Y3,curveLinearClosed:f4,curveLinear:ah,curveMonotoneX:h4,curveMonotoneY:p4,curveNatural:m4,curveStep:g4,curveStepAfter:y4,curveStepBefore:v4},vc=function(e){return e.x===+e.x&&e.y===+e.y},Gs=function(e){return e.x},Hs=function(e){return e.y},hJ=function(e,n){if(be(e))return e;var r="curve".concat(ih(e));return(r==="curveMonotone"||r==="curveBump")&&n?hS["".concat(r).concat(n==="vertical"?"Y":"X")]:hS[r]||ah},pJ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=hJ(r,s),d=u?o.filter(function(y){return vc(y)}):o,h;if(Array.isArray(a)){var g=u?a.filter(function(y){return vc(y)}):a,v=d.map(function(y,b){return fS(fS({},y),{},{base:g[b]})});return s==="vertical"?h=sc().y(Hs).x1(Gs).x0(function(y){return y.base.x}):h=sc().x(Gs).y1(Hs).y0(function(y){return y.base.y}),h.defined(vc).curve(c),h(v)}return s==="vertical"&&X(a)?h=sc().y(Hs).x1(Gs).x0(a):X(a)?h=sc().x(Gs).y1(Hs).y0(a):h=Dk().x(Gs).y(Hs),h.defined(vc).curve(c),h(d)},Wd=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?pJ(e):i;return P.createElement("path",Hg({},ge(e,!1),vd(e),{className:Se("recharts-curve",n),d:a,ref:o}))},qI={exports:{}},mJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gJ=mJ,vJ=gJ;function GI(){}function HI(){}HI.resetWarningCache=GI;var yJ=function(){function t(r,i,o,a,s,l){if(l!==vJ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:HI,resetWarningCache:GI};return n.PropTypes=n,n};qI.exports=yJ();var wJ=qI.exports;const Le=Be(wJ);var bJ=Object.getOwnPropertyNames,xJ=Object.getOwnPropertySymbols,_J=Object.prototype.hasOwnProperty;function pS(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function yc(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function SJ(t){return t!=null?t[Symbol.toStringTag]:void 0}function mS(t){return bJ(t).concat(xJ(t))}var EJ=Object.hasOwn||function(t,e){return _J.call(t,e)};function Ro(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var TJ="__v",AJ="__o",CJ="_owner",gS=Object.getOwnPropertyDescriptor,vS=Object.keys;function kJ(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function PJ(t,e){return Ro(t.getTime(),e.getTime())}function IJ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function NJ(t,e){return t===e}function yS(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),c=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var h=a.value,g=s.value;if(n.equals(h[0],g[0],l,d,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}var OJ=Ro;function MJ(t,e,n){var r=vS(t),i=r.length;if(vS(e).length!==i)return!1;for(;i-- >0;)if(!WI(t,e,n,r[i]))return!1;return!0}function Ws(t,e,n){var r=mS(t),i=r.length;if(mS(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!WI(t,e,n,o)||(a=gS(t,o),s=gS(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function RJ(t,e){return Ro(t.valueOf(),e.valueOf())}function $J(t,e){return t.source===e.source&&t.flags===e.flags}function wS(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function jJ(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function DJ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function WI(t,e,n,r){return(r===CJ||r===AJ||r===TJ)&&(t.$$typeof||e.$$typeof)?!0:EJ(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var LJ="[object Arguments]",UJ="[object Boolean]",BJ="[object Date]",FJ="[object Error]",VJ="[object Map]",zJ="[object Number]",qJ="[object Object]",GJ="[object RegExp]",HJ="[object Set]",WJ="[object String]",KJ="[object URL]",JJ=Array.isArray,bS=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,xS=Object.assign,YJ=Object.prototype.toString.call.bind(Object.prototype.toString);function XJ(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual,g=t.unknownTagComparators;return function(y,b,w){if(y===b)return!0;if(y==null||b==null)return!1;var x=typeof y;if(x!==typeof b)return!1;if(x!=="object")return x==="number"?a(y,b,w):x==="function"?i(y,b,w):!1;var _=y.constructor;if(_!==b.constructor)return!1;if(_===Object)return s(y,b,w);if(JJ(y))return e(y,b,w);if(bS!=null&&bS(y))return d(y,b,w);if(_===Date)return n(y,b,w);if(_===RegExp)return u(y,b,w);if(_===Map)return o(y,b,w);if(_===Set)return c(y,b,w);var T=YJ(y);if(T===BJ)return n(y,b,w);if(T===GJ)return u(y,b,w);if(T===VJ)return o(y,b,w);if(T===HJ)return c(y,b,w);if(T===qJ)return typeof y.then!="function"&&typeof b.then!="function"&&s(y,b,w);if(T===KJ)return h(y,b,w);if(T===FJ)return r(y,b,w);if(T===LJ)return s(y,b,w);if(T===UJ||T===zJ||T===WJ)return l(y,b,w);if(g){var S=g[T];if(!S){var E=SJ(y);E&&(S=g[E])}if(S)return S(y,b,w)}return!1}}function QJ(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Ws:kJ,areDatesEqual:PJ,areErrorsEqual:IJ,areFunctionsEqual:NJ,areMapsEqual:r?pS(yS,Ws):yS,areNumbersEqual:OJ,areObjectsEqual:r?Ws:MJ,arePrimitiveWrappersEqual:RJ,areRegExpsEqual:$J,areSetsEqual:r?pS(wS,Ws):wS,areTypedArraysEqual:r?Ws:jJ,areUrlsEqual:DJ,unknownTagComparators:void 0};if(n&&(i=xS({},i,n(i))),e){var o=yc(i.areArraysEqual),a=yc(i.areMapsEqual),s=yc(i.areObjectsEqual),l=yc(i.areSetsEqual);i=xS({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function ZJ(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function eY(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),d=c.cache,h=d===void 0?e?new WeakMap:void 0:d,g=c.meta;return n(l,u,{cache:h,equals:i,meta:g,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var tY=Ri();Ri({strict:!0});Ri({circular:!0});Ri({circular:!0,strict:!0});Ri({createInternalComparator:function(){return Ro}});Ri({strict:!0,createInternalComparator:function(){return Ro}});Ri({circular:!0,createInternalComparator:function(){return Ro}});Ri({circular:!0,createInternalComparator:function(){return Ro},strict:!0});function Ri(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=QJ(t),l=XJ(s),u=r?r(l):ZJ(l);return eY({circular:n,comparator:l,createState:i,equals:u,strict:a})}function nY(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function _S(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):nY(i)};requestAnimationFrame(r)}function Wg(t){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}function rY(t){return sY(t)||aY(t)||oY(t)||iY()}function iY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oY(t,e){if(t){if(typeof t=="string")return SS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SS(t,e)}}function SS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sY(t){if(Array.isArray(t))return t}function lY(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=rY(a),l=s[0],u=s.slice(1);if(typeof l=="number"){_S(i.bind(null,u),l);return}i(l),_S(i.bind(null,u));return}Wg(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function ES(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ES(Object(n),!0).forEach(function(r){KI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ES(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KI(t,e,n){return e=uY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uY(t){var e=cY(t,"string");return uu(e)==="symbol"?e:String(e)}function cY(t,e){if(uu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dY=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},fY=function(e){return e},hY=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},vl=function(e,n){return Object.keys(n).reduce(function(r,i){return TS(TS({},r),{},KI({},i,e(i,n[i])))},{})},AS=function(e,n,r){return e.map(function(i){return"".concat(hY(i)," ").concat(n,"ms ").concat(r)}).join(",")};function pY(t,e){return vY(t)||gY(t,e)||JI(t,e)||mY()}function mY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function vY(t){if(Array.isArray(t))return t}function yY(t){return xY(t)||bY(t)||JI(t)||wY()}function wY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JI(t,e){if(t){if(typeof t=="string")return Kg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kg(t,e)}}function bY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xY(t){if(Array.isArray(t))return Kg(t)}function Kg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kd=1e-4,YI=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},XI=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},CS=function(e,n){return function(r){var i=YI(e,n);return XI(i,r)}},_Y=function(e,n){return function(r){var i=YI(e,n),o=[].concat(yY(i.map(function(a,s){return a*s}).slice(1)),[0]);return XI(o,r)}},kS=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),c=pY(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var d=CS(i,a),h=CS(o,s),g=_Y(i,a),v=function(w){return w>1?1:w<0?0:w},y=function(w){for(var x=w>1?1:w,_=x,T=0;T<8;++T){var S=d(_)-x,E=g(_);if(Math.abs(S-x)<Kd||E<Kd)return h(_);_=v(_-S/E)}return h(_)};return y.isStepper=!1,y},SY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,d,h){var g=-(c-d)*r,v=h*o,y=h+(g-v)*s/1e3,b=h*s/1e3+c;return Math.abs(b-d)<Kd&&Math.abs(y)<Kd?[d,0]:[b,y]};return l.isStepper=!0,l.dt=s,l},EY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kS(i);case"spring":return SY();default:if(i.split("(")[0]==="cubic-bezier")return kS(i)}return typeof i=="function"?i:null};function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function PS(t){return CY(t)||AY(t)||QI(t)||TY()}function TY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CY(t){if(Array.isArray(t))return Yg(t)}function IS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IS(Object(n),!0).forEach(function(r){Jg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jg(t,e,n){return e=kY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kY(t){var e=PY(t,"string");return cu(e)==="symbol"?e:String(e)}function PY(t,e){if(cu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IY(t,e){return MY(t)||OY(t,e)||QI(t,e)||NY()}function NY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QI(t,e){if(t){if(typeof t=="string")return Yg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yg(t,e)}}function Yg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function MY(t){if(Array.isArray(t))return t}var Jd=function(e,n,r){return e+(n-e)*r},Xg=function(e){var n=e.from,r=e.to;return n!==r},RY=function t(e,n,r){var i=vl(function(o,a){if(Xg(a)){var s=e(a.from,a.to,a.velocity),l=IY(s,2),u=l[0],c=l[1];return Dt(Dt({},a),{},{from:u,velocity:c})}return a},n);return r<1?vl(function(o,a){return Xg(a)?Dt(Dt({},a),{},{velocity:Jd(a.velocity,i[o].velocity,r),from:Jd(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const $Y=function(t,e,n,r,i){var o=dY(t,e),a=o.reduce(function(b,w){return Dt(Dt({},b),{},Jg({},w,[t[w],e[w]]))},{}),s=o.reduce(function(b,w){return Dt(Dt({},b),{},Jg({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return vl(function(w,x){return x.from},s)},g=function(){return!Object.values(s).filter(Xg).length},v=function(w){u||(u=w);var x=w-u,_=x/n.dt;s=RY(n,s,_),i(Dt(Dt(Dt({},t),e),h())),u=w,g()||(l=requestAnimationFrame(d))},y=function(w){c||(c=w);var x=(w-c)/r,_=vl(function(S,E){return Jd.apply(void 0,PS(E).concat([n(x)]))},a);if(i(Dt(Dt(Dt({},t),e),_)),x<1)l=requestAnimationFrame(d);else{var T=vl(function(S,E){return Jd.apply(void 0,PS(E).concat([n(1)]))},a);i(Dt(Dt(Dt({},t),e),T))}};return d=n.isStepper?v:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function za(t){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(t)}var jY=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function DY(t,e){if(t==null)return{};var n=LY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Gp(t){return VY(t)||FY(t)||BY(t)||UY()}function UY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BY(t,e){if(t){if(typeof t=="string")return Qg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qg(t,e)}}function FY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VY(t){if(Array.isArray(t))return Qg(t)}function Qg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NS(Object(n),!0).forEach(function(r){rl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rl(t,e,n){return e=ZI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZI(r.key),r)}}function GY(t,e,n){return e&&qY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZI(t){var e=HY(t,"string");return za(e)==="symbol"?e:String(e)}function HY(t,e){if(za(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(za(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zg(t,e)}function Zg(t,e){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zg(t,e)}function KY(t){var e=JY();return function(){var r=Yd(t),i;if(e){var o=Yd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ev(this,i)}}function ev(t,e){if(e&&(za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tv(t)}function tv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yd(t)}var Sr=function(t){WY(n,t);var e=KY(n);function n(r,i){var o;zY(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,d=a.steps,h=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(tv(o)),o.changeStyle=o.changeStyle.bind(tv(o)),!s||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),ev(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},ev(o);o.state={style:l?rl({},l,u):u}}else o.state={style:{}};return o}return GY(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(s){if(!a){var g={style:l?rl({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(g);return}if(!(tY(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?d:i.to;if(this.state&&h){var b={style:l?rl({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(b)}this.runAnimation(Yn(Yn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,g=$Y(a,s,EY(u),l,this.changeStyle),v=function(){o.stopJSAnimation=g()};this.manager.start([h,c,v,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,d=u.duration,h=d===void 0?0:d,g=function(y,b,w){if(w===0)return y;var x=b.duration,_=b.easing,T=_===void 0?"ease":_,S=b.style,E=b.properties,A=b.onAnimationEnd,C=w>0?a[w-1]:b,k=E||Object.keys(S);if(typeof T=="function"||T==="spring")return[].concat(Gp(y),[o.runJSAnimation.bind(o,{from:C.style,to:S,duration:x,easing:T}),x]);var N=AS(k,x,T),O=Yn(Yn(Yn({},C.style),S),{},{transition:N});return[].concat(Gp(y),[O,x,A]).filter(fY)};return this.manager.start([l].concat(Gp(a.reduce(g,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=lY());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?rl({},s,l):l,b=AS(Object.keys(y),a,u);v.start([c,o,Yn(Yn({},y),{},{transition:b}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=DY(i,jY),u=P.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var d=function(g){var v=g.props,y=v.style,b=y===void 0?{}:y,w=v.className,x=P.cloneElement(g,Yn(Yn({},l),{},{style:Yn(Yn({},b),c),className:w}));return x};return u===1?d(P.Children.only(o)):I.createElement("div",null,P.Children.map(o,function(h){return d(h)}))}}]),n}(P.PureComponent);Sr.displayName="Animate";Sr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Sr.propTypes={from:Le.oneOfType([Le.object,Le.string]),to:Le.oneOfType([Le.object,Le.string]),attributeName:Le.string,duration:Le.number,begin:Le.number,easing:Le.oneOfType([Le.string,Le.func]),steps:Le.arrayOf(Le.shape({duration:Le.number.isRequired,style:Le.object.isRequired,easing:Le.oneOfType([Le.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Le.func]),properties:Le.arrayOf("string"),onAnimationEnd:Le.func})),children:Le.oneOfType([Le.node,Le.func]),isActive:Le.bool,canBegin:Le.bool,onAnimationEnd:Le.func,shouldReAnimate:Le.bool,onAnimationStart:Le.func,onAnimationReStart:Le.func};function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xd.apply(this,arguments)}function YY(t,e){return eX(t)||ZY(t,e)||QY(t,e)||XY()}function XY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QY(t,e){if(t){if(typeof t=="string")return OS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OS(t,e)}}function OS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function eX(t){if(Array.isArray(t))return t}function MS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MS(Object(n),!0).forEach(function(r){tX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tX(t,e,n){return e=nX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nX(t){var e=rX(t,"string");return du(e)=="symbol"?e:e+""}function rX(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $S=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*d[1])),c+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*d[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);c="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},iX=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),d=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},oX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},V0=function(e){var n=RS(RS({},oX),e),r=P.useRef(),i=P.useState(-1),o=YY(i,2),a=o[0],s=o[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,g=n.className,v=n.animationEasing,y=n.animationDuration,b=n.animationBegin,w=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var _=Se("recharts-rectangle",g);return x?I.createElement(Sr,{canBegin:a>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:y,animationEasing:v,isActive:x},function(T){var S=T.width,E=T.height,A=T.x,C=T.y;return I.createElement(Sr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:w,easing:v},I.createElement("path",Xd({},ge(n,!0),{className:_,d:$S(A,C,S,E,h),ref:r})))}):I.createElement("path",Xd({},ge(n,!0),{className:_,d:$S(l,u,c,d,h)}))},aX=["points","className","baseLinePoints","connectNulls"];function ua(){return ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ua.apply(this,arguments)}function sX(t,e){if(t==null)return{};var n=lX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jS(t){return fX(t)||dX(t)||cX(t)||uX()}function uX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cX(t,e){if(t){if(typeof t=="string")return nv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nv(t,e)}}function dX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fX(t){if(Array.isArray(t))return nv(t)}function nv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var DS=function(e){return e&&e.x===+e.x&&e.y===+e.y},hX=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){DS(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),DS(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},yl=function(e,n){var r=hX(e);n&&(r=[r.reduce(function(o,a){return[].concat(jS(o),jS(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},pX=function(e,n,r){var i=yl(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(yl(n.reverse(),r).slice(1))},mX=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=sX(e,aX);if(!n||!n.length)return null;var s=Se("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=pX(n,i,o);return I.createElement("g",{className:s},I.createElement("path",ua({},ge(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?I.createElement("path",ua({},ge(a,!0),{fill:"none",d:yl(n,o)})):null,l?I.createElement("path",ua({},ge(a,!0),{fill:"none",d:yl(i,o)})):null)}var c=yl(n,o);return I.createElement("path",ua({},ge(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(this,arguments)}var Sh=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Se("recharts-dot",o);return n===+n&&r===+r&&i===+i?P.createElement("circle",rv({},ge(e,!1),vd(e),{className:a,cx:n,cy:r,r:i})):null};function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}var gX=["x","y","top","left","width","height","className"];function iv(){return iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iv.apply(this,arguments)}function LS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(n),!0).forEach(function(r){yX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yX(t,e,n){return e=wX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wX(t){var e=bX(t,"string");return fu(e)=="symbol"?e:e+""}function bX(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xX(t,e){if(t==null)return{};var n=_X(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _X(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var SX=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},EX=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,g=h===void 0?0:h,v=e.className,y=xX(e,gX),b=vX({x:r,y:o,top:s,left:u,width:d,height:g},y);return!X(r)||!X(o)||!X(d)||!X(g)||!X(s)||!X(u)?null:I.createElement("path",iv({},ge(b,!0),{className:Se("recharts-cross",v),d:SX(r,o,d,g,s,u)}))},TX=yh,AX=dI,CX=Tr;function kX(t,e){return t&&t.length?TX(t,CX(e),AX):void 0}var PX=kX;const IX=Be(PX);var NX=yh,OX=Tr,MX=fI;function RX(t,e){return t&&t.length?NX(t,OX(e),MX):void 0}var $X=RX;const jX=Be($X);var DX=["cx","cy","angle","ticks","axisLine"],LX=["ticks","tick","angle","tickFormatter","stroke"];function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}function US(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?US(Object(n),!0).forEach(function(r){Eh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):US(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BS(t,e){if(t==null)return{};var n=UX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t2(r.key),r)}}function FX(t,e,n){return e&&FS(t.prototype,e),n&&FS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VX(t,e,n){return e=Qd(e),zX(t,e2()?Reflect.construct(e,n||[],Qd(t).constructor):e.apply(t,n))}function zX(t,e){if(e&&(qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qX(t)}function qX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e2=function(){return!!t})()}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qd(t)}function GX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ov(t,e)}function ov(t,e){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ov(t,e)}function Eh(t,e,n){return e=t2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t2(t){var e=HX(t,"string");return qa(e)=="symbol"?e:e+""}function HX(t,e){if(qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Th=function(t){function e(){return BX(this,e),VX(this,e,arguments)}return GX(e,t),FX(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Ye(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=IX(s,function(c){return c.coordinate||0}),u=jX(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=BS(r,DX),c=s.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),d=Ye(i,o,c[0],a),h=Ye(i,o,c[1],a),g=Vi(Vi(Vi({},ge(u,!1)),{},{fill:"none"},ge(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return I.createElement("line",wl({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=BS(i,LX),d=this.getTickTextAnchor(),h=ge(c,!1),g=ge(a,!1),v=o.map(function(y,b){var w=r.getTickValueCoord(y),x=Vi(Vi(Vi(Vi({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},g),{},{index:b},w),{},{payload:y});return I.createElement(Me,wl({className:Se("recharts-polar-radius-axis-tick",BI(a)),key:"tick-".concat(y.coordinate)},_o(r.props,y,b)),e.renderTickItem(a,x,l?l(y.value,b):y.value))});return I.createElement(Me,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:I.createElement(Me,{className:Se("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),Mt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):be(r)?a=r(i):a=I.createElement(So,wl({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(P.PureComponent);Eh(Th,"displayName","PolarRadiusAxis");Eh(Th,"axisType","radiusAxis");Eh(Th,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ga(t){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ga(t)}function Qi(){return Qi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qi.apply(this,arguments)}function VS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VS(Object(n),!0).forEach(function(r){Ah(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r2(r.key),r)}}function KX(t,e,n){return e&&zS(t.prototype,e),n&&zS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function JX(t,e,n){return e=Zd(e),YX(t,n2()?Reflect.construct(e,n||[],Zd(t).constructor):e.apply(t,n))}function YX(t,e){if(e&&(Ga(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XX(t)}function XX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n2=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(t)}function QX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&av(t,e)}function av(t,e){return av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},av(t,e)}function Ah(t,e,n){return e=r2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r2(t){var e=ZX(t,"string");return Ga(e)=="symbol"?e:e+""}function ZX(t,e){if(Ga(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eQ=Math.PI/180,qS=1e-5,Ch=function(t){function e(){return WX(this,e),JX(this,e,arguments)}return QX(e,t),KX(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,d=Ye(o,a,s,r.coordinate),h=Ye(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*eQ),a;return o>qS?a=i==="outer"?"start":"end":o<-qS?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=zi(zi({},ge(this.props,!1)),{},{fill:"none"},ge(s,!1));if(l==="circle")return I.createElement(Sh,Qi({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,d=c.map(function(h){return Ye(i,o,a,h.coordinate)});return I.createElement(mX,Qi({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=ge(this.props,!1),d=ge(a,!1),h=zi(zi({},c),{},{fill:"none"},ge(s,!1)),g=o.map(function(v,y){var b=r.getTickLineCoord(v),w=r.getTickTextAnchor(v),x=zi(zi(zi({textAnchor:w},c),{},{stroke:"none",fill:u},d),{},{index:y,payload:v,x:b.x2,y:b.y2});return I.createElement(Me,Qi({className:Se("recharts-polar-angle-axis-tick",BI(a)),key:"tick-".concat(v.coordinate)},_o(r.props,v,y)),s&&I.createElement("line",Qi({className:"recharts-polar-angle-axis-tick-line"},h,b)),a&&e.renderTickItem(a,x,l?l(v.value,y):v.value))});return I.createElement(Me,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:I.createElement(Me,{className:Se("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):be(r)?a=r(i):a=I.createElement(So,Qi({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(P.PureComponent);Ah(Ch,"displayName","PolarAngleAxis");Ah(Ch,"axisType","angleAxis");Ah(Ch,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var tQ=sP,nQ=tQ(Object.getPrototypeOf,Object),rQ=nQ,iQ=Yr,oQ=rQ,aQ=Xr,sQ="[object Object]",lQ=Function.prototype,uQ=Object.prototype,i2=lQ.toString,cQ=uQ.hasOwnProperty,dQ=i2.call(Object);function fQ(t){if(!aQ(t)||iQ(t)!=sQ)return!1;var e=oQ(t);if(e===null)return!0;var n=cQ.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&i2.call(n)==dQ}var hQ=fQ;const pQ=Be(hQ);var mQ=Yr,gQ=Xr,vQ="[object Boolean]";function yQ(t){return t===!0||t===!1||gQ(t)&&mQ(t)==vQ}var wQ=yQ;const bQ=Be(wQ);function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function ef(){return ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ef.apply(this,arguments)}function xQ(t,e){return TQ(t)||EQ(t,e)||SQ(t,e)||_Q()}function _Q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SQ(t,e){if(t){if(typeof t=="string")return GS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GS(t,e)}}function GS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function TQ(t){if(Array.isArray(t))return t}function HS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HS(Object(n),!0).forEach(function(r){AQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AQ(t,e,n){return e=CQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CQ(t){var e=kQ(t,"string");return hu(e)=="symbol"?e:e+""}function kQ(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KS=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},PQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IQ=function(e){var n=WS(WS({},PQ),e),r=P.useRef(),i=P.useState(-1),o=xQ(i,2),a=o[0],s=o[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,g=n.className,v=n.animationEasing,y=n.animationDuration,b=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var x=Se("recharts-trapezoid",g);return w?I.createElement(Sr,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:y,animationEasing:v,isActive:w},function(_){var T=_.upperWidth,S=_.lowerWidth,E=_.height,A=_.x,C=_.y;return I.createElement(Sr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:v},I.createElement("path",ef({},ge(n,!0),{className:x,d:KS(A,C,T,S,E),ref:r})))}):I.createElement("g",null,I.createElement("path",ef({},ge(n,!0),{className:x,d:KS(l,u,c,d,h)})))},NQ=["option","shapeType","propTransformer","activeClassName","isActive"];function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function OQ(t,e){if(t==null)return{};var n=MQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JS(Object(n),!0).forEach(function(r){RQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RQ(t,e,n){return e=$Q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Q(t){var e=jQ(t,"string");return pu(e)=="symbol"?e:e+""}function jQ(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DQ(t,e){return tf(tf({},e),t)}function LQ(t,e){return t==="symbols"}function YS(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return I.createElement(V0,n);case"trapezoid":return I.createElement(IQ,n);case"sector":return I.createElement(zI,n);case"symbols":if(LQ(e))return I.createElement(a0,n);break;default:return null}}function UQ(t){return P.isValidElement(t)?t.props:t}function o2(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?DQ:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=OQ(t,NQ),u;if(P.isValidElement(e))u=P.cloneElement(e,tf(tf({},l),UQ(e)));else if(be(e))u=e(l);else if(pQ(e)&&!bQ(e)){var c=i(e,l);u=I.createElement(YS,{shapeType:n,elementProps:c})}else{var d=l;u=I.createElement(YS,{shapeType:n,elementProps:d})}return s?I.createElement(Me,{className:a},u):u}function kh(t,e){return e!=null&&"trapezoids"in t.props}function Ph(t,e){return e!=null&&"sectors"in t.props}function mu(t,e){return e!=null&&"points"in t.props}function BQ(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function FQ(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function VQ(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function zQ(t,e){var n;return kh(t,e)?n=BQ:Ph(t,e)?n=FQ:mu(t,e)&&(n=VQ),n}function qQ(t,e){var n;return kh(t,e)?n="trapezoids":Ph(t,e)?n="sectors":mu(t,e)&&(n="points"),n}function GQ(t,e){if(kh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Ph(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return mu(t,e)?e.payload:{}}function HQ(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=qQ(n,e),o=GQ(n,e),a=r.filter(function(l,u){var c=Du(o,l),d=n.props[i].filter(function(v){var y=zQ(n,e);return y(v,e)}),h=n.props[i].indexOf(d[d.length-1]),g=u===h;return c&&g}),s=r.indexOf(a[a.length-1]);return s}var Vc;function Ha(t){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(t)}function ca(){return ca=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ca.apply(this,arguments)}function XS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function We(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XS(Object(n),!0).forEach(function(r){Ln(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s2(r.key),r)}}function KQ(t,e,n){return e&&QS(t.prototype,e),n&&QS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function JQ(t,e,n){return e=nf(e),YQ(t,a2()?Reflect.construct(e,n||[],nf(t).constructor):e.apply(t,n))}function YQ(t,e){if(e&&(Ha(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XQ(t)}function XQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a2=function(){return!!t})()}function nf(t){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nf(t)}function QQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sv(t,e)}function sv(t,e){return sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sv(t,e)}function Ln(t,e,n){return e=s2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s2(t){var e=ZQ(t,"string");return Ha(e)=="symbol"?e:e+""}function ZQ(t,e){if(Ha(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ha(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zr=function(t){function e(n){var r;return WQ(this,e),r=JQ(this,e,[n]),Ln(r,"pieRef",null),Ln(r,"sectorRefs",[]),Ln(r,"id",ps("recharts-pie-")),Ln(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),be(i)&&i()}),Ln(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),be(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return QQ(e,t),KQ(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=ge(this.props,!1),d=ge(a,!1),h=ge(s,!1),g=a&&a.offsetRadius||20,v=r.map(function(y,b){var w=(y.startAngle+y.endAngle)/2,x=Ye(y.cx,y.cy,y.outerRadius+g,w),_=We(We(We(We({},c),y),{},{stroke:"none"},d),{},{index:b,textAnchor:e.getTextAnchor(x.x,y.cx)},x),T=We(We(We(We({},c),y),{},{fill:"none",stroke:y.fill},h),{},{index:b,points:[Ye(y.cx,y.cy,y.outerRadius,w),x]}),S=l;return _e(l)&&_e(u)?S="value":_e(l)&&(S=u),I.createElement(Me,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},s&&e.renderLabelLineItem(s,T,"line"),e.renderLabelItem(a,_,At(y,S)))});return I.createElement(Me,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,g=d?a:h,v=We(We({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return I.createElement(Me,ca({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},_o(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),I.createElement(o2,ca({option:g,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state,h=d.prevSectors,g=d.prevIsAnimationActive;return I.createElement(Sr,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,b=[],w=o&&o[0],x=w.startAngle;return o.forEach(function(_,T){var S=h&&h[T],E=T>0?Tn(_,"paddingAngle",0):0;if(S){var A=wn(S.endAngle-S.startAngle,_.endAngle-_.startAngle),C=We(We({},_),{},{startAngle:x+E,endAngle:x+A(y)+E});b.push(C),x=C.endAngle}else{var k=_.endAngle,N=_.startAngle,O=wn(0,k-N),R=O(y),D=We(We({},_),{},{startAngle:x+E,endAngle:x+R+E});b.push(D),x=D.endAngle}}),I.createElement(Me,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Du(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,d=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!a||!a.length||!X(u)||!X(c)||!X(d)||!X(h))return null;var y=Se("recharts-pie",s);return I.createElement(Me,{tabIndex:this.props.rootTabIndex,className:y,ref:function(w){r.pieRef=w}},this.renderSectors(),l&&this.renderLabels(a),Mt.renderCallByParent(this.props,null,!1),(!g||v)&&Br.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);if(be(r))return r(i);var a=Se("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return I.createElement(Wd,ca({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);var a=o;if(be(r)&&(a=r(i),I.isValidElement(a)))return a;var s=Se("recharts-pie-label-text",typeof r!="boolean"&&!be(r)?r.className:"");return I.createElement(So,ca({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(P.PureComponent);Vc=Zr;Ln(Zr,"displayName","Pie");Ln(Zr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!No.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ln(Zr,"parseDeltaAngle",function(t,e){var n=Qt(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Ln(Zr,"getRealPieData",function(t){var e=t.data,n=t.children,r=ge(t,!1),i=An(n,dh);return e&&e.length?e.map(function(o,a){return We(We(We({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return We(We({},r),o.props)}):[]});Ln(Zr,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=UI(i,o),s=r+Zt(t.cx,i,i/2),l=n+Zt(t.cy,o,o/2),u=Zt(t.innerRadius,a,0),c=Zt(t.outerRadius,a,a*.8),d=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:d}});Ln(Zr,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?We(We({},e.type.defaultProps),e.props):e.props,i=Vc.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,d=r.valueKey,h=r.tooltipType,g=Math.abs(r.minAngle),v=Vc.parseCoordinateOfPie(r,n),y=Vc.parseDeltaAngle(a,s),b=Math.abs(y),w=u;_e(u)&&_e(d)?(sr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):_e(u)&&(sr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=d);var x=i.filter(function(C){return At(C,w,0)!==0}).length,_=(b>=360?x:x-1)*l,T=b-x*g-_,S=i.reduce(function(C,k){var N=At(k,w,0);return C+(X(N)?N:0)},0),E;if(S>0){var A;E=i.map(function(C,k){var N=At(C,w,0),O=At(C,c,k),R=(X(N)?N:0)/S,D;k?D=A.endAngle+Qt(y)*l*(N!==0?1:0):D=a;var U=D+Qt(y)*((N!==0?g:0)+R*T),j=(D+U)/2,M=(v.innerRadius+v.outerRadius)/2,L=[{name:O,value:N,payload:C,dataKey:w,type:h}],$=Ye(v.cx,v.cy,M,j);return A=We(We(We({percent:R,cornerRadius:o,name:O,tooltipPayload:L,midAngle:j,middleRadius:M,tooltipPosition:$},C),v),{},{value:At(C,w),startAngle:D,endAngle:U,payload:C,paddingAngle:Qt(y)*l}),A})}return We(We({},v),{},{sectors:E,data:i})});var eZ=Math.ceil,tZ=Math.max;function nZ(t,e,n,r){for(var i=-1,o=tZ(eZ((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var rZ=nZ,iZ=AP,ZS=1/0,oZ=17976931348623157e292;function aZ(t){if(!t)return t===0?t:0;if(t=iZ(t),t===ZS||t===-ZS){var e=t<0?-1:1;return e*oZ}return t===t?t:0}var l2=aZ,sZ=rZ,lZ=ch,Hp=l2;function uZ(t){return function(e,n,r){return r&&typeof r!="number"&&lZ(e,n,r)&&(n=r=void 0),e=Hp(e),n===void 0?(n=e,e=0):n=Hp(n),r=r===void 0?e<n?1:-1:Hp(r),sZ(e,n,r,t)}}var cZ=uZ,dZ=cZ,fZ=dZ(),hZ=fZ;const rf=Be(hZ);function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function e1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e1(Object(n),!0).forEach(function(r){u2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u2(t,e,n){return e=pZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pZ(t){var e=mZ(t,"string");return gu(e)=="symbol"?e:e+""}function mZ(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gZ=["Webkit","Moz","O","ms"],vZ=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=gZ.reduce(function(o,a){return t1(t1({},o),{},u2({},a+r,n))},{});return i[e]=n,i};function Wa(t){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wa(t)}function of(){return of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},of.apply(this,arguments)}function n1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(n),!0).forEach(function(r){gn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d2(r.key),r)}}function wZ(t,e,n){return e&&r1(t.prototype,e),n&&r1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bZ(t,e,n){return e=af(e),xZ(t,c2()?Reflect.construct(e,n||[],af(t).constructor):e.apply(t,n))}function xZ(t,e){if(e&&(Wa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Z(t)}function _Z(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c2=function(){return!!t})()}function af(t){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},af(t)}function SZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lv(t,e)}function lv(t,e){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lv(t,e)}function gn(t,e,n){return e=d2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d2(t){var e=EZ(t,"string");return Wa(e)=="symbol"?e:e+""}function EZ(t,e){if(Wa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var TZ=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=ml().domain(rf(0,l)).range([o,o+a-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},i1=function(e){return e.changedTouches&&!!e.changedTouches.length},Ka=function(t){function e(n){var r;return yZ(this,e),r=bZ(this,e,[n]),gn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),gn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),gn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),gn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),gn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),gn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),gn(r,"handleSlideDragStart",function(i){var o=i1(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return SZ(e,t),wZ(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(a,d),v=e.getIndexInRange(a,h);return{startIndex:g-g%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=At(o[r],s,r);return be(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,g=l.endIndex,v=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+c-d-s,u+c-d-a):y<0&&(y=Math.max(y,u-a,u-s));var b=this.getIndex({startX:a+y,endX:s+y});(b.startIndex!==h||b.endIndex!==g)&&v&&v(b),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=i1(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,d=c.x,h=c.width,g=c.travellerWidth,v=c.onChange,y=c.gap,b=c.data,w={startX:this.state.startX,endX:this.state.endX},x=r.pageX-o;x>0?x=Math.min(x,d+h-g-u):x<0&&(x=Math.max(x,d-u)),w[a]=u+x;var _=this.getIndex(w),T=_.startIndex,S=_.endIndex,E=function(){var C=b.length-1;return a==="startX"&&(s>l?T%y===0:S%y===0)||s<l&&S===C||a==="endX"&&(s>l?S%y===0:T%y===0)||s>l&&S===C};this.setState(gn(gn({},a,u+x),"brushMoveStartX",r.pageX),function(){v&&E()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(gn({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return I.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=P.Children.only(u);return d?I.cloneElement(d,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,g=l.ariaLabel,v=l.data,y=l.startIndex,b=l.endIndex,w=Math.max(r,this.props.x),x=Wp(Wp({},ge(this.props,!1)),{},{x:w,y:u,width:c,height:d}),_=g||"Min value: ".concat((o=v[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[b])===null||a===void 0?void 0:a.name);return I.createElement(Me,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,g=5,v={pointerEvents:"none",fill:u};return I.createElement(Me,{className:"recharts-brush-texts"},I.createElement(So,of({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-g,y:a+s/2},v),this.getTextOfTick(i)),I.createElement(So,of({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+g,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,g=h.startX,v=h.endX,y=h.isTextActive,b=h.isSlideMoving,w=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!X(s)||!X(l)||!X(u)||!X(c)||u<=0||c<=0)return null;var _=Se("recharts-brush",o),T=I.Children.count(a)===1,S=vZ("userSelect","none");return I.createElement(Me,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(y||b||w||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return I.isValidElement(r)?o=I.cloneElement(r,i):be(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Wp({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?TZ({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(P.PureComponent);gn(Ka,"displayName","Brush");gn(Ka,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var AZ=h0;function CZ(t,e){var n;return AZ(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var kZ=CZ,PZ=Zk,IZ=Tr,NZ=kZ,OZ=fn,MZ=ch;function RZ(t,e,n){var r=OZ(t)?PZ:NZ;return n&&MZ(t,e,n)&&(e=void 0),r(t,IZ(e))}var $Z=RZ;const jZ=Be($Z);var xr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},o1=xP;function DZ(t,e,n){e=="__proto__"&&o1?o1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var LZ=DZ,UZ=LZ,BZ=wP,FZ=Tr;function VZ(t,e){var n={};return e=FZ(e),BZ(t,function(r,i,o){UZ(n,i,e(r,i,o))}),n}var zZ=VZ;const qZ=Be(zZ);function GZ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var HZ=GZ,WZ=h0;function KZ(t,e){var n=!0;return WZ(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var JZ=KZ,YZ=HZ,XZ=JZ,QZ=Tr,ZZ=fn,eee=ch;function tee(t,e,n){var r=ZZ(t)?YZ:XZ;return n&&eee(t,e,n)&&(e=void 0),r(t,QZ(e))}var nee=tee;const f2=Be(nee);var ree=["x","y"];function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function uv(){return uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uv.apply(this,arguments)}function a1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ks(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a1(Object(n),!0).forEach(function(r){iee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iee(t,e,n){return e=oee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oee(t){var e=aee(t,"string");return vu(e)=="symbol"?e:e+""}function aee(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function see(t,e){if(t==null)return{};var n=lee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uee(t,e){var n=t.x,r=t.y,i=see(t,ree),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Ks(Ks(Ks(Ks(Ks({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function s1(t){return I.createElement(o2,uv({shapeType:"rectangle",propTransformer:uee,activeClassName:"recharts-active-bar"},t))}var cee=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=X(r)||RL(r);return o?e(r,i):(o||To(),n)}},dee=["value","background"],h2;function Ja(t){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}function fee(t,e){if(t==null)return{};var n=hee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sf.apply(this,arguments)}function l1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l1(Object(n),!0).forEach(function(r){pi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m2(r.key),r)}}function mee(t,e,n){return e&&u1(t.prototype,e),n&&u1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gee(t,e,n){return e=lf(e),vee(t,p2()?Reflect.construct(e,n||[],lf(t).constructor):e.apply(t,n))}function vee(t,e){if(e&&(Ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yee(t)}function yee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p2=function(){return!!t})()}function lf(t){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lf(t)}function wee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cv(t,e)}function cv(t,e){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cv(t,e)}function pi(t,e,n){return e=m2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m2(t){var e=bee(t,"string");return Ja(e)=="symbol"?e:e+""}function bee(t,e){if(Ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $o=function(t){function e(){var n;pee(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=gee(this,e,[].concat(i)),pi(n,"state",{isAnimationFinished:!1}),pi(n,"id",ps("recharts-bar-")),pi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),pi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return wee(e,t),mee(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ge(this.props,!1);return r&&r.map(function(d,h){var g=h===l,v=g?u:a,y=vt(vt(vt({},c),d),{},{isActive:g,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(Me,sf({className:"recharts-bar-rectangle"},_o(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),I.createElement(s1,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return I.createElement(Sr,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,y=o.map(function(b,w){var x=h&&h[w];if(x){var _=wn(x.x,b.x),T=wn(x.y,b.y),S=wn(x.width,b.width),E=wn(x.height,b.height);return vt(vt({},b),{},{x:_(v),y:T(v),width:S(v),height:E(v)})}if(a==="horizontal"){var A=wn(0,b.height),C=A(v);return vt(vt({},b),{},{y:b.y+b.height-C,height:C})}var k=wn(0,b.width),N=k(v);return vt(vt({},b),{},{width:N})});return I.createElement(Me,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Du(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ge(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=fee(u,dee);if(!d)return null;var g=vt(vt(vt(vt(vt({},h),{},{fill:"#eee"},d),l),_o(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return I.createElement(s1,sf({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=An(c,Lu);if(!d)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,g=function(b,w){var x=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:x,errorVal:At(b,w)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return I.createElement(Me,v,d.map(function(y){return I.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,g=r.isAnimationActive,v=r.background,y=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,w=Se("recharts-bar",a),x=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,T=x||_,S=_e(y)?this.id:y;return I.createElement(Me,{className:w},x||_?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(S)},I.createElement("rect",{x:x?u:u-d/2,y:_?c:c-h/2,width:x?d:d*2,height:_?h:h*2}))):null,I.createElement(Me,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,S),(!g||b)&&Br.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(P.PureComponent);h2=$o;pi($o,"displayName","Bar");pi($o,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!No.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});pi($o,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,g=ZW(r,n);if(!g)return null;var v=e.layout,y=n.type.defaultProps,b=y!==void 0?vt(vt({},y),n.props):n.props,w=b.dataKey,x=b.children,_=b.minPointSize,T=v==="horizontal"?a:o,S=u?T.scale.domain():null,E=aK({numericAxis:T}),A=An(x,dh),C=d.map(function(k,N){var O,R,D,U,j,M;u?O=eK(u[c+N],S):(O=At(k,w),Array.isArray(O)||(O=[E,O]));var L=cee(_,h2.defaultProps.minPointSize)(O[1],N);if(v==="horizontal"){var $,B=[a.scale(O[0]),a.scale(O[1])],q=B[0],Y=B[1];R=Q_({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:k,index:N}),D=($=Y??q)!==null&&$!==void 0?$:void 0,U=g.size;var W=q-Y;if(j=Number.isNaN(W)?0:W,M={x:R,y:a.y,width:U,height:a.height},Math.abs(L)>0&&Math.abs(j)<Math.abs(L)){var re=Qt(j||L)*(Math.abs(L)-Math.abs(j));D-=re,j+=re}}else{var pe=[o.scale(O[0]),o.scale(O[1])],xe=pe[0],ke=pe[1];if(R=xe,D=Q_({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:k,index:N}),U=ke-xe,j=g.size,M={x:o.x,y:D,width:o.width,height:j},Math.abs(L)>0&&Math.abs(U)<Math.abs(L)){var st=Qt(U||L)*(Math.abs(L)-Math.abs(U));U+=st}}return vt(vt(vt({},k),{},{x:R,y:D,width:U,height:j,value:u?O:O[1],payload:k,background:M},A&&A[N]&&A[N].props),{},{tooltipPayload:[DI(n,k)],tooltipPosition:{x:R+U/2,y:D+j/2}})});return vt({data:C,layout:v},h)});function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function xee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g2(r.key),r)}}function _ee(t,e,n){return e&&c1(t.prototype,e),n&&c1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d1(Object(n),!0).forEach(function(r){Ih(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ih(t,e,n){return e=g2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g2(t){var e=See(t,"string");return yu(e)=="symbol"?e:e+""}function See(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v2=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!yn(u,$o);return c.reduce(function(g,v){var y=n[v],b=y.orientation,w=y.domain,x=y.padding,_=x===void 0?{}:x,T=y.mirror,S=y.reversed,E="".concat(b).concat(T?"Mirror":""),A,C,k,N,O;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var R=w[1]-w[0],D=1/0,U=y.categoricalDomain.sort(DL);if(U.forEach(function(pe,xe){xe>0&&(D=Math.min((pe||0)-(U[xe-1]||0),D))}),Number.isFinite(D)){var j=D/R,M=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(A=j*M/2),y.padding==="no-gap"){var L=Zt(e.barCategoryGap,j*M),$=j*M/2;A=$-L-($-L)/M*L}}}i==="xAxis"?C=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:C=y.range,S&&(C=[C[1],C[0]]);var B=MI(y,o,h),q=B.scale,Y=B.realScaleType;q.domain(w).range(C),RI(q);var W=$I(q,tr(tr({},y),{},{realScaleType:Y}));i==="xAxis"?(O=b==="top"&&!T||b==="bottom"&&T,k=r.left,N=d[E]-O*y.height):i==="yAxis"&&(O=b==="left"&&!T||b==="right"&&T,k=d[E]-O*y.width,N=r.top);var re=tr(tr(tr({},y),W),{},{realScaleType:Y,x:k,y:N,scale:q,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return re.bandSize=qd(re,W),!y.hide&&i==="xAxis"?d[E]+=(O?-1:1)*re.height:y.hide||(d[E]+=(O?-1:1)*re.width),tr(tr({},g),{},Ih({},v,re))},{})},y2=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Eee=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return y2({x:n,y:r},{x:i,y:o})},w2=function(){function t(e){xee(this,t),this.scale=e}return _ee(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Ih(w2,"EPS",1e-4);var z0=function(e){var n=Object.keys(e).reduce(function(r,i){return tr(tr({},r),{},Ih({},i,w2.create(e[i])))},{});return tr(tr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return qZ(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return f2(i,function(o,a){return n[a].isInRange(o)})}})};function Tee(t){return(t%180+180)%180}var Aee=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Tee(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Cee=Tr,kee=Ou,Pee=lh;function Iee(t){return function(e,n,r){var i=Object(e);if(!kee(e)){var o=Cee(n);e=Pee(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Nee=Iee,Oee=l2;function Mee(t){var e=Oee(t),n=e%1;return e===e?n?e-n:e:0}var Ree=Mee,$ee=hP,jee=Tr,Dee=Ree,Lee=Math.max;function Uee(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Dee(n);return i<0&&(i=Lee(r+i,0)),$ee(t,jee(e),i)}var Bee=Uee,Fee=Nee,Vee=Bee,zee=Fee(Vee),qee=zee;const Gee=Be(qee);var Hee=BD(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),q0=P.createContext(void 0),G0=P.createContext(void 0),b2=P.createContext(void 0),x2=P.createContext({}),_2=P.createContext(void 0),S2=P.createContext(0),E2=P.createContext(0),f1=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Hee(o);return I.createElement(q0.Provider,{value:r},I.createElement(G0.Provider,{value:i},I.createElement(x2.Provider,{value:o},I.createElement(b2.Provider,{value:c},I.createElement(_2.Provider,{value:a},I.createElement(S2.Provider,{value:u},I.createElement(E2.Provider,{value:l},s)))))))},Wee=function(){return P.useContext(_2)},T2=function(e){var n=P.useContext(q0);n==null&&To();var r=n[e];return r==null&&To(),r},Kee=function(){var e=P.useContext(q0);return ci(e)},Jee=function(){var e=P.useContext(G0),n=Gee(e,function(r){return f2(r.domain,Number.isFinite)});return n||ci(e)},A2=function(e){var n=P.useContext(G0);n==null&&To();var r=n[e];return r==null&&To(),r},Yee=function(){var e=P.useContext(b2);return e},Xee=function(){return P.useContext(x2)},H0=function(){return P.useContext(E2)},W0=function(){return P.useContext(S2)};function Ya(t){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(t)}function Qee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k2(r.key),r)}}function ete(t,e,n){return e&&Zee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tte(t,e,n){return e=uf(e),nte(t,C2()?Reflect.construct(e,n||[],uf(t).constructor):e.apply(t,n))}function nte(t,e){if(e&&(Ya(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rte(t)}function rte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C2=function(){return!!t})()}function uf(t){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uf(t)}function ite(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dv(t,e)}function dv(t,e){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dv(t,e)}function h1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h1(Object(n),!0).forEach(function(r){K0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K0(t,e,n){return e=k2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k2(t){var e=ote(t,"string");return Ya(e)=="symbol"?e:e+""}function ote(t,e){if(Ya(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ate(t,e){return cte(t)||ute(t,e)||lte(t,e)||ste()}function ste(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lte(t,e){if(t){if(typeof t=="string")return m1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m1(t,e)}}function m1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ute(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function cte(t){if(Array.isArray(t))return t}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fv.apply(this,arguments)}var dte=function(e,n){var r;return I.isValidElement(e)?r=I.cloneElement(e,n):be(e)?r=e(n):r=I.createElement("line",fv({},n,{className:"recharts-reference-line-line"})),r},fte=function(e,n,r,i,o,a,s,l,u){var c=o.x,d=o.y,h=o.width,g=o.height;if(r){var v=u.y,y=e.y.apply(v,{position:a});if(xr(u,"discard")&&!e.y.isInRange(y))return null;var b=[{x:c+h,y},{x:c,y}];return l==="left"?b.reverse():b}if(n){var w=u.x,x=e.x.apply(w,{position:a});if(xr(u,"discard")&&!e.x.isInRange(x))return null;var _=[{x,y:d+g},{x,y:d}];return s==="top"?_.reverse():_}if(i){var T=u.segment,S=T.map(function(E){return e.apply(E,{position:a})});return xr(u,"discard")&&jZ(S,function(E){return!e.isInRange(E)})?null:S}return null};function hte(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Wee(),c=T2(i),d=A2(o),h=Yee();if(!u||!h)return null;sr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=z0({x:c.scale,y:d.scale}),v=kt(e),y=kt(n),b=r&&r.length===2,w=fte(g,v,y,b,h,t.position,c.orientation,d.orientation,t);if(!w)return null;var x=ate(w,2),_=x[0],T=_.x,S=_.y,E=x[1],A=E.x,C=E.y,k=xr(t,"hidden")?"url(#".concat(u,")"):void 0,N=p1(p1({clipPath:k},ge(t,!0)),{},{x1:T,y1:S,x2:A,y2:C});return I.createElement(Me,{className:Se("recharts-reference-line",s)},dte(a,N),Mt.renderCallByParent(t,Eee({x1:T,y1:S,x2:A,y2:C})))}var J0=function(t){function e(){return Qee(this,e),tte(this,e,arguments)}return ite(e,t),ete(e,[{key:"render",value:function(){return I.createElement(hte,this.props)}}])}(I.Component);K0(J0,"displayName","ReferenceLine");K0(J0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(this,arguments)}function Xa(t){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(t)}function g1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g1(Object(n),!0).forEach(function(r){Nh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I2(r.key),r)}}function gte(t,e,n){return e&&mte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vte(t,e,n){return e=cf(e),yte(t,P2()?Reflect.construct(e,n||[],cf(t).constructor):e.apply(t,n))}function yte(t,e){if(e&&(Xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wte(t)}function wte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P2=function(){return!!t})()}function cf(t){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cf(t)}function bte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pv(t,e)}function pv(t,e){return pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pv(t,e)}function Nh(t,e,n){return e=I2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I2(t){var e=xte(t,"string");return Xa(e)=="symbol"?e:e+""}function xte(t,e){if(Xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _te=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=z0({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return xr(e,"discard")&&!a.isInRange(s)?null:s},Oh=function(t){function e(){return pte(this,e),vte(this,e,arguments)}return bte(e,t),gte(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=kt(i),c=kt(o);if(sr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=_te(this.props);if(!d)return null;var h=d.x,g=d.y,v=this.props,y=v.shape,b=v.className,w=xr(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=v1(v1({clipPath:w},ge(this.props,!0)),{},{cx:h,cy:g});return I.createElement(Me,{className:Se("recharts-reference-dot",b)},e.renderDot(y,x),Mt.renderCallByParent(this.props,{x:h-a,y:g-a,width:2*a,height:2*a}))}}])}(I.Component);Nh(Oh,"displayName","ReferenceDot");Nh(Oh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Nh(Oh,"renderDot",function(t,e){var n;return I.isValidElement(t)?n=I.cloneElement(t,e):be(t)?n=t(e):n=I.createElement(Sh,hv({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(this,arguments)}function Qa(t){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(t)}function y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y1(Object(n),!0).forEach(function(r){Mh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ste(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ete(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O2(r.key),r)}}function Tte(t,e,n){return e&&Ete(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ate(t,e,n){return e=df(e),Cte(t,N2()?Reflect.construct(e,n||[],df(t).constructor):e.apply(t,n))}function Cte(t,e){if(e&&(Qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kte(t)}function kte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N2=function(){return!!t})()}function df(t){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},df(t)}function Pte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gv(t,e)}function gv(t,e){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gv(t,e)}function Mh(t,e,n){return e=O2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O2(t){var e=Ite(t,"string");return Qa(e)=="symbol"?e:e+""}function Ite(t,e){if(Qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nte=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=z0({x:c.scale,y:d.scale}),g={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return xr(o,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:y2(g,v)},Rh=function(t){function e(){return Ste(this,e),Ate(this,e,arguments)}return Pte(e,t),Tte(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;sr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=kt(i),h=kt(o),g=kt(a),v=kt(s),y=this.props.shape;if(!d&&!h&&!g&&!v&&!y)return null;var b=Nte(d,h,g,v,this.props);if(!b&&!y)return null;var w=xr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return I.createElement(Me,{className:Se("recharts-reference-area",l)},e.renderRect(y,w1(w1({clipPath:w},ge(this.props,!0)),b)),Mt.renderCallByParent(this.props,b))}}])}(I.Component);Mh(Rh,"displayName","ReferenceArea");Mh(Rh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Mh(Rh,"renderRect",function(t,e){var n;return I.isValidElement(t)?n=I.cloneElement(t,e):be(t)?n=t(e):n=I.createElement(V0,mv({},e,{className:"recharts-reference-area-rect"})),n});function M2(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Ote(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Aee(r,n)}function Mte(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function ff(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Rte(t,e){return M2(t,e+1)}function $te(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:M2(r,u)};var y=l,b,w=function(){return b===void 0&&(b=n(v,y)),b},x=v.coordinate,_=l===0||ff(t,x,w,c,s);_||(l=0,c=a,u+=1),_&&(c=x+t*(w()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function b1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b1(Object(n),!0).forEach(function(r){jte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jte(t,e,n){return e=Dte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dte(t){var e=Lte(t,"string");return wu(e)=="symbol"?e:e+""}function Lte(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ute(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var g=o[h],v,y=function(){return v===void 0&&(v=n(g,h)),v};if(h===a-1){var b=t*(g.coordinate+t*y()/2-l);o[h]=g=zt(zt({},g),{},{tickCoord:b>0?g.coordinate-b*t:g.coordinate})}else o[h]=g=zt(zt({},g),{},{tickCoord:g.coordinate});var w=ff(t,g.tickCoord,y,s,l);w&&(l=g.tickCoord-t*(y()/2+i),o[h]=zt(zt({},g),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Bte(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],d=n(c,s-1),h=t*(c.coordinate+t*d/2-u);a[s-1]=c=zt(zt({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var g=ff(t,c.tickCoord,function(){return d},l,u);g&&(u=c.tickCoord-t*(d/2+i),a[s-1]=zt(zt({},c),{},{isShow:!0}))}for(var v=o?s-1:s,y=function(x){var _=a[x],T,S=function(){return T===void 0&&(T=n(_,x)),T};if(x===0){var E=t*(_.coordinate-t*S()/2-l);a[x]=_=zt(zt({},_),{},{tickCoord:E<0?_.coordinate-E*t:_.coordinate})}else a[x]=_=zt(zt({},_),{},{tickCoord:_.coordinate});var A=ff(t,_.tickCoord,S,l,u);A&&(l=_.tickCoord+t*(S()/2+i),a[x]=zt(zt({},_),{},{isShow:!0}))},b=0;b<v;b++)y(b);return a}function Y0(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(X(l)||No.isSsr)return Rte(i,typeof l=="number"&&X(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",v=c&&g==="width"?pl(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,T){var S=be(u)?u(_.value,T):_.value;return g==="width"?Ote(pl(S,{fontSize:e,letterSpacing:n}),v,d):pl(S,{fontSize:e,letterSpacing:n})[g]},b=i.length>=2?Qt(i[1].coordinate-i[0].coordinate):1,w=Mte(o,b,g);return l==="equidistantPreserveStart"?$te(b,w,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Bte(b,w,y,i,a,l==="preserveStartEnd"):h=Ute(b,w,y,i,a),h.filter(function(x){return x.isShow}))}var Fte=["viewBox"],Vte=["viewBox"],zte=["ticks"];function Za(t){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(t)}function da(){return da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},da.apply(this,arguments)}function x1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x1(Object(n),!0).forEach(function(r){X0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kp(t,e){if(t==null)return{};var n=qte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$2(r.key),r)}}function Hte(t,e,n){return e&&_1(t.prototype,e),n&&_1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wte(t,e,n){return e=hf(e),Kte(t,R2()?Reflect.construct(e,n||[],hf(t).constructor):e.apply(t,n))}function Kte(t,e){if(e&&(Za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jte(t)}function Jte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R2=function(){return!!t})()}function hf(t){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hf(t)}function Yte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vv(t,e)}function vv(t,e){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vv(t,e)}function X0(t,e,n){return e=$2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $2(t){var e=Xte(t,"string");return Za(e)=="symbol"?e:e+""}function Xte(t,e){if(Za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xs=function(t){function e(n){var r;return Gte(this,e),r=Wte(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Yte(e,t),Hte(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Kp(r,Fte),s=this.props,l=s.viewBox,u=Kp(s,Vte);return!ba(o,l)||!ba(a,u)||!ba(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,g,v,y,b,w,x,_=d?-1:1,T=r.tickSize||c,S=X(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=v=r.coordinate,b=a+ +!d*l,y=b-_*T,x=y-_*h,w=S;break;case"left":y=b=r.coordinate,v=o+ +!d*s,g=v-_*T,w=g-_*h,x=S;break;case"right":y=b=r.coordinate,v=o+ +d*s,g=v+_*T,w=g+_*h,x=S;break;default:g=v=r.coordinate,b=a+ +d*l,y=b+_*T,x=y+_*h,w=S;break}return{line:{x1:g,y1:y,x2:v,y2:b},tick:{x:w,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=_t(_t(_t({},ge(this.props,!1)),ge(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=_t(_t({},d),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var g=+(l==="left"&&!u||l==="right"&&u);d=_t(_t({},d),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return I.createElement("line",da({},d,{className:Se("recharts-cartesian-axis-line",Tn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,h=s.unit,g=Y0(_t(_t({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=ge(this.props,!1),w=ge(c,!1),x=_t(_t({},b),{},{fill:"none"},ge(l,!1)),_=g.map(function(T,S){var E=a.getTickLineCoord(T),A=E.line,C=E.tick,k=_t(_t(_t(_t({textAnchor:v,verticalAnchor:y},b),{},{stroke:"none",fill:u},w),C),{},{index:S,payload:T,visibleTicksCount:g.length,tickFormatter:d});return I.createElement(Me,da({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},_o(a.props,T,S)),l&&I.createElement("line",da({},x,A,{className:Se("recharts-cartesian-axis-tick-line",Tn(l,"className"))})),c&&e.renderTickItem(c,k,"".concat(be(d)?d(T.value,S):T.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,g=Kp(d,zte),v=h;return be(l)&&(v=h&&h.length>0?l(this.props):l(g)),a<=0||s<=0||!v||!v.length?null:I.createElement(Me,{className:Se("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Mt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Se(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(r)?a=I.cloneElement(r,_t(_t({},i),{},{className:s})):be(r)?a=r(_t(_t({},i),{},{className:s})):a=I.createElement(So,da({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(P.Component);X0(xs,"displayName","CartesianAxis");X0(xs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Qte=["x1","y1","x2","y2","key"],Zte=["offset"];function Ao(t){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(t)}function S1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S1(Object(n),!0).forEach(function(r){ene(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ene(t,e,n){return e=tne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tne(t){var e=nne(t,"string");return Ao(e)=="symbol"?e:e+""}function nne(t,e){if(Ao(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ao(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uo(){return uo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uo.apply(this,arguments)}function E1(t,e){if(t==null)return{};var n=rne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ine=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return I.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function j2(t,e){var n;if(I.isValidElement(t))n=I.cloneElement(t,e);else if(be(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=E1(e,Qte),u=ge(l,!1);u.offset;var c=E1(u,Zte);n=I.createElement("line",uo({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function one(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Gt(Gt({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return j2(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function ane(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Gt(Gt({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return j2(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function sne(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var v=!c[g+1],y=v?i+a-h:c[g+1]-h;if(y<=0)return null;var b=g%e.length;return I.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:y,width:o,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function lne(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,g){return h-g});o!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var v=!c[g+1],y=v?o+s-h:c[g+1]-h;if(y<=0)return null;var b=g%r.length;return I.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var une=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return OI(Y0(Gt(Gt(Gt({},xs.defaultProps),r),{},{ticks:jr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},cne=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return OI(Y0(Gt(Gt(Gt({},xs.defaultProps),r),{},{ticks:jr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Bo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Q0(t){var e,n,r,i,o,a,s=H0(),l=W0(),u=Xee(),c=Gt(Gt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bo.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Bo.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Bo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Bo.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Bo.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Bo.verticalFill,x:X(t.x)?t.x:u.left,y:X(t.y)?t.y:u.top,width:X(t.width)?t.width:u.width,height:X(t.height)?t.height:u.height}),d=c.x,h=c.y,g=c.width,v=c.height,y=c.syncWithTicks,b=c.horizontalValues,w=c.verticalValues,x=Kee(),_=Jee();if(!X(g)||g<=0||!X(v)||v<=0||!X(d)||d!==+d||!X(h)||h!==+h)return null;var T=c.verticalCoordinatesGenerator||une,S=c.horizontalCoordinatesGenerator||cne,E=c.horizontalPoints,A=c.verticalPoints;if((!E||!E.length)&&be(S)){var C=b&&b.length,k=S({yAxis:_?Gt(Gt({},_),{},{ticks:C?b:_.ticks}):void 0,width:s,height:l,offset:u},C?!0:y);sr(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ao(k),"]")),Array.isArray(k)&&(E=k)}if((!A||!A.length)&&be(T)){var N=w&&w.length,O=T({xAxis:x?Gt(Gt({},x),{},{ticks:N?w:x.ticks}):void 0,width:s,height:l,offset:u},N?!0:y);sr(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ao(O),"]")),Array.isArray(O)&&(A=O)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(ine,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),I.createElement(one,uo({},c,{offset:u,horizontalPoints:E,xAxis:x,yAxis:_})),I.createElement(ane,uo({},c,{offset:u,verticalPoints:A,xAxis:x,yAxis:_})),I.createElement(sne,uo({},c,{horizontalPoints:E})),I.createElement(lne,uo({},c,{verticalPoints:A})))}Q0.displayName="CartesianGrid";var dne=["type","layout","connectNulls","ref"],fne=["key"];function es(t){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},es(t)}function T1(t,e){if(t==null)return{};var n=hne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}function A1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A1(Object(n),!0).forEach(function(r){nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fo(t){return vne(t)||gne(t)||mne(t)||pne()}function pne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mne(t,e){if(t){if(typeof t=="string")return yv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yv(t,e)}}function gne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vne(t){if(Array.isArray(t))return yv(t)}function yv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L2(r.key),r)}}function wne(t,e,n){return e&&C1(t.prototype,e),n&&C1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bne(t,e,n){return e=pf(e),xne(t,D2()?Reflect.construct(e,n||[],pf(t).constructor):e.apply(t,n))}function xne(t,e){if(e&&(es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ne(t)}function _ne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D2=function(){return!!t})()}function pf(t){return pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pf(t)}function Sne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wv(t,e)}function wv(t,e){return wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wv(t,e)}function nr(t,e,n){return e=L2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L2(t){var e=Ene(t,"string");return es(e)=="symbol"?e:e+""}function Ene(t,e){if(es(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uu=function(t){function e(){var n;yne(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=bne(this,e,[].concat(i)),nr(n,"state",{isAnimationFinished:!0,totalLength:0}),nr(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),nr(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(w,x){return w+x});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),d=a%u,h=s-a,g=[],v=0,y=0;v<l.length;y+=l[v],++v)if(y+l[v]>d){g=[].concat(Fo(l.slice(0,v)),[d-y]);break}var b=g.length%2===0?[0,h]:[h];return[].concat(Fo(e.repeat(l,c)),Fo(g),b).map(function(w){return"".concat(w,"px")}).join(", ")}),nr(n,"id",ps("recharts-line-")),nr(n,"pathRef",function(a){n.mainCurve=a}),nr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),nr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Sne(e,t),wne(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=An(c,Lu);if(!d)return null;var h=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:At(y.payload,b)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return I.createElement(Me,g,d.map(function(v){return I.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,d=ge(this.props,!1),h=ge(l,!0),g=u.map(function(y,b){var w=pn(pn(pn({key:"dot-".concat(b),r:3},d),h),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:c,payload:y.payload,points:u});return e.renderDotItem(l,w)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return I.createElement(Me,bl({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var d=T1(s,dne),h=pn(pn(pn({},ge(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return I.createElement(Wd,bl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,g=a.animationId,v=a.animateNewValues,y=a.width,b=a.height,w=this.state,x=w.prevPoints,_=w.totalLength;return I.createElement(Sr,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var S=T.t;if(x){var E=x.length/s.length,A=s.map(function(R,D){var U=Math.floor(D*E);if(x[U]){var j=x[U],M=wn(j.x,R.x),L=wn(j.y,R.y);return pn(pn({},R),{},{x:M(S),y:L(S)})}if(v){var $=wn(y*2,R.x),B=wn(b/2,R.y);return pn(pn({},R),{},{x:$(S),y:B(S)})}return pn(pn({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(A,r,i)}var C=wn(0,_),k=C(S),N;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});N=o.getStrokeDasharray(k,_,O)}else N=o.generateSimpleStrokeDasharray(_,k);return o.renderCurveStatically(s,r,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!Du(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,h=i.left,g=i.width,v=i.height,y=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var w=this.state.isAnimationFinished,x=s.length===1,_=Se("recharts-line",l),T=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,E=T||S,A=_e(b)?this.id:b,C=(r=ge(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=C.r,N=k===void 0?3:k,O=C.strokeWidth,R=O===void 0?2:O,D=HL(a)?a:{},U=D.clipDot,j=U===void 0?!0:U,M=N*2+R;return I.createElement(Me,{className:_},T||S?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(A)},I.createElement("rect",{x:T?h:h-g/2,y:S?d:d-v/2,width:T?g:g*2,height:S?v:v*2})),!j&&I.createElement("clipPath",{id:"clipPath-dots-".concat(A)},I.createElement("rect",{x:h-M/2,y:d-M/2,width:g+M,height:v+M}))):null,!x&&this.renderCurve(E,A),this.renderErrorBar(E,A),(x||a)&&this.renderDots(E,j,A),(!y||w)&&Br.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Fo(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Fo(a),Fo(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(I.isValidElement(r))o=I.cloneElement(r,i);else if(be(r))o=r(i);else{var a=i.key,s=T1(i,fne),l=Se("recharts-line-dot",typeof r!="boolean"?r.className:"");o=I.createElement(Sh,bl({key:a},s,{className:l}))}return o}}])}(P.PureComponent);nr(Uu,"displayName","Line");nr(Uu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!No.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});nr(Uu,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(h,g){var v=At(h,a);return c==="horizontal"?{x:X_({axis:n,ticks:i,bandSize:s,entry:h,index:g}),y:_e(v)?null:r.scale(v),value:v,payload:h}:{x:_e(v)?null:n.scale(v),y:X_({axis:r,ticks:o,bandSize:s,entry:h,index:g}),value:v,payload:h}});return pn({points:d,layout:c},u)});function ts(t){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(t)}function Tne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ane(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F2(r.key),r)}}function Cne(t,e,n){return e&&Ane(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kne(t,e,n){return e=mf(e),Pne(t,U2()?Reflect.construct(e,n||[],mf(t).constructor):e.apply(t,n))}function Pne(t,e){if(e&&(ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ine(t)}function Ine(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U2=function(){return!!t})()}function mf(t){return mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mf(t)}function Nne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bv(t,e)}function bv(t,e){return bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bv(t,e)}function B2(t,e,n){return e=F2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F2(t){var e=One(t,"string");return ts(e)=="symbol"?e:e+""}function One(t,e){if(ts(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(this,arguments)}function Mne(t){var e=t.xAxisId,n=H0(),r=W0(),i=T2(e);return i==null?null:P.createElement(xs,xv({},i,{className:Se("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return jr(a,!0)}}))}var _s=function(t){function e(){return Tne(this,e),kne(this,e,arguments)}return Nne(e,t),Cne(e,[{key:"render",value:function(){return P.createElement(Mne,this.props)}}])}(P.Component);B2(_s,"displayName","XAxis");B2(_s,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ns(t){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(t)}function Rne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q2(r.key),r)}}function jne(t,e,n){return e&&$ne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dne(t,e,n){return e=gf(e),Lne(t,V2()?Reflect.construct(e,n||[],gf(t).constructor):e.apply(t,n))}function Lne(t,e){if(e&&(ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Une(t)}function Une(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V2=function(){return!!t})()}function gf(t){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gf(t)}function Bne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_v(t,e)}function _v(t,e){return _v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_v(t,e)}function z2(t,e,n){return e=q2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q2(t){var e=Fne(t,"string");return ns(e)=="symbol"?e:e+""}function Fne(t,e){if(ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(this,arguments)}var Vne=function(e){var n=e.yAxisId,r=H0(),i=W0(),o=A2(n);return o==null?null:P.createElement(xs,Sv({},o,{className:Se("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return jr(s,!0)}}))},Ss=function(t){function e(){return Rne(this,e),Dne(this,e,arguments)}return Bne(e,t),jne(e,[{key:"render",value:function(){return P.createElement(Vne,this.props)}}])}(P.Component);z2(Ss,"displayName","YAxis");z2(Ss,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function k1(t){return Hne(t)||Gne(t)||qne(t)||zne()}function zne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qne(t,e){if(t){if(typeof t=="string")return Ev(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ev(t,e)}}function Gne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hne(t){if(Array.isArray(t))return Ev(t)}function Ev(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Tv=function(e,n,r,i,o){var a=An(e,J0),s=An(e,Oh),l=[].concat(k1(a),k1(s)),u=An(e,Rh),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(y,b){if(b.props[c]===r&&xr(b.props,"extendDomain")&&X(b.props[d])){var w=b.props[d];return[Math.min(y[0],w),Math.max(y[1],w)]}return y},h)),u.length){var g="".concat(d,"1"),v="".concat(d,"2");h=u.reduce(function(y,b){if(b.props[c]===r&&xr(b.props,"extendDomain")&&X(b.props[g])&&X(b.props[v])){var w=b.props[g],x=b.props[v];return[Math.min(y[0],w,x),Math.max(y[1],w,x)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,b){return X(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},h)),h},G2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,d||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,g=d.length,v=new Array(g);h<g;h++)v[h]=d[h].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,g,v){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],w=arguments.length,x,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,d),!0;case 4:return b.fn.call(b.context,c,d,h),!0;case 5:return b.fn.call(b.context,c,d,h,g),!0;case 6:return b.fn.call(b.context,c,d,h,g,v),!0}for(_=1,x=new Array(w-1);_<w;_++)x[_-1]=arguments[_];b.fn.apply(b.context,x)}else{var T=b.length,S;for(_=0;_<T;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),w){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,c);break;case 3:b[_].fn.call(b[_].context,c,d);break;case 4:b[_].fn.call(b[_].context,c,d,h);break;default:if(!x)for(S=1,x=new Array(w-1);S<w;S++)x[S-1]=arguments[S];b[_].fn.apply(b[_].context,x)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var g=n?n+u:u;if(!this._events[g])return this;if(!c)return a(this,g),this;var v=this._events[g];if(v.fn)v.fn===c&&(!h||v.once)&&(!d||v.context===d)&&a(this,g);else{for(var y=0,b=[],w=v.length;y<w;y++)(v[y].fn!==c||h&&!v[y].once||d&&v[y].context!==d)&&b.push(v[y]);b.length?this._events[g]=b.length===1?b[0]:b:a(this,g)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(G2);var Wne=G2.exports;const Kne=Be(Wne);var Jp=new Kne,Yp="recharts.syncMouseEvents";function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function Jne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H2(r.key),r)}}function Xne(t,e,n){return e&&Yne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xp(t,e,n){return e=H2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H2(t){var e=Qne(t,"string");return bu(e)=="symbol"?e:e+""}function Qne(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zne=function(){function t(){Jne(this,t),Xp(this,"activeIndex",0),Xp(this,"coordinateList",[]),Xp(this,"layout","horizontal")}return Xne(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function ere(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&X(r)&&X(i))return!0}return!1}function tre(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function W2(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Ye(e,n,r,i),s=Ye(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function nre(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Ye(s,l,u,d),g=Ye(s,l,c,d);r=h.x,i=h.y,o=g.x,a=g.y}else return W2(e);return[{x:r,y:i},{x:o,y:a}]}function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function P1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P1(Object(n),!0).forEach(function(r){rre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rre(t,e,n){return e=ire(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ire(t){var e=ore(t,"string");return xu(e)=="symbol"?e:e+""}function ore(t,e){if(xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function are(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var v,y=Wd;if(h==="ScatterChart")v=a,y=EX;else if(h==="BarChart")v=tre(d,a,l,c),y=V0;else if(d==="radial"){var b=W2(a),w=b.cx,x=b.cy,_=b.radius,T=b.startAngle,S=b.endAngle;v={cx:w,cy:x,startAngle:T,endAngle:S,innerRadius:_,outerRadius:_},y=zI}else v={points:nre(d,a,l)},y=Wd;var E=wc(wc(wc(wc({stroke:"#ccc",pointerEvents:"none"},l),v),ge(g,!1)),{},{payload:s,payloadIndex:u,className:Se("recharts-tooltip-cursor",g.className)});return P.isValidElement(g)?P.cloneElement(g,E):P.createElement(y,E)}var sre=["item"],lre=["children","className","width","height","style","compact","title","desc"];function rs(t){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(t)}function fa(){return fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fa.apply(this,arguments)}function I1(t,e){return dre(t)||cre(t,e)||J2(t,e)||ure()}function ure(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function dre(t){if(Array.isArray(t))return t}function N1(t,e){if(t==null)return{};var n=fre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y2(r.key),r)}}function mre(t,e,n){return e&&pre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gre(t,e,n){return e=vf(e),vre(t,K2()?Reflect.construct(e,n||[],vf(t).constructor):e.apply(t,n))}function vre(t,e){if(e&&(rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yre(t)}function yre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K2=function(){return!!t})()}function vf(t){return vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vf(t)}function wre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Av(t,e)}function Av(t,e){return Av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Av(t,e)}function is(t){return _re(t)||xre(t)||J2(t)||bre()}function bre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J2(t,e){if(t){if(typeof t=="string")return Cv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cv(t,e)}}function xre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _re(t){if(Array.isArray(t))return Cv(t)}function Cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O1(Object(n),!0).forEach(function(r){ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ve(t,e,n){return e=Y2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y2(t){var e=Sre(t,"string");return rs(e)=="symbol"?e:e+""}function Sre(t,e){if(rs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ere={xAxis:["bottom","top"],yAxis:["left","right"]},Tre={width:"100%",height:"100%"},X2={x:0,y:0};function bc(t){return t}var Are=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Cre=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return F(F(F({},i),Ye(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return F(F(F({},i),Ye(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return X2},$h=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(is(s),is(u)):s},[]);return a.length>0?a:e&&e.length&&X(i)&&X(o)?e.slice(i,o+1):[]};function Q2(t){return t==="number"?[0,"auto"]:void 0}var kv=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=$h(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var g=d===void 0?s:d;h=gd(g,a.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(is(l),[DI(u,h)]):l},[])},M1=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Are(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=WW(a,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=kv(e,n,c,d),g=Cre(r,s,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:g}}return null},kre=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,g=NI(c,o);return r.reduce(function(v,y){var b,w=y.type.defaultProps!==void 0?F(F({},y.type.defaultProps),y.props):y.props,x=w.type,_=w.dataKey,T=w.allowDataOverflow,S=w.allowDuplicatedCategory,E=w.scale,A=w.ticks,C=w.includeHidden,k=w[a];if(v[k])return v;var N=$h(e.data,{graphicalItems:i.filter(function(W){var re,pe=a in W.props?W.props[a]:(re=W.type.defaultProps)===null||re===void 0?void 0:re[a];return pe===k}),dataStartIndex:l,dataEndIndex:u}),O=N.length,R,D,U;ere(w.domain,T,x)&&(R=Vg(w.domain,null,T),g&&(x==="number"||E!=="auto")&&(U=gl(N,_,"category")));var j=Q2(x);if(!R||R.length===0){var M,L=(M=w.domain)!==null&&M!==void 0?M:j;if(_){if(R=gl(N,_,x),x==="category"&&g){var $=jL(R);S&&$?(D=R,R=rf(0,O)):S||(R=tS(L,R,y).reduce(function(W,re){return W.indexOf(re)>=0?W:[].concat(is(W),[re])},[]))}else if(x==="category")S?R=R.filter(function(W){return W!==""&&!_e(W)}):R=tS(L,R,y).reduce(function(W,re){return W.indexOf(re)>=0||re===""||_e(re)?W:[].concat(is(W),[re])},[]);else if(x==="number"){var B=QW(N,i.filter(function(W){var re,pe,xe=a in W.props?W.props[a]:(re=W.type.defaultProps)===null||re===void 0?void 0:re[a],ke="hide"in W.props?W.props.hide:(pe=W.type.defaultProps)===null||pe===void 0?void 0:pe.hide;return xe===k&&(C||!ke)}),_,o,c);B&&(R=B)}g&&(x==="number"||E!=="auto")&&(U=gl(N,_,"category"))}else g?R=rf(0,O):s&&s[k]&&s[k].hasStack&&x==="number"?R=h==="expand"?[0,1]:jI(s[k].stackGroups,l,u):R=II(N,i.filter(function(W){var re=a in W.props?W.props[a]:W.type.defaultProps[a],pe="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return re===k&&(C||!pe)}),x,c,!0);if(x==="number")R=Tv(d,R,k,o,A),L&&(R=Vg(L,R,T));else if(x==="category"&&L){var q=L,Y=R.every(function(W){return q.indexOf(W)>=0});Y&&(R=q)}}return F(F({},v),{},ve({},k,F(F({},w),{},{axisType:o,domain:R,categoricalDomain:U,duplicateDomain:D,originalDomain:(b=w.domain)!==null&&b!==void 0?b:j,isCategorical:g,layout:c})))},{})},Pre=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=$h(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,v=NI(c,o),y=-1;return r.reduce(function(b,w){var x=w.type.defaultProps!==void 0?F(F({},w.type.defaultProps),w.props):w.props,_=x[a],T=Q2("number");if(!b[_]){y++;var S;return v?S=rf(0,g):s&&s[_]&&s[_].hasStack?(S=jI(s[_].stackGroups,l,u),S=Tv(d,S,_,o)):(S=Vg(T,II(h,r.filter(function(E){var A,C,k=a in E.props?E.props[a]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[a],N="hide"in E.props?E.props.hide:(C=E.type.defaultProps)===null||C===void 0?void 0:C.hide;return k===_&&!N}),"number",c),i.defaultProps.allowDataOverflow),S=Tv(d,S,_,o)),F(F({},b),{},ve({},_,F(F({axisType:o},i.defaultProps),{},{hide:!0,orientation:Tn(Ere,"".concat(o,".").concat(y%2),null),domain:S,originalDomain:T,isCategorical:v,layout:c})))}return b},{})},Ire=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=An(c,o),g={};return h&&h.length?g=kre(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(g=Pre(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},Nre=function(e){var n=ci(e),r=jr(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:p0(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:qd(n,r)}},R1=function(e){var n=e.children,r=e.defaultShowTooltip,i=yn(n,Ka),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Ore=function(e){return!e||!e.length?!1:e.some(function(n){var r=Lr(n&&n.type);return r&&r.indexOf("Bar")>=0})},$1=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Mre=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,h=r.margin||{},g=yn(d,Ka),v=yn(d,Ei),y=Object.keys(l).reduce(function(S,E){var A=l[E],C=A.orientation;return!A.mirror&&!A.hide?F(F({},S),{},ve({},C,S[C]+A.width)):S},{left:h.left||0,right:h.right||0}),b=Object.keys(a).reduce(function(S,E){var A=a[E],C=A.orientation;return!A.mirror&&!A.hide?F(F({},S),{},ve({},C,Tn(S,"".concat(C))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),w=F(F({},b),y),x=w.bottom;g&&(w.bottom+=g.props.height||Ka.defaultProps.height),v&&n&&(w=YW(w,i,r,n));var _=u-w.left-w.right,T=c-w.top-w.bottom;return F(F({brushBottom:x},w),{},{width:Math.max(_,0),height:Math.max(T,0)})},Rre=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Z0=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(w,x){var _=x.graphicalItems,T=x.stackGroups,S=x.offset,E=x.updateId,A=x.dataStartIndex,C=x.dataEndIndex,k=w.barSize,N=w.layout,O=w.barGap,R=w.barCategoryGap,D=w.maxBarSize,U=$1(N),j=U.numericAxisName,M=U.cateAxisName,L=Ore(_),$=[];return _.forEach(function(B,q){var Y=$h(w.data,{graphicalItems:[B],dataStartIndex:A,dataEndIndex:C}),W=B.type.defaultProps!==void 0?F(F({},B.type.defaultProps),B.props):B.props,re=W.dataKey,pe=W.maxBarSize,xe=W["".concat(j,"Id")],ke=W["".concat(M,"Id")],st={},je=l.reduce(function(ht,xt){var on=x["".concat(xt.axisType,"Map")],Kn=W["".concat(xt.axisType,"Id")];on&&on[Kn]||xt.axisType==="zAxis"||To();var It=on[Kn];return F(F({},ht),{},ve(ve({},xt.axisType,It),"".concat(xt.axisType,"Ticks"),jr(It)))},st),Q=je[M],fe=je["".concat(M,"Ticks")],we=T&&T[xe]&&T[xe].hasStack&&sK(B,T[xe].stackGroups),H=Lr(B.type).indexOf("Bar")>=0,Te=qd(Q,fe),G=[],me=L&&KW({barSize:k,stackGroups:T,totalSize:Rre(je,M)});if(H){var V,se,he=_e(pe)?D:pe,it=(V=(se=qd(Q,fe,!0))!==null&&se!==void 0?se:he)!==null&&V!==void 0?V:0;G=JW({barGap:O,barCategoryGap:R,bandSize:it!==Te?it:Te,sizeList:me[ke],maxBarSize:he}),it!==Te&&(G=G.map(function(ht){return F(F({},ht),{},{position:F(F({},ht.position),{},{offset:ht.position.offset-it/2})})}))}var Xe=B&&B.type&&B.type.getComposedData;Xe&&$.push({props:F(F({},Xe(F(F({},je),{},{displayedData:Y,props:w,dataKey:re,item:B,bandSize:Te,barPosition:G,offset:S,stackedData:we,layout:N,dataStartIndex:A,dataEndIndex:C}))),{},ve(ve(ve({key:B.key||"item-".concat(q)},j,je[j]),M,je[M]),"animationId",E)),childIndex:JL(B,w.children),item:B})}),$},g=function(w,x){var _=w.props,T=w.dataStartIndex,S=w.dataEndIndex,E=w.updateId;if(!Kb({props:_}))return null;var A=_.children,C=_.layout,k=_.stackOffset,N=_.data,O=_.reverseStackOrder,R=$1(C),D=R.numericAxisName,U=R.cateAxisName,j=An(A,r),M=oK(N,j,"".concat(D,"Id"),"".concat(U,"Id"),k,O),L=l.reduce(function(W,re){var pe="".concat(re.axisType,"Map");return F(F({},W),{},ve({},pe,Ire(_,F(F({},re),{},{graphicalItems:j,stackGroups:re.axisType===D&&M,dataStartIndex:T,dataEndIndex:S}))))},{}),$=Mre(F(F({},L),{},{props:_,graphicalItems:j}),x==null?void 0:x.legendBBox);Object.keys(L).forEach(function(W){L[W]=c(_,L[W],$,W.replace("Map",""),n)});var B=L["".concat(U,"Map")],q=Nre(B),Y=h(_,F(F({},L),{},{dataStartIndex:T,dataEndIndex:S,updateId:E,graphicalItems:j,stackGroups:M,offset:$}));return F(F({formattedGraphicalItems:Y,graphicalItems:j,offset:$,stackGroups:M},q),L)},v=function(b){function w(x){var _,T,S;return hre(this,w),S=gre(this,w,[x]),ve(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ve(S,"accessibilityManager",new Zne),ve(S,"handleLegendBBoxUpdate",function(E){if(E){var A=S.state,C=A.dataStartIndex,k=A.dataEndIndex,N=A.updateId;S.setState(F({legendBBox:E},g({props:S.props,dataStartIndex:C,dataEndIndex:k,updateId:N},F(F({},S.state),{},{legendBBox:E}))))}}),ve(S,"handleReceiveSyncEvent",function(E,A,C){if(S.props.syncId===E){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),ve(S,"handleBrushChange",function(E){var A=E.startIndex,C=E.endIndex;if(A!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var k=S.state.updateId;S.setState(function(){return F({dataStartIndex:A,dataEndIndex:C},g({props:S.props,dataStartIndex:A,dataEndIndex:C,updateId:k},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:C})}}),ve(S,"handleMouseEnter",function(E){var A=S.getMouseInfo(E);if(A){var C=F(F({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var k=S.props.onMouseEnter;be(k)&&k(C,E)}}),ve(S,"triggeredAfterMouseMove",function(E){var A=S.getMouseInfo(E),C=A?F(F({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var k=S.props.onMouseMove;be(k)&&k(C,E)}),ve(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),ve(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ve(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),ve(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseLeave;be(C)&&C(A,E)}),ve(S,"handleOuterEvent",function(E){var A=KL(E),C=Tn(S.props,"".concat(A));if(A&&be(C)){var k,N;/.*touch.*/i.test(A)?N=S.getMouseInfo(E.changedTouches[0]):N=S.getMouseInfo(E),C((k=N)!==null&&k!==void 0?k:{},E)}}),ve(S,"handleClick",function(E){var A=S.getMouseInfo(E);if(A){var C=F(F({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var k=S.props.onClick;be(k)&&k(C,E)}}),ve(S,"handleMouseDown",function(E){var A=S.props.onMouseDown;if(be(A)){var C=S.getMouseInfo(E);A(C,E)}}),ve(S,"handleMouseUp",function(E){var A=S.props.onMouseUp;if(be(A)){var C=S.getMouseInfo(E);A(C,E)}}),ve(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),ve(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),ve(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),ve(S,"handleDoubleClick",function(E){var A=S.props.onDoubleClick;if(be(A)){var C=S.getMouseInfo(E);A(C,E)}}),ve(S,"handleContextMenu",function(E){var A=S.props.onContextMenu;if(be(A)){var C=S.getMouseInfo(E);A(C,E)}}),ve(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&Jp.emit(Yp,S.props.syncId,E,S.eventEmitterSymbol)}),ve(S,"applySyncEvent",function(E){var A=S.props,C=A.layout,k=A.syncMethod,N=S.state.updateId,O=E.dataStartIndex,R=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(F({dataStartIndex:O,dataEndIndex:R},g({props:S.props,dataStartIndex:O,dataEndIndex:R,updateId:N},S.state)));else if(E.activeTooltipIndex!==void 0){var D=E.chartX,U=E.chartY,j=E.activeTooltipIndex,M=S.state,L=M.offset,$=M.tooltipTicks;if(!L)return;if(typeof k=="function")j=k($,E);else if(k==="value"){j=-1;for(var B=0;B<$.length;B++)if($[B].value===E.activeLabel){j=B;break}}var q=F(F({},L),{},{x:L.left,y:L.top}),Y=Math.min(D,q.x+q.width),W=Math.min(U,q.y+q.height),re=$[j]&&$[j].value,pe=kv(S.state,S.props.data,j),xe=$[j]?{x:C==="horizontal"?$[j].coordinate:Y,y:C==="horizontal"?W:$[j].coordinate}:X2;S.setState(F(F({},E),{},{activeLabel:re,activeCoordinate:xe,activePayload:pe,activeTooltipIndex:j}))}else S.setState(E)}),ve(S,"renderCursor",function(E){var A,C=S.state,k=C.isTooltipActive,N=C.activeCoordinate,O=C.activePayload,R=C.offset,D=C.activeTooltipIndex,U=C.tooltipAxisBandSize,j=S.getTooltipEventType(),M=(A=E.props.active)!==null&&A!==void 0?A:k,L=S.props.layout,$=E.key||"_recharts-cursor";return I.createElement(are,{key:$,activeCoordinate:N,activePayload:O,activeTooltipIndex:D,chartName:n,element:E,isActive:M,layout:L,offset:R,tooltipAxisBandSize:U,tooltipEventType:j})}),ve(S,"renderPolarAxis",function(E,A,C){var k=Tn(E,"type.axisType"),N=Tn(S.state,"".concat(k,"Map")),O=E.type.defaultProps,R=O!==void 0?F(F({},O),E.props):E.props,D=N&&N[R["".concat(k,"Id")]];return P.cloneElement(E,F(F({},D),{},{className:Se(k,D.className),key:E.key||"".concat(A,"-").concat(C),ticks:jr(D,!0)}))}),ve(S,"renderPolarGrid",function(E){var A=E.props,C=A.radialLines,k=A.polarAngles,N=A.polarRadius,O=S.state,R=O.radiusAxisMap,D=O.angleAxisMap,U=ci(R),j=ci(D),M=j.cx,L=j.cy,$=j.innerRadius,B=j.outerRadius;return P.cloneElement(E,{polarAngles:Array.isArray(k)?k:jr(j,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(N)?N:jr(U,!0).map(function(q){return q.coordinate}),cx:M,cy:L,innerRadius:$,outerRadius:B,key:E.key||"polar-grid",radialLines:C})}),ve(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,A=S.props,C=A.children,k=A.width,N=A.height,O=S.props.margin||{},R=k-(O.left||0)-(O.right||0),D=kI({children:C,formattedGraphicalItems:E,legendWidth:R,legendContent:u});if(!D)return null;var U=D.item,j=N1(D,sre);return P.cloneElement(U,F(F({},j),{},{chartWidth:k,chartHeight:N,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ve(S,"renderTooltip",function(){var E,A=S.props,C=A.children,k=A.accessibilityLayer,N=yn(C,Rn);if(!N)return null;var O=S.state,R=O.isTooltipActive,D=O.activeCoordinate,U=O.activePayload,j=O.activeLabel,M=O.offset,L=(E=N.props.active)!==null&&E!==void 0?E:R;return P.cloneElement(N,{viewBox:F(F({},M),{},{x:M.left,y:M.top}),active:L,label:j,payload:L?U:[],coordinate:D,accessibilityLayer:k})}),ve(S,"renderBrush",function(E){var A=S.props,C=A.margin,k=A.data,N=S.state,O=N.offset,R=N.dataStartIndex,D=N.dataEndIndex,U=N.updateId;return P.cloneElement(E,{key:E.key||"_recharts-brush",onChange:mc(S.handleBrushChange,E.props.onChange),data:k,x:X(E.props.x)?E.props.x:O.left,y:X(E.props.y)?E.props.y:O.top+O.height+O.brushBottom-(C.bottom||0),width:X(E.props.width)?E.props.width:O.width,startIndex:R,endIndex:D,updateId:"brush-".concat(U)})}),ve(S,"renderReferenceElement",function(E,A,C){if(!E)return null;var k=S,N=k.clipPathId,O=S.state,R=O.xAxisMap,D=O.yAxisMap,U=O.offset,j=E.type.defaultProps||{},M=E.props,L=M.xAxisId,$=L===void 0?j.xAxisId:L,B=M.yAxisId,q=B===void 0?j.yAxisId:B;return P.cloneElement(E,{key:E.key||"".concat(A,"-").concat(C),xAxis:R[$],yAxis:D[q],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:N})}),ve(S,"renderActivePoints",function(E){var A=E.item,C=E.activePoint,k=E.basePoint,N=E.childIndex,O=E.isRange,R=[],D=A.props.key,U=A.item.type.defaultProps!==void 0?F(F({},A.item.type.defaultProps),A.item.props):A.item.props,j=U.activeDot,M=U.dataKey,L=F(F({index:N,dataKey:M,cx:C.x,cy:C.y,r:4,fill:F0(A.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},ge(j,!1)),vd(j));return R.push(w.renderActiveDot(j,L,"".concat(D,"-activePoint-").concat(N))),k?R.push(w.renderActiveDot(j,F(F({},L),{},{cx:k.x,cy:k.y}),"".concat(D,"-basePoint-").concat(N))):O&&R.push(null),R}),ve(S,"renderGraphicChild",function(E,A,C){var k=S.filterFormatItem(E,A,C);if(!k)return null;var N=S.getTooltipEventType(),O=S.state,R=O.isTooltipActive,D=O.tooltipAxis,U=O.activeTooltipIndex,j=O.activeLabel,M=S.props.children,L=yn(M,Rn),$=k.props,B=$.points,q=$.isRange,Y=$.baseLine,W=k.item.type.defaultProps!==void 0?F(F({},k.item.type.defaultProps),k.item.props):k.item.props,re=W.activeDot,pe=W.hide,xe=W.activeBar,ke=W.activeShape,st=!!(!pe&&R&&L&&(re||xe||ke)),je={};N!=="axis"&&L&&L.props.trigger==="click"?je={onClick:mc(S.handleItemMouseEnter,E.props.onClick)}:N!=="axis"&&(je={onMouseLeave:mc(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:mc(S.handleItemMouseEnter,E.props.onMouseEnter)});var Q=P.cloneElement(E,F(F({},k.props),je));function fe(xt){return typeof D.dataKey=="function"?D.dataKey(xt.payload):null}if(st)if(U>=0){var we,H;if(D.dataKey&&!D.allowDuplicatedCategory){var Te=typeof D.dataKey=="function"?fe:"payload.".concat(D.dataKey.toString());we=gd(B,Te,j),H=q&&Y&&gd(Y,Te,j)}else we=B==null?void 0:B[U],H=q&&Y&&Y[U];if(ke||xe){var G=E.props.activeIndex!==void 0?E.props.activeIndex:U;return[P.cloneElement(E,F(F(F({},k.props),je),{},{activeIndex:G})),null,null]}if(!_e(we))return[Q].concat(is(S.renderActivePoints({item:k,activePoint:we,basePoint:H,childIndex:U,isRange:q})))}else{var me,V=(me=S.getItemByXY(S.state.activeCoordinate))!==null&&me!==void 0?me:{graphicalItem:Q},se=V.graphicalItem,he=se.item,it=he===void 0?E:he,Xe=se.childIndex,ht=F(F(F({},k.props),je),{},{activeIndex:Xe});return[P.cloneElement(it,ht),null,null]}return q?[Q,null,null]:[Q,null]}),ve(S,"renderCustomized",function(E,A,C){return P.cloneElement(E,F(F({key:"recharts-customized-".concat(C)},S.props),S.state))}),ve(S,"renderMap",{CartesianGrid:{handler:bc,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:bc},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:bc},YAxis:{handler:bc},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=x.id)!==null&&_!==void 0?_:ps("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=CP(S.triggeredAfterMouseMove,(T=x.throttleDelay)!==null&&T!==void 0?T:1e3/60),S.state={},S}return wre(w,b),mre(w,[{key:"componentDidMount",value:function(){var _,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,T=_.children,S=_.data,E=_.height,A=_.layout,C=yn(T,Rn);if(C){var k=C.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,O=kv(this.state,S,k,N),R=this.state.tooltipTicks[k].coordinate,D=(this.state.offset.top+E)/2,U=A==="horizontal",j=U?{x:R,y:D}:{y:R,x:D},M=this.state.formattedGraphicalItems.find(function($){var B=$.item;return B.type.name==="Scatter"});M&&(j=F(F({},j),M.props.points[k].tooltipPosition),O=M.props.points[k].tooltipPayload);var L={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:N,activePayload:O,activeCoordinate:j};this.setState(L),this.renderCursor(C),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(_){rg([yn(_.children,Rn)],[yn(this.props.children,Rn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=yn(this.props.children,Rn);if(_&&typeof _.props.shared=="boolean"){var T=_.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var T=this.container,S=T.getBoundingClientRect(),E=xq(S),A={chartX:Math.round(_.pageX-E.left),chartY:Math.round(_.pageY-E.top)},C=S.width/T.offsetWidth||1,k=this.inRange(A.chartX,A.chartY,C);if(!k)return null;var N=this.state,O=N.xAxisMap,R=N.yAxisMap,D=this.getTooltipEventType(),U=M1(this.state,this.props.data,this.props.layout,k);if(D!=="axis"&&O&&R){var j=ci(O).scale,M=ci(R).scale,L=j&&j.invert?j.invert(A.chartX):null,$=M&&M.invert?M.invert(A.chartY):null;return F(F({},A),{},{xValue:L,yValue:$},U)}return U?F(F({},A),U):null}},{key:"inRange",value:function(_,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,A=_/S,C=T/S;if(E==="horizontal"||E==="vertical"){var k=this.state.offset,N=A>=k.left&&A<=k.left+k.width&&C>=k.top&&C<=k.top+k.height;return N?{x:A,y:C}:null}var O=this.state,R=O.angleAxisMap,D=O.radiusAxisMap;if(R&&D){var U=ci(R);return iS({x:A,y:C},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,T=this.getTooltipEventType(),S=yn(_,Rn),E={};S&&T==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=vd(this.props,this.handleOuterEvent);return F(F({},A),E)}},{key:"addListener",value:function(){Jp.on(Yp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Jp.removeListener(Yp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,T,S){for(var E=this.state.formattedGraphicalItems,A=0,C=E.length;A<C;A++){var k=E[A];if(k.item===_||k.props.key===_.key||T===Lr(k.item.type)&&S===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,T=this.state.offset,S=T.left,E=T.top,A=T.height,C=T.width;return I.createElement("defs",null,I.createElement("clipPath",{id:_},I.createElement("rect",{x:S,y:E,height:A,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=I1(S,2),A=E[0],C=E[1];return F(F({},T),{},ve({},A,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=I1(S,2),A=E[0],C=E[1];return F(F({},T),{},ve({},A,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(_){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(_){var T=this.state,S=T.formattedGraphicalItems,E=T.activeItem;if(S&&S.length)for(var A=0,C=S.length;A<C;A++){var k=S[A],N=k.props,O=k.item,R=O.type.defaultProps!==void 0?F(F({},O.type.defaultProps),O.props):O.props,D=Lr(O.type);if(D==="Bar"){var U=(N.data||[]).find(function($){return iX(_,$)});if(U)return{graphicalItem:k,payload:U}}else if(D==="RadialBar"){var j=(N.data||[]).find(function($){return iS(_,$)});if(j)return{graphicalItem:k,payload:j}}else if(kh(k,E)||Ph(k,E)||mu(k,E)){var M=HQ({graphicalItem:k,activeTooltipItem:E,itemData:R.data}),L=R.activeIndex===void 0?M:R.activeIndex;return{graphicalItem:F(F({},k),{},{childIndex:L}),payload:mu(k,E)?R.data[M]:k.props.data[M]}}}return null}},{key:"render",value:function(){var _=this;if(!Kb(this))return null;var T=this.props,S=T.children,E=T.className,A=T.width,C=T.height,k=T.style,N=T.compact,O=T.title,R=T.desc,D=N1(T,lre),U=ge(D,!1);if(N)return I.createElement(f1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(og,fa({},U,{width:A,height:C,title:O,desc:R}),this.renderClipPath(),Yb(S,this.renderMap)));if(this.props.accessibilityLayer){var j,M;U.tabIndex=(j=this.props.tabIndex)!==null&&j!==void 0?j:0,U.role=(M=this.props.role)!==null&&M!==void 0?M:"application",U.onKeyDown=function($){_.accessibilityManager.keyboardEvent($)},U.onFocus=function(){_.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return I.createElement(f1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",fa({className:Se("recharts-wrapper",E),style:F({position:"relative",cursor:"default",width:A,height:C},k)},L,{ref:function(B){_.container=B}}),I.createElement(og,fa({},U,{width:A,height:C,title:O,desc:R,style:Tre}),this.renderClipPath(),Yb(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(P.Component);ve(v,"displayName",n),ve(v,"defaultProps",F({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ve(v,"getDerivedStateFromProps",function(b,w){var x=b.dataKey,_=b.data,T=b.children,S=b.width,E=b.height,A=b.layout,C=b.stackOffset,k=b.margin,N=w.dataStartIndex,O=w.dataEndIndex;if(w.updateId===void 0){var R=R1(b);return F(F(F({},R),{},{updateId:0},g(F(F({props:b},R),{},{updateId:0}),w)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:k,prevChildren:T})}if(x!==w.prevDataKey||_!==w.prevData||S!==w.prevWidth||E!==w.prevHeight||A!==w.prevLayout||C!==w.prevStackOffset||!ba(k,w.prevMargin)){var D=R1(b),U={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},j=F(F({},M1(w,_,A)),{},{updateId:w.updateId+1}),M=F(F(F({},D),U),j);return F(F(F({},M),g(F({props:b},M),w)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:k,prevChildren:T})}if(!rg(T,w.prevChildren)){var L,$,B,q,Y=yn(T,Ka),W=Y&&(L=($=Y.props)===null||$===void 0?void 0:$.startIndex)!==null&&L!==void 0?L:N,re=Y&&(B=(q=Y.props)===null||q===void 0?void 0:q.endIndex)!==null&&B!==void 0?B:O,pe=W!==N||re!==O,xe=!_e(_),ke=xe&&!pe?w.updateId:w.updateId+1;return F(F({updateId:ke},g(F(F({props:b},w),{},{updateId:ke,dataStartIndex:W,dataEndIndex:re}),w)),{},{prevChildren:T,dataStartIndex:W,dataEndIndex:re})}return null}),ve(v,"renderActiveDot",function(b,w,x){var _;return P.isValidElement(b)?_=P.cloneElement(b,w):be(b)?_=b(w):_=I.createElement(Sh,w),I.createElement(Me,{className:"recharts-active-dot",key:x},_)});var y=P.forwardRef(function(w,x){return I.createElement(v,fa({},w,{ref:x}))});return y.displayName=v.displayName,y},$re=Z0({chartName:"LineChart",GraphicalChild:Uu,axisComponents:[{axisType:"xAxis",AxisComp:_s},{axisType:"yAxis",AxisComp:Ss}],formatAxisMap:v2}),jre=Z0({chartName:"BarChart",GraphicalChild:$o,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:_s},{axisType:"yAxis",AxisComp:Ss}],formatAxisMap:v2}),Dre=Z0({chartName:"PieChart",GraphicalChild:Zr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ch},{axisType:"radiusAxis",AxisComp:Th}],formatAxisMap:vK,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Lre,Ure;function Bre(){return{geminiUrl:Lre,vertexUrl:Ure}}function Fre(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=Bre();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ei{}function ne(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];m(c,e.slice(o+1),n[u])}else for(const u of l)m(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];m(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>f(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Vre(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}Pv(t,i,o,0,a)}}function Pv(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])Pv(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);m(a,d,c)}for(const u of s)delete a[u]}}else{const a=t;o in a&&Pv(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ew(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zre(t){const e={},n=f(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=f(t,["resourceName"]);return r!=null&&m(e,["_url","resourceName"],r),e}function qre(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],Hre(a)),e}function Gre(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const a=f(t,["response"]);return a!=null&&m(e,["response"],Wre(a)),e}function Hre(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Kre(a))),m(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Wre(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Jre(a))),m(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Kre(t){const e={},n=f(t,["video"]);return n!=null&&m(e,["video"],tie(n)),e}function Jre(t){const e={},n=f(t,["_self"]);return n!=null&&m(e,["video"],nie(n)),e}function Yre(t){const e={},n=f(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function Xre(t){const e={},n=f(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function Qre(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const a=f(t,["response"]);return a!=null&&m(e,["response"],Zre(a)),e}function Zre(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&m(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function Z2(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const a=f(t,["response"]);return a!=null&&m(e,["response"],eie(a)),e}function eie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&m(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function tie(t){const e={},n=f(t,["uri"]);n!=null&&m(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],ew(r));const i=f(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function nie(t){const e={},n=f(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],ew(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var j1;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(j1||(j1={}));var D1;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(D1||(D1={}));var L1;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(L1||(L1={}));var mi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(mi||(mi={}));var U1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(U1||(U1={}));var B1;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(B1||(B1={}));var F1;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(F1||(F1={}));var V1;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(V1||(V1={}));var z1;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(z1||(z1={}));var q1;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(q1||(q1={}));var G1;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(G1||(G1={}));var H1;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(H1||(H1={}));var W1;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(W1||(W1={}));var K1;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(K1||(K1={}));var J1;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(J1||(J1={}));var Y1;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Y1||(Y1={}));var X1;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(X1||(X1={}));var Q1;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Q1||(Q1={}));var Z1;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Z1||(Z1={}));var yf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(yf||(yf={}));var eE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(eE||(eE={}));var tE;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(tE||(tE={}));var nE;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(nE||(nE={}));var Iv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Iv||(Iv={}));var rE;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(rE||(rE={}));var iE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(iE||(iE={}));var oE;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(oE||(oE={}));var aE;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(aE||(aE={}));var sE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(sE||(sE={}));var lE;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(lE||(lE={}));var uE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(uE||(uE={}));var cE;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(cE||(cE={}));var dE;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(dE||(dE={}));var fE;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(fE||(fE={}));var hE;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(hE||(hE={}));var pE;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(pE||(pE={}));var mE;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(mE||(mE={}));var gE;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(gE||(gE={}));var vE;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(vE||(vE={}));var yE;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(yE||(yE={}));var wE;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(wE||(wE={}));var bE;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(bE||(bE={}));var xE;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(xE||(xE={}));var _E;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(_E||(_E={}));var SE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(SE||(SE={}));var EE;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(EE||(EE={}));var TE;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(TE||(TE={}));var AE;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(AE||(AE={}));var CE;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(CE||(CE={}));var kE;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(kE||(kE={}));var PE;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(PE||(PE={}));var IE;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(IE||(IE={}));var NE;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(NE||(NE={}));var OE;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(OE||(OE={}));var ha;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ha||(ha={}));class Nv{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Js{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(v!==null||v!==void 0)&&d.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(d))h!=="inlineData"&&(g!==null||g!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class ME{}class RE{}class rie{}class iie{}class oie{}class aie{}class $E{}class jE{}class DE{}class sie{}class wf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new wf;let i;const o=e;return n?i=Gre(o):i=qre(o),Object.assign(r,i),r}}class LE{}class UE{}class BE{}class lie{}class uie{}class cie{}class tw{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new tw,o=Qre(e);return Object.assign(r,o),r}}class die{}class fie{}class hie{}class FE{}class pie{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class mie{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class nw{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new nw,o=Z2(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $e(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function eN(t,e){const n=$e(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function tN(t){return Array.isArray(t)?t.map(e=>bf(e)):[bf(t)]}function bf(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function nN(t){const e=bf(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function rN(t){const e=bf(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function VE(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function iN(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>VE(e)):[VE(t)]}function Ov(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function zE(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function qE(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ht(t){if(t==null)throw new Error("ContentUnion is required");return Ov(t)?t:{role:"user",parts:iN(t)}}function rw(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Ht(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Ht(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ht(n)):[Ht(e)]}function Vn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(zE(t)||qE(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ht(t)]}const e=[],n=[],r=Ov(t[0]);for(const i of t){const o=Ov(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(zE(i)||qE(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:iN(n)}),e}function gie(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(mi).includes(n[0].toUpperCase())?n[0].toUpperCase():mi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(mi).includes(r.toUpperCase())?r.toUpperCase():mi.TYPE_UNSPECIFIED})}}function Sa(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&gie(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(mi).includes(s.toUpperCase())?s.toUpperCase():mi.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Sa(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(Sa(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=Sa(c);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function iw(t){return Sa(t)}function ow(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function aw(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Es(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Sa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Sa(e.response));return t}function Ts(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function vie(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ti(t,e){if(typeof e!="string")throw new Error("name must be a string");return vie(t,e,"cachedContents")}function oN(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function $i(t){return ew(t)}function yie(t){return t!=null&&typeof t=="object"&&"name"in t}function wie(t){return t!=null&&typeof t=="object"&&"video"in t}function bie(t){return t!=null&&typeof t=="object"&&"uri"in t}function aN(t){var e;let n;if(yie(t)&&(n=t.name),!(bie(t)&&(n=t.uri,n===void 0))&&!(wie(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function sN(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function lN(t){for(const e of["models","tunedModels","publisherModels"])if(xie(t,e))return t[e];return[]}function xie(t,e){return t!==null&&typeof t=="object"&&e in t}function _ie(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Sie(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=_ie(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function uN(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Eie(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function cN(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function As(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function dN(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tie(t){const e={},n=f(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=f(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>ooe(a))),m(e,["inlinedResponses"],o)}const i=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["inlinedEmbedContentResponses"],o)}return e}function Aie(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=f(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=f(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Cie(t){const e={},n=f(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=f(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function zc(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["metadata","state"]);i!=null&&m(e,["state"],dN(i));const o=f(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const a=f(t,["metadata","endTime"]);a!=null&&m(e,["endTime"],a);const s=f(t,["metadata","updateTime"]);s!=null&&m(e,["updateTime"],s);const l=f(t,["metadata","model"]);l!=null&&m(e,["model"],l);const u=f(t,["metadata","output"]);return u!=null&&m(e,["dest"],Tie(cN(u))),e}function Mv(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["state"]);i!=null&&m(e,["state"],dN(i));const o=f(t,["error"]);o!=null&&m(e,["error"],o);const a=f(t,["createTime"]);a!=null&&m(e,["createTime"],a);const s=f(t,["startTime"]);s!=null&&m(e,["startTime"],s);const l=f(t,["endTime"]);l!=null&&m(e,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const c=f(t,["model"]);c!=null&&m(e,["model"],c);const d=f(t,["inputConfig"]);d!=null&&m(e,["src"],kie(d));const h=f(t,["outputConfig"]);h!=null&&m(e,["dest"],Aie(cN(h)));const g=f(t,["completionStats"]);return g!=null&&m(e,["completionStats"],g),e}function kie(t){const e={},n=f(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=f(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=f(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Pie(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=f(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ioe(t,a))),m(n,["requests","requests"],o)}return n}function Iie(t){const e={},n=f(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=f(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Nie(t){const e={},n=f(t,["data"]);if(n!=null&&m(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Oie(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],As(t,r)),n}function Mie(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],As(t,r)),n}function Rie(t){const e={},n=f(t,["content"]);n!=null&&m(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],$ie(r));const i=f(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&m(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&m(e,["urlContextMetadata"],d),e}function $ie(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function fN(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>foe(o))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function jie(t,e){const n={},r=f(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Die(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=f(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],Cie(Eie(i))),n}function GE(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["src"]);i!=null&&m(n,["batch","inputConfig"],Pie(t,uN(t,i)));const o=f(e,["config"]);return o!=null&&jie(o,n),n}function Lie(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["model"],$e(t,r));const i=f(e,["src"]);i!=null&&m(n,["inputConfig"],Iie(uN(t,i)));const o=f(e,["config"]);return o!=null&&Die(o,n),n}function Uie(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["batch","displayName"],r),n}function Bie(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["src"]);i!=null&&m(n,["batch","inputConfig"],Wie(t,i));const o=f(e,["config"]);return o!=null&&Uie(o,n),n}function Fie(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],As(t,r)),n}function Vie(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],As(t,r)),n}function zie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);return o!=null&&m(e,["error"],o),e}function qie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);return o!=null&&m(e,["error"],o),e}function Gie(t,e){const n={},r=f(e,["contents"]);if(r!=null){let o=rw(t,r);Array.isArray(o)&&(o=o.map(a=>a)),m(n,["requests[]","request","content"],o)}const i=f(e,["config"]);return i!=null&&(m(n,["_self"],Hie(i,n)),Vre(n,{"requests[].*":"requests[].request.*"})),n}function Hie(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Wie(t,e){const n={},r=f(e,["fileName"]);r!=null&&m(n,["file_name"],r);const i=f(e,["inlinedRequests"]);return i!=null&&m(n,["requests"],Gie(t,i)),n}function Kie(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Jie(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);if(i!=null&&m(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Yie(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Xie(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],fN(Ht(i)));const o=f(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&m(r,["topP"],a);const s=f(e,["topK"]);s!=null&&m(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&m(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const v=f(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const y=f(e,["seed"]);y!=null&&m(r,["seed"],y);const b=f(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const w=f(e,["responseSchema"]);w!=null&&m(r,["responseSchema"],iw(w));const x=f(e,["responseJsonSchema"]);if(x!=null&&m(r,["responseJsonSchema"],x),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let R=_;Array.isArray(R)&&(R=R.map(D=>hoe(D))),m(n,["safetySettings"],R)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let R=Ts(T);Array.isArray(R)&&(R=R.map(D=>moe(Es(D)))),m(n,["tools"],R)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&m(n,["toolConfig"],poe(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&m(n,["cachedContent"],ti(t,E));const A=f(e,["responseModalities"]);A!=null&&m(r,["responseModalities"],A);const C=f(e,["mediaResolution"]);C!=null&&m(r,["mediaResolution"],C);const k=f(e,["speechConfig"]);if(k!=null&&m(r,["speechConfig"],ow(k)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=f(e,["thinkingConfig"]);N!=null&&m(r,["thinkingConfig"],N);const O=f(e,["imageConfig"]);return O!=null&&m(r,["imageConfig"],roe(O)),r}function Qie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Rie(u))),m(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function Zie(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],As(t,r)),n}function eoe(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],As(t,r)),n}function toe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function noe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function roe(t){const e={},n=f(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function ioe(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["request","model"],$e(t,r));const i=f(e,["contents"]);if(i!=null){let s=Vn(i);Array.isArray(s)&&(s=s.map(l=>fN(l))),m(n,["request","contents"],s)}const o=f(e,["metadata"]);o!=null&&m(n,["metadata"],o);const a=f(e,["config"]);return a!=null&&m(n,["request","generationConfig"],Xie(t,a,f(n,["request"],{}))),n}function ooe(t){const e={},n=f(t,["response"]);n!=null&&m(e,["response"],Qie(n));const r=f(t,["error"]);return r!=null&&m(e,["error"],r),e}function aoe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function soe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=f(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function loe(t){const e={},n=f(t,["config"]);return n!=null&&aoe(n,e),e}function uoe(t){const e={},n=f(t,["config"]);return n!=null&&soe(n,e),e}function coe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>zc(a))),m(e,["batchJobs"],o)}return e}function doe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Mv(a))),m(e,["batchJobs"],o)}return e}function foe(t){const e={},n=f(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&m(e,["fileData"],Kie(o));const a=f(t,["functionCall"]);a!=null&&m(e,["functionCall"],Jie(a));const s=f(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&m(e,["inlineData"],Nie(l));const u=f(t,["text"]);u!=null&&m(e,["text"],u);const c=f(t,["thought"]);c!=null&&m(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&m(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function hoe(t){const e={},n=f(t,["category"]);if(n!=null&&m(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function poe(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Yie(n));const r=f(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function moe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),m(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],toe(s));const l=f(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],noe(l));const u=f(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Kr||(Kr={}));class jo{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class goe extends ei{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new jo(Kr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=GE(this.apiClient,e),r=n._url,i=ne("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const g=d.request;g.systemInstruction=h,d.request=g}u.push(d)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Lie(this.apiClient,e);return s=ne("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Mv(c))}else{const u=GE(this.apiClient,e);return s=ne("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>zc(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Bie(this.apiClient,e);return o=ne("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>zc(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=eoe(this.apiClient,e);return s=ne("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Mv(c))}else{const u=Zie(this.apiClient,e);return s=ne("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>zc(c))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=Mie(this.apiClient,e);a=ne("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Oie(this.apiClient,e);a=ne("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=uoe(e);return s=ne("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=doe(c),h=new FE;return Object.assign(h,d),h})}else{const u=loe(e);return s=ne("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=coe(c),h=new FE;return Object.assign(h,d),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Vie(this.apiClient,e);return s=ne("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>qie(c))}else{const u=Fie(this.apiClient,e);return s=ne("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>zie(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function voe(t){const e={},n=f(t,["data"]);if(n!=null&&m(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function HE(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Boe(o))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function yoe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let c=Vn(a);Array.isArray(c)&&(c=c.map(d=>HE(d))),m(e,["contents"],c)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],HE(Ht(s)));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Voe(d))),m(e,["tools"],c)}const u=f(t,["toolConfig"]);if(e!==void 0&&u!=null&&m(e,["toolConfig"],Foe(u)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function woe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let d=Vn(a);Array.isArray(d)&&(d=d.map(h=>h)),m(e,["contents"],d)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],Ht(s));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>zoe(h))),m(e,["tools"],d)}const u=f(t,["toolConfig"]);e!==void 0&&u!=null&&m(e,["toolConfig"],u);const c=f(t,["kmsKeyName"]);return e!==void 0&&c!=null&&m(e,["encryption_spec","kmsKeyName"],c),n}function boe(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["model"],eN(t,r));const i=f(e,["config"]);return i!=null&&yoe(i,n),n}function xoe(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["model"],eN(t,r));const i=f(e,["config"]);return i!=null&&woe(i,n),n}function _oe(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ti(t,r)),n}function Soe(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ti(t,r)),n}function Eoe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Toe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Aoe(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Coe(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);if(i!=null&&m(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function koe(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Poe(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&m(e,["description"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&m(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function Ioe(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ti(t,r)),n}function Noe(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ti(t,r)),n}function Ooe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Moe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Roe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function $oe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function joe(t){const e={},n=f(t,["config"]);return n!=null&&Roe(n,e),e}function Doe(t){const e={},n=f(t,["config"]);return n!=null&&$oe(n,e),e}function Loe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function Uoe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function Boe(t){const e={},n=f(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&m(e,["fileData"],Aoe(o));const a=f(t,["functionCall"]);a!=null&&m(e,["functionCall"],Coe(a));const s=f(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&m(e,["inlineData"],voe(l));const u=f(t,["text"]);u!=null&&m(e,["text"],u);const c=f(t,["thought"]);c!=null&&m(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&m(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Foe(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],koe(n));const r=f(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function Voe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),m(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Ooe(s));const l=f(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Moe(l));const u=f(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function zoe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>Poe(h))),m(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function qoe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function Goe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function Hoe(t,e){const n={},r=f(e,["name"]);r!=null&&m(n,["_url","name"],ti(t,r));const i=f(e,["config"]);return i!=null&&qoe(i,n),n}function Woe(t,e){const n={},r=f(e,["name"]);r!=null&&m(n,["_url","name"],ti(t,r));const i=f(e,["config"]);return i!=null&&Goe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Koe extends ei{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new jo(Kr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=xoe(this.apiClient,e);return s=ne("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=boe(this.apiClient,e);return s=ne("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Noe(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=Ioe(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Soe(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Toe(c),h=new UE;return Object.assign(h,d),h})}else{const u=_oe(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Eoe(c),h=new UE;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Woe(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=Hoe(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Doe(e);return s=ne("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Uoe(c),h=new BE;return Object.assign(h,d),h})}else{const u=joe(e);return s=ne("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Loe(c),h=new BE;return Object.assign(h,d),h})}}}function WE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tt(t){return this instanceof tt?(this.v=t,this):new tt(t)}function Ea(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(v){return Promise.resolve(v).then(g,d)}}function s(g,v){r[g]&&(i[g]=function(y){return new Promise(function(b,w){o.push([g,y,b,w])>1||l(g,y)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(r[g](v))}catch(y){h(o[0][3],y)}}function u(g){g.value instanceof tt?Promise.resolve(g.value.v).then(c,d):h(o[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function xl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof WE=="function"?WE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Joe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:hN(n)}function hN(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Yoe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function KE(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!hN(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class Xoe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Qoe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Qoe{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Yoe(o)}async sendMessage(e){var n;await this.sendPromise;const r=Ht(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(d))!==null&&s!==void 0?s:[]);const g=u?[u]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Ht(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?KE(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Ea(this,arguments,function*(){var a,s,l,u;const c=[];try{for(var d=!0,h=xl(e),g;g=yield tt(h.next()),a=g.done,!a;d=!0){u=g.value,d=!1;const v=u;if(Joe(v)){const y=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;y!==void 0&&c.push(y)}yield yield tt(v)}}catch(v){s={error:v}}finally{try{!d&&!a&&(l=h.return)&&(yield tt(l.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...KE(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,jh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zoe(t){const e={},n=f(t,["file"]);return n!=null&&m(e,["file"],n),e}function eae(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function tae(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","file"],aN(n)),e}function nae(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function rae(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","file"],aN(n)),e}function iae(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function oae(t){const e={},n=f(t,["config"]);return n!=null&&iae(n,e),e}function aae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sae extends ei{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new jo(Kr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=oae(e);return o=ne("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=aae(l),c=new die;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Zoe(e);return o=ne("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=eae(l),c=new fie;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=rae(e);return o=ne("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=tae(e);return o=ne("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=nae(l),c=new hie;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qc(t){const e={},n=f(t,["data"]);if(n!=null&&m(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function lae(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Eae(o))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function uae(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function cae(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);if(i!=null&&m(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function dae(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&m(e,["description"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&m(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function fae(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&m(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&m(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=f(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const v=f(t,["responseModalities"]);v!=null&&m(e,["responseModalities"],v);const y=f(t,["responseSchema"]);y!=null&&m(e,["responseSchema"],y);const b=f(t,["routingConfig"]);b!=null&&m(e,["routingConfig"],b);const w=f(t,["seed"]);w!=null&&m(e,["seed"],w);const x=f(t,["speechConfig"]);x!=null&&m(e,["speechConfig"],pN(x));const _=f(t,["stopSequences"]);_!=null&&m(e,["stopSequences"],_);const T=f(t,["temperature"]);T!=null&&m(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&m(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&m(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function hae(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function pae(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function mae(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","speechConfig"],aw(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],lae(Ht(v)));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let E=Ts(y);Array.isArray(E)&&(E=E.map(A=>Aae(Es(A)))),m(e,["setup","tools"],E)}const b=f(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],Tae(b));const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","inputAudioTranscription"],w);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","outputAudioTranscription"],x);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),n}function gae(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],fae(r));const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","speechConfig"],pN(aw(d)));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],Ht(v));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let E=Ts(y);Array.isArray(E)&&(E=E.map(A=>Cae(Es(A)))),m(e,["setup","tools"],E)}const b=f(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],b);const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","inputAudioTranscription"],w);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","outputAudioTranscription"],x);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),n}function vae(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["setup","model"],$e(t,r));const i=f(e,["config"]);return i!=null&&m(n,["config"],mae(i,n)),n}function yae(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["setup","model"],$e(t,r));const i=f(e,["config"]);return i!=null&&m(n,["config"],gae(i,n)),n}function wae(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function bae(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["weightedPrompts"],r)}return e}function xae(t){const e={},n=f(t,["media"]);if(n!=null){let u=tN(n);Array.isArray(u)&&(u=u.map(c=>qc(c))),m(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&m(e,["audio"],qc(rN(r)));const i=f(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&m(e,["video"],qc(nN(o)));const a=f(t,["text"]);a!=null&&m(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function _ae(t){const e={},n=f(t,["media"]);if(n!=null){let u=tN(n);Array.isArray(u)&&(u=u.map(c=>c)),m(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&m(e,["audio"],rN(r));const i=f(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&m(e,["video"],nN(o));const a=f(t,["text"]);a!=null&&m(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function Sae(t){const e={},n=f(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const r=f(t,["serverContent"]);r!=null&&m(e,["serverContent"],r);const i=f(t,["toolCall"]);i!=null&&m(e,["toolCall"],i);const o=f(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],o);const a=f(t,["usageMetadata"]);a!=null&&m(e,["usageMetadata"],kae(a));const s=f(t,["goAway"]);s!=null&&m(e,["goAway"],s);const l=f(t,["sessionResumptionUpdate"]);return l!=null&&m(e,["sessionResumptionUpdate"],l),e}function Eae(t){const e={},n=f(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&m(e,["fileData"],uae(o));const a=f(t,["functionCall"]);a!=null&&m(e,["functionCall"],cae(a));const s=f(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&m(e,["inlineData"],qc(l));const u=f(t,["text"]);u!=null&&m(e,["text"],u);const c=f(t,["thought"]);c!=null&&m(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&m(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Tae(t){const e={},n=f(t,["handle"]);if(n!=null&&m(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function pN(t){const e={},n=f(t,["languageCode"]);n!=null&&m(e,["languageCode"],n);const r=f(t,["voiceConfig"]);if(r!=null&&m(e,["voiceConfig"],r),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Aae(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),m(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],hae(s));const l=f(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],pae(l));const u=f(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function Cae(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>dae(h))),m(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function kae(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=f(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=f(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const a=f(t,["thoughtsTokenCount"]);a!=null&&m(e,["thoughtsTokenCount"],a);const s=f(t,["totalTokenCount"]);s!=null&&m(e,["totalTokenCount"],s);const l=f(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["promptTokensDetails"],g)}const u=f(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["cacheTokensDetails"],g)}const c=f(t,["candidatesTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["responseTokensDetails"],g)}const d=f(t,["toolUsePromptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["toolUsePromptTokensDetails"],g)}const h=f(t,["trafficType"]);return h!=null&&m(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pae(t){const e={},n=f(t,["data"]);if(n!=null&&m(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Iae(t){const e={},n=f(t,["content"]);n!=null&&m(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],Nae(r));const i=f(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&m(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&m(e,["urlContextMetadata"],d),e}function Nae(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function Oae(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["contents"]);if(i!=null){let o=Vn(i);Array.isArray(o)&&(o=o.map(a=>a)),m(n,["contents"],o)}return n}function Mae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["tokensInfo"],i)}return e}function Rae(t){const e={},n=f(t,["values"]);n!=null&&m(e,["values"],n);const r=f(t,["statistics"]);return r!=null&&m(e,["statistics"],$ae(r)),e}function $ae(t){const e={},n=f(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=f(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function Dh(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>qse(o))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function jae(t){const e={},n=f(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=f(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function Dae(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Lae(t,e){const n={},r=f(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],Ht(r));const i=f(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>wN(s))),m(e,["tools"],a)}const o=f(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],Pse(o)),n}function Uae(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["contents"]);if(i!=null){let a=Vn(i);Array.isArray(a)&&(a=a.map(s=>Dh(s))),m(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&Dae(o),n}function Bae(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["contents"]);if(i!=null){let a=Vn(i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&Lae(o,n),n}function Fae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=f(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function Vae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function zae(t,e){const n={},r=f(e,["model"]);return r!=null&&m(n,["_url","name"],$e(t,r)),n}function qae(t,e){const n={},r=f(e,["model"]);return r!=null&&m(n,["_url","name"],$e(t,r)),n}function Gae(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Hae(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Wae(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&m(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=f(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const y=f(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const b=f(t,["addWatermark"]);e!==void 0&&b!=null&&m(e,["parameters","addWatermark"],b);const w=f(t,["labels"]);e!==void 0&&w!=null&&m(e,["labels"],w);const x=f(t,["editMode"]);e!==void 0&&x!=null&&m(e,["parameters","editMode"],x);const _=f(t,["baseSteps"]);return e!==void 0&&_!=null&&m(e,["parameters","editConfig","baseSteps"],_),n}function Kae(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=f(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Yse(l))),m(n,["instances[0]","referenceImages"],s)}const a=f(e,["config"]);return a!=null&&Wae(a,n),n}function Jae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Lh(o))),m(e,["generatedImages"],i)}return e}function Yae(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Xae(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=f(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const a=f(t,["mimeType"]);e!==void 0&&a!=null&&m(e,["instances[]","mimeType"],a);const s=f(t,["autoTruncate"]);return e!==void 0&&s!=null&&m(e,["parameters","autoTruncate"],s),n}function Qae(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["contents"]);if(i!=null){let s=rw(t,i);Array.isArray(s)&&(s=s.map(l=>l)),m(n,["requests[]","content"],s)}const o=f(e,["config"]);o!=null&&Yae(o,n);const a=f(e,["model"]);return a!==void 0&&m(n,["requests[]","model"],$e(t,a)),n}function Zae(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["contents"]);if(i!=null){let a=rw(t,i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["instances[]","content"],a)}const o=f(e,["config"]);return o!=null&&Xae(o,n),n}function ese(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function tse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Rae(a))),m(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function nse(t){const e={},n=f(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=f(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function rse(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ise(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);if(i!=null&&m(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ose(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ase(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&m(e,["description"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&m(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function sse(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Dh(Ht(i)));const o=f(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&m(r,["topP"],a);const s=f(e,["topK"]);s!=null&&m(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&m(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const v=f(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const y=f(e,["seed"]);y!=null&&m(r,["seed"],y);const b=f(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const w=f(e,["responseSchema"]);w!=null&&m(r,["responseSchema"],iw(w));const x=f(e,["responseJsonSchema"]);if(x!=null&&m(r,["responseJsonSchema"],x),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let R=_;Array.isArray(R)&&(R=R.map(D=>Xse(D))),m(n,["safetySettings"],R)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let R=Ts(T);Array.isArray(R)&&(R=R.map(D=>ile(Es(D)))),m(n,["tools"],R)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&m(n,["toolConfig"],rle(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&m(n,["cachedContent"],ti(t,E));const A=f(e,["responseModalities"]);A!=null&&m(r,["responseModalities"],A);const C=f(e,["mediaResolution"]);C!=null&&m(r,["mediaResolution"],C);const k=f(e,["speechConfig"]);if(k!=null&&m(r,["speechConfig"],ow(k)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=f(e,["thinkingConfig"]);N!=null&&m(r,["thinkingConfig"],N);const O=f(e,["imageConfig"]);return O!=null&&m(r,["imageConfig"],Rse(O)),r}function lse(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Ht(i));const o=f(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&m(r,["topP"],a);const s=f(e,["topK"]);s!=null&&m(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&m(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const v=f(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const y=f(e,["seed"]);y!=null&&m(r,["seed"],y);const b=f(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const w=f(e,["responseSchema"]);w!=null&&m(r,["responseSchema"],iw(w));const x=f(e,["responseJsonSchema"]);x!=null&&m(r,["responseJsonSchema"],x);const _=f(e,["routingConfig"]);_!=null&&m(r,["routingConfig"],_);const T=f(e,["modelSelectionConfig"]);T!=null&&m(r,["modelConfig"],T);const S=f(e,["safetySettings"]);if(n!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(L=>L)),m(n,["safetySettings"],M)}const E=f(e,["tools"]);if(n!==void 0&&E!=null){let M=Ts(E);Array.isArray(M)&&(M=M.map(L=>wN(Es(L)))),m(n,["tools"],M)}const A=f(e,["toolConfig"]);n!==void 0&&A!=null&&m(n,["toolConfig"],A);const C=f(e,["labels"]);n!==void 0&&C!=null&&m(n,["labels"],C);const k=f(e,["cachedContent"]);n!==void 0&&k!=null&&m(n,["cachedContent"],ti(t,k));const N=f(e,["responseModalities"]);N!=null&&m(r,["responseModalities"],N);const O=f(e,["mediaResolution"]);O!=null&&m(r,["mediaResolution"],O);const R=f(e,["speechConfig"]);R!=null&&m(r,["speechConfig"],yN(ow(R)));const D=f(e,["audioTimestamp"]);D!=null&&m(r,["audioTimestamp"],D);const U=f(e,["thinkingConfig"]);U!=null&&m(r,["thinkingConfig"],U);const j=f(e,["imageConfig"]);return j!=null&&m(r,["imageConfig"],$se(j)),r}function JE(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["contents"]);if(i!=null){let a=Vn(i);Array.isArray(a)&&(a=a.map(s=>Dh(s))),m(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&m(n,["generationConfig"],sse(t,o,n)),n}function YE(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["contents"]);if(i!=null){let a=Vn(i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&m(n,["generationConfig"],lse(t,o,n)),n}function XE(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Iae(u))),m(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function QE(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),m(e,["candidates"],u)}const i=f(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=f(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const a=f(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const s=f(t,["responseId"]);s!=null&&m(e,["responseId"],s);const l=f(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function use(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=f(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=f(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const s=f(t,["personGeneration"]);e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s);const l=f(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&m(e,["parameters","includeSafetyAttributes"],l);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const c=f(t,["language"]);e!==void 0&&c!=null&&m(e,["parameters","language"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&m(e,["parameters","outputOptions","compressionQuality"],h),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=f(t,["imageSize"]);if(e!==void 0&&g!=null&&m(e,["parameters","sampleImageSize"],g),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function cse(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&m(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=f(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const y=f(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const b=f(t,["addWatermark"]);e!==void 0&&b!=null&&m(e,["parameters","addWatermark"],b);const w=f(t,["labels"]);e!==void 0&&w!=null&&m(e,["labels"],w);const x=f(t,["imageSize"]);e!==void 0&&x!=null&&m(e,["parameters","sampleImageSize"],x);const _=f(t,["enhancePrompt"]);return e!==void 0&&_!=null&&m(e,["parameters","enhancePrompt"],_),n}function dse(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&use(o,n),n}function fse(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&cse(o,n),n}function hse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Tse(a))),m(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],gN(i)),e}function pse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Lh(a))),m(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],vN(i)),e}function mse(t,e){const n={},r=f(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=f(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const a=f(t,["resolution"]);e!==void 0&&a!=null&&m(e,["parameters","resolution"],a);const s=f(t,["personGeneration"]);if(e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&m(e,["parameters","negativePrompt"],l);const u=f(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&m(e,["parameters","enhancePrompt"],u),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=f(t,["lastFrame"]);e!==void 0&&c!=null&&m(e,["instances[0]","lastFrame"],Uh(c));const d=f(t,["referenceImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>vle(g))),m(e,["instances[0]","referenceImages"],h)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function gse(t,e){const n={},r=f(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=f(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const a=f(t,["durationSeconds"]);e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a);const s=f(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=f(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const d=f(t,["pubsubTopic"]);e!==void 0&&d!=null&&m(e,["parameters","pubsubTopic"],d);const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","negativePrompt"],h);const g=f(t,["enhancePrompt"]);e!==void 0&&g!=null&&m(e,["parameters","enhancePrompt"],g);const v=f(t,["generateAudio"]);e!==void 0&&v!=null&&m(e,["parameters","generateAudio"],v);const y=f(t,["lastFrame"]);e!==void 0&&y!=null&&m(e,["instances[0]","lastFrame"],cr(y));const b=f(t,["referenceImages"]);if(e!==void 0&&b!=null){let _=b;Array.isArray(_)&&(_=_.map(T=>yle(T))),m(e,["instances[0]","referenceImages"],_)}const w=f(t,["mask"]);e!==void 0&&w!=null&&m(e,["instances[0]","mask"],gle(w));const x=f(t,["compressionQuality"]);return e!==void 0&&x!=null&&m(e,["parameters","compressionQuality"],x),n}function vse(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],xse(a)),e}function yse(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const a=f(t,["response"]);return a!=null&&m(e,["response"],_se(a)),e}function wse(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&m(n,["instances[0]","image"],Uh(o));const a=f(e,["video"]);a!=null&&m(n,["instances[0]","video"],bN(a));const s=f(e,["source"]);s!=null&&Sse(s,n);const l=f(e,["config"]);return l!=null&&mse(l,n),n}function bse(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&m(n,["instances[0]","image"],cr(o));const a=f(e,["video"]);a!=null&&m(n,["instances[0]","video"],xN(a));const s=f(e,["source"]);s!=null&&Ese(s,n);const l=f(e,["config"]);return l!=null&&gse(l,n),n}function xse(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Cse(a))),m(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function _se(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>kse(a))),m(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Sse(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],Uh(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],bN(o)),n}function Ese(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],cr(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],xN(o)),n}function Tse(t){const e={},n=f(t,["_self"]);n!=null&&m(e,["image"],jse(n));const r=f(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=f(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],gN(i)),e}function Lh(t){const e={},n=f(t,["_self"]);n!=null&&m(e,["image"],mN(n));const r=f(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=f(t,["_self"]);i!=null&&m(e,["safetyAttributes"],vN(i));const o=f(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function Ase(t){const e={},n=f(t,["_self"]);n!=null&&m(e,["mask"],mN(n));const r=f(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["labels"],i)}return e}function Cse(t){const e={},n=f(t,["video"]);return n!=null&&m(e,["video"],ple(n)),e}function kse(t){const e={},n=f(t,["_self"]);return n!=null&&m(e,["video"],mle(n)),e}function Pse(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&m(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&m(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=f(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const v=f(t,["responseModalities"]);v!=null&&m(e,["responseModalities"],v);const y=f(t,["responseSchema"]);y!=null&&m(e,["responseSchema"],y);const b=f(t,["routingConfig"]);b!=null&&m(e,["routingConfig"],b);const w=f(t,["seed"]);w!=null&&m(e,["seed"],w);const x=f(t,["speechConfig"]);x!=null&&m(e,["speechConfig"],yN(x));const _=f(t,["stopSequences"]);_!=null&&m(e,["stopSequences"],_);const T=f(t,["temperature"]);T!=null&&m(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&m(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&m(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Ise(t,e){const n={},r=f(e,["model"]);return r!=null&&m(n,["_url","name"],$e(t,r)),n}function Nse(t,e){const n={},r=f(e,["model"]);return r!=null&&m(n,["_url","name"],$e(t,r)),n}function Ose(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Mse(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Rse(t){const e={},n=f(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function $se(t){const e={},n=f(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=f(t,["imageSize"]);r!=null&&m(e,["imageSize"],r);const i=f(t,["outputMimeType"]);i!=null&&m(e,["imageOutputOptions","mimeType"],i);const o=f(t,["outputCompressionQuality"]);return o!=null&&m(e,["imageOutputOptions","compressionQuality"],o),e}function jse(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],$i(n));const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function mN(t){const e={},n=f(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],$i(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Uh(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],$i(n));const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function cr(t){const e={},n=f(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=f(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],$i(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Dse(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],sN(t,s)),r}function Lse(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],sN(t,s)),r}function Use(t,e){const n={},r=f(e,["config"]);return r!=null&&Dse(t,r,n),n}function Bse(t,e){const n={},r=f(e,["config"]);return r!=null&&Lse(t,r,n),n}function Fse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=lN(i);Array.isArray(o)&&(o=o.map(a=>Rv(a))),m(e,["models"],o)}return e}function Vse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=lN(i);Array.isArray(o)&&(o=o.map(a=>$v(a))),m(e,["models"],o)}return e}function zse(t){const e={},n=f(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=f(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=f(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function Rv(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["description"]);i!=null&&m(e,["description"],i);const o=f(t,["version"]);o!=null&&m(e,["version"],o);const a=f(t,["_self"]);a!=null&&m(e,["tunedModelInfo"],ole(a));const s=f(t,["inputTokenLimit"]);s!=null&&m(e,["inputTokenLimit"],s);const l=f(t,["outputTokenLimit"]);l!=null&&m(e,["outputTokenLimit"],l);const u=f(t,["supportedGenerationMethods"]);u!=null&&m(e,["supportedActions"],u);const c=f(t,["temperature"]);c!=null&&m(e,["temperature"],c);const d=f(t,["maxTemperature"]);d!=null&&m(e,["maxTemperature"],d);const h=f(t,["topP"]);h!=null&&m(e,["topP"],h);const g=f(t,["topK"]);g!=null&&m(e,["topK"],g);const v=f(t,["thinking"]);return v!=null&&m(e,["thinking"],v),e}function $v(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["description"]);i!=null&&m(e,["description"],i);const o=f(t,["versionId"]);o!=null&&m(e,["version"],o);const a=f(t,["deployedModels"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>nse(h))),m(e,["endpoints"],d)}const s=f(t,["labels"]);s!=null&&m(e,["labels"],s);const l=f(t,["_self"]);l!=null&&m(e,["tunedModelInfo"],ale(l));const u=f(t,["defaultCheckpointId"]);u!=null&&m(e,["defaultCheckpointId"],u);const c=f(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),m(e,["checkpoints"],d)}return e}function qse(t){const e={},n=f(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&m(e,["fileData"],rse(o));const a=f(t,["functionCall"]);a!=null&&m(e,["functionCall"],ise(a));const s=f(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&m(e,["inlineData"],Pae(l));const u=f(t,["text"]);u!=null&&m(e,["text"],u);const c=f(t,["thought"]);c!=null&&m(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&m(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Gse(t){const e={},n=f(t,["productImage"]);return n!=null&&m(e,["image"],cr(n)),e}function Hse(t,e){const n={},r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=f(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","baseSteps"],i);const o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const a=f(t,["seed"]);e!==void 0&&a!=null&&m(e,["parameters","seed"],a);const s=f(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=f(t,["addWatermark"]);e!==void 0&&u!=null&&m(e,["parameters","addWatermark"],u);const c=f(t,["outputMimeType"]);e!==void 0&&c!=null&&m(e,["parameters","outputOptions","mimeType"],c);const d=f(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","compressionQuality"],d);const h=f(t,["enhancePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h);const g=f(t,["labels"]);return e!==void 0&&g!=null&&m(e,["labels"],g),n}function Wse(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["source"]);i!=null&&Jse(i,n);const o=f(e,["config"]);return o!=null&&Hse(o,n),n}function Kse(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Lh(i))),m(e,["generatedImages"],r)}return e}function Jse(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=f(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],cr(i));const o=f(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Gse(s))),m(e,["instances[0]","productImages"],a)}return n}function Yse(t){const e={},n=f(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],cr(n));const r=f(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=f(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=f(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],zse(o));const a=f(t,["controlImageConfig"]);a!=null&&m(e,["controlImageConfig"],jae(a));const s=f(t,["styleImageConfig"]);s!=null&&m(e,["styleImageConfig"],s);const l=f(t,["subjectImageConfig"]);return l!=null&&m(e,["subjectImageConfig"],l),e}function gN(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function vN(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function Xse(t){const e={},n=f(t,["category"]);if(n!=null&&m(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function Qse(t){const e={},n=f(t,["image"]);return n!=null&&m(e,["image"],cr(n)),e}function Zse(t,e){const n={},r=f(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=f(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const o=f(t,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const a=f(t,["maskDilation"]);e!==void 0&&a!=null&&m(e,["parameters","maskDilation"],a);const s=f(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&m(e,["parameters","binaryColorThreshold"],s);const l=f(t,["labels"]);return e!==void 0&&l!=null&&m(e,["labels"],l),n}function ele(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["source"]);i!=null&&nle(i,n);const o=f(e,["config"]);return o!=null&&Zse(o,n),n}function tle(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ase(i))),m(e,["generatedMasks"],r)}return e}function nle(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],cr(i));const o=f(t,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],Qse(o)),n}function yN(t){const e={},n=f(t,["languageCode"]);n!=null&&m(e,["languageCode"],n);const r=f(t,["voiceConfig"]);if(r!=null&&m(e,["voiceConfig"],r),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function rle(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],ose(n));const r=f(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function ile(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),m(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Ose(s));const l=f(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Mse(l));const u=f(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function wN(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>ase(h))),m(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function ole(t){const e={},n=f(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function ale(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function sle(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function lle(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function ule(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","name"],$e(t,r));const i=f(e,["config"]);return i!=null&&sle(i,n),n}function cle(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["config"]);return i!=null&&lle(i,n),n}function dle(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=f(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&m(e,["parameters","safetySetting"],i);const o=f(t,["personGeneration"]);e!==void 0&&o!=null&&m(e,["parameters","personGeneration"],o);const a=f(t,["includeRaiReason"]);e!==void 0&&a!=null&&m(e,["parameters","includeRaiReason"],a);const s=f(t,["outputMimeType"]);e!==void 0&&s!=null&&m(e,["parameters","outputOptions","mimeType"],s);const l=f(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&m(e,["parameters","outputOptions","compressionQuality"],l);const u=f(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=f(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=f(t,["labels"]);e!==void 0&&d!=null&&m(e,["labels"],d);const h=f(t,["numberOfImages"]);e!==void 0&&h!=null&&m(e,["parameters","sampleCount"],h);const g=f(t,["mode"]);return e!==void 0&&g!=null&&m(e,["parameters","mode"],g),n}function fle(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],$e(t,r));const i=f(e,["image"]);i!=null&&m(n,["instances[0]","image"],cr(i));const o=f(e,["upscaleFactor"]);o!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=f(e,["config"]);return a!=null&&dle(a,n),n}function hle(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Lh(o))),m(e,["generatedImages"],i)}return e}function ple(t){const e={},n=f(t,["uri"]);n!=null&&m(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],$i(r));const i=f(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function mle(t){const e={},n=f(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],$i(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function gle(t){const e={},n=f(t,["image"]);n!=null&&m(e,["_self"],cr(n));const r=f(t,["maskMode"]);return r!=null&&m(e,["maskMode"],r),e}function vle(t){const e={},n=f(t,["image"]);n!=null&&m(e,["image"],Uh(n));const r=f(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function yle(t){const e={},n=f(t,["image"]);n!=null&&m(e,["image"],cr(n));const r=f(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function bN(t){const e={},n=f(t,["uri"]);n!=null&&m(e,["uri"],n);const r=f(t,["videoBytes"]);r!=null&&m(e,["encodedVideo"],$i(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["encoding"],i),e}function xN(t){const e={},n=f(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=f(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],$i(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wle="Content-Type",ble="X-Server-Timeout",xle="User-Agent",jv="x-goog-api-client",_le="1.30.0",Sle=`google-genai-sdk/${_le}`,Ele="v1beta1",Tle="v1beta",ZE=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Ale{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Ele,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Tle,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&Cle(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await eT(i),new Nv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await eT(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Ea(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:s,value:l}=yield tt(i.read());if(s){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(l,{stream:!0});try{const d=JSON.parse(u);if("error"in d){const h=JSON.parse(JSON.stringify(d.error)),g=h.status,v=h.code,y=`got status: ${g}. ${JSON.stringify(d)}`;if(v>=400&&v<600)throw new jh({message:y,status:v})}}catch(d){if(d.name==="ApiError")throw d}a+=u;let c=a.match(ZE);for(;c;){const d=c[1];try{const h=new Response(d,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield tt(new Nv(h)),a=a.slice(c[0].length),c=a.match(ZE)}catch(h){throw new Error(`exception parsing stream chunk ${d}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Sle+" "+this.clientOptions.userAgentExtra;return e[xle]=n,e[jv]=n,e[wle]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(ble,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),c=ne("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&r.customMetadata&&(d.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(d.chunkingConfig=r.chunkingConfig);const h=await this.fetchUploadUrl(u,s,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function eT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new jh({message:i,status:n}):new Error(i)}}function Cle(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kle="mcp_used/unknown";let Ple=!1;function _N(t){for(const e of t)if(Ile(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Ple}function SN(t){var e;const n=(e=t[jv])!==null&&e!==void 0?e:"";t[jv]=(n+` ${kle}`).trimStart()}function Ile(t){return t!==null&&typeof t=="object"&&t instanceof sw}function Nle(t,e=100){return Ea(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield tt(t.listTools({cursor:r}));for(const a of o.tools)yield yield tt(a),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class sw{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new sw(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,xl(Nle(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;a.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Sie(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Ole(t,e,n){const r=new mie;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Mle{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=jle(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(_=>{u=_}),d=e.callbacks,h=function(){u({})},g=this.apiClient,v={onopen:h,onmessage:_=>{Ole(g,d.onmessage,_)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(_){}},y=this.webSocketFactory.create(l,$le(a),v);y.connect(),await c;const x={setup:{model:$e(this.apiClient,e.model)}};return y.send(JSON.stringify(x)),new Rle(y,this.apiClient)}}class Rle{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=bae(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=wae(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ha.PLAY)}pause(){this.sendPlaybackControl(ha.PAUSE)}stop(){this.sendPlaybackControl(ha.STOP)}resetContext(){this.sendPlaybackControl(ha.RESET_CONTEXT)}close(){this.conn.close()}}function $le(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function jle(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dle="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Lle(t,e,n){const r=new pie;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=Sae(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class Ule{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Mle(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&_N(e.config.tools)&&SN(d);const h=zle(d);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c);else{const k=this.apiClient.getApiKey();let N="BidiGenerateContent",O="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${N}?${O}=${k}`}let g=()=>{};const v=new Promise(k=>{g=k}),y=e.callbacks,b=function(){var k;(k=y==null?void 0:y.onopen)===null||k===void 0||k.call(y),g({})},w=this.apiClient,x={onopen:b,onmessage:k=>{Lle(w,y.onmessage,k)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(k){}},_=this.webSocketFactory.create(c,Vle(h),x);_.connect(),await v;let T=$e(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const k=this.apiClient.getProject(),N=this.apiClient.getLocation();T=`projects/${k}/locations/${N}/`+T}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[yf.AUDIO]}:e.config.responseModalities=[yf.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],A=[];for(const k of E)if(this.isCallableTool(k)){const N=k;A.push(await N.tool())}else A.push(k);A.length>0&&(e.config.tools=A);const C={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=yae(this.apiClient,C):S=vae(this.apiClient,C),delete S.config,_.send(JSON.stringify(S)),new Fle(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Ble={turnComplete:!0};class Fle{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Vn(n.turns),e.isVertexAI()||(r=r.map(i=>Dh(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Dle)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Ble),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:_ae(e)}:n={realtimeInput:xae(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Vle(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function zle(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tT=10;function nT(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ta(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ta(t){return"callTool"in t&&typeof t.callTool=="function"}function qle(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Ta(i)))!==null&&r!==void 0?r:!1}function rT(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Ta(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function iT(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gle extends ei{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!qle(n)||nT(n.config))return await this.generateContentInternal(l);const u=rT(n);if(u.length>0){const y=u.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let c,d;const h=Vn(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:tT;let v=0;for(;v<g&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const y=c.candidates[0].content,b=[];for(const w of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Ta(w)){const _=await w.callTool(c.functionCalls);b.push(..._)}v++,d={role:"user",parts:b},l.contents=Vn(l.contents),l.contents.push(y),l.contents.push(d),iT(l.config)&&(h.push(y),h.push(d))}return iT(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),nT(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=rT(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new jo(Kr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>Ta(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&_N(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),SN(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ta(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:tT;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){var h,g;return Ea(this,arguments,function*(){for(var v,y,b,w;s<o;){a&&(s++,a=!1);const S=yield tt(u.processParamsMaybeAddMcpUsage(d)),E=yield tt(u.generateContentStreamInternal(S)),A=[],C=[];try{for(var x=!0,_=(y=void 0,xl(E)),T;T=yield tt(_.next()),v=T.done,!v;x=!0){w=T.value,x=!1;const k=w;if(yield yield tt(k),k.candidates&&(!((h=k.candidates[0])===null||h===void 0)&&h.content)){C.push(k.candidates[0].content);for(const N of(g=k.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(s<o&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(N.functionCall.name)){const O=yield tt(c.get(N.functionCall.name).callTool([N.functionCall]));A.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(k){y={error:k}}finally{try{!x&&!v&&(b=_.return)&&(yield tt(b.call(_)))}finally{if(y)throw y.error}}if(A.length>0){a=!0;const k=new Js;k.candidates=[{content:{role:"user",parts:A}}],yield yield tt(k);const N=[];N.push(...C),N.push({role:"user",parts:A});const O=Vn(d.contents).concat(N);d.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=YE(this.apiClient,e);return s=ne("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=QE(c),h=new Js;return Object.assign(h,d),h})}else{const u=JE(this.apiClient,e);return s=ne("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=XE(c),h=new Js;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=YE(this.apiClient,e);return s=ne("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(d){return Ea(this,arguments,function*(){var h,g,v,y;try{for(var b=!0,w=xl(d),x;x=yield tt(w.next()),h=x.done,!h;b=!0){y=x.value,b=!1;const _=y,T=QE(yield tt(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new Js;Object.assign(S,T),yield yield tt(S)}}catch(_){g={error:_}}finally{try{!b&&!h&&(v=w.return)&&(yield tt(v.call(w)))}finally{if(g)throw g.error}}})})}else{const u=JE(this.apiClient,e);return s=ne("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(d){return Ea(this,arguments,function*(){var h,g,v,y;try{for(var b=!0,w=xl(d),x;x=yield tt(w.next()),h=x.done,!h;b=!0){y=x.value,b=!1;const _=y,T=XE(yield tt(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new Js;Object.assign(S,T),yield yield tt(S)}}catch(_){g={error:_}}finally{try{!b&&!h&&(v=w.return)&&(yield tt(v.call(w)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Zae(this.apiClient,e);return s=ne("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=tse(c),h=new ME;return Object.assign(h,d),h})}else{const u=Qae(this.apiClient,e);return s=ne("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=ese(c),h=new ME;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=fse(this.apiClient,e);return s=ne("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=pse(c),h=new RE;return Object.assign(h,d),h})}else{const u=dse(this.apiClient,e);return s=ne("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=hse(c),h=new RE;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Kae(this.apiClient,e);return o=ne("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Jae(l),c=new rie;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=fle(this.apiClient,e);return o=ne("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=hle(l),c=new iie;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Wse(this.apiClient,e);return o=ne("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Kse(l),c=new oie;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=ele(this.apiClient,e);return o=ne("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=tle(l),c=new aie;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Nse(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>$v(c))}else{const u=Ise(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Rv(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Bse(this.apiClient,e);return s=ne("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Vse(c),h=new $E;return Object.assign(h,d),h})}else{const u=Use(this.apiClient,e);return s=ne("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Fse(c),h=new $E;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=cle(this.apiClient,e);return s=ne("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>$v(c))}else{const u=ule(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Rv(c))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=qae(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Hae(c),h=new jE;return Object.assign(h,d),h})}else{const u=zae(this.apiClient,e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Gae(c),h=new jE;return Object.assign(h,d),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Bae(this.apiClient,e);return s=ne("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Vae(c),h=new DE;return Object.assign(h,d),h})}else{const u=Uae(this.apiClient,e);return s=ne("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Fae(c),h=new DE;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Oae(this.apiClient,e);return o=ne("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Mae(l),c=new sie;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=bse(this.apiClient,e);return s=ne("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=yse(c),h=new wf;return Object.assign(h,d),h})}else{const u=wse(this.apiClient,e);return s=ne("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const d=vse(c),h=new wf;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hle extends ei{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Xre(e);return s=ne("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=Yre(e);return s=ne("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=zre(e);return o=ne("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wle(t){const e={},n=f(t,["data"]);if(n!=null&&m(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Kle(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>rue(o))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function Jle(t,e,n){const r={},i=f(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const o=f(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&m(n,["newSessionExpireTime"],o);const a=f(e,["uses"]);n!==void 0&&a!=null&&m(n,["uses"],a);const s=f(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&m(n,["bidiGenerateContentSetup"],nue(t,s));const l=f(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&m(n,["fieldMask"],l),r}function Yle(t,e){const n={},r=f(e,["config"]);return r!=null&&m(n,["config"],Jle(t,r,n)),n}function Xle(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Qle(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);if(i!=null&&m(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Zle(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function eue(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function tue(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","speechConfig"],aw(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],Kle(Ht(v)));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let E=Ts(y);Array.isArray(E)&&(E=E.map(A=>oue(Es(A)))),m(e,["setup","tools"],E)}const b=f(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],iue(b));const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","inputAudioTranscription"],w);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","outputAudioTranscription"],x);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),n}function nue(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["setup","model"],$e(t,r));const i=f(e,["config"]);return i!=null&&m(n,["config"],tue(i,n)),n}function rue(t){const e={},n=f(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&m(e,["fileData"],Xle(o));const a=f(t,["functionCall"]);a!=null&&m(e,["functionCall"],Qle(a));const s=f(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&m(e,["inlineData"],Wle(l));const u=f(t,["text"]);u!=null&&m(e,["text"],u);const c=f(t,["thought"]);c!=null&&m(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&m(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function iue(t){const e={},n=f(t,["handle"]);if(n!=null&&m(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function oue(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),m(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Zle(s));const l=f(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],eue(l));const u=f(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aue(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function sue(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=aue(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class lue extends ei{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=Yle(this.apiClient,e);o=ne("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=sue(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uue(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["displayName"],r),n}function cue(t){const e={},n=f(t,["config"]);return n!=null&&uue(n,e),e}function due(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function fue(t){const e={},n=f(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&due(r,e),e}function hue(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function pue(t,e){const n={},r=f(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["customMetadata"],o)}const i=f(t,["chunkingConfig"]);return e!==void 0&&i!=null&&m(e,["chunkingConfig"],i),n}function mue(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const a=f(t,["response"]);return a!=null&&m(e,["response"],vue(a)),e}function gue(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=f(t,["fileName"]);r!=null&&m(e,["fileName"],r);const i=f(t,["config"]);return i!=null&&pue(i,e),e}function vue(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&m(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function yue(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function wue(t){const e={},n=f(t,["config"]);return n!=null&&yue(n,e),e}function bue(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["fileSearchStores"],o)}return e}function xue(t,e){const n={},r=f(t,["mimeType"]);e!==void 0&&r!=null&&m(e,["mimeType"],r);const i=f(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),m(e,["customMetadata"],s)}const a=f(t,["chunkingConfig"]);return e!==void 0&&a!=null&&m(e,["chunkingConfig"],a),n}function _ue(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=f(t,["config"]);return r!=null&&xue(r,e),e}function Sue(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Eue(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function Tue(t){const e={},n=f(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&Eue(r,e),e}function Aue(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function Cue(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function kue(t){const e={},n=f(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const r=f(t,["config"]);return r!=null&&Cue(r,e),e}function Pue(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Iue extends ei{constructor(e){super(),this.apiClient=e,this.list=async n=>new jo(Kr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Aue(e);return o=ne("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Tue(e);i=ne("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=kue(e);return o=ne("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Pue(l),c=new lie;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nue extends ei{constructor(e,n=new Iue(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new jo(Kr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=cue(e);return o=ne("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=hue(e);return o=ne("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=fue(e);i=ne("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=wue(e);return o=ne("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=bue(l),c=new uie;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=_ue(e);return o=ne("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Sue(l),c=new cie;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=gue(e);return o=ne("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=mue(l),c=new tw;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oue(t,e){const n={},r=f(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Mue(t,e){const n={},r=f(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Rue(t,e,n){const r={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&m(e,["displayName"],i),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(t,["epochCount"]);e!==void 0&&o!=null&&m(e,["tuningTask","hyperparameters","epochCount"],o);const a=f(t,["learningRateMultiplier"]);if(a!=null&&m(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=f(t,["batchSize"]);e!==void 0&&s!=null&&m(e,["tuningTask","hyperparameters","batchSize"],s);const l=f(t,["learningRate"]);if(e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","learningRate"],l),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function $ue(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=f(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec"],oT(g))}else if(i==="PREFERENCE_TUNING"){const g=f(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec"],oT(g))}const o=f(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&m(e,["tunedModelDisplayName"],o);const a=f(t,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);let s=f(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const g=f(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(s==="PREFERENCE_TUNING"){const g=f(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=f(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=f(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=f(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=f(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=f(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(c==="PREFERENCE_TUNING"){const g=f(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=f(t,["labels"]);e!==void 0&&d!=null&&m(e,["labels"],d);const h=f(t,["beta"]);return e!==void 0&&h!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function jue(t,e){const n={},r=f(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&Wue(o);const a=f(t,["config"]);return a!=null&&Rue(a,n),n}function Due(t,e){const n={},r=f(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&Kue(o,n,e);const a=f(t,["config"]);return a!=null&&$ue(a,n,e),n}function Lue(t,e){const n={},r=f(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Uue(t,e){const n={},r=f(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Bue(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function Fue(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function Vue(t,e){const n={},r=f(t,["config"]);return r!=null&&Bue(r,n),n}function zue(t,e){const n={},r=f(t,["config"]);return r!=null&&Fue(r,n),n}function que(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=f(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>EN(s))),m(n,["tuningJobs"],a)}return n}function Gue(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=f(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Dv(s))),m(n,["tuningJobs"],a)}return n}function Hue(t,e){const n={},r=f(t,["name"]);r!=null&&m(n,["model"],r);const i=f(t,["name"]);return i!=null&&m(n,["endpoint"],i),n}function Wue(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(n,["examples","examples"],i)}return n}function Kue(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function EN(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&m(n,["name"],i);const o=f(t,["state"]);o!=null&&m(n,["state"],oN(o));const a=f(t,["createTime"]);a!=null&&m(n,["createTime"],a);const s=f(t,["tuningTask","startTime"]);s!=null&&m(n,["startTime"],s);const l=f(t,["tuningTask","completeTime"]);l!=null&&m(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const c=f(t,["description"]);c!=null&&m(n,["description"],c);const d=f(t,["baseModel"]);d!=null&&m(n,["baseModel"],d);const h=f(t,["_self"]);return h!=null&&m(n,["tunedModel"],Hue(h)),n}function Dv(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&m(n,["name"],i);const o=f(t,["state"]);o!=null&&m(n,["state"],oN(o));const a=f(t,["createTime"]);a!=null&&m(n,["createTime"],a);const s=f(t,["startTime"]);s!=null&&m(n,["startTime"],s);const l=f(t,["endTime"]);l!=null&&m(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const c=f(t,["error"]);c!=null&&m(n,["error"],c);const d=f(t,["description"]);d!=null&&m(n,["description"],d);const h=f(t,["baseModel"]);h!=null&&m(n,["baseModel"],h);const g=f(t,["tunedModel"]);g!=null&&m(n,["tunedModel"],g);const v=f(t,["preTunedModel"]);v!=null&&m(n,["preTunedModel"],v);const y=f(t,["supervisedTuningSpec"]);y!=null&&m(n,["supervisedTuningSpec"],y);const b=f(t,["preferenceOptimizationSpec"]);b!=null&&m(n,["preferenceOptimizationSpec"],b);const w=f(t,["tuningDataStats"]);w!=null&&m(n,["tuningDataStats"],w);const x=f(t,["encryptionSpec"]);x!=null&&m(n,["encryptionSpec"],x);const _=f(t,["partnerModelTuningSpec"]);_!=null&&m(n,["partnerModelTuningSpec"],_);const T=f(t,["customBaseModel"]);T!=null&&m(n,["customBaseModel"],T);const S=f(t,["experiment"]);S!=null&&m(n,["experiment"],S);const E=f(t,["labels"]);E!=null&&m(n,["labels"],E);const A=f(t,["outputUri"]);A!=null&&m(n,["outputUri"],A);const C=f(t,["pipelineJob"]);C!=null&&m(n,["pipelineJob"],C);const k=f(t,["serviceAccount"]);k!=null&&m(n,["serviceAccount"],k);const N=f(t,["tunedModelDisplayName"]);N!=null&&m(n,["tunedModelDisplayName"],N);const O=f(t,["veoTuningSpec"]);return O!=null&&m(n,["veoTuningSpec"],O),n}function Jue(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&m(n,["name"],i);const o=f(t,["metadata"]);o!=null&&m(n,["metadata"],o);const a=f(t,["done"]);a!=null&&m(n,["done"],a);const s=f(t,["error"]);return s!=null&&m(n,["error"],s),n}function oT(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=f(t,["vertexDatasetResource"]);return i!=null&&m(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yue extends ei{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new jo(Kr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Iv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Uue(e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Dv(c))}else{const u=Lue(e);return s=ne("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>EN(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=zue(e);return s=ne("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Gue(c),h=new LE;return Object.assign(h,d),h})}else{const u=Vue(e);return s=ne("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=que(c),h=new LE;return Object.assign(h,d),h})}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=Mue(e);a=ne("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Oue(e);a=ne("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Due(e,e);return o=ne("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Dv(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=jue(e);return o=ne("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Jue(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xue{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Que=1024*1024*8,Zue=3,ece=1e3,tce=2,xf="x-goog-upload-status";async function nce(t,e,n){var r;const i=await TN(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[xf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function rce(t,e,n){var r;const i=await TN(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[xf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=Z2(o),s=new nw;return Object.assign(s,a),s}async function TN(t,e,n){var r,i;let o=0,a=0,s=new Nv(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min(Que,o-a),c=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let d=0,h=ece;for(;d<Zue&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[xf]));)d++,await oce(h),h=h*tce;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[xf])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function ice(t){return{size:t.size,type:t.type}}function oce(t){return new Promise(e=>setTimeout(e,t))}class ace{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nce(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rce(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ice(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sce{create(e,n,r){return new lce(e,n,r)}}class lce{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aT="x-goog-api-key";class uce{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(aT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(aT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cce="gl-node/";class dce{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Fre(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new uce(this.apiKey);this.apiClient=new Ale({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:cce+"web",uploader:new ace,downloader:new Xue}),this.models=new Gle(this.apiClient),this.live=new Ule(this.apiClient,i,new sce),this.batches=new goe(this.apiClient),this.chats=new Xoe(this.models,this.apiClient),this.caches=new Koe(this.apiClient),this.files=new sae(this.apiClient),this.operations=new Hle(this.apiClient),this.authTokens=new lue(this.apiClient),this.tunings=new Yue(this.apiClient),this.fileSearchStores=new Nue(this.apiClient)}}var sT={};const fce=async t=>{if(!sT.API_KEY)return"API key not configured. Please set the API_KEY environment variable.";try{return(await new dce({apiKey:sT.API_KEY}).models.generateContent({model:"gemini-2.5-flash",contents:t,config:{systemInstruction:"You are an expert business analyst for a POS system. Provide concise, data-driven insights based on the user's query. Format your response as clean markdown."}})).text}catch(e){return console.error("Gemini API error:",e),"Sorry, I couldn't fetch insights at the moment. Please try again later."}},hce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5L12 3m0 0l7.5 7.5M12 3v18"})}),pce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5L12 21m0 0l-7.5-7.5M12 21V3"})}),Ys=({title:t,value:e,change:n,changeType:r,icon:i})=>p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-neutral-500 dark:text-neutral-400",children:t}),p.jsx("p",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100 mt-2",children:e}),p.jsxs("div",{className:"flex items-center mt-2",children:[p.jsxs("span",{className:`flex items-center text-xs font-semibold ${r==="increase"?"text-green-500":"text-red-500"}`,children:[r==="increase"?p.jsx(hce,{className:"w-3 h-3 mr-1"}):p.jsx(pce,{className:"w-3 h-3 mr-1"}),n]}),p.jsx("span",{className:"text-xs text-neutral-400 ml-1",children:"vs last month"})]})]}),p.jsx("div",{className:"bg-primary-100 dark:bg-primary-900/50 text-primary-600 dark:text-primary-400 p-3 rounded-full",children:i})]}),mce=()=>p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[p.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Sales Overview"}),p.jsx("div",{style:{width:"100%",height:300},children:p.jsx(g0,{children:p.jsxs($re,{data:U5,children:[p.jsx(Q0,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.2)"}),p.jsx(_s,{dataKey:"name",tick:{fill:"#94a3b8"}}),p.jsx(Ss,{tick:{fill:"#94a3b8"}}),p.jsx(Rn,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"0.5rem"}}),p.jsx(Ei,{wrapperStyle:{color:"#94a3b8"}}),p.jsx(Uu,{type:"monotone",dataKey:"sales",stroke:"#4f46e5",strokeWidth:2,activeDot:{r:8}})]})})})]}),gce=()=>{const t=["#4f46e5","#6366f1","#818cf8","#a5b4fc"];return p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[p.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Top Selling Products"}),p.jsx("div",{style:{width:"100%",height:300},className:"flex items-center justify-center",children:p.jsx(g0,{children:p.jsxs(Dre,{children:[p.jsx(Zr,{data:Ib,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:Ib.map((e,n)=>p.jsx(dh,{fill:t[n%t.length]},`cell-${n}`))}),p.jsx(Rn,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"0.5rem"}}),p.jsx(Ei,{wrapperStyle:{color:"#94a3b8"}})]})})})]})},vce=()=>p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[p.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Recent Activity"}),p.jsx("ul",{className:"space-y-4",children:B5.map(t=>p.jsxs("li",{className:"flex items-center",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/50 flex items-center justify-center mr-4",children:p.jsx("span",{className:"text-sm font-bold text-primary-600 dark:text-primary-300",children:t.user.charAt(0)})}),p.jsxs("div",{children:[p.jsxs("p",{className:"text-sm text-neutral-700 dark:text-neutral-200",children:[p.jsx("span",{className:"font-semibold",children:t.user})," ",t.action.toLowerCase()]}),p.jsx("p",{className:"text-xs text-neutral-400",children:new Date(t.timestamp).toLocaleTimeString()})]})]},t.id))})]}),yce=({products:t,sales:e})=>{const[n,r]=I.useState(""),[i,o]=I.useState(""),[a,s]=I.useState(!1),l=async()=>{if(!n.trim())return;s(!0);const c=`${`Context: ${t.length} products in inventory, ${e.length} total sales records.`}
${n}`,d=await fce(c);o(d),s(!1)};return p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[p.jsxs("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4 flex items-center",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 mr-2 text-primary-500",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.553L16.5 21.75l-.398-1.197a3.375 3.375 0 00-2.456-2.456L12.75 18l1.197-.398a3.375 3.375 0 002.456-2.456L17.25 14.25l.398 1.197a3.375 3.375 0 002.456 2.456L21 18l-1.197.398a3.375 3.375 0 00-2.456 2.456z"})}),"AI-Powered Insights"]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),placeholder:"e.g., 'Summarize today's performance'",className:"flex-grow bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:outline-none",disabled:a}),p.jsx("button",{onClick:l,disabled:a,className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 disabled:bg-primary-400 disabled:cursor-not-allowed transition-colors",children:a?"Thinking...":"Ask"})]}),i&&p.jsx("div",{className:"mt-4 p-4 bg-neutral-50 dark:bg-neutral-900 rounded-lg prose prose-sm dark:prose-invert max-w-none",children:p.jsx("p",{children:i})})]})},wce=({products:t})=>{const e=t.filter(r=>typeof r.lowStockThreshold<"u"&&r.stock<=r.lowStockThreshold).sort((r,i)=>r.stock-i.stock),n=r=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...r,children:p.jsx("path",{fillRule:"evenodd",d:"M8.485 3.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 3.495zM10 6a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 6zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})});return p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md h-full",children:[p.jsxs("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4 flex items-center",children:[p.jsx(n,{className:"h-6 w-6 mr-2 text-yellow-500"}),"Low Stock Alerts"]}),e.length>0?p.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:e.map(r=>p.jsxs("li",{className:"flex justify-between items-center text-sm p-2 rounded-md bg-neutral-50 dark:bg-neutral-700/50",children:[p.jsx("span",{className:"text-neutral-700 dark:text-neutral-200 font-medium",children:r.name}),p.jsxs("span",{className:"font-semibold text-red-500",children:[r.stock," ",r.unit||"items"," left"]})]},r.id))}):p.jsxs("div",{className:"text-center text-neutral-500 dark:text-neutral-400 py-8 flex flex-col items-center justify-center h-full",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mb-2 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.jsx("p",{children:"All stock levels are healthy."})]})]})},{ChartBarIcon:bce,UsersIcon:xce,CubeIcon:_ce,ShoppingCartIcon:Sce,KeyIcon:Ece}=Po,Tce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0"})}),Ace=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Cce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...t,children:p.jsx("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z",clipRule:"evenodd"})}),kce=({isOpen:t,onClose:e,userWidgets:n,onWidgetChange:r,t:i})=>t?p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-md",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Customize Dashboard"}),p.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:p.jsx(Ace,{className:"w-6 h-6"})})]}),p.jsx("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto",children:R5.map(o=>p.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-neutral-50 dark:bg-neutral-700/50",children:[p.jsx("span",{className:"font-medium text-neutral-800 dark:text-neutral-100",children:i(o.name)}),p.jsx("input",{type:"checkbox",checked:!!n[o.id],onChange:a=>r(o.id,a.target.checked),className:"h-5 w-5 rounded border-neutral-300 text-primary-600 focus:ring-primary-500"})]},o.id))}),p.jsx("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700",children:p.jsx("button",{onClick:e,className:"bg-primary-600 text-white font-semibold px-5 py-2.5 rounded-lg hover:bg-primary-700 transition-colors",children:"Done"})})]})}):null,Pce=({featureName:t})=>p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md h-full flex flex-col items-center justify-center text-center relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-neutral-50 dark:bg-neutral-700/30 opacity-50"}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("div",{className:"w-12 h-12 bg-neutral-200 dark:bg-neutral-700 text-neutral-400 dark:text-neutral-500 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx(Cce,{className:"w-6 h-6"})}),p.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-1",children:t}),p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"This feature is available in Premium & Enterprise plans."}),p.jsx("button",{className:"mt-4 text-sm font-semibold bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Upgrade Now"})]})]}),Ice=({products:t,sales:e,user:n,onWidgetChange:r,formatCurrency:i,t:o,activeLicense:a,licenseKeys:s})=>{var v;const[l,u]=P.useState(!1),{dashboardWidgets:c}=n,d=Object.values(c).filter(Boolean).length,h=s.length,g=s.filter(y=>y.status==="Active").length;return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:o("Dashboard")}),p.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-white dark:bg-neutral-700/80 border border-neutral-200 dark:border-neutral-600 text-neutral-700 dark:text-neutral-200 font-semibold px-4 py-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-600 transition-colors",children:[p.jsx(Tce,{className:"w-5 h-5"}),"Customize"]})]}),d===0&&p.jsxs("div",{className:"text-center py-20 bg-white dark:bg-neutral-800 rounded-lg shadow-md",children:[p.jsx("h2",{className:"text-xl font-semibold",children:"Your dashboard is empty!"}),p.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 mt-2",children:'Click the "Customize" button to add widgets.'})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.totalRevenue&&p.jsx(Ys,{title:o("Total Revenue"),value:i(75231.89),change:"+12.5%",changeType:"increase",icon:p.jsx(bce,{className:"w-6 h-6"})}),c.newCustomers&&p.jsx(Ys,{title:o("New Customers"),value:"1,204",change:"+8.2%",changeType:"increase",icon:p.jsx(xce,{className:"w-6 h-6"})}),c.productsSold&&p.jsx(Ys,{title:o("Products Sold"),value:"5,890",change:"-1.7%",changeType:"decrease",icon:p.jsx(_ce,{className:"w-6 h-6"})}),c.todaysTransactions&&p.jsx(Ys,{title:o("Todays Transactions"),value:"23",change:"+5",changeType:"increase",icon:p.jsx(Sce,{className:"w-6 h-6"})}),c.licenseActivations&&p.jsx(Ys,{title:o("License Activations"),value:`${g} / ${h}`,change:`${h>0?(g/h*100).toFixed(0):0}% Active`,changeType:"increase",icon:p.jsx(Ece,{className:"w-6 h-6"})})]}),(c.salesOverview||c.topProducts)&&p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.salesOverview&&p.jsx("div",{className:"lg:col-span-2",children:p.jsx(mce,{})}),c.topProducts&&p.jsx("div",{className:c.salesOverview?"":"lg:col-span-3",children:p.jsx(gce,{})})]}),(c.recentActivity||c.lowStockAlerts||c.aiInsights)&&p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(c.recentActivity||c.lowStockAlerts)&&p.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.recentActivity&&p.jsx(vce,{}),c.lowStockAlerts&&p.jsx(wce,{products:t})]}),c.aiInsights&&p.jsx("div",{className:c.recentActivity||c.lowStockAlerts?"lg:col-span-2":"lg:col-span-3",children:(v=a==null?void 0:a.enabledFeatures)!=null&&v.includes("AI_INSIGHTS")?p.jsx(yce,{products:t,sales:e}):p.jsx(Pce,{featureName:"AI-Powered Insights"})})]}),p.jsx(kce,{isOpen:l,onClose:()=>u(!1),userWidgets:c,onWidgetChange:r,t:o})]})},{BanknotesIcon:Nce,TagIcon:Oce,UserGroupIcon:lT,ChatBubbleLeftRightIcon:Mce,PrinterIcon:Rce,ShoppingCartIcon:$ce,CubeIcon:uT}=Po,jce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),cT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m6-6H6"})}),Dce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12H6"})}),dT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Lce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Uce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Bce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})}),Fce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),Vce=({user:t,customers:e,products:n,onAddSale:r,onAddCustomer:i,heldCarts:o,setHeldCarts:a,formatCurrency:s,t:l,businessName:u,activeStoreId:c,taxRate:d})=>{const[h,g]=P.useState([]),[v,y]=P.useState(""),[b,w]=P.useState(null),[x,_]=P.useState(!1),[T,S]=P.useState(!1),[E,A]=P.useState(!1),[C,k]=P.useState(!1),[N,O]=P.useState(!1),[R,D]=P.useState(!1),[U,j]=P.useState(null),[M,L]=P.useState(""),[$,B]=P.useState("Cash"),[q,Y]=P.useState(""),[W,re]=P.useState(""),[pe,xe]=P.useState(!1),[ke,st]=P.useState(null),[je,Q]=P.useState("percentage"),[fe,we]=P.useState(""),[H,Te]=P.useState(""),[G,me]=P.useState(!1),[V,se]=P.useState({name:"",phone:"",email:""}),he=t.role===ce.Viewer,it=P.useMemo(()=>n.filter(z=>z.name.toLowerCase().includes(v.toLowerCase())||z.sku.toLowerCase().includes(v.toLowerCase())),[n,v]),Xe=P.useMemo(()=>H?e.filter(z=>z.name.toLowerCase().includes(H.toLowerCase())||z.phone.includes(H)):[],[e,H]),ht=z=>{let le=z.price;return z.discountType==="percentage"&&z.discountValue?le=le-le*(z.discountValue/100):z.discountType==="amount"&&z.discountValue&&(le=le-z.discountValue),Math.max(0,le)},xt=P.useMemo(()=>h.reduce((z,le)=>z+ht(le)*le.quantity,0),[h]),on=P.useMemo(()=>{if(pe&&b){const z=b.loyaltyPoints*Ob;return Math.min(z,xt)}return 0},[pe,b,xt]),Kn=(xt-on)*(d/100),It=xt-on+Kn,hn=z=>{if(!he){if(z.stock<=0){alert(l("Out of Stock"));return}g(le=>{const Ie=le.find(Ve=>Ve.id===z.id);return Ie?Ie.quantity>=z.stock?(alert(l("Stock Limit Exceeded")),le):le.map(Ve=>Ve.id===z.id?{...Ve,quantity:Ve.quantity+1}:Ve):[...le,{...z,quantity:1}]})}},Di=(z,le)=>{he||g(Ie=>Ie.map(Ve=>{if(Ve.id===z){const dr=Ve.quantity+le,Li=n.find(Ar=>Ar.id===z);return Li&&le>0&&dr>Li.stock?(alert(l("Stock Limit Exceeded")),Ve):{...Ve,quantity:Math.max(1,dr)}}return Ve}))},Vh=z=>{he||g(le=>le.filter(Ie=>Ie.id!==z))},Is=()=>{he||(g([]),w(null),Te(""),xe(!1))},zh=z=>{var Ie;if(he)return;st(z);const le=h[z];Q(le.discountType||"percentage"),we(((Ie=le.discountValue)==null?void 0:Ie.toString())||""),D(!0)},qh=()=>{if(ke!==null){const z=parseFloat(fe);g(le=>le.map((Ie,Ve)=>Ve===ke?{...Ie,discountType:je,discountValue:isNaN(z)?0:z}:Ie)),D(!1),st(null)}},Fu=z=>{w(z),Te(z.name),re(z.phone),me(!1)},Vu=z=>{z.preventDefault();const le=i({...V,loyaltyPoints:0,dueAmount:0,creditLimit:500,storeId:c});w(le),Te(le.name),re(le.phone),O(!1),se({name:"",phone:"",email:""})},Gh=()=>{if(h.length===0||he)return;const z={id:`hc${Date.now()}`,items:h,customer:b,timestamp:new Date().toISOString(),note:q};a(le=>[z,...le]),Is(),A(!1),Y("")},lt=z=>{he||(g(z.items),w(z.customer),z.customer&&Te(z.customer.name),a(le=>le.filter(Ie=>Ie.id!==z.id)),k(!1))},Hh=z=>{he||a(le=>le.filter(Ie=>Ie.id!==z))},Wh=()=>{if(!he){if(c==="global"){alert("Please select a specific store before making a sale.");return}L(It.toFixed(2)),_(!0)}},Kh=()=>{const z=parseFloat(M),le=$==="Credit",Ie=!le&&z<It;if(le){if(!b){alert("Cannot process credit sale without a customer.");return}const Ar=b.dueAmount+It;if(b.creditLimit&&Ar>b.creditLimit){alert(`Credit limit exceeded! Limit: ${s(b.creditLimit)}, Current Due: ${s(b.dueAmount)}, New Total Due would be: ${s(Ar)}`);return}}const Ve=le?"Credit":Ie?"Partial":$,Li={id:`s${Date.now()}`,total:It,date:new Date().toISOString(),cashier:t.name,cashierId:t.id,items:h.reduce((Ar,Xh)=>Ar+Xh.quantity,0),customerId:(b==null?void 0:b.id)||"guest",customerName:(b==null?void 0:b.name)||"Guest",amountPaid:le?0:z,paymentMethod:Ve,organizationId:t.organizationId,storeId:c};r(Li,h),j(Li),_(!1),S(!0),Is()},Jh=()=>{if(!U)return;const z=h.map(Ie=>`${Ie.quantity}x ${Ie.name} (${s(ht(Ie))})`).join("%0a"),le=`*Invoice from ${u}*%0aDate: ${new Date().toLocaleDateString()}%0a%0a${z}%0a%0a*Total: ${s(U.total)}*%0aThank you for your business!`;window.open(`https://wa.me/${W}?text=${le}`,"_blank")},Qe=()=>{window.print()},Yh=z=>{if(z.key==="Enter"){const le=v.trim().toLowerCase();if(!le)return;const Ie=n.find(dr=>dr.sku.toLowerCase()===le);if(Ie){hn(Ie),y("");return}const Ve=n.find(dr=>dr.name.toLowerCase()===le);if(Ve){hn(Ve),y("");return}it.length===1&&(hn(it[0]),y(""))}};return p.jsxs("div",{className:"flex flex-col h-full md:flex-row gap-6 overflow-hidden",children:[p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white dark:bg-neutral-800 rounded-xl shadow-md",children:[p.jsx("div",{className:"p-4 border-b dark:border-neutral-700 flex flex-col gap-3",children:p.jsxs("div",{className:"relative",children:[p.jsx(jce,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),p.jsx("input",{type:"text",placeholder:l("Search"),value:v,onChange:z=>y(z.target.value),onKeyDown:Yh,autoFocus:!0,className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg pl-10 pr-4 py-3 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[it.map(z=>{const le=z.stock<=0;return p.jsxs("div",{onClick:()=>!le&&!he&&hn(z),className:`bg-neutral-50 dark:bg-neutral-700/50 p-3 rounded-lg border border-neutral-200 dark:border-neutral-700 transition-all flex flex-col items-center text-center group ${le?"opacity-60 cursor-not-allowed bg-neutral-200 dark:bg-neutral-800":he?"cursor-default":"cursor-pointer hover:shadow-md hover:border-primary-300"}`,children:[p.jsx("div",{className:"w-20 h-20 mb-3 rounded-md bg-white dark:bg-neutral-600 flex items-center justify-center overflow-hidden",children:z.imageUrl?p.jsx("img",{src:z.imageUrl,alt:z.name,className:`w-full h-full object-cover ${le?"grayscale":""}`}):p.jsx(uT,{className:"w-8 h-8 text-neutral-300 group-hover:text-primary-500 transition-colors"})}),p.jsx("h3",{className:"font-semibold text-sm text-neutral-800 dark:text-neutral-100 line-clamp-2",children:z.name}),p.jsx("p",{className:"text-primary-600 dark:text-primary-400 font-bold mt-1",children:s(z.price)}),p.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:[z.stock," in stock"]}),le&&p.jsx("span",{className:"text-xs font-bold text-red-500 mt-1",children:l("Out of Stock")})]},z.id)}),it.length===0&&p.jsx("div",{className:"col-span-full text-center py-10 text-neutral-500",children:"No products found."})]})})]}),p.jsxs("div",{className:"w-full md:w-96 flex flex-col bg-white dark:bg-neutral-800 rounded-xl shadow-md h-full overflow-hidden",children:[p.jsxs("div",{className:"p-4 border-b dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-700/30",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("h2",{className:"font-bold text-lg",children:l("Current Order")}),p.jsxs("div",{className:"flex gap-1",children:[o.length>0&&!he&&p.jsxs("button",{onClick:()=>k(!0),className:"relative p-2 text-primary-600 hover:bg-primary-50 rounded-full",title:"View Held Orders",children:[p.jsx(Uce,{className:"w-5 h-5"}),p.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 rounded-full"})]}),p.jsx("button",{onClick:()=>h.length>0&&A(!0),disabled:h.length===0||he,className:"text-xs font-medium bg-amber-100 text-amber-800 px-2 py-1 rounded hover:bg-amber-200 disabled:opacity-50",children:l("Hold")}),p.jsx("button",{onClick:Is,disabled:he,className:"text-xs font-medium bg-red-100 text-red-800 px-2 py-1 rounded hover:bg-red-200 disabled:opacity-50",children:l("Clear Cart")})]})]}),p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:"relative flex-grow",children:[p.jsx(lT,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400"}),p.jsx("input",{type:"text",placeholder:"Walk-in Customer",value:H,onChange:z=>{Te(z.target.value),me(!0),z.target.value===""&&w(null)},className:"w-full text-sm bg-white dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded-lg pl-9 pr-8 py-2 focus:ring-1 focus:ring-primary-500 focus:outline-none"}),b&&!he&&p.jsx("button",{onClick:()=>{w(null),Te("")},className:"absolute right-2 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-red-500",children:p.jsx(Lce,{className:"w-4 h-4"})})]}),!he&&p.jsx("button",{onClick:()=>O(!0),className:"bg-primary-600 text-white p-2 rounded-lg hover:bg-primary-700",children:p.jsx(cT,{className:"w-5 h-5"})})]}),G&&Xe.length>0&&p.jsx("div",{className:"absolute top-full left-0 right-0 z-20 mt-1 bg-white dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Xe.map(z=>p.jsxs("div",{onClick:()=>Fu(z),className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-600 cursor-pointer border-b border-neutral-100 dark:border-neutral-600 last:border-0",children:[p.jsx("p",{className:"font-semibold text-sm text-neutral-800 dark:text-neutral-200",children:z.name}),p.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:z.phone})]},z.id))})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:h.length===0?p.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-neutral-400",children:[p.jsx($ce,{className:"w-12 h-12 mb-2 opacity-50"}),p.jsx("p",{children:"Cart is empty"})]}):h.map((z,le)=>{const Ie=ht(z),Ve=Ie<z.price;return p.jsxs("div",{className:"flex items-center gap-3 bg-neutral-50 dark:bg-neutral-700/30 p-2 rounded-lg border border-neutral-100 dark:border-neutral-700/50",children:[p.jsx("div",{className:"w-12 h-12 bg-white dark:bg-neutral-600 rounded-md flex items-center justify-center flex-shrink-0 overflow-hidden border border-neutral-200 dark:border-neutral-600",children:z.imageUrl?p.jsx("img",{src:z.imageUrl,alt:z.name,className:"w-full h-full object-cover"}):p.jsx(uT,{className:"w-6 h-6 text-neutral-300"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h4",{className:"text-sm font-medium truncate text-neutral-800 dark:text-neutral-100",children:z.name}),p.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[Ve&&p.jsx("span",{className:"text-neutral-400 line-through",children:s(z.price)}),p.jsx("span",{className:"font-semibold text-primary-600 dark:text-primary-400",children:s(Ie)}),Ve&&p.jsx("span",{className:"text-green-600 bg-green-100 dark:bg-green-900/50 px-1 rounded text-[10px]",children:z.discountType==="percentage"?`-${z.discountValue}%`:`-${s(z.discountValue||0)}`})]})]}),!he&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"flex items-center bg-white dark:bg-neutral-700 rounded border border-neutral-300 dark:border-neutral-600",children:[p.jsx("button",{onClick:()=>z.quantity>1?Di(z.id,-1):Vh(z.id),className:"p-1 hover:bg-neutral-100 dark:hover:bg-neutral-600 text-neutral-600 dark:text-neutral-300",children:p.jsx(Dce,{className:"w-3 h-3"})}),p.jsx("span",{className:"w-6 text-center text-sm font-medium",children:z.quantity}),p.jsx("button",{onClick:()=>Di(z.id,1),className:"p-1 hover:bg-neutral-100 dark:hover:bg-neutral-600 text-neutral-600 dark:text-neutral-300",children:p.jsx(cT,{className:"w-3 h-3"})})]}),p.jsx("button",{onClick:()=>zh(le),className:`p-1.5 rounded ${Ve?"bg-green-100 text-green-700":"bg-neutral-200 text-neutral-600"} hover:opacity-80`,title:"Apply Discount",children:p.jsx(Oce,{className:"w-4 h-4"})})]}),he&&p.jsx("div",{className:"flex items-center",children:p.jsxs("span",{className:"text-sm font-medium text-neutral-500",children:["x",z.quantity]})})]},`${z.id}-${le}`)})}),p.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-700/30 border-t dark:border-neutral-700 space-y-2",children:[p.jsxs("div",{className:"flex justify-between text-sm text-neutral-600 dark:text-neutral-400",children:[p.jsx("span",{children:l("Subtotal")}),p.jsx("span",{children:s(xt)})]}),pe&&on>0&&p.jsxs("div",{className:"flex justify-between text-sm text-green-600 font-medium",children:[p.jsx("span",{children:"Loyalty Discount"}),p.jsxs("span",{children:["-",s(on)]})]}),p.jsxs("div",{className:"flex justify-between text-sm text-neutral-600 dark:text-neutral-400",children:[p.jsxs("span",{children:[l("Tax")," (",d,"%)"]}),p.jsx("span",{children:s(Kn)})]}),p.jsxs("div",{className:"flex justify-between text-xl font-bold text-neutral-900 dark:text-neutral-100 pt-2 border-t border-neutral-200 dark:border-neutral-700",children:[p.jsx("span",{children:l("Total")}),p.jsx("span",{children:s(It)})]}),p.jsxs("button",{onClick:Wh,disabled:h.length===0||he,className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:[l("Charge")," ",s(It)]})]})]}),x&&p.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center p-4 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-2xl w-full max-w-md overflow-hidden",children:[p.jsxs("div",{className:"bg-primary-600 p-4 flex justify-between items-center",children:[p.jsx("h3",{className:"text-white font-bold text-lg",children:"Payment"}),p.jsx("button",{onClick:()=>_(!1),className:"text-primary-200 hover:text-white",children:p.jsx(dT,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:"Total Amount Due"}),p.jsx("p",{className:"text-4xl font-bold text-neutral-800 dark:text-neutral-100",children:s(It)})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[p.jsxs("button",{onClick:()=>B("Cash"),className:`flex flex-col items-center justify-center p-3 rounded-lg border ${$==="Cash"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"}`,children:[p.jsx(Nce,{className:"w-6 h-6 mb-1"}),p.jsx("span",{className:"text-xs font-semibold",children:"Cash"})]}),p.jsxs("button",{onClick:()=>B("Card"),className:`flex flex-col items-center justify-center p-3 rounded-lg border ${$==="Card"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"}`,children:[p.jsx(Bce,{className:"w-6 h-6 mb-1"}),p.jsx("span",{className:"text-xs font-semibold",children:"Card"})]}),p.jsxs("button",{onClick:()=>B("Credit"),disabled:!b,className:`flex flex-col items-center justify-center p-3 rounded-lg border ${$==="Credit"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"} ${b?"":"opacity-50 cursor-not-allowed"}`,children:[p.jsx(lT,{className:"w-6 h-6 mb-1"}),p.jsx("span",{className:"text-xs font-semibold",children:"Credit"})]})]}),b&&b.loyaltyPoints>0&&p.jsxs("div",{className:"mb-4 p-3 bg-neutral-50 dark:bg-neutral-700 rounded-lg flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"flex items-center justify-center w-6 h-6 bg-yellow-100 text-yellow-600 rounded-full text-xs font-bold",children:""}),p.jsxs("div",{className:"text-sm",children:[p.jsxs("p",{className:"font-semibold",children:[b.loyaltyPoints," Points"]}),p.jsxs("p",{className:"text-xs text-neutral-500",children:["Value: ",s(b.loyaltyPoints*Ob)]})]})]}),p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:pe,onChange:z=>xe(z.target.checked),className:"sr-only peer"}),p.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-neutral-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-primary-600"})]})]}),$==="Cash"&&p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount Received"}),p.jsx("input",{type:"number",value:M,onChange:z=>L(z.target.value),className:"w-full text-xl p-3 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:outline-none",autoFocus:!0}),parseFloat(M)>It&&p.jsxs("div",{className:"mt-2 text-right text-green-600 font-bold",children:["Change: ",s(parseFloat(M)-It)]})]}),p.jsx("button",{onClick:Kh,className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors text-lg",children:"Confirm Payment"})]})]})}),T&&U&&p.jsxs("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center p-4 backdrop-blur-sm print:hidden",children:[p.jsx("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-2xl w-full max-w-sm overflow-hidden",children:p.jsxs("div",{className:"p-6 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(Fce,{className:"w-8 h-8"})}),p.jsx("h3",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100 mb-1",children:l("Payment Success")}),p.jsxs("div",{className:"mb-4",children:[p.jsx("h4",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:u}),p.jsxs("p",{className:"text-neutral-500 text-xs",children:["Invoice #",U.id]})]}),p.jsxs("div",{className:"my-6 py-4 border-y border-dashed border-neutral-300 dark:border-neutral-600",children:[p.jsxs("div",{className:"flex justify-between mb-2 text-sm",children:[p.jsx("span",{children:"Amount Paid"}),p.jsx("span",{className:"font-bold",children:s(U.amountPaid)})]}),p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{children:"Change"}),p.jsx("span",{className:"font-bold",children:s(Math.max(0,parseFloat(M||"0")-U.total))})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("button",{onClick:Qe,className:"w-full flex items-center justify-center gap-2 bg-neutral-800 text-white py-3 rounded-lg hover:bg-neutral-900 font-semibold",children:[p.jsx(Rce,{className:"w-5 h-5"}),"Print Receipt"]}),p.jsxs("button",{onClick:Jh,className:"w-full flex items-center justify-center gap-2 bg-green-500 text-white py-3 rounded-lg hover:bg-green-600 font-semibold",children:[p.jsx(Mce,{className:"w-5 h-5"}),"WhatsApp Invoice"]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-3 bg-neutral-200 dark:bg-neutral-700 text-neutral-800 dark:text-neutral-200 rounded-lg font-bold hover:opacity-80",children:"OK"}),p.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-3 bg-primary-100 text-primary-800 dark:bg-primary-900/40 dark:text-primary-300 rounded-lg font-bold hover:bg-primary-200",children:"New Sale"})]})]})]})}),p.jsx("div",{className:"hidden print:block print:fixed print:inset-0 print:bg-white print:p-4 text-black",children:p.jsxs("div",{className:"text-center font-mono text-sm",children:[p.jsx("h1",{className:"text-xl font-bold mb-2",children:u}),p.jsxs("p",{children:["Date: ",new Date().toLocaleString()]}),p.jsxs("p",{children:["Sale ID: ",U.id]}),p.jsxs("p",{children:["Cashier: ",U.cashier]}),p.jsx("div",{className:"border-b border-black my-2"}),p.jsx("div",{className:"text-left",children:p.jsxs("p",{children:["Total Items: ",U.items]})}),p.jsx("div",{className:"border-b border-black my-2"}),p.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[p.jsx("span",{children:"Total"}),p.jsx("span",{children:s(U.total)})]}),p.jsx("p",{className:"mt-4",children:"Thank you!"})]})})]}),R&&ke!==null&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-xs shadow-xl",children:[p.jsx("h3",{className:"font-bold text-lg mb-4",children:"Apply Discount"}),p.jsxs("div",{className:"flex gap-2 mb-4",children:[p.jsx("button",{onClick:()=>Q("percentage"),className:`flex-1 py-2 rounded text-sm font-medium ${je==="percentage"?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600"}`,children:"Percentage (%)"}),p.jsx("button",{onClick:()=>Q("amount"),className:`flex-1 py-2 rounded text-sm font-medium ${je==="amount"?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600"}`,children:"Fixed ($)"})]}),p.jsx("input",{type:"number",value:fe,onChange:z=>we(z.target.value),placeholder:"Value",className:"w-full border border-neutral-300 rounded-lg p-2 mb-4",autoFocus:!0}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),p.jsx("button",{onClick:qh,className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Apply"})]})]})}),E&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-sm shadow-xl",children:[p.jsx("h3",{className:"font-bold text-lg mb-4",children:"Hold Order"}),p.jsx("textarea",{value:q,onChange:z=>Y(z.target.value),placeholder:"Optional note (e.g. Customer forgot wallet)",className:"w-full border border-neutral-300 dark:border-neutral-600 dark:bg-neutral-700 rounded-lg p-3 mb-4 h-24 resize-none"}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),p.jsx("button",{onClick:Gh,className:"px-4 py-2 bg-amber-500 text-white rounded hover:bg-amber-600",children:"Hold Order"})]})]})}),C&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-md shadow-xl h-[80vh] flex flex-col",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h3",{className:"font-bold text-lg",children:"Held Orders"}),p.jsx("button",{onClick:()=>k(!1),children:p.jsx(dT,{className:"w-6 h-6"})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:o.length===0?p.jsx("p",{className:"text-center text-neutral-500 mt-10",children:"No held orders."}):o.map(z=>{var le;return p.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-700 p-3 rounded-lg border border-neutral-200 dark:border-neutral-600",children:[p.jsxs("div",{className:"flex justify-between mb-2",children:[p.jsx("span",{className:"font-bold",children:((le=z.customer)==null?void 0:le.name)||"Walk-in"}),p.jsx("span",{className:"text-xs text-neutral-500",children:new Date(z.timestamp).toLocaleTimeString()})]}),p.jsxs("p",{className:"text-xs text-neutral-600 dark:text-neutral-300 mb-2",children:[z.items.length," items  Note: ",z.note||"None"]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>lt(z),className:"flex-1 bg-primary-600 text-white py-1.5 rounded text-sm hover:bg-primary-700",children:"Resume"}),p.jsx("button",{onClick:()=>Hh(z.id),className:"px-3 bg-red-100 text-red-600 rounded text-sm hover:bg-red-200",children:"Discard"})]})]},z.id)})})]})}),N&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-sm shadow-xl",children:[p.jsx("h3",{className:"font-bold text-lg mb-4",children:"Add New Customer"}),p.jsxs("form",{onSubmit:Vu,className:"space-y-3",children:[p.jsx("input",{type:"text",required:!0,placeholder:"Name",value:V.name,onChange:z=>se({...V,name:z.target.value}),className:"w-full border p-2 rounded"}),p.jsx("input",{type:"text",placeholder:"Phone",value:V.phone,onChange:z=>se({...V,phone:z.target.value}),className:"w-full border p-2 rounded"}),p.jsx("input",{type:"email",placeholder:"Email",value:V.email,onChange:z=>se({...V,email:z.target.value}),className:"w-full border p-2 rounded"}),p.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[p.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),p.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Create"})]})]})]})})]})},zce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),qce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),fT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),Gce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),{BanknotesIcon:Hce,ArrowUpTrayIcon:Wce,QrCodeIcon:Kce}=Po,Gc=({children:t,title:e,onClose:n})=>p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-md max-h-full overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700 sticky top-0 bg-white dark:bg-neutral-800",children:[p.jsx("h3",{className:"text-lg font-semibold",children:e}),p.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:p.jsx(Gce,{className:"w-6 h-6"})})]}),t]})}),Jce=({items:t,onClose:e})=>{const n=()=>{const r=document.getElementById("label-sheet"),i="about:blank",a="Print"+new Date().getTime(),s=window.open(i,a,"width=800,height=600");s&&r&&(s.document.write(`
                <html>
                    <head>
                        <title>Print Labels</title>
                        <style>
                            body { font-family: sans-serif; padding: 20px; }
                            .label-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
                            .label { border: 1px dashed #ccc; padding: 10px; text-align: center; border-radius: 5px; }
                            .sku { font-family: monospace; letter-spacing: 2px; font-weight: bold; margin-top: 5px; display: block;}
                            @media print {
                                body { padding: 0; }
                                .label { break-inside: avoid; }
                            }
                        </style>
                    </head>
                    <body>${r.innerHTML}</body>
                </html>
            `),s.document.close(),s.focus(),s.print(),s.close())};return p.jsx(Gc,{title:"Print Barcode Labels",onClose:e,children:p.jsxs("div",{className:"p-6",children:[p.jsxs("p",{className:"mb-4 text-sm text-neutral-500",children:["Preview of labels for ",t.length," selected items."]}),p.jsx("div",{id:"label-sheet",className:"max-h-60 overflow-y-auto bg-neutral-100 p-4 rounded border mb-4",children:p.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.map(r=>p.jsxs("div",{className:"bg-white p-2 text-center border border-neutral-300 rounded text-xs",children:[p.jsx("div",{className:"font-bold truncate",children:r.name}),p.jsxs("div",{children:["$",r.price]}),p.jsx("div",{className:"font-mono font-bold mt-1 tracking-widest text-sm",children:r.sku})]},r.id))})}),p.jsx("button",{onClick:n,className:"w-full bg-primary-600 text-white py-2 rounded hover:bg-primary-700",children:"Print Now"})]})})},Vo=({dataType:t,data:e,columns:n,formFields:r,onAdd:i,onUpdate:o,onDelete:a,customActions:s,t:l,formatCurrency:u,canAddNew:c=!0,canEdit:d=!0,canDelete:h=!0,addNewDisabledTooltip:g=""})=>{const[v,y]=P.useState(""),[b,w]=P.useState(!1),[x,_]=P.useState(!1),[T,S]=P.useState(!1),[E,A]=P.useState(!1),[C,k]=P.useState(null),[N,O]=P.useState({}),[R,D]=P.useState([]),[U,j]=P.useState(""),M=I.useRef(null),L=l(`Manage ${t.charAt(0).toUpperCase()+t.slice(1)}`),$=P.useMemo(()=>e.filter(V=>Object.values(V).some(se=>String(se).toLowerCase().includes(v.toLowerCase()))),[e,v]),B=V=>{V.target.checked?D($.map(se=>se.id)):D([])},q=V=>{D(se=>se.includes(V)?se.filter(he=>he!==V):[...se,V])},Y=(V=null)=>{k(V),O(V||{}),w(!0)},W=()=>{w(!1),k(null),O({})},re=V=>{k(V),_(!0)},pe=()=>{_(!1),k(null)},xe=V=>{k(V),j(""),S(!0)},ke=()=>{S(!1),k(null)},st=V=>{const{name:se,value:he,type:it}=V.target,Xe=it==="number";O(ht=>({...ht,[se]:Xe?Number(he):he}))},je=(V,se)=>{var it;const he=(it=V.target.files)==null?void 0:it[0];if(he){const Xe=new FileReader;Xe.onloadend=()=>{O(ht=>({...ht,[se]:Xe.result}))},Xe.readAsDataURL(he)}},Q=V=>{V.preventDefault(),C?o({...C,...N}):i(N),W()},fe=()=>{C&&a([C.id]),pe()},we=()=>{a(R),D([])},H=()=>{const V=parseFloat(U);C&&V>0&&(s!=null&&s.onRecordPayment)&&s.onRecordPayment(C.id,V),ke()},Te=()=>{var V;(V=M.current)==null||V.click()},G=V=>{var it;const se=(it=V.target.files)==null?void 0:it[0];if(!se)return;const he=new FileReader;he.onload=Xe=>{var on;const xt=((on=Xe.target)==null?void 0:on.result).split(`
`);for(let Kn=1;Kn<xt.length;Kn++){const It=xt[Kn].trim();if(!It)continue;const hn=It.split(",");if(hn.length>=5){const Di={name:hn[0],price:parseFloat(hn[1])||0,stock:parseInt(hn[2])||0,category:hn[3],sku:hn[4],imageUrl:"",brand:""};i(Di)}}alert(`Import process completed for ${xt.length-1} rows.`)},he.readAsText(se),V.target.value=""},me=()=>{A(!0)};return p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[p.jsx("h2",{className:"text-2xl font-bold",children:L}),p.jsxs("div",{className:"w-full sm:w-auto flex items-center gap-2",children:[p.jsxs("div",{className:"relative flex-grow",children:[p.jsx(zce,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),p.jsx("input",{type:"text",placeholder:l("Search"),value:v,onChange:V=>y(V.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg pl-10 pr-4 py-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),t==="products"&&c&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:Te,className:"bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200 px-3 py-2 rounded-lg hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors flex items-center gap-1",children:[p.jsx(Wce,{className:"w-5 h-5"}),p.jsx("span",{className:"hidden sm:inline",children:l("Import CSV")})]}),p.jsx("input",{type:"file",accept:".csv",ref:M,className:"hidden",onChange:G})]}),c&&p.jsx("button",{onClick:()=>Y(),title:g,className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:l("Add New")})]})]}),R.length>0&&p.jsxs("div",{className:"mb-4 flex items-center justify-between p-3 bg-primary-50 dark:bg-primary-900/40 rounded-lg",children:[p.jsxs("span",{className:"font-semibold text-primary-700 dark:text-primary-200",children:[R.length," item(s) selected"]}),p.jsxs("div",{className:"flex gap-2",children:[t==="products"&&p.jsxs("button",{onClick:me,className:"flex items-center gap-2 bg-purple-600 text-white text-sm font-semibold px-3 py-1.5 rounded-lg hover:bg-purple-700 transition-colors",children:[p.jsx(Kce,{className:"w-4 h-4"}),l("Print Labels")]}),h&&p.jsxs("button",{onClick:we,className:"flex items-center gap-2 bg-red-600 text-white text-sm font-semibold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors",children:[p.jsx(fT,{className:"w-4 h-4"}),"Delete Selected"]})]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm text-left text-neutral-500 dark:text-neutral-400",children:[p.jsx("thead",{className:"text-xs text-neutral-700 dark:text-neutral-300 uppercase bg-neutral-50 dark:bg-neutral-700",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"p-4",children:p.jsx("input",{type:"checkbox",onChange:B,checked:R.length>0&&R.length===$.length,className:"w-4 h-4 text-primary-600 bg-neutral-100 border-neutral-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-neutral-800 focus:ring-2 dark:bg-neutral-700 dark:border-neutral-600"})}),n.map(V=>p.jsx("th",{scope:"col",className:"px-6 py-3",children:V.header},String(V.key))),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Actions"})]})}),p.jsx("tbody",{children:$.map(V=>p.jsxs("tr",{className:"bg-white dark:bg-neutral-800 border-b dark:border-neutral-700 hover:bg-neutral-50 dark:hover:bg-neutral-700/50",children:[p.jsx("td",{className:"p-4",children:p.jsx("input",{type:"checkbox",checked:R.includes(V.id),onChange:()=>q(V.id),className:"w-4 h-4 text-primary-600 bg-neutral-100 border-neutral-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-neutral-800 focus:ring-2 dark:bg-neutral-700 dark:border-neutral-600"})}),n.map(se=>p.jsx("td",{className:"px-6 py-4 font-medium text-neutral-900 dark:text-white whitespace-nowrap",children:se.render?se.render(V):V[se.key]},`${V.id}-${String(se.key)}`)),p.jsxs("td",{className:"px-6 py-4 flex justify-end items-center gap-4",children:[t==="customers"&&V.dueAmount>0&&(s==null?void 0:s.onRecordPayment)&&p.jsx("button",{onClick:()=>xe(V),className:"text-green-600 dark:text-green-400 hover:underline",title:"Record Payment",children:p.jsx(Hce,{className:"w-5 h-5"})}),d&&p.jsx("button",{onClick:()=>Y(V),className:"text-primary-600 dark:text-primary-400 hover:underline",children:p.jsx(qce,{className:"w-5 h-5"})}),h&&p.jsx("button",{onClick:()=>re(V),className:"text-red-600 dark:text-red-400 hover:underline",children:p.jsx(fT,{className:"w-5 h-5"})})]})]},V.id))})]})}),b&&c&&p.jsx(Gc,{title:C?`Edit ${t.slice(0,-1)}`:`Add ${t.slice(0,-1)}`,onClose:W,children:p.jsxs("form",{onSubmit:Q,children:[p.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map(V=>{var se;return p.jsxs("div",{className:["select","image"].includes(V.type)?"sm:col-span-2":"",children:[p.jsx("label",{htmlFor:String(V.key),className:"block mb-2 text-sm font-medium",children:V.label}),V.type==="select"?p.jsxs("select",{id:String(V.key),name:String(V.key),value:N[V.key]||"",onChange:st,required:V.required,className:"bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5",children:[p.jsx("option",{value:"",children:"Select an option"}),(se=V.options)==null?void 0:se.map(he=>p.jsx("option",{value:he.value,children:he.label},he.value))]}):V.type==="image"?p.jsxs("div",{className:"flex items-center gap-4",children:[N[V.key]&&p.jsx("img",{src:N[V.key],alt:"preview",className:"w-16 h-16 rounded-full object-cover bg-neutral-200"}),p.jsx("input",{type:"file",id:String(V.key),name:String(V.key),onChange:he=>je(he,V.key),accept:"image/*",className:"block w-full text-sm text-neutral-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})]}):p.jsx("input",{type:V.type,id:String(V.key),name:String(V.key),value:N[V.key]||"",onChange:st,required:V.required,className:"bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"})]},String(V.key))})}),p.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2 sticky bottom-0 bg-white dark:bg-neutral-800",children:[p.jsx("button",{type:"button",onClick:W,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),p.jsx("button",{type:"submit",className:"text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Save"})]})]})}),x&&C&&p.jsxs(Gc,{title:"Confirm Deletion",onClose:pe,children:[p.jsx("div",{className:"p-6",children:p.jsxs("p",{children:["Are you sure you want to delete ",p.jsx("span",{className:"font-semibold",children:C.name||"this item"}),"? This action cannot be undone."]})}),p.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2",children:[p.jsx("button",{onClick:pe,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),p.jsx("button",{onClick:fe,className:"text-white bg-red-600 hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800",children:"Delete"})]})]}),T&&C&&p.jsxs(Gc,{title:`Record Payment for ${C.name}`,onClose:ke,children:[p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsxs("div",{className:"p-3 bg-neutral-100 dark:bg-neutral-700/50 rounded-lg text-center",children:[p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Current Due Amount"}),p.jsx("p",{className:"text-2xl font-bold",children:u(C.dueAmount)})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"payment-amount",className:"block text-sm font-medium mb-1",children:"Payment Amount"}),p.jsx("input",{id:"payment-amount",type:"number",value:U,onChange:V=>j(V.target.value),className:"w-full text-lg bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",autoFocus:!0})]})]}),p.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2",children:[p.jsx("button",{onClick:ke,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),p.jsx("button",{onClick:H,className:"text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",children:"Record Payment"})]})]}),E&&p.jsx(Jce,{items:$.filter(V=>R.includes(V.id)),onClose:()=>A(!1)})]})},Yce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),Xce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),Qce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Qp=({title:t,value:e})=>p.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-700/50 p-4 rounded-lg",children:[p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:t}),p.jsx("p",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:e})]}),Zce=({sales:t,users:e,customers:n,formatCurrency:r})=>{const[i,o]=P.useState(""),[a,s]=P.useState(""),[l,u]=P.useState("all"),[c,d]=P.useState("all"),[h,g]=P.useState("csv"),[v,y]=P.useState(!1),b=P.useRef(null),[w,x]=P.useState(""),[_,T]=P.useState(!1),S=P.useRef(null),E=P.useMemo(()=>e.filter(M=>[ce.Admin,ce.Manager,ce.Cashier].includes(M.role)),[e]);P.useEffect(()=>{const M=L=>{S.current&&!S.current.contains(L.target)&&T(!1),b.current&&!b.current.contains(L.target)&&y(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const A=P.useMemo(()=>w?n.filter(M=>M.name.toLowerCase().includes(w.toLowerCase())):n,[n,w]),C=M=>{d(M);const L=n.find($=>$.id===M);x(L?L.name:""),T(!1)},k=()=>{d("all"),x("")},N=P.useMemo(()=>t.filter(M=>{const L=new Date(M.date),$=i?new Date(i):null,B=a?new Date(a):null;$&&$.setHours(0,0,0,0),B&&B.setHours(23,59,59,999);const q=(!$||L>=$)&&(!B||L<=B),Y=l==="all"||M.cashierId===l,W=c==="all"||M.customerId===c;return q&&Y&&W}),[t,i,a,l,c]),O=P.useMemo(()=>{const M=N.reduce((B,q)=>B+q.total,0),L=N.length,$=L>0?M/L:0;return{totalSales:r(M),totalTransactions:L,avgSaleValue:r($)}},[N,r]),R=P.useMemo(()=>{if(N.length===0)return[];const M=N.reduce((L,$)=>{const B=new Date($.date).toISOString().split("T")[0];return L[B]||(L[B]=0),L[B]+=$.total,L},{});return Object.entries(M).map(([L,$])=>({rawDate:L,date:new Date(L+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"}),total:$})).sort((L,$)=>new Date(L.rawDate).getTime()-new Date($.rawDate).getTime())},[N]),D=()=>{o(""),s(""),u("all"),k()},U=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),j=()=>{if(N.length===0){alert("No data to export for the current filters.");return}const M=["Sale ID","Date","Customer","Cashier","Items","Total","Amount Paid","Amount Due","Payment Method"],L=N.map($=>({"Sale ID":$.id,Date:new Date($.date).toISOString(),Customer:$.customerName,Cashier:$.cashier,Items:$.items,Total:$.total,"Amount Paid":$.amountPaid,"Amount Due":$.total-$.amountPaid,"Payment Method":$.paymentMethod}));if(h==="csv"){const B=[M.join(","),...L.map(re=>Object.values(re).map(pe=>{const xe=String(pe);return xe.includes(",")||xe.includes('"')?`"${xe.replace(/"/g,'""')}"`:xe}).join(","))].join(`
`),q=new Blob([B],{type:"text/csv;charset=utf-8;"}),Y=document.createElement("a"),W=URL.createObjectURL(q);Y.setAttribute("href",W),Y.setAttribute("download","sales_report.csv"),Y.style.visibility="hidden",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)}else if(h==="xlsx"&&typeof XLSX<"u"){const $=XLSX.utils.json_to_sheet(L),B=XLSX.utils.book_new();XLSX.utils.book_append_sheet(B,$,"Sales"),XLSX.writeFile(B,"sales_report.xlsx")}else h==="xlsx"&&alert("XLSX export not available (library not loaded).")};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[p.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:"Sales Reports"}),p.jsxs("div",{className:"flex rounded-lg shadow-sm",children:[p.jsxs("button",{onClick:j,className:"relative inline-flex items-center gap-2 bg-secondary-600 px-4 py-2 text-sm font-semibold text-white hover:bg-secondary-700 focus:z-10 rounded-l-lg",children:[p.jsx(Yce,{className:"w-5 h-5"}),"Export Data"]}),p.jsxs("div",{ref:b,className:"relative -ml-px block",children:[p.jsxs("button",{onClick:()=>y(!v),type:"button",className:"relative inline-flex items-center bg-secondary-600 px-2 py-2 text-white hover:bg-secondary-700 focus:z-10 rounded-r-lg","aria-expanded":"true","aria-haspopup":"true",children:[p.jsx("span",{className:"text-xs uppercase mr-1",children:h}),p.jsx(Xce,{className:"h-5 w-5","aria-hidden":"true"})]}),v&&p.jsx("div",{className:"absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-white dark:bg-neutral-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabIndex:-1,children:p.jsxs("div",{className:"py-1",role:"none",children:[p.jsx("a",{href:"#",onClick:M=>{M.preventDefault(),g("csv"),y(!1)},className:`block px-4 py-2 text-sm ${h==="csv"?"font-bold text-primary-600":"text-neutral-700 dark:text-neutral-200"} hover:bg-neutral-100 dark:hover:bg-neutral-700`,role:"menuitem",tabIndex:-1,id:"menu-item-0",children:"Export as .csv"}),p.jsx("a",{href:"#",onClick:M=>{M.preventDefault(),g("xlsx"),y(!1)},className:`block px-4 py-2 text-sm ${h==="xlsx"?"font-bold text-primary-600":"text-neutral-700 dark:text-neutral-200"} hover:bg-neutral-100 dark:hover:bg-neutral-700`,role:"menuitem",tabIndex:-1,id:"menu-item-1",children:"Export as .xlsx"})]})})]})]})]}),p.jsx("div",{className:"bg-white dark:bg-neutral-800 p-4 rounded-xl shadow-md space-y-4",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[p.jsxs("div",{className:"lg:col-span-2 grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"start-date",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Start Date"}),p.jsx("input",{type:"date",id:"start-date",value:i,onChange:M=>o(M.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"end-date",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"End Date"}),p.jsx("input",{type:"date",id:"end-date",value:a,onChange:M=>s(M.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"cashier",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Cashier"}),p.jsxs("select",{id:"cashier",value:l,onChange:M=>u(M.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",children:[p.jsx("option",{value:"all",children:"All Cashiers"}),E.map(M=>p.jsx("option",{value:M.id,children:M.name},M.id))]})]}),p.jsxs("div",{ref:S,children:[p.jsx("label",{htmlFor:"customer",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Customer"}),p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"text",id:"customer",value:w,onChange:M=>{x(M.target.value),d("all"),_||T(!0)},onFocus:()=>T(!0),placeholder:"All Customers",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"}),c!=="all"&&p.jsx("button",{onClick:k,className:"absolute right-2 text-neutral-500 hover:text-red-500",children:p.jsx(Qce,{className:"w-5 h-5"})})]}),_&&p.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white dark:bg-neutral-700 rounded-md shadow-lg max-h-60 overflow-auto border dark:border-neutral-600",children:p.jsxs("ul",{children:[p.jsx("li",{onClick:()=>C("all"),className:"px-4 py-2 text-sm hover:bg-primary-50 dark:hover:bg-neutral-600 cursor-pointer text-neutral-700 dark:text-neutral-200",children:"All Customers"}),A.map(M=>p.jsx("li",{onClick:()=>C(M.id),className:"px-4 py-2 text-sm hover:bg-primary-50 dark:hover:bg-neutral-600 cursor-pointer text-neutral-700 dark:text-neutral-200",children:M.name},M.id))]})})]})]}),p.jsx("div",{className:"lg:col-span-5 flex justify-end",children:p.jsx("button",{onClick:D,className:"text-sm text-primary-600 hover:underline",children:"Reset Filters"})})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsx(Qp,{title:"Total Revenue",value:O.totalSales}),p.jsx(Qp,{title:"Transactions",value:O.totalTransactions.toString()}),p.jsx(Qp,{title:"Avg. Sale Value",value:O.avgSaleValue})]}),p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4 text-neutral-800 dark:text-neutral-100",children:"Sales Trend"}),p.jsx("div",{className:"h-80 w-full",children:p.jsx(g0,{width:"100%",height:"100%",children:p.jsxs(jre,{data:R,children:[p.jsx(Q0,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(128,128,128,0.2)"}),p.jsx(_s,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},dy:10}),p.jsx(Ss,{axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},tickFormatter:M=>`$${M}`}),p.jsx(Rn,{cursor:{fill:"rgba(128,128,128,0.1)"},contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.5rem",color:"#F3F4F6"},itemStyle:{color:"#F3F4F6"},formatter:M=>[`$${M.toFixed(2)}`,"Sales"]}),p.jsx($o,{dataKey:"total",fill:"#4F46E5",radius:[4,4,0,0]})]})})})]}),p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md overflow-hidden",children:[p.jsx("div",{className:"p-6 border-b dark:border-neutral-700",children:p.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100",children:"Recent Transactions"})}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm text-left text-neutral-500 dark:text-neutral-400",children:[p.jsx("thead",{className:"text-xs text-neutral-700 dark:text-neutral-300 uppercase bg-neutral-50 dark:bg-neutral-700/50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3",children:"Date"}),p.jsx("th",{className:"px-6 py-3",children:"Sale ID"}),p.jsx("th",{className:"px-6 py-3",children:"Customer"}),p.jsx("th",{className:"px-6 py-3",children:"Cashier"}),p.jsx("th",{className:"px-6 py-3 text-right",children:"Total"}),p.jsx("th",{className:"px-6 py-3",children:"Method"})]})}),p.jsx("tbody",{className:"divide-y divide-neutral-100 dark:divide-neutral-700",children:N.length>0?N.map(M=>p.jsxs("tr",{className:"bg-white dark:bg-neutral-800 hover:bg-neutral-50 dark:hover:bg-neutral-700/50",children:[p.jsxs("td",{className:"px-6 py-4",children:[U(M.date)," ",p.jsx("span",{className:"text-xs text-neutral-400 ml-1",children:new Date(M.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),p.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:M.id}),p.jsx("td",{className:"px-6 py-4 font-medium text-neutral-900 dark:text-neutral-100",children:M.customerName}),p.jsx("td",{className:"px-6 py-4",children:M.cashier}),p.jsx("td",{className:"px-6 py-4 text-right font-semibold text-neutral-900 dark:text-neutral-100",children:r(M.total)}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M.paymentMethod==="Cash"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":M.paymentMethod==="Card"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"}`,children:M.paymentMethod})})]},M.id)):p.jsx("tr",{children:p.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-neutral-500 dark:text-neutral-400",children:"No transactions found matching current filters."})})})]})})]})]})},hT=({title:t})=>p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-8 rounded-xl shadow-md text-center h-full flex flex-col justify-center items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:t}),p.jsx("p",{className:"mt-4 text-neutral-500 dark:text-neutral-400",children:"This feature is under construction."}),p.jsx("div",{className:"mt-6 text-6xl text-neutral-200 dark:text-neutral-700",children:""})]}),ede="ZENITH_POS_SECRET_KEY_2025_V2",tde=(t,e)=>{const n=t+e;let r=5381;for(let i=0;i<n.length;i++)r=r*33^n.charCodeAt(i);return(r>>>0).toString(16).toUpperCase().padStart(8,"0").slice(-5)},nde={A:"AI_INSIGHTS",R:"ADVANCED_REPORTS",M:"MULTI_LANGUAGE",C:"CLOUD_SYNC"},pT={STD:["M"],PREM:["M","A"],ENT:["M","A","R","C"]},rde=(t,e,n,r,i)=>{const o=Math.random().toString(36).substring(2,8).toUpperCase(),a=`${e.getFullYear()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}`,s=`ZENITH-${t}-${o}-${n}-${a}`;let l=s;const u=r==null?void 0:r.trim().toUpperCase().replace(/\s+/g,"");u&&(l+=`-${u}`);const c=i==null?void 0:i.trim().toLowerCase();c&&(l+=`-${c}`);const d=tde(l,ede),h=`${s}-${d}`,g={STD:"Standard",PREM:"Premium",ENT:"Enterprise"};return{key:h,validUntil:e.toISOString(),planType:g[t],status:"Generated",maxShops:t==="ENT"?1/0:1,enabledFeatures:n.split("").map(v=>nde[v]).filter(Boolean),businessNameLock:(r==null?void 0:r.trim())||void 0,emailLock:(i==null?void 0:i.trim())||void 0}},ide=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),ode=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0"})}),{GlobeAltIcon:ade,ShieldCheckIcon:AN,XMarkIcon:CN,BanknotesIcon:sde,KeyIcon:lde,BuildingStorefrontIcon:ude,TrashIcon:cde}=Po,kN=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),dde=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),fde=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"})}),si=({title:t,icon:e,children:n})=>p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md",children:[p.jsx("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-700",children:p.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-3",children:[e,t]})}),p.jsx("div",{className:"p-6",children:n})]}),hde=({type:t,message:e,onClose:n})=>{const r="p-4 rounded-md flex items-center justify-between shadow-md mb-6",i=t==="success"?"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-200";return p.jsxs("div",{className:`${r} ${i}`,children:[p.jsx("p",{className:"text-sm font-medium",children:e}),p.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-black/10",children:p.jsx(CN,{className:"w-5 h-5"})})]})},pde=({title:t,children:e})=>{const[n,r]=P.useState(!1);return p.jsxs("div",{className:"border-b dark:border-neutral-700",children:[p.jsxs("button",{onClick:()=>r(!n),className:"w-full flex justify-between items-center text-left py-4 px-1",children:[p.jsx("span",{className:"font-semibold text-neutral-800 dark:text-neutral-100",children:t}),p.jsx(dde,{className:`w-5 h-5 transition-transform ${n?"rotate-180":""}`})]}),n&&p.jsx("div",{className:"pb-4 px-1 text-neutral-600 dark:text-neutral-300 prose prose-sm dark:prose-invert max-w-none whitespace-pre-line",children:e})]})},mde=({isOpen:t,onClose:e,t:n})=>{if(!t)return null;const r=Array.from({length:8},(i,o)=>({title:n(`guide_title_${o+1}`),content:n(`guide_content_${o+1}`)}));return p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-start p-4 pt-16",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700",children:[p.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[p.jsx(kN,{className:"w-6 h-6 text-primary-500"}),n("System User Guide")]}),p.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:p.jsx(CN,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"p-6 overflow-y-auto",children:[p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-4",children:n("Guide Intro")}),r.map((i,o)=>p.jsx(pde,{title:i.title,children:i.content},o))]}),p.jsx("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700",children:p.jsx("button",{onClick:e,className:"bg-primary-600 text-white font-semibold px-5 py-2.5 rounded-lg hover:bg-primary-700 transition-colors",children:n("Close Guide")})})]})})},gde=t=>{var Te;const{user:e,onUpdateUser:n,isDarkMode:r,toggleDarkMode:i,businessName:o,setBusinessName:a,businessLogo:s,setBusinessLogo:l,licenseKeys:u,setLicenseKeys:c,licenseDatabase:d,setLicenseDatabase:h,language:g,setLanguage:v,currency:y,setCurrency:b,t:w,activeStoreId:x,onAddStore:_,onDeleteStore:T,organizationStores:S,taxRate:E,setTaxRate:A}=t,[C,k]=P.useState(null),[N,O]=P.useState(!1),R=I.useRef(null),D=P.useRef(null),[U,j]=P.useState(""),[M,L]=P.useState(!1),[$,B]=P.useState(""),[q,Y]=P.useState({name:e.name,email:e.email,avatarUrl:e.avatarUrl,phone:e.phone||""});P.useEffect(()=>{if(C){const G=setTimeout(()=>k(null),5e3);return()=>clearTimeout(G)}},[C]);const W=G=>Y(me=>({...me,[G.target.name]:G.target.value})),re=G=>{var V;const me=(V=G.target.files)==null?void 0:V[0];if(me){const se=new FileReader;se.onloadend=()=>Y(he=>({...he,avatarUrl:se.result})),se.readAsDataURL(me)}},pe=G=>{n({name:q.name,avatarUrl:q.avatarUrl,phone:q.phone}),k({type:"success",message:`${G} settings saved successfully!`})},xe=G=>{G.preventDefault();const me=new FormData(G.currentTarget),V=me.get("currentPassword"),se=me.get("newPassword"),he=me.get("confirmPassword");if(se!==he){k({type:"error",message:"New passwords do not match."});return}if(e.password!==V){k({type:"error",message:"Current password is incorrect."});return}n({password:se}),k({type:"success",message:"Password updated successfully!"}),G.currentTarget.reset()},ke=G=>{if(G.preventDefault(),e.password!==$){k({type:"error",message:"Incorrect password. 2FA setting not changed."}),B("");return}const me=!e.isTwoFactorEnabled;n({isTwoFactorEnabled:me}),k({type:"success",message:`Two-Factor Authentication has been ${me?"Enabled":"Disabled"}.`}),L(!1),B("")},st=G=>{var V;const me=(V=G.target.files)==null?void 0:V[0];if(me){const se=new FileReader;se.onloadend=()=>l(se.result),se.readAsDataURL(me)}},je=()=>{const G={zenith_users:localStorage.getItem("zenith_users"),zenith_products:localStorage.getItem("zenith_products"),zenith_customers:localStorage.getItem("zenith_customers"),zenith_sales:localStorage.getItem("zenith_sales"),zenith_license_database:localStorage.getItem("zenith_license_database")},me=new Blob([JSON.stringify(G,null,2)],{type:"application/json"}),V=URL.createObjectURL(me),se=document.createElement("a");se.href=V,se.download=`zenith_backup_${new Date().toISOString().split("T")[0]}.json`,se.click(),k({type:"success",message:"Backup downloaded successfully!"})},Q=()=>{var G;return(G=R.current)==null?void 0:G.click()},fe=G=>{var se;const me=(se=G.target.files)==null?void 0:se[0];if(!me)return;const V=new FileReader;V.onload=he=>{var it;try{const Xe=JSON.parse((it=he.target)==null?void 0:it.result);Object.keys(Xe).forEach(ht=>{Xe[ht]&&localStorage.setItem(ht,Xe[ht])}),k({type:"success",message:"Data restored! Please reload the page."}),setTimeout(()=>window.location.reload(),2e3)}catch{k({type:"error",message:"Invalid backup file."})}},V.readAsText(me)},we=G=>{if(G.preventDefault(),!U.trim()){k({type:"error",message:"Please enter a license key."});return}t.onUpdateLicense(U)?(j(""),k({type:"success",message:"License updated successfully!"})):k({type:"error",message:"The provided license key is invalid or could not be applied."})},H=G=>{G.preventDefault(),U&&t.onActivateTrialLicense(U)};return p.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto pb-10",children:[p.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:w("Settings")}),C&&p.jsx(hde,{type:C.type,message:C.message,onClose:()=>k(null)}),e.email==="superadmin@zenith.com"&&p.jsx(vde,{licenseDatabase:d,setLicenseDatabase:h,setNotification:k}),e.role===ce.Admin&&p.jsx(yde,{...t,newLicenseKey:U,setNewLicenseKey:j,onActivateFromTrialSubmit:H,onUpdateLicenseSubmit:we,setNotification:k}),p.jsx(mde,{isOpen:N,onClose:()=>O(!1),t:w}),p.jsx("button",{onClick:()=>O(!0),className:"fixed bottom-6 right-6 bg-primary-600 text-white p-4 rounded-full shadow-lg hover:bg-primary-700 transition-transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 z-40","aria-label":"Open settings guide",children:p.jsx(kN,{className:"w-8 h-8"})}),p.jsxs(si,{title:"Profile",icon:p.jsx(ide,{className:"w-6 h-6 text-primary-500"}),children:[p.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[p.jsxs("div",{className:"relative w-20 h-20 group flex-shrink-0",children:[p.jsx("img",{src:q.avatarUrl,alt:"Profile Avatar",className:"w-20 h-20 rounded-full object-cover"}),p.jsx("button",{onClick:()=>{var G;return(G=D.current)==null?void 0:G.click()},className:"absolute inset-0 bg-black/60 rounded-full flex items-center justify-center text-white opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:p.jsx("span",{className:"text-xs font-semibold",children:"Change"})}),p.jsx("input",{type:"file",ref:D,onChange:re,className:"hidden",accept:"image/png, image/jpeg"})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-xl font-bold",children:q.name}),p.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:e.role})]})]}),p.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 my-6"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Full Name"}),p.jsx("input",{type:"text",name:"name",value:q.name,onChange:W,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Email Address"}),p.jsx("input",{type:"email",value:q.email,disabled:!0,className:"mt-1 w-full bg-neutral-200 dark:bg-neutral-800 border-transparent rounded-lg p-2.5 text-neutral-500 dark:text-neutral-400 cursor-not-allowed"})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Phone Number"}),p.jsx("input",{type:"tel",name:"phone",value:q.phone||"",onChange:W,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"}),p.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Used for password recovery and notifications."})]})]}),p.jsx("div",{className:"mt-6 text-right",children:p.jsx("button",{onClick:()=>pe("Profile"),className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Save Changes"})})]}),p.jsxs(si,{title:"Password & Security",icon:p.jsx(AN,{className:"w-6 h-6 text-primary-500"}),children:[p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-6",children:"Your registered Email and Phone number will be used for verification during password reset."}),p.jsx("div",{className:"mb-8 border-b border-neutral-200 dark:border-neutral-700 pb-8",children:p.jsxs("form",{onSubmit:xe,children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Current Password"}),p.jsx("input",{type:"password",name:"currentPassword",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"New Password"}),p.jsx("input",{type:"password",name:"newPassword",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Confirm New Password"}),p.jsx("input",{type:"password",name:"confirmPassword",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})]}),p.jsx("div",{className:"mt-6 text-right",children:p.jsx("button",{type:"submit",className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Change Password"})})]})}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex gap-3 items-start",children:[p.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg text-blue-600 dark:text-blue-400",children:p.jsx(fde,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-neutral-800 dark:text-neutral-100",children:"Two-Factor Authentication"}),p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mt-1",children:"Require a verification code via email when logging in from a new device."})]})]}),p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:e.isTwoFactorEnabled||!1,onChange:()=>L(!0),className:"sr-only peer"}),p.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-primary-600"})]})]}),M&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-sm p-6",children:[p.jsxs("h3",{className:"text-lg font-bold mb-4 text-neutral-800 dark:text-neutral-100",children:[e.isTwoFactorEnabled?"Disable":"Enable"," Two-Factor Auth"]}),p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-4",children:"For your security, please enter your password to confirm this change."}),p.jsxs("form",{onSubmit:ke,children:[p.jsx("input",{type:"password",value:$,onChange:G=>B(G.target.value),placeholder:"Enter current password",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 mb-4 focus:ring-2 focus:ring-primary-500 focus:outline-none",autoFocus:!0}),p.jsxs("div",{className:"flex gap-2 justify-end",children:[p.jsx("button",{type:"button",onClick:()=>{L(!1),B("")},className:"px-4 py-2 text-sm text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg",children:"Cancel"}),p.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Confirm"})]})]})]})})]}),e.role===ce.Admin&&((Te=t.activeLicense)==null?void 0:Te.planType)==="Enterprise"&&p.jsxs(si,{title:"Store Management",icon:p.jsx(ude,{className:"w-6 h-6 text-primary-500"}),children:[p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-4",children:"Manage your business branches. This feature is available on the Enterprise plan."}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h4",{className:"font-semibold text-neutral-800 dark:text-neutral-100",children:"Current Stores"}),S.length>0?p.jsx("ul",{className:"divide-y divide-neutral-200 dark:divide-neutral-700",children:S.map(G=>p.jsxs("li",{className:"py-2 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:G.name}),p.jsx("p",{className:"text-xs text-neutral-500",children:G.location})]}),p.jsx("button",{onClick:()=>T(G.id),className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:"Delete Store",children:p.jsx(cde,{className:"w-4 h-4"})})]},G.id))}):p.jsx("p",{className:"text-sm text-neutral-500",children:"No stores added yet."}),p.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-700 pt-4",children:[p.jsx("h4",{className:"font-semibold text-neutral-800 dark:text-neutral-100 mb-2",children:"Add New Store"}),p.jsxs("form",{onSubmit:G=>{G.preventDefault();const me=new FormData(G.currentTarget),V=me.get("storeName"),se=me.get("storeLocation");V&&se&&(_({name:V,location:se}),G.target.reset())},className:"flex flex-col md:flex-row gap-4 items-end",children:[p.jsxs("div",{className:"flex-1 w-full",children:[p.jsx("label",{className:"block text-xs font-medium text-neutral-600 dark:text-neutral-300",children:"Store Name"}),p.jsx("input",{type:"text",name:"storeName",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),p.jsxs("div",{className:"flex-1 w-full",children:[p.jsx("label",{className:"block text-xs font-medium text-neutral-600 dark:text-neutral-300",children:"Location"}),p.jsx("input",{type:"text",name:"storeLocation",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),p.jsx("button",{type:"submit",className:"w-full md:w-auto bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Add Store"})]})]})]})]}),p.jsx(si,{title:"Localization",icon:p.jsx(ade,{className:"w-6 h-6 text-primary-500"}),children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-2",children:"Language"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>v("en"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-semibold border ${g==="en"?"bg-primary-600 text-white border-primary-600":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 border-neutral-300 dark:border-neutral-600"}`,children:"English"}),p.jsx("button",{onClick:()=>v("bn"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-semibold border ${g==="bn"?"bg-primary-600 text-white border-primary-600":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 border-neutral-300 dark:border-neutral-600"}`,children:"Bangla"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-2",children:"Currency"}),p.jsx("select",{value:y,onChange:G=>b(G.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",children:Object.entries(dk).map(([G,me])=>p.jsxs("option",{value:G,children:[G," - ",me.symbol]},G))})]})]})}),e.role===ce.Admin&&p.jsxs(si,{title:"Business Configuration",icon:p.jsx(sde,{className:"w-6 h-6 text-primary-500"}),children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Business Name"}),p.jsx("input",{type:"text",value:o,onChange:G=>a(G.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Default Tax Rate (%)"}),p.jsx("input",{type:"number",value:E,onChange:G=>A(Number(G.target.value)),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("p",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-2",children:"Business Logo"}),p.jsxs("div",{className:"flex items-center gap-4",children:[s&&p.jsx("img",{src:s,alt:"Logo",className:"w-16 h-16 object-contain border border-neutral-200 rounded p-1"}),p.jsx("input",{type:"file",accept:"image/*",onChange:st,className:"text-sm text-neutral-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})]})]})]}),e.role===ce.Admin&&p.jsx(si,{title:"System",icon:p.jsx(ode,{className:"w-6 h-6 text-primary-500"}),children:p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium",children:"Data Management"}),p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Backup or restore your application data."})]}),p.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[p.jsx("button",{onClick:je,className:"bg-secondary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-secondary-700 transition-colors",children:"Backup Data"}),p.jsx("button",{onClick:Q,className:"bg-neutral-200 dark:bg-neutral-600 text-neutral-800 dark:text-neutral-100 font-semibold px-4 py-2 rounded-lg hover:bg-neutral-300 dark:hover:bg-neutral-500 transition-colors",children:"Restore Data"}),p.jsx("input",{type:"file",accept:".json",ref:R,className:"hidden",onChange:fe})]})]})})]})},vde=({licenseDatabase:t,setLicenseDatabase:e,setNotification:n})=>{const[r,i]=P.useState(""),[o,a]=P.useState(""),[s,l]=P.useState("PREM"),[u,c]=P.useState(""),[d,h]=P.useState(pT[s]);P.useEffect(()=>{const w=new Date;w.setFullYear(w.getFullYear()+1),c(w.toISOString().split("T")[0])},[]),P.useEffect(()=>{h(pT[s])},[s]);const g=w=>{const{value:x,checked:_}=w.target;h(T=>_?[...T,x]:T.filter(S=>S!==x))},v=()=>{if(!u){alert("Please select an expiry date.");return}if(!o){alert("Please provide an email address to assign this license.");return}const w=rde(s,new Date(u),d.join(""),r,o);e(x=>[...x,w]),n({type:"success",message:`License key ${w.key.slice(0,15)}... generated successfully!`})},y=w=>{e(x=>x.map(_=>_.key===w?{..._,status:"Revoked"}:_)),n({type:"success",message:"License has been revoked."})},b=w=>{switch(w){case"Generated":return"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300";case"Activated":return"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300";case"Revoked":return"bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-300";case"Expired":return"bg-neutral-100 text-neutral-700 dark:bg-neutral-900/50 dark:text-neutral-300"}};return p.jsxs(si,{title:"Super Admin: Master License Generator",icon:p.jsx(AN,{className:"w-6 h-6 text-amber-500"}),children:[p.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/30 rounded-lg text-amber-800 dark:text-amber-200 text-sm mb-6",children:"This panel is visible to Super Admins only. Generate keys locked to specific client emails."}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 border-b dark:border-neutral-700 pb-6 mb-6",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx("input",{type:"email",value:o,onChange:w=>a(w.target.value),placeholder:"Assign to Email (Required)",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5"}),p.jsx("input",{type:"text",value:r,onChange:w=>i(w.target.value),placeholder:"Business Name (Optional)",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5"}),p.jsx("input",{type:"date",value:u,onChange:w=>c(w.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"grid grid-cols-3 gap-2",children:["STD","PREM","ENT"].map(w=>p.jsxs("label",{className:`text-center p-2 rounded-lg cursor-pointer border ${s===w?"bg-primary-50 border-primary-400":"dark:border-neutral-600"}`,children:[p.jsx("input",{type:"radio",name:"plan",value:w,checked:s===w,onChange:x=>l(x.target.value),className:"sr-only"})," ",w]},w))}),p.jsx("div",{className:"grid grid-cols-2 gap-2",children:["A","R","M","C"].map(w=>p.jsxs("label",{className:"flex items-center text-sm",children:[p.jsx("input",{type:"checkbox",value:w,checked:d.includes(w),onChange:g,className:"h-4 w-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500 mr-2"}),w==="A"?"AI":w==="R"?"Reports":w==="M"?"Multi-Lang":"Cloud"]},w))})]}),p.jsx("div",{className:"md:col-span-2 text-center",children:p.jsx("button",{onClick:v,className:"bg-primary-600 text-white font-semibold px-5 py-2.5 rounded-lg hover:bg-primary-700",children:"Generate New License"})})]}),p.jsx("h4",{className:"font-semibold mb-2",children:"License Database"}),p.jsx("div",{className:"overflow-x-auto max-h-96",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"text-left p-2",children:"Key"}),p.jsx("th",{className:"text-left p-2",children:"Email Lock"}),p.jsx("th",{className:"text-left p-2",children:"Status"}),p.jsx("th",{className:"text-right p-2",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y dark:divide-neutral-700",children:t.map(w=>p.jsxs("tr",{children:[p.jsx("td",{className:"p-2 font-mono text-xs",children:w.key}),p.jsx("td",{className:"p-2 text-xs",children:w.emailLock||"None"}),p.jsx("td",{className:"p-2",children:p.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${b(w.status)}`,children:w.status})}),p.jsx("td",{className:"p-2 text-right",children:w.status!=="Revoked"&&p.jsx("button",{onClick:()=>y(w.key),className:"text-red-500 hover:underline text-xs",children:"Revoke"})})]},w.key))})]})})]})},yde=t=>{const{user:e,licenseKeys:n,setLicenseKeys:r,activeStoreId:i,setNotification:o,newLicenseKey:a,setNewLicenseKey:s,onUpdateLicenseSubmit:l,onActivateFromTrialSubmit:u,employees:c}=t,[d,h]=P.useState(""),[g,v]=P.useState(""),y=()=>{if(i==="global"){alert("Please select a specific store before generating a device key.");return}if(!d)return alert("Please enter a device name.");const w=c.find(_=>_.id===g),x={id:`dk_${Date.now()}`,key:`DEV-${Math.random().toString(36).substr(2,6).toUpperCase()}`,assignedToUserId:w?w.id:"",assignedToUserName:w?`${w.name} (${w.role})`:"Unassigned",status:"Active",validity:"Lifetime",deviceName:d,organizationId:e.organizationId,storeId:i};r(_=>[..._,x]),o({type:"success",message:`Device key for "${d}" generated successfully!`}),h(""),v("")},b=w=>{r(x=>x.map(_=>_.id===w?{..._,status:"Revoked"}:_)),o({type:"success",message:"Device key revoked."})};return p.jsxs(si,{title:"License & Device Management",icon:p.jsx(lde,{className:"w-6 h-6 text-green-500"}),children:[p.jsxs("div",{className:"border-b dark:border-neutral-700 pb-6 mb-6",children:[p.jsx("h4",{className:"font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Master License"}),t.isInTrial&&t.activeLicense?p.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/30 rounded-lg text-amber-800 dark:text-amber-200 text-sm",children:[p.jsx("p",{className:"font-bold",children:"You are in Trial Mode."}),p.jsxs("p",{children:["Your trial expires on ",new Date(t.activeLicense.validUntil).toLocaleDateString(),". Enter a license key below to activate."]}),p.jsxs("form",{onSubmit:u,className:"mt-4 flex flex-col sm:flex-row gap-2",children:[p.jsx("input",{type:"text",value:a,onChange:w=>s(w.target.value),placeholder:"Enter full license key",className:"flex-1 bg-white dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded-lg p-2 text-sm"}),p.jsx("button",{type:"submit",className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700",children:"Activate"})]})]}):t.activeLicense?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-neutral-500",children:"Plan"}),p.jsx("p",{className:"font-semibold",children:t.activeLicense.planType})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-neutral-500",children:"Status"}),p.jsx("p",{className:"font-semibold text-green-600",children:t.activeLicense.status})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-neutral-500",children:"Valid Until"}),p.jsx("p",{className:"font-semibold",children:new Date(t.activeLicense.validUntil).toLocaleDateString()})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-neutral-500",children:"Registered Email"}),p.jsx("p",{className:"font-semibold truncate",children:t.activeLicense.emailLock})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Update or Renew License"}),p.jsxs("form",{onSubmit:l,className:"flex flex-col sm:flex-row gap-2",children:[p.jsx("input",{type:"text",value:a,onChange:w=>s(w.target.value),placeholder:"Enter new license key",className:"flex-1 bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"}),p.jsx("button",{type:"submit",className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700",children:"Update License"})]})]}),p.jsxs("div",{className:"pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[p.jsx("button",{onClick:t.onDeactivateLicense,className:"w-full md:w-auto text-sm text-red-600 dark:text-red-400 font-semibold py-2 px-4 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/40 border border-red-200 dark:border-red-800",children:"Deactivate License on This Device"}),p.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"This will log you out and require re-activation. Your data will be preserved."})]})]}):null]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-neutral-800 dark:text-neutral-100 mb-2",children:"Device & Terminal Keys"}),p.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg text-blue-800 dark:text-blue-200 text-sm mb-6",children:"Generate access keys for your shop's terminals or employee devices."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 items-end",children:[p.jsxs("div",{className:"flex-1 w-full",children:[p.jsx("label",{className:"block text-xs text-neutral-500 mb-1",children:"Device Name"}),p.jsx("input",{type:"text",value:d,onChange:w=>h(w.target.value),placeholder:"e.g., Main Counter",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5"})]}),p.jsxs("div",{className:"flex-1 w-full",children:[p.jsx("label",{className:"block text-xs text-neutral-500 mb-1",children:"Assign to Employee (Optional)"}),p.jsxs("select",{value:g,onChange:w=>v(w.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5",children:[p.jsx("option",{value:"",children:"Select Employee"}),c.map(w=>p.jsxs("option",{value:w.id,children:[w.name," (",w.role,")"]},w.id))]})]}),p.jsx("button",{onClick:y,disabled:i==="global",title:i==="global"?"Select a specific store first":"",className:"w-full sm:w-auto bg-primary-600 text-white font-semibold px-4 py-2.5 rounded-lg hover:bg-primary-700 whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Generate Key"})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"text-left p-2",children:"Device Name"}),p.jsx("th",{className:"text-left p-2",children:"Assigned To"}),p.jsx("th",{className:"text-left p-2",children:"Key"}),p.jsx("th",{className:"text-left p-2",children:"Status"}),p.jsx("th",{className:"text-right p-2",children:"Actions"})]})}),p.jsxs("tbody",{className:"divide-y dark:divide-neutral-700",children:[n.map(w=>p.jsxs("tr",{children:[p.jsx("td",{className:"p-2 font-medium",children:w.deviceName}),p.jsxs("td",{className:"p-2 text-neutral-600 dark:text-neutral-400",children:[w.assignedToUserName||"Unassigned",w.assignedToUserId&&!w.assignedToUserName.includes("(")&&(()=>{const x=c.find(_=>_.id===w.assignedToUserId);return x?` (${x.role})`:""})()]}),p.jsx("td",{className:"p-2 font-mono text-xs",children:w.key}),p.jsx("td",{className:"p-2",children:p.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${w.status==="Active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:w.status})}),p.jsx("td",{className:"p-2 text-right",children:w.status==="Active"&&p.jsx("button",{onClick:()=>b(w.id),className:"text-red-500 hover:underline text-xs",children:"Revoke"})})]},w.id)),n.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:"p-4 text-center text-neutral-500",children:"No device keys generated yet."})})]})]})})]})]})},{BanknotesIcon:mT,ClockIcon:gT,XMarkIcon:wde}=Po,bde=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})}),xde=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),_de=({customer:t,onClose:e,onConfirm:n,formatCurrency:r})=>{const[i,o]=P.useState("");return t?p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-sm",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Record Payment"}),p.jsx("button",{onClick:e,children:p.jsx(wde,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsxs("div",{className:"text-center p-3 bg-neutral-100 dark:bg-neutral-700 rounded-lg",children:[p.jsx("p",{className:"text-sm text-neutral-500",children:"Current Due"}),p.jsx("p",{className:"text-2xl font-bold",children:r(t.dueAmount)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount to Pay"}),p.jsx("input",{type:"number",value:i,onChange:a=>o(a.target.value),className:"w-full border p-2 rounded dark:bg-neutral-900 dark:border-neutral-600",autoFocus:!0})]}),p.jsx("button",{onClick:()=>n(parseFloat(i)),disabled:!i||parseFloat(i)<=0,className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 disabled:opacity-50",children:"Confirm Payment"})]})]})}):null},Sde=({customers:t,heldCarts:e,formatCurrency:n,onRecordPayment:r,onResumeHold:i,onDiscardHold:o,t:a})=>{const[s,l]=P.useState("credit"),[u,c]=P.useState(null),d=P.useMemo(()=>t.filter(g=>g.dueAmount>0),[t]),h=g=>{u&&(r(u.id,g),c(null))};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:"Credit & Holds"}),p.jsxs("div",{className:"flex bg-white dark:bg-neutral-800 rounded-lg shadow-sm p-1",children:[p.jsxs("button",{onClick:()=>l("credit"),className:`px-4 py-2 rounded-md text-sm font-semibold transition-colors ${s==="credit"?"bg-primary-100 text-primary-700 dark:bg-primary-900/50 dark:text-primary-300":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700"}`,children:["Credit Customers (",d.length,")"]}),p.jsxs("button",{onClick:()=>l("holds"),className:`px-4 py-2 rounded-md text-sm font-semibold transition-colors ${s==="holds"?"bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-300":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700"}`,children:["Held Orders (",e.length,")"]})]})]}),p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md overflow-hidden min-h-[400px]",children:[s==="credit"&&p.jsxs("div",{className:"p-0",children:[p.jsxs("div",{className:"p-4 border-b dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-700/30 flex items-center gap-2",children:[p.jsx(mT,{className:"w-5 h-5 text-neutral-500"}),p.jsx("h3",{className:"font-semibold",children:"Customers with Outstanding Dues"})]}),d.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-neutral-400",children:[p.jsx(mT,{className:"w-12 h-12 mb-2 opacity-50"}),p.jsx("p",{children:"No customers with due amounts."})]}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm text-left text-neutral-500 dark:text-neutral-400",children:[p.jsx("thead",{className:"text-xs text-neutral-700 dark:text-neutral-300 uppercase bg-neutral-50 dark:bg-neutral-700/50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3",children:"Customer Name"}),p.jsx("th",{className:"px-6 py-3",children:"Phone"}),p.jsx("th",{className:"px-6 py-3",children:"Due Amount"}),p.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y divide-neutral-100 dark:divide-neutral-700",children:d.map(g=>p.jsxs("tr",{className:"hover:bg-neutral-50 dark:hover:bg-neutral-700/50",children:[p.jsx("td",{className:"px-6 py-4 font-medium text-neutral-900 dark:text-neutral-100",children:g.name}),p.jsx("td",{className:"px-6 py-4",children:g.phone}),p.jsx("td",{className:"px-6 py-4 font-bold text-red-600 dark:text-red-400",children:n(g.dueAmount)}),p.jsx("td",{className:"px-6 py-4 text-right",children:p.jsx("button",{onClick:()=>c(g),className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-green-200",children:"Pay Now"})})]},g.id))})]})})]}),s==="holds"&&p.jsxs("div",{className:"p-0",children:[p.jsxs("div",{className:"p-4 border-b dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-700/30 flex items-center gap-2",children:[p.jsx(gT,{className:"w-5 h-5 text-neutral-500"}),p.jsx("h3",{className:"font-semibold",children:"Held / Suspended Orders"})]}),e.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-neutral-400",children:[p.jsx(gT,{className:"w-12 h-12 mb-2 opacity-50"}),p.jsx("p",{children:"No held orders currently active."})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:e.map(g=>{var v;return p.jsxs("div",{className:"border border-neutral-200 dark:border-neutral-700 rounded-lg p-4 bg-neutral-50 dark:bg-neutral-700/20 hover:shadow-md transition-shadow",children:[p.jsxs("div",{className:"flex justify-between items-start mb-3",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-neutral-800 dark:text-neutral-100",children:((v=g.customer)==null?void 0:v.name)||"Walk-in Customer"}),p.jsx("p",{className:"text-xs text-neutral-500",children:new Date(g.timestamp).toLocaleString()})]}),p.jsxs("span",{className:"bg-amber-100 text-amber-800 text-xs px-2 py-1 rounded font-mono",children:[g.items.length," Items"]})]}),g.note&&p.jsxs("div",{className:"mb-3 p-2 bg-yellow-50 dark:bg-yellow-900/20 text-xs text-yellow-800 dark:text-yellow-200 rounded border border-yellow-100 dark:border-yellow-900/30",children:["Note: ",g.note]}),p.jsxs("div",{className:"flex gap-2 mt-4",children:[p.jsxs("button",{onClick:()=>i(g),className:"flex-1 bg-primary-600 text-white py-2 rounded-lg text-sm font-semibold hover:bg-primary-700 flex items-center justify-center gap-2",children:["Resume ",p.jsx(bde,{className:"w-4 h-4"})]}),p.jsx("button",{onClick:()=>o(g.id),className:"px-3 bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-300 rounded-lg hover:bg-red-200",title:"Discard",children:p.jsx(xde,{className:"w-4 h-4"})})]})]},g.id)})})]})]}),p.jsx(_de,{customer:u,onClose:()=>c(null),onConfirm:h,formatCurrency:n})]})},Ede=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})}),Tde=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})}),Ade=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),Cde=({onSuccess:t,onStartTrial:e,licenseDatabase:n})=>{const[r,i]=P.useState(""),[o,a]=P.useState(""),[s,l]=P.useState(""),[u,c]=P.useState(null),[d,h]=P.useState(!1),g=async y=>{y.preventDefault(),c(null),h(!0),await new Promise(T=>setTimeout(T,800));const b=r.trim(),w=o.trim().toLowerCase(),x=s.trim(),_=n.find(T=>T.key===b);if(!_){c("Invalid license key. Please check the key provided by your vendor."),h(!1);return}if(_.status==="Activated"&&_.emailLock&&_.emailLock.toLowerCase()!==w){c("This license key has already been activated for a different user."),h(!1);return}if(_.status==="Revoked"){c("This license key has been revoked. Please contact support."),h(!1);return}if(new Date(_.validUntil)<new Date){c("This license key has expired."),h(!1);return}if(_.emailLock){if(_.emailLock.toLowerCase()!==w){c("This license key is locked to a different email address."),h(!1);return}}else if(!w){c("Please enter your email address."),h(!1);return}h(!1),t({..._,businessNameLock:x||_.businessNameLock,emailLock:w})},v=()=>{confirm("Factory Reset: This will delete ALL data (products, sales, users) on this device and reset the license. This cannot be undone. Are you sure?")&&(localStorage.clear(),window.location.reload())};return p.jsxs("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-900 flex flex-col justify-center items-center p-4",children:[p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-8 rounded-2xl shadow-xl w-full max-w-md",children:[p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx("div",{className:"w-16 h-16 bg-primary-100 dark:bg-primary-900/50 rounded-full flex items-center justify-center text-primary-600 dark:text-primary-400",children:p.jsx(Ede,{className:"w-8 h-8"})})}),p.jsx("h1",{className:"text-2xl font-bold text-center text-neutral-800 dark:text-neutral-100 mb-2",children:"Activate Zenith POS"}),p.jsx("p",{className:"text-center text-neutral-500 dark:text-neutral-400 mb-8 text-sm",children:"Enter your license details to activate the software."}),u&&p.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-3",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0",children:p.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),p.jsx("p",{className:"text-sm text-red-600 dark:text-red-300",children:u})]}),p.jsxs("form",{onSubmit:g,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email Address"}),p.jsxs("div",{className:"relative",children:[p.jsx(Ade,{className:"absolute left-3 top-3 w-5 h-5 text-neutral-400"}),p.jsx("input",{type:"email",required:!0,value:o,onChange:y=>a(y.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 focus:ring-2 focus:ring-primary-500 outline-none transition-all dark:text-white",placeholder:"registered@email.com"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"License Key"}),p.jsx("input",{type:"text",required:!0,value:r,onChange:y=>i(y.target.value),className:"w-full px-4 py-3 rounded-lg bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 focus:ring-2 focus:ring-primary-500 outline-none transition-all font-mono text-sm dark:text-white",placeholder:"ZENITH-XXXX-XXXX-XXXX"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Business Name"}),p.jsx("input",{type:"text",value:s,onChange:y=>l(y.target.value),className:"w-full px-4 py-3 rounded-lg bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 focus:ring-2 focus:ring-primary-500 outline-none transition-all dark:text-white",placeholder:"e.g. My Awesome Shop"}),p.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Leave blank if not specified by vendor."})]}),p.jsx("button",{type:"submit",disabled:d,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 rounded-lg transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center",children:d?p.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):p.jsxs(p.Fragment,{children:["Activate License",p.jsx(Tde,{className:"w-5 h-5 ml-2"})]})})]}),p.jsxs("div",{className:"mt-6 pt-6 border-t border-neutral-200 dark:border-neutral-700 flex flex-col items-center gap-3",children:[p.jsx("button",{onClick:e,className:"text-primary-600 dark:text-primary-400 font-semibold text-sm hover:underline",children:"Start 7-Day Free Trial"}),p.jsx("button",{onClick:v,className:"text-red-500 text-xs hover:underline",children:"Trouble logging in? Factory Reset"})]})]}),p.jsxs("div",{className:"mt-8 text-center text-neutral-500 dark:text-neutral-400 text-sm",children:[p.jsx("p",{children:"Need a license? Contact Sales"}),p.jsx("p",{className:"mt-1 font-medium",children:"ziauddin537000@gmail.com"})]})]})},{BuildingStorefrontIcon:kde}=Po,Pde=({onLogin:t,onInitiateRegister:e,onInitiateForgotPassword:n,error:r,onClearError:i,noUsersFound:o,activeLicense:a,onDeactivateLicense:s})=>{const[l,u]=P.useState("login"),[c,d]=P.useState(""),[h,g]=P.useState(""),[v,y]=P.useState(""),[b,w]=P.useState("");P.useEffect(()=>{o&&u("register")},[o]);const x=E=>{u(E),i==null||i(),E==="login"&&g("")},_=E=>{switch(E.preventDefault(),l){case"login":t(c,h);break;case"register":if(h!==b){alert("Passwords do not match!");return}e(v,c,h);break;case"forgot_password":n(c);break}},T=()=>{if(o&&l==="register")return"Setup Admin Account";switch(l){case"login":return"Welcome Back";case"register":return"Create Account";case"forgot_password":return"Forgot Password"}},S=()=>{if(o&&l==="register")return"Create the first admin account for this shop.";switch(l){case"login":return"Please login to your account";case"register":return"Register your admin account";case"forgot_password":return"Enter your email to receive a reset link"}};return p.jsx("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-900 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 max-w-md w-full rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row max-w-4xl",children:[p.jsxs("div",{className:"bg-primary-600 p-8 md:w-1/2 flex flex-col justify-center items-center text-center text-white",children:[p.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-6 shadow-lg",children:p.jsx(kde,{className:"w-10 h-10 text-primary-600"})}),p.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Zenith POS"}),p.jsx("p",{className:"text-primary-100 mb-8",children:"Smart Business Management"}),p.jsxs("ul",{className:"text-left space-y-3 text-sm text-primary-50 hidden md:block",children:[p.jsx("li",{className:"flex items-center gap-2",children:" Real-time Inventory Tracking"}),p.jsx("li",{className:"flex items-center gap-2",children:" Offline Mode Support"}),p.jsx("li",{className:"flex items-center gap-2",children:" Multi-Shop Management"}),p.jsx("li",{className:"flex items-center gap-2",children:" AI-Powered Insights"})]})]}),p.jsxs("div",{className:"p-8 md:w-1/2 flex flex-col justify-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100 mb-1",children:T()}),p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-6",children:S()}),(a==null?void 0:a.emailLock)&&p.jsxs("div",{className:"mb-4 p-2 bg-blue-50 text-blue-800 rounded border border-blue-200 text-xs text-center",children:["Licensed to: ",p.jsx("strong",{children:a.emailLock})]}),r&&p.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm border border-red-200",children:r}),o&&l==="login"&&p.jsxs("div",{className:"mb-4 p-3 bg-amber-100 text-amber-800 rounded-lg text-sm border border-amber-200",children:["Fresh Install? Please ",p.jsx("button",{onClick:()=>x("register"),className:"font-bold underline",children:"Register"})," first."]}),p.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l==="register"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Full Name"}),p.jsx("input",{type:"text",required:!0,value:v,onChange:E=>y(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:"John Doe"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email Address"}),p.jsx("input",{type:"email",required:!0,value:c,onChange:E=>d(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:"name@company.com"})]}),["login","register"].includes(l)&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Password"}),p.jsx("input",{type:"password",required:!0,value:h,onChange:E=>g(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:""}),l==="login"&&p.jsx("div",{className:"text-right mt-1",children:p.jsx("button",{type:"button",onClick:()=>x("forgot_password"),className:"text-xs text-primary-600 hover:underline",children:"Forgot Password?"})})]}),l==="register"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Confirm Password"}),p.jsx("input",{type:"password",required:!0,value:b,onChange:E=>w(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:""})]}),p.jsxs("button",{type:"submit",className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors mt-2",children:[l==="login"&&"Sign In",l==="register"&&"Register Admin",l==="forgot_password"&&"Send Reset Link"]})]}),p.jsxs("div",{className:"mt-6 text-center text-sm text-neutral-500",children:[l==="login"&&p.jsxs(p.Fragment,{children:["Don't have an account?"," ",p.jsx("button",{onClick:()=>x("register"),className:"text-primary-600 font-semibold hover:underline",children:"Register"})]}),l==="register"&&!o&&p.jsxs(p.Fragment,{children:["Already have an account?"," ",p.jsx("button",{onClick:()=>x("login"),className:"text-primary-600 font-semibold hover:underline",children:"Login"})]}),l==="register"&&o&&p.jsx("p",{className:"text-xs italic",children:"Registration required for first use."}),l==="forgot_password"&&p.jsx("button",{onClick:()=>x("login"),className:"text-neutral-500 hover:text-neutral-800 font-medium",children:" Back to Login"})]}),s&&p.jsx("div",{className:"mt-8 pt-4 border-t border-neutral-100 text-center",children:p.jsx("button",{onClick:s,className:"text-red-500 text-xs hover:underline",children:"Wrong License? Deactivate & Change Key"})})]})]})})},Ide=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),vT=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,Nde=[["1","2","3","4","5","6","7","8","9","0","Backspace"],["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M",",",".","Enter"],["Space"]],Ode=()=>{const[t,e]=P.useState(!1),[n,r]=P.useState(null),i=P.useRef(null);P.useEffect(()=>{if(!vT())return;const a=l=>{const u=l.target;(u.tagName==="INPUT"||u.tagName==="TEXTAREA")&&!u.getAttribute("readonly")&&(r(u),e(!0))},s=l=>{i.current&&i.current.contains(l.target)||n&&l.target===n||(e(!1),r(null))};return document.addEventListener("focusin",a),document.addEventListener("mousedown",s),()=>{document.removeEventListener("focusin",a),document.removeEventListener("mousedown",s)}},[n]);const o=a=>{var v;if(!n)return;const s=n.selectionStart||0,l=n.selectionEnd||0,u=n.value;let c=u,d=s;if(a==="Backspace")s===l&&s>0?(c=u.slice(0,s-1)+u.slice(s),d=s-1):(c=u.slice(0,s)+u.slice(l),d=s);else if(a==="Enter")if(n.tagName==="TEXTAREA")c=u.slice(0,s)+`
`+u.slice(l),d=s+1;else{e(!1);return}else if(a==="Space")c=u.slice(0,s)+" "+u.slice(l),d=s+1;else{const y=a;c=u.slice(0,s)+y+u.slice(l),d=s+1}const h=(v=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:v.set;h?h.call(n,c):n.value=c;const g=new Event("input",{bubbles:!0});n.dispatchEvent(g),n.focus(),n.setSelectionRange(d,d)};return!vT()||!t?null:p.jsxs("div",{ref:i,className:"fixed bottom-0 left-0 right-0 bg-neutral-200 dark:bg-neutral-900 border-t border-neutral-300 dark:border-neutral-700 p-2 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-[9999]",children:[p.jsx("div",{className:"flex justify-end mb-1",children:p.jsx("button",{onClick:()=>e(!1),className:"p-1 bg-red-500 text-white rounded hover:bg-red-600",children:p.jsx(Ide,{className:"w-5 h-5"})})}),p.jsx("div",{className:"flex flex-col gap-1 max-w-5xl mx-auto",children:Nde.map((a,s)=>p.jsx("div",{className:"flex justify-center gap-1",children:a.map(l=>{let u="w-10 sm:w-14";return l==="Space"&&(u="w-64 sm:w-80"),(l==="Backspace"||l==="Enter")&&(u="w-16 sm:w-24 bg-neutral-300 dark:bg-neutral-600"),p.jsx("button",{onMouseDown:c=>{c.preventDefault(),o(l)},className:`${u} h-10 sm:h-12 rounded bg-white dark:bg-neutral-700 text-neutral-800 dark:text-neutral-100 shadow-sm hover:bg-neutral-100 dark:hover:bg-neutral-600 active:bg-neutral-300 dark:active:bg-neutral-500 font-semibold text-sm sm:text-base transition-colors select-none`,children:l==="Backspace"?"":l},l)})},s))})]})};var Lv=function(t,e){return Lv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Lv(t,e)};function PN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Lv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var _f=function(){return _f=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_f.apply(this,arguments)};function Cs(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function IN(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function NN(t,e){return function(n,r){e(n,r,t)}}function ON(t,e,n,r,i,o){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var s=r.kind,l=s==="getter"?"get":s==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,h=!1,g=n.length-1;g>=0;g--){var v={};for(var y in r)v[y]=y==="access"?{}:r[y];for(var y in r.access)v.access[y]=r.access[y];v.addInitializer=function(w){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(w||null))};var b=(0,n[g])(s==="accessor"?{get:c.get,set:c.set}:c[l],v);if(s==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(d=a(b.get))&&(c.get=d),(d=a(b.set))&&(c.set=d),(d=a(b.init))&&i.unshift(d)}else(d=a(b))&&(s==="field"?i.unshift(d):c[l]=d)}u&&Object.defineProperty(u,r.name,c),h=!0}function MN(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function RN(t){return typeof t=="symbol"?t:"".concat(t)}function $N(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function jN(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ue(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}function DN(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Bh=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function LN(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Bh(e,t,n)}function Sf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function lw(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function UN(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(lw(arguments[e]));return t}function BN(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function FN(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function os(t){return this instanceof os?(this.v=t,this):new os(t)}function VN(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(v){return Promise.resolve(v).then(g,d)}}function s(g,v){r[g]&&(i[g]=function(y){return new Promise(function(b,w){o.push([g,y,b,w])>1||l(g,y)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(r[g](v))}catch(y){h(o[0][3],y)}}function u(g){g.value instanceof os?Promise.resolve(g.value.v).then(c,d):h(o[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function zN(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(a){return(n=!n)?{value:os(t[i](a)),done:!1}:o?o(a):a}:o}}function qN(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Sf=="function"?Sf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}function GN(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Mde=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Uv=function(t){return Uv=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Uv(t)};function HN(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Uv(t),r=0;r<n.length;r++)n[r]!=="default"&&Bh(e,t,n[r]);return Mde(e,t),e}function WN(t){return t&&t.__esModule?t:{default:t}}function KN(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function JN(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function YN(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function XN(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var Rde=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function QN(t){function e(o){t.error=t.hasError?new Rde(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(a){return e(a),i()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function ZN(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,a){return r?e?".jsx":".js":i&&(!o||!a)?n:i+o+"."+a.toLowerCase()+"js"}):t}const $de={__extends:PN,__assign:_f,__rest:Cs,__decorate:IN,__param:NN,__esDecorate:ON,__runInitializers:MN,__propKey:RN,__setFunctionName:$N,__metadata:jN,__awaiter:ue,__generator:DN,__createBinding:Bh,__exportStar:LN,__values:Sf,__read:lw,__spread:UN,__spreadArrays:BN,__spreadArray:FN,__await:os,__asyncGenerator:VN,__asyncDelegator:zN,__asyncValues:qN,__makeTemplateObject:GN,__importStar:HN,__importDefault:WN,__classPrivateFieldGet:KN,__classPrivateFieldSet:JN,__classPrivateFieldIn:YN,__addDisposableResource:XN,__disposeResources:QN,__rewriteRelativeImportExtension:ZN},jde=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:XN,get __assign(){return _f},__asyncDelegator:zN,__asyncGenerator:VN,__asyncValues:qN,__await:os,__awaiter:ue,__classPrivateFieldGet:KN,__classPrivateFieldIn:YN,__classPrivateFieldSet:JN,__createBinding:Bh,__decorate:IN,__disposeResources:QN,__esDecorate:ON,__exportStar:LN,__extends:PN,__generator:DN,__importDefault:WN,__importStar:HN,__makeTemplateObject:GN,__metadata:jN,__param:NN,__propKey:RN,__read:lw,__rest:Cs,__rewriteRelativeImportExtension:ZN,__runInitializers:MN,__setFunctionName:$N,__spread:UN,__spreadArray:FN,__spreadArrays:BN,__values:Sf,default:$de},Symbol.toStringTag,{value:"Module"})),Dde=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class uw extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Lde extends uw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class yT extends uw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wT extends uw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Bv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Bv||(Bv={}));class Ude{constructor(e,{headers:n={},customFetch:r,region:i=Bv.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Dde(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ue(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:g}=r;g||(g=this.region);const v=new URL(`${this.url}/${n}`);g&&g!=="any"&&(h["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let y;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let b=c;d&&(a=new AbortController,o=setTimeout(()=>a.abort(),d),c?(b=a.signal,c.addEventListener("abort",()=>a.abort())):b=a.signal);const w=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:b}).catch(S=>{throw new Lde(S)}),x=w.headers.get("x-relay-error");if(x&&x==="true")throw new yT(w);if(!w.ok)throw new wT(w);let _=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return _==="application/json"?T=yield w.json():_==="application/octet-stream"||_==="application/pdf"?T=yield w.blob():_==="text/event-stream"?T=w:_==="multipart/form-data"?T=yield w.formData():T=yield w.text(),{data:T,error:null,response:w}}catch(s){return{data:null,error:s,response:s instanceof wT||s instanceof yT?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var Xt={};const ks=HO(jde);var xc={},_c={},Sc={},Ec={},Tc={},Ac={},bT;function eO(){if(bT)return Ac;bT=1,Object.defineProperty(Ac,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ac.default=t,Ac}var xT;function tO(){if(xT)return Tc;xT=1,Object.defineProperty(Tc,"__esModule",{value:!0});const e=ks.__importDefault(eO());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let s=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,d,h;let g=null,v=null,y=null,b=l.status,w=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=S:v=JSON.parse(S))}const _=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),T=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");_&&T&&T.length>1&&(y=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(g={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,y=null,b=406,w="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const _=await l.text();try{g=JSON.parse(_),Array.isArray(g)&&l.status===404&&(v=[],g=null,b=200,w="OK")}catch{l.status===404&&_===""?(b=204,w="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((h=g==null?void 0:g.details)===null||h===void 0)&&h.includes("0 rows"))&&(g=null,b=200,w="OK"),g&&this.shouldThrowOnError)throw new e.default(g)}return{error:g,data:v,count:y,status:b,statusText:w}});return this.shouldThrowOnError||(s=s.catch(l=>{var u,c,d,h,g,v;let y="";const b=l==null?void 0:l.cause;if(b){const w=(u=b==null?void 0:b.message)!==null&&u!==void 0?u:"",x=(c=b==null?void 0:b.code)!==null&&c!==void 0?c:"";y=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,y+=`

Caused by: ${(h=b==null?void 0:b.name)!==null&&h!==void 0?h:"Error"}: ${w}`,x&&(y+=` (${x})`),b!=null&&b.stack&&(y+=`
${b.stack}`)}else y=(g=l==null?void 0:l.stack)!==null&&g!==void 0?g:"";return{error:{message:`${(v=l==null?void 0:l.name)!==null&&v!==void 0?v:"FetchError"}: ${l==null?void 0:l.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,o)}returns(){return this}overrideTypes(){return this}}return Tc.default=n,Tc}var _T;function nO(){if(_T)return Ec;_T=1,Object.defineProperty(Ec,"__esModule",{value:!0});const e=ks.__importDefault(tO());class n extends e.default{select(i){let o=!1;const a=(i??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:a,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${o?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:a=o}={}){const s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,o,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:a=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var c;const d=[i?"analyze":null,o?"verbose":null,a?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Ec.default=n,Ec}var ST;function cw(){if(ST)return Sc;ST=1,Object.defineProperty(Sc,"__esModule",{value:!0});const e=ks.__importDefault(nO()),n=new RegExp("[,()]");class r extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const s=Array.from(new Set(a)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(o,`in.(${s})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:s,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(o,`${u}fts${c}.${a}`),this}match(o){return Object.entries(o).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(o,a,s){return this.url.searchParams.append(o,`not.${a}.${s}`),this}or(o,{foreignTable:a,referencedTable:s=a}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${o})`),this}filter(o,a,s){return this.url.searchParams.append(o,`${a}.${s}`),this}}return Sc.default=r,Sc}var ET;function rO(){if(ET)return _c;ET=1,Object.defineProperty(_c,"__esModule",{value:!0});const e=ks.__importDefault(cw());class n{constructor(i,{headers:o={},schema:a,fetch:s}){this.url=i,this.headers=new Headers(o),this.schema=a,this.fetch=s}select(i,o){const{head:a=!1,count:s}=o??{},l=a?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:a=!0}={}){var s;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:a=!1,count:s,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:o}={}){var a;const s="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var o;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return _c.default=n,_c}var TT;function Bde(){if(TT)return xc;TT=1,Object.defineProperty(xc,"__esModule",{value:!0});const t=ks,e=t.__importDefault(rO()),n=t.__importDefault(cw());class r{constructor(o,{headers:a={},schema:s,fetch:l}={}){this.url=o,this.headers=new Headers(a),this.schemaName=s,this.fetch=l}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:s=!1,get:l=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${o}`);let g;s||l?(d=s?"HEAD":"GET",Object.entries(a).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{h.searchParams.append(y,b)})):(d="POST",g=a);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new n.default({method:d,url:h,headers:v,schema:this.schemaName,body:g,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return xc.default=r,xc}Object.defineProperty(Xt,"__esModule",{value:!0});var iO=Xt.PostgrestError=pO=Xt.PostgrestBuilder=fO=Xt.PostgrestTransformBuilder=cO=Xt.PostgrestFilterBuilder=lO=Xt.PostgrestQueryBuilder=aO=Xt.PostgrestClient=void 0;const Ps=ks,oO=Ps.__importDefault(Bde());var aO=Xt.PostgrestClient=oO.default;const sO=Ps.__importDefault(rO());var lO=Xt.PostgrestQueryBuilder=sO.default;const uO=Ps.__importDefault(cw());var cO=Xt.PostgrestFilterBuilder=uO.default;const dO=Ps.__importDefault(nO());var fO=Xt.PostgrestTransformBuilder=dO.default;const hO=Ps.__importDefault(tO());var pO=Xt.PostgrestBuilder=hO.default;const mO=Ps.__importDefault(eO());iO=Xt.PostgrestError=mO.default;var gO=Xt.default={PostgrestClient:oO.default,PostgrestQueryBuilder:sO.default,PostgrestFilterBuilder:uO.default,PostgrestTransformBuilder:dO.default,PostgrestBuilder:hO.default,PostgrestError:mO.default};const Fde=GO({__proto__:null,get PostgrestBuilder(){return pO},get PostgrestClient(){return aO},get PostgrestError(){return iO},get PostgrestFilterBuilder(){return cO},get PostgrestQueryBuilder(){return lO},get PostgrestTransformBuilder(){return fO},default:gO},[Xt]),{PostgrestClient:Vde,PostgrestQueryBuilder:ipe,PostgrestFilterBuilder:ope,PostgrestTransformBuilder:ape,PostgrestBuilder:spe,PostgrestError:lpe}=gO||Fde;class zde{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qde="2.83.0",Gde=`realtime-js/${qde}`,vO="1.0.0",Hde="2.0.0",AT=vO,Fv=1e4,Wde=1e3,Kde=100;var Zi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zi||(Zi={}));var Et;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Et||(Et={}));var $n;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($n||($n={}));var Vv;(function(t){t.websocket="websocket"})(Vv||(Vv={}));var eo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(eo||(eo={}));class Jde{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodePush(e){var n,r;const{event:i,topic:o,payload:a}=e,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=this.META_LENGTH+l.length+s.length+o.length+i.length,c=new ArrayBuffer(this.HEADER_LENGTH+u);let d=new DataView(c),h=0;d.setUint8(h++,this.KINDS.push),d.setUint8(h++,l.length),d.setUint8(h++,s.length),d.setUint8(h++,o.length),d.setUint8(h++,i.length),Array.from(l,v=>d.setUint8(h++,v.charCodeAt(0))),Array.from(s,v=>d.setUint8(h++,v.charCodeAt(0))),Array.from(o,v=>d.setUint8(h++,v.charCodeAt(0))),Array.from(i,v=>d.setUint8(h++,v.charCodeAt(0)));var g=new Uint8Array(c.byteLength+a.byteLength);return g.set(new Uint8Array(c),0),g.set(new Uint8Array(a),c.byteLength),g.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r,i,o;const a=e.topic,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,c=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let g=new DataView(h),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,l.length),g.setUint8(v++,s.length),g.setUint8(v++,a.length),g.setUint8(v++,u.length),g.setUint8(v++,this.BINARY_ENCODING),Array.from(l,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(s,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(a,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(v++,b.charCodeAt(0)));var y=new Uint8Array(h.byteLength+c.byteLength);return y.set(new Uint8Array(h),0),y.set(new Uint8Array(c),h.byteLength),y.buffer}_encodeJsonUserBroadcastPush(e){var n,r,i,o;const a=e.topic,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,c=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer,g=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let y=new DataView(v),b=0;y.setUint8(b++,this.KINDS.userBroadcastPush),y.setUint8(b++,l.length),y.setUint8(b++,s.length),y.setUint8(b++,a.length),y.setUint8(b++,u.length),y.setUint8(b++,this.JSON_ENCODING),Array.from(l,x=>y.setUint8(b++,x.charCodeAt(0))),Array.from(s,x=>y.setUint8(b++,x.charCodeAt(0))),Array.from(a,x=>y.setUint8(b++,x.charCodeAt(0))),Array.from(u,x=>y.setUint8(b++,x.charCodeAt(0)));var w=new Uint8Array(v.byteLength+h.byteLength);return w.set(new Uint8Array(v),0),w.set(new Uint8Array(h),v.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,n,i);case this.KINDS.reply:return this._decodeReply(e,n,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodePush(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3);let s=this.HEADER_LENGTH+this.META_LENGTH-1;const l=r.decode(e.slice(s,s+i));s=s+i;const u=r.decode(e.slice(s,s+o));s=s+o;const c=r.decode(e.slice(s,s+a));s=s+a;const d=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{join_ref:l,ref:null,topic:u,event:c,payload:d}}_decodeReply(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const h=r.decode(e.slice(l,l+s));l=l+s;const g=JSON.parse(r.decode(e.slice(l,e.byteLength))),v={status:h,response:g};return{join_ref:u,ref:c,topic:d,event:$n.reply,payload:v}}_decodeBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const s=r.decode(e.slice(a,a+i));a=a+i;const l=r.decode(e.slice(a,a+o));a=a+o;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{join_ref:null,ref:null,topic:s,event:l,payload:u}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),g=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST,event:c,payload:g};return a>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class yO{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(He||(He={}));const CT=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=Yde(a,t,e,i),o),{}):{}},Yde=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?wO(o,a):zv(a)},wO=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return efe(e,n)}switch(t){case He.bool:return Xde(e);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return Qde(e);case He.json:case He.jsonb:return Zde(e);case He.timestamp:return tfe(e);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return zv(e);default:return zv(e)}},zv=t=>t,Xde=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Qde=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Zde=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},efe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>wO(e,s))}return t},tfe=t=>typeof t=="string"?t.replace(" ","T"):t,bO=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Zp{constructor(e,n,r={},i=Fv){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var kT;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(kT||(kT={}));class _l{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_l.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=_l.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_l.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=o[u];if(d){const h=c.map(b=>b.presence_ref),g=d.map(b=>b.presence_ref),v=c.filter(b=>g.indexOf(b.presence_ref)<0),y=d.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(s[u]=v),y.length>0&&(l[u]=y)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const d=e[s].map(g=>g.presence_ref),h=c.filter(g=>d.indexOf(g.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var PT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(PT||(PT={}));var Sl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Sl||(Sl={}));var Ir;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ir||(Ir={}));class dw{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Zp(this,$n.join,this.params,this.timeout),this.rejoinTimer=new yO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Et.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this._on($n.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new _l(this),this.broadcastEndpointURL=bO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Et.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Sl.PRESENCE]&&this.bindings[Sl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Ir.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Ir.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){e==null||e(Ir.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,w=[];for(let x=0;x<b;x++){const _=y[x],{filter:{event:T,schema:S,table:E,filter:A}}=_,C=g&&g[x];if(C&&C.event===T&&C.schema===S&&C.table===E&&C.filter===A)w.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=Et.errored,e==null||e(Ir.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Ir.SUBSCRIBED);return}}).receive("error",g=>{this.state=Et.errored,e==null||e(Ir.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ir.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Et.joined&&e===Sl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Et.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($n.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Zp(this,$n.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Et.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Zp(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Kde){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=$n;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var v,y,b;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(y=g.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(g=>g.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var v,y,b,w,x,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const T=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return T&&((y=n.ids)===null||y===void 0?void 0:y.includes(T))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const T=(x=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return T==="*"||T===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:y,table:b,commit_timestamp:w,type:x,errors:_}=v;h=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:w,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(v))}g.callback(h,r)})}_isClosed(){return this.state===Et.closed}_isJoined(){return this.state===Et.joined}_isJoining(){return this.state===Et.joining}_isLeaving(){return this.state===Et.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&dw.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($n.close,{},e)}_onError(e){this._on($n.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Et.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=CT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=CT(e.columns,e.old_record)),n}}const em=()=>{},Cc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nfe=[1e3,2e3,5e3,1e4],rfe=1e4,ife=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ofe{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fv,this.transport=null,this.heartbeatIntervalMs=Cc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=em,this.ref=0,this.reconnectTimer=null,this.vsn=AT,this.logger=em,this.conn=null,this.sendBuffer=[],this.serializer=new Jde,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Vv.websocket}`,this.httpEndpoint=bO(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zde.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zi.connecting:return eo.Connecting;case Zi.open:return eo.Open;case Zi.closing:return eo.Closing;default:return eo.Closed}}isConnected(){return this.connectionState()===eo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new dw(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Wde,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Cc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zi.open||this.conn.readyState===Zi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger($n.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([ife],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Gde};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push($n.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new yO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,u,c,d,h,g;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Fv,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Cc.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:em,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:AT,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>nfe[v-1]||rfe,this.vsn){case vO:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(v,y)=>y(JSON.stringify(v)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(v,y)=>y(JSON.parse(v));break;case Hde:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class fw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ut(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class afe extends fw{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qv extends fw{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const hw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),sfe=()=>Response,Gv=t=>{if(Array.isArray(t))return t.map(n=>Gv(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Gv(r)}),e},lfe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},tm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},ufe=(t,e,n)=>ue(void 0,void 0,void 0,function*(){const r=yield sfe();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const o=t.status||500,a=(i==null?void 0:i.statusCode)||o+"";e(new afe(tm(i),o,a))}).catch(i=>{e(new qv(tm(i),i))}):e(new qv(tm(t),t))}),cfe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(lfe(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Bu(t,e,n,r,i,o){return ue(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(n,cfe(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>ufe(l,s,r))})})}function _u(t,e,n,r){return ue(this,void 0,void 0,function*(){return Bu(t,"GET",e,n,r)})}function Zn(t,e,n,r,i){return ue(this,void 0,void 0,function*(){return Bu(t,"POST",e,r,i,n)})}function Hv(t,e,n,r,i){return ue(this,void 0,void 0,function*(){return Bu(t,"PUT",e,r,i,n)})}function dfe(t,e,n,r){return ue(this,void 0,void 0,function*(){return Bu(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function pw(t,e,n,r,i){return ue(this,void 0,void 0,function*(){return Bu(t,"DELETE",e,r,i,n)})}class ffe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ut(e))return{data:null,error:e};throw e}})}}var xO;class hfe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[xO]="BlobDownloadBuilder",this.promise=null}asStream(){return new ffe(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ut(e))return{data:null,error:e};throw e}})}}xO=Symbol.toStringTag;const pfe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},IT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mfe{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=hw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return ue(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},IT),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(e=="PUT"?Hv:Zn)(this.fetch,`${this.url}/object/${c}`,o,Object.assign({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ut(o))return{data:null,error:o};throw o}})}upload(e,n,r){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ue(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),a=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:IT.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield Hv(this.fetch,s.toString(),l,{headers:c});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ut(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Zn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new fw("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}update(e,n,r){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ue(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Zn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ue(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Zn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ue(this,void 0,void 0,function*(){try{const i=yield Zn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"",s=this._getFinalPath(e),l=()=>_u(this.fetch,`${this.url}/${i}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new hfe(l,this.shouldThrowOnError)}info(e){return ue(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield _u(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Gv(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}exists(e){return ue(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield dfe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r)&&r instanceof qv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(e){return ue(this,void 0,void 0,function*(){try{return{data:yield pw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}list(e,n,r){return ue(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},pfe),n),{prefix:e||""});return{data:yield Zn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}listV2(e,n){return ue(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Zn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const _O="2.83.0",SO={"X-Client-Info":`storage-js/${_O}`};class gfe{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},SO),n),this.fetch=hw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ue(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield _u(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}getBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield _u(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}createBucket(e){return ue(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Zn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return ue(this,void 0,void 0,function*(){try{return{data:yield Hv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield pw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class vfe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},SO),n),this.fetch=hw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}listBuckets(e){return ue(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield _u(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield pw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}}const mw={"X-Client-Info":`storage-js/${_O}`,"Content-Type":"application/json"};class EO extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function xn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class nm extends EO{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yfe extends EO{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var NT;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(NT||(NT={}));const gw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),wfe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},OT=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bfe=(t,e,n)=>ue(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new nm(OT(a),i,s))}).catch(()=>{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new nm(s,i,a))});else{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new nm(s,i,a))}}else e(new yfe(OT(t),t))}),xfe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(wfe(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function _fe(t,e,n,r,i,o){return ue(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(n,xfe(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>bfe(l,s,r))})})}function _n(t,e,n,r,i){return ue(this,void 0,void 0,function*(){return _fe(t,"POST",e,r,i,n)})}class Sfe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mw),n),this.fetch=gw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return ue(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}listIndexes(e){return ue(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return ue(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}}class Efe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mw),n),this.fetch=gw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield _n(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}getVectors(e){return ue(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}listVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield _n(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}queryVectors(e){return ue(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield _n(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}}class Tfe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mw),n),this.fetch=gw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}getBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}listBuckets(){return ue(this,arguments,void 0,function*(e={}){try{return{data:yield _n(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}}class Afe extends Tfe{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new Cfe(this.url,this.headers,e,this.fetch)}}class Cfe extends Sfe{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ue(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ue(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ue(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ue(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new kfe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class kfe extends Efe{constructor(e,n,r,i,o){super(e,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ue(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ue(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ue(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ue(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ue(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Pfe extends gfe{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new mfe(this.url,this.headers,e,this.fetch)}get vectors(){return new Afe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vfe(this.url+"/iceberg",this.headers,this.fetch)}}const Ife="2.83.0";let il="";typeof Deno<"u"?il="deno":typeof document<"u"?il="web":typeof navigator<"u"&&navigator.product==="ReactNative"?il="react-native":il="node";const Nfe={"X-Client-Info":`supabase-js-${il}/${Ife}`},Ofe={headers:Nfe},Mfe={schema:"public"},Rfe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$fe={},jfe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Dfe=()=>Headers,Lfe=(t,e,n)=>{const r=jfe(n),i=Dfe();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},a),{headers:u}))}};function Ufe(t){return t.endsWith("/")?t:t+"/"}function Bfe(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},c),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Ffe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ufe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const TO="2.83.0",Ko=30*1e3,Wv=3,rm=Wv*Ko,Vfe="http://localhost:9999",zfe="supabase.auth.token",qfe={"X-Client-Info":`gotrue-js/${TO}`},Kv="X-Supabase-Api-Version",AO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gfe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hfe=10*60*1e3;class Su extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function de(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Wfe extends Su{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Kfe(t){return de(t)&&t.name==="AuthApiError"}class to extends Su{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ji extends Su{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class mn extends ji{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jfe(t){return de(t)&&t.name==="AuthSessionMissingError"}class zo extends ji{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kc extends ji{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Pc extends ji{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yfe(t){return de(t)&&t.name==="AuthImplicitGrantRedirectError"}class MT extends ji{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jv extends ji{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function im(t){return de(t)&&t.name==="AuthRetryableFetchError"}class RT extends ji{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Yv extends ji{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$T=` 	
\r=`.split(""),Xfe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<$T.length;e+=1)t[$T[e].charCodeAt(0)]=-2;for(let e=0;e<Ef.length;e+=1)t[Ef[e].charCodeAt(0)]=e;return t})();function jT(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ef[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ef[r]),e.queuedBits-=6}}function CO(t,e,n){const r=Xfe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function DT(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{ehe(a,r,n)};for(let a=0;a<t.length;a+=1)CO(t.charCodeAt(a),i,o);return e.join("")}function Qfe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Zfe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Qfe(r,e)}}function ehe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Aa(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)CO(t.charCodeAt(i),n,r);return new Uint8Array(e)}function the(t){const e=[];return Zfe(t,n=>e.push(n)),new Uint8Array(e)}function co(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>jT(i,n,r)),jT(null,n,r),e.join("")}function nhe(t){return Math.round(Date.now()/1e3)+t}function rhe(){return Symbol("auth-callback")}const jt=()=>typeof window<"u"&&typeof document<"u",qi={tested:!1,writable:!1},kO=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qi.tested)return qi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qi.tested=!0,qi.writable=!0}catch{qi.tested=!0,qi.writable=!1}return qi.writable};function ihe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const PO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ohe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Jo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Gi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ri=async(t,e)=>{await t.removeItem(e)};class Fh{constructor(){this.promise=new Fh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Fh.promiseConstructor=Promise;function om(t){const e=t.split(".");if(e.length!==3)throw new Yv("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Gfe.test(e[r]))throw new Yv("JWT not in base64url format");return{header:JSON.parse(DT(e[0])),payload:JSON.parse(DT(e[1])),signature:Aa(e[2]),raw:{header:e[0],payload:e[1]}}}async function ahe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function she(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function lhe(t){return("0"+t.toString(16)).substr(-2)}function uhe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,lhe).join("")}async function che(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function dhe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await che(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qo(t,e,n=!1){const r=uhe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Jo(t,`${e}-code-verifier`,i);const o=await dhe(r);return[o,r===o?"plain":"s256"]}const fhe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hhe(t){const e=t.headers.get(Kv);if(!e||!e.match(fhe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function phe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function mhe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ghe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Go(t){if(!ghe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function am(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vhe(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function LT(t){return JSON.parse(JSON.stringify(t))}const Xi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yhe=[502,503,504];async function UT(t){var e;if(!ohe(t))throw new Jv(Xi(t),0);if(yhe.includes(t.status))throw new Jv(Xi(t),t.status);let n;try{n=await t.json()}catch(o){throw new to(Xi(o),o)}let r;const i=hhe(t);if(i&&i.getTime()>=AO["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new RT(Xi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new mn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new RT(Xi(n),t.status,n.weak_password.reasons);throw new Wfe(Xi(n),t.status||500,r)}const whe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ye(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Kv]||(o[Kv]=AO["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await bhe(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function bhe(t,e,n,r,i,o){const a=whe(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new Jv(Xi(l),0)}if(s.ok||await UT(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await UT(l)}}function Xn(t){var e;let n=null;She(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=nhe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function BT(t){const e=Xn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function di(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function xhe(t){return{data:t,error:null}}function _he(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=Cs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function FT(t){return t}function She(t){return t.access_token&&t.refresh_token&&t.expires_in}const sm=["global","local","others"];class Ehe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=PO(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=sm[0]){if(sm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sm.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:di})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Cs(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:_he,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(de(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:di})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:FT});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(de(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Go(e);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:di})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Go(e);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:di})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Go(e);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:di})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Go(e.userId);try{const{data:n,error:r}=await ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Go(e.userId),Go(e.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:FT});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(de(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}}function VT(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ho={debug:!!(globalThis&&kO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class IO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class The extends IO{}async function Ahe(t,e,n){Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new The(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ho.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Che(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function NO(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function khe(t){return parseInt(t,16)}function Phe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Ihe(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=NO(t.address),v=c?`${c}://${r}`:r,y=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${g}

${y}`;let w=`URI: ${d}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),s&&(w+=`
Not Before: ${s.toISOString()}`),l&&(w+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);x+=`
- ${_}`}w+=x}return`${b}
${w}`}class yt extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Tf extends yt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Nhe({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new yt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new yt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new yt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new yt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new yt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new yt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new yt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new yt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(OO(a)){if(o.rp.id!==a)return new yt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new yt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new yt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ohe({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new yt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new yt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(OO(r)){if(n.rpId!==r)return new yt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new yt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Mhe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Rhe=new Mhe;function $he(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Cs(t,["challenge","user","excludeCredentials"]),o=Aa(e).buffer,a=Object.assign(Object.assign({},n),{id:Aa(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Aa(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function jhe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Cs(t,["challenge","allowCredentials"]),i=Aa(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Aa(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function Dhe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:co(new Uint8Array(t.response.attestationObject)),clientDataJSON:co(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Lhe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:co(new Uint8Array(i.authenticatorData)),clientDataJSON:co(new Uint8Array(i.clientDataJSON)),signature:co(new Uint8Array(i.signature)),userHandle:i.userHandle?co(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function OO(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function zT(){var t,e;return!!(jt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Uhe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Tf("Browser returned unexpected credential type",e)}:{data:null,error:new Tf("Empty credential response",e)}}catch(e){return{data:null,error:Nhe({error:e,options:t})}}}async function Bhe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Tf("Browser returned unexpected credential type",e)}:{data:null,error:new Tf("Empty credential response",e)}}catch(e){return{data:null,error:Ohe({error:e,options:t})}}}const Fhe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Vhe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Af(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=Af(s,a):r[o]=Af(a)}else r[o]=a}return r}function zhe(t,e){return Af(Fhe,t,e||{})}function qhe(t,e){return Af(Vhe,t,e||{})}class Ghe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??Rhe.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=zhe(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:c,error:d}=await Uhe({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=qhe(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:c,error:d}=await Bhe(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(a){return de(a)?{data:null,error:a}:{data:null,error:new to("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Su("rpId is required for WebAuthn authentication")};try{if(!zT())return{data:null,error:new to("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return de(a)?{data:null,error:a}:{data:null,error:new to("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Su("rpId is required for WebAuthn registration")};try{if(!zT())return{data:null,error:new to("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return de(a)?{data:null,error:a}:{data:null,error:new to("Unexpected error in register",a)}}}}Che();const Hhe={url:Vfe,storageKey:zfe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qfe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function qT(t,e,n){return await n()}const Wo={};class Eu{get jwks(){var e,n;return(n=(e=Wo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Wo[this.storageKey]=Object.assign(Object.assign({},Wo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Wo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Wo[this.storageKey]=Object.assign(Object.assign({},Wo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Hhe),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Eu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Eu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&jt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Ehe({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=PO(o.fetch),this.lock=o.lock||qT,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:jt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Ahe:this.lock=qT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ghe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:kO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=VT(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=VT(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${TO}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(jt()&&(n=ihe(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),jt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Yfe(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return de(n)?this._returnResult({error:n}):this._returnResult({error:new to("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Xn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(de(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:c,password:d,options:h}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await qo(this.storage,this.storageKey)),o=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:Xn})}else if("phone"in e){const{phone:c,password:d,options:h}=e;o=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Xn})}else throw new kc("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(de(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:BT})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:BT})}else throw new kc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new zo;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,u,c,d,h;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:y,wallet:b,statement:w,options:x}=e;let _;if(jt())if(typeof b=="object")_=b;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")_=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const T=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=NO(S[0]);let A=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const k=await _.request({method:"eth_chainId"});A=khe(k)}const C={domain:T.host,address:E,statement:w,uri:T.href,version:"1",chainId:A,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.resources};g=Ihe(C),v=await _.request({method:"personal_sign",params:[Phe(g),E]})}try{const{data:y,error:b}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Xn});if(b)throw b;if(!y||!y.session||!y.user){const w=new zo;return this._returnResult({data:{user:null,session:null},error:w})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(de(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var n,r,i,o,a,s,l,u,c,d,h,g;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:b,wallet:w,statement:x,options:_}=e;let T;if(jt())if(typeof w=="object")T=w;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))T=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=w}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const E=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)v=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),y=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await T.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:b,error:w}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:co(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Xn});if(w)throw w;if(!b||!b.session||!b.user){const x=new zo;return this._returnResult({data:{user:null,session:null},error:x})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:w})}catch(b){if(de(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await Gi(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:a}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Xn});if(await ri(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new zo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(de(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Xn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new zo;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await qo(this.storage,this.storageKey));const{error:d}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new kc("You must provide either an email or phone number.")}catch(s){if(de(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Xn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(de(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await qo(this.storage,this.storageKey));const u=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:xhe});return!((o=u.data)===null||o===void 0)&&o.url&&jt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new mn;const{error:i}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(de(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new kc("You must provide either an email or phone number and a type")}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Gi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<rm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Gi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=am()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=vhe(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:di}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mn}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:di})})}catch(n){if(de(n))return Jfe(n)&&(await this._removeSession(),await ri(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new mn;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await qo(this.storage,this.storageKey));const{data:u,error:c}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:di});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(de(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=om(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(de(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new mn;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!jt())throw new Pc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Pc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new MT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new MT("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=e;if(!o||!s||!a||!u)throw new Pc("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let h=c+d;l&&(h=parseInt(l));const g=h-c;g*1e3<=Ko&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:y,error:b}=await this._getUser(o);if(b)throw b;const w={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(r){if(de(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Gi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(Kfe(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await ri(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=rhe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await qo(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(de(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:d,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return jt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(de(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=e,d=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xn}),{data:h,error:g}=d;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new zo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(de(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await she(async i=>(i>0&&await ahe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&im(o)&&Date.now()+a-r<Ko})}catch(r){if(this._debug(n,"error",r),de(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),jt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Gi(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Gi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Jo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:am()}else if(i&&!i.user&&!i.user){const a=await Gi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await ri(this.storage,this.storageKey+"-user"),await Jo(this.storage,this.storageKey,i)):i.user=am()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<rm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${rm}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),im(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Fh;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new mn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),de(o)){const a={data:null,error:o};return im(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Jo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=LT(i);await Jo(this.storage,this.storageKey,o)}else{const i=LT(n);await Jo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ri(this.storage,this.storageKey),await ri(this.storage,this.storageKey+"-code-verifier"),await ri(this.storage,this.storageKey+"-user"),this.userStorage&&await ri(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&jt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ko);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ko);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ko}ms, refresh threshold is ${Wv} ticks`),i<=Wv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof IO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await qo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Dhe(e.webauthn.credential_response):Lhe(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:$he(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:jhe(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=om(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new mn})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new mn});const a=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&jt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new mn});const a=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&jt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new mn})})}catch(e){if(de(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new mn})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+Hfe>i)return r;const{data:o,error:a}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return this._returnResult({data:null,error:v});r=g.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=om(r);n!=null&&n.allowExpired||phe(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:i,signature:a},error:null}}const c=mhe(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,the(`${s}.${l}`)))throw new Yv("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}}Eu.nextInstanceID={};const Whe=Eu;class Khe extends Whe{constructor(e){super(e)}}class Jhe{constructor(e,n,r){var i,o,a;this.supabaseUrl=e,this.supabaseKey=n;const s=Ffe(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:Mfe,realtime:$fe,auth:Object.assign(Object.assign({},Rfe),{storageKey:l}),global:Ofe},c=Bfe(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=c.global.headers)!==null&&o!==void 0?o:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=c.auth)!==null&&a!==void 0?a:{},this.headers,c.global.fetch),this.fetch=Lfe(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Vde(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Pfe(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Ude(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:a,flowType:s,lock:l,debug:u,throwOnError:c},d,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Khe({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:s,lock:l,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ofe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yhe=(t,e,n)=>new Jhe(t,e,n);function Xhe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Xhe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Qhe={VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3d3R4Y2NndGtmYXhhbWRlc2FwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1MzExNzQsImV4cCI6MjA3OTEwNzE3NH0.9k0oqOZDctqpI22FhLsq-Y2Rz2Ak51bzYkb46nRQizQ",VITE_SUPABASE_URL:"https://twwtxccgtkfaxamdesap.supabase.co"},MO=Qhe||{},RO=MO.VITE_SUPABASE_URL,$O=MO.VITE_SUPABASE_ANON_KEY,Xs=!!RO&&!!$O,Zhe=RO||"https://placeholder.supabase.co",epe=$O||"placeholder",Qs=Yhe(Zhe,epe);function pr(t,e){try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.error(`Error loading ${t} from storage`,n),e}}const tpe=({message:t,type:e,onClose:n})=>p.jsxs("div",{className:`fixed bottom-6 right-6 z-50 px-6 py-4 rounded-lg shadow-xl text-white font-semibold flex items-center gap-3 transition-all transform duration-300 ${e==="success"?"bg-green-600":"bg-neutral-800"}`,children:[e==="success"?p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:p.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:p.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-13a.75.75 0 00-1.5 0v5a.75.75 0 001.5 0V5zm-.75 9.75a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),p.jsx("span",{children:t}),p.jsx("button",{onClick:n,className:"ml-2 hover:text-neutral-300",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]});function npe(){const[t,e]=P.useState(null),[n,r]=P.useState(!0),[i,o]=P.useState(!1),[a,s]=P.useState(()=>pr("zenith_license_database",[])),[l,u]=P.useState(null),[c,d]=P.useState(null),[h,g]=P.useState(!0),[v,y]=P.useState(()=>pr("zenith_stores",$5)),[b,w]=P.useState(()=>pr("zenith_users",Pb)),[x,_]=P.useState(()=>pr("zenith_products",j5)),[T,S]=P.useState(()=>pr("zenith_customers",D5)),[E,A]=P.useState(()=>pr("zenith_suppliers",z5)),[C,k]=P.useState(()=>pr("zenith_pos",q5)),[N,O]=P.useState(()=>pr("zenith_sales",L5)),[R,D]=P.useState(()=>pr("zenith_expenses",G5)),[U,j]=P.useState(()=>pr("zenith_licenses",F5)),[M,L]=P.useState(V5),[$,B]=P.useState(null),[q,Y]=P.useState([]),[W,re]=P.useState(null),[pe,xe]=P.useState("dashboard"),[ke,st]=P.useState(!1),[je,Q]=P.useState(!1),[fe,we]=P.useState("Zenith POS"),[H,Te]=P.useState(null),[G,me]=P.useState("global"),[V,se]=P.useState("en"),[he,it]=P.useState("USD"),[Xe,ht]=P.useState(()=>{const K=localStorage.getItem("zenith_tax_rate");return K?Number(K):8}),[xt,on]=P.useState(navigator.onLine);P.useEffect(()=>localStorage.setItem("zenith_stores",JSON.stringify(v)),[v]),P.useEffect(()=>localStorage.setItem("zenith_users",JSON.stringify(b)),[b]),P.useEffect(()=>localStorage.setItem("zenith_products",JSON.stringify(x)),[x]),P.useEffect(()=>localStorage.setItem("zenith_customers",JSON.stringify(T)),[T]),P.useEffect(()=>localStorage.setItem("zenith_suppliers",JSON.stringify(E)),[E]),P.useEffect(()=>localStorage.setItem("zenith_pos",JSON.stringify(C)),[C]),P.useEffect(()=>localStorage.setItem("zenith_sales",JSON.stringify(N)),[N]),P.useEffect(()=>localStorage.setItem("zenith_expenses",JSON.stringify(R)),[R]),P.useEffect(()=>localStorage.setItem("zenith_licenses",JSON.stringify(U)),[U]),P.useEffect(()=>localStorage.setItem("zenith_license_database",JSON.stringify(a)),[a]),P.useEffect(()=>localStorage.setItem("zenith_tax_rate",Xe.toString()),[Xe]),P.useEffect(()=>{l?localStorage.setItem("zenith_current_user",JSON.stringify(l)):localStorage.removeItem("zenith_current_user")},[l]),P.useEffect(()=>{b.length>0&&b.some(Z=>!Z.storeAccess||!Array.isArray(Z.storeAccess))&&(console.log("Migrating legacy user data: Adding default storeAccess..."),w(Z=>Z.map(te=>({...te,storeAccess:Array.isArray(te.storeAccess)&&te.storeAccess.length>0?te.storeAccess:["all"]})))),l&&(!l.storeAccess||!Array.isArray(l.storeAccess))&&(console.log("Healed current user session."),u(K=>K?{...K,storeAccess:["all"]}:null))},[l,b.length]),P.useEffect(()=>{if(W){const K=setTimeout(()=>re(null),3e3);return()=>clearTimeout(K)}},[W]),P.useEffect(()=>{const K=()=>{on(!0),L(te=>[{id:`n-net-${Date.now()}`,title:"Back Online",message:"Connection restored. Syncing data...",timestamp:new Date().toISOString(),read:!1},...te])},Z=()=>{on(!1),L(te=>[{id:`n-net-${Date.now()}`,title:"Offline Mode",message:"You are offline. Changes will be saved locally.",timestamp:new Date().toISOString(),read:!1},...te])};return window.addEventListener("online",K),window.addEventListener("offline",Z),()=>{window.removeEventListener("online",K),window.removeEventListener("offline",Z)}},[]),P.useEffect(()=>{(async()=>{const Z=localStorage.getItem("zenith_master_license");let te=null;if(Z)try{const ee=JSON.parse(Z);ee&&ee.key&&ee.validUntil&&(new Date(ee.validUntil)>new Date?(te=ee,e(ee),o(!1)):localStorage.removeItem("zenith_master_license"))}catch{localStorage.removeItem("zenith_master_license")}if(te){const ee=localStorage.getItem("zenith_current_user");if(ee)try{const Ae=JSON.parse(ee);te.emailLock&&Ae.email.trim().toLowerCase()!==te.emailLock.trim().toLowerCase()?localStorage.removeItem("zenith_current_user"):(Ae.storeAccess||(Ae.storeAccess=["all"]),u(Ae))}catch{localStorage.removeItem("zenith_current_user")}}r(!1),g(!1)})()},[]);const Kn=async()=>{if(Xs)try{await Qs.auth.signOut()}catch{console.warn("Supabase signout failed (likely offline)")}u(null),localStorage.removeItem("zenith_current_user"),xe("dashboard")},It=()=>{confirm("Are you sure you want to deactivate the license on this device? You will need to enter the license key again.")&&(e(null),u(null),localStorage.removeItem("zenith_master_license"),localStorage.removeItem("zenith_current_user"),localStorage.removeItem("zenith_trial_start"),window.location.reload())},hn=K=>{const Z=a.find(ee=>ee.key===K.trim());if(!Z)return!1;const te={...Z,status:"Activated",activationDate:new Date().toISOString(),organizationId:t==null?void 0:t.organizationId};return e(te),localStorage.setItem("zenith_master_license",JSON.stringify(te)),o(!1),!0},Di=(K,Z)=>{const te=a.find(ee=>ee.key===K.trim());return te?Z?(Vu(te),!0):hn(K):!1},Vh=async(K,Z)=>{var Ae,De,Ne,Kt;d(null);const te=K.trim().toLowerCase();if(K==="superadmin@zenith.com"&&Z==="superadmin123!"){const Ge=Pb.find(Jt=>Jt.email==="superadmin@zenith.com");if(Ge){u(Ge),xe("settings");return}}if(t&&t.emailLock&&te!==t.emailLock.trim().toLowerCase()){d(`This device is licensed to ${t.emailLock}. Please log in with that email.`);return}if(b.length===0){d("No users found. Please Register a new account first.");return}const ee=b.find(Ge=>Ge.email.toLowerCase()===te&&Ge.password===Z);if(ee){if(t&&!t.emailLock){const Jt={...t,emailLock:te};e(Jt),localStorage.setItem("zenith_master_license",JSON.stringify(Jt)),s(Ui=>Ui.map(ie=>ie.key===Jt.key?{...ie,emailLock:te}:ie)),console.log("Legacy license auto-healed and locked to:",te)}const Ge={...ee,storeAccess:ee.storeAccess||["all"]};u(Ge),xe("dashboard");return}if(Xs)try{const{data:Ge,error:Jt}=await Qs.auth.signInWithPassword({email:K,password:Z,options:{captchaToken:void 0}});if(Jt)d(Jt.message);else if(Ge.user){const Ui={id:Ge.user.id,email:Ge.user.email||K,name:((Ae=Ge.user.user_metadata)==null?void 0:Ae.name)||K.split("@")[0],password:Z,role:((De=Ge.user.user_metadata)==null?void 0:De.role)||ce.Admin,avatarUrl:((Ne=Ge.user.user_metadata)==null?void 0:Ne.avatarUrl)||`https://i.pravatar.cc/150?u=${Ge.user.id}`,dashboardWidgets:oo(ce.Admin),organizationId:t==null?void 0:t.organizationId,storeAccess:((Kt=Ge.user.user_metadata)==null?void 0:Kt.storeAccess)||["all"]};if(w(ie=>ie.find(Oe=>Oe.id===Ui.id)?ie:[...ie,Ui]),t&&!t.emailLock){const ie={...t,emailLock:te};e(ie),localStorage.setItem("zenith_master_license",JSON.stringify(ie)),s(Oe=>Oe.map(Ce=>Ce.key===ie.key?{...Ce,emailLock:te}:Ce))}u(Ui),xe("dashboard");return}}catch{}d("Invalid email or password.")},Is=async(K,Z,te)=>{if(!t||!t.organizationId){d("Cannot register without an active license.");return}const ee=Z.trim().toLowerCase();if(t.emailLock&&ee!==t.emailLock.trim().toLowerCase()){d(`This software is already activated for ${t.emailLock}. You cannot register a new account.`);return}if(b.find(De=>De.email.toLowerCase()===ee)){d("This email is already registered locally. Please Login.");return}d(null);const Ae={id:`u${Date.now()}`,name:K,email:Z,password:te,role:ce.Admin,avatarUrl:`https://i.pravatar.cc/150?u=${Z}`,dashboardWidgets:oo(ce.Admin),organizationId:t.organizationId,isVerified:!0,storeAccess:["all"]};if(w(De=>[...De,Ae]),t&&!t.emailLock){const De={...t,emailLock:ee};e(De),localStorage.setItem("zenith_master_license",JSON.stringify(De)),s(Ne=>Ne.map(Kt=>Kt.key===De.key?{...Kt,emailLock:ee}:Kt))}if(Xs)try{Qs.auth.signUp({email:Z,password:te,options:{data:{name:K,role:ce.Admin,organizationId:t.organizationId}}})}catch{console.warn("Cloud registration skipped.")}u(Ae),xe("dashboard"),alert("Account created successfully! You are now logged in.")},zh=async K=>{if(!Xs){d("Password reset is not available in offline/demo mode.");return}const{error:Z}=await Qs.auth.resetPasswordForEmail(K,{redirectTo:window.location.origin});Z?d(Z.message):alert("Password reset link sent to your email.")},qh=async K=>{if(!Xs)return;const{error:Z}=await Qs.auth.updateUser({password:K});alert(Z?Z.message:"Password updated successfully!")},Fu=K=>{if(!l)return;const Z={...l,...K};u(Z),w(te=>te.map(ee=>ee.id===l.id?{...ee,...K}:ee))},Vu=K=>{const Z=`org_${K.key.split("-")[2].toLowerCase()}`,te={...K,status:"Activated",activationDate:new Date().toISOString(),organizationId:Z};s(ee=>ee.map(Ae=>Ae.key===te.key?te:Ae)),localStorage.setItem("zenith_master_license",JSON.stringify(te)),localStorage.removeItem("zenith_trial_start"),y([]),_([]),S([]),A([]),k([]),O([]),D([]),j([]),w([]),localStorage.removeItem("zenith_stores"),localStorage.removeItem("zenith_products"),localStorage.removeItem("zenith_customers"),localStorage.removeItem("zenith_suppliers"),localStorage.removeItem("zenith_pos"),localStorage.removeItem("zenith_sales"),localStorage.removeItem("zenith_expenses"),localStorage.removeItem("zenith_licenses"),localStorage.removeItem("zenith_users"),e(te),o(!1),u(null),localStorage.removeItem("zenith_current_user")},Gh=()=>{let K=localStorage.getItem("zenith_trial_start");K||(K=new Date().toISOString(),localStorage.setItem("zenith_trial_start",K));const Z=new Date(K);if(Math.ceil(Math.abs(new Date().getTime()-Z.getTime())/(1e3*60*60*24))>Nb){alert("Your trial period has expired. Please enter a valid license key to continue.");return}o(!0);const ee={key:"TRIAL",organizationId:"org_trial",validUntil:new Date(Z.getTime()+Nb*864e5).toISOString(),planType:"Premium",status:"Activated",activationDate:new Date().toISOString(),maxShops:1,enabledFeatures:["AI_INSIGHTS","MULTI_LANGUAGE"]};e(ee)},lt=I.useCallback(K=>{var Z;return((Z=H5[V])==null?void 0:Z[K])||K},[V]),Hh=()=>{if(!l)return;const K=new Date;if($){B(null);const Z=`${lt("Shift Ended Notification")} (${K.toLocaleTimeString()})`,te={id:`n-shift-${Date.now()}`,title:lt("Shift Update"),message:Z,timestamp:K.toISOString(),read:!1};L(ee=>[te,...ee]),re({message:lt("Shift Ended Notification"),type:"info"})}else{const Z={id:`sh${Date.now()}`,userId:l.id,userName:l.name,startTime:K.toISOString(),endTime:null};B(Z);const te=`${lt("Shift Started Notification")} (${K.toLocaleTimeString()})`,ee={id:`n-shift-${Date.now()}`,title:lt("Shift Update"),message:te,timestamp:K.toISOString(),read:!1};L(Ae=>[ee,...Ae]),re({message:lt("Shift Started Notification"),type:"success"})}},Wh=K=>{if(!Qe||!t){alert("Cannot add a store without an active organization and license.");return}const Z=v.filter(ee=>ee.organizationId===Qe);if(t.planType!=="Enterprise"&&Z.length>=1){alert("Your current license plan does not support multiple stores. Please upgrade to the Enterprise plan to add more branches.");return}const te={...K,id:`store_${Date.now()}`,organizationId:Qe};y(ee=>[...ee,te])},Kh=K=>{if(!Qe)return;if(b.some(te=>{var ee;return te.organizationId===Qe&&((ee=te.storeAccess)==null?void 0:ee.length)===1&&te.storeAccess[0]===K})){alert("Cannot delete this store. One or more employees are exclusively assigned to it. Please reassign their store access before deleting.");return}confirm("Are you sure you want to delete this store? This will also remove associated data. This action cannot be undone.")&&(y(te=>te.filter(ee=>ee.id!==K)),G===K&&me("global"))},Jh=K=>{const Z=C.find(te=>te.id===K.id);Z&&Z.status!=="Completed"&&K.status==="Completed"&&(_(te=>te.map(ee=>{const Ae=K.items.find(De=>De.productId===ee.id);return Ae?{...ee,stock:ee.stock+Ae.quantity}:ee})),re({message:"Stock updated from Purchase Order",type:"success"})),k(te=>te.map(ee=>ee.id===K.id?K:ee))},Qe=l==null?void 0:l.organizationId,Yh=P.useMemo(()=>Qe?v.filter(K=>K.organizationId===Qe):[],[v,Qe]),z=P.useMemo(()=>{if(!l||!Qe)return[];const K=l.storeAccess||["all"];return K.includes("all")?v.filter(Z=>Z.organizationId===Qe):v.filter(Z=>K.includes(Z.id)&&Z.organizationId===Qe)},[l,Qe,v]),{employees:le,products:Ie,customers:Ve,suppliers:dr,purchaseOrders:Li,sales:Ar,expenses:Xh,licenseKeys:DO}=P.useMemo(()=>{if(!Qe)return{employees:[],products:[],customers:[],suppliers:[],purchaseOrders:[],sales:[],expenses:[],licenseKeys:[]};const K=ee=>{var De;if(!ee)return[];const Ae=ee.filter(Ne=>Ne&&Ne.organizationId===Qe);return G==="global"||(De=l==null?void 0:l.storeAccess)!=null&&De.includes("all")?Ae:Ae.filter(Ne=>Ne.storeId===G)},Z=b.filter(ee=>ee.organizationId===Qe);return{employees:G==="global"?Z:Z.filter(ee=>{var Ae;return(Ae=ee.storeAccess)==null?void 0:Ae.includes(G)}),products:K(x),customers:K(T),suppliers:K(E),purchaseOrders:K(C),sales:K(N),expenses:K(R),licenseKeys:K(U)}},[Qe,G,v,b,x,T,E,C,N,R,U,l]);P.useEffect(()=>{Qe&&we(`Shop (${Qe.substring(4,10).toUpperCase()})`)},[Qe]);const LO=P.useMemo(()=>{if(G==="global")return fe;const K=v.find(Z=>Z.id===G);return K?`${fe} - ${K.name}`:fe},[G,v,fe]);P.useEffect(()=>{je?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[je]);const fr=I.useCallback(K=>{const Z=dk[he];return Z?`${Z.symbol}${(K*Z.rate).toFixed(2)}`:`$${K.toFixed(2)}`},[he]),UO=(K,Z)=>{if(!l)return;const te={...l.dashboardWidgets,[K]:Z},ee={...l,dashboardWidgets:te};u(ee),Fu({dashboardWidgets:te})},BO=(K,Z)=>{if(!l||G==="global")return;const te=K.total-K.amountPaid,ee={...K,date:new Date().toISOString(),cashier:l.name,cashierId:l.id,organizationId:Qe,storeId:G};O(De=>[ee,...De]),te>0&&K.customerId!=="guest"&&S(De=>De.map(Ne=>Ne.id===K.customerId?{...Ne,dueAmount:Ne.dueAmount+te}:Ne));let Ae=[];_(De=>De.map(Ne=>{if(Ne.storeId!==G)return Ne;const Kt=Z.find(Ge=>Ge.id===Ne.id);if(Kt){const Ge=Math.max(0,Ne.stock-Kt.quantity);if(Ne.lowStockThreshold!==void 0&&Ge<=Ne.lowStockThreshold){const Jt=`n-low-${Ne.id}-${Date.now()}`;Ae.push({id:Jt,title:lt("Low Stock Alert"),message:`${Ne.name} ${lt("is running low")} (${Ge} ${Ne.unit||""}).`,timestamp:new Date().toISOString(),read:!1,link:"products"})}return{...Ne,stock:Ge}}return Ne})),Ae.length>0&&(L(De=>[...Ae,...De]),re({message:lt("Low Stock Alert"),type:"info"}))},vw=(K,Z)=>{S(te=>te.map(ee=>ee.id===K?{...ee,dueAmount:Math.max(0,ee.dueAmount-Z)}:ee)),re({message:"Payment Recorded",type:"success"})},yw=K=>{const Z={...K,id:`c${Date.now()}`,organizationId:Qe,storeId:G==="global"?"":G};return S(te=>[...te,Z]),Z},FO=(K,Z,te)=>{_(ee=>ee.map(Ae=>Ae.id===K?{...Ae,stock:Z}:Ae))},VO=K=>{alert("Please go to the POS screen and click the 'Held Orders' clock icon to resume this cart.")},zO=K=>{confirm("Are you sure you want to discard this held order?")&&(Y(Z=>Z.filter(te=>te.id!==K)),re({message:"Order Discarded",type:"info"}))};if(n||h)return p.jsx("div",{className:"flex h-screen items-center justify-center dark:bg-neutral-900",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!t)return p.jsx(Cde,{onSuccess:Vu,onStartTrial:Gh,licenseDatabase:a});if(!l)return p.jsx(Pde,{onLogin:Vh,onInitiateRegister:Is,onInitiateForgotPassword:zh,onVerifyEmail:K=>console.log("Verify email",K),onVerifyResetCode:K=>console.log("Verify reset code",K),onResetPassword:qh,error:c,onClearError:()=>d(null),noUsersFound:b.length===0,activeLicense:t,onDeactivateLicense:It});const qO=()=>{if(!l)return null;const K=ck.find(ie=>ie.path===pe);if(K&&!K.roles.includes(l.role))return p.jsx(hT,{title:"Unauthorized Access"});const Z=G!=="global"&&l.role===ce.Admin,te=l.role===ce.Manager,ee=l.role===ce.Admin,Ae=l.role===ce.Cashier,De=ee||te,Ne=ee,Kt=ee||te,Ge={...In.purchases,formFields:In.purchases.formFields.map(ie=>ie.key==="supplierId"?{...ie,options:dr.map(Oe=>({value:Oe.id,label:Oe.name}))}:ie)},Jt=(ie,Oe)=>{if(G==="global"&&ie!=="employees"){alert("Please select a specific store before adding new items.");return}const Ce={...Oe,id:`${ie.slice(0,1)}${Date.now()}`,organizationId:Qe,storeId:G};switch(ie){case"products":_(Bi=>[...Bi,Ce]);break;case"suppliers":A(Bi=>[...Bi,Ce]);break;case"purchases":k(Bi=>[...Bi,{...Ce,createdBy:l.name,createdAt:new Date().toISOString()}]);break;case"expenses":D(Bi=>[...Bi,{...Ce,recordedBy:l.name}]);break}},Ui=ie=>{Z&&w(Oe=>[...Oe,{...ie,id:`u${Date.now()}`,organizationId:Qe,dashboardWidgets:oo(ie.role),storeAccess:[G]}])};switch(pe){case"dashboard":return p.jsx(Ice,{products:Ie,sales:Ar,user:l,onWidgetChange:UO,formatCurrency:fr,t:lt,activeLicense:t,licenseKeys:DO});case"pos":return p.jsx(Vce,{user:l,customers:Ve,products:Ie,onAddSale:BO,onAddCustomer:yw,heldCarts:q,setHeldCarts:Y,formatCurrency:fr,t:lt,businessName:LO,activeStoreId:G,taxRate:Xe});case"products":return p.jsx(Vo,{dataType:"products",data:Ie,columns:In.products.columns,formFields:In.products.formFields,onAdd:ie=>Jt("products",ie),onUpdate:ie=>_(Oe=>Oe.map(Ce=>Ce.id===ie.id?ie:Ce)),onDelete:ie=>_(Oe=>Oe.filter(Ce=>!ie.includes(Ce.id))),customActions:{onAdjustStock:FO},t:lt,formatCurrency:fr,canAddNew:Kt,canEdit:De,canDelete:Ne});case"customers":return p.jsx(Vo,{dataType:"customers",data:Ve,columns:In.customers.columns,formFields:In.customers.formFields,onAdd:ie=>yw(ie),onUpdate:ie=>S(Oe=>Oe.map(Ce=>Ce.id===ie.id?ie:Ce)),onDelete:ie=>S(Oe=>Oe.filter(Ce=>!ie.includes(Ce.id))),customActions:{onRecordPayment:vw},t:lt,formatCurrency:fr,canAddNew:Kt||Ae,canEdit:De||Ae,canDelete:Ne});case"credit-holds":return p.jsx(Sde,{customers:Ve,heldCarts:q,formatCurrency:fr,onRecordPayment:vw,onResumeHold:VO,onDiscardHold:zO,t:lt});case"employees":return p.jsx(Vo,{dataType:"employees",data:le,columns:In.employees.columns,formFields:In.employees.formFields,onAdd:ie=>Ui(ie),onUpdate:ie=>w(Oe=>Oe.map(Ce=>Ce.id===ie.id?ie:Ce)),onDelete:ie=>w(Oe=>Oe.filter(Ce=>!ie.includes(Ce.id))),t:lt,formatCurrency:fr,canAddNew:Z,canEdit:ee,canDelete:ee,addNewDisabledTooltip:"Select a store to add an employee"});case"suppliers":return p.jsx(Vo,{dataType:"suppliers",data:dr,columns:In.suppliers.columns,formFields:In.suppliers.formFields,onAdd:ie=>Jt("suppliers",ie),onUpdate:ie=>A(Oe=>Oe.map(Ce=>Ce.id===ie.id?ie:Ce)),onDelete:ie=>A(Oe=>Oe.filter(Ce=>!ie.includes(Ce.id))),t:lt,formatCurrency:fr,canAddNew:Kt,canEdit:De,canDelete:Ne});case"purchases":return p.jsx(Vo,{dataType:"purchases",data:Li,columns:Ge.columns,formFields:Ge.formFields,onAdd:ie=>Jt("purchases",ie),onUpdate:ie=>Jh(ie),onDelete:ie=>k(Oe=>Oe.filter(Ce=>!ie.includes(Ce.id))),t:lt,formatCurrency:fr,canAddNew:Kt,canEdit:De,canDelete:Ne});case"expenses":return p.jsx(Vo,{dataType:"expenses",data:Xh,columns:In.expenses.columns,formFields:In.expenses.formFields,onAdd:ie=>Jt("expenses",ie),onUpdate:ie=>D(Oe=>Oe.map(Ce=>Ce.id===ie.id?ie:Ce)),onDelete:ie=>D(Oe=>Oe.filter(Ce=>!ie.includes(Ce.id))),t:lt,formatCurrency:fr,canAddNew:Kt,canEdit:De,canDelete:Ne});case"reports":return p.jsx(Zce,{sales:Ar,users:le,customers:Ve,formatCurrency:fr});case"settings":return p.jsx(gde,{user:l,onUpdateUser:Fu,employees:le,isDarkMode:je,toggleDarkMode:()=>Q(!je),businessName:fe,setBusinessName:we,businessLogo:H,setBusinessLogo:Te,licenseKeys:U,setLicenseKeys:j,language:V,setLanguage:se,currency:he,setCurrency:it,t:lt,licenseDatabase:a,setLicenseDatabase:s,activeLicense:t,onDeactivateLicense:It,onUpdateLicense:ie=>Di(ie,!1),isInTrial:i,onActivateTrialLicense:ie=>Di(ie,!0),activeStoreId:G,onAddStore:Wh,onDeleteStore:Kh,organizationStores:Yh,taxRate:Xe,setTaxRate:ht});default:return p.jsx(hT,{title:pe})}};return p.jsxs("div",{className:`flex h-screen bg-neutral-100 dark:bg-neutral-900 text-neutral-800 dark:text-neutral-100 antialiased ${je?"dark":""}`,children:[p.jsx(r$,{userRole:l.role,activeView:pe,setActiveView:xe,isOpen:ke,setIsOpen:st,businessName:fe,businessLogo:H,t:lt}),p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[p.jsx(e$,{user:l,onLogout:Kn,toggleSidebar:()=>st(!ke),isDarkMode:je,toggleDarkMode:()=>Q(!je),businessName:fe,businessLogo:H,activeView:pe,setActiveView:xe,notifications:M,setNotifications:L,activeShift:$,onToggleShift:Hh,isOnline:xt,t:lt,isInTrial:i,activeStoreId:G,setActiveStoreId:me,accessibleStores:z,allStores:v}),p.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-neutral-100 dark:bg-neutral-900 p-6",children:qO()}),W&&p.jsx(tpe,{message:W.message,type:W.type,onClose:()=>re(null)})]}),p.jsx(Ode,{})]})}const jO=document.getElementById("root");if(!jO)throw new Error("Could not find root element to mount to");const rpe=lm.createRoot(jO);rpe.render(p.jsx(I.StrictMode,{children:p.jsx(npe,{})}));
