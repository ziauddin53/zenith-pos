function GO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ve(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function HO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var KT={exports:{}},If={},JT={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu=Symbol.for("react.element"),WO=Symbol.for("react.portal"),KO=Symbol.for("react.fragment"),JO=Symbol.for("react.strict_mode"),YO=Symbol.for("react.profiler"),XO=Symbol.for("react.provider"),QO=Symbol.for("react.context"),ZO=Symbol.for("react.forward_ref"),eM=Symbol.for("react.suspense"),tM=Symbol.for("react.memo"),nM=Symbol.for("react.lazy"),Sw=Symbol.iterator;function rM(t){return t===null||typeof t!="object"?null:(t=Sw&&t[Sw]||t["@@iterator"],typeof t=="function"?t:null)}var YT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XT=Object.assign,QT={};function os(t,e,n){this.props=t,this.context=e,this.refs=QT,this.updater=n||YT}os.prototype.isReactComponent={};os.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};os.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZT(){}ZT.prototype=os.prototype;function tv(t,e,n){this.props=t,this.context=e,this.refs=QT,this.updater=n||YT}var nv=tv.prototype=new ZT;nv.constructor=tv;XT(nv,os.prototype);nv.isPureReactComponent=!0;var Ew=Array.isArray,eA=Object.prototype.hasOwnProperty,rv={current:null},tA={key:!0,ref:!0,__self:!0,__source:!0};function nA(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)eA.call(e,r)&&!tA.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Tu,type:t,key:o,ref:a,props:i,_owner:rv.current}}function iM(t,e){return{$$typeof:Tu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tu}function oM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Tw=/\/+/g;function np(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oM(""+t.key):e.toString(36)}function Mc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Tu:case WO:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+np(a,0):r,Ew(i)?(n="",t!=null&&(n=t.replace(Tw,"$&/")+"/"),Mc(i,e,n,"",function(u){return u})):i!=null&&(iv(i)&&(i=iM(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Tw,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Ew(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+np(o,s);a+=Mc(o,e,n,l,i)}else if(l=rM(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+np(o,s++),a+=Mc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Wu(t,e,n){if(t==null)return t;var r=[],i=0;return Mc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function aM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},Rc={transition:null},sM={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:Rc,ReactCurrentOwner:rv};function rA(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Wu,forEach:function(t,e,n){Wu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wu(t,function(){e++}),e},toArray:function(t){return Wu(t,function(e){return e})||[]},only:function(t){if(!iv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=os;Ce.Fragment=KO;Ce.Profiler=YO;Ce.PureComponent=tv;Ce.StrictMode=JO;Ce.Suspense=eM;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sM;Ce.act=rA;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=XT({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=rv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)eA.call(e,l)&&!tA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Tu,type:t.type,key:i,ref:o,props:r,_owner:a}};Ce.createContext=function(t){return t={$$typeof:QO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XO,_context:t},t.Consumer=t};Ce.createElement=nA;Ce.createFactory=function(t){var e=nA.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:ZO,render:t}};Ce.isValidElement=iv;Ce.lazy=function(t){return{$$typeof:nM,_payload:{_status:-1,_result:t},_init:aM}};Ce.memo=function(t,e){return{$$typeof:tM,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=Rc.transition;Rc.transition={};try{t()}finally{Rc.transition=e}};Ce.unstable_act=rA;Ce.useCallback=function(t,e){return rn.current.useCallback(t,e)};Ce.useContext=function(t){return rn.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return rn.current.useEffect(t,e)};Ce.useId=function(){return rn.current.useId()};Ce.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return rn.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};Ce.useRef=function(t){return rn.current.useRef(t)};Ce.useState=function(t){return rn.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return rn.current.useTransition()};Ce.version="18.3.1";JT.exports=Ce;var P=JT.exports;const I=Ve(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lM=P,uM=Symbol.for("react.element"),cM=Symbol.for("react.fragment"),dM=Object.prototype.hasOwnProperty,fM=lM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hM={key:!0,ref:!0,__self:!0,__source:!0};function iA(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)dM.call(e,r)&&!hM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uM,type:t,key:o,ref:a,props:i,_owner:fM.current}}If.Fragment=cM;If.jsx=iA;If.jsxs=iA;KT.exports=If;var p=KT.exports,fm={},oA={exports:{}},kn={},aA={exports:{}},sA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,U){var z=$.length;$.push(U);e:for(;0<z;){var J=z-1>>>1,G=$[J];if(0<i(G,U))$[J]=U,$[z]=G,z=J;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var U=$[0],z=$.pop();if(z!==U){$[0]=z;e:for(var J=0,G=$.length,Q=G>>>1;J<Q;){var we=2*(J+1)-1,xe=$[we],ke=we+1,lt=$[ke];if(0>i(xe,z))ke<G&&0>i(lt,xe)?($[J]=lt,$[ke]=z,J=ke):($[J]=xe,$[we]=z,J=we);else if(ke<G&&0>i(lt,z))$[J]=lt,$[ke]=z,J=ke;else break e}}return U}function i($,U){var z=$.sortIndex-U.sortIndex;return z!==0?z:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,g=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=$)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function T($){if(v=!1,_($),!y)if(n(l)!==null)y=!0,R(S);else{var U=n(u);U!==null&&L(T,U.startTime-$)}}function S($,U){y=!1,v&&(v=!1,w(C),C=-1),g=!0;var z=h;try{for(_(U),d=n(l);d!==null&&(!(d.expirationTime>U)||$&&!O());){var J=d.callback;if(typeof J=="function"){d.callback=null,h=d.priorityLevel;var G=J(d.expirationTime<=U);U=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),_(U)}else r(l);d=n(l)}if(d!==null)var Q=!0;else{var we=n(u);we!==null&&L(T,we.startTime-U),Q=!1}return Q}finally{d=null,h=z,g=!1}}var E=!1,A=null,C=-1,k=5,N=-1;function O(){return!(t.unstable_now()-N<k)}function M(){if(A!==null){var $=t.unstable_now();N=$;var U=!0;try{U=A(!0,$)}finally{U?D():(E=!1,A=null)}}else E=!1}var D;if(typeof b=="function")D=function(){b(M)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,j=B.port2;B.port1.onmessage=M,D=function(){j.postMessage(null)}}else D=function(){x(M,0)};function R($){A=$,E||(E=!0,D())}function L($,U){C=x(function(){$(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,R(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var z=h;h=U;try{return $()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var z=h;h=$;try{return U()}finally{h=z}},t.unstable_scheduleCallback=function($,U,z){var J=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?J+z:J):z=J,$){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=z+G,$={id:c++,callback:U,priorityLevel:$,startTime:z,expirationTime:G,sortIndex:-1},z>J?($.sortIndex=z,e(u,$),n(l)===null&&$===n(u)&&(v?(w(C),C=-1):v=!0,L(T,z-J))):($.sortIndex=G,e(l,$),y||g||(y=!0,R(S))),$},t.unstable_shouldYield=O,t.unstable_wrapCallback=function($){var U=h;return function(){var z=h;h=U;try{return $.apply(this,arguments)}finally{h=z}}}})(sA);aA.exports=sA;var pM=aA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mM=P,Cn=pM;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lA=new Set,El={};function Ao(t,e){Aa(t,e),Aa(t+"Capture",e)}function Aa(t,e){for(El[t]=e,t=0;t<e.length;t++)lA.add(e[t])}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hm=Object.prototype.hasOwnProperty,gM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Aw={},Cw={};function yM(t){return hm.call(Cw,t)?!0:hm.call(Aw,t)?!1:gM.test(t)?Cw[t]=!0:(Aw[t]=!0,!1)}function vM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wM(t,e,n,r){if(e===null||typeof e>"u"||vM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var ov=/[\-:]([a-z])/g;function av(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ov,av);Vt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ov,av);Vt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ov,av);Vt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function sv(t,e,n,r){var i=Vt.hasOwnProperty(e)?Vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wM(e,n,i,r)&&(n=null),r||i===null?yM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wr=mM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ku=Symbol.for("react.element"),Jo=Symbol.for("react.portal"),Yo=Symbol.for("react.fragment"),lv=Symbol.for("react.strict_mode"),pm=Symbol.for("react.profiler"),uA=Symbol.for("react.provider"),cA=Symbol.for("react.context"),uv=Symbol.for("react.forward_ref"),mm=Symbol.for("react.suspense"),gm=Symbol.for("react.suspense_list"),cv=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),dA=Symbol.for("react.offscreen"),kw=Symbol.iterator;function Ns(t){return t===null||typeof t!="object"?null:(t=kw&&t[kw]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,rp;function Zs(t){if(rp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rp=e&&e[1]||""}return`
`+rp+t}var ip=!1;function op(t,e){if(!t||ip)return"";ip=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{ip=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zs(t):""}function bM(t){switch(t.tag){case 5:return Zs(t.type);case 16:return Zs("Lazy");case 13:return Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 2:case 15:return t=op(t.type,!1),t;case 11:return t=op(t.type.render,!1),t;case 1:return t=op(t.type,!0),t;default:return""}}function ym(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yo:return"Fragment";case Jo:return"Portal";case pm:return"Profiler";case lv:return"StrictMode";case mm:return"Suspense";case gm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cA:return(t.displayName||"Context")+".Consumer";case uA:return(t._context.displayName||"Context")+".Provider";case uv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cv:return e=t.displayName||null,e!==null?e:ym(t.type)||"Memo";case ii:e=t._payload,t=t._init;try{return ym(t(e))}catch{}}return null}function xM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ym(e);case 8:return e===lv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ai(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _M(t){var e=fA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ju(t){t._valueTracker||(t._valueTracker=_M(t))}function hA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vm(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ai(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pA(t,e){e=e.checked,e!=null&&sv(t,"checked",e,!1)}function wm(t,e){pA(t,e);var n=Ai(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bm(t,e.type,n):e.hasOwnProperty("defaultValue")&&bm(t,e.type,Ai(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Iw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bm(t,e,n){(e!=="number"||Jc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var el=Array.isArray;function ha(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ai(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(el(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ai(n)}}function mA(t,e){var n=Ai(e.value),r=Ai(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ow(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _m(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yu,yA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yu=Yu||document.createElement("div"),Yu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SM=["Webkit","ms","Moz","O"];Object.keys(ol).forEach(function(t){SM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ol[e]=ol[t]})});function vA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ol.hasOwnProperty(t)&&ol[t]?(""+e).trim():e+"px"}function wA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var EM=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sm(t,e){if(e){if(EM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function Em(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tm=null;function dv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Am=null,pa=null,ma=null;function Mw(t){if(t=ku(t)){if(typeof Am!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=$f(e),Am(t.stateNode,t.type,e))}}function bA(t){pa?ma?ma.push(t):ma=[t]:pa=t}function xA(){if(pa){var t=pa,e=ma;if(ma=pa=null,Mw(t),e)for(t=0;t<e.length;t++)Mw(e[t])}}function _A(t,e){return t(e)}function SA(){}var ap=!1;function EA(t,e,n){if(ap)return t(e,n);ap=!0;try{return _A(t,e,n)}finally{ap=!1,(pa!==null||ma!==null)&&(SA(),xA())}}function Al(t,e){var n=t.stateNode;if(n===null)return null;var r=$f(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var Cm=!1;if(Ur)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){Cm=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{Cm=!1}function TM(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var al=!1,Yc=null,Xc=!1,km=null,AM={onError:function(t){al=!0,Yc=t}};function CM(t,e,n,r,i,o,a,s,l){al=!1,Yc=null,TM.apply(AM,arguments)}function kM(t,e,n,r,i,o,a,s,l){if(CM.apply(this,arguments),al){if(al){var u=Yc;al=!1,Yc=null}else throw Error(Y(198));Xc||(Xc=!0,km=u)}}function Co(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function TA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rw(t){if(Co(t)!==t)throw Error(Y(188))}function PM(t){var e=t.alternate;if(!e){if(e=Co(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Rw(i),t;if(o===r)return Rw(i),e;o=o.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function AA(t){return t=PM(t),t!==null?CA(t):null}function CA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=CA(t);if(e!==null)return e;t=t.sibling}return null}var kA=Cn.unstable_scheduleCallback,$w=Cn.unstable_cancelCallback,IM=Cn.unstable_shouldYield,NM=Cn.unstable_requestPaint,yt=Cn.unstable_now,OM=Cn.unstable_getCurrentPriorityLevel,fv=Cn.unstable_ImmediatePriority,PA=Cn.unstable_UserBlockingPriority,Qc=Cn.unstable_NormalPriority,MM=Cn.unstable_LowPriority,IA=Cn.unstable_IdlePriority,Nf=null,yr=null;function RM(t){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(Nf,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:DM,$M=Math.log,jM=Math.LN2;function DM(t){return t>>>=0,t===0?32:31-($M(t)/jM|0)|0}var Xu=64,Qu=4194304;function tl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=tl(s):(o&=a,o!==0&&(r=tl(o)))}else a=n&~i,a!==0?r=tl(a):o!==0&&(r=tl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-or(e),i=1<<n,r|=t[n],e&=~i;return r}function LM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-or(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=LM(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Pm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NA(){var t=Xu;return Xu<<=1,!(Xu&4194240)&&(Xu=64),t}function sp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Au(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-or(e),t[e]=n}function BM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-or(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function hv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-or(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Fe=0;function OA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var MA,pv,RA,$A,jA,Im=!1,Zu=[],gi=null,yi=null,vi=null,Cl=new Map,kl=new Map,li=[],FM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jw(t,e){switch(t){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Cl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(e.pointerId)}}function Ms(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ku(e),e!==null&&pv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function VM(t,e,n,r,i){switch(e){case"focusin":return gi=Ms(gi,t,e,n,r,i),!0;case"dragenter":return yi=Ms(yi,t,e,n,r,i),!0;case"mouseover":return vi=Ms(vi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Cl.set(o,Ms(Cl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,kl.set(o,Ms(kl.get(o)||null,t,e,n,r,i)),!0}return!1}function DA(t){var e=to(t.target);if(e!==null){var n=Co(e);if(n!==null){if(e=n.tag,e===13){if(e=TA(n),e!==null){t.blockedOn=e,jA(t.priority,function(){RA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tm=r,n.target.dispatchEvent(r),Tm=null}else return e=ku(n),e!==null&&pv(e),t.blockedOn=n,!1;e.shift()}return!0}function Dw(t,e,n){$c(t)&&n.delete(e)}function zM(){Im=!1,gi!==null&&$c(gi)&&(gi=null),yi!==null&&$c(yi)&&(yi=null),vi!==null&&$c(vi)&&(vi=null),Cl.forEach(Dw),kl.forEach(Dw)}function Rs(t,e){t.blockedOn===e&&(t.blockedOn=null,Im||(Im=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,zM)))}function Pl(t){function e(i){return Rs(i,t)}if(0<Zu.length){Rs(Zu[0],t);for(var n=1;n<Zu.length;n++){var r=Zu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gi!==null&&Rs(gi,t),yi!==null&&Rs(yi,t),vi!==null&&Rs(vi,t),Cl.forEach(e),kl.forEach(e),n=0;n<li.length;n++)r=li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<li.length&&(n=li[0],n.blockedOn===null);)DA(n),n.blockedOn===null&&li.shift()}var ga=Wr.ReactCurrentBatchConfig,ed=!0;function qM(t,e,n,r){var i=Fe,o=ga.transition;ga.transition=null;try{Fe=1,mv(t,e,n,r)}finally{Fe=i,ga.transition=o}}function GM(t,e,n,r){var i=Fe,o=ga.transition;ga.transition=null;try{Fe=4,mv(t,e,n,r)}finally{Fe=i,ga.transition=o}}function mv(t,e,n,r){if(ed){var i=Nm(t,e,n,r);if(i===null)yp(t,e,r,td,n),jw(t,r);else if(VM(i,t,e,n,r))r.stopPropagation();else if(jw(t,r),e&4&&-1<FM.indexOf(t)){for(;i!==null;){var o=ku(i);if(o!==null&&MA(o),o=Nm(t,e,n,r),o===null&&yp(t,e,r,td,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else yp(t,e,r,null,n)}}var td=null;function Nm(t,e,n,r){if(td=null,t=dv(r),t=to(t),t!==null)if(e=Co(t),e===null)t=null;else if(n=e.tag,n===13){if(t=TA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return td=t,null}function LA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OM()){case fv:return 1;case PA:return 4;case Qc:case MM:return 16;case IA:return 536870912;default:return 16}default:return 16}}var fi=null,gv=null,jc=null;function UA(){if(jc)return jc;var t,e=gv,n=e.length,r,i="value"in fi?fi.value:fi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return jc=i.slice(t,1<r?1-r:void 0)}function Dc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ec(){return!0}function Lw(){return!1}function Pn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ec:Lw,this.isPropagationStopped=Lw,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),e}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yv=Pn(as),Cu=ht({},as,{view:0,detail:0}),HM=Pn(Cu),lp,up,$s,Of=ht({},Cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$s&&($s&&t.type==="mousemove"?(lp=t.screenX-$s.screenX,up=t.screenY-$s.screenY):up=lp=0,$s=t),lp)},movementY:function(t){return"movementY"in t?t.movementY:up}}),Uw=Pn(Of),WM=ht({},Of,{dataTransfer:0}),KM=Pn(WM),JM=ht({},Cu,{relatedTarget:0}),cp=Pn(JM),YM=ht({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),XM=Pn(YM),QM=ht({},as,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZM=Pn(QM),eR=ht({},as,{data:0}),Bw=Pn(eR),tR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rR[t])?!!e[t]:!1}function vv(){return iR}var oR=ht({},Cu,{key:function(t){if(t.key){var e=tR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vv,charCode:function(t){return t.type==="keypress"?Dc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aR=Pn(oR),sR=ht({},Of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fw=Pn(sR),lR=ht({},Cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vv}),uR=Pn(lR),cR=ht({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),dR=Pn(cR),fR=ht({},Of,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hR=Pn(fR),pR=[9,13,27,32],wv=Ur&&"CompositionEvent"in window,sl=null;Ur&&"documentMode"in document&&(sl=document.documentMode);var mR=Ur&&"TextEvent"in window&&!sl,BA=Ur&&(!wv||sl&&8<sl&&11>=sl),Vw=" ",zw=!1;function FA(t,e){switch(t){case"keyup":return pR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xo=!1;function gR(t,e){switch(t){case"compositionend":return VA(e);case"keypress":return e.which!==32?null:(zw=!0,Vw);case"textInput":return t=e.data,t===Vw&&zw?null:t;default:return null}}function yR(t,e){if(Xo)return t==="compositionend"||!wv&&FA(t,e)?(t=UA(),jc=gv=fi=null,Xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return BA&&e.locale!=="ko"?null:e.data;default:return null}}var vR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vR[t.type]:e==="textarea"}function zA(t,e,n,r){bA(r),e=nd(e,"onChange"),0<e.length&&(n=new yv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ll=null,Il=null;function wR(t){eC(t,0)}function Mf(t){var e=ea(t);if(hA(e))return t}function bR(t,e){if(t==="change")return e}var qA=!1;if(Ur){var dp;if(Ur){var fp="oninput"in document;if(!fp){var Gw=document.createElement("div");Gw.setAttribute("oninput","return;"),fp=typeof Gw.oninput=="function"}dp=fp}else dp=!1;qA=dp&&(!document.documentMode||9<document.documentMode)}function Hw(){ll&&(ll.detachEvent("onpropertychange",GA),Il=ll=null)}function GA(t){if(t.propertyName==="value"&&Mf(Il)){var e=[];zA(e,Il,t,dv(t)),EA(wR,e)}}function xR(t,e,n){t==="focusin"?(Hw(),ll=e,Il=n,ll.attachEvent("onpropertychange",GA)):t==="focusout"&&Hw()}function _R(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mf(Il)}function SR(t,e){if(t==="click")return Mf(e)}function ER(t,e){if(t==="input"||t==="change")return Mf(e)}function TR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lr=typeof Object.is=="function"?Object.is:TR;function Nl(t,e){if(lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hm.call(e,i)||!lr(t[i],e[i]))return!1}return!0}function Ww(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kw(t,e){var n=Ww(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ww(n)}}function HA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function WA(){for(var t=window,e=Jc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jc(t.document)}return e}function bv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AR(t){var e=WA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HA(n.ownerDocument.documentElement,n)){if(r!==null&&bv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Kw(n,o);var a=Kw(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CR=Ur&&"documentMode"in document&&11>=document.documentMode,Qo=null,Om=null,ul=null,Mm=!1;function Jw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mm||Qo==null||Qo!==Jc(r)||(r=Qo,"selectionStart"in r&&bv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ul&&Nl(ul,r)||(ul=r,r=nd(Om,"onSelect"),0<r.length&&(e=new yv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qo)))}function tc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zo={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionend:tc("Transition","TransitionEnd")},hp={},KA={};Ur&&(KA=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Rf(t){if(hp[t])return hp[t];if(!Zo[t])return t;var e=Zo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in KA)return hp[t]=e[n];return t}var JA=Rf("animationend"),YA=Rf("animationiteration"),XA=Rf("animationstart"),QA=Rf("transitionend"),ZA=new Map,Yw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(t,e){ZA.set(t,e),Ao(e,[t])}for(var pp=0;pp<Yw.length;pp++){var mp=Yw[pp],kR=mp.toLowerCase(),PR=mp[0].toUpperCase()+mp.slice(1);ki(kR,"on"+PR)}ki(JA,"onAnimationEnd");ki(YA,"onAnimationIteration");ki(XA,"onAnimationStart");ki("dblclick","onDoubleClick");ki("focusin","onFocus");ki("focusout","onBlur");ki(QA,"onTransitionEnd");Aa("onMouseEnter",["mouseout","mouseover"]);Aa("onMouseLeave",["mouseout","mouseover"]);Aa("onPointerEnter",["pointerout","pointerover"]);Aa("onPointerLeave",["pointerout","pointerover"]);Ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IR=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function Xw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kM(r,e,void 0,t),t.currentTarget=null}function eC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Xw(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Xw(i,s,u),o=l}}}if(Xc)throw t=km,Xc=!1,km=null,t}function tt(t,e){var n=e[Lm];n===void 0&&(n=e[Lm]=new Set);var r=t+"__bubble";n.has(r)||(tC(e,t,2,!1),n.add(r))}function gp(t,e,n){var r=0;e&&(r|=4),tC(n,t,r,e)}var nc="_reactListening"+Math.random().toString(36).slice(2);function Ol(t){if(!t[nc]){t[nc]=!0,lA.forEach(function(n){n!=="selectionchange"&&(IR.has(n)||gp(n,!1,t),gp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nc]||(e[nc]=!0,gp("selectionchange",!1,e))}}function tC(t,e,n,r){switch(LA(e)){case 1:var i=qM;break;case 4:i=GM;break;default:i=mv}n=i.bind(null,e,n,t),i=void 0,!Cm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yp(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=to(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}EA(function(){var u=o,c=dv(n),d=[];e:{var h=ZA.get(t);if(h!==void 0){var g=yv,y=t;switch(t){case"keypress":if(Dc(n)===0)break e;case"keydown":case"keyup":g=aR;break;case"focusin":y="focus",g=cp;break;case"focusout":y="blur",g=cp;break;case"beforeblur":case"afterblur":g=cp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Uw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=KM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=uR;break;case JA:case YA:case XA:g=XM;break;case QA:g=dR;break;case"scroll":g=HM;break;case"wheel":g=hR;break;case"copy":case"cut":case"paste":g=ZM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Fw}var v=(e&4)!==0,x=!v&&t==="scroll",w=v?h!==null?h+"Capture":null:h;v=[];for(var b=u,_;b!==null;){_=b;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,w!==null&&(T=Al(b,w),T!=null&&v.push(Ml(b,T,_)))),x)break;b=b.return}0<v.length&&(h=new g(h,y,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Tm&&(y=n.relatedTarget||n.fromElement)&&(to(y)||y[Br]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?to(y):null,y!==null&&(x=Co(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(v=Uw,T="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(v=Fw,T="onPointerLeave",w="onPointerEnter",b="pointer"),x=g==null?h:ea(g),_=y==null?h:ea(y),h=new v(T,b+"leave",g,n,c),h.target=x,h.relatedTarget=_,T=null,to(c)===u&&(v=new v(w,b+"enter",y,n,c),v.target=_,v.relatedTarget=x,T=v),x=T,g&&y)t:{for(v=g,w=y,b=0,_=v;_;_=jo(_))b++;for(_=0,T=w;T;T=jo(T))_++;for(;0<b-_;)v=jo(v),b--;for(;0<_-b;)w=jo(w),_--;for(;b--;){if(v===w||w!==null&&v===w.alternate)break t;v=jo(v),w=jo(w)}v=null}else v=null;g!==null&&Qw(d,h,g,v,!1),y!==null&&x!==null&&Qw(d,x,y,v,!0)}}e:{if(h=u?ea(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=bR;else if(qw(h))if(qA)S=ER;else{S=_R;var E=xR}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=SR);if(S&&(S=S(t,u))){zA(d,S,n,c);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&bm(h,"number",h.value)}switch(E=u?ea(u):window,t){case"focusin":(qw(E)||E.contentEditable==="true")&&(Qo=E,Om=u,ul=null);break;case"focusout":ul=Om=Qo=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,Jw(d,n,c);break;case"selectionchange":if(CR)break;case"keydown":case"keyup":Jw(d,n,c)}var A;if(wv)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Xo?FA(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(BA&&n.locale!=="ko"&&(Xo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Xo&&(A=UA()):(fi=c,gv="value"in fi?fi.value:fi.textContent,Xo=!0)),E=nd(u,C),0<E.length&&(C=new Bw(C,t,null,n,c),d.push({event:C,listeners:E}),A?C.data=A:(A=VA(n),A!==null&&(C.data=A)))),(A=mR?gR(t,n):yR(t,n))&&(u=nd(u,"onBeforeInput"),0<u.length&&(c=new Bw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=A))}eC(d,e)})}function Ml(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Al(t,n),o!=null&&r.unshift(Ml(t,o,i)),o=Al(t,e),o!=null&&r.push(Ml(t,o,i))),t=t.return}return r}function jo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qw(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Al(n,o),l!=null&&a.unshift(Ml(n,l,s))):i||(l=Al(n,o),l!=null&&a.push(Ml(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var NR=/\r\n?/g,OR=/\u0000|\uFFFD/g;function Zw(t){return(typeof t=="string"?t:""+t).replace(NR,`
`).replace(OR,"")}function rc(t,e,n){if(e=Zw(e),Zw(t)!==e&&n)throw Error(Y(425))}function rd(){}var Rm=null,$m=null;function jm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dm=typeof setTimeout=="function"?setTimeout:void 0,MR=typeof clearTimeout=="function"?clearTimeout:void 0,eb=typeof Promise=="function"?Promise:void 0,RR=typeof queueMicrotask=="function"?queueMicrotask:typeof eb<"u"?function(t){return eb.resolve(null).then(t).catch($R)}:Dm;function $R(t){setTimeout(function(){throw t})}function vp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pl(e)}function wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ss=Math.random().toString(36).slice(2),mr="__reactFiber$"+ss,Rl="__reactProps$"+ss,Br="__reactContainer$"+ss,Lm="__reactEvents$"+ss,jR="__reactListeners$"+ss,DR="__reactHandles$"+ss;function to(t){var e=t[mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Br]||n[mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tb(t);t!==null;){if(n=t[mr])return n;t=tb(t)}return e}t=n,n=t.parentNode}return null}function ku(t){return t=t[mr]||t[Br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ea(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function $f(t){return t[Rl]||null}var Um=[],ta=-1;function Pi(t){return{current:t}}function ot(t){0>ta||(t.current=Um[ta],Um[ta]=null,ta--)}function Xe(t,e){ta++,Um[ta]=t.current,t.current=e}var Ci={},Jt=Pi(Ci),un=Pi(!1),mo=Ci;function Ca(t,e){var n=t.type.contextTypes;if(!n)return Ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cn(t){return t=t.childContextTypes,t!=null}function id(){ot(un),ot(Jt)}function nb(t,e,n){if(Jt.current!==Ci)throw Error(Y(168));Xe(Jt,e),Xe(un,n)}function nC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Y(108,xM(t)||"Unknown",i));return ht({},n,r)}function od(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ci,mo=Jt.current,Xe(Jt,t),Xe(un,un.current),!0}function rb(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=nC(t,e,mo),r.__reactInternalMemoizedMergedChildContext=t,ot(un),ot(Jt),Xe(Jt,t)):ot(un),Xe(un,n)}var Pr=null,jf=!1,wp=!1;function rC(t){Pr===null?Pr=[t]:Pr.push(t)}function LR(t){jf=!0,rC(t)}function Ii(){if(!wp&&Pr!==null){wp=!0;var t=0,e=Fe;try{var n=Pr;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pr=null,jf=!1}catch(i){throw Pr!==null&&(Pr=Pr.slice(t+1)),kA(fv,Ii),i}finally{Fe=e,wp=!1}}return null}var na=[],ra=0,ad=null,sd=0,jn=[],Dn=0,go=null,Ir=1,Nr="";function Gi(t,e){na[ra++]=sd,na[ra++]=ad,ad=t,sd=e}function iC(t,e,n){jn[Dn++]=Ir,jn[Dn++]=Nr,jn[Dn++]=go,go=t;var r=Ir;t=Nr;var i=32-or(r)-1;r&=~(1<<i),n+=1;var o=32-or(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ir=1<<32-or(e)+i|n<<i|r,Nr=o+t}else Ir=1<<o|n<<i|r,Nr=t}function xv(t){t.return!==null&&(Gi(t,1),iC(t,1,0))}function _v(t){for(;t===ad;)ad=na[--ra],na[ra]=null,sd=na[--ra],na[ra]=null;for(;t===go;)go=jn[--Dn],jn[Dn]=null,Nr=jn[--Dn],jn[Dn]=null,Ir=jn[--Dn],jn[Dn]=null}var En=null,Sn=null,at=!1,rr=null;function oC(t,e){var n=Un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ib(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,Sn=wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,Sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=go!==null?{id:Ir,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,Sn=null,!0):!1;default:return!1}}function Bm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fm(t){if(at){var e=Sn;if(e){var n=e;if(!ib(t,e)){if(Bm(t))throw Error(Y(418));e=wi(n.nextSibling);var r=En;e&&ib(t,e)?oC(r,n):(t.flags=t.flags&-4097|2,at=!1,En=t)}}else{if(Bm(t))throw Error(Y(418));t.flags=t.flags&-4097|2,at=!1,En=t}}}function ob(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function ic(t){if(t!==En)return!1;if(!at)return ob(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jm(t.type,t.memoizedProps)),e&&(e=Sn)){if(Bm(t))throw aC(),Error(Y(418));for(;e;)oC(t,e),e=wi(e.nextSibling)}if(ob(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sn=wi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sn=null}}else Sn=En?wi(t.stateNode.nextSibling):null;return!0}function aC(){for(var t=Sn;t;)t=wi(t.nextSibling)}function ka(){Sn=En=null,at=!1}function Sv(t){rr===null?rr=[t]:rr.push(t)}var UR=Wr.ReactCurrentBatchConfig;function js(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function oc(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ab(t){var e=t._init;return e(t._payload)}function sC(t){function e(w,b){if(t){var _=w.deletions;_===null?(w.deletions=[b],w.flags|=16):_.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=Si(w,b),w.index=0,w.sibling=null,w}function o(w,b,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<b?(w.flags|=2,b):_):(w.flags|=2,b)):(w.flags|=1048576,b)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function s(w,b,_,T){return b===null||b.tag!==6?(b=Ap(_,w.mode,T),b.return=w,b):(b=i(b,_),b.return=w,b)}function l(w,b,_,T){var S=_.type;return S===Yo?c(w,b,_.props.children,T,_.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ii&&ab(S)===b.type)?(T=i(b,_.props),T.ref=js(w,b,_),T.return=w,T):(T=qc(_.type,_.key,_.props,null,w.mode,T),T.ref=js(w,b,_),T.return=w,T)}function u(w,b,_,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Cp(_,w.mode,T),b.return=w,b):(b=i(b,_.children||[]),b.return=w,b)}function c(w,b,_,T,S){return b===null||b.tag!==7?(b=fo(_,w.mode,T,S),b.return=w,b):(b=i(b,_),b.return=w,b)}function d(w,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ap(""+b,w.mode,_),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ku:return _=qc(b.type,b.key,b.props,null,w.mode,_),_.ref=js(w,null,b),_.return=w,_;case Jo:return b=Cp(b,w.mode,_),b.return=w,b;case ii:var T=b._init;return d(w,T(b._payload),_)}if(el(b)||Ns(b))return b=fo(b,w.mode,_,null),b.return=w,b;oc(w,b)}return null}function h(w,b,_,T){var S=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(w,b,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ku:return _.key===S?l(w,b,_,T):null;case Jo:return _.key===S?u(w,b,_,T):null;case ii:return S=_._init,h(w,b,S(_._payload),T)}if(el(_)||Ns(_))return S!==null?null:c(w,b,_,T,null);oc(w,_)}return null}function g(w,b,_,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return w=w.get(_)||null,s(b,w,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ku:return w=w.get(T.key===null?_:T.key)||null,l(b,w,T,S);case Jo:return w=w.get(T.key===null?_:T.key)||null,u(b,w,T,S);case ii:var E=T._init;return g(w,b,_,E(T._payload),S)}if(el(T)||Ns(T))return w=w.get(_)||null,c(b,w,T,S,null);oc(b,T)}return null}function y(w,b,_,T){for(var S=null,E=null,A=b,C=b=0,k=null;A!==null&&C<_.length;C++){A.index>C?(k=A,A=null):k=A.sibling;var N=h(w,A,_[C],T);if(N===null){A===null&&(A=k);break}t&&A&&N.alternate===null&&e(w,A),b=o(N,b,C),E===null?S=N:E.sibling=N,E=N,A=k}if(C===_.length)return n(w,A),at&&Gi(w,C),S;if(A===null){for(;C<_.length;C++)A=d(w,_[C],T),A!==null&&(b=o(A,b,C),E===null?S=A:E.sibling=A,E=A);return at&&Gi(w,C),S}for(A=r(w,A);C<_.length;C++)k=g(A,w,C,_[C],T),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?C:k.key),b=o(k,b,C),E===null?S=k:E.sibling=k,E=k);return t&&A.forEach(function(O){return e(w,O)}),at&&Gi(w,C),S}function v(w,b,_,T){var S=Ns(_);if(typeof S!="function")throw Error(Y(150));if(_=S.call(_),_==null)throw Error(Y(151));for(var E=S=null,A=b,C=b=0,k=null,N=_.next();A!==null&&!N.done;C++,N=_.next()){A.index>C?(k=A,A=null):k=A.sibling;var O=h(w,A,N.value,T);if(O===null){A===null&&(A=k);break}t&&A&&O.alternate===null&&e(w,A),b=o(O,b,C),E===null?S=O:E.sibling=O,E=O,A=k}if(N.done)return n(w,A),at&&Gi(w,C),S;if(A===null){for(;!N.done;C++,N=_.next())N=d(w,N.value,T),N!==null&&(b=o(N,b,C),E===null?S=N:E.sibling=N,E=N);return at&&Gi(w,C),S}for(A=r(w,A);!N.done;C++,N=_.next())N=g(A,w,C,N.value,T),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?C:N.key),b=o(N,b,C),E===null?S=N:E.sibling=N,E=N);return t&&A.forEach(function(M){return e(w,M)}),at&&Gi(w,C),S}function x(w,b,_,T){if(typeof _=="object"&&_!==null&&_.type===Yo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ku:e:{for(var S=_.key,E=b;E!==null;){if(E.key===S){if(S=_.type,S===Yo){if(E.tag===7){n(w,E.sibling),b=i(E,_.props.children),b.return=w,w=b;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ii&&ab(S)===E.type){n(w,E.sibling),b=i(E,_.props),b.ref=js(w,E,_),b.return=w,w=b;break e}n(w,E);break}else e(w,E);E=E.sibling}_.type===Yo?(b=fo(_.props.children,w.mode,T,_.key),b.return=w,w=b):(T=qc(_.type,_.key,_.props,null,w.mode,T),T.ref=js(w,b,_),T.return=w,w=T)}return a(w);case Jo:e:{for(E=_.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(w,b.sibling),b=i(b,_.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=Cp(_,w.mode,T),b.return=w,w=b}return a(w);case ii:return E=_._init,x(w,b,E(_._payload),T)}if(el(_))return y(w,b,_,T);if(Ns(_))return v(w,b,_,T);oc(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(w,b.sibling),b=i(b,_),b.return=w,w=b):(n(w,b),b=Ap(_,w.mode,T),b.return=w,w=b),a(w)):n(w,b)}return x}var Pa=sC(!0),lC=sC(!1),ld=Pi(null),ud=null,ia=null,Ev=null;function Tv(){Ev=ia=ud=null}function Av(t){var e=ld.current;ot(ld),t._currentValue=e}function Vm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ya(t,e){ud=t,Ev=ia=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function zn(t){var e=t._currentValue;if(Ev!==t)if(t={context:t,memoizedValue:e,next:null},ia===null){if(ud===null)throw Error(Y(308));ia=t,ud.dependencies={lanes:0,firstContext:t}}else ia=ia.next=t;return e}var no=null;function Cv(t){no===null?no=[t]:no.push(t)}function uC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Cv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fr(t,r)}function Fr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var oi=!1;function kv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fr(t,n)}return i=r.interleaved,i===null?(e.next=e,Cv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fr(t,n)}function Lc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hv(t,n)}}function sb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cd(t,e,n,r){var i=t.updateQueue;oi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,v=s;switch(h=e,g=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(g,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(g,d,h):y,h==null)break e;d=ht({},d,h);break e;case 2:oi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);vo|=a,t.lanes=a,t.memoizedState=d}}function lb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Y(191,i));i.call(r)}}}var Pu={},vr=Pi(Pu),$l=Pi(Pu),jl=Pi(Pu);function ro(t){if(t===Pu)throw Error(Y(174));return t}function Pv(t,e){switch(Xe(jl,e),Xe($l,t),Xe(vr,Pu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_m(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_m(e,t)}ot(vr),Xe(vr,e)}function Ia(){ot(vr),ot($l),ot(jl)}function dC(t){ro(jl.current);var e=ro(vr.current),n=_m(e,t.type);e!==n&&(Xe($l,t),Xe(vr,n))}function Iv(t){$l.current===t&&(ot(vr),ot($l))}var dt=Pi(0);function dd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bp=[];function Nv(){for(var t=0;t<bp.length;t++)bp[t]._workInProgressVersionPrimary=null;bp.length=0}var Uc=Wr.ReactCurrentDispatcher,xp=Wr.ReactCurrentBatchConfig,yo=0,ft=null,Tt=null,Ot=null,fd=!1,cl=!1,Dl=0,BR=0;function zt(){throw Error(Y(321))}function Ov(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lr(t[n],e[n]))return!1;return!0}function Mv(t,e,n,r,i,o){if(yo=o,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uc.current=t===null||t.memoizedState===null?qR:GR,t=n(r,i),cl){o=0;do{if(cl=!1,Dl=0,25<=o)throw Error(Y(301));o+=1,Ot=Tt=null,e.updateQueue=null,Uc.current=HR,t=n(r,i)}while(cl)}if(Uc.current=hd,e=Tt!==null&&Tt.next!==null,yo=0,Ot=Tt=ft=null,fd=!1,e)throw Error(Y(300));return t}function Rv(){var t=Dl!==0;return Dl=0,t}function pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ft.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function qn(){if(Tt===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=Ot===null?ft.memoizedState:Ot.next;if(e!==null)Ot=e,Tt=t;else{if(t===null)throw Error(Y(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Ot===null?ft.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Ll(t,e){return typeof e=="function"?e(t):e}function _p(t){var e=qn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=Tt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((yo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,ft.lanes|=c,vo|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,lr(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ft.lanes|=o,vo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sp(t){var e=qn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);lr(o,e.memoizedState)||(sn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function fC(){}function hC(t,e){var n=ft,r=qn(),i=e(),o=!lr(r.memoizedState,i);if(o&&(r.memoizedState=i,sn=!0),r=r.queue,$v(gC.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,Ul(9,mC.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(Y(349));yo&30||pC(n,e,i)}return i}function pC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mC(t,e,n,r){e.value=n,e.getSnapshot=r,yC(e)&&vC(t)}function gC(t,e,n){return n(function(){yC(e)&&vC(t)})}function yC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lr(t,n)}catch{return!0}}function vC(t){var e=Fr(t,1);e!==null&&ar(e,t,1,-1)}function ub(t){var e=pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:t},e.queue=t,t=t.dispatch=zR.bind(null,ft,t),[e.memoizedState,t]}function Ul(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wC(){return qn().memoizedState}function Bc(t,e,n,r){var i=pr();ft.flags|=t,i.memoizedState=Ul(1|e,n,void 0,r===void 0?null:r)}function Df(t,e,n,r){var i=qn();r=r===void 0?null:r;var o=void 0;if(Tt!==null){var a=Tt.memoizedState;if(o=a.destroy,r!==null&&Ov(r,a.deps)){i.memoizedState=Ul(e,n,o,r);return}}ft.flags|=t,i.memoizedState=Ul(1|e,n,o,r)}function cb(t,e){return Bc(8390656,8,t,e)}function $v(t,e){return Df(2048,8,t,e)}function bC(t,e){return Df(4,2,t,e)}function xC(t,e){return Df(4,4,t,e)}function _C(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SC(t,e,n){return n=n!=null?n.concat([t]):null,Df(4,4,_C.bind(null,e,t),n)}function jv(){}function EC(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ov(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function TC(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ov(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function AC(t,e,n){return yo&21?(lr(n,e)||(n=NA(),ft.lanes|=n,vo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function FR(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=xp.transition;xp.transition={};try{t(!1),e()}finally{Fe=n,xp.transition=r}}function CC(){return qn().memoizedState}function VR(t,e,n){var r=_i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kC(t))PC(e,n);else if(n=uC(t,e,n,r),n!==null){var i=nn();ar(n,t,r,i),IC(n,e,r)}}function zR(t,e,n){var r=_i(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kC(t))PC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,lr(s,a)){var l=e.interleaved;l===null?(i.next=i,Cv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=uC(t,e,i,r),n!==null&&(i=nn(),ar(n,t,r,i),IC(n,e,r))}}function kC(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function PC(t,e){cl=fd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function IC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hv(t,n)}}var hd={readContext:zn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},qR={readContext:zn,useCallback:function(t,e){return pr().memoizedState=[t,e===void 0?null:e],t},useContext:zn,useEffect:cb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bc(4194308,4,_C.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bc(4,2,t,e)},useMemo:function(t,e){var n=pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=VR.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=pr();return t={current:t},e.memoizedState=t},useState:ub,useDebugValue:jv,useDeferredValue:function(t){return pr().memoizedState=t},useTransition:function(){var t=ub(!1),e=t[0];return t=FR.bind(null,t[1]),pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=pr();if(at){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),Rt===null)throw Error(Y(349));yo&30||pC(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,cb(gC.bind(null,r,o,t),[t]),r.flags|=2048,Ul(9,mC.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=pr(),e=Rt.identifierPrefix;if(at){var n=Nr,r=Ir;n=(r&~(1<<32-or(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GR={readContext:zn,useCallback:EC,useContext:zn,useEffect:$v,useImperativeHandle:SC,useInsertionEffect:bC,useLayoutEffect:xC,useMemo:TC,useReducer:_p,useRef:wC,useState:function(){return _p(Ll)},useDebugValue:jv,useDeferredValue:function(t){var e=qn();return AC(e,Tt.memoizedState,t)},useTransition:function(){var t=_p(Ll)[0],e=qn().memoizedState;return[t,e]},useMutableSource:fC,useSyncExternalStore:hC,useId:CC,unstable_isNewReconciler:!1},HR={readContext:zn,useCallback:EC,useContext:zn,useEffect:$v,useImperativeHandle:SC,useInsertionEffect:bC,useLayoutEffect:xC,useMemo:TC,useReducer:Sp,useRef:wC,useState:function(){return Sp(Ll)},useDebugValue:jv,useDeferredValue:function(t){var e=qn();return Tt===null?e.memoizedState=t:AC(e,Tt.memoizedState,t)},useTransition:function(){var t=Sp(Ll)[0],e=qn().memoizedState;return[t,e]},useMutableSource:fC,useSyncExternalStore:hC,useId:CC,unstable_isNewReconciler:!1};function Qn(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function zm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lf={isMounted:function(t){return(t=t._reactInternals)?Co(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),i=_i(t),o=$r(r,i);o.payload=e,n!=null&&(o.callback=n),e=bi(t,o,i),e!==null&&(ar(e,t,i,r),Lc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),i=_i(t),o=$r(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=bi(t,o,i),e!==null&&(ar(e,t,i,r),Lc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=_i(t),i=$r(n,r);i.tag=2,e!=null&&(i.callback=e),e=bi(t,i,r),e!==null&&(ar(e,t,r,n),Lc(e,t,r))}};function db(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Nl(n,r)||!Nl(i,o):!0}function NC(t,e,n){var r=!1,i=Ci,o=e.contextType;return typeof o=="object"&&o!==null?o=zn(o):(i=cn(e)?mo:Jt.current,r=e.contextTypes,o=(r=r!=null)?Ca(t,i):Ci),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function fb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lf.enqueueReplaceState(e,e.state,null)}function qm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},kv(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=zn(o):(o=cn(e)?mo:Jt.current,i.context=Ca(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(zm(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lf.enqueueReplaceState(i,i.state,null),cd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Na(t,e){try{var n="",r=e;do n+=bM(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ep(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WR=typeof WeakMap=="function"?WeakMap:Map;function OC(t,e,n){n=$r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){md||(md=!0,tg=r),Gm(t,e)},n}function MC(t,e,n){n=$r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Gm(t,e),typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function hb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=s5.bind(null,t,e,n),e.then(t,t))}function pb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$r(-1,1),e.tag=2,bi(n,e,1))),n.lanes|=1),t)}var KR=Wr.ReactCurrentOwner,sn=!1;function Xt(t,e,n,r){e.child=t===null?lC(e,null,n,r):Pa(e,t.child,n,r)}function gb(t,e,n,r,i){n=n.render;var o=e.ref;return ya(e,i),r=Mv(t,e,n,r,o,i),n=Rv(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vr(t,e,i)):(at&&n&&xv(e),e.flags|=1,Xt(t,e,r,i),e.child)}function yb(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!qv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,RC(t,e,o,r,i)):(t=qc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Nl,n(a,r)&&t.ref===e.ref)return Vr(t,e,i)}return e.flags|=1,t=Si(o,r),t.ref=e.ref,t.return=e,e.child=t}function RC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Nl(o,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,Vr(t,e,i)}return Hm(t,e,n,r,i)}function $C(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(aa,yn),yn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xe(aa,yn),yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Xe(aa,yn),yn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Xe(aa,yn),yn|=r;return Xt(t,e,i,n),e.child}function jC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hm(t,e,n,r,i){var o=cn(n)?mo:Jt.current;return o=Ca(e,o),ya(e,i),n=Mv(t,e,n,r,o,i),r=Rv(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vr(t,e,i)):(at&&r&&xv(e),e.flags|=1,Xt(t,e,n,i),e.child)}function vb(t,e,n,r,i){if(cn(n)){var o=!0;od(e)}else o=!1;if(ya(e,i),e.stateNode===null)Fc(t,e),NC(e,n,r),qm(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=zn(u):(u=cn(n)?mo:Jt.current,u=Ca(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&fb(e,a,r,u),oi=!1;var h=e.memoizedState;a.state=h,cd(e,r,a,i),l=e.memoizedState,s!==r||h!==l||un.current||oi?(typeof c=="function"&&(zm(e,n,c,r),l=e.memoizedState),(s=oi||db(e,n,s,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,cC(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Qn(e.type,s),a.props=u,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=zn(l):(l=cn(n)?mo:Jt.current,l=Ca(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&fb(e,a,r,l),oi=!1,h=e.memoizedState,a.state=h,cd(e,r,a,i);var y=e.memoizedState;s!==d||h!==y||un.current||oi?(typeof g=="function"&&(zm(e,n,g,r),y=e.memoizedState),(u=oi||db(e,n,u,r,h,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Wm(t,e,n,r,o,i)}function Wm(t,e,n,r,i,o){jC(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&rb(e,n,!1),Vr(t,e,o);r=e.stateNode,KR.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Pa(e,t.child,null,o),e.child=Pa(e,null,s,o)):Xt(t,e,s,o),e.memoizedState=r.state,i&&rb(e,n,!0),e.child}function DC(t){var e=t.stateNode;e.pendingContext?nb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nb(t,e.context,!1),Pv(t,e.containerInfo)}function wb(t,e,n,r,i){return ka(),Sv(i),e.flags|=256,Xt(t,e,n,r),e.child}var Km={dehydrated:null,treeContext:null,retryLane:0};function Jm(t){return{baseLanes:t,cachePool:null,transitions:null}}function LC(t,e,n){var r=e.pendingProps,i=dt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Xe(dt,i&1),t===null)return Fm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Ff(a,r,0,null),t=fo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Jm(n),e.memoizedState=Km,t):Dv(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return JR(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Si(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Si(s,o):(o=fo(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Jm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Km,r}return o=t.child,t=o.sibling,r=Si(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Dv(t,e){return e=Ff({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ac(t,e,n,r){return r!==null&&Sv(r),Pa(e,t.child,null,n),t=Dv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JR(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Ep(Error(Y(422))),ac(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ff({mode:"visible",children:r.children},i,0,null),o=fo(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Pa(e,t.child,null,a),e.child.memoizedState=Jm(a),e.memoizedState=Km,o);if(!(e.mode&1))return ac(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Y(419)),r=Ep(o,r,void 0),ac(t,e,a,r)}if(s=(a&t.childLanes)!==0,sn||s){if(r=Rt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Fr(t,i),ar(r,t,i,-1))}return zv(),r=Ep(Error(Y(421))),ac(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=l5.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Sn=wi(i.nextSibling),En=e,at=!0,rr=null,t!==null&&(jn[Dn++]=Ir,jn[Dn++]=Nr,jn[Dn++]=go,Ir=t.id,Nr=t.overflow,go=e),e=Dv(e,r.children),e.flags|=4096,e)}function bb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vm(t.return,e,n)}function Tp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function UC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Xt(t,e,r.children,n),r=dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bb(t,n,e);else if(t.tag===19)bb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xe(dt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&dd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&dd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tp(e,!0,n,null,o);break;case"together":Tp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=Si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function YR(t,e,n){switch(e.tag){case 3:DC(e),ka();break;case 5:dC(e);break;case 1:cn(e.type)&&od(e);break;case 4:Pv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Xe(ld,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xe(dt,dt.current&1),e.flags|=128,null):n&e.child.childLanes?LC(t,e,n):(Xe(dt,dt.current&1),t=Vr(t,e,n),t!==null?t.sibling:null);Xe(dt,dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return UC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xe(dt,dt.current),r)break;return null;case 22:case 23:return e.lanes=0,$C(t,e,n)}return Vr(t,e,n)}var BC,Ym,FC,VC;BC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ym=function(){};FC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ro(vr.current);var o=null;switch(n){case"input":i=vm(t,i),r=vm(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=xm(t,i),r=xm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rd)}Sm(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(El.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(El.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&tt("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};VC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ds(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XR(t,e,n){var r=e.pendingProps;switch(_v(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(e),null;case 1:return cn(e.type)&&id(),qt(e),null;case 3:return r=e.stateNode,Ia(),ot(un),ot(Jt),Nv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ic(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rr!==null&&(ig(rr),rr=null))),Ym(t,e),qt(e),null;case 5:Iv(e);var i=ro(jl.current);if(n=e.type,t!==null&&e.stateNode!=null)FC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return qt(e),null}if(t=ro(vr.current),ic(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[mr]=e,r[Rl]=o,t=(e.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(i=0;i<nl.length;i++)tt(nl[i],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":Pw(r,o),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},tt("invalid",r);break;case"textarea":Nw(r,o),tt("invalid",r)}Sm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&rc(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&rc(r.textContent,s,t),i=["children",""+s]):El.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&tt("scroll",r)}switch(n){case"input":Ju(r),Iw(r,o,!0);break;case"textarea":Ju(r),Ow(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=rd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[mr]=e,t[Rl]=r,BC(t,e,!1,!1),e.stateNode=t;e:{switch(a=Em(n,r),n){case"dialog":tt("cancel",t),tt("close",t),i=r;break;case"iframe":case"object":case"embed":tt("load",t),i=r;break;case"video":case"audio":for(i=0;i<nl.length;i++)tt(nl[i],t);i=r;break;case"source":tt("error",t),i=r;break;case"img":case"image":case"link":tt("error",t),tt("load",t),i=r;break;case"details":tt("toggle",t),i=r;break;case"input":Pw(t,r),i=vm(t,r),tt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),tt("invalid",t);break;case"textarea":Nw(t,r),i=xm(t,r),tt("invalid",t);break;default:i=r}Sm(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?wA(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yA(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Tl(t,l):typeof l=="number"&&Tl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(El.hasOwnProperty(o)?l!=null&&o==="onScroll"&&tt("scroll",t):l!=null&&sv(t,o,l,a))}switch(n){case"input":Ju(t),Iw(t,r,!1);break;case"textarea":Ju(t),Ow(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ai(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ha(t,!!r.multiple,o,!1):r.defaultValue!=null&&ha(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qt(e),null;case 6:if(t&&e.stateNode!=null)VC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=ro(jl.current),ro(vr.current),ic(e)){if(r=e.stateNode,n=e.memoizedProps,r[mr]=e,(o=r.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:rc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mr]=e,e.stateNode=r}return qt(e),null;case 13:if(ot(dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&Sn!==null&&e.mode&1&&!(e.flags&128))aC(),ka(),e.flags|=98560,o=!1;else if(o=ic(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Y(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Y(317));o[mr]=e}else ka(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qt(e),o=!1}else rr!==null&&(ig(rr),rr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||dt.current&1?Ct===0&&(Ct=3):zv())),e.updateQueue!==null&&(e.flags|=4),qt(e),null);case 4:return Ia(),Ym(t,e),t===null&&Ol(e.stateNode.containerInfo),qt(e),null;case 10:return Av(e.type._context),qt(e),null;case 17:return cn(e.type)&&id(),qt(e),null;case 19:if(ot(dt),o=e.memoizedState,o===null)return qt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Ds(o,!1);else{if(Ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=dd(t),a!==null){for(e.flags|=128,Ds(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Xe(dt,dt.current&1|2),e.child}t=t.sibling}o.tail!==null&&yt()>Oa&&(e.flags|=128,r=!0,Ds(o,!1),e.lanes=4194304)}else{if(!r)if(t=dd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ds(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!at)return qt(e),null}else 2*yt()-o.renderingStartTime>Oa&&n!==1073741824&&(e.flags|=128,r=!0,Ds(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=yt(),e.sibling=null,n=dt.current,Xe(dt,r?n&1|2:n&1),e):(qt(e),null);case 22:case 23:return Vv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yn&1073741824&&(qt(e),e.subtreeFlags&6&&(e.flags|=8192)):qt(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function QR(t,e){switch(_v(e),e.tag){case 1:return cn(e.type)&&id(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ia(),ot(un),ot(Jt),Nv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Iv(e),null;case 13:if(ot(dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));ka()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(dt),null;case 4:return Ia(),null;case 10:return Av(e.type._context),null;case 22:case 23:return Vv(),null;case 24:return null;default:return null}}var sc=!1,Ht=!1,ZR=typeof WeakSet=="function"?WeakSet:Set,oe=null;function oa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mt(t,e,r)}else n.current=null}function Xm(t,e,n){try{n()}catch(r){mt(t,e,r)}}var xb=!1;function e5(t,e){if(Rm=ed,t=WA(),bv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($m={focusedElem:t,selectionRange:n},ed=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,x=y.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:Qn(e.type,v),x);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(T){mt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return y=xb,xb=!1,y}function dl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Xm(e,n,o)}i=i.next}while(i!==r)}}function Uf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zC(t){var e=t.alternate;e!==null&&(t.alternate=null,zC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mr],delete e[Rl],delete e[Lm],delete e[jR],delete e[DR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qC(t){return t.tag===5||t.tag===3||t.tag===4}function _b(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rd));else if(r!==4&&(t=t.child,t!==null))for(Zm(t,e,n),t=t.sibling;t!==null;)Zm(t,e,n),t=t.sibling}function eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(eg(t,e,n),t=t.sibling;t!==null;)eg(t,e,n),t=t.sibling}var Bt=null,er=!1;function ni(t,e,n){for(n=n.child;n!==null;)GC(t,e,n),n=n.sibling}function GC(t,e,n){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(Nf,n)}catch{}switch(n.tag){case 5:Ht||oa(n,e);case 6:var r=Bt,i=er;Bt=null,ni(t,e,n),Bt=r,er=i,Bt!==null&&(er?(t=Bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(er?(t=Bt,n=n.stateNode,t.nodeType===8?vp(t.parentNode,n):t.nodeType===1&&vp(t,n),Pl(t)):vp(Bt,n.stateNode));break;case 4:r=Bt,i=er,Bt=n.stateNode.containerInfo,er=!0,ni(t,e,n),Bt=r,er=i;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Xm(n,e,a),i=i.next}while(i!==r)}ni(t,e,n);break;case 1:if(!Ht&&(oa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){mt(n,e,s)}ni(t,e,n);break;case 21:ni(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,ni(t,e,n),Ht=r):ni(t,e,n);break;default:ni(t,e,n)}}function Sb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ZR),e.forEach(function(r){var i=u5.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Bt=s.stateNode,er=!1;break e;case 3:Bt=s.stateNode.containerInfo,er=!0;break e;case 4:Bt=s.stateNode.containerInfo,er=!0;break e}s=s.return}if(Bt===null)throw Error(Y(160));GC(o,a,i),Bt=null,er=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){mt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HC(e,t),e=e.sibling}function HC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jn(e,t),fr(t),r&4){try{dl(3,t,t.return),Uf(3,t)}catch(v){mt(t,t.return,v)}try{dl(5,t,t.return)}catch(v){mt(t,t.return,v)}}break;case 1:Jn(e,t),fr(t),r&512&&n!==null&&oa(n,n.return);break;case 5:if(Jn(e,t),fr(t),r&512&&n!==null&&oa(n,n.return),t.flags&32){var i=t.stateNode;try{Tl(i,"")}catch(v){mt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&pA(i,o),Em(s,a);var u=Em(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?wA(i,d):c==="dangerouslySetInnerHTML"?yA(i,d):c==="children"?Tl(i,d):sv(i,c,d,u)}switch(s){case"input":wm(i,o);break;case"textarea":mA(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?ha(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?ha(i,!!o.multiple,o.defaultValue,!0):ha(i,!!o.multiple,o.multiple?[]:"",!1))}i[Rl]=o}catch(v){mt(t,t.return,v)}}break;case 6:if(Jn(e,t),fr(t),r&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){mt(t,t.return,v)}}break;case 3:if(Jn(e,t),fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(e.containerInfo)}catch(v){mt(t,t.return,v)}break;case 4:Jn(e,t),fr(t);break;case 13:Jn(e,t),fr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Bv=yt())),r&4&&Sb(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(u=Ht)||c,Jn(e,t),Ht=u):Jn(e,t),fr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(d=oe=c;oe!==null;){switch(h=oe,g=h.child,h.tag){case 0:case 11:case 14:case 15:dl(4,h,h.return);break;case 1:oa(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){mt(r,n,v)}}break;case 5:oa(h,h.return);break;case 22:if(h.memoizedState!==null){Tb(d);continue}}g!==null?(g.return=h,oe=g):Tb(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=vA("display",a))}catch(v){mt(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){mt(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Jn(e,t),fr(t),r&4&&Sb(t);break;case 21:break;default:Jn(e,t),fr(t)}}function fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qC(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tl(i,""),r.flags&=-33);var o=_b(t);eg(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=_b(t);Zm(t,s,a);break;default:throw Error(Y(161))}}catch(l){mt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function t5(t,e,n){oe=t,WC(t)}function WC(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||sc;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Ht;s=sc;var u=Ht;if(sc=a,(Ht=l)&&!u)for(oe=i;oe!==null;)a=oe,l=a.child,a.tag===22&&a.memoizedState!==null?Ab(i):l!==null?(l.return=a,oe=l):Ab(i);for(;o!==null;)oe=o,WC(o),o=o.sibling;oe=i,sc=s,Ht=u}Eb(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):Eb(t)}}function Eb(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||Uf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Qn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&lb(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lb(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Pl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Ht||e.flags&512&&Qm(e)}catch(h){mt(e,e.return,h)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Tb(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Ab(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Uf(4,e)}catch(l){mt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){mt(e,i,l)}}var o=e.return;try{Qm(e)}catch(l){mt(e,o,l)}break;case 5:var a=e.return;try{Qm(e)}catch(l){mt(e,a,l)}}}catch(l){mt(e,e.return,l)}if(e===t){oe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,oe=s;break}oe=e.return}}var n5=Math.ceil,pd=Wr.ReactCurrentDispatcher,Lv=Wr.ReactCurrentOwner,Fn=Wr.ReactCurrentBatchConfig,Me=0,Rt=null,bt=null,Ft=0,yn=0,aa=Pi(0),Ct=0,Bl=null,vo=0,Bf=0,Uv=0,fl=null,an=null,Bv=0,Oa=1/0,Ar=null,md=!1,tg=null,xi=null,lc=!1,hi=null,gd=0,hl=0,ng=null,Vc=-1,zc=0;function nn(){return Me&6?yt():Vc!==-1?Vc:Vc=yt()}function _i(t){return t.mode&1?Me&2&&Ft!==0?Ft&-Ft:UR.transition!==null?(zc===0&&(zc=NA()),zc):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:LA(t.type)),t):1}function ar(t,e,n,r){if(50<hl)throw hl=0,ng=null,Error(Y(185));Au(t,n,r),(!(Me&2)||t!==Rt)&&(t===Rt&&(!(Me&2)&&(Bf|=n),Ct===4&&ui(t,Ft)),dn(t,r),n===1&&Me===0&&!(e.mode&1)&&(Oa=yt()+500,jf&&Ii()))}function dn(t,e){var n=t.callbackNode;UM(t,e);var r=Zc(t,t===Rt?Ft:0);if(r===0)n!==null&&$w(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$w(n),e===1)t.tag===0?LR(Cb.bind(null,t)):rC(Cb.bind(null,t)),RR(function(){!(Me&6)&&Ii()}),n=null;else{switch(OA(r)){case 1:n=fv;break;case 4:n=PA;break;case 16:n=Qc;break;case 536870912:n=IA;break;default:n=Qc}n=tk(n,KC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function KC(t,e){if(Vc=-1,zc=0,Me&6)throw Error(Y(327));var n=t.callbackNode;if(va()&&t.callbackNode!==n)return null;var r=Zc(t,t===Rt?Ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yd(t,r);else{e=r;var i=Me;Me|=2;var o=YC();(Rt!==t||Ft!==e)&&(Ar=null,Oa=yt()+500,co(t,e));do try{o5();break}catch(s){JC(t,s)}while(!0);Tv(),pd.current=o,Me=i,bt!==null?e=0:(Rt=null,Ft=0,e=Ct)}if(e!==0){if(e===2&&(i=Pm(t),i!==0&&(r=i,e=rg(t,i))),e===1)throw n=Bl,co(t,0),ui(t,r),dn(t,yt()),n;if(e===6)ui(t,r);else{if(i=t.current.alternate,!(r&30)&&!r5(i)&&(e=yd(t,r),e===2&&(o=Pm(t),o!==0&&(r=o,e=rg(t,o))),e===1))throw n=Bl,co(t,0),ui(t,r),dn(t,yt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:Hi(t,an,Ar);break;case 3:if(ui(t,r),(r&130023424)===r&&(e=Bv+500-yt(),10<e)){if(Zc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Dm(Hi.bind(null,t,an,Ar),e);break}Hi(t,an,Ar);break;case 4:if(ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-or(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*n5(r/1960))-r,10<r){t.timeoutHandle=Dm(Hi.bind(null,t,an,Ar),r);break}Hi(t,an,Ar);break;case 5:Hi(t,an,Ar);break;default:throw Error(Y(329))}}}return dn(t,yt()),t.callbackNode===n?KC.bind(null,t):null}function rg(t,e){var n=fl;return t.current.memoizedState.isDehydrated&&(co(t,e).flags|=256),t=yd(t,e),t!==2&&(e=an,an=n,e!==null&&ig(e)),t}function ig(t){an===null?an=t:an.push.apply(an,t)}function r5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!lr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ui(t,e){for(e&=~Uv,e&=~Bf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-or(e),r=1<<n;t[n]=-1,e&=~r}}function Cb(t){if(Me&6)throw Error(Y(327));va();var e=Zc(t,0);if(!(e&1))return dn(t,yt()),null;var n=yd(t,e);if(t.tag!==0&&n===2){var r=Pm(t);r!==0&&(e=r,n=rg(t,r))}if(n===1)throw n=Bl,co(t,0),ui(t,e),dn(t,yt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hi(t,an,Ar),dn(t,yt()),null}function Fv(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(Oa=yt()+500,jf&&Ii())}}function wo(t){hi!==null&&hi.tag===0&&!(Me&6)&&va();var e=Me;Me|=1;var n=Fn.transition,r=Fe;try{if(Fn.transition=null,Fe=1,t)return t()}finally{Fe=r,Fn.transition=n,Me=e,!(Me&6)&&Ii()}}function Vv(){yn=aa.current,ot(aa)}function co(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MR(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(_v(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&id();break;case 3:Ia(),ot(un),ot(Jt),Nv();break;case 5:Iv(r);break;case 4:Ia();break;case 13:ot(dt);break;case 19:ot(dt);break;case 10:Av(r.type._context);break;case 22:case 23:Vv()}n=n.return}if(Rt=t,bt=t=Si(t.current,null),Ft=yn=e,Ct=0,Bl=null,Uv=Bf=vo=0,an=fl=null,no!==null){for(e=0;e<no.length;e++)if(n=no[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}no=null}return t}function JC(t,e){do{var n=bt;try{if(Tv(),Uc.current=hd,fd){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fd=!1}if(yo=0,Ot=Tt=ft=null,cl=!1,Dl=0,Lv.current=null,n===null||n.return===null){Ct=1,Bl=e,bt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Ft,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=pb(a);if(g!==null){g.flags&=-257,mb(g,a,s,o,e),g.mode&1&&hb(o,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){hb(o,u,e),zv();break e}l=Error(Y(426))}}else if(at&&s.mode&1){var x=pb(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),mb(x,a,s,o,e),Sv(Na(l,s));break e}}o=l=Na(l,s),Ct!==4&&(Ct=2),fl===null?fl=[o]:fl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=OC(o,l,e);sb(o,w);break e;case 1:s=l;var b=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(xi===null||!xi.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=MC(o,s,e);sb(o,T);break e}}o=o.return}while(o!==null)}QC(n)}catch(S){e=S,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(!0)}function YC(){var t=pd.current;return pd.current=hd,t===null?hd:t}function zv(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Rt===null||!(vo&268435455)&&!(Bf&268435455)||ui(Rt,Ft)}function yd(t,e){var n=Me;Me|=2;var r=YC();(Rt!==t||Ft!==e)&&(Ar=null,co(t,e));do try{i5();break}catch(i){JC(t,i)}while(!0);if(Tv(),Me=n,pd.current=r,bt!==null)throw Error(Y(261));return Rt=null,Ft=0,Ct}function i5(){for(;bt!==null;)XC(bt)}function o5(){for(;bt!==null&&!IM();)XC(bt)}function XC(t){var e=ek(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?QC(t):bt=e,Lv.current=null}function QC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QR(n,e),n!==null){n.flags&=32767,bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,bt=null;return}}else if(n=XR(n,e,yn),n!==null){bt=n;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);Ct===0&&(Ct=5)}function Hi(t,e,n){var r=Fe,i=Fn.transition;try{Fn.transition=null,Fe=1,a5(t,e,n,r)}finally{Fn.transition=i,Fe=r}return null}function a5(t,e,n,r){do va();while(hi!==null);if(Me&6)throw Error(Y(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(BM(t,o),t===Rt&&(bt=Rt=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lc||(lc=!0,tk(Qc,function(){return va(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Fn.transition,Fn.transition=null;var a=Fe;Fe=1;var s=Me;Me|=4,Lv.current=null,e5(t,n),HC(n,t),AR($m),ed=!!Rm,$m=Rm=null,t.current=n,t5(n),NM(),Me=s,Fe=a,Fn.transition=o}else t.current=n;if(lc&&(lc=!1,hi=t,gd=i),o=t.pendingLanes,o===0&&(xi=null),RM(n.stateNode),dn(t,yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(md)throw md=!1,t=tg,tg=null,t;return gd&1&&t.tag!==0&&va(),o=t.pendingLanes,o&1?t===ng?hl++:(hl=0,ng=t):hl=0,Ii(),null}function va(){if(hi!==null){var t=OA(gd),e=Fn.transition,n=Fe;try{if(Fn.transition=null,Fe=16>t?16:t,hi===null)var r=!1;else{if(t=hi,hi=null,gd=0,Me&6)throw Error(Y(331));var i=Me;for(Me|=4,oe=t.current;oe!==null;){var o=oe,a=o.child;if(oe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(oe=u;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:dl(8,c,o)}var d=c.child;if(d!==null)d.return=c,oe=d;else for(;oe!==null;){c=oe;var h=c.sibling,g=c.return;if(zC(c),c===u){oe=null;break}if(h!==null){h.return=g,oe=h;break}oe=g}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}oe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,oe=a;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:dl(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,oe=w;break e}oe=o.return}}var b=t.current;for(oe=b;oe!==null;){a=oe;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,oe=_;else e:for(a=b;oe!==null;){if(s=oe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Uf(9,s)}}catch(S){mt(s,s.return,S)}if(s===a){oe=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,oe=T;break e}oe=s.return}}if(Me=i,Ii(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(Nf,t)}catch{}r=!0}return r}finally{Fe=n,Fn.transition=e}}return!1}function kb(t,e,n){e=Na(n,e),e=OC(t,e,1),t=bi(t,e,1),e=nn(),t!==null&&(Au(t,1,e),dn(t,e))}function mt(t,e,n){if(t.tag===3)kb(t,t,n);else for(;e!==null;){if(e.tag===3){kb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r))){t=Na(n,t),t=MC(e,t,1),e=bi(e,t,1),t=nn(),e!==null&&(Au(e,1,t),dn(e,t));break}}e=e.return}}function s5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Ft&n)===n&&(Ct===4||Ct===3&&(Ft&130023424)===Ft&&500>yt()-Bv?co(t,0):Uv|=n),dn(t,e)}function ZC(t,e){e===0&&(t.mode&1?(e=Qu,Qu<<=1,!(Qu&130023424)&&(Qu=4194304)):e=1);var n=nn();t=Fr(t,e),t!==null&&(Au(t,e,n),dn(t,n))}function l5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ZC(t,n)}function u5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),ZC(t,n)}var ek;ek=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,YR(t,e,n);sn=!!(t.flags&131072)}else sn=!1,at&&e.flags&1048576&&iC(e,sd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fc(t,e),t=e.pendingProps;var i=Ca(e,Jt.current);ya(e,n),i=Mv(null,e,r,t,i,n);var o=Rv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(o=!0,od(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kv(e),i.updater=Lf,e.stateNode=i,i._reactInternals=e,qm(e,r,t,n),e=Wm(null,e,r,!0,o,n)):(e.tag=0,at&&o&&xv(e),Xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=d5(r),t=Qn(r,t),i){case 0:e=Hm(null,e,r,t,n);break e;case 1:e=vb(null,e,r,t,n);break e;case 11:e=gb(null,e,r,t,n);break e;case 14:e=yb(null,e,r,Qn(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),Hm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),vb(t,e,r,i,n);case 3:e:{if(DC(e),t===null)throw Error(Y(387));r=e.pendingProps,o=e.memoizedState,i=o.element,cC(t,e),cd(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Na(Error(Y(423)),e),e=wb(t,e,r,n,i);break e}else if(r!==i){i=Na(Error(Y(424)),e),e=wb(t,e,r,n,i);break e}else for(Sn=wi(e.stateNode.containerInfo.firstChild),En=e,at=!0,rr=null,n=lC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ka(),r===i){e=Vr(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return dC(e),t===null&&Fm(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,jm(r,i)?a=null:o!==null&&jm(r,o)&&(e.flags|=32),jC(t,e),Xt(t,e,a,n),e.child;case 6:return t===null&&Fm(e),null;case 13:return LC(t,e,n);case 4:return Pv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Pa(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),gb(t,e,r,i,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Xe(ld,r._currentValue),r._currentValue=a,o!==null)if(lr(o.value,a)){if(o.children===i.children&&!un.current){e=Vr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=$r(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Vm(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Y(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Vm(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ya(e,n),i=zn(i),r=r(i),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,i=Qn(r,e.pendingProps),i=Qn(r.type,i),yb(t,e,r,i,n);case 15:return RC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qn(r,i),Fc(t,e),e.tag=1,cn(r)?(t=!0,od(e)):t=!1,ya(e,n),NC(e,r,i),qm(e,r,i,n),Wm(null,e,r,!0,t,n);case 19:return UC(t,e,n);case 22:return $C(t,e,n)}throw Error(Y(156,e.tag))};function tk(t,e){return kA(t,e)}function c5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,n,r){return new c5(t,e,n,r)}function qv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d5(t){if(typeof t=="function")return qv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uv)return 11;if(t===cv)return 14}return 2}function Si(t,e){var n=t.alternate;return n===null?(n=Un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qc(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")qv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Yo:return fo(n.children,i,o,e);case lv:a=8,i|=8;break;case pm:return t=Un(12,n,e,i|2),t.elementType=pm,t.lanes=o,t;case mm:return t=Un(13,n,e,i),t.elementType=mm,t.lanes=o,t;case gm:return t=Un(19,n,e,i),t.elementType=gm,t.lanes=o,t;case dA:return Ff(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uA:a=10;break e;case cA:a=9;break e;case uv:a=11;break e;case cv:a=14;break e;case ii:a=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Un(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function fo(t,e,n,r){return t=Un(7,t,r,e),t.lanes=n,t}function Ff(t,e,n,r){return t=Un(22,t,r,e),t.elementType=dA,t.lanes=n,t.stateNode={isHidden:!1},t}function Ap(t,e,n){return t=Un(6,t,null,e),t.lanes=n,t}function Cp(t,e,n){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function f5(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sp(0),this.expirationTimes=sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gv(t,e,n,r,i,o,a,s,l){return t=new f5(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Un(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kv(o),t}function h5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nk(t){if(!t)return Ci;t=t._reactInternals;e:{if(Co(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(cn(n))return nC(t,n,e)}return e}function rk(t,e,n,r,i,o,a,s,l){return t=Gv(n,r,!0,t,i,o,a,s,l),t.context=nk(null),n=t.current,r=nn(),i=_i(n),o=$r(r,i),o.callback=e??null,bi(n,o,i),t.current.lanes=i,Au(t,i,r),dn(t,r),t}function Vf(t,e,n,r){var i=e.current,o=nn(),a=_i(i);return n=nk(n),e.context===null?e.context=n:e.pendingContext=n,e=$r(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bi(i,e,a),t!==null&&(ar(t,i,a,o),Lc(t,i,a)),a}function vd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hv(t,e){Pb(t,e),(t=t.alternate)&&Pb(t,e)}function p5(){return null}var ik=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wv(t){this._internalRoot=t}zf.prototype.render=Wv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Vf(t,e,null,null)};zf.prototype.unmount=Wv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wo(function(){Vf(null,t,null,null)}),e[Br]=null}};function zf(t){this._internalRoot=t}zf.prototype.unstable_scheduleHydration=function(t){if(t){var e=$A();t={blockedOn:null,target:t,priority:e};for(var n=0;n<li.length&&e!==0&&e<li[n].priority;n++);li.splice(n,0,t),n===0&&DA(t)}};function Kv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ib(){}function m5(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=vd(a);o.call(u)}}var a=rk(e,r,t,0,null,!1,!1,"",Ib);return t._reactRootContainer=a,t[Br]=a.current,Ol(t.nodeType===8?t.parentNode:t),wo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=vd(l);s.call(u)}}var l=Gv(t,0,!1,null,null,!1,!1,"",Ib);return t._reactRootContainer=l,t[Br]=l.current,Ol(t.nodeType===8?t.parentNode:t),wo(function(){Vf(e,l,n,r)}),l}function Gf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=vd(a);s.call(l)}}Vf(e,a,t,i)}else a=m5(n,e,t,i,r);return vd(a)}MA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=tl(e.pendingLanes);n!==0&&(hv(e,n|1),dn(e,yt()),!(Me&6)&&(Oa=yt()+500,Ii()))}break;case 13:wo(function(){var r=Fr(t,1);if(r!==null){var i=nn();ar(r,t,1,i)}}),Hv(t,1)}};pv=function(t){if(t.tag===13){var e=Fr(t,134217728);if(e!==null){var n=nn();ar(e,t,134217728,n)}Hv(t,134217728)}};RA=function(t){if(t.tag===13){var e=_i(t),n=Fr(t,e);if(n!==null){var r=nn();ar(n,t,e,r)}Hv(t,e)}};$A=function(){return Fe};jA=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};Am=function(t,e,n){switch(e){case"input":if(wm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$f(r);if(!i)throw Error(Y(90));hA(r),wm(r,i)}}}break;case"textarea":mA(t,n);break;case"select":e=n.value,e!=null&&ha(t,!!n.multiple,e,!1)}};_A=Fv;SA=wo;var g5={usingClientEntryPoint:!1,Events:[ku,ea,$f,bA,xA,Fv]},Ls={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y5={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AA(t),t===null?null:t.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||p5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{Nf=uc.inject(y5),yr=uc}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g5;kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kv(e))throw Error(Y(200));return h5(t,e,null,n)};kn.createRoot=function(t,e){if(!Kv(t))throw Error(Y(299));var n=!1,r="",i=ik;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gv(t,1,!1,null,null,n,!1,r,i),t[Br]=e.current,Ol(t.nodeType===8?t.parentNode:t),new Wv(e)};kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=AA(e),t=t===null?null:t.stateNode,t};kn.flushSync=function(t){return wo(t)};kn.hydrate=function(t,e,n){if(!qf(e))throw Error(Y(200));return Gf(null,t,e,!0,n)};kn.hydrateRoot=function(t,e,n){if(!Kv(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=ik;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=rk(e,null,t,1,n??null,i,!1,o,a),t[Br]=e.current,Ol(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zf(e)};kn.render=function(t,e,n){if(!qf(e))throw Error(Y(200));return Gf(null,t,e,!1,n)};kn.unmountComponentAtNode=function(t){if(!qf(t))throw Error(Y(40));return t._reactRootContainer?(wo(function(){Gf(null,null,t,!1,function(){t._reactRootContainer=null,t[Br]=null})}),!0):!1};kn.unstable_batchedUpdates=Fv;kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qf(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return Gf(t,e,n,!1,r)};kn.version="18.3.1-next-f1338f8080-20240426";function ok(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ok)}catch(t){console.error(t)}}ok(),oA.exports=kn;var v5=oA.exports,Nb=v5;fm.createRoot=Nb.createRoot,fm.hydrateRoot=Nb.hydrateRoot;var de=(t=>(t.Admin="Admin",t.Manager="Manager",t.Cashier="Cashier",t.Viewer="Viewer",t))(de||{});const ak=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),sk=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})}),lk=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962c.513-.96 1.487-1.591 2.571-1.591h1.69c1.084 0 2.058.631 2.571 1.591m-1.5-4.87c.966-.054 1.932.026 2.867.231m-8.686.461a9.083 9.083 0 01-2.233-1.527m-5.145-2.747a6.75 6.75 0 01-1.025-2.185m-2.522-3.238a6.75 6.75 0 00-1.025 2.185m8.686 4.61a9.083 9.083 0 01-2.233 1.527m5.145 2.747a6.75 6.75 0 001.025 2.185m2.522 3.238a6.75 6.75 0 011.025-2.185m-8.686-4.61a9.083 9.083 0 002.233-1.527m-5.145-2.747a6.75 6.75 0 01-1.025-2.185m-2.522-3.238a6.75 6.75 0 00-1.025 2.185"})}),uk=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.003c0 1.113.285 2.16.786 3.07M15 19.128c.331.149.661.296.992.443m-7.007-4.668a2.25 2.25 0 01-.02-3.956 2.25 2.25 0 013.976.02 2.25 2.25 0 01-.02 3.956 2.25 2.25 0 01-3.976-.02zM12 15.75l-4.243 4.243M12 15.75l4.243 4.243m-8.486-4.243L12 15.75l-4.243-4.243m4.243-4.243L12 11.25l-4.243 4.243M12 3v.01M16.5 4.5l.01.01M21 8.25v.01M21 12v.01M21 15.75v.01M16.5 19.5l.01.01M12 21v.01M7.5 19.5l-.01.01M3 15.75v.01M3 12v.01M3 8.25v.01M7.5 4.5l-.01.01"})}),w5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-1.007 1.11-1.226.55-.22 1.156-.169 1.664.13a4.902 4.902 0 012.016 3.033h.003c.184 1.487.054 3.023-.384 4.484.09.09.182.178.27.264.47.442.823.979 1.05 1.58.227.602.268 1.25.122 1.867-.146.617-.458 1.18-.9 1.637a4.902 4.902 0 01-6.108 2.368c-1.897-.732-3.56-2.22-4.32-4.13a4.893 4.893 0 01.164-5.32c.532-.733 1.28-1.343 2.146-1.757.513-.246 1.06-.401 1.617-.464.089-.006.177-.013.266-.02zM12 9a3 3 0 100 6 3 3 0 000-6z"})}),Ob=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125v-12.75a1.125 1.125 0 011.125-1.125h17.25a1.125 1.125 0 011.125 1.125v12.75a1.125 1.125 0 01-1.125 1.125m-17.25 0h.009v.008h-.009v-.008zm1.688 0h.009v.008h-.009v-.008zm1.687 0h.009v.008h-.009v-.008zm1.688 0h.009v.008h-.009v-.008zm1.687 0h.009v.008h-.009v-.008zM8.25 6h7.5M8.25 9h7.5m-7.5 3h7.5"})}),ck=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c.51 0 .962-.343 1.087-.835l1.823-6.423a.75.75 0 00-.674-.928H5.216c-.464 0-.893.261-.928.704L3.63 10.25l-1.38-4.853A.75.75 0 001.5 5.25H2.25"})}),b5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.516.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})}),x5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125v-4.25m16 4.25a1.5 1.5 0 003 0m-3 0a1.5 1.5 0 01-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})}),dk=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})}),_5=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.593l6.002-4.591c.828-.426.828-1.506 0-1.932l-6.002-4.591a2.02 2.02 0 00-1.607-.24L9.568 3z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),S5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})}),E5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"})}),T5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A11.953 11.953 0 0012 10.5c-2.998 0-5.74-1.1-7.843-2.918"})}),A5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008H12v-.008z"})}),C5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),k5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),P5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),I5=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 013.75 9.375v-4.5zM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 01-1.125-1.125v-4.5zM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0113.5 9.375v-4.5z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 15.375a.75.75 0 01.75-.75h4.5a.75.75 0 010 1.5h-4.5a.75.75 0 01-.75-.75zM13.5 18.375a.75.75 0 01.75-.75h4.5a.75.75 0 010 1.5h-4.5a.75.75 0 01-.75-.75z"})]}),N5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 017.424 0M5.136 11.886c3.87-3.87 10.154-3.87 14.024 0M19.5 18a.75.75 0 100-1.5.75.75 0 000 1.5z"})}),O5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 004.5 4.5H18a3.75 3.75 0 001.332-7.257 3 3 0 00-2.357-5.022 3.75 3.75 0 00-6.502-2.327 4.5 4.5 0 00-9 5.25z"})}),M5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),fk=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),ko={ChartBarIcon:ak,CubeIcon:sk,UserGroupIcon:lk,UsersIcon:uk,ShoppingCartIcon:ck,KeyIcon:b5,BanknotesIcon:dk,TagIcon:_5,ChatBubbleLeftRightIcon:S5,PrinterIcon:E5,GlobeAltIcon:T5,ShieldCheckIcon:A5,XMarkIcon:C5,BuildingStorefrontIcon:k5,ArrowUpTrayIcon:P5,QrCodeIcon:I5,WifiIcon:N5,CloudIcon:O5,TrashIcon:M5,ClockIcon:fk},R5=[{name:"Dashboard",path:"dashboard",icon:ak,roles:[de.Admin,de.Manager,de.Viewer]},{name:"POS",path:"pos",icon:ck,roles:[de.Admin,de.Manager,de.Cashier]},{name:"Products",path:"products",icon:sk,roles:[de.Admin,de.Manager]},{name:"Customers",path:"customers",icon:lk,roles:[de.Admin,de.Manager,de.Cashier]},{name:"Credit & Holds",path:"credit-holds",icon:fk,roles:[de.Admin,de.Manager,de.Cashier]},{name:"Employees",path:"employees",icon:uk,roles:[de.Admin]},{name:"Suppliers",path:"suppliers",icon:x5,roles:[de.Admin,de.Manager]},{name:"Purchases",path:"purchases",icon:Ob,roles:[de.Admin,de.Manager]},{name:"Expenses",path:"expenses",icon:dk,roles:[de.Admin,de.Manager]},{name:"Reports",path:"reports",icon:Ob,roles:[de.Admin,de.Manager,de.Viewer]},{name:"Settings",path:"settings",icon:w5,roles:[de.Admin,de.Manager,de.Cashier]}],$5=[{id:"totalRevenue",name:"Total Revenue"},{id:"newCustomers",name:"New Customers"},{id:"productsSold",name:"Products Sold"},{id:"todaysTransactions",name:"Todays Transactions"},{id:"licenseActivations",name:"License Activations"},{id:"salesOverview",name:"Sales Overview"},{id:"topProducts",name:"Top Products"},{id:"recentActivity",name:"Recent Activity"},{id:"lowStockAlerts",name:"Low Stock Alerts"},{id:"aiInsights",name:"AI-Powered Insights"}],io=t=>{switch(t){case de.Admin:return{totalRevenue:!0,newCustomers:!0,productsSold:!0,todaysTransactions:!0,salesOverview:!0,topProducts:!0,recentActivity:!0,lowStockAlerts:!0,aiInsights:!0,licenseActivations:!0};case de.Manager:return{totalRevenue:!0,productsSold:!0,salesOverview:!0,topProducts:!0,recentActivity:!0,lowStockAlerts:!0};case de.Cashier:return{todaysTransactions:!0,productsSold:!0,lowStockAlerts:!0};case de.Viewer:return{totalRevenue:!0,salesOverview:!0,topProducts:!0};default:return{}}},In={products:{columns:[{key:"imageUrl",header:"Image",render:t=>p.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-10 h-10 rounded-md object-cover"})},{key:"name",header:"Name"},{key:"sku",header:"SKU"},{key:"category",header:"Category"},{key:"price",header:"Price",render:t=>`$${(t.price||0).toFixed(2)}`},{key:"stock",header:"Stock"}],formFields:[{key:"name",label:"Product Name",type:"text",required:!0},{key:"sku",label:"SKU (Stock Keeping Unit)",type:"text",required:!0},{key:"price",label:"Price",type:"number",required:!0},{key:"stock",label:"Stock Quantity",type:"number",required:!0},{key:"category",label:"Category",type:"text"},{key:"brand",label:"Brand",type:"text"},{key:"unit",label:"Unit (e.g., kg, pc)",type:"text"},{key:"lowStockThreshold",label:"Low Stock Alert Threshold",type:"number"},{key:"imageUrl",label:"Product Image",type:"image"}]},customers:{columns:[{key:"name",header:"Name"},{key:"phone",header:"Phone"},{key:"email",header:"Email"},{key:"loyaltyPoints",header:"Loyalty Points"},{key:"dueAmount",header:"Due Amount",render:t=>`$${(t.dueAmount||0).toFixed(2)}`}],formFields:[{key:"name",label:"Customer Name",type:"text",required:!0},{key:"phone",label:"Phone Number",type:"text",required:!0},{key:"email",label:"Email Address",type:"email"},{key:"creditLimit",label:"Credit Limit",type:"number"}]},employees:{columns:[{key:"avatarUrl",header:"Avatar",render:t=>p.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-10 h-10 rounded-full object-cover"})},{key:"name",header:"Name"},{key:"email",header:"Email"},{key:"role",header:"Role"}],formFields:[{key:"name",label:"Full Name",type:"text",required:!0},{key:"email",label:"Email Address",type:"email",required:!0},{key:"password",label:"Password",type:"password",required:!0},{key:"role",label:"Role",type:"select",required:!0,options:Object.values(de).map(t=>({value:t,label:t}))},{key:"avatarUrl",label:"Avatar Image",type:"image"}]},suppliers:{columns:[{key:"name",header:"Supplier Name"},{key:"contactPerson",header:"Contact Person"},{key:"phone",header:"Phone"},{key:"email",header:"Email"}],formFields:[{key:"name",label:"Supplier Name",type:"text",required:!0},{key:"contactPerson",label:"Contact Person",type:"text"},{key:"phone",label:"Phone Number",type:"text",required:!0},{key:"email",label:"Email Address",type:"email"}]},purchases:{columns:[{key:"id",header:"Order ID"},{key:"supplierName",header:"Supplier"},{key:"createdAt",header:"Date",render:t=>new Date(t.createdAt).toLocaleDateString()},{key:"total",header:"Total",render:t=>`$${(t.total||0).toFixed(2)}`},{key:"status",header:"Status"}],formFields:[{key:"supplierId",label:"Supplier",type:"select",required:!0,options:[]},{key:"status",label:"Status",type:"select",required:!0,options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]}]},expenses:{columns:[{key:"date",header:"Date",render:t=>new Date(t.date).toLocaleDateString()},{key:"category",header:"Category"},{key:"description",header:"Description"},{key:"amount",header:"Amount",render:t=>`$${(t.amount||0).toFixed(2)}`},{key:"recordedBy",header:"Recorded By"}],formFields:[{key:"date",label:"Date",type:"date",required:!0},{key:"category",label:"Category",type:"text",required:!0},{key:"description",label:"Description",type:"text"},{key:"amount",label:"Amount",type:"number",required:!0}]}},j5=[{id:"store_1",name:"Main Branch",location:"New York",organizationId:"org_trial"},{id:"store_2",name:"Downtown Satellite",location:"Los Angeles",organizationId:"org_trial"}],Mb=[{id:"u1",name:"Zia Uddin",email:"ziauddin537000@gmail.com",password:"admin",role:de.Admin,avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026704d",dashboardWidgets:io(de.Admin),organizationId:"org_trial",storeAccess:["all"]},{id:"u2",name:"Jane Smith",email:"manager@example.com",password:"password",role:de.Manager,avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026704e",dashboardWidgets:io(de.Manager),organizationId:"org_trial",storeAccess:["store_1"]},{id:"u3",name:"Mike Johnson",email:"cashier@example.com",password:"password",role:de.Cashier,avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026704f",dashboardWidgets:io(de.Cashier),organizationId:"org_trial",storeAccess:["store_2"]},{id:"u4",name:"Emily Davis",email:"viewer@example.com",password:"password",role:de.Viewer,avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026704g",dashboardWidgets:io(de.Viewer),organizationId:"org_trial",storeAccess:["all"]},{id:"superadmin",name:"Super Admin",email:"superadmin@zenith.com",password:"superadmin123!",role:de.Admin,avatarUrl:"https://i.pravatar.cc/150?u=superadmin",dashboardWidgets:{},storeAccess:["all"]}],D5=[{id:"p1",name:"Zenith Signature Coffee Beans",category:"Coffee",price:18.99,stock:120,sku:"ZCB-001",brand:"Zenith",unit:"kg",lowStockThreshold:20,imageUrl:"https://images.unsplash.com/photo-1559440618-b54a44186c34?q=80&w=2070&auto=format&fit=crop",organizationId:"org_trial",storeId:"store_1"},{id:"p2",name:"Artisan Sourdough Bread",category:"Bakery",price:6.5,stock:35,sku:"ASB-002",brand:"Local Bakery",unit:"loaf",lowStockThreshold:10,imageUrl:"https://images.unsplash.com/photo-1534623225019-160876432831?q=80&w=2070&auto=format&fit=crop",organizationId:"org_trial",storeId:"store_1"},{id:"p3",name:"Organic Green Tea",category:"Tea",price:12,stock:80,sku:"OGT-003",brand:"PureLeaf",unit:"box",lowStockThreshold:15,imageUrl:"https://images.unsplash.com/photo-1627435601361-ec25f2b74413?q=80&w=1965&auto=format&fit=crop",organizationId:"org_trial",storeId:"store_2"},{id:"p4",name:"Stainless Steel Water Bottle",category:"Merchandise",price:25,stock:50,sku:"SSWB-004",brand:"Zenith",unit:"pc",lowStockThreshold:5,imageUrl:"https://images.unsplash.com/photo-1610399432243-c36314f8a1d7?q=80&w=1974&auto=format&fit=crop",organizationId:"org_trial",storeId:"store_2"}],L5=[{id:"c1",name:"Alice Williams",phone:"555-0101",email:"alice@example.com",loyaltyPoints:250,dueAmount:55.2,creditLimit:200,organizationId:"org_trial",storeId:"store_1"},{id:"c2",name:"Bob Brown",phone:"555-0102",email:"bob@example.com",loyaltyPoints:120,dueAmount:0,organizationId:"org_trial",storeId:"store_2"}],U5=[{id:"s1",date:"2023-10-26T10:00:00Z",total:42.99,cashier:"Mike Johnson",cashierId:"u3",items:2,customerId:"c1",customerName:"Alice Williams",amountPaid:42.99,paymentMethod:"Card",organizationId:"org_trial",storeId:"store_2"},{id:"s2",date:"2023-10-26T11:30:00Z",total:12.5,cashier:"Mike Johnson",cashierId:"u3",items:1,customerId:"guest",customerName:"Guest",amountPaid:15,paymentMethod:"Cash",organizationId:"org_trial",storeId:"store_2"}],B5=[{name:"Mon",sales:4e3},{name:"Tue",sales:3e3},{name:"Wed",sales:2e3},{name:"Thu",sales:2780},{name:"Fri",sales:1890},{name:"Sat",sales:2390},{name:"Sun",sales:3490}],Rb=[{name:"Coffee Beans",value:400},{name:"Sourdough Bread",value:300},{name:"Green Tea",value:300},{name:"Water Bottle",value:200}],F5=[{id:"al1",user:"Zia Uddin",action:"updated system settings",timestamp:"2023-10-27T14:30:00Z"},{id:"al2",user:"Jane Smith",action:'added a new product "Croissant"',timestamp:"2023-10-27T14:00:00Z"},{id:"al3",user:"Mike Johnson",action:"processed sale #s2",timestamp:"2023-10-27T13:45:00Z"}],V5=[{id:"lk1",key:"DEV-AB12CD",assignedToUserId:"u3",assignedToUserName:"Mike Johnson",status:"Active",validity:"Lifetime",deviceName:"Main Counter",organizationId:"org_trial",storeId:"store_1"},{id:"lk2",key:"DEV-EF45GH",assignedToUserId:"",assignedToUserName:"Unassigned",status:"Revoked",validity:"Lifetime",deviceName:"Warehouse Tablet",organizationId:"org_trial",storeId:"store_2"}],z5=[{id:"n1",title:"Low Stock Alert",message:"Zenith Signature Coffee Beans are running low (15 left).",timestamp:new Date().toISOString(),read:!1,link:"products"},{id:"n2",title:"New Feature",message:"AI-Powered Insights are now available on your dashboard!",timestamp:new Date(Date.now()-36e5).toISOString(),read:!0}],q5=[{id:"sup1",name:"Global Coffee Importers",contactPerson:"John Doe",phone:"123-456-7890",email:"j.doe@gci.com",organizationId:"org_trial",storeId:"store_1"},{id:"sup2",name:"Artisan Bakery Co-op",contactPerson:"Mary Jane",phone:"987-654-3210",email:"mary@abcoop.com",organizationId:"org_trial",storeId:"store_2"}],G5=[{id:"po1",supplierId:"sup1",supplierName:"Global Coffee Importers",status:"Completed",items:[{productId:"p1",productName:"Coffee",quantity:50,cost:10}],total:500,createdAt:new Date().toISOString(),createdBy:"Jane Smith",organizationId:"org_trial",storeId:"store_1"},{id:"po2",supplierId:"sup2",supplierName:"Artisan Bakery Co-op",status:"Pending",items:[],total:150,createdAt:new Date().toISOString(),createdBy:"Jane Smith",organizationId:"org_trial",storeId:"store_2"}],H5=[{id:"e1",category:"Rent",description:"October Rent",amount:1500,date:new Date().toISOString(),recordedBy:"Zia Uddin",organizationId:"org_trial",storeId:"store_1"},{id:"e2",category:"Utilities",description:"Electricity Bill",amount:250,date:new Date().toISOString(),recordedBy:"Zia Uddin",organizationId:"org_trial",storeId:"store_2"}],$b=7,jb=.01,W5={en:{Dashboard:"Dashboard",POS:"POS",Products:"Products",Customers:"Customers","Credit & Holds":"Credit & Holds",Employees:"Employees",Suppliers:"Suppliers",Purchases:"Purchases",Expenses:"Expenses",Reports:"Reports",Settings:"Settings","Total Revenue":"Total Revenue","New Customers":"New Customers","Products Sold":"Products Sold","Todays Transactions":"Todays Transactions","Shift Started":"Shift Started",Online:"Online",Offline:"Offline","Clock Out":"Clock Out","Clock In":"Clock In",Search:"Search or Scan Barcode...","Current Order":"Current Order",Hold:"Hold","Clear Cart":"Clear Cart",Subtotal:"Subtotal",Tax:"Tax",Total:"Total",Charge:"Charge","Payment Success":"Payment Success","Out of Stock":"Out of Stock!","Stock Limit Exceeded":"Stock limit for this item has been reached!","Manage Products":"Manage Products","Manage Customers":"Manage Customers","Manage Employees":"Manage Employees","Manage Suppliers":"Manage Suppliers","Manage Purchases":"Manage Purchases","Manage Expenses":"Manage Expenses","Add New":"Add New","Import CSV":"Import CSV","Print Labels":"Print Labels","System User Guide":"System User Guide","Guide Intro":"Welcome to the Zenith POS User Guide. This guide will help you understand and use all the features of the system effectively. Click on any section below to expand it.",guide_title_1:"Dashboard & Analytics",guide_content_1:`The Dashboard provides a real-time overview of your business. 
- **Summary Cards:** Quick stats like Total Revenue, New Customers, etc.
- **Charts:** Visualize your Sales Overview and Top Selling Products.
- **AI Insights:** (Premium/Enterprise Plan) Ask business-related questions and get data-driven advice from our AI assistant.
- **Low Stock Alerts:** Instantly see products that are running low based on the threshold you set.
- **Customize:** Click the 'Customize' button to show or hide widgets based on your role and preference.`,guide_title_2:"Point of Sale (POS)",guide_content_2:`The POS screen is designed for fast and efficient checkouts.
- **Product Search:** Use the search bar or a barcode scanner to find products quickly.
- **Cart Management:** Click on products to add them to the cart. Adjust quantity or apply item-specific discounts using the tag icon.
- **Customer:** Add a new customer or search for an existing one. This is required for credit sales.
- **Hold/Resume:** Use the 'Hold' button to save a cart for later. Resume it from the clock icon.
- **Payment:** Click 'Charge' to open the payment modal. You can accept Cash, Card, or assign the sale to a customer's credit.
- **Stock Update:** After each successful sale, the stock levels of the sold products are automatically updated.`,guide_title_3:"Data Management (Products, Customers, etc.)",guide_content_3:`The Management section allows you to handle all your core business data.
- **View & Edit:** Click on any management tab (e.g., Products) to see a list of all items.
- **Add New:** Use the 'Add New' button to create a new entry.
- **Delete:** Select items using the checkboxes and use the 'Delete Selected' button, or delete individual items from the actions column.
- **Import CSV:** For products, you can bulk-upload your inventory using a CSV file. The format should be: Name,Price,Stock,Category,SKU.
- **Print Labels:** Select products and click 'Print Labels' to generate barcode labels for them.`,guide_title_4:"Multi-Store Management (Enterprise Plan)",guide_content_4:`Zenith POS allows you to manage multiple branches from a single account.
- **Switching Stores:** Click on your profile icon in the top-right header. A dropdown menu will appear allowing you to select a specific store or the 'All Stores (Global View)'.
- **Global View:** Shows combined data and analytics from all your branches.
- **Store View:** Filters all data (Dashboard, POS, Management) to show information for the selected store only.
- **Adding Employees:** You must select a specific store view before you can add a new employee. They will be automatically assigned to that store.
- **Managing Stores:** As an Admin, you can add or delete stores from the 'Store Management' card in the Settings page.`,guide_title_5:"Profile & Security",guide_content_5:`Manage your personal account details and security settings.
- **Profile:** Update your name, profile picture, and phone number. Your phone number is important for account recovery.
- **Password:** Change your password by providing your current and new password. For security, we recommend changing it periodically.`,guide_title_6:"License & Activation",guide_content_6:`This section is for Admins to manage the system's license.
- **Master License:** View your current plan, status, and expiry date. You can update your license with a new key here.
- **Trial Mode:** If you are on a trial, this section will allow you to enter a key to activate the full version. Activating from trial will reset demo data.
- **Deactivate:** You can deactivate the license on the current device. This will log you out and require you to activate the software again.
- **Device Keys:** Generate and manage keys for other POS terminals in your store.`,guide_title_7:"System Settings",guide_content_7:`Configure system-wide settings for your business.
- **Localization:** Change the application's language (English/Bangla) and default currency.
- **Business Config:** Set your business name and default tax rate. You can also upload a business logo which will appear on the header and receipts.
- **Data Management:** It is highly recommended to periodically back up your data. Use the 'Backup Data' button to download a file containing all your important information. You can restore from this file using the 'Restore Data' button.`,guide_title_8:"Reports",guide_content_8:`Analyze your business performance with detailed reports.
- **Filters:** Use the filters at the top to narrow down your sales data by date range, cashier, or customer.
- **Summary:** Get quick insights with summary cards for total revenue, transactions, and average sale value.
- **Chart:** The sales trend chart visualizes your performance over the selected period.
- **Transaction List:** See a detailed list of all sales that match your filters.
- **Export:** Export the filtered report data to a CSV or XLSX file for accounting or further analysis.`,"Close Guide":"Close Guide","Shift Started Notification":"You have successfully clocked in.","Shift Ended Notification":"You have successfully clocked out.","Shift Update":"Shift Update","Low Stock Alert":"Low Stock Alert","is running low":"is running low"},bn:{Dashboard:"",POS:" ",Products:"",Customers:"","Credit & Holds":"  ",Employees:"",Suppliers:"",Purchases:"",Expenses:"",Reports:"",Settings:"","Total Revenue":" ","New Customers":" ","Products Sold":" ","Todays Transactions":" ","Shift Started":"  ",Online:"",Offline:"","Clock Out":" ","Clock In":" ",Search:"    ...","Current Order":" ",Hold:"","Clear Cart":"  ",Subtotal:"",Tax:"",Total:"",Charge:"","Payment Success":" ","Out of Stock":" !","Stock Limit Exceeded":"     !","Manage Products":" ","Manage Customers":" ","Manage Employees":" ","Manage Suppliers":" ","Manage Purchases":" ","Manage Expenses":" ","Add New":"  ","Import CSV":"CSV ","Print Labels":" ","System User Guide":"  ","Guide Intro":"Zenith POS                       ",guide_title_1:"  ",guide_content_1:`    -   
- ** :**  ,       
- **:**        
- **AI :** (/ ) -      AI    -  
- ** :**             
- **:**          ''   `,guide_title_2:"   (POS)",guide_content_2:`POS         
- ** :**          
- ** :**                    
- **:**             
- **/:**        ''          
- **:**    ''    ,       
- ** :**    ,        `,guide_title_3:"  (,  )",guide_content_3:`          
- **   :**        (, )  
- **  :**      'Add New'   
- ** :**        'Delete Selected'   ,     einzeln   
- **CSV :**  ,   CSV      -    : Name,Price,Stock,Category,SKU
- ** :**         'Print Labels'  `,guide_title_4:"-  ( )",guide_content_4:`Zenith POS         
- ** :**                   'All Stores (Global View)'   
- ** :**        
- ** :**      (, POS, )   
- ** :**                    
- ** :**  ,    'Store Management'        `,guide_title_5:"  ",guide_content_5:`        
- **:**  ,              
- **:**             ,       `,guide_title_6:"  ",guide_content_6:`        
- ** :**   ,                  
- ** :**     ,                       
- **:**                     
- ** :**    POS        `,guide_title_7:" ",guide_content_7:`   -   
- **:**   (/)     
- ** :**                      
- ** :**                    'Backup Data'     'Restore Data'         `,guide_title_8:"",guide_content_8:`       
- **:**  ,             
- **:**  ,            
- **:**          
- ** :**           
- **:**           CSV  XLSX   `,"Close Guide":"  ","Shift Started Notification":"    ","Shift Ended Notification":"    ","Shift Update":" ","Low Stock Alert":" ","is running low":" "}},hk={USD:{symbol:"$",rate:1},BDT:{symbol:"",rate:117.5},EUR:{symbol:"",rate:.92},INR:{symbol:"",rate:83.5}},K5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.95-4.243l-1.591 1.591M5.25 12H3m4.243-4.95l1.591-1.591M12 9a3 3 0 100 6 3 3 0 000-6z"})}),J5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25c0 5.385 4.365 9.75 9.75 9.75 2.572 0 4.92-.99 6.697-2.648z"})}),Y5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),X5=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),Db=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...t,children:p.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.052-.143z",clipRule:"evenodd"})}),Lb=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),{WifiIcon:Q5,CloudIcon:Z5,GlobeAltIcon:e$}=ko,t$=({user:t,onLogout:e,toggleSidebar:n,isDarkMode:r,toggleDarkMode:i,businessName:o,businessLogo:a,activeView:s,setActiveView:l,notifications:u,setNotifications:c,activeShift:d,onToggleShift:h,isOnline:g,t:y,isInTrial:v,activeStoreId:x,setActiveStoreId:w,accessibleStores:b,allStores:_})=>{const[T,S]=I.useState(!1),[E,A]=I.useState(!1),C=I.useRef(null),k=I.useRef(null),N=u.filter(j=>!j.read).length,O=j=>{j.link&&l(j.link),c(R=>R.map(L=>L.id===j.id?{...L,read:!0}:L)),A(!1)},M=()=>{c(j=>j.map(R=>({...R,read:!0})))},D=()=>{l("settings"),S(!1)},B=I.useMemo(()=>{const j=_.find(R=>R.id===x);return j?j.name:x==="global"?`${o} (Global)`:o},[x,_,o]);return I.useEffect(()=>{const j=R=>{C.current&&!C.current.contains(R.target)&&A(!1),k.current&&!k.current.contains(R.target)&&S(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]),p.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-sm shadow-sm flex flex-col",children:[v&&p.jsxs("div",{className:"bg-amber-500 text-white text-xs font-bold text-center py-1 flex justify-center items-center gap-2",children:[p.jsx("span",{children:" 7-DAY FREE TRIAL MODE"}),p.jsx("span",{className:"hidden sm:inline",children:" - Full features available."}),p.jsx("button",{onClick:()=>l("settings"),className:"underline hover:text-amber-100 ml-2",children:"Activate Now"})]}),p.jsxs("div",{className:"grid grid-cols-3 items-center h-16 px-4 md:px-6 w-full",children:[p.jsxs("div",{className:"flex items-center justify-start gap-4",children:[p.jsx("button",{onClick:n,className:"lg:hidden text-neutral-600 dark:text-neutral-300",children:p.jsx(X5,{className:"w-6 h-6"})}),d&&p.jsxs("div",{className:"hidden sm:flex items-center gap-2 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 text-xs font-semibold px-3 py-1.5 rounded-full",children:[p.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),p.jsxs("span",{children:[y("Shift Started"),": ",new Date(d.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a?p.jsx("img",{src:a,alt:"Business Logo",className:"h-8 w-8 object-contain"}):p.jsx(Lb,{className:"h-8 w-8 text-primary-600"}),p.jsx("h1",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-100 truncate",children:B})]}),p.jsxs("div",{className:"flex items-center justify-end space-x-2 md:space-x-4",children:[p.jsxs("div",{className:`hidden md:flex items-center gap-1.5 px-2 py-1 rounded-full border ${g?"border-green-200 bg-green-50 text-green-700 dark:border-green-900 dark:bg-green-900/20 dark:text-green-400":"border-neutral-200 bg-neutral-50 text-neutral-500 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-400"}`,children:[g?p.jsx(Q5,{className:"w-4 h-4"}):p.jsx(Z5,{className:"w-4 h-4"}),p.jsx("span",{className:"text-xs font-semibold",children:y(g?"Online":"Offline")})]}),p.jsx("button",{onClick:h,className:`hidden md:block text-sm font-semibold px-4 py-2 rounded-lg transition-colors ${d?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 hover:bg-red-200":"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 hover:bg-green-200"}`,children:y(d?"Clock Out":"Clock In")}),p.jsx("button",{onClick:i,className:"p-2 rounded-full text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:r?p.jsx(K5,{className:"w-5 h-5"}):p.jsx(J5,{className:"w-5 h-5"})}),p.jsxs("div",{className:"relative",ref:C,children:[p.jsxs("button",{onClick:()=>A(!E),className:"p-2 rounded-full text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:[p.jsx(Y5,{className:"w-6 h-6"}),N>0&&p.jsx("span",{className:"absolute top-1 right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-white text-xs ring-2 ring-white dark:ring-neutral-900",children:N})]}),E&&p.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-neutral-800 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 z-40",children:[p.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-neutral-200 dark:border-neutral-700",children:[p.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),p.jsx("button",{onClick:M,className:"text-xs text-primary-600 dark:text-primary-400 hover:underline",children:"Mark all as read"})]}),p.jsx("ul",{className:"max-h-80 overflow-y-auto",children:u.map(j=>p.jsx("li",{onClick:()=>O(j),className:`p-3 border-b border-neutral-100 dark:border-neutral-700/50 hover:bg-neutral-50 dark:hover:bg-neutral-700/50 ${j.link?"cursor-pointer":""}`,children:p.jsxs("div",{className:"flex items-start gap-3",children:[!j.read&&p.jsx("div",{className:"mt-1.5 w-2 h-2 rounded-full bg-primary-500 flex-shrink-0"}),p.jsxs("div",{className:j.read?"pl-5":"",children:[p.jsx("p",{className:"font-semibold text-sm",children:j.title}),p.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:j.message}),p.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:new Date(j.timestamp).toLocaleString()})]})]})},j.id))}),p.jsx("div",{className:"p-2 text-center border-t border-neutral-200 dark:border-neutral-700",children:p.jsx("button",{className:"text-sm font-medium text-primary-600 dark:text-primary-400 hover:underline",children:"View all notifications"})})]})]}),p.jsxs("div",{className:"relative",ref:k,children:[p.jsxs("button",{onClick:()=>S(!T),className:"flex items-center space-x-2",children:[p.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-9 h-9 rounded-full object-cover"}),p.jsxs("div",{className:"hidden md:block text-left",children:[p.jsx("p",{className:"text-sm font-semibold text-neutral-800 dark:text-neutral-100",children:t.name}),p.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:t.role})]})]}),T&&p.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-neutral-800 rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5 z-40",children:[p.jsxs("div",{className:"px-4 py-2 border-b dark:border-neutral-700",children:[p.jsx("p",{className:"text-sm font-semibold text-neutral-800 dark:text-neutral-100",children:t.name}),p.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:t.role})]}),p.jsxs("div",{className:"py-2",children:[p.jsx("p",{className:"px-4 pb-2 text-xs font-semibold text-neutral-400 uppercase",children:"Switch Store"}),p.jsxs("button",{onClick:()=>{w("global"),S(!1)},className:"w-full text-left flex items-center justify-between px-4 py-2 text-sm text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:[p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx(e$,{})," All Stores (Global View)"]}),x==="global"&&p.jsx(Db,{className:"w-5 h-5 text-primary-600"})]}),b.map(j=>p.jsxs("button",{onClick:()=>{w(j.id),S(!1)},className:"w-full text-left flex items-center justify-between px-4 py-2 text-sm text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:[p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx(Lb,{className:"w-4 h-4"})," ",j.name]}),x===j.id&&p.jsx(Db,{className:"w-5 h-5 text-primary-600"})]},j.id))]}),p.jsxs("div",{className:"border-t dark:border-neutral-700 py-1",children:[p.jsx("button",{onClick:D,className:"w-full text-left block px-4 py-2 text-sm text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:"Profile"}),p.jsx("button",{onClick:e,className:"w-full text-left block px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:"Logout"})]})]})]})]})]})]})},n$=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),r$=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),i$=({userRole:t,activeView:e,setActiveView:n,isOpen:r,setIsOpen:i,businessName:o,businessLogo:a,t:s})=>{const l=R5.filter(c=>c.roles.includes(t)),u=p.jsx("nav",{className:"flex-1 px-2 py-4 space-y-2",children:l.map(c=>p.jsxs("a",{href:"#",onClick:d=>{d.preventDefault(),n(c.path),window.innerWidth<1024&&i(!1)},className:`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 ${e===c.path?"bg-primary-600 text-white shadow-md":"text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700"}`,children:[p.jsx(c.icon,{className:"w-5 h-5 mr-3"}),p.jsx("span",{children:s(c.name)})]},c.name))});return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:`fixed inset-0 bg-black/30 z-40 lg:hidden transition-opacity ${r?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>i(!1)}),p.jsxs("aside",{className:`fixed lg:relative inset-y-0 left-0 z-50 flex flex-col w-64 bg-white dark:bg-neutral-800 border-r border-neutral-200 dark:border-neutral-700 transition-transform duration-300 ease-in-out ${r?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[p.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-neutral-200 dark:border-neutral-700",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[a?p.jsx("img",{src:a,alt:"Business Logo",className:"h-10 w-10 object-contain"}):p.jsx(r$,{className:"h-9 w-9 text-primary-600"}),p.jsx("span",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-100",children:o})]}),p.jsx("button",{onClick:()=>i(!1),className:"p-2 rounded-md text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700 lg:hidden",children:p.jsx(n$,{className:"w-6 h-6"})})]}),u]})]})};function pk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=pk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ee(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=pk(t))&&(r&&(r+=" "),r+=e);return r}var o$=Array.isArray,fn=o$,a$=typeof Hu=="object"&&Hu&&Hu.Object===Object&&Hu,mk=a$,s$=mk,l$=typeof self=="object"&&self&&self.Object===Object&&self,u$=s$||l$||Function("return this")(),Sr=u$,c$=Sr,d$=c$.Symbol,Iu=d$,Ub=Iu,gk=Object.prototype,f$=gk.hasOwnProperty,h$=gk.toString,Us=Ub?Ub.toStringTag:void 0;function p$(t){var e=f$.call(t,Us),n=t[Us];try{t[Us]=void 0;var r=!0}catch{}var i=h$.call(t);return r&&(e?t[Us]=n:delete t[Us]),i}var m$=p$,g$=Object.prototype,y$=g$.toString;function v$(t){return y$.call(t)}var w$=v$,Bb=Iu,b$=m$,x$=w$,_$="[object Null]",S$="[object Undefined]",Fb=Bb?Bb.toStringTag:void 0;function E$(t){return t==null?t===void 0?S$:_$:Fb&&Fb in Object(t)?b$(t):x$(t)}var Kr=E$;function T$(t){return t!=null&&typeof t=="object"}var Jr=T$,A$=Kr,C$=Jr,k$="[object Symbol]";function P$(t){return typeof t=="symbol"||C$(t)&&A$(t)==k$}var ls=P$,I$=fn,N$=ls,O$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M$=/^\w*$/;function R$(t,e){if(I$(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||N$(t)?!0:M$.test(t)||!O$.test(t)||e!=null&&t in Object(e)}var Jv=R$;function $$(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ni=$$;const us=Ve(Ni);var j$=Kr,D$=Ni,L$="[object AsyncFunction]",U$="[object Function]",B$="[object GeneratorFunction]",F$="[object Proxy]";function V$(t){if(!D$(t))return!1;var e=j$(t);return e==U$||e==B$||e==L$||e==F$}var Yv=V$;const be=Ve(Yv);var z$=Sr,q$=z$["__core-js_shared__"],G$=q$,kp=G$,Vb=function(){var t=/[^.]+$/.exec(kp&&kp.keys&&kp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function H$(t){return!!Vb&&Vb in t}var W$=H$,K$=Function.prototype,J$=K$.toString;function Y$(t){if(t!=null){try{return J$.call(t)}catch{}try{return t+""}catch{}}return""}var yk=Y$,X$=Yv,Q$=W$,Z$=Ni,ej=yk,tj=/[\\^$.*+?()[\]{}|]/g,nj=/^\[object .+?Constructor\]$/,rj=Function.prototype,ij=Object.prototype,oj=rj.toString,aj=ij.hasOwnProperty,sj=RegExp("^"+oj.call(aj).replace(tj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lj(t){if(!Z$(t)||Q$(t))return!1;var e=X$(t)?sj:nj;return e.test(ej(t))}var uj=lj;function cj(t,e){return t==null?void 0:t[e]}var dj=cj,fj=uj,hj=dj;function pj(t,e){var n=hj(t,e);return fj(n)?n:void 0}var Po=pj,mj=Po,gj=mj(Object,"create"),Hf=gj,zb=Hf;function yj(){this.__data__=zb?zb(null):{},this.size=0}var vj=yj;function wj(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var bj=wj,xj=Hf,_j="__lodash_hash_undefined__",Sj=Object.prototype,Ej=Sj.hasOwnProperty;function Tj(t){var e=this.__data__;if(xj){var n=e[t];return n===_j?void 0:n}return Ej.call(e,t)?e[t]:void 0}var Aj=Tj,Cj=Hf,kj=Object.prototype,Pj=kj.hasOwnProperty;function Ij(t){var e=this.__data__;return Cj?e[t]!==void 0:Pj.call(e,t)}var Nj=Ij,Oj=Hf,Mj="__lodash_hash_undefined__";function Rj(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Oj&&e===void 0?Mj:e,this}var $j=Rj,jj=vj,Dj=bj,Lj=Aj,Uj=Nj,Bj=$j;function cs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cs.prototype.clear=jj;cs.prototype.delete=Dj;cs.prototype.get=Lj;cs.prototype.has=Uj;cs.prototype.set=Bj;var Fj=cs;function Vj(){this.__data__=[],this.size=0}var zj=Vj;function qj(t,e){return t===e||t!==t&&e!==e}var Xv=qj,Gj=Xv;function Hj(t,e){for(var n=t.length;n--;)if(Gj(t[n][0],e))return n;return-1}var Wf=Hj,Wj=Wf,Kj=Array.prototype,Jj=Kj.splice;function Yj(t){var e=this.__data__,n=Wj(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Jj.call(e,n,1),--this.size,!0}var Xj=Yj,Qj=Wf;function Zj(t){var e=this.__data__,n=Qj(e,t);return n<0?void 0:e[n][1]}var eD=Zj,tD=Wf;function nD(t){return tD(this.__data__,t)>-1}var rD=nD,iD=Wf;function oD(t,e){var n=this.__data__,r=iD(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var aD=oD,sD=zj,lD=Xj,uD=eD,cD=rD,dD=aD;function ds(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ds.prototype.clear=sD;ds.prototype.delete=lD;ds.prototype.get=uD;ds.prototype.has=cD;ds.prototype.set=dD;var Kf=ds,fD=Po,hD=Sr,pD=fD(hD,"Map"),Qv=pD,qb=Fj,mD=Kf,gD=Qv;function yD(){this.size=0,this.__data__={hash:new qb,map:new(gD||mD),string:new qb}}var vD=yD;function wD(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var bD=wD,xD=bD;function _D(t,e){var n=t.__data__;return xD(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Jf=_D,SD=Jf;function ED(t){var e=SD(this,t).delete(t);return this.size-=e?1:0,e}var TD=ED,AD=Jf;function CD(t){return AD(this,t).get(t)}var kD=CD,PD=Jf;function ID(t){return PD(this,t).has(t)}var ND=ID,OD=Jf;function MD(t,e){var n=OD(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var RD=MD,$D=vD,jD=TD,DD=kD,LD=ND,UD=RD;function fs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fs.prototype.clear=$D;fs.prototype.delete=jD;fs.prototype.get=DD;fs.prototype.has=LD;fs.prototype.set=UD;var Zv=fs,vk=Zv,BD="Expected a function";function e0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(BD);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(e0.Cache||vk),n}e0.Cache=vk;var wk=e0;const FD=Ve(wk);var VD=wk,zD=500;function qD(t){var e=VD(t,function(r){return n.size===zD&&n.clear(),r}),n=e.cache;return e}var GD=qD,HD=GD,WD=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,KD=/\\(\\)?/g,JD=HD(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(WD,function(n,r,i,o){e.push(i?o.replace(KD,"$1"):r||n)}),e}),YD=JD;function XD(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var t0=XD,Gb=Iu,QD=t0,ZD=fn,eL=ls,Hb=Gb?Gb.prototype:void 0,Wb=Hb?Hb.toString:void 0;function bk(t){if(typeof t=="string")return t;if(ZD(t))return QD(t,bk)+"";if(eL(t))return Wb?Wb.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var tL=bk,nL=tL;function rL(t){return t==null?"":nL(t)}var xk=rL,iL=fn,oL=Jv,aL=YD,sL=xk;function lL(t,e){return iL(t)?t:oL(t,e)?[t]:aL(sL(t))}var _k=lL,uL=ls;function cL(t){if(typeof t=="string"||uL(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Yf=cL,dL=_k,fL=Yf;function hL(t,e){e=dL(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[fL(e[n++])];return n&&n==r?t:void 0}var n0=hL,pL=n0;function mL(t,e,n){var r=t==null?void 0:pL(t,e);return r===void 0?n:r}var Sk=mL;const Tn=Ve(Sk);function gL(t){return t==null}var yL=gL;const _e=Ve(yL);var vL=Kr,wL=fn,bL=Jr,xL="[object String]";function _L(t){return typeof t=="string"||!wL(t)&&bL(t)&&vL(t)==xL}var SL=_L;const bo=Ve(SL);var Ek={exports:{}},ze={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0=Symbol.for("react.element"),i0=Symbol.for("react.portal"),Xf=Symbol.for("react.fragment"),Qf=Symbol.for("react.strict_mode"),Zf=Symbol.for("react.profiler"),eh=Symbol.for("react.provider"),th=Symbol.for("react.context"),EL=Symbol.for("react.server_context"),nh=Symbol.for("react.forward_ref"),rh=Symbol.for("react.suspense"),ih=Symbol.for("react.suspense_list"),oh=Symbol.for("react.memo"),ah=Symbol.for("react.lazy"),TL=Symbol.for("react.offscreen"),Tk;Tk=Symbol.for("react.module.reference");function Hn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case r0:switch(t=t.type,t){case Xf:case Zf:case Qf:case rh:case ih:return t;default:switch(t=t&&t.$$typeof,t){case EL:case th:case nh:case ah:case oh:case eh:return t;default:return e}}case i0:return e}}}ze.ContextConsumer=th;ze.ContextProvider=eh;ze.Element=r0;ze.ForwardRef=nh;ze.Fragment=Xf;ze.Lazy=ah;ze.Memo=oh;ze.Portal=i0;ze.Profiler=Zf;ze.StrictMode=Qf;ze.Suspense=rh;ze.SuspenseList=ih;ze.isAsyncMode=function(){return!1};ze.isConcurrentMode=function(){return!1};ze.isContextConsumer=function(t){return Hn(t)===th};ze.isContextProvider=function(t){return Hn(t)===eh};ze.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===r0};ze.isForwardRef=function(t){return Hn(t)===nh};ze.isFragment=function(t){return Hn(t)===Xf};ze.isLazy=function(t){return Hn(t)===ah};ze.isMemo=function(t){return Hn(t)===oh};ze.isPortal=function(t){return Hn(t)===i0};ze.isProfiler=function(t){return Hn(t)===Zf};ze.isStrictMode=function(t){return Hn(t)===Qf};ze.isSuspense=function(t){return Hn(t)===rh};ze.isSuspenseList=function(t){return Hn(t)===ih};ze.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Xf||t===Zf||t===Qf||t===rh||t===ih||t===TL||typeof t=="object"&&t!==null&&(t.$$typeof===ah||t.$$typeof===oh||t.$$typeof===eh||t.$$typeof===th||t.$$typeof===nh||t.$$typeof===Tk||t.getModuleId!==void 0)};ze.typeOf=Hn;Ek.exports=ze;var AL=Ek.exports,CL=Kr,kL=Jr,PL="[object Number]";function IL(t){return typeof t=="number"||kL(t)&&CL(t)==PL}var Ak=IL;const NL=Ve(Ak);var OL=Ak;function ML(t){return OL(t)&&t!=+t}var RL=ML;const Nu=Ve(RL);var Zt=function(e){return e===0?0:e>0?1:-1},oo=function(e){return bo(e)&&e.indexOf("%")===e.length-1},X=function(e){return NL(e)&&!Nu(e)},$L=function(e){return _e(e)},kt=function(e){return X(e)||bo(e)},jL=0,hs=function(e){var n=++jL;return"".concat(e||"").concat(n)},en=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!X(e)&&!bo(e))return r;var o;if(oo(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Nu(o)&&(o=r),i&&o>n&&(o=n),o},ci=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},DL=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},wn=function(e,n){return X(e)&&X(n)?function(r){return e+r*(n-e)}:function(){return n}};function wd(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Tn(r,e))===n})}var LL=function(e,n){return X(e)&&X(n)?e-n:bo(e)&&bo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function wa(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}var UL=["viewBox","children"],BL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Kb=["points","pathLength"],Pp={svg:UL,polygon:Kb,polyline:Kb},o0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bd=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(P.isValidElement(e)&&(r=e.props),!us(r))return null;var i={};return Object.keys(r).forEach(function(o){o0.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},FL=function(e,n,r){return function(i){return e(n,r,i),null}},xo=function(e,n,r){if(!us(e)||og(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];o0.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=FL(a,n,r))}),i},VL=["children"],zL=["children"];function Jb(t,e){if(t==null)return{};var n=qL(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}var Yb={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},jr=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Xb=null,Ip=null,a0=function t(e){if(e===Xb&&Array.isArray(Ip))return Ip;var n=[];return P.Children.forEach(e,function(r){_e(r)||(AL.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Ip=n,Xb=e,n};function An(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return jr(i)}):r=[jr(e)],a0(t).forEach(function(i){var o=Tn(i,"type.displayName")||Tn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function vn(t,e){var n=An(t,e);return n&&n[0]}var Qb=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!X(r)||r<=0||!X(i)||i<=0)},GL=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],HL=function(e){return e&&e.type&&bo(e.type)&&GL.indexOf(e.type)>=0},WL=function(e){return e&&ag(e)==="object"&&"clipDot"in e},KL=function(e,n,r,i){var o,a=(o=Pp==null?void 0:Pp[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!be(e)&&(i&&a.includes(n)||BL.includes(n))||r&&o0.includes(n)},me=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!us(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;KL((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},sg=function t(e,n){if(e===n)return!0;var r=P.Children.count(e);if(r!==P.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Zb(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!Zb(o,a))return!1}return!0},Zb=function(e,n){if(_e(e)&&_e(n))return!0;if(!_e(e)&&!_e(n)){var r=e.props||{},i=r.children,o=Jb(r,VL),a=n.props||{},s=a.children,l=Jb(a,zL);return i&&s?wa(o,l)&&sg(i,s):!i&&!s?wa(o,l):!1}return!1},ex=function(e,n){var r=[],i={};return a0(e).forEach(function(o,a){if(HL(o))r.push(o);else if(o){var s=jr(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(o,s,a);r.push(d),i[s]=!0}}}),r},JL=function(e){var n=e&&e.type;return n&&Yb[n]?Yb[n]:null},YL=function(e,n){return a0(n).indexOf(e)},XL=["children","width","height","viewBox","className","style","title","desc"];function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(this,arguments)}function QL(t,e){if(t==null)return{};var n=ZL(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ug(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=QL(t,XL),c=i||{width:n,height:r,x:0,y:0},d=Ee("recharts-surface",o);return I.createElement("svg",lg({},me(u,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),e)}var e3=["children","className"];function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(this,arguments)}function t3(t,e){if(t==null)return{};var n=n3(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function n3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Re=I.forwardRef(function(t,e){var n=t.children,r=t.className,i=t3(t,e3),o=Ee("recharts-layer",r);return I.createElement("g",cg({className:o},me(i,!0),{ref:e}),n)}),sr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function r3(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var i3=r3,o3=i3;function a3(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:o3(t,e,n)}var s3=a3,l3="\\ud800-\\udfff",u3="\\u0300-\\u036f",c3="\\ufe20-\\ufe2f",d3="\\u20d0-\\u20ff",f3=u3+c3+d3,h3="\\ufe0e\\ufe0f",p3="\\u200d",m3=RegExp("["+p3+l3+f3+h3+"]");function g3(t){return m3.test(t)}var Ck=g3;function y3(t){return t.split("")}var v3=y3,kk="\\ud800-\\udfff",w3="\\u0300-\\u036f",b3="\\ufe20-\\ufe2f",x3="\\u20d0-\\u20ff",_3=w3+b3+x3,S3="\\ufe0e\\ufe0f",E3="["+kk+"]",dg="["+_3+"]",fg="\\ud83c[\\udffb-\\udfff]",T3="(?:"+dg+"|"+fg+")",Pk="[^"+kk+"]",Ik="(?:\\ud83c[\\udde6-\\uddff]){2}",Nk="[\\ud800-\\udbff][\\udc00-\\udfff]",A3="\\u200d",Ok=T3+"?",Mk="["+S3+"]?",C3="(?:"+A3+"(?:"+[Pk,Ik,Nk].join("|")+")"+Mk+Ok+")*",k3=Mk+Ok+C3,P3="(?:"+[Pk+dg+"?",dg,Ik,Nk,E3].join("|")+")",I3=RegExp(fg+"(?="+fg+")|"+P3+k3,"g");function N3(t){return t.match(I3)||[]}var O3=N3,M3=v3,R3=Ck,$3=O3;function j3(t){return R3(t)?$3(t):M3(t)}var D3=j3,L3=s3,U3=Ck,B3=D3,F3=xk;function V3(t){return function(e){e=F3(e);var n=U3(e)?B3(e):void 0,r=n?n[0]:e.charAt(0),i=n?L3(n,1).join(""):e.slice(1);return r[t]()+i}}var z3=V3,q3=z3,G3=q3("toUpperCase"),H3=G3;const sh=Ve(H3);function Ye(t){return function(){return t}}const Rk=Math.cos,xd=Math.sin,ur=Math.sqrt,_d=Math.PI,lh=2*_d,hg=Math.PI,pg=2*hg,Wi=1e-6,W3=pg-Wi;function $k(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function K3(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return $k;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class J3{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?$k:K3(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Wi)if(!(Math.abs(d*l-u*c)>Wi)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,y=i-s,v=l*l+u*u,x=g*g+y*y,w=Math.sqrt(v),b=Math.sqrt(h),_=o*Math.tan((hg-Math.acos((v+h-x)/(2*w*b)))/2),T=_/b,S=_/w;Math.abs(T-1)>Wi&&this._append`L${e+T*c},${n+T*d}`,this._append`A${o},${o},0,0,${+(d*g>c*y)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Wi||Math.abs(this._y1-c)>Wi)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%pg+pg),h>W3?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Wi&&this._append`A${r},${r},0,${+(h>=hg)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function s0(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new J3(e)}function l0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function jk(t){this._context=t}jk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function uh(t){return new jk(t)}function Dk(t){return t[0]}function Lk(t){return t[1]}function Uk(t,e){var n=Ye(!0),r=null,i=uh,o=null,a=s0(s);t=typeof t=="function"?t:t===void 0?Dk:Ye(t),e=typeof e=="function"?e:e===void 0?Lk:Ye(e);function s(l){var u,c=(l=l0(l)).length,d,h=!1,g;for(r==null&&(o=i(g=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ye(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ye(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ye(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function cc(t,e,n){var r=null,i=Ye(!0),o=null,a=uh,s=null,l=s0(u);t=typeof t=="function"?t:t===void 0?Dk:Ye(+t),e=typeof e=="function"?e:Ye(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Lk:Ye(+n);function u(d){var h,g,y,v=(d=l0(d)).length,x,w=!1,b,_=new Array(v),T=new Array(v);for(o==null&&(s=a(b=l())),h=0;h<=v;++h){if(!(h<v&&i(x=d[h],h,d))===w)if(w=!w)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=g;--y)s.point(_[y],T[y]);s.lineEnd(),s.areaEnd()}w&&(_[h]=+t(x,h,d),T[h]=+e(x,h,d),s.point(r?+r(x,h,d):_[h],n?+n(x,h,d):T[h]))}if(b)return s=null,b+""||null}function c(){return Uk().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ye(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Ye(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ye(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Ye(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Ye(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ye(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ye(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class Bk{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Y3(t){return new Bk(t,!0)}function X3(t){return new Bk(t,!1)}const u0={draw(t,e){const n=ur(e/_d);t.moveTo(n,0),t.arc(0,0,n,0,lh)}},Q3={draw(t,e){const n=ur(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Fk=ur(1/3),Z3=Fk*2,e4={draw(t,e){const n=ur(e/Z3),r=n*Fk;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},t4={draw(t,e){const n=ur(e),r=-n/2;t.rect(r,r,n,n)}},n4=.8908130915292852,Vk=xd(_d/10)/xd(7*_d/10),r4=xd(lh/10)*Vk,i4=-Rk(lh/10)*Vk,o4={draw(t,e){const n=ur(e*n4),r=r4*n,i=i4*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=lh*o/5,s=Rk(a),l=xd(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Np=ur(3),a4={draw(t,e){const n=-ur(e/(Np*3));t.moveTo(0,n*2),t.lineTo(-Np*n,-n),t.lineTo(Np*n,-n),t.closePath()}},Nn=-.5,On=ur(3)/2,mg=1/ur(12),s4=(mg/2+1)*3,l4={draw(t,e){const n=ur(e/s4),r=n/2,i=n*mg,o=r,a=n*mg+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Nn*r-On*i,On*r+Nn*i),t.lineTo(Nn*o-On*a,On*o+Nn*a),t.lineTo(Nn*s-On*l,On*s+Nn*l),t.lineTo(Nn*r+On*i,Nn*i-On*r),t.lineTo(Nn*o+On*a,Nn*a-On*o),t.lineTo(Nn*s+On*l,Nn*l-On*s),t.closePath()}};function u4(t,e){let n=null,r=s0(i);t=typeof t=="function"?t:Ye(t||u0),e=typeof e=="function"?e:Ye(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ye(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ye(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Sd(){}function Ed(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function zk(t){this._context=t}zk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ed(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ed(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function c4(t){return new zk(t)}function qk(t){this._context=t}qk.prototype={areaStart:Sd,areaEnd:Sd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ed(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function d4(t){return new qk(t)}function Gk(t){this._context=t}Gk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ed(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function f4(t){return new Gk(t)}function Hk(t){this._context=t}Hk.prototype={areaStart:Sd,areaEnd:Sd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function h4(t){return new Hk(t)}function tx(t){return t<0?-1:1}function nx(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(tx(o)+tx(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function rx(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Op(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Td(t){this._context=t}Td.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Op(this,this._t0,rx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Op(this,rx(this,n=nx(this,t,e)),n);break;default:Op(this,this._t0,n=nx(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Wk(t){this._context=new Kk(t)}(Wk.prototype=Object.create(Td.prototype)).point=function(t,e){Td.prototype.point.call(this,e,t)};function Kk(t){this._context=t}Kk.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function p4(t){return new Td(t)}function m4(t){return new Wk(t)}function Jk(t){this._context=t}Jk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=ix(t),i=ix(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ix(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function g4(t){return new Jk(t)}function ch(t,e){this._context=t,this._t=e}ch.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function y4(t){return new ch(t,.5)}function v4(t){return new ch(t,0)}function w4(t){return new ch(t,1)}function Ma(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function gg(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function b4(t,e){return t[e]}function x4(t){const e=[];return e.key=t,e}function _4(){var t=Ye([]),e=gg,n=Ma,r=b4;function i(o){var a=Array.from(t.apply(this,arguments),x4),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=l0(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ye(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ye(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?gg:typeof o=="function"?o:Ye(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ma,i):n},i}function S4(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Ma(t,e)}}function E4(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Ma(t,e)}}function T4(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],d=c[r][1]||0,h=c[r-1][1]||0,g=(d-h)/2,y=0;y<s;++y){var v=t[e[y]],x=v[r][1]||0,w=v[r-1][1]||0;g+=x-w}l+=d,u+=g*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Ma(t,e)}}function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}var A4=["type","size","sizeType"];function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(this,arguments)}function ox(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ax(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ox(Object(n),!0).forEach(function(r){C4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ox(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C4(t,e,n){return e=k4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k4(t){var e=P4(t,"string");return Fl(e)=="symbol"?e:e+""}function P4(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I4(t,e){if(t==null)return{};var n=N4(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N4(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Yk={symbolCircle:u0,symbolCross:Q3,symbolDiamond:e4,symbolSquare:t4,symbolStar:o4,symbolTriangle:a4,symbolWye:l4},O4=Math.PI/180,M4=function(e){var n="symbol".concat(sh(e));return Yk[n]||u0},R4=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*O4;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$4=function(e,n){Yk["symbol".concat(sh(e))]=n},c0=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=I4(e,A4),u=ax(ax({},l),{},{type:r,size:o,sizeType:s}),c=function(){var x=M4(r),w=u4().type(x).size(R4(o,s,r));return w()},d=u.className,h=u.cx,g=u.cy,y=me(u,!0);return h===+h&&g===+g&&o===+o?I.createElement("path",yg({},y,{className:Ee("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(g,")"),d:c()})):null};c0.registerSymbol=$4;function Ra(t){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function sx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sx(Object(n),!0).forEach(function(r){Vl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qk(r.key),r)}}function U4(t,e,n){return e&&L4(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B4(t,e,n){return e=Ad(e),F4(t,Xk()?Reflect.construct(e,n||[],Ad(t).constructor):e.apply(t,n))}function F4(t,e){if(e&&(Ra(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V4(t)}function V4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xk=function(){return!!t})()}function Ad(t){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ad(t)}function z4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wg(t,e)}function wg(t,e){return wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wg(t,e)}function Vl(t,e,n){return e=Qk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qk(t){var e=q4(t,"string");return Ra(e)=="symbol"?e:e+""}function q4(t,e){if(Ra(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ra(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mn=32,d0=function(t){function e(){return D4(this,e),B4(this,e,arguments)}return z4(e,t),U4(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Mn/2,a=Mn/6,s=Mn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Mn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Mn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Mn/8,"h").concat(Mn,"v").concat(Mn*3/4,"h").concat(-Mn,"z"),className:"recharts-legend-icon"});if(I.isValidElement(r.legendIcon)){var u=j4({},r);return delete u.legendIcon,I.cloneElement(r.legendIcon,u)}return I.createElement(c0,{fill:l,cx:o,cy:o,size:Mn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Mn,height:Mn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,y){var v=g.formatter||l,x=Ee(Vl(Vl({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=be(g.value)?null:g.value;sr(!be(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=g.inactive?u:g.color;return I.createElement("li",vg({className:x,style:d,key:"legend-item-".concat(y)},xo(r.props,g,y)),I.createElement(ug,{width:a,height:a,viewBox:c,style:h},r.renderIcon(g)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},v?v(w,g,y):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(P.PureComponent);Vl(d0,"displayName","Legend");Vl(d0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var G4=Kf;function H4(){this.__data__=new G4,this.size=0}var W4=H4;function K4(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var J4=K4;function Y4(t){return this.__data__.get(t)}var X4=Y4;function Q4(t){return this.__data__.has(t)}var Z4=Q4,eU=Kf,tU=Qv,nU=Zv,rU=200;function iU(t,e){var n=this.__data__;if(n instanceof eU){var r=n.__data__;if(!tU||r.length<rU-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new nU(r)}return n.set(t,e),this.size=n.size,this}var oU=iU,aU=Kf,sU=W4,lU=J4,uU=X4,cU=Z4,dU=oU;function ps(t){var e=this.__data__=new aU(t);this.size=e.size}ps.prototype.clear=sU;ps.prototype.delete=lU;ps.prototype.get=uU;ps.prototype.has=cU;ps.prototype.set=dU;var Zk=ps,fU="__lodash_hash_undefined__";function hU(t){return this.__data__.set(t,fU),this}var pU=hU;function mU(t){return this.__data__.has(t)}var gU=mU,yU=Zv,vU=pU,wU=gU;function Cd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new yU;++e<n;)this.add(t[e])}Cd.prototype.add=Cd.prototype.push=vU;Cd.prototype.has=wU;var eP=Cd;function bU(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var tP=bU;function xU(t,e){return t.has(e)}var nP=xU,_U=eP,SU=tP,EU=nP,TU=1,AU=2;function CU(t,e,n,r,i,o){var a=n&TU,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,g=n&AU?new _U:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var y=t[d],v=e[d];if(r)var x=a?r(v,y,d,e,t,o):r(y,v,d,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(g){if(!SU(e,function(w,b){if(!EU(g,b)&&(y===w||i(y,w,n,r,o)))return g.push(b)})){h=!1;break}}else if(!(y===v||i(y,v,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var rP=CU,kU=Sr,PU=kU.Uint8Array,IU=PU;function NU(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var OU=NU;function MU(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var f0=MU,lx=Iu,ux=IU,RU=Xv,$U=rP,jU=OU,DU=f0,LU=1,UU=2,BU="[object Boolean]",FU="[object Date]",VU="[object Error]",zU="[object Map]",qU="[object Number]",GU="[object RegExp]",HU="[object Set]",WU="[object String]",KU="[object Symbol]",JU="[object ArrayBuffer]",YU="[object DataView]",cx=lx?lx.prototype:void 0,Mp=cx?cx.valueOf:void 0;function XU(t,e,n,r,i,o,a){switch(n){case YU:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case JU:return!(t.byteLength!=e.byteLength||!o(new ux(t),new ux(e)));case BU:case FU:case qU:return RU(+t,+e);case VU:return t.name==e.name&&t.message==e.message;case GU:case WU:return t==e+"";case zU:var s=jU;case HU:var l=r&LU;if(s||(s=DU),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=UU,a.set(t,e);var c=$U(s(t),s(e),r,i,o,a);return a.delete(t),c;case KU:if(Mp)return Mp.call(t)==Mp.call(e)}return!1}var QU=XU;function ZU(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var iP=ZU,e6=iP,t6=fn;function n6(t,e,n){var r=e(t);return t6(t)?r:e6(r,n(t))}var r6=n6;function i6(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var o6=i6;function a6(){return[]}var s6=a6,l6=o6,u6=s6,c6=Object.prototype,d6=c6.propertyIsEnumerable,dx=Object.getOwnPropertySymbols,f6=dx?function(t){return t==null?[]:(t=Object(t),l6(dx(t),function(e){return d6.call(t,e)}))}:u6,h6=f6;function p6(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var m6=p6,g6=Kr,y6=Jr,v6="[object Arguments]";function w6(t){return y6(t)&&g6(t)==v6}var b6=w6,fx=b6,x6=Jr,oP=Object.prototype,_6=oP.hasOwnProperty,S6=oP.propertyIsEnumerable,E6=fx(function(){return arguments}())?fx:function(t){return x6(t)&&_6.call(t,"callee")&&!S6.call(t,"callee")},h0=E6,kd={exports:{}};function T6(){return!1}var A6=T6;kd.exports;(function(t,e){var n=Sr,r=A6,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(kd,kd.exports);var aP=kd.exports,C6=9007199254740991,k6=/^(?:0|[1-9]\d*)$/;function P6(t,e){var n=typeof t;return e=e??C6,!!e&&(n=="number"||n!="symbol"&&k6.test(t))&&t>-1&&t%1==0&&t<e}var p0=P6,I6=9007199254740991;function N6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=I6}var m0=N6,O6=Kr,M6=m0,R6=Jr,$6="[object Arguments]",j6="[object Array]",D6="[object Boolean]",L6="[object Date]",U6="[object Error]",B6="[object Function]",F6="[object Map]",V6="[object Number]",z6="[object Object]",q6="[object RegExp]",G6="[object Set]",H6="[object String]",W6="[object WeakMap]",K6="[object ArrayBuffer]",J6="[object DataView]",Y6="[object Float32Array]",X6="[object Float64Array]",Q6="[object Int8Array]",Z6="[object Int16Array]",eB="[object Int32Array]",tB="[object Uint8Array]",nB="[object Uint8ClampedArray]",rB="[object Uint16Array]",iB="[object Uint32Array]",nt={};nt[Y6]=nt[X6]=nt[Q6]=nt[Z6]=nt[eB]=nt[tB]=nt[nB]=nt[rB]=nt[iB]=!0;nt[$6]=nt[j6]=nt[K6]=nt[D6]=nt[J6]=nt[L6]=nt[U6]=nt[B6]=nt[F6]=nt[V6]=nt[z6]=nt[q6]=nt[G6]=nt[H6]=nt[W6]=!1;function oB(t){return R6(t)&&M6(t.length)&&!!nt[O6(t)]}var aB=oB;function sB(t){return function(e){return t(e)}}var sP=sB,Pd={exports:{}};Pd.exports;(function(t,e){var n=mk,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Pd,Pd.exports);var lB=Pd.exports,uB=aB,cB=sP,hx=lB,px=hx&&hx.isTypedArray,dB=px?cB(px):uB,lP=dB,fB=m6,hB=h0,pB=fn,mB=aP,gB=p0,yB=lP,vB=Object.prototype,wB=vB.hasOwnProperty;function bB(t,e){var n=pB(t),r=!n&&hB(t),i=!n&&!r&&mB(t),o=!n&&!r&&!i&&yB(t),a=n||r||i||o,s=a?fB(t.length,String):[],l=s.length;for(var u in t)(e||wB.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||gB(u,l)))&&s.push(u);return s}var xB=bB,_B=Object.prototype;function SB(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||_B;return t===n}var EB=SB;function TB(t,e){return function(n){return t(e(n))}}var uP=TB,AB=uP,CB=AB(Object.keys,Object),kB=CB,PB=EB,IB=kB,NB=Object.prototype,OB=NB.hasOwnProperty;function MB(t){if(!PB(t))return IB(t);var e=[];for(var n in Object(t))OB.call(t,n)&&n!="constructor"&&e.push(n);return e}var RB=MB,$B=Yv,jB=m0;function DB(t){return t!=null&&jB(t.length)&&!$B(t)}var Ou=DB,LB=xB,UB=RB,BB=Ou;function FB(t){return BB(t)?LB(t):UB(t)}var dh=FB,VB=r6,zB=h6,qB=dh;function GB(t){return VB(t,qB,zB)}var HB=GB,mx=HB,WB=1,KB=Object.prototype,JB=KB.hasOwnProperty;function YB(t,e,n,r,i,o){var a=n&WB,s=mx(t),l=s.length,u=mx(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in e:JB.call(e,h)))return!1}var g=o.get(t),y=o.get(e);if(g&&y)return g==e&&y==t;var v=!0;o.set(t,e),o.set(e,t);for(var x=a;++d<l;){h=s[d];var w=t[h],b=e[h];if(r)var _=a?r(b,w,h,e,t,o):r(w,b,h,t,e,o);if(!(_===void 0?w===b||i(w,b,n,r,o):_)){v=!1;break}x||(x=h=="constructor")}if(v&&!x){var T=t.constructor,S=e.constructor;T!=S&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof S=="function"&&S instanceof S)&&(v=!1)}return o.delete(t),o.delete(e),v}var XB=YB,QB=Po,ZB=Sr,eF=QB(ZB,"DataView"),tF=eF,nF=Po,rF=Sr,iF=nF(rF,"Promise"),oF=iF,aF=Po,sF=Sr,lF=aF(sF,"Set"),cP=lF,uF=Po,cF=Sr,dF=uF(cF,"WeakMap"),fF=dF,bg=tF,xg=Qv,_g=oF,Sg=cP,Eg=fF,dP=Kr,ms=yk,gx="[object Map]",hF="[object Object]",yx="[object Promise]",vx="[object Set]",wx="[object WeakMap]",bx="[object DataView]",pF=ms(bg),mF=ms(xg),gF=ms(_g),yF=ms(Sg),vF=ms(Eg),Ki=dP;(bg&&Ki(new bg(new ArrayBuffer(1)))!=bx||xg&&Ki(new xg)!=gx||_g&&Ki(_g.resolve())!=yx||Sg&&Ki(new Sg)!=vx||Eg&&Ki(new Eg)!=wx)&&(Ki=function(t){var e=dP(t),n=e==hF?t.constructor:void 0,r=n?ms(n):"";if(r)switch(r){case pF:return bx;case mF:return gx;case gF:return yx;case yF:return vx;case vF:return wx}return e});var wF=Ki,Rp=Zk,bF=rP,xF=QU,_F=XB,xx=wF,_x=fn,Sx=aP,SF=lP,EF=1,Ex="[object Arguments]",Tx="[object Array]",dc="[object Object]",TF=Object.prototype,Ax=TF.hasOwnProperty;function AF(t,e,n,r,i,o){var a=_x(t),s=_x(e),l=a?Tx:xx(t),u=s?Tx:xx(e);l=l==Ex?dc:l,u=u==Ex?dc:u;var c=l==dc,d=u==dc,h=l==u;if(h&&Sx(t)){if(!Sx(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new Rp),a||SF(t)?bF(t,e,n,r,i,o):xF(t,e,l,n,r,i,o);if(!(n&EF)){var g=c&&Ax.call(t,"__wrapped__"),y=d&&Ax.call(e,"__wrapped__");if(g||y){var v=g?t.value():t,x=y?e.value():e;return o||(o=new Rp),i(v,x,n,r,o)}}return h?(o||(o=new Rp),_F(t,e,n,r,i,o)):!1}var CF=AF,kF=CF,Cx=Jr;function fP(t,e,n,r,i){return t===e?!0:t==null||e==null||!Cx(t)&&!Cx(e)?t!==t&&e!==e:kF(t,e,n,r,fP,i)}var g0=fP,PF=Zk,IF=g0,NF=1,OF=2;function MF(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new PF;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?IF(c,u,NF|OF,r,d):h))return!1}}return!0}var RF=MF,$F=Ni;function jF(t){return t===t&&!$F(t)}var hP=jF,DF=hP,LF=dh;function UF(t){for(var e=LF(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,DF(i)]}return e}var BF=UF;function FF(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var pP=FF,VF=RF,zF=BF,qF=pP;function GF(t){var e=zF(t);return e.length==1&&e[0][2]?qF(e[0][0],e[0][1]):function(n){return n===t||VF(n,t,e)}}var HF=GF;function WF(t,e){return t!=null&&e in Object(t)}var KF=WF,JF=_k,YF=h0,XF=fn,QF=p0,ZF=m0,e8=Yf;function t8(t,e,n){e=JF(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=e8(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&ZF(i)&&QF(a,i)&&(XF(t)||YF(t)))}var n8=t8,r8=KF,i8=n8;function o8(t,e){return t!=null&&i8(t,e,r8)}var a8=o8,s8=g0,l8=Sk,u8=a8,c8=Jv,d8=hP,f8=pP,h8=Yf,p8=1,m8=2;function g8(t,e){return c8(t)&&d8(e)?f8(h8(t),e):function(n){var r=l8(n,t);return r===void 0&&r===e?u8(n,t):s8(e,r,p8|m8)}}var y8=g8;function v8(t){return t}var gs=v8;function w8(t){return function(e){return e==null?void 0:e[t]}}var b8=w8,x8=n0;function _8(t){return function(e){return x8(e,t)}}var S8=_8,E8=b8,T8=S8,A8=Jv,C8=Yf;function k8(t){return A8(t)?E8(C8(t)):T8(t)}var P8=k8,I8=HF,N8=y8,O8=gs,M8=fn,R8=P8;function $8(t){return typeof t=="function"?t:t==null?O8:typeof t=="object"?M8(t)?N8(t[0],t[1]):I8(t):R8(t)}var Er=$8;function j8(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var mP=j8;function D8(t){return t!==t}var L8=D8;function U8(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var B8=U8,F8=mP,V8=L8,z8=B8;function q8(t,e,n){return e===e?z8(t,e,n):F8(t,V8,n)}var G8=q8,H8=G8;function W8(t,e){var n=t==null?0:t.length;return!!n&&H8(t,e,0)>-1}var K8=W8;function J8(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Y8=J8;function X8(){}var Q8=X8,$p=cP,Z8=Q8,e7=f0,t7=1/0,n7=$p&&1/e7(new $p([,-0]))[1]==t7?function(t){return new $p(t)}:Z8,r7=n7,i7=eP,o7=K8,a7=Y8,s7=nP,l7=r7,u7=f0,c7=200;function d7(t,e,n){var r=-1,i=o7,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=a7;else if(o>=c7){var u=e?null:l7(t);if(u)return u7(u);a=!1,i=s7,l=new i7}else l=e?[]:s;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var f7=d7,h7=Er,p7=f7;function m7(t,e){return t&&t.length?p7(t,h7(e)):[]}var g7=m7;const kx=Ve(g7);function gP(t,e,n){return e===!0?kx(t,n):be(e)?kx(t,e):t}function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}var y7=["ref"];function Px(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Px(Object(n),!0).forEach(function(r){fh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Px(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ix(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vP(r.key),r)}}function w7(t,e,n){return e&&Ix(t.prototype,e),n&&Ix(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b7(t,e,n){return e=Id(e),x7(t,yP()?Reflect.construct(e,n||[],Id(t).constructor):e.apply(t,n))}function x7(t,e){if(e&&($a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _7(t)}function _7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yP=function(){return!!t})()}function Id(t){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Id(t)}function S7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tg(t,e)}function Tg(t,e){return Tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tg(t,e)}function fh(t,e,n){return e=vP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vP(t){var e=E7(t,"string");return $a(e)=="symbol"?e:e+""}function E7(t,e){if($a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function T7(t,e){if(t==null)return{};var n=A7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function C7(t){return t.value}function k7(t,e){if(I.isValidElement(t))return I.cloneElement(t,e);if(typeof t=="function")return I.createElement(t,e);e.ref;var n=T7(e,y7);return I.createElement(d0,n)}var Nx=1,Ei=function(t){function e(){var n;v7(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=b7(this,e,[].concat(i)),fh(n,"lastBoundingBox",{width:-1,height:-1}),n}return S7(e,t),w7(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Nx||Math.abs(i.height-this.lastBoundingBox.height)>Nx)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Tr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();d={left:((u||0)-g.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((c||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Tr(Tr({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=Tr(Tr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(g){r.wrapperNode=g}},k7(o,Tr(Tr({},this.props),{},{payload:gP(c,u,C7)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Tr(Tr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&X(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(P.PureComponent);fh(Ei,"displayName","Legend");fh(Ei,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ox=Iu,P7=h0,I7=fn,Mx=Ox?Ox.isConcatSpreadable:void 0;function N7(t){return I7(t)||P7(t)||!!(Mx&&t&&t[Mx])}var O7=N7,M7=iP,R7=O7;function wP(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=R7),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?wP(s,e-1,n,r,i):M7(i,s):r||(i[i.length]=s)}return i}var bP=wP;function $7(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var j7=$7,D7=j7,L7=D7(),U7=L7,B7=U7,F7=dh;function V7(t,e){return t&&B7(t,e,F7)}var xP=V7,z7=Ou;function q7(t,e){return function(n,r){if(n==null)return n;if(!z7(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var G7=q7,H7=xP,W7=G7,K7=W7(H7),y0=K7,J7=y0,Y7=Ou;function X7(t,e){var n=-1,r=Y7(t)?Array(t.length):[];return J7(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var _P=X7;function Q7(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Z7=Q7,Rx=ls;function eV(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=Rx(t),a=e!==void 0,s=e===null,l=e===e,u=Rx(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var tV=eV,nV=tV;function rV(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=nV(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var iV=rV,jp=t0,oV=n0,aV=Er,sV=_P,lV=Z7,uV=sP,cV=iV,dV=gs,fV=fn;function hV(t,e,n){e.length?e=jp(e,function(o){return fV(o)?function(a){return oV(a,o.length===1?o[0]:o)}:o}):e=[dV];var r=-1;e=jp(e,uV(aV));var i=sV(t,function(o,a,s){var l=jp(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return lV(i,function(o,a){return cV(o,a,n)})}var pV=hV;function mV(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var gV=mV,yV=gV,$x=Math.max;function vV(t,e,n){return e=$x(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=$x(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),yV(t,this,s)}}var wV=vV;function bV(t){return function(){return t}}var xV=bV,_V=Po,SV=function(){try{var t=_V(Object,"defineProperty");return t({},"",{}),t}catch{}}(),SP=SV,EV=xV,jx=SP,TV=gs,AV=jx?function(t,e){return jx(t,"toString",{configurable:!0,enumerable:!1,value:EV(e),writable:!0})}:TV,CV=AV,kV=800,PV=16,IV=Date.now;function NV(t){var e=0,n=0;return function(){var r=IV(),i=PV-(r-n);if(n=r,i>0){if(++e>=kV)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var OV=NV,MV=CV,RV=OV,$V=RV(MV),jV=$V,DV=gs,LV=wV,UV=jV;function BV(t,e){return UV(LV(t,e,DV),t+"")}var FV=BV,VV=Xv,zV=Ou,qV=p0,GV=Ni;function HV(t,e,n){if(!GV(n))return!1;var r=typeof e;return(r=="number"?zV(n)&&qV(e,n.length):r=="string"&&e in n)?VV(n[e],t):!1}var hh=HV,WV=bP,KV=pV,JV=FV,Dx=hh,YV=JV(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Dx(t,e[0],e[1])?e=[]:n>2&&Dx(e[0],e[1],e[2])&&(e=[e[0]]),KV(t,WV(e,1),[])}),XV=YV;const v0=Ve(XV);function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(this,arguments)}function QV(t,e){return nz(t)||tz(t,e)||ez(t,e)||ZV()}function ZV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ez(t,e){if(t){if(typeof t=="string")return Lx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lx(t,e)}}function Lx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function nz(t){if(Array.isArray(t))return t}function Ux(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ux(Object(n),!0).forEach(function(r){rz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ux(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rz(t,e,n){return e=iz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iz(t){var e=oz(t,"string");return zl(e)=="symbol"?e:e+""}function oz(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function az(t){return Array.isArray(t)&&kt(t[0])&&kt(t[1])?t.join(" ~ "):t}var sz=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,g=e.wrapperClassName,y=e.labelClassName,v=e.label,x=e.labelFormatter,w=e.accessibilityLayer,b=w===void 0?!1:w,_=function(){if(c&&c.length){var M={padding:0,margin:0},D=(h?v0(c,h):c).map(function(B,j){if(B.type==="none")return null;var R=Dp({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},s),L=B.formatter||d||az,$=B.value,U=B.name,z=$,J=U;if(L&&z!=null&&J!=null){var G=L($,U,B,j,c);if(Array.isArray(G)){var Q=QV(G,2);z=Q[0],J=Q[1]}else z=G}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:R},kt(J)?I.createElement("span",{className:"recharts-tooltip-item-name"},J):null,kt(J)?I.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,I.createElement("span",{className:"recharts-tooltip-item-value"},z),I.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},T=Dp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Dp({margin:0},u),E=!_e(v),A=E?v:"",C=Ee("recharts-default-tooltip",g),k=Ee("recharts-tooltip-label",y);E&&x&&c!==void 0&&c!==null&&(A=x(v,c));var N=b?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",Ag({className:C,style:T},N),I.createElement("p",{className:k,style:S},I.isValidElement(A)?A:"".concat(A)),_())};function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function fc(t,e,n){return e=lz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lz(t){var e=uz(t,"string");return ql(e)=="symbol"?e:e+""}function uz(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bs="recharts-tooltip-wrapper",cz={visibility:"hidden"};function dz(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ee(Bs,fc(fc(fc(fc({},"".concat(Bs,"-right"),X(n)&&e&&X(e.x)&&n>=e.x),"".concat(Bs,"-left"),X(n)&&e&&X(e.x)&&n<e.x),"".concat(Bs,"-bottom"),X(r)&&e&&X(e.y)&&r>=e.y),"".concat(Bs,"-top"),X(r)&&e&&X(e.y)&&r<e.y))}function Bx(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&X(o[r]))return o[r];var c=n[r]-s-i,d=n[r]+i;if(e[r])return a[r]?c:d;if(a[r]){var h=c,g=l[r];return h<g?Math.max(d,l[r]):Math.max(c,l[r])}var y=d+s,v=l[r]+u;return y>v?Math.max(c,l[r]):Math.max(d,l[r])}function fz(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function hz(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return a.height>0&&a.width>0&&n?(c=Bx({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=Bx({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=fz({translateX:c,translateY:d,useTranslate3d:s})):u=cz,{cssProperties:u,cssClasses:dz({translateX:c,translateY:d,coordinate:n})}}function ja(t){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(t)}function Fx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fx(Object(n),!0).forEach(function(r){kg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TP(r.key),r)}}function gz(t,e,n){return e&&mz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yz(t,e,n){return e=Nd(e),vz(t,EP()?Reflect.construct(e,n||[],Nd(t).constructor):e.apply(t,n))}function vz(t,e){if(e&&(ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wz(t)}function wz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EP=function(){return!!t})()}function Nd(t){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nd(t)}function bz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cg(t,e)}function Cg(t,e){return Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cg(t,e)}function kg(t,e,n){return e=TP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TP(t){var e=xz(t,"string");return ja(e)=="symbol"?e:e+""}function xz(t,e){if(ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zx=1,_z=function(t){function e(){var n;pz(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=yz(this,e,[].concat(i)),kg(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),kg(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return bz(e,t),gz(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>zx||Math.abs(r.height-this.state.lastBoundingBox.height)>zx)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,g=i.offset,y=i.position,v=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,b=i.wrapperStyle,_=hz({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:g,position:y,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:w}),T=_.cssClasses,S=_.cssProperties,E=Vx(Vx({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return I.createElement("div",{tabIndex:-1,className:T,style:E,ref:function(C){r.wrapperNode=C}},u)}}])}(P.PureComponent),Sz=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Io={isSsr:Sz()};function Da(t){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(t)}function qx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qx(Object(n),!0).forEach(function(r){w0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ez(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CP(r.key),r)}}function Az(t,e,n){return e&&Tz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cz(t,e,n){return e=Od(e),kz(t,AP()?Reflect.construct(e,n||[],Od(t).constructor):e.apply(t,n))}function kz(t,e){if(e&&(Da(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pz(t)}function Pz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AP=function(){return!!t})()}function Od(t){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Od(t)}function Iz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pg(t,e)}function Pg(t,e){return Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pg(t,e)}function w0(t,e,n){return e=CP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CP(t){var e=Nz(t,"string");return Da(e)=="symbol"?e:e+""}function Nz(t,e){if(Da(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Da(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Oz(t){return t.dataKey}function Mz(t,e){return I.isValidElement(t)?I.cloneElement(t,e):typeof t=="function"?I.createElement(t,e):I.createElement(sz,e)}var Rn=function(t){function e(){return Ez(this,e),Cz(this,e,arguments)}return Iz(e,t),Az(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,g=i.offset,y=i.payload,v=i.payloadUniqBy,x=i.position,w=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,T=i.wrapperStyle,S=y??[];d&&S.length&&(S=gP(y.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),v,Oz));var E=S.length>0;return I.createElement(_z,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:E,offset:g,position:x,reverseDirection:w,useTranslate3d:b,viewBox:_,wrapperStyle:T},Mz(u,Gx(Gx({},this.props),{},{payload:S})))}}])}(P.PureComponent);w0(Rn,"displayName","Tooltip");w0(Rn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Io.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Rz=Sr,$z=function(){return Rz.Date.now()},jz=$z,Dz=/\s/;function Lz(t){for(var e=t.length;e--&&Dz.test(t.charAt(e)););return e}var Uz=Lz,Bz=Uz,Fz=/^\s+/;function Vz(t){return t&&t.slice(0,Bz(t)+1).replace(Fz,"")}var zz=Vz,qz=zz,Hx=Ni,Gz=ls,Wx=NaN,Hz=/^[-+]0x[0-9a-f]+$/i,Wz=/^0b[01]+$/i,Kz=/^0o[0-7]+$/i,Jz=parseInt;function Yz(t){if(typeof t=="number")return t;if(Gz(t))return Wx;if(Hx(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Hx(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=qz(t);var n=Wz.test(t);return n||Kz.test(t)?Jz(t.slice(2),n?2:8):Hz.test(t)?Wx:+t}var kP=Yz,Xz=Ni,Lp=jz,Kx=kP,Qz="Expected a function",Zz=Math.max,eq=Math.min;function tq(t,e,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Qz);e=Kx(e)||0,Xz(n)&&(c=!!n.leading,d="maxWait"in n,o=d?Zz(Kx(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function g(E){var A=r,C=i;return r=i=void 0,u=E,a=t.apply(C,A),a}function y(E){return u=E,s=setTimeout(w,e),c?g(E):a}function v(E){var A=E-l,C=E-u,k=e-A;return d?eq(k,o-C):k}function x(E){var A=E-l,C=E-u;return l===void 0||A>=e||A<0||d&&C>=o}function w(){var E=Lp();if(x(E))return b(E);s=setTimeout(w,v(E))}function b(E){return s=void 0,h&&r?g(E):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?a:b(Lp())}function S(){var E=Lp(),A=x(E);if(r=arguments,i=this,l=E,A){if(s===void 0)return y(l);if(d)return clearTimeout(s),s=setTimeout(w,e),g(l)}return s===void 0&&(s=setTimeout(w,e)),a}return S.cancel=_,S.flush=T,S}var nq=tq,rq=nq,iq=Ni,oq="Expected a function";function aq(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(oq);return iq(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),rq(t,e,{leading:r,maxWait:e,trailing:i})}var sq=aq;const PP=Ve(sq);function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function Jx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jx(Object(n),!0).forEach(function(r){lq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lq(t,e,n){return e=uq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uq(t){var e=cq(t,"string");return Gl(e)=="symbol"?e:e+""}function cq(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dq(t,e){return mq(t)||pq(t,e)||hq(t,e)||fq()}function fq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hq(t,e){if(t){if(typeof t=="string")return Yx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yx(t,e)}}function Yx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function mq(t){if(Array.isArray(t))return t}var b0=P.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,g=t.children,y=t.debounce,v=y===void 0?0:y,x=t.id,w=t.className,b=t.onResize,_=t.style,T=_===void 0?{}:_,S=P.useRef(null),E=P.useRef();E.current=b,P.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=P.useState({containerWidth:i.width,containerHeight:i.height}),C=dq(A,2),k=C[0],N=C[1],O=P.useCallback(function(D,B){N(function(j){var R=Math.round(D),L=Math.round(B);return j.containerWidth===R&&j.containerHeight===L?j:{containerWidth:R,containerHeight:L}})},[]);P.useEffect(function(){var D=function(U){var z,J=U[0].contentRect,G=J.width,Q=J.height;O(G,Q),(z=E.current)===null||z===void 0||z.call(E,G,Q)};v>0&&(D=PP(D,v,{trailing:!0,leading:!1}));var B=new ResizeObserver(D),j=S.current.getBoundingClientRect(),R=j.width,L=j.height;return O(R,L),B.observe(S.current),function(){B.disconnect()}},[O,v]);var M=P.useMemo(function(){var D=k.containerWidth,B=k.containerHeight;if(D<0||B<0)return null;sr(oo(a)||oo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),sr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var j=oo(a)?D:a,R=oo(l)?B:l;n&&n>0&&(j?R=j/n:R&&(j=R*n),h&&R>h&&(R=h)),sr(j>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,R,a,l,c,d,n);var L=!Array.isArray(g)&&jr(g.type).endsWith("Chart");return I.Children.map(g,function($){return I.isValidElement($)?P.cloneElement($,hc({width:j,height:R},L?{style:hc({height:"100%",width:"100%",maxHeight:R,maxWidth:j},$.props.style)}:{})):$})},[n,g,l,h,d,c,k,a]);return I.createElement("div",{id:x?"".concat(x):void 0,className:Ee("recharts-responsive-container",w),style:hc(hc({},T),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:S},M)}),ph=function(e){return null};ph.displayName="Cell";function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function Xx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xx(Object(n),!0).forEach(function(r){gq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gq(t,e,n){return e=yq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yq(t){var e=vq(t,"string");return Hl(e)=="symbol"?e:e+""}function vq(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Do={widthCache:{},cacheCount:0},wq=2e3,bq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Qx="recharts_measurement_span";function xq(t){var e=Ig({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var pl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Io.isSsr)return{width:0,height:0};var r=xq(n),i=JSON.stringify({text:e,copyStyle:r});if(Do.widthCache[i])return Do.widthCache[i];try{var o=document.getElementById(Qx);o||(o=document.createElement("span"),o.setAttribute("id",Qx),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Ig(Ig({},bq),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Do.widthCache[i]=l,++Do.cacheCount>wq&&(Do.cacheCount=0,Do.widthCache={}),l}catch{return{width:0,height:0}}},_q=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function Md(t,e){return Aq(t)||Tq(t,e)||Eq(t,e)||Sq()}function Sq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eq(t,e){if(t){if(typeof t=="string")return Zx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zx(t,e)}}function Zx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Aq(t){if(Array.isArray(t))return t}function Cq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pq(r.key),r)}}function kq(t,e,n){return e&&e_(t.prototype,e),n&&e_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pq(t){var e=Iq(t,"string");return Wl(e)=="symbol"?e:e+""}function Iq(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var t_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,n_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Oq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,IP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Mq=Object.keys(IP),sa="NaN";function Rq(t,e){return t*IP[e]}var pc=function(){function t(e,n){Cq(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Nq.test(n)&&(this.num=NaN,this.unit=""),Mq.includes(n)&&(this.num=Rq(e,n),this.unit="px")}return kq(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Oq.exec(n))!==null&&r!==void 0?r:[],o=Md(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function NP(t){if(t.includes(sa))return sa;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=t_.exec(e))!==null&&n!==void 0?n:[],i=Md(r,4),o=i[1],a=i[2],s=i[3],l=pc.parse(o??""),u=pc.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return sa;e=e.replace(t_,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=n_.exec(e))!==null&&d!==void 0?d:[],g=Md(h,4),y=g[1],v=g[2],x=g[3],w=pc.parse(y??""),b=pc.parse(x??""),_=v==="+"?w.add(b):w.subtract(b);if(_.isNaN())return sa;e=e.replace(n_,_.toString())}return e}var r_=/\(([^()]*)\)/;function $q(t){for(var e=t;e.includes("(");){var n=r_.exec(e),r=Md(n,2),i=r[1];e=e.replace(r_,NP(i))}return e}function jq(t){var e=t.replace(/\s+/g,"");return e=$q(e),e=NP(e),e}function Dq(t){try{return jq(t)}catch{return sa}}function Up(t){var e=Dq(t.slice(5,-1));return e===sa?"":e}var Lq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Uq=["dx","dy","angle","className","breakAll"];function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ng.apply(this,arguments)}function i_(t,e){if(t==null)return{};var n=Bq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function o_(t,e){return qq(t)||zq(t,e)||Vq(t,e)||Fq()}function Fq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vq(t,e){if(t){if(typeof t=="string")return a_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(t,e)}}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function qq(t){if(Array.isArray(t))return t}var OP=/[ \f\n\r\t\v\u2028\u2029]+/,MP=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];_e(n)||(r?o=n.toString().split(""):o=n.toString().split(OP));var a=o.map(function(l){return{word:l,width:pl(l,i).width}}),s=r?0:pl("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Gq=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=X(a),d=s,h=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce(function(R,L){var $=L.word,U=L.width,z=R[R.length-1];if(z&&(i==null||o||z.width+U+r<Number(i)))z.words.push($),z.width+=U+r;else{var J={words:[$],width:U};R.push(J)}return R},[])},g=h(n),y=function(j){return j.reduce(function(R,L){return R.width>L.width?R:L})};if(!c)return g;for(var v="",x=function(j){var R=d.slice(0,j),L=MP({breakAll:u,style:l,children:R+v}).wordsWithComputedWidth,$=h(L),U=$.length>a||y($).width>Number(i);return[U,$]},w=0,b=d.length-1,_=0,T;w<=b&&_<=d.length-1;){var S=Math.floor((w+b)/2),E=S-1,A=x(E),C=o_(A,2),k=C[0],N=C[1],O=x(S),M=o_(O,1),D=M[0];if(!k&&!D&&(w=S+1),k&&D&&(b=S-1),!k&&D){T=N;break}_++}return T||g},s_=function(e){var n=_e(e)?[]:e.toString().split(OP);return[{words:n}]},Hq=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!Io.isSsr){var l,u,c=MP({breakAll:a,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return s_(i);return Gq({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return s_(i)},l_="#808080",_o=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,g=h===void 0?"start":h,y=e.verticalAnchor,v=y===void 0?"end":y,x=e.fill,w=x===void 0?l_:x,b=i_(e,Lq),_=P.useMemo(function(){return Hq({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),T=b.dx,S=b.dy,E=b.angle,A=b.className,C=b.breakAll,k=i_(b,Uq);if(!kt(r)||!kt(o))return null;var N=r+(X(T)?T:0),O=o+(X(S)?S:0),M;switch(v){case"start":M=Up("calc(".concat(u,")"));break;case"middle":M=Up("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:M=Up("calc(".concat(_.length-1," * -").concat(s,")"));break}var D=[];if(d){var B=_[0].width,j=b.width;D.push("scale(".concat((X(j)?j/B:1)/B,")"))}return E&&D.push("rotate(".concat(E,", ").concat(N,", ").concat(O,")")),D.length&&(k.transform=D.join(" ")),I.createElement("text",Ng({},me(k,!0),{x:N,y:O,className:Ee("recharts-text",A),textAnchor:g,fill:w.includes("url")?l_:w}),_.map(function(R,L){var $=R.words.join(C?"":" ");return I.createElement("tspan",{x:N,dy:L===0?M:s,key:"".concat($,"-").concat(L)},$)}))};function Ti(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wq(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function x0(t){let e,n,r;t.length!==2?(e=Ti,n=(s,l)=>Ti(t(s),l),r=(s,l)=>t(s)-l):(e=t===Ti||t===Wq?t:Kq,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function Kq(){return 0}function RP(t){return t===null?NaN:+t}function*Jq(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Yq=x0(Ti),Mu=Yq.right;x0(RP).center;class u_ extends Map{constructor(e,n=Zq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(c_(this,e))}has(e){return super.has(c_(this,e))}set(e,n){return super.set(Xq(this,e),n)}delete(e){return super.delete(Qq(this,e))}}function c_({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Xq({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Qq({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Zq(t){return t!==null&&typeof t=="object"?t.valueOf():t}function eG(t=Ti){if(t===Ti)return $P;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function $P(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const tG=Math.sqrt(50),nG=Math.sqrt(10),rG=Math.sqrt(2);function Rd(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=tG?10:o>=nG?5:o>=rG?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Rd(t,e,n*2):[s,l,u]}function Og(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Rd(e,t,n):Rd(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Mg(t,e,n){return e=+e,t=+t,n=+n,Rd(t,e,n)[2]}function Rg(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Mg(e,t,n):Mg(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function d_(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function f_(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function jP(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?$P:eG(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*d/l+h)),y=Math.min(r,Math.floor(e+(l-u)*d/l+h));jP(t,e,g,y,i)}const o=t[e];let a=n,s=r;for(Fs(t,n,e),i(t[r],o)>0&&Fs(t,n,r);a<s;){for(Fs(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Fs(t,n,s):(++s,Fs(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Fs(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function iG(t,e,n){if(t=Float64Array.from(Jq(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return f_(t);if(e>=1)return d_(t);var r,i=(r-1)*e,o=Math.floor(i),a=d_(jP(t,o).subarray(0,o+1)),s=f_(t.subarray(o+1));return a+(s-a)*(i-o)}}function oG(t,e,n=RP){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function aG(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Wn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Yr(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $g=Symbol("implicit");function _0(){var t=new u_,e=[],n=[],r=$g;function i(o){let a=t.get(o);if(a===void 0){if(r!==$g)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new u_;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return _0(e,n).unknown(r)},Wn.apply(i,arguments),i}function Kl(){var t=_0().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,g=i<r,y=g?i:r,v=g?r:i;o=(v-y)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),y+=(v-y-o*(h-l))*c,a=o*(1-l),s&&(y=Math.round(y),a=Math.round(a));var x=aG(h).map(function(w){return y+o*w});return n(g?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Kl(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Wn.apply(d(),arguments)}function DP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return DP(e())},t}function ml(){return DP(Kl.apply(null,arguments).paddingInner(1))}function S0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function LP(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ru(){}var Jl=.7,$d=1/Jl,ba="\\s*([+-]?\\d+)\\s*",Yl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sG=/^#([0-9a-f]{3,8})$/,lG=new RegExp(`^rgb\\(${ba},${ba},${ba}\\)$`),uG=new RegExp(`^rgb\\(${wr},${wr},${wr}\\)$`),cG=new RegExp(`^rgba\\(${ba},${ba},${ba},${Yl}\\)$`),dG=new RegExp(`^rgba\\(${wr},${wr},${wr},${Yl}\\)$`),fG=new RegExp(`^hsl\\(${Yl},${wr},${wr}\\)$`),hG=new RegExp(`^hsla\\(${Yl},${wr},${wr},${Yl}\\)$`),h_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};S0(Ru,Xl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:p_,formatHex:p_,formatHex8:pG,formatHsl:mG,formatRgb:m_,toString:m_});function p_(){return this.rgb().formatHex()}function pG(){return this.rgb().formatHex8()}function mG(){return UP(this).formatHsl()}function m_(){return this.rgb().formatRgb()}function Xl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=sG.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?g_(e):n===3?new ln(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?mc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?mc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lG.exec(t))?new ln(e[1],e[2],e[3],1):(e=uG.exec(t))?new ln(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cG.exec(t))?mc(e[1],e[2],e[3],e[4]):(e=dG.exec(t))?mc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fG.exec(t))?w_(e[1],e[2]/100,e[3]/100,1):(e=hG.exec(t))?w_(e[1],e[2]/100,e[3]/100,e[4]):h_.hasOwnProperty(t)?g_(h_[t]):t==="transparent"?new ln(NaN,NaN,NaN,0):null}function g_(t){return new ln(t>>16&255,t>>8&255,t&255,1)}function mc(t,e,n,r){return r<=0&&(t=e=n=NaN),new ln(t,e,n,r)}function gG(t){return t instanceof Ru||(t=Xl(t)),t?(t=t.rgb(),new ln(t.r,t.g,t.b,t.opacity)):new ln}function jg(t,e,n,r){return arguments.length===1?gG(t):new ln(t,e,n,r??1)}function ln(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}S0(ln,jg,LP(Ru,{brighter(t){return t=t==null?$d:Math.pow($d,t),new ln(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jl:Math.pow(Jl,t),new ln(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ln(ho(this.r),ho(this.g),ho(this.b),jd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y_,formatHex:y_,formatHex8:yG,formatRgb:v_,toString:v_}));function y_(){return`#${ao(this.r)}${ao(this.g)}${ao(this.b)}`}function yG(){return`#${ao(this.r)}${ao(this.g)}${ao(this.b)}${ao((isNaN(this.opacity)?1:this.opacity)*255)}`}function v_(){const t=jd(this.opacity);return`${t===1?"rgb(":"rgba("}${ho(this.r)}, ${ho(this.g)}, ${ho(this.b)}${t===1?")":`, ${t})`}`}function jd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ho(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ao(t){return t=ho(t),(t<16?"0":"")+t.toString(16)}function w_(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ir(t,e,n,r)}function UP(t){if(t instanceof ir)return new ir(t.h,t.s,t.l,t.opacity);if(t instanceof Ru||(t=Xl(t)),!t)return new ir;if(t instanceof ir)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new ir(a,s,l,t.opacity)}function vG(t,e,n,r){return arguments.length===1?UP(t):new ir(t,e,n,r??1)}function ir(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}S0(ir,vG,LP(Ru,{brighter(t){return t=t==null?$d:Math.pow($d,t),new ir(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jl:Math.pow(Jl,t),new ir(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ln(Bp(t>=240?t-240:t+120,i,r),Bp(t,i,r),Bp(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ir(b_(this.h),gc(this.s),gc(this.l),jd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=jd(this.opacity);return`${t===1?"hsl(":"hsla("}${b_(this.h)}, ${gc(this.s)*100}%, ${gc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function b_(t){return t=(t||0)%360,t<0?t+360:t}function gc(t){return Math.max(0,Math.min(1,t||0))}function Bp(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const E0=t=>()=>t;function wG(t,e){return function(n){return t+n*e}}function bG(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xG(t){return(t=+t)==1?BP:function(e,n){return n-e?bG(e,n,t):E0(isNaN(e)?n:e)}}function BP(t,e){var n=e-t;return n?wG(t,n):E0(isNaN(t)?e:t)}const x_=function t(e){var n=xG(e);function r(i,o){var a=n((i=jg(i)).r,(o=jg(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=BP(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function _G(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function SG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function EG(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=ys(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function TG(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Dd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function AG(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ys(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Dg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fp=new RegExp(Dg.source,"g");function CG(t){return function(){return t}}function kG(t){return function(e){return t(e)+""}}function PG(t,e){var n=Dg.lastIndex=Fp.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Dg.exec(t))&&(i=Fp.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Dd(r,i)})),n=Fp.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?kG(l[0].x):CG(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function ys(t,e){var n=typeof e,r;return e==null||n==="boolean"?E0(e):(n==="number"?Dd:n==="string"?(r=Xl(e))?(e=r,x_):PG:e instanceof Xl?x_:e instanceof Date?TG:SG(e)?_G:Array.isArray(e)?EG:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?AG:Dd)(t,e)}function T0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function IG(t,e){e===void 0&&(e=t,t=ys);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function NG(t){return function(){return t}}function Ld(t){return+t}var __=[0,1];function tn(t){return t}function Lg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:NG(isNaN(e)?NaN:.5)}function OG(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function MG(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Lg(i,r),o=n(a,o)):(r=Lg(r,i),o=n(o,a)),function(s){return o(r(s))}}function RG(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Lg(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Mu(t,s,1,r)-1;return o[l](i[l](s))}}function $u(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mh(){var t=__,e=__,n=ys,r,i,o,a=tn,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==tn&&(a=OG(t[0],t[h-1])),s=h>2?RG:MG,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=s(e,t.map(r),Dd)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Ld),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=T0,c()},d.clamp=function(h){return arguments.length?(a=h?!0:tn,c()):a!==tn},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,g){return r=h,i=g,c()}}function A0(){return mh()(tn,tn)}function $G(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ud(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function La(t){return t=Ud(Math.abs(t)),t?t[1]:NaN}function jG(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function DG(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var LG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ql(t){if(!(e=LG.exec(t)))throw new Error("invalid format: "+t);var e;return new C0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ql.prototype=C0.prototype;function C0(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}C0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function UG(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var FP;function BG(t,e){var n=Ud(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(FP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ud(t,Math.max(0,e+o-1))[0]}function S_(t,e){var n=Ud(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const E_={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$G,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>S_(t*100,e),r:S_,s:BG,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function T_(t){return t}var A_=Array.prototype.map,C_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function FG(t){var e=t.grouping===void 0||t.thousands===void 0?T_:jG(A_.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?T_:DG(A_.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Ql(d);var h=d.fill,g=d.align,y=d.sign,v=d.symbol,x=d.zero,w=d.width,b=d.comma,_=d.precision,T=d.trim,S=d.type;S==="n"?(b=!0,S="g"):E_[S]||(_===void 0&&(_=12),T=!0,S="g"),(x||h==="0"&&g==="=")&&(x=!0,h="0",g="=");var E=v==="$"?n:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=v==="$"?r:/[%p]/.test(S)?a:"",C=E_[S],k=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N(O){var M=E,D=A,B,j,R;if(S==="c")D=C(O)+D,O="";else{O=+O;var L=O<0||1/O<0;if(O=isNaN(O)?l:C(Math.abs(O),_),T&&(O=UG(O)),L&&+O==0&&y!=="+"&&(L=!1),M=(L?y==="("?y:s:y==="-"||y==="("?"":y)+M,D=(S==="s"?C_[8+FP/3]:"")+D+(L&&y==="("?")":""),k){for(B=-1,j=O.length;++B<j;)if(R=O.charCodeAt(B),48>R||R>57){D=(R===46?i+O.slice(B+1):O.slice(B))+D,O=O.slice(0,B);break}}}b&&!x&&(O=e(O,1/0));var $=M.length+O.length+D.length,U=$<w?new Array(w-$+1).join(h):"";switch(b&&x&&(O=e(U+O,U.length?w-D.length:1/0),U=""),g){case"<":O=M+O+D+U;break;case"=":O=M+U+O+D;break;case"^":O=U.slice(0,$=U.length>>1)+M+O+D+U.slice($);break;default:O=U+M+O+D;break}return o(O)}return N.toString=function(){return d+""},N}function c(d,h){var g=u((d=Ql(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(La(h)/3)))*3,v=Math.pow(10,-y),x=C_[8+y/3];return function(w){return g(v*w)+x}}return{format:u,formatPrefix:c}}var yc,k0,VP;VG({thousands:",",grouping:[3],currency:["$",""]});function VG(t){return yc=FG(t),k0=yc.format,VP=yc.formatPrefix,yc}function zG(t){return Math.max(0,-La(Math.abs(t)))}function qG(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(La(e)/3)))*3-La(Math.abs(t)))}function GG(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,La(e)-La(t))+1}function zP(t,e,n,r){var i=Rg(t,e,n),o;switch(r=Ql(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=qG(i,a))&&(r.precision=o),VP(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=GG(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=zG(i))&&(r.precision=o-(r.type==="%")*2);break}}return k0(r)}function Oi(t){var e=t.domain;return t.ticks=function(n){var r=e();return Og(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return zP(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Mg(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Bd(){var t=A0();return t.copy=function(){return $u(t,Bd())},Wn.apply(t,arguments),Oi(t)}function qP(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ld),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return qP(t).unknown(e)},t=arguments.length?Array.from(t,Ld):[0,1],Oi(n)}function GP(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function k_(t){return Math.log(t)}function P_(t){return Math.exp(t)}function HG(t){return-Math.log(-t)}function WG(t){return-Math.exp(-t)}function KG(t){return isFinite(t)?+("1e"+t):t<0?0:t}function JG(t){return t===10?KG:t===Math.E?Math.exp:e=>Math.pow(t,e)}function YG(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function I_(t){return(e,n)=>-t(-e,n)}function P0(t){const e=t(k_,P_),n=e.domain;let r=10,i,o;function a(){return i=YG(r),o=JG(r),n()[0]<0?(i=I_(i),o=I_(o),t(HG,WG)):t(k_,P_),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),g=i(c),y,v;const x=s==null?10:+s;let w=[];if(!(r%1)&&g-h<x){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(y=1;y<r;++y)if(v=h<0?y/o(-h):y*o(h),!(v<u)){if(v>c)break;w.push(v)}}else for(;h<=g;++h)for(y=r-1;y>=1;--y)if(v=h>0?y/o(-h):y*o(h),!(v<u)){if(v>c)break;w.push(v)}w.length*2<x&&(w=Og(u,c,x))}else w=Og(h,g,Math.min(g-h,x)).map(o);return d?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ql(l)).precision==null&&(l.trim=!0),l=k0(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(GP(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function HP(){const t=P0(mh()).domain([1,10]);return t.copy=()=>$u(t,HP()).base(t.base()),Wn.apply(t,arguments),t}function N_(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function O_(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function I0(t){var e=1,n=t(N_(e),O_(e));return n.constant=function(r){return arguments.length?t(N_(e=+r),O_(e)):e},Oi(n)}function WP(){var t=I0(mh());return t.copy=function(){return $u(t,WP()).constant(t.constant())},Wn.apply(t,arguments)}function M_(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function XG(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function QG(t){return t<0?-t*t:t*t}function N0(t){var e=t(tn,tn),n=1;function r(){return n===1?t(tn,tn):n===.5?t(XG,QG):t(M_(n),M_(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Oi(e)}function O0(){var t=N0(mh());return t.copy=function(){return $u(t,O0()).exponent(t.exponent())},Wn.apply(t,arguments),t}function ZG(){return O0.apply(null,arguments).exponent(.5)}function R_(t){return Math.sign(t)*t*t}function eH(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function KP(){var t=A0(),e=[0,1],n=!1,r;function i(o){var a=eH(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(R_(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Ld)).map(R_)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return KP(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Wn.apply(i,arguments),Oi(i)}function JP(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=oG(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Mu(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ti),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return JP().domain(t).range(e).unknown(r)},Wn.apply(o,arguments)}function YP(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Mu(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return YP().domain([t,e]).range(i).unknown(o)},Wn.apply(Oi(a),arguments)}function XP(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Mu(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return XP().domain(t).range(e).unknown(n)},Wn.apply(i,arguments)}const Vp=new Date,zp=new Date;function Pt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>Pt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Vp.setTime(+o),zp.setTime(+a),t(Vp),t(zp),Math.floor(n(Vp,zp))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Fd=Pt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Fd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Pt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Fd);Fd.range;const Or=1e3,Bn=Or*60,Mr=Bn*60,zr=Mr*24,M0=zr*7,$_=zr*30,qp=zr*365,so=Pt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Or)},(t,e)=>(e-t)/Or,t=>t.getUTCSeconds());so.range;const R0=Pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Or)},(t,e)=>{t.setTime(+t+e*Bn)},(t,e)=>(e-t)/Bn,t=>t.getMinutes());R0.range;const $0=Pt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Bn)},(t,e)=>(e-t)/Bn,t=>t.getUTCMinutes());$0.range;const j0=Pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Or-t.getMinutes()*Bn)},(t,e)=>{t.setTime(+t+e*Mr)},(t,e)=>(e-t)/Mr,t=>t.getHours());j0.range;const D0=Pt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Mr)},(t,e)=>(e-t)/Mr,t=>t.getUTCHours());D0.range;const ju=Pt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Bn)/zr,t=>t.getDate()-1);ju.range;const gh=Pt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zr,t=>t.getUTCDate()-1);gh.range;const QP=Pt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zr,t=>Math.floor(t/zr));QP.range;function No(t){return Pt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Bn)/M0)}const yh=No(0),Vd=No(1),tH=No(2),nH=No(3),Ua=No(4),rH=No(5),iH=No(6);yh.range;Vd.range;tH.range;nH.range;Ua.range;rH.range;iH.range;function Oo(t){return Pt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/M0)}const vh=Oo(0),zd=Oo(1),oH=Oo(2),aH=Oo(3),Ba=Oo(4),sH=Oo(5),lH=Oo(6);vh.range;zd.range;oH.range;aH.range;Ba.range;sH.range;lH.range;const L0=Pt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());L0.range;const U0=Pt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());U0.range;const qr=Pt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());qr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});qr.range;const Gr=Pt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Gr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Gr.range;function ZP(t,e,n,r,i,o){const a=[[so,1,Or],[so,5,5*Or],[so,15,15*Or],[so,30,30*Or],[o,1,Bn],[o,5,5*Bn],[o,15,15*Bn],[o,30,30*Bn],[i,1,Mr],[i,3,3*Mr],[i,6,6*Mr],[i,12,12*Mr],[r,1,zr],[r,2,2*zr],[n,1,M0],[e,1,$_],[e,3,3*$_],[t,1,qp]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const g=d&&typeof d.range=="function"?d:l(u,c,d),y=g?g.range(u,+c+1):[];return h?y.reverse():y}function l(u,c,d){const h=Math.abs(c-u)/d,g=x0(([,,x])=>x).right(a,h);if(g===a.length)return t.every(Rg(u/qp,c/qp,d));if(g===0)return Fd.every(Math.max(Rg(u,c,d),1));const[y,v]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return y.every(v)}return[s,l]}const[uH,cH]=ZP(Gr,U0,vh,QP,D0,$0),[dH,fH]=ZP(qr,L0,yh,ju,j0,R0);function Gp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Hp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vs(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function hH(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=zs(i),c=qs(i),d=zs(o),h=qs(o),g=zs(a),y=qs(a),v=zs(s),x=qs(s),w=zs(l),b=qs(l),_={a:L,A:$,b:U,B:z,c:null,d:F_,e:F_,f:jH,g:HH,G:KH,H:MH,I:RH,j:$H,L:e2,m:DH,M:LH,p:J,q:G,Q:q_,s:G_,S:UH,u:BH,U:FH,V:VH,w:zH,W:qH,x:null,X:null,y:GH,Y:WH,Z:JH,"%":z_},T={a:Q,A:we,b:xe,B:ke,c:null,d:V_,e:V_,f:ZH,g:u9,G:d9,H:YH,I:XH,j:QH,L:n2,m:e9,M:t9,p:lt,q:qe,Q:q_,s:G_,S:n9,u:r9,U:i9,V:o9,w:a9,W:s9,x:null,X:null,y:l9,Y:c9,Z:f9,"%":z_},S={a:N,A:O,b:M,B:D,c:B,d:U_,e:U_,f:PH,g:L_,G:D_,H:B_,I:B_,j:TH,L:kH,m:EH,M:AH,p:k,q:SH,Q:NH,s:OH,S:CH,u:vH,U:wH,V:bH,w:yH,W:xH,x:j,X:R,y:L_,Y:D_,Z:_H,"%":IH};_.x=E(n,_),_.X=E(r,_),_.c=E(e,_),T.x=E(n,T),T.X=E(r,T),T.c=E(e,T);function E(Z,pe){return function(ge){var H=[],De=-1,se=0,Pe=Z.length,W,K,ie;for(ge instanceof Date||(ge=new Date(+ge));++De<Pe;)Z.charCodeAt(De)===37&&(H.push(Z.slice(se,De)),(K=j_[W=Z.charAt(++De)])!=null?W=Z.charAt(++De):K=W==="e"?" ":"0",(ie=pe[W])&&(W=ie(ge,K)),H.push(W),se=De+1);return H.push(Z.slice(se,De)),H.join("")}}function A(Z,pe){return function(ge){var H=Vs(1900,void 0,1),De=C(H,Z,ge+="",0),se,Pe;if(De!=ge.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(pe&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(se=Hp(Vs(H.y,0,1)),Pe=se.getUTCDay(),se=Pe>4||Pe===0?zd.ceil(se):zd(se),se=gh.offset(se,(H.V-1)*7),H.y=se.getUTCFullYear(),H.m=se.getUTCMonth(),H.d=se.getUTCDate()+(H.w+6)%7):(se=Gp(Vs(H.y,0,1)),Pe=se.getDay(),se=Pe>4||Pe===0?Vd.ceil(se):Vd(se),se=ju.offset(se,(H.V-1)*7),H.y=se.getFullYear(),H.m=se.getMonth(),H.d=se.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),Pe="Z"in H?Hp(Vs(H.y,0,1)).getUTCDay():Gp(Vs(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(Pe+5)%7:H.w+H.U*7-(Pe+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Hp(H)):Gp(H)}}function C(Z,pe,ge,H){for(var De=0,se=pe.length,Pe=ge.length,W,K;De<se;){if(H>=Pe)return-1;if(W=pe.charCodeAt(De++),W===37){if(W=pe.charAt(De++),K=S[W in j_?pe.charAt(De++):W],!K||(H=K(Z,ge,H))<0)return-1}else if(W!=ge.charCodeAt(H++))return-1}return H}function k(Z,pe,ge){var H=u.exec(pe.slice(ge));return H?(Z.p=c.get(H[0].toLowerCase()),ge+H[0].length):-1}function N(Z,pe,ge){var H=g.exec(pe.slice(ge));return H?(Z.w=y.get(H[0].toLowerCase()),ge+H[0].length):-1}function O(Z,pe,ge){var H=d.exec(pe.slice(ge));return H?(Z.w=h.get(H[0].toLowerCase()),ge+H[0].length):-1}function M(Z,pe,ge){var H=w.exec(pe.slice(ge));return H?(Z.m=b.get(H[0].toLowerCase()),ge+H[0].length):-1}function D(Z,pe,ge){var H=v.exec(pe.slice(ge));return H?(Z.m=x.get(H[0].toLowerCase()),ge+H[0].length):-1}function B(Z,pe,ge){return C(Z,e,pe,ge)}function j(Z,pe,ge){return C(Z,n,pe,ge)}function R(Z,pe,ge){return C(Z,r,pe,ge)}function L(Z){return a[Z.getDay()]}function $(Z){return o[Z.getDay()]}function U(Z){return l[Z.getMonth()]}function z(Z){return s[Z.getMonth()]}function J(Z){return i[+(Z.getHours()>=12)]}function G(Z){return 1+~~(Z.getMonth()/3)}function Q(Z){return a[Z.getUTCDay()]}function we(Z){return o[Z.getUTCDay()]}function xe(Z){return l[Z.getUTCMonth()]}function ke(Z){return s[Z.getUTCMonth()]}function lt(Z){return i[+(Z.getUTCHours()>=12)]}function qe(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var pe=E(Z+="",_);return pe.toString=function(){return Z},pe},parse:function(Z){var pe=A(Z+="",!1);return pe.toString=function(){return Z},pe},utcFormat:function(Z){var pe=E(Z+="",T);return pe.toString=function(){return Z},pe},utcParse:function(Z){var pe=A(Z+="",!0);return pe.toString=function(){return Z},pe}}}var j_={"-":"",_:" ",0:"0"},$t=/^\s*\d+/,pH=/^%/,mH=/[\\^$*+?|[\]().{}]/g;function $e(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function gH(t){return t.replace(mH,"\\$&")}function zs(t){return new RegExp("^(?:"+t.map(gH).join("|")+")","i")}function qs(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function yH(t,e,n){var r=$t.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function vH(t,e,n){var r=$t.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function wH(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function bH(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function xH(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function D_(t,e,n){var r=$t.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function L_(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _H(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function SH(t,e,n){var r=$t.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function EH(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function U_(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function TH(t,e,n){var r=$t.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function B_(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function AH(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function CH(t,e,n){var r=$t.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function kH(t,e,n){var r=$t.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function PH(t,e,n){var r=$t.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function IH(t,e,n){var r=pH.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function NH(t,e,n){var r=$t.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function OH(t,e,n){var r=$t.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function F_(t,e){return $e(t.getDate(),e,2)}function MH(t,e){return $e(t.getHours(),e,2)}function RH(t,e){return $e(t.getHours()%12||12,e,2)}function $H(t,e){return $e(1+ju.count(qr(t),t),e,3)}function e2(t,e){return $e(t.getMilliseconds(),e,3)}function jH(t,e){return e2(t,e)+"000"}function DH(t,e){return $e(t.getMonth()+1,e,2)}function LH(t,e){return $e(t.getMinutes(),e,2)}function UH(t,e){return $e(t.getSeconds(),e,2)}function BH(t){var e=t.getDay();return e===0?7:e}function FH(t,e){return $e(yh.count(qr(t)-1,t),e,2)}function t2(t){var e=t.getDay();return e>=4||e===0?Ua(t):Ua.ceil(t)}function VH(t,e){return t=t2(t),$e(Ua.count(qr(t),t)+(qr(t).getDay()===4),e,2)}function zH(t){return t.getDay()}function qH(t,e){return $e(Vd.count(qr(t)-1,t),e,2)}function GH(t,e){return $e(t.getFullYear()%100,e,2)}function HH(t,e){return t=t2(t),$e(t.getFullYear()%100,e,2)}function WH(t,e){return $e(t.getFullYear()%1e4,e,4)}function KH(t,e){var n=t.getDay();return t=n>=4||n===0?Ua(t):Ua.ceil(t),$e(t.getFullYear()%1e4,e,4)}function JH(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$e(e/60|0,"0",2)+$e(e%60,"0",2)}function V_(t,e){return $e(t.getUTCDate(),e,2)}function YH(t,e){return $e(t.getUTCHours(),e,2)}function XH(t,e){return $e(t.getUTCHours()%12||12,e,2)}function QH(t,e){return $e(1+gh.count(Gr(t),t),e,3)}function n2(t,e){return $e(t.getUTCMilliseconds(),e,3)}function ZH(t,e){return n2(t,e)+"000"}function e9(t,e){return $e(t.getUTCMonth()+1,e,2)}function t9(t,e){return $e(t.getUTCMinutes(),e,2)}function n9(t,e){return $e(t.getUTCSeconds(),e,2)}function r9(t){var e=t.getUTCDay();return e===0?7:e}function i9(t,e){return $e(vh.count(Gr(t)-1,t),e,2)}function r2(t){var e=t.getUTCDay();return e>=4||e===0?Ba(t):Ba.ceil(t)}function o9(t,e){return t=r2(t),$e(Ba.count(Gr(t),t)+(Gr(t).getUTCDay()===4),e,2)}function a9(t){return t.getUTCDay()}function s9(t,e){return $e(zd.count(Gr(t)-1,t),e,2)}function l9(t,e){return $e(t.getUTCFullYear()%100,e,2)}function u9(t,e){return t=r2(t),$e(t.getUTCFullYear()%100,e,2)}function c9(t,e){return $e(t.getUTCFullYear()%1e4,e,4)}function d9(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ba(t):Ba.ceil(t),$e(t.getUTCFullYear()%1e4,e,4)}function f9(){return"+0000"}function z_(){return"%"}function q_(t){return+t}function G_(t){return Math.floor(+t/1e3)}var Lo,i2,o2;h9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function h9(t){return Lo=hH(t),i2=Lo.format,Lo.parse,o2=Lo.utcFormat,Lo.utcParse,Lo}function p9(t){return new Date(t)}function m9(t){return t instanceof Date?+t:+new Date(+t)}function B0(t,e,n,r,i,o,a,s,l,u){var c=A0(),d=c.invert,h=c.domain,g=u(".%L"),y=u(":%S"),v=u("%I:%M"),x=u("%I %p"),w=u("%a %d"),b=u("%b %d"),_=u("%B"),T=u("%Y");function S(E){return(l(E)<E?g:s(E)<E?y:a(E)<E?v:o(E)<E?x:r(E)<E?i(E)<E?w:b:n(E)<E?_:T)(E)}return c.invert=function(E){return new Date(d(E))},c.domain=function(E){return arguments.length?h(Array.from(E,m9)):h().map(p9)},c.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},c.tickFormat=function(E,A){return A==null?S:u(A)},c.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(GP(A,E)):c},c.copy=function(){return $u(c,B0(t,e,n,r,i,o,a,s,l,u))},c}function g9(){return Wn.apply(B0(dH,fH,qr,L0,yh,ju,j0,R0,so,i2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function y9(){return Wn.apply(B0(uH,cH,Gr,U0,vh,gh,D0,$0,so,o2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wh(){var t=0,e=1,n,r,i,o,a=tn,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var g,y;return arguments.length?([g,y]=h,a=d(g,y),u):[a(0),a(1)]}}return u.range=c(ys),u.rangeRound=c(T0),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function Mi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function a2(){var t=Oi(wh()(tn));return t.copy=function(){return Mi(t,a2())},Yr.apply(t,arguments)}function s2(){var t=P0(wh()).domain([1,10]);return t.copy=function(){return Mi(t,s2()).base(t.base())},Yr.apply(t,arguments)}function l2(){var t=I0(wh());return t.copy=function(){return Mi(t,l2()).constant(t.constant())},Yr.apply(t,arguments)}function F0(){var t=N0(wh());return t.copy=function(){return Mi(t,F0()).exponent(t.exponent())},Yr.apply(t,arguments)}function v9(){return F0.apply(null,arguments).exponent(.5)}function u2(){var t=[],e=tn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Mu(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ti),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>iG(t,o/r))},n.copy=function(){return u2(e).domain(t)},Yr.apply(n,arguments)}function bh(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=tn,c,d=!1,h;function g(v){return isNaN(v=+v)?h:(v=.5+((v=+c(v))-o)*(r*v<r*o?s:l),u(d?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,e,n]=v,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(v){return arguments.length?(d=!!v,g):d},g.interpolator=function(v){return arguments.length?(u=v,g):u};function y(v){return function(x){var w,b,_;return arguments.length?([w,b,_]=x,u=IG(v,[w,b,_]),g):[u(0),u(.5),u(1)]}}return g.range=y(ys),g.rangeRound=y(T0),g.unknown=function(v){return arguments.length?(h=v,g):h},function(v){return c=v,i=v(t),o=v(e),a=v(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g}}function c2(){var t=Oi(bh()(tn));return t.copy=function(){return Mi(t,c2())},Yr.apply(t,arguments)}function d2(){var t=P0(bh()).domain([.1,1,10]);return t.copy=function(){return Mi(t,d2()).base(t.base())},Yr.apply(t,arguments)}function f2(){var t=I0(bh());return t.copy=function(){return Mi(t,f2()).constant(t.constant())},Yr.apply(t,arguments)}function V0(){var t=N0(bh());return t.copy=function(){return Mi(t,V0()).exponent(t.exponent())},Yr.apply(t,arguments)}function w9(){return V0.apply(null,arguments).exponent(.5)}const H_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Kl,scaleDiverging:c2,scaleDivergingLog:d2,scaleDivergingPow:V0,scaleDivergingSqrt:w9,scaleDivergingSymlog:f2,scaleIdentity:qP,scaleImplicit:$g,scaleLinear:Bd,scaleLog:HP,scaleOrdinal:_0,scalePoint:ml,scalePow:O0,scaleQuantile:JP,scaleQuantize:YP,scaleRadial:KP,scaleSequential:a2,scaleSequentialLog:s2,scaleSequentialPow:F0,scaleSequentialQuantile:u2,scaleSequentialSqrt:v9,scaleSequentialSymlog:l2,scaleSqrt:ZG,scaleSymlog:WP,scaleThreshold:XP,scaleTime:g9,scaleUtc:y9,tickFormat:zP},Symbol.toStringTag,{value:"Module"}));var b9=ls;function x9(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!b9(a):n(a,s)))var s=a,l=o}return l}var xh=x9;function _9(t,e){return t>e}var h2=_9,S9=xh,E9=h2,T9=gs;function A9(t){return t&&t.length?S9(t,T9,E9):void 0}var C9=A9;const _h=Ve(C9);function k9(t,e){return t<e}var p2=k9,P9=xh,I9=p2,N9=gs;function O9(t){return t&&t.length?P9(t,N9,I9):void 0}var M9=O9;const Sh=Ve(M9);var R9=t0,$9=Er,j9=_P,D9=fn;function L9(t,e){var n=D9(t)?R9:j9;return n(t,$9(e))}var U9=L9,B9=bP,F9=U9;function V9(t,e){return B9(F9(t,e),1)}var z9=V9;const q9=Ve(z9);var G9=g0;function H9(t,e){return G9(t,e)}var W9=H9;const Du=Ve(W9);var vs=1e9,K9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},q0,st=!0,Gn="[DecimalError] ",po=Gn+"Invalid argument: ",z0=Gn+"Exponent out of range: ",ws=Math.floor,Ji=Math.pow,J9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bn,Nt=1e7,it=7,m2=9007199254740991,qd=ws(m2/it),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*it;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return Dr(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return He(Dr(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return xt(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(bn))throw Error(Gn+"NaN");if(n.s<1)throw Error(Gn+(n.s?"NaN":"-Infinity"));return n.eq(bn)?new r(0):(st=!1,e=Dr(Zl(n,o),Zl(t,o),o),st=!0,He(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?v2(e,t):g2(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Gn+"NaN");return n.s?(st=!1,e=Dr(n,t,0,1).times(t),st=!0,n.minus(e)):He(new r(n),i)};ae.naturalExponential=ae.exp=function(){return y2(this)};ae.naturalLogarithm=ae.ln=function(){return Zl(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?g2(e,t):v2(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(po+t);if(e=xt(i)+1,r=i.d.length-1,n=r*it+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Gn+"NaN")}for(t=xt(s),st=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=gr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ws((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Dr(s,o,a+2)).times(.5),gr(o.d).slice(0,a)===(e=gr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(He(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return st=!0,He(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,g=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+g[r]*h[i-r-1]+e,o[i--]=s%Nt|0,e=s/Nt|0;o[i]=(o[i]+e)%Nt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,st?He(t,d.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(xr(t,0,vs),e===void 0?e=r.rounding:xr(e,0,8),He(n,t+xt(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=So(r,!0):(xr(t,0,vs),e===void 0?e=i.rounding:xr(e,0,8),r=He(new i(r),t+1,e),n=So(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?So(i):(xr(t,0,vs),e===void 0?e=o.rounding:xr(e,0,8),r=He(new o(i),t+xt(i)+1,e),n=So(r.abs(),!1,t+xt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return He(new e(t),xt(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(bn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Gn+"Infinity");return s}if(s.eq(bn))return s;if(r=l.precision,t.eq(bn))return He(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=m2){for(i=new l(bn),e=Math.ceil(r/it+4),st=!1;n%2&&(i=i.times(s),K_(i.d,e)),n=ws(n/2),n!==0;)s=s.times(s),K_(s.d,e);return st=!0,t.s<0?new l(bn).div(i):He(i,r)}}else if(o<0)throw Error(Gn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,st=!1,i=t.times(Zl(s,r+u)),st=!0,i=y2(i),i.s=o,i};ae.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=xt(i),r=So(i,n<=o.toExpNeg||n>=o.toExpPos)):(xr(t,1,vs),e===void 0?e=o.rounding:xr(e,0,8),i=He(new o(i),t,e),n=xt(i),r=So(i,t<=n||n<=o.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(xr(t,1,vs),e===void 0?e=r.rounding:xr(e,0,8)),He(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=xt(t),n=t.constructor;return So(t,e<=n.toExpNeg||e>=n.toExpPos)};function g2(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),st?He(e,d):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/it),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Nt|0,l[o]%=Nt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,st?He(e,d):e}function xr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(po+t)}function gr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=it-r.length,n&&(o+=ai(n)),o+=r;a=t[e],r=a+"",n=it-r.length,n&&(o+=ai(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Dr=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Nt|0,a=o/Nt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Nt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,h,g,y,v,x,w,b,_,T,S,E,A,C,k=r.constructor,N=r.s==i.s?1:-1,O=r.d,M=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Gn+"Division by zero");for(l=r.e-i.e,A=M.length,S=O.length,g=new k(N),y=g.d=[],u=0;M[u]==(O[u]||0);)++u;if(M[u]>(O[u]||0)&&--l,o==null?b=o=k.precision:a?b=o+(xt(r)-xt(i))+1:b=o,b<0)return new k(0);if(b=b/it+2|0,u=0,A==1)for(c=0,M=M[0],b++;(u<S||c)&&b--;u++)_=c*Nt+(O[u]||0),y[u]=_/M|0,c=_%M|0;else{for(c=Nt/(M[0]+1)|0,c>1&&(M=t(M,c),O=t(O,c),A=M.length,S=O.length),T=A,v=O.slice(0,A),x=v.length;x<A;)v[x++]=0;C=M.slice(),C.unshift(0),E=M[0],M[1]>=Nt/2&&++E;do c=0,s=e(M,v,A,x),s<0?(w=v[0],A!=x&&(w=w*Nt+(v[1]||0)),c=w/E|0,c>1?(c>=Nt&&(c=Nt-1),d=t(M,c),h=d.length,x=v.length,s=e(d,v,h,x),s==1&&(c--,n(d,A<h?C:M,h))):(c==0&&(s=c=1),d=M.slice()),h=d.length,h<x&&d.unshift(0),n(v,d,x),s==-1&&(x=v.length,s=e(M,v,A,x),s<1&&(c++,n(v,A<x?C:M,x))),x=v.length):s===0&&(c++,v=[0]),y[u++]=c,s&&v[0]?v[x++]=O[T]||0:(v=[O[T]],x=1);while((T++<S||v[0]!==void 0)&&b--)}return y[0]||y.shift(),g.e=l,He(g,a?o+xt(g)+1:o)}}();function y2(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,d=c.precision;if(xt(t)>16)throw Error(z0+xt(t));if(!t.s)return new c(bn);for(st=!1,s=d,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Ji(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(bn),c.precision=s;;){if(i=He(i.times(t),s),n=n.times(++l),a=o.plus(Dr(i,n,s)),gr(a.d).slice(0,s)===gr(o.d).slice(0,s)){for(;u--;)o=He(o.times(o),s);return c.precision=d,e==null?(st=!0,He(o,d)):o}o=a}}function xt(t){for(var e=t.e*it,n=t.d[0];n>=10;n/=10)e++;return e}function Wp(t,e,n){if(e>t.LN10.sd())throw st=!0,n&&(t.precision=n),Error(Gn+"LN10 precision limit exceeded");return He(new t(t.LN10),e)}function ai(t){for(var e="";t--;)e+="0";return e}function Zl(t,e){var n,r,i,o,a,s,l,u,c,d=1,h=10,g=t,y=g.d,v=g.constructor,x=v.precision;if(g.s<1)throw Error(Gn+(g.s?"NaN":"-Infinity"));if(g.eq(bn))return new v(0);if(e==null?(st=!1,u=x):u=e,g.eq(10))return e==null&&(st=!0),Wp(v,u);if(u+=h,v.precision=u,n=gr(y),r=n.charAt(0),o=xt(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=gr(g.d),r=n.charAt(0),d++;o=xt(g),r>1?(g=new v("0."+n),o++):g=new v(r+"."+n.slice(1))}else return l=Wp(v,u+2,x).times(o+""),g=Zl(new v(r+"."+n.slice(1)),u-h).plus(l),v.precision=x,e==null?(st=!0,He(g,x)):g;for(s=a=g=Dr(g.minus(bn),g.plus(bn),u),c=He(g.times(g),u),i=3;;){if(a=He(a.times(c),u),l=s.plus(Dr(a,new v(i),u)),gr(l.d).slice(0,u)===gr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Wp(v,u+2,x).times(o+""))),s=Dr(s,new v(d),u),v.precision=x,e==null?(st=!0,He(s,x)):s;s=l,i+=2}}function W_(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ws(n/it),t.d=[],r=(n+1)%it,n<0&&(r+=it),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=it;r<i;)t.d.push(+e.slice(r,r+=it));e=e.slice(r),r=it-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),st&&(t.e>qd||t.e<-qd))throw Error(z0+n)}else t.s=0,t.e=0,t.d=[0];return t}function He(t,e,n){var r,i,o,a,s,l,u,c,d=t.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=it,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/it),o=d.length,c>=o)return t;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=it,i=r-it+a}if(n!==void 0&&(o=Ji(10,a-i-1),s=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ji(10,a-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=xt(t),d.length=1,e=e-o-1,d[0]=Ji(10,(it-e%it)%it),t.e=ws(-e/it)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=Ji(10,it-r),d[c]=i>0?(u/Ji(10,a-i)%Ji(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==Nt&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=Nt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(st&&(t.e>qd||t.e<-qd))throw Error(z0+xt(t));return t}function v2(t,e){var n,r,i,o,a,s,l,u,c,d,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),st?He(e,g):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(g/it),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=Nt-1;--l[o],l[i]+=Nt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,st?He(e,g):e):new h(0)}function So(t,e,n){var r,i=xt(t),o=gr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+ai(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ai(-i-1)+o,n&&(r=n-a)>0&&(o+=ai(r))):i>=a?(o+=ai(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+ai(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=ai(r))),t.s<0?"-"+o:o}function K_(t,e){if(t.length>e)return t.length=e,!0}function w2(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(po+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return W_(a,o.toString())}else if(typeof o!="string")throw Error(po+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,J9.test(o))W_(a,o);else throw Error(po+o)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=w2,i.config=i.set=Y9,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Y9(t){if(!t||typeof t!="object")throw Error(Gn+"Object expected");var e,n,r,i=["precision",1,vs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ws(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(po+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(po+n+": "+r);return this}var q0=w2(K9);bn=new q0(1);const Ge=q0;function X9(t){return tW(t)||eW(t)||Z9(t)||Q9()}function Q9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z9(t,e){if(t){if(typeof t=="string")return Ug(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ug(t,e)}}function eW(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function tW(t){if(Array.isArray(t))return Ug(t)}function Ug(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nW=function(e){return e},b2={},x2=function(e){return e===b2},J_=function(e){return function n(){return arguments.length===0||arguments.length===1&&x2(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},rW=function t(e,n){return e===1?n:J_(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==b2}).length;return a>=e?n.apply(void 0,i):t(e-a,J_(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return x2(d)?l.shift():d});return n.apply(void 0,X9(c).concat(l))}))})},Eh=function(e){return rW(e.length,e)},Bg=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},iW=Eh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),oW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return nW;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Fg=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},_2=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function aW(t){var e;return t===0?e=1:e=Math.floor(new Ge(t).abs().log(10).toNumber())+1,e}function sW(t,e,n){for(var r=new Ge(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var lW=Eh(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),uW=Eh(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),cW=Eh(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Th={rangeStep:sW,getDigitCount:aW,interpolateNumber:lW,uninterpolateNumber:uW,uninterpolateTruncation:cW};function Vg(t){return hW(t)||fW(t)||S2(t)||dW()}function dW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fW(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function hW(t){if(Array.isArray(t))return zg(t)}function eu(t,e){return gW(t)||mW(t,e)||S2(t,e)||pW()}function pW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S2(t,e){if(t){if(typeof t=="string")return zg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zg(t,e)}}function zg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mW(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function gW(t){if(Array.isArray(t))return t}function E2(t){var e=eu(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function T2(t,e,n){if(t.lte(0))return new Ge(0);var r=Th.getDigitCount(t.toNumber()),i=new Ge(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Ge(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Ge(Math.ceil(l))}function yW(t,e,n){var r=1,i=new Ge(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ge(10).pow(Th.getDigitCount(t)-1),i=new Ge(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ge(Math.floor(t)))}else t===0?i=new Ge(Math.floor((e-1)/2)):n||(i=new Ge(Math.floor(t)));var a=Math.floor((e-1)/2),s=oW(iW(function(l){return i.add(new Ge(l-a).mul(r)).toNumber()}),Bg);return s(0,e)}function A2(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ge(0),tickMin:new Ge(0),tickMax:new Ge(0)};var o=T2(new Ge(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Ge(0):(a=new Ge(t).add(e).div(2),a=a.sub(new Ge(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Ge(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?A2(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Ge(s).mul(o)),tickMax:a.add(new Ge(l).mul(o))})}function vW(t){var e=eu(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=E2([n,r]),l=eu(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(Vg(Bg(0,i-1).map(function(){return 1/0}))):[].concat(Vg(Bg(0,i-1).map(function(){return-1/0})),[c]);return n>r?Fg(d):d}if(u===c)return yW(u,i,o);var h=A2(u,c,a,o),g=h.step,y=h.tickMin,v=h.tickMax,x=Th.rangeStep(y,v.add(new Ge(.1).mul(g)),g);return n>r?Fg(x):x}function wW(t,e){var n=eu(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=E2([r,i]),s=eu(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=T2(new Ge(u).sub(l).div(c-1),o,0),h=[].concat(Vg(Th.rangeStep(new Ge(l),new Ge(u).sub(new Ge(.99).mul(d)),d)),[u]);return r>i?Fg(h):h}var bW=_2(vW),xW=_2(wW),_W="Invariant failed";function Eo(t,e){throw new Error(_W)}var SW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gd.apply(this,arguments)}function EW(t,e){return kW(t)||CW(t,e)||AW(t,e)||TW()}function TW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AW(t,e){if(t){if(typeof t=="string")return Y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y_(t,e)}}function Y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function kW(t){if(Array.isArray(t))return t}function PW(t,e){if(t==null)return{};var n=IW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P2(r.key),r)}}function MW(t,e,n){return e&&OW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RW(t,e,n){return e=Hd(e),$W(t,C2()?Reflect.construct(e,n||[],Hd(t).constructor):e.apply(t,n))}function $W(t,e){if(e&&(Fa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jW(t)}function jW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C2=function(){return!!t})()}function Hd(t){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hd(t)}function DW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qg(t,e)}function qg(t,e){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qg(t,e)}function k2(t,e,n){return e=P2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P2(t){var e=LW(t,"string");return Fa(e)=="symbol"?e:e+""}function LW(t,e){if(Fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lu=function(t){function e(){return NW(this,e),RW(this,e,arguments)}return DW(e,t),MW(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=PW(r,SW),g=me(h,!1);this.props.direction==="x"&&c.type!=="number"&&Eo();var y=l.map(function(v){var x=u(v,s),w=x.x,b=x.y,_=x.value,T=x.errorVal;if(!T)return null;var S=[],E,A;if(Array.isArray(T)){var C=EW(T,2);E=C[0],A=C[1]}else E=A=T;if(o==="vertical"){var k=c.scale,N=b+i,O=N+a,M=N-a,D=k(_-E),B=k(_+A);S.push({x1:B,y1:O,x2:B,y2:M}),S.push({x1:D,y1:N,x2:B,y2:N}),S.push({x1:D,y1:O,x2:D,y2:M})}else if(o==="horizontal"){var j=d.scale,R=w+i,L=R-a,$=R+a,U=j(_-E),z=j(_+A);S.push({x1:L,y1:z,x2:$,y2:z}),S.push({x1:R,y1:U,x2:R,y2:z}),S.push({x1:L,y1:U,x2:$,y2:U})}return I.createElement(Re,Gd({className:"recharts-errorBar",key:"bar-".concat(S.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},g),S.map(function(J){return I.createElement("line",Gd({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return I.createElement(Re,{className:"recharts-errorBars"},y)}}])}(I.Component);k2(Lu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});k2(Lu,"displayName","ErrorBar");function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function X_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X_(Object(n),!0).forEach(function(r){UW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UW(t,e,n){return e=BW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BW(t){var e=FW(t,"string");return tu(e)=="symbol"?e:e+""}function FW(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I2=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=vn(n,Ei);if(!a)return null;var s=Ei.defaultProps,l=s!==void 0?Bi(Bi({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,g=d.props,y=g.sectors||g.data||[];return c.concat(y.map(function(v){return{type:a.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,g=h!==void 0?Bi(Bi({},h),d.props):{},y=g.dataKey,v=g.name,x=g.legendType,w=g.hide;return{inactive:w,dataKey:y,type:l.iconType||x||"square",color:G0(d),value:v||y,payload:g}}),Bi(Bi(Bi({},l),Ei.getWithHeight(a,i)),{},{payload:u,item:a})};function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function Q_(t){return GW(t)||qW(t)||zW(t)||VW()}function VW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zW(t,e){if(t){if(typeof t=="string")return Gg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gg(t,e)}}function qW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GW(t){if(Array.isArray(t))return Gg(t)}function Gg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z_(Object(n),!0).forEach(function(r){xa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xa(t,e,n){return e=HW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HW(t){var e=WW(t,"string");return nu(e)=="symbol"?e:e+""}function WW(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function At(t,e,n){return _e(t)||_e(e)?n:kt(e)?Tn(t,e,n):be(e)?e(t):n}function gl(t,e,n,r){var i=q9(t,function(s){return At(s,e)});if(n==="number"){var o=i.filter(function(s){return X(s)||parseFloat(s)});return o.length?[Sh(o),_h(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!_e(s)}):i;return a.map(function(s){return kt(s)||s instanceof Date?s:""})}var KW=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Zt(d-c)!==Zt(h-d)){var y=[];if(Zt(h-d)===Zt(l[1]-l[0])){g=h;var v=d+l[1]-l[0];y[0]=Math.min(v,(v+c)/2),y[1]=Math.max(v,(v+c)/2)}else{g=c;var x=h+l[1]-l[0];y[0]=Math.min(d,(x+d)/2),y[1]=Math.max(d,(x+d)/2)}var w=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(e>w[0]&&e<=w[1]||e>=y[0]&&e<=y[1]){a=i[u].index;break}}else{var b=Math.min(c,h),_=Math.max(c,h);if(e>(b+d)/2&&e<=(_+d)/2){a=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},G0=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},JW=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,d=Object.keys(c),h=0,g=d.length;h<g;h++){var y=c[d[h]],v=y.items,x=y.cateAxisId,w=v.filter(function(A){return jr(A.type).indexOf("Bar")>=0});if(w&&w.length){var b=w[0].type.defaultProps,_=b!==void 0?gt(gt({},b),w[0].props):w[0].props,T=_.barSize,S=_[x];a[S]||(a[S]=[]);var E=_e(T)?n:T;a[S].push({item:w[0],stackList:w.slice(1),barSize:_e(E)?void 0:en(E,r,0)})}}return a},YW=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=en(n,i,0,!0),c,d=[];if(a[0].barSize===+a[0].barSize){var h=!1,g=i/l,y=a.reduce(function(T,S){return T+S.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&g>0&&(h=!0,g*=.9,y=l*g);var v=(i-y)/2>>0,x={offset:v-u,size:0};c=a.reduce(function(T,S){var E={item:S.item,position:{offset:x.offset+x.size+u,size:h?g:S.barSize}},A=[].concat(Q_(T),[E]);return x=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:x})}),A},d)}else{var w=en(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var b=(i-2*w-(l-1)*u)/l;b>1&&(b>>=0);var _=s===+s?Math.min(b,s):b;c=a.reduce(function(T,S,E){var A=[].concat(Q_(T),[{item:S.item,position:{offset:w+(b+u)*E+(b-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:A[A.length-1].position})}),A},d)}return c},XW=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=I2({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,g=u.align,y=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&y==="middle")&&g!=="center"&&X(e[g]))return gt(gt({},e),{},xa({},g,e[g]+(d||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&y!=="middle"&&X(e[y]))return gt(gt({},e),{},xa({},y,e[y]+(h||0)))}return e},QW=function(e,n,r){return _e(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},N2=function(e,n,r,i,o){var a=n.props.children,s=An(a,Lu).filter(function(u){return QW(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=At(c,r);if(_e(d))return u;var h=Array.isArray(d)?[Sh(d),_h(d)]:[d,d],g=l.reduce(function(y,v){var x=At(c,v,0),w=h[0]-Math.abs(Array.isArray(x)?x[0]:x),b=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(w,y[0]),Math.max(b,y[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},ZW=function(e,n,r,i,o){var a=n.map(function(s){return N2(e,s,r,o,i)}).filter(function(s){return!_e(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},O2=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&N2(e,l,u,i)||gl(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},M2=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},R2=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Rr=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Zt(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!Nu(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},Kp=new WeakMap,vc=function(e,n){if(typeof n!="function")return e;Kp.has(e)||Kp.set(e,new WeakMap);var r=Kp.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},$2=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Kl(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Bd(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ml(),realScaleType:"point"}:o==="category"?{scale:Kl(),realScaleType:"band"}:{scale:Bd(),realScaleType:"linear"};if(bo(i)){var l="scale".concat(sh(i));return{scale:(H_[l]||ml)(),realScaleType:H_[l]?l:"point"}}return be(i)?{scale:i}:{scale:ml(),realScaleType:"point"}},e1=1e-4,j2=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-e1,a=Math.max(i[0],i[1])+e1,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},eK=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},tK=function(e,n){if(!n||n.length!==2||!X(n[0])||!X(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!X(e[0])||e[0]<r)&&(o[0]=r),(!X(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},nK=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Nu(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},rK=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Nu(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},iK={sign:nK,expand:S4,none:Ma,silhouette:E4,wiggle:T4,positive:rK},oK=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=iK[r],a=_4().keys(i).value(function(s,l){return+At(s,l,0)}).order(gg).offset(o);return a(e)},aK=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(d,h){var g,y=(g=h.type)!==null&&g!==void 0&&g.defaultProps?gt(gt({},h.type.defaultProps),h.props):h.props,v=y.stackId,x=y.hide;if(x)return d;var w=y[r],b=d[w]||{hasStack:!1,stackGroups:{}};if(kt(v)){var _=b.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),b.hasStack=!0,b.stackGroups[v]=_}else b.stackGroups[hs("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return gt(gt({},d),{},xa({},w,b))},l),c={};return Object.keys(u).reduce(function(d,h){var g=u[h];if(g.hasStack){var y={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,x){var w=g.stackGroups[x];return gt(gt({},v),{},xa({},x,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:oK(e,w.items,o)}))},y)}return gt(gt({},d),{},xa({},h,g))},c)},D2=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=bW(u,o,s);return e.domain([Sh(c),_h(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=xW(d,o,s);return{niceTicks:h}}return null};function t1(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_e(i[e.dataKey])){var s=wd(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=At(i,_e(a)?e.dataKey:a);return _e(l)?null:e.scale(l)}var n1=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=At(a,n.dataKey,n.domain[s]);return _e(l)?null:n.scale(l)-o/2+i},sK=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},lK=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(kt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},uK=function(e){return e.reduce(function(n,r){return[Sh(r.concat([n[0]]).filter(X)),_h(r.concat([n[1]]).filter(X))]},[1/0,-1/0])},L2=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var d=uK(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},r1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,i1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hg=function(e,n,r){if(be(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(X(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(r1.test(e[0])){var o=+r1.exec(e[0])[1];i[0]=n[0]-o}else be(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(X(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(i1.test(e[1])){var a=+i1.exec(e[1])[1];i[1]=n[1]+a}else be(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Wd=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=v0(n,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},o1=function(e,n,r){return!e||!e.length||Du(e,Tn(r,"type.defaultProps.domain"))?n:e},U2=function(e,n){var r=e.type.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return gt(gt({},me(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:G0(e),value:At(n,i),type:l,payload:n,chartType:u,hide:c})};function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function a1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a1(Object(n),!0).forEach(function(r){B2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B2(t,e,n){return e=cK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cK(t){var e=dK(t,"string");return ru(e)=="symbol"?e:e+""}function dK(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fK(t,e){return gK(t)||mK(t,e)||pK(t,e)||hK()}function hK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pK(t,e){if(t){if(typeof t=="string")return s1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s1(t,e)}}function s1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function gK(t){if(Array.isArray(t))return t}var Kd=Math.PI/180,yK=function(e){return e*180/Math.PI},Qe=function(e,n,r,i){return{x:e+Math.cos(-Kd*i)*r,y:n+Math.sin(-Kd*i)*r}},F2=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},vK=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=en(e.cx,a,a/2),d=en(e.cy,s,s/2),h=F2(a,s,r),g=en(e.innerRadius,h,0),y=en(e.outerRadius,h,h*.8),v=Object.keys(n);return v.reduce(function(x,w){var b=n[w],_=b.domain,T=b.reversed,S;if(_e(b.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[g,y]),T&&(S=[S[1],S[0]]);else{S=b.range;var E=S,A=fK(E,2);l=A[0],u=A[1]}var C=$2(b,o),k=C.realScaleType,N=C.scale;N.domain(_).range(S),j2(N);var O=D2(N,Cr(Cr({},b),{},{realScaleType:k})),M=Cr(Cr(Cr({},b),O),{},{range:S,radius:y,realScaleType:k,scale:N,cx:c,cy:d,innerRadius:g,outerRadius:y,startAngle:l,endAngle:u});return Cr(Cr({},x),{},B2({},w,M))},{})},wK=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},bK=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=wK({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:yK(u),angleInRadian:u}},xK=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},_K=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},l1=function(e,n){var r=e.x,i=e.y,o=bK({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=xK(n),d=c.startAngle,h=c.endAngle,g=s,y;if(d<=h){for(;g>h;)g-=360;for(;g<d;)g+=360;y=g>=d&&g<=h}else{for(;g>d;)g-=360;for(;g<h;)g+=360;y=g>=h&&g<=d}return y?Cr(Cr({},n),{},{radius:a,angle:_K(g,n)}):null},V2=function(e){return!P.isValidElement(e)&&!be(e)&&typeof e!="boolean"?e.className:""};function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}var SK=["offset"];function EK(t){return kK(t)||CK(t)||AK(t)||TK()}function TK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AK(t,e){if(t){if(typeof t=="string")return Wg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wg(t,e)}}function CK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kK(t){if(Array.isArray(t))return Wg(t)}function Wg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PK(t,e){if(t==null)return{};var n=IK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function u1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u1(Object(n),!0).forEach(function(r){NK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NK(t,e,n){return e=OK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OK(t){var e=MK(t,"string");return iu(e)=="symbol"?e:e+""}function MK(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ou.apply(this,arguments)}var RK=function(e){var n=e.value,r=e.formatter,i=_e(e.children)?n:e.children;return be(r)?r(i):i},$K=function(e,n){var r=Zt(n-e),i=Math.min(Math.abs(n-e),360);return r*i},jK=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,g=l.startAngle,y=l.endAngle,v=l.clockWise,x=(d+h)/2,w=$K(g,y),b=w>=0?1:-1,_,T;i==="insideStart"?(_=g+b*a,T=v):i==="insideEnd"?(_=y-b*a,T=!v):i==="end"&&(_=y+b*a,T=v),T=w<=0?T:!T;var S=Qe(u,c,x,_),E=Qe(u,c,x,_+(T?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(T?0:1,`,
    `).concat(E.x,",").concat(E.y),C=_e(e.id)?hs("recharts-radial-line-"):e.id;return I.createElement("text",ou({},r,{dominantBaseline:"central",className:Ee("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:C,d:A})),I.createElement("textPath",{xlinkHref:"#".concat(C)},n))},DK=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var g=Qe(a,s,u+r,h),y=g.x,v=g.y;return{x:y,y:v,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,w=Qe(a,s,x,h),b=w.x,_=w.y;return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},LK=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,d=c>=0?1:-1,h=d*i,g=d>0?"end":"start",y=d>0?"start":"end",v=u>=0?1:-1,x=v*i,w=v>0?"end":"start",b=v>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:g};return St(St({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:y};return St(St({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:s-x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return St(St({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var E={x:s+u+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return St(St({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return o==="insideLeft"?St({x:s+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},A):o==="insideRight"?St({x:s+u-x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},A):o==="insideTop"?St({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:y},A):o==="insideBottom"?St({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:g},A):o==="insideTopLeft"?St({x:s+x,y:l+h,textAnchor:b,verticalAnchor:y},A):o==="insideTopRight"?St({x:s+u-x,y:l+h,textAnchor:w,verticalAnchor:y},A):o==="insideBottomLeft"?St({x:s+x,y:l+c-h,textAnchor:b,verticalAnchor:g},A):o==="insideBottomRight"?St({x:s+u-x,y:l+c-h,textAnchor:w,verticalAnchor:g},A):us(o)&&(X(o.x)||oo(o.x))&&(X(o.y)||oo(o.y))?St({x:s+en(o.x,u),y:l+en(o.y,c),textAnchor:"end",verticalAnchor:"end"},A):St({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},UK=function(e){return"cx"in e&&X(e.cx)};function Mt(t){var e=t.offset,n=e===void 0?5:e,r=PK(t,SK),i=St({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||_e(s)&&_e(l)&&!P.isValidElement(u)&&!be(u))return null;if(P.isValidElement(u))return P.cloneElement(u,i);var g;if(be(u)){if(g=P.createElement(u,i),P.isValidElement(g))return g}else g=RK(i);var y=UK(o),v=me(i,!0);if(y&&(a==="insideStart"||a==="insideEnd"||a==="end"))return jK(i,g,v);var x=y?DK(i):LK(i);return I.createElement(_o,ou({className:Ee("recharts-label",d)},v,x,{breakAll:h}),g)}Mt.displayName="Label";var z2=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,g=e.top,y=e.left,v=e.width,x=e.height,w=e.clockWise,b=e.labelViewBox;if(b)return b;if(X(v)&&X(x)){if(X(d)&&X(h))return{x:d,y:h,width:v,height:x};if(X(g)&&X(y))return{x:g,y,width:v,height:x}}return X(d)&&X(h)?{x:d,y:h,width:0,height:0}:X(n)&&X(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},BK=function(e,n){return e?e===!0?I.createElement(Mt,{key:"label-implicit",viewBox:n}):kt(e)?I.createElement(Mt,{key:"label-implicit",viewBox:n,value:e}):P.isValidElement(e)?e.type===Mt?P.cloneElement(e,{key:"label-implicit",viewBox:n}):I.createElement(Mt,{key:"label-implicit",content:e,viewBox:n}):be(e)?I.createElement(Mt,{key:"label-implicit",content:e,viewBox:n}):us(e)?I.createElement(Mt,ou({viewBox:n},e,{key:"label-implicit"})):null:null},FK=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=z2(e),a=An(i,Mt).map(function(l,u){return P.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=BK(e.label,n||o);return[s].concat(EK(a))};Mt.parseViewBox=z2;Mt.renderCallByParent=FK;function VK(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var zK=VK;const qK=Ve(zK);function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}var GK=["valueAccessor"],HK=["data","dataKey","clockWise","id","textBreakAll"];function WK(t){return XK(t)||YK(t)||JK(t)||KK()}function KK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JK(t,e){if(t){if(typeof t=="string")return Kg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kg(t,e)}}function YK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XK(t){if(Array.isArray(t))return Kg(t)}function Kg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jd.apply(this,arguments)}function c1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c1(Object(n),!0).forEach(function(r){QK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QK(t,e,n){return e=ZK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZK(t){var e=eJ(t,"string");return au(e)=="symbol"?e:e+""}function eJ(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f1(t,e){if(t==null)return{};var n=tJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nJ=function(e){return Array.isArray(e.value)?qK(e.value):e.value};function Lr(t){var e=t.valueAccessor,n=e===void 0?nJ:e,r=f1(t,GK),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=f1(r,HK);return!i||!i.length?null:I.createElement(Re,{className:"recharts-label-list"},i.map(function(c,d){var h=_e(o)?n(c,d):At(c&&c.payload,o),g=_e(s)?{}:{id:"".concat(s,"-").concat(d)};return I.createElement(Mt,Jd({},me(c,!0),u,g,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Mt.parseViewBox(_e(a)?c:d1(d1({},c),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Lr.displayName="LabelList";function rJ(t,e){return t?t===!0?I.createElement(Lr,{key:"labelList-implicit",data:e}):I.isValidElement(t)||be(t)?I.createElement(Lr,{key:"labelList-implicit",data:e,content:t}):us(t)?I.createElement(Lr,Jd({data:e},t,{key:"labelList-implicit"})):null:null}function iJ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=An(r,Lr).map(function(a,s){return P.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=rJ(t.label,e);return[o].concat(WK(i))}Lr.renderCallByParent=iJ;function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(this,arguments)}function h1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h1(Object(n),!0).forEach(function(r){oJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oJ(t,e,n){return e=aJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aJ(t){var e=sJ(t,"string");return su(e)=="symbol"?e:e+""}function sJ(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lJ=function(e,n){var r=Zt(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},wc=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/Kd,h=u?o:o+a*d,g=Qe(n,r,c,h),y=Qe(n,r,i,h),v=u?o-a*d:o,x=Qe(n,r,c*Math.cos(d*Kd),v);return{center:g,circleTangency:y,lineTangency:x,theta:d}},q2=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=lJ(a,s),u=a+l,c=Qe(n,r,o,a),d=Qe(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=Qe(n,r,i,a),y=Qe(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},uJ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Zt(c-u),h=wc({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),g=h.circleTangency,y=h.lineTangency,v=h.theta,x=wc({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),w=x.circleTangency,b=x.lineTangency,_=x.theta,T=l?Math.abs(u-c):Math.abs(u-c)-v-_;if(T<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):q2({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var E=wc({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=E.circleTangency,C=E.lineTangency,k=E.theta,N=wc({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=N.circleTangency,M=N.lineTangency,D=N.theta,B=l?Math.abs(u-c):Math.abs(u-c)-k-D;if(B<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},cJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},G2=function(e){var n=p1(p1({},cJ),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(a<o||c===d)return null;var g=Ee("recharts-sector",h),y=a-o,v=en(s,y,0,!0),x;return v>0&&Math.abs(c-d)<360?x=uJ({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(v,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):x=q2({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:d}),I.createElement("path",Jg({},me(n,!0),{className:g,d:x,role:"img"}))};function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yg.apply(this,arguments)}function m1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m1(Object(n),!0).forEach(function(r){dJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dJ(t,e,n){return e=fJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fJ(t){var e=hJ(t,"string");return lu(e)=="symbol"?e:e+""}function hJ(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y1={curveBasisClosed:d4,curveBasisOpen:f4,curveBasis:c4,curveBumpX:Y3,curveBumpY:X3,curveLinearClosed:h4,curveLinear:uh,curveMonotoneX:p4,curveMonotoneY:m4,curveNatural:g4,curveStep:y4,curveStepAfter:w4,curveStepBefore:v4},bc=function(e){return e.x===+e.x&&e.y===+e.y},Gs=function(e){return e.x},Hs=function(e){return e.y},pJ=function(e,n){if(be(e))return e;var r="curve".concat(sh(e));return(r==="curveMonotone"||r==="curveBump")&&n?y1["".concat(r).concat(n==="vertical"?"Y":"X")]:y1[r]||uh},mJ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=pJ(r,s),d=u?o.filter(function(v){return bc(v)}):o,h;if(Array.isArray(a)){var g=u?a.filter(function(v){return bc(v)}):a,y=d.map(function(v,x){return g1(g1({},v),{},{base:g[x]})});return s==="vertical"?h=cc().y(Hs).x1(Gs).x0(function(v){return v.base.x}):h=cc().x(Gs).y1(Hs).y0(function(v){return v.base.y}),h.defined(bc).curve(c),h(y)}return s==="vertical"&&X(a)?h=cc().y(Hs).x1(Gs).x0(a):X(a)?h=cc().x(Gs).y1(Hs).y0(a):h=Uk().x(Gs).y(Hs),h.defined(bc).curve(c),h(d)},Yd=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?mJ(e):i;return P.createElement("path",Yg({},me(e,!1),bd(e),{className:Ee("recharts-curve",n),d:a,ref:o}))},H2={exports:{}},gJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yJ=gJ,vJ=yJ;function W2(){}function K2(){}K2.resetWarningCache=W2;var wJ=function(){function t(r,i,o,a,s,l){if(l!==vJ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:K2,resetWarningCache:W2};return n.PropTypes=n,n};H2.exports=wJ();var bJ=H2.exports;const Be=Ve(bJ);var xJ=Object.getOwnPropertyNames,_J=Object.getOwnPropertySymbols,SJ=Object.prototype.hasOwnProperty;function v1(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function xc(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function EJ(t){return t!=null?t[Symbol.toStringTag]:void 0}function w1(t){return xJ(t).concat(_J(t))}var TJ=Object.hasOwn||function(t,e){return SJ.call(t,e)};function Mo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var AJ="__v",CJ="__o",kJ="_owner",b1=Object.getOwnPropertyDescriptor,x1=Object.keys;function PJ(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function IJ(t,e){return Mo(t.getTime(),e.getTime())}function NJ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function OJ(t,e){return t===e}function _1(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),c=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var h=a.value,g=s.value;if(n.equals(h[0],g[0],l,d,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}var MJ=Mo;function RJ(t,e,n){var r=x1(t),i=r.length;if(x1(e).length!==i)return!1;for(;i-- >0;)if(!J2(t,e,n,r[i]))return!1;return!0}function Ws(t,e,n){var r=w1(t),i=r.length;if(w1(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!J2(t,e,n,o)||(a=b1(t,o),s=b1(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function $J(t,e){return Mo(t.valueOf(),e.valueOf())}function jJ(t,e){return t.source===e.source&&t.flags===e.flags}function S1(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function DJ(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function LJ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function J2(t,e,n,r){return(r===kJ||r===CJ||r===AJ)&&(t.$$typeof||e.$$typeof)?!0:TJ(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var UJ="[object Arguments]",BJ="[object Boolean]",FJ="[object Date]",VJ="[object Error]",zJ="[object Map]",qJ="[object Number]",GJ="[object Object]",HJ="[object RegExp]",WJ="[object Set]",KJ="[object String]",JJ="[object URL]",YJ=Array.isArray,E1=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,T1=Object.assign,XJ=Object.prototype.toString.call.bind(Object.prototype.toString);function QJ(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual,g=t.unknownTagComparators;return function(v,x,w){if(v===x)return!0;if(v==null||x==null)return!1;var b=typeof v;if(b!==typeof x)return!1;if(b!=="object")return b==="number"?a(v,x,w):b==="function"?i(v,x,w):!1;var _=v.constructor;if(_!==x.constructor)return!1;if(_===Object)return s(v,x,w);if(YJ(v))return e(v,x,w);if(E1!=null&&E1(v))return d(v,x,w);if(_===Date)return n(v,x,w);if(_===RegExp)return u(v,x,w);if(_===Map)return o(v,x,w);if(_===Set)return c(v,x,w);var T=XJ(v);if(T===FJ)return n(v,x,w);if(T===HJ)return u(v,x,w);if(T===zJ)return o(v,x,w);if(T===WJ)return c(v,x,w);if(T===GJ)return typeof v.then!="function"&&typeof x.then!="function"&&s(v,x,w);if(T===JJ)return h(v,x,w);if(T===VJ)return r(v,x,w);if(T===UJ)return s(v,x,w);if(T===BJ||T===qJ||T===KJ)return l(v,x,w);if(g){var S=g[T];if(!S){var E=EJ(v);E&&(S=g[E])}if(S)return S(v,x,w)}return!1}}function ZJ(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Ws:PJ,areDatesEqual:IJ,areErrorsEqual:NJ,areFunctionsEqual:OJ,areMapsEqual:r?v1(_1,Ws):_1,areNumbersEqual:MJ,areObjectsEqual:r?Ws:RJ,arePrimitiveWrappersEqual:$J,areRegExpsEqual:jJ,areSetsEqual:r?v1(S1,Ws):S1,areTypedArraysEqual:r?Ws:DJ,areUrlsEqual:LJ,unknownTagComparators:void 0};if(n&&(i=T1({},i,n(i))),e){var o=xc(i.areArraysEqual),a=xc(i.areMapsEqual),s=xc(i.areObjectsEqual),l=xc(i.areSetsEqual);i=T1({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function eY(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function tY(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),d=c.cache,h=d===void 0?e?new WeakMap:void 0:d,g=c.meta;return n(l,u,{cache:h,equals:i,meta:g,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var nY=Ri();Ri({strict:!0});Ri({circular:!0});Ri({circular:!0,strict:!0});Ri({createInternalComparator:function(){return Mo}});Ri({strict:!0,createInternalComparator:function(){return Mo}});Ri({circular:!0,createInternalComparator:function(){return Mo}});Ri({circular:!0,createInternalComparator:function(){return Mo},strict:!0});function Ri(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=ZJ(t),l=QJ(s),u=r?r(l):eY(l);return tY({circular:n,comparator:l,createState:i,equals:u,strict:a})}function rY(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function A1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):rY(i)};requestAnimationFrame(r)}function Xg(t){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(t)}function iY(t){return lY(t)||sY(t)||aY(t)||oY()}function oY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aY(t,e){if(t){if(typeof t=="string")return C1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C1(t,e)}}function C1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lY(t){if(Array.isArray(t))return t}function uY(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=iY(a),l=s[0],u=s.slice(1);if(typeof l=="number"){A1(i.bind(null,u),l);return}i(l),A1(i.bind(null,u));return}Xg(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function k1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k1(Object(n),!0).forEach(function(r){Y2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y2(t,e,n){return e=cY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cY(t){var e=dY(t,"string");return uu(e)==="symbol"?e:String(e)}function dY(t,e){if(uu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fY=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},hY=function(e){return e},pY=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},yl=function(e,n){return Object.keys(n).reduce(function(r,i){return P1(P1({},r),{},Y2({},i,e(i,n[i])))},{})},I1=function(e,n,r){return e.map(function(i){return"".concat(pY(i)," ").concat(n,"ms ").concat(r)}).join(",")};function mY(t,e){return vY(t)||yY(t,e)||X2(t,e)||gY()}function gY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function vY(t){if(Array.isArray(t))return t}function wY(t){return _Y(t)||xY(t)||X2(t)||bY()}function bY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X2(t,e){if(t){if(typeof t=="string")return Qg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qg(t,e)}}function xY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Y(t){if(Array.isArray(t))return Qg(t)}function Qg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xd=1e-4,Q2=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Z2=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},N1=function(e,n){return function(r){var i=Q2(e,n);return Z2(i,r)}},SY=function(e,n){return function(r){var i=Q2(e,n),o=[].concat(wY(i.map(function(a,s){return a*s}).slice(1)),[0]);return Z2(o,r)}},O1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=mY(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var d=N1(i,a),h=N1(o,s),g=SY(i,a),y=function(w){return w>1?1:w<0?0:w},v=function(w){for(var b=w>1?1:w,_=b,T=0;T<8;++T){var S=d(_)-b,E=g(_);if(Math.abs(S-b)<Xd||E<Xd)return h(_);_=y(_-S/E)}return h(_)};return v.isStepper=!1,v},EY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,d,h){var g=-(c-d)*r,y=h*o,v=h+(g-y)*s/1e3,x=h*s/1e3+c;return Math.abs(x-d)<Xd&&Math.abs(v)<Xd?[d,0]:[x,v]};return l.isStepper=!0,l.dt=s,l},TY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return O1(i);case"spring":return EY();default:if(i.split("(")[0]==="cubic-bezier")return O1(i)}return typeof i=="function"?i:null};function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function M1(t){return kY(t)||CY(t)||eI(t)||AY()}function AY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kY(t){if(Array.isArray(t))return ey(t)}function R1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R1(Object(n),!0).forEach(function(r){Zg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zg(t,e,n){return e=PY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PY(t){var e=IY(t,"string");return cu(e)==="symbol"?e:String(e)}function IY(t,e){if(cu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NY(t,e){return RY(t)||MY(t,e)||eI(t,e)||OY()}function OY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eI(t,e){if(t){if(typeof t=="string")return ey(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ey(t,e)}}function ey(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function RY(t){if(Array.isArray(t))return t}var Qd=function(e,n,r){return e+(n-e)*r},ty=function(e){var n=e.from,r=e.to;return n!==r},$Y=function t(e,n,r){var i=yl(function(o,a){if(ty(a)){var s=e(a.from,a.to,a.velocity),l=NY(s,2),u=l[0],c=l[1];return Ut(Ut({},a),{},{from:u,velocity:c})}return a},n);return r<1?yl(function(o,a){return ty(a)?Ut(Ut({},a),{},{velocity:Qd(a.velocity,i[o].velocity,r),from:Qd(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const jY=function(t,e,n,r,i){var o=fY(t,e),a=o.reduce(function(x,w){return Ut(Ut({},x),{},Zg({},w,[t[w],e[w]]))},{}),s=o.reduce(function(x,w){return Ut(Ut({},x),{},Zg({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return yl(function(w,b){return b.from},s)},g=function(){return!Object.values(s).filter(ty).length},y=function(w){u||(u=w);var b=w-u,_=b/n.dt;s=$Y(n,s,_),i(Ut(Ut(Ut({},t),e),h())),u=w,g()||(l=requestAnimationFrame(d))},v=function(w){c||(c=w);var b=(w-c)/r,_=yl(function(S,E){return Qd.apply(void 0,M1(E).concat([n(b)]))},a);if(i(Ut(Ut(Ut({},t),e),_)),b<1)l=requestAnimationFrame(d);else{var T=yl(function(S,E){return Qd.apply(void 0,M1(E).concat([n(1)]))},a);i(Ut(Ut(Ut({},t),e),T))}};return d=n.isStepper?y:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Va(t){"@babel/helpers - typeof";return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(t)}var DY=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function LY(t,e){if(t==null)return{};var n=UY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Jp(t){return zY(t)||VY(t)||FY(t)||BY()}function BY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FY(t,e){if(t){if(typeof t=="string")return ny(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ny(t,e)}}function VY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zY(t){if(Array.isArray(t))return ny(t)}function ny(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$1(Object(n),!0).forEach(function(r){rl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rl(t,e,n){return e=tI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tI(r.key),r)}}function HY(t,e,n){return e&&GY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tI(t){var e=WY(t,"string");return Va(e)==="symbol"?e:String(e)}function WY(t,e){if(Va(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Va(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ry(t,e)}function ry(t,e){return ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ry(t,e)}function JY(t){var e=YY();return function(){var r=Zd(t),i;if(e){var o=Zd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return iy(this,i)}}function iy(t,e){if(e&&(Va(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oy(t)}function oy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(t)}var _r=function(t){KY(n,t);var e=JY(n);function n(r,i){var o;qY(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,d=a.steps,h=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(oy(o)),o.changeStyle=o.changeStyle.bind(oy(o)),!s||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),iy(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},iy(o);o.state={style:l?rl({},l,u):u}}else o.state={style:{}};return o}return HY(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(s){if(!a){var g={style:l?rl({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(g);return}if(!(nY(i.to,c)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=y||u?d:i.to;if(this.state&&h){var x={style:l?rl({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(x)}this.runAnimation(Yn(Yn({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,g=jY(a,s,TY(u),l,this.changeStyle),y=function(){o.stopJSAnimation=g()};this.manager.start([h,c,y,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,d=u.duration,h=d===void 0?0:d,g=function(v,x,w){if(w===0)return v;var b=x.duration,_=x.easing,T=_===void 0?"ease":_,S=x.style,E=x.properties,A=x.onAnimationEnd,C=w>0?a[w-1]:x,k=E||Object.keys(S);if(typeof T=="function"||T==="spring")return[].concat(Jp(v),[o.runJSAnimation.bind(o,{from:C.style,to:S,duration:b,easing:T}),b]);var N=I1(k,b,T),O=Yn(Yn(Yn({},C.style),S),{},{transition:N});return[].concat(Jp(v),[O,b,A]).filter(hY)};return this.manager.start([l].concat(Jp(a.reduce(g,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=uY());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,g=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=s?rl({},s,l):l,x=I1(Object.keys(v),a,u);y.start([c,o,Yn(Yn({},v),{},{transition:x}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=LY(i,DY),u=P.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var d=function(g){var y=g.props,v=y.style,x=v===void 0?{}:v,w=y.className,b=P.cloneElement(g,Yn(Yn({},l),{},{style:Yn(Yn({},x),c),className:w}));return b};return u===1?d(P.Children.only(o)):I.createElement("div",null,P.Children.map(o,function(h){return d(h)}))}}]),n}(P.PureComponent);_r.displayName="Animate";_r.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_r.propTypes={from:Be.oneOfType([Be.object,Be.string]),to:Be.oneOfType([Be.object,Be.string]),attributeName:Be.string,duration:Be.number,begin:Be.number,easing:Be.oneOfType([Be.string,Be.func]),steps:Be.arrayOf(Be.shape({duration:Be.number.isRequired,style:Be.object.isRequired,easing:Be.oneOfType([Be.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Be.func]),properties:Be.arrayOf("string"),onAnimationEnd:Be.func})),children:Be.oneOfType([Be.node,Be.func]),isActive:Be.bool,canBegin:Be.bool,onAnimationEnd:Be.func,shouldReAnimate:Be.bool,onAnimationStart:Be.func,onAnimationReStart:Be.func};function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function ef(){return ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ef.apply(this,arguments)}function XY(t,e){return tX(t)||eX(t,e)||ZY(t,e)||QY()}function QY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZY(t,e){if(t){if(typeof t=="string")return j1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j1(t,e)}}function j1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function tX(t){if(Array.isArray(t))return t}function D1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D1(Object(n),!0).forEach(function(r){nX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nX(t,e,n){return e=rX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rX(t){var e=iX(t,"string");return du(e)=="symbol"?e:e+""}function iX(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var U1=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*d[1])),c+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*d[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var y=Math.min(a,o);c="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*y," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},oX=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),d=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},aX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},H0=function(e){var n=L1(L1({},aX),e),r=P.useRef(),i=P.useState(-1),o=XY(i,2),a=o[0],s=o[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,g=n.className,y=n.animationEasing,v=n.animationDuration,x=n.animationBegin,w=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var _=Ee("recharts-rectangle",g);return b?I.createElement(_r,{canBegin:a>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:v,animationEasing:y,isActive:b},function(T){var S=T.width,E=T.height,A=T.x,C=T.y;return I.createElement(_r,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:w,easing:y},I.createElement("path",ef({},me(n,!0),{className:_,d:U1(A,C,S,E,h),ref:r})))}):I.createElement("path",ef({},me(n,!0),{className:_,d:U1(l,u,c,d,h)}))},sX=["points","className","baseLinePoints","connectNulls"];function la(){return la=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},la.apply(this,arguments)}function lX(t,e){if(t==null)return{};var n=uX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function B1(t){return hX(t)||fX(t)||dX(t)||cX()}function cX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dX(t,e){if(t){if(typeof t=="string")return ay(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ay(t,e)}}function fX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hX(t){if(Array.isArray(t))return ay(t)}function ay(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var F1=function(e){return e&&e.x===+e.x&&e.y===+e.y},pX=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){F1(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),F1(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},vl=function(e,n){var r=pX(e);n&&(r=[r.reduce(function(o,a){return[].concat(B1(o),B1(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},mX=function(e,n,r){var i=vl(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(vl(n.reverse(),r).slice(1))},gX=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=lX(e,sX);if(!n||!n.length)return null;var s=Ee("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=mX(n,i,o);return I.createElement("g",{className:s},I.createElement("path",la({},me(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?I.createElement("path",la({},me(a,!0),{fill:"none",d:vl(n,o)})):null,l?I.createElement("path",la({},me(a,!0),{fill:"none",d:vl(i,o)})):null)}var c=vl(n,o);return I.createElement("path",la({},me(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function sy(){return sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sy.apply(this,arguments)}var Ah=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Ee("recharts-dot",o);return n===+n&&r===+r&&i===+i?P.createElement("circle",sy({},me(e,!1),bd(e),{className:a,cx:n,cy:r,r:i})):null};function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}var yX=["x","y","top","left","width","height","className"];function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(this,arguments)}function V1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V1(Object(n),!0).forEach(function(r){wX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wX(t,e,n){return e=bX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bX(t){var e=xX(t,"string");return fu(e)=="symbol"?e:e+""}function xX(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _X(t,e){if(t==null)return{};var n=SX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var EX=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},TX=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,g=h===void 0?0:h,y=e.className,v=_X(e,yX),x=vX({x:r,y:o,top:s,left:u,width:d,height:g},v);return!X(r)||!X(o)||!X(d)||!X(g)||!X(s)||!X(u)?null:I.createElement("path",ly({},me(x,!0),{className:Ee("recharts-cross",y),d:EX(r,o,d,g,s,u)}))},AX=xh,CX=h2,kX=Er;function PX(t,e){return t&&t.length?AX(t,kX(e),CX):void 0}var IX=PX;const NX=Ve(IX);var OX=xh,MX=Er,RX=p2;function $X(t,e){return t&&t.length?OX(t,MX(e),RX):void 0}var jX=$X;const DX=Ve(jX);var LX=["cx","cy","angle","ticks","axisLine"],UX=["ticks","tick","angle","tickFormatter","stroke"];function za(t){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(t)}function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}function z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z1(Object(n),!0).forEach(function(r){Ch(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q1(t,e){if(t==null)return{};var n=BX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rI(r.key),r)}}function VX(t,e,n){return e&&G1(t.prototype,e),n&&G1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zX(t,e,n){return e=tf(e),qX(t,nI()?Reflect.construct(e,n||[],tf(t).constructor):e.apply(t,n))}function qX(t,e){if(e&&(za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GX(t)}function GX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nI=function(){return!!t})()}function tf(t){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tf(t)}function HX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uy(t,e)}function uy(t,e){return uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uy(t,e)}function Ch(t,e,n){return e=rI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rI(t){var e=WX(t,"string");return za(e)=="symbol"?e:e+""}function WX(t,e){if(za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kh=function(t){function e(){return FX(this,e),zX(this,e,arguments)}return HX(e,t),VX(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Qe(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=NX(s,function(c){return c.coordinate||0}),u=DX(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=q1(r,LX),c=s.reduce(function(y,v){return[Math.min(y[0],v.coordinate),Math.max(y[1],v.coordinate)]},[1/0,-1/0]),d=Qe(i,o,c[0],a),h=Qe(i,o,c[1],a),g=Fi(Fi(Fi({},me(u,!1)),{},{fill:"none"},me(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return I.createElement("line",wl({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=q1(i,UX),d=this.getTickTextAnchor(),h=me(c,!1),g=me(a,!1),y=o.map(function(v,x){var w=r.getTickValueCoord(v),b=Fi(Fi(Fi(Fi({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},g),{},{index:x},w),{},{payload:v});return I.createElement(Re,wl({className:Ee("recharts-polar-radius-axis-tick",V2(a)),key:"tick-".concat(v.coordinate)},xo(r.props,v,x)),e.renderTickItem(a,b,l?l(v.value,x):v.value))});return I.createElement(Re,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:I.createElement(Re,{className:Ee("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),Mt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):be(r)?a=r(i):a=I.createElement(_o,wl({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(P.PureComponent);Ch(kh,"displayName","PolarRadiusAxis");Ch(kh,"axisType","radiusAxis");Ch(kh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}function Xi(){return Xi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xi.apply(this,arguments)}function H1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H1(Object(n),!0).forEach(function(r){Ph(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oI(r.key),r)}}function JX(t,e,n){return e&&W1(t.prototype,e),n&&W1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YX(t,e,n){return e=nf(e),XX(t,iI()?Reflect.construct(e,n||[],nf(t).constructor):e.apply(t,n))}function XX(t,e){if(e&&(qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QX(t)}function QX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iI=function(){return!!t})()}function nf(t){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nf(t)}function ZX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cy(t,e)}function cy(t,e){return cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cy(t,e)}function Ph(t,e,n){return e=oI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oI(t){var e=eQ(t,"string");return qa(e)=="symbol"?e:e+""}function eQ(t,e){if(qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tQ=Math.PI/180,K1=1e-5,Ih=function(t){function e(){return KX(this,e),YX(this,e,arguments)}return ZX(e,t),JX(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,d=Qe(o,a,s,r.coordinate),h=Qe(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*tQ),a;return o>K1?a=i==="outer"?"start":"end":o<-K1?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=Vi(Vi({},me(this.props,!1)),{},{fill:"none"},me(s,!1));if(l==="circle")return I.createElement(Ah,Xi({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,d=c.map(function(h){return Qe(i,o,a,h.coordinate)});return I.createElement(gX,Xi({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=me(this.props,!1),d=me(a,!1),h=Vi(Vi({},c),{},{fill:"none"},me(s,!1)),g=o.map(function(y,v){var x=r.getTickLineCoord(y),w=r.getTickTextAnchor(y),b=Vi(Vi(Vi({textAnchor:w},c),{},{stroke:"none",fill:u},d),{},{index:v,payload:y,x:x.x2,y:x.y2});return I.createElement(Re,Xi({className:Ee("recharts-polar-angle-axis-tick",V2(a)),key:"tick-".concat(y.coordinate)},xo(r.props,y,v)),s&&I.createElement("line",Xi({className:"recharts-polar-angle-axis-tick-line"},h,x)),a&&e.renderTickItem(a,b,l?l(y.value,v):y.value))});return I.createElement(Re,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:I.createElement(Re,{className:Ee("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):be(r)?a=r(i):a=I.createElement(_o,Xi({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(P.PureComponent);Ph(Ih,"displayName","PolarAngleAxis");Ph(Ih,"axisType","angleAxis");Ph(Ih,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var nQ=uP,rQ=nQ(Object.getPrototypeOf,Object),iQ=rQ,oQ=Kr,aQ=iQ,sQ=Jr,lQ="[object Object]",uQ=Function.prototype,cQ=Object.prototype,aI=uQ.toString,dQ=cQ.hasOwnProperty,fQ=aI.call(Object);function hQ(t){if(!sQ(t)||oQ(t)!=lQ)return!1;var e=aQ(t);if(e===null)return!0;var n=dQ.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&aI.call(n)==fQ}var pQ=hQ;const mQ=Ve(pQ);var gQ=Kr,yQ=Jr,vQ="[object Boolean]";function wQ(t){return t===!0||t===!1||yQ(t)&&gQ(t)==vQ}var bQ=wQ;const xQ=Ve(bQ);function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function rf(){return rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rf.apply(this,arguments)}function _Q(t,e){return AQ(t)||TQ(t,e)||EQ(t,e)||SQ()}function SQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EQ(t,e){if(t){if(typeof t=="string")return J1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J1(t,e)}}function J1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function AQ(t){if(Array.isArray(t))return t}function Y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y1(Object(n),!0).forEach(function(r){CQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CQ(t,e,n){return e=kQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kQ(t){var e=PQ(t,"string");return hu(e)=="symbol"?e:e+""}function PQ(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q1=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},IQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NQ=function(e){var n=X1(X1({},IQ),e),r=P.useRef(),i=P.useState(-1),o=_Q(i,2),a=o[0],s=o[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,g=n.className,y=n.animationEasing,v=n.animationDuration,x=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var b=Ee("recharts-trapezoid",g);return w?I.createElement(_r,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:v,animationEasing:y,isActive:w},function(_){var T=_.upperWidth,S=_.lowerWidth,E=_.height,A=_.x,C=_.y;return I.createElement(_r,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:y},I.createElement("path",rf({},me(n,!0),{className:b,d:Q1(A,C,T,S,E),ref:r})))}):I.createElement("g",null,I.createElement("path",rf({},me(n,!0),{className:b,d:Q1(l,u,c,d,h)})))},OQ=["option","shapeType","propTransformer","activeClassName","isActive"];function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function MQ(t,e){if(t==null)return{};var n=RQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function of(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z1(Object(n),!0).forEach(function(r){$Q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Q(t,e,n){return e=jQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jQ(t){var e=DQ(t,"string");return pu(e)=="symbol"?e:e+""}function DQ(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LQ(t,e){return of(of({},e),t)}function UQ(t,e){return t==="symbols"}function eS(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return I.createElement(H0,n);case"trapezoid":return I.createElement(NQ,n);case"sector":return I.createElement(G2,n);case"symbols":if(UQ(e))return I.createElement(c0,n);break;default:return null}}function BQ(t){return P.isValidElement(t)?t.props:t}function sI(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?LQ:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=MQ(t,OQ),u;if(P.isValidElement(e))u=P.cloneElement(e,of(of({},l),BQ(e)));else if(be(e))u=e(l);else if(mQ(e)&&!xQ(e)){var c=i(e,l);u=I.createElement(eS,{shapeType:n,elementProps:c})}else{var d=l;u=I.createElement(eS,{shapeType:n,elementProps:d})}return s?I.createElement(Re,{className:a},u):u}function Nh(t,e){return e!=null&&"trapezoids"in t.props}function Oh(t,e){return e!=null&&"sectors"in t.props}function mu(t,e){return e!=null&&"points"in t.props}function FQ(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function VQ(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function zQ(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function qQ(t,e){var n;return Nh(t,e)?n=FQ:Oh(t,e)?n=VQ:mu(t,e)&&(n=zQ),n}function GQ(t,e){var n;return Nh(t,e)?n="trapezoids":Oh(t,e)?n="sectors":mu(t,e)&&(n="points"),n}function HQ(t,e){if(Nh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Oh(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return mu(t,e)?e.payload:{}}function WQ(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=GQ(n,e),o=HQ(n,e),a=r.filter(function(l,u){var c=Du(o,l),d=n.props[i].filter(function(y){var v=qQ(n,e);return v(y,e)}),h=n.props[i].indexOf(d[d.length-1]),g=u===h;return c&&g}),s=r.indexOf(a[a.length-1]);return s}var Gc;function Ga(t){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ga(t)}function ua(){return ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ua.apply(this,arguments)}function tS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(n),!0).forEach(function(r){Ln(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uI(r.key),r)}}function JQ(t,e,n){return e&&nS(t.prototype,e),n&&nS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YQ(t,e,n){return e=af(e),XQ(t,lI()?Reflect.construct(e,n||[],af(t).constructor):e.apply(t,n))}function XQ(t,e){if(e&&(Ga(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QQ(t)}function QQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lI=function(){return!!t})()}function af(t){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},af(t)}function ZQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dy(t,e)}function dy(t,e){return dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dy(t,e)}function Ln(t,e,n){return e=uI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uI(t){var e=eZ(t,"string");return Ga(e)=="symbol"?e:e+""}function eZ(t,e){if(Ga(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xr=function(t){function e(n){var r;return KQ(this,e),r=YQ(this,e,[n]),Ln(r,"pieRef",null),Ln(r,"sectorRefs",[]),Ln(r,"id",hs("recharts-pie-")),Ln(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),be(i)&&i()}),Ln(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),be(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return ZQ(e,t),JQ(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=me(this.props,!1),d=me(a,!1),h=me(s,!1),g=a&&a.offsetRadius||20,y=r.map(function(v,x){var w=(v.startAngle+v.endAngle)/2,b=Qe(v.cx,v.cy,v.outerRadius+g,w),_=Je(Je(Je(Je({},c),v),{},{stroke:"none"},d),{},{index:x,textAnchor:e.getTextAnchor(b.x,v.cx)},b),T=Je(Je(Je(Je({},c),v),{},{fill:"none",stroke:v.fill},h),{},{index:x,points:[Qe(v.cx,v.cy,v.outerRadius,w),b]}),S=l;return _e(l)&&_e(u)?S="value":_e(l)&&(S=u),I.createElement(Re,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(x)},s&&e.renderLabelLineItem(s,T,"line"),e.renderLabelItem(a,_,At(v,S)))});return I.createElement(Re,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,g=d?a:h,y=Je(Je({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return I.createElement(Re,ua({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},xo(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),I.createElement(sI,ua({option:g,isActive:d,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state,h=d.prevSectors,g=d.prevIsAnimationActive;return I.createElement(_r,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var v=y.t,x=[],w=o&&o[0],b=w.startAngle;return o.forEach(function(_,T){var S=h&&h[T],E=T>0?Tn(_,"paddingAngle",0):0;if(S){var A=wn(S.endAngle-S.startAngle,_.endAngle-_.startAngle),C=Je(Je({},_),{},{startAngle:b+E,endAngle:b+A(v)+E});x.push(C),b=C.endAngle}else{var k=_.endAngle,N=_.startAngle,O=wn(0,k-N),M=O(v),D=Je(Je({},_),{},{startAngle:b+E,endAngle:b+M+E});x.push(D),b=D.endAngle}}),I.createElement(Re,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Du(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,d=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,y=this.state.isAnimationFinished;if(o||!a||!a.length||!X(u)||!X(c)||!X(d)||!X(h))return null;var v=Ee("recharts-pie",s);return I.createElement(Re,{tabIndex:this.props.rootTabIndex,className:v,ref:function(w){r.pieRef=w}},this.renderSectors(),l&&this.renderLabels(a),Mt.renderCallByParent(this.props,null,!1),(!g||y)&&Lr.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);if(be(r))return r(i);var a=Ee("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return I.createElement(Yd,ua({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);var a=o;if(be(r)&&(a=r(i),I.isValidElement(a)))return a;var s=Ee("recharts-pie-label-text",typeof r!="boolean"&&!be(r)?r.className:"");return I.createElement(_o,ua({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(P.PureComponent);Gc=Xr;Ln(Xr,"displayName","Pie");Ln(Xr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Io.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ln(Xr,"parseDeltaAngle",function(t,e){var n=Zt(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Ln(Xr,"getRealPieData",function(t){var e=t.data,n=t.children,r=me(t,!1),i=An(n,ph);return e&&e.length?e.map(function(o,a){return Je(Je(Je({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Je(Je({},r),o.props)}):[]});Ln(Xr,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=F2(i,o),s=r+en(t.cx,i,i/2),l=n+en(t.cy,o,o/2),u=en(t.innerRadius,a,0),c=en(t.outerRadius,a,a*.8),d=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:d}});Ln(Xr,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Je(Je({},e.type.defaultProps),e.props):e.props,i=Gc.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,d=r.valueKey,h=r.tooltipType,g=Math.abs(r.minAngle),y=Gc.parseCoordinateOfPie(r,n),v=Gc.parseDeltaAngle(a,s),x=Math.abs(v),w=u;_e(u)&&_e(d)?(sr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):_e(u)&&(sr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=d);var b=i.filter(function(C){return At(C,w,0)!==0}).length,_=(x>=360?b:b-1)*l,T=x-b*g-_,S=i.reduce(function(C,k){var N=At(k,w,0);return C+(X(N)?N:0)},0),E;if(S>0){var A;E=i.map(function(C,k){var N=At(C,w,0),O=At(C,c,k),M=(X(N)?N:0)/S,D;k?D=A.endAngle+Zt(v)*l*(N!==0?1:0):D=a;var B=D+Zt(v)*((N!==0?g:0)+M*T),j=(D+B)/2,R=(y.innerRadius+y.outerRadius)/2,L=[{name:O,value:N,payload:C,dataKey:w,type:h}],$=Qe(y.cx,y.cy,R,j);return A=Je(Je(Je({percent:M,cornerRadius:o,name:O,tooltipPayload:L,midAngle:j,middleRadius:R,tooltipPosition:$},C),y),{},{value:At(C,w),startAngle:D,endAngle:B,payload:C,paddingAngle:Zt(v)*l}),A})}return Je(Je({},y),{},{sectors:E,data:i})});var tZ=Math.ceil,nZ=Math.max;function rZ(t,e,n,r){for(var i=-1,o=nZ(tZ((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var iZ=rZ,oZ=kP,rS=1/0,aZ=17976931348623157e292;function sZ(t){if(!t)return t===0?t:0;if(t=oZ(t),t===rS||t===-rS){var e=t<0?-1:1;return e*aZ}return t===t?t:0}var cI=sZ,lZ=iZ,uZ=hh,Yp=cI;function cZ(t){return function(e,n,r){return r&&typeof r!="number"&&uZ(e,n,r)&&(n=r=void 0),e=Yp(e),n===void 0?(n=e,e=0):n=Yp(n),r=r===void 0?e<n?1:-1:Yp(r),lZ(e,n,r,t)}}var dZ=cZ,fZ=dZ,hZ=fZ(),pZ=hZ;const sf=Ve(pZ);function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function iS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iS(Object(n),!0).forEach(function(r){dI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dI(t,e,n){return e=mZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mZ(t){var e=gZ(t,"string");return gu(e)=="symbol"?e:e+""}function gZ(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yZ=["Webkit","Moz","O","ms"],vZ=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=yZ.reduce(function(o,a){return oS(oS({},o),{},dI({},a+r,n))},{});return i[e]=n,i};function Ha(t){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(t)}function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}function aS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(n),!0).forEach(function(r){gn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hI(r.key),r)}}function bZ(t,e,n){return e&&sS(t.prototype,e),n&&sS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xZ(t,e,n){return e=uf(e),_Z(t,fI()?Reflect.construct(e,n||[],uf(t).constructor):e.apply(t,n))}function _Z(t,e){if(e&&(Ha(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SZ(t)}function SZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fI=function(){return!!t})()}function uf(t){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uf(t)}function EZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fy(t,e)}function fy(t,e){return fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fy(t,e)}function gn(t,e,n){return e=hI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hI(t){var e=TZ(t,"string");return Ha(e)=="symbol"?e:e+""}function TZ(t,e){if(Ha(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ha(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AZ=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=ml().domain(sf(0,l)).range([o,o+a-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},lS=function(e){return e.changedTouches&&!!e.changedTouches.length},Wa=function(t){function e(n){var r;return wZ(this,e),r=xZ(this,e,[n]),gn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),gn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),gn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),gn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),gn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),gn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),gn(r,"handleSlideDragStart",function(i){var o=lS(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return EZ(e,t),bZ(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(a,d),y=e.getIndexInRange(a,h);return{startIndex:g-g%l,endIndex:y===c?c:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=At(o[r],s,r);return be(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,g=l.endIndex,y=l.onChange,v=r.pageX-o;v>0?v=Math.min(v,u+c-d-s,u+c-d-a):v<0&&(v=Math.max(v,u-a,u-s));var x=this.getIndex({startX:a+v,endX:s+v});(x.startIndex!==h||x.endIndex!==g)&&y&&y(x),this.setState({startX:a+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=lS(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,d=c.x,h=c.width,g=c.travellerWidth,y=c.onChange,v=c.gap,x=c.data,w={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,d+h-g-u):b<0&&(b=Math.max(b,d-u)),w[a]=u+b;var _=this.getIndex(w),T=_.startIndex,S=_.endIndex,E=function(){var C=x.length-1;return a==="startX"&&(s>l?T%v===0:S%v===0)||s<l&&S===C||a==="endX"&&(s>l?S%v===0:T%v===0)||s>l&&S===C};this.setState(gn(gn({},a,u+b),"brushMoveStartX",r.pageX),function(){y&&E()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(gn({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return I.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=P.Children.only(u);return d?I.cloneElement(d,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,g=l.ariaLabel,y=l.data,v=l.startIndex,x=l.endIndex,w=Math.max(r,this.props.x),b=Xp(Xp({},me(this.props,!1)),{},{x:w,y:u,width:c,height:d}),_=g||"Min value: ".concat((o=y[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=y[x])===null||a===void 0?void 0:a.name);return I.createElement(Re,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,g=5,y={pointerEvents:"none",fill:u};return I.createElement(Re,{className:"recharts-brush-texts"},I.createElement(_o,lf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-g,y:a+s/2},y),this.getTextOfTick(i)),I.createElement(_o,lf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+g,y:a+s/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,g=h.startX,y=h.endX,v=h.isTextActive,x=h.isSlideMoving,w=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!X(s)||!X(l)||!X(u)||!X(c)||u<=0||c<=0)return null;var _=Ee("recharts-brush",o),T=I.Children.count(a)===1,S=vZ("userSelect","none");return I.createElement(Re,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(g,y),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(y,"endX"),(v||x||w||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return I.isValidElement(r)?o=I.cloneElement(r,i):be(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Xp({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?AZ({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(P.PureComponent);gn(Wa,"displayName","Brush");gn(Wa,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var CZ=y0;function kZ(t,e){var n;return CZ(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var PZ=kZ,IZ=tP,NZ=Er,OZ=PZ,MZ=fn,RZ=hh;function $Z(t,e,n){var r=MZ(t)?IZ:OZ;return n&&RZ(t,e,n)&&(e=void 0),r(t,NZ(e))}var jZ=$Z;const DZ=Ve(jZ);var br=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},uS=SP;function LZ(t,e,n){e=="__proto__"&&uS?uS(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var UZ=LZ,BZ=UZ,FZ=xP,VZ=Er;function zZ(t,e){var n={};return e=VZ(e),FZ(t,function(r,i,o){BZ(n,i,e(r,i,o))}),n}var qZ=zZ;const GZ=Ve(qZ);function HZ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var WZ=HZ,KZ=y0;function JZ(t,e){var n=!0;return KZ(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var YZ=JZ,XZ=WZ,QZ=YZ,ZZ=Er,eee=fn,tee=hh;function nee(t,e,n){var r=eee(t)?XZ:QZ;return n&&tee(t,e,n)&&(e=void 0),r(t,ZZ(e))}var ree=nee;const pI=Ve(ree);var iee=["x","y"];function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function hy(){return hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hy.apply(this,arguments)}function cS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ks(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cS(Object(n),!0).forEach(function(r){oee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oee(t,e,n){return e=aee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aee(t){var e=see(t,"string");return yu(e)=="symbol"?e:e+""}function see(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lee(t,e){if(t==null)return{};var n=uee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cee(t,e){var n=t.x,r=t.y,i=lee(t,iee),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Ks(Ks(Ks(Ks(Ks({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function dS(t){return I.createElement(sI,hy({shapeType:"rectangle",propTransformer:cee,activeClassName:"recharts-active-bar"},t))}var dee=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=X(r)||$L(r);return o?e(r,i):(o||Eo(),n)}},fee=["value","background"],mI;function Ka(t){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka(t)}function hee(t,e){if(t==null)return{};var n=pee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cf.apply(this,arguments)}function fS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(n),!0).forEach(function(r){pi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yI(r.key),r)}}function gee(t,e,n){return e&&hS(t.prototype,e),n&&hS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yee(t,e,n){return e=df(e),vee(t,gI()?Reflect.construct(e,n||[],df(t).constructor):e.apply(t,n))}function vee(t,e){if(e&&(Ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wee(t)}function wee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gI=function(){return!!t})()}function df(t){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},df(t)}function bee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&py(t,e)}function py(t,e){return py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},py(t,e)}function pi(t,e,n){return e=yI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yI(t){var e=xee(t,"string");return Ka(e)=="symbol"?e:e+""}function xee(t,e){if(Ka(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ka(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ro=function(t){function e(){var n;mee(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=yee(this,e,[].concat(i)),pi(n,"state",{isAnimationFinished:!1}),pi(n,"id",hs("recharts-bar-")),pi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),pi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return bee(e,t),gee(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=me(this.props,!1);return r&&r.map(function(d,h){var g=h===l,y=g?u:a,v=vt(vt(vt({},c),d),{},{isActive:g,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(Re,cf({className:"recharts-bar-rectangle"},xo(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),I.createElement(dS,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return I.createElement(_r,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,v=o.map(function(x,w){var b=h&&h[w];if(b){var _=wn(b.x,x.x),T=wn(b.y,x.y),S=wn(b.width,x.width),E=wn(b.height,x.height);return vt(vt({},x),{},{x:_(y),y:T(y),width:S(y),height:E(y)})}if(a==="horizontal"){var A=wn(0,x.height),C=A(y);return vt(vt({},x),{},{y:x.y+x.height-C,height:C})}var k=wn(0,x.width),N=k(y);return vt(vt({},x),{},{width:N})});return I.createElement(Re,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Du(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=me(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=hee(u,fee);if(!d)return null;var g=vt(vt(vt(vt(vt({},h),{},{fill:"#eee"},d),l),xo(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return I.createElement(dS,cf({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=An(c,Lu);if(!d)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,g=function(x,w){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:At(x,w)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return I.createElement(Re,y,d.map(function(v){return I.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,g=r.isAnimationActive,y=r.background,v=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,w=Ee("recharts-bar",a),b=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,T=b||_,S=_e(v)?this.id:v;return I.createElement(Re,{className:w},b||_?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(S)},I.createElement("rect",{x:b?u:u-d/2,y:_?c:c-h/2,width:b?d:d*2,height:_?h:h*2}))):null,I.createElement(Re,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,S),(!g||x)&&Lr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(P.PureComponent);mI=Ro;pi(Ro,"displayName","Bar");pi(Ro,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Io.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});pi(Ro,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,g=eK(r,n);if(!g)return null;var y=e.layout,v=n.type.defaultProps,x=v!==void 0?vt(vt({},v),n.props):n.props,w=x.dataKey,b=x.children,_=x.minPointSize,T=y==="horizontal"?a:o,S=u?T.scale.domain():null,E=sK({numericAxis:T}),A=An(b,ph),C=d.map(function(k,N){var O,M,D,B,j,R;u?O=tK(u[c+N],S):(O=At(k,w),Array.isArray(O)||(O=[E,O]));var L=dee(_,mI.defaultProps.minPointSize)(O[1],N);if(y==="horizontal"){var $,U=[a.scale(O[0]),a.scale(O[1])],z=U[0],J=U[1];M=n1({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:k,index:N}),D=($=J??z)!==null&&$!==void 0?$:void 0,B=g.size;var G=z-J;if(j=Number.isNaN(G)?0:G,R={x:M,y:a.y,width:B,height:a.height},Math.abs(L)>0&&Math.abs(j)<Math.abs(L)){var Q=Zt(j||L)*(Math.abs(L)-Math.abs(j));D-=Q,j+=Q}}else{var we=[o.scale(O[0]),o.scale(O[1])],xe=we[0],ke=we[1];if(M=xe,D=n1({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:k,index:N}),B=ke-xe,j=g.size,R={x:o.x,y:D,width:o.width,height:j},Math.abs(L)>0&&Math.abs(B)<Math.abs(L)){var lt=Zt(B||L)*(Math.abs(L)-Math.abs(B));B+=lt}}return vt(vt(vt({},k),{},{x:M,y:D,width:B,height:j,value:u?O:O[1],payload:k,background:R},A&&A[N]&&A[N].props),{},{tooltipPayload:[U2(n,k)],tooltipPosition:{x:M+B/2,y:D+j/2}})});return vt({data:C,layout:y},h)});function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function _ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vI(r.key),r)}}function See(t,e,n){return e&&pS(t.prototype,e),n&&pS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mS(Object(n),!0).forEach(function(r){Mh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mh(t,e,n){return e=vI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vI(t){var e=Eee(t,"string");return vu(e)=="symbol"?e:e+""}function Eee(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wI=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!vn(u,Ro);return c.reduce(function(g,y){var v=n[y],x=v.orientation,w=v.domain,b=v.padding,_=b===void 0?{}:b,T=v.mirror,S=v.reversed,E="".concat(x).concat(T?"Mirror":""),A,C,k,N,O;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var M=w[1]-w[0],D=1/0,B=v.categoricalDomain.sort(LL);if(B.forEach(function(we,xe){xe>0&&(D=Math.min((we||0)-(B[xe-1]||0),D))}),Number.isFinite(D)){var j=D/M,R=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(A=j*R/2),v.padding==="no-gap"){var L=en(e.barCategoryGap,j*R),$=j*R/2;A=$-L-($-L)/R*L}}}i==="xAxis"?C=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:C=v.range,S&&(C=[C[1],C[0]]);var U=$2(v,o,h),z=U.scale,J=U.realScaleType;z.domain(w).range(C),j2(z);var G=D2(z,tr(tr({},v),{},{realScaleType:J}));i==="xAxis"?(O=x==="top"&&!T||x==="bottom"&&T,k=r.left,N=d[E]-O*v.height):i==="yAxis"&&(O=x==="left"&&!T||x==="right"&&T,k=d[E]-O*v.width,N=r.top);var Q=tr(tr(tr({},v),G),{},{realScaleType:J,x:k,y:N,scale:z,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return Q.bandSize=Wd(Q,G),!v.hide&&i==="xAxis"?d[E]+=(O?-1:1)*Q.height:v.hide||(d[E]+=(O?-1:1)*Q.width),tr(tr({},g),{},Mh({},y,Q))},{})},bI=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Tee=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return bI({x:n,y:r},{x:i,y:o})},xI=function(){function t(e){_ee(this,t),this.scale=e}return See(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Mh(xI,"EPS",1e-4);var W0=function(e){var n=Object.keys(e).reduce(function(r,i){return tr(tr({},r),{},Mh({},i,xI.create(e[i])))},{});return tr(tr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return GZ(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return pI(i,function(o,a){return n[a].isInRange(o)})}})};function Aee(t){return(t%180+180)%180}var Cee=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Aee(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},kee=Er,Pee=Ou,Iee=dh;function Nee(t){return function(e,n,r){var i=Object(e);if(!Pee(e)){var o=kee(n);e=Iee(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Oee=Nee,Mee=cI;function Ree(t){var e=Mee(t),n=e%1;return e===e?n?e-n:e:0}var $ee=Ree,jee=mP,Dee=Er,Lee=$ee,Uee=Math.max;function Bee(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Lee(n);return i<0&&(i=Uee(r+i,0)),jee(t,Dee(e),i)}var Fee=Bee,Vee=Oee,zee=Fee,qee=Vee(zee),Gee=qee;const Hee=Ve(Gee);var Wee=FD(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),K0=P.createContext(void 0),J0=P.createContext(void 0),_I=P.createContext(void 0),SI=P.createContext({}),EI=P.createContext(void 0),TI=P.createContext(0),AI=P.createContext(0),gS=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Wee(o);return I.createElement(K0.Provider,{value:r},I.createElement(J0.Provider,{value:i},I.createElement(SI.Provider,{value:o},I.createElement(_I.Provider,{value:c},I.createElement(EI.Provider,{value:a},I.createElement(TI.Provider,{value:u},I.createElement(AI.Provider,{value:l},s)))))))},Kee=function(){return P.useContext(EI)},CI=function(e){var n=P.useContext(K0);n==null&&Eo();var r=n[e];return r==null&&Eo(),r},Jee=function(){var e=P.useContext(K0);return ci(e)},Yee=function(){var e=P.useContext(J0),n=Hee(e,function(r){return pI(r.domain,Number.isFinite)});return n||ci(e)},kI=function(e){var n=P.useContext(J0);n==null&&Eo();var r=n[e];return r==null&&Eo(),r},Xee=function(){var e=P.useContext(_I);return e},Qee=function(){return P.useContext(SI)},Y0=function(){return P.useContext(AI)},X0=function(){return P.useContext(TI)};function Ja(t){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}function Zee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ete(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,II(r.key),r)}}function tte(t,e,n){return e&&ete(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nte(t,e,n){return e=ff(e),rte(t,PI()?Reflect.construct(e,n||[],ff(t).constructor):e.apply(t,n))}function rte(t,e){if(e&&(Ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ite(t)}function ite(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PI=function(){return!!t})()}function ff(t){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ff(t)}function ote(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&my(t,e)}function my(t,e){return my=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},my(t,e)}function yS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yS(Object(n),!0).forEach(function(r){Q0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q0(t,e,n){return e=II(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function II(t){var e=ate(t,"string");return Ja(e)=="symbol"?e:e+""}function ate(t,e){if(Ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ste(t,e){return dte(t)||cte(t,e)||ute(t,e)||lte()}function lte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ute(t,e){if(t){if(typeof t=="string")return wS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wS(t,e)}}function wS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function dte(t){if(Array.isArray(t))return t}function gy(){return gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gy.apply(this,arguments)}var fte=function(e,n){var r;return I.isValidElement(e)?r=I.cloneElement(e,n):be(e)?r=e(n):r=I.createElement("line",gy({},n,{className:"recharts-reference-line-line"})),r},hte=function(e,n,r,i,o,a,s,l,u){var c=o.x,d=o.y,h=o.width,g=o.height;if(r){var y=u.y,v=e.y.apply(y,{position:a});if(br(u,"discard")&&!e.y.isInRange(v))return null;var x=[{x:c+h,y:v},{x:c,y:v}];return l==="left"?x.reverse():x}if(n){var w=u.x,b=e.x.apply(w,{position:a});if(br(u,"discard")&&!e.x.isInRange(b))return null;var _=[{x:b,y:d+g},{x:b,y:d}];return s==="top"?_.reverse():_}if(i){var T=u.segment,S=T.map(function(E){return e.apply(E,{position:a})});return br(u,"discard")&&DZ(S,function(E){return!e.isInRange(E)})?null:S}return null};function pte(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Kee(),c=CI(i),d=kI(o),h=Xee();if(!u||!h)return null;sr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=W0({x:c.scale,y:d.scale}),y=kt(e),v=kt(n),x=r&&r.length===2,w=hte(g,y,v,x,h,t.position,c.orientation,d.orientation,t);if(!w)return null;var b=ste(w,2),_=b[0],T=_.x,S=_.y,E=b[1],A=E.x,C=E.y,k=br(t,"hidden")?"url(#".concat(u,")"):void 0,N=vS(vS({clipPath:k},me(t,!0)),{},{x1:T,y1:S,x2:A,y2:C});return I.createElement(Re,{className:Ee("recharts-reference-line",s)},fte(a,N),Mt.renderCallByParent(t,Tee({x1:T,y1:S,x2:A,y2:C})))}var Z0=function(t){function e(){return Zee(this,e),nte(this,e,arguments)}return ote(e,t),tte(e,[{key:"render",value:function(){return I.createElement(pte,this.props)}}])}(I.Component);Q0(Z0,"displayName","ReferenceLine");Q0(Z0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(this,arguments)}function Ya(t){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(t)}function bS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bS(Object(n),!0).forEach(function(r){Rh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OI(r.key),r)}}function yte(t,e,n){return e&&gte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vte(t,e,n){return e=hf(e),wte(t,NI()?Reflect.construct(e,n||[],hf(t).constructor):e.apply(t,n))}function wte(t,e){if(e&&(Ya(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bte(t)}function bte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NI=function(){return!!t})()}function hf(t){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hf(t)}function xte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vy(t,e)}function vy(t,e){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vy(t,e)}function Rh(t,e,n){return e=OI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OI(t){var e=_te(t,"string");return Ya(e)=="symbol"?e:e+""}function _te(t,e){if(Ya(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ste=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=W0({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return br(e,"discard")&&!a.isInRange(s)?null:s},$h=function(t){function e(){return mte(this,e),vte(this,e,arguments)}return xte(e,t),yte(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=kt(i),c=kt(o);if(sr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=Ste(this.props);if(!d)return null;var h=d.x,g=d.y,y=this.props,v=y.shape,x=y.className,w=br(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=xS(xS({clipPath:w},me(this.props,!0)),{},{cx:h,cy:g});return I.createElement(Re,{className:Ee("recharts-reference-dot",x)},e.renderDot(v,b),Mt.renderCallByParent(this.props,{x:h-a,y:g-a,width:2*a,height:2*a}))}}])}(I.Component);Rh($h,"displayName","ReferenceDot");Rh($h,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Rh($h,"renderDot",function(t,e){var n;return I.isValidElement(t)?n=I.cloneElement(t,e):be(t)?n=t(e):n=I.createElement(Ah,yy({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function wy(){return wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wy.apply(this,arguments)}function Xa(t){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(t)}function _S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_S(Object(n),!0).forEach(function(r){jh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_S(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ete(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RI(r.key),r)}}function Ate(t,e,n){return e&&Tte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cte(t,e,n){return e=pf(e),kte(t,MI()?Reflect.construct(e,n||[],pf(t).constructor):e.apply(t,n))}function kte(t,e){if(e&&(Xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pte(t)}function Pte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MI=function(){return!!t})()}function pf(t){return pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pf(t)}function Ite(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&by(t,e)}function by(t,e){return by=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},by(t,e)}function jh(t,e,n){return e=RI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RI(t){var e=Nte(t,"string");return Xa(e)=="symbol"?e:e+""}function Nte(t,e){if(Xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ote=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=W0({x:c.scale,y:d.scale}),g={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return br(o,"discard")&&(!h.isInRange(g)||!h.isInRange(y))?null:bI(g,y)},Dh=function(t){function e(){return Ete(this,e),Cte(this,e,arguments)}return Ite(e,t),Ate(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;sr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=kt(i),h=kt(o),g=kt(a),y=kt(s),v=this.props.shape;if(!d&&!h&&!g&&!y&&!v)return null;var x=Ote(d,h,g,y,this.props);if(!x&&!v)return null;var w=br(this.props,"hidden")?"url(#".concat(c,")"):void 0;return I.createElement(Re,{className:Ee("recharts-reference-area",l)},e.renderRect(v,SS(SS({clipPath:w},me(this.props,!0)),x)),Mt.renderCallByParent(this.props,x))}}])}(I.Component);jh(Dh,"displayName","ReferenceArea");jh(Dh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});jh(Dh,"renderRect",function(t,e){var n;return I.isValidElement(t)?n=I.cloneElement(t,e):be(t)?n=t(e):n=I.createElement(H0,wy({},e,{className:"recharts-reference-area-rect"})),n});function $I(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Mte(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Cee(r,n)}function Rte(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function mf(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function $te(t,e){return $I(t,e+1)}function jte(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,d=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:$I(r,u)};var v=l,x,w=function(){return x===void 0&&(x=n(y,v)),x},b=y.coordinate,_=l===0||mf(t,b,w,c,s);_||(l=0,c=a,u+=1),_&&(c=b+t*(w()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function ES(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ES(Object(n),!0).forEach(function(r){Dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ES(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dte(t,e,n){return e=Lte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lte(t){var e=Ute(t,"string");return wu(e)=="symbol"?e:e+""}function Ute(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bte(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var g=o[h],y,v=function(){return y===void 0&&(y=n(g,h)),y};if(h===a-1){var x=t*(g.coordinate+t*v()/2-l);o[h]=g=Gt(Gt({},g),{},{tickCoord:x>0?g.coordinate-x*t:g.coordinate})}else o[h]=g=Gt(Gt({},g),{},{tickCoord:g.coordinate});var w=mf(t,g.tickCoord,v,s,l);w&&(l=g.tickCoord-t*(v()/2+i),o[h]=Gt(Gt({},g),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Fte(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],d=n(c,s-1),h=t*(c.coordinate+t*d/2-u);a[s-1]=c=Gt(Gt({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var g=mf(t,c.tickCoord,function(){return d},l,u);g&&(u=c.tickCoord-t*(d/2+i),a[s-1]=Gt(Gt({},c),{},{isShow:!0}))}for(var y=o?s-1:s,v=function(b){var _=a[b],T,S=function(){return T===void 0&&(T=n(_,b)),T};if(b===0){var E=t*(_.coordinate-t*S()/2-l);a[b]=_=Gt(Gt({},_),{},{tickCoord:E<0?_.coordinate-E*t:_.coordinate})}else a[b]=_=Gt(Gt({},_),{},{tickCoord:_.coordinate});var A=mf(t,_.tickCoord,S,l,u);A&&(l=_.tickCoord+t*(S()/2+i),a[b]=Gt(Gt({},_),{},{isShow:!0}))},x=0;x<y;x++)v(x);return a}function ew(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(X(l)||Io.isSsr)return $te(i,typeof l=="number"&&X(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",y=c&&g==="width"?pl(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(_,T){var S=be(u)?u(_.value,T):_.value;return g==="width"?Mte(pl(S,{fontSize:e,letterSpacing:n}),y,d):pl(S,{fontSize:e,letterSpacing:n})[g]},x=i.length>=2?Zt(i[1].coordinate-i[0].coordinate):1,w=Rte(o,x,g);return l==="equidistantPreserveStart"?jte(x,w,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Fte(x,w,v,i,a,l==="preserveStartEnd"):h=Bte(x,w,v,i,a),h.filter(function(b){return b.isShow}))}var Vte=["viewBox"],zte=["viewBox"],qte=["ticks"];function Qa(t){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(t)}function ca(){return ca=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ca.apply(this,arguments)}function TS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(n),!0).forEach(function(r){tw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qp(t,e){if(t==null)return{};var n=Gte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DI(r.key),r)}}function Wte(t,e,n){return e&&AS(t.prototype,e),n&&AS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kte(t,e,n){return e=gf(e),Jte(t,jI()?Reflect.construct(e,n||[],gf(t).constructor):e.apply(t,n))}function Jte(t,e){if(e&&(Qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yte(t)}function Yte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jI=function(){return!!t})()}function gf(t){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gf(t)}function Xte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xy(t,e)}function xy(t,e){return xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xy(t,e)}function tw(t,e,n){return e=DI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DI(t){var e=Qte(t,"string");return Qa(e)=="symbol"?e:e+""}function Qte(t,e){if(Qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bs=function(t){function e(n){var r;return Hte(this,e),r=Kte(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Xte(e,t),Wte(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Qp(r,Vte),s=this.props,l=s.viewBox,u=Qp(s,zte);return!wa(o,l)||!wa(a,u)||!wa(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,g,y,v,x,w,b,_=d?-1:1,T=r.tickSize||c,S=X(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=y=r.coordinate,x=a+ +!d*l,v=x-_*T,b=v-_*h,w=S;break;case"left":v=x=r.coordinate,y=o+ +!d*s,g=y-_*T,w=g-_*h,b=S;break;case"right":v=x=r.coordinate,y=o+ +d*s,g=y+_*T,w=g+_*h,b=S;break;default:g=y=r.coordinate,x=a+ +d*l,v=x+_*T,b=v+_*h,w=S;break}return{line:{x1:g,y1:v,x2:y,y2:x},tick:{x:w,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=_t(_t(_t({},me(this.props,!1)),me(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=_t(_t({},d),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var g=+(l==="left"&&!u||l==="right"&&u);d=_t(_t({},d),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return I.createElement("line",ca({},d,{className:Ee("recharts-cartesian-axis-line",Tn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,h=s.unit,g=ew(_t(_t({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=me(this.props,!1),w=me(c,!1),b=_t(_t({},x),{},{fill:"none"},me(l,!1)),_=g.map(function(T,S){var E=a.getTickLineCoord(T),A=E.line,C=E.tick,k=_t(_t(_t(_t({textAnchor:y,verticalAnchor:v},x),{},{stroke:"none",fill:u},w),C),{},{index:S,payload:T,visibleTicksCount:g.length,tickFormatter:d});return I.createElement(Re,ca({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},xo(a.props,T,S)),l&&I.createElement("line",ca({},b,A,{className:Ee("recharts-cartesian-axis-tick-line",Tn(l,"className"))})),c&&e.renderTickItem(c,k,"".concat(be(d)?d(T.value,S):T.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,g=Qp(d,qte),y=h;return be(l)&&(y=h&&h.length>0?l(this.props):l(g)),a<=0||s<=0||!y||!y.length?null:I.createElement(Re,{className:Ee("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Mt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Ee(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(r)?a=I.cloneElement(r,_t(_t({},i),{},{className:s})):be(r)?a=r(_t(_t({},i),{},{className:s})):a=I.createElement(_o,ca({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(P.Component);tw(bs,"displayName","CartesianAxis");tw(bs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Zte=["x1","y1","x2","y2","key"],ene=["offset"];function To(t){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(t)}function CS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CS(Object(n),!0).forEach(function(r){tne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tne(t,e,n){return e=nne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nne(t){var e=rne(t,"string");return To(e)=="symbol"?e:e+""}function rne(t,e){if(To(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(To(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lo(){return lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lo.apply(this,arguments)}function kS(t,e){if(t==null)return{};var n=ine(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ine(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var one=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return I.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function LI(t,e){var n;if(I.isValidElement(t))n=I.cloneElement(t,e);else if(be(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=kS(e,Zte),u=me(l,!1);u.offset;var c=kS(u,ene);n=I.createElement("line",lo({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function ane(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Wt(Wt({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return LI(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function sne(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Wt(Wt({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return LI(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function lne(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var y=!c[g+1],v=y?i+a-h:c[g+1]-h;if(v<=0)return null;var x=g%e.length;return I.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:v,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function une(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,g){return h-g});o!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var y=!c[g+1],v=y?o+s-h:c[g+1]-h;if(v<=0)return null;var x=g%r.length;return I.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:v,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var cne=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return R2(ew(Wt(Wt(Wt({},bs.defaultProps),r),{},{ticks:Rr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},dne=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return R2(ew(Wt(Wt(Wt({},bs.defaultProps),r),{},{ticks:Rr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Uo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function nw(t){var e,n,r,i,o,a,s=Y0(),l=X0(),u=Qee(),c=Wt(Wt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Uo.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Uo.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Uo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Uo.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Uo.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Uo.verticalFill,x:X(t.x)?t.x:u.left,y:X(t.y)?t.y:u.top,width:X(t.width)?t.width:u.width,height:X(t.height)?t.height:u.height}),d=c.x,h=c.y,g=c.width,y=c.height,v=c.syncWithTicks,x=c.horizontalValues,w=c.verticalValues,b=Jee(),_=Yee();if(!X(g)||g<=0||!X(y)||y<=0||!X(d)||d!==+d||!X(h)||h!==+h)return null;var T=c.verticalCoordinatesGenerator||cne,S=c.horizontalCoordinatesGenerator||dne,E=c.horizontalPoints,A=c.verticalPoints;if((!E||!E.length)&&be(S)){var C=x&&x.length,k=S({yAxis:_?Wt(Wt({},_),{},{ticks:C?x:_.ticks}):void 0,width:s,height:l,offset:u},C?!0:v);sr(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(To(k),"]")),Array.isArray(k)&&(E=k)}if((!A||!A.length)&&be(T)){var N=w&&w.length,O=T({xAxis:b?Wt(Wt({},b),{},{ticks:N?w:b.ticks}):void 0,width:s,height:l,offset:u},N?!0:v);sr(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(To(O),"]")),Array.isArray(O)&&(A=O)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(one,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),I.createElement(ane,lo({},c,{offset:u,horizontalPoints:E,xAxis:b,yAxis:_})),I.createElement(sne,lo({},c,{offset:u,verticalPoints:A,xAxis:b,yAxis:_})),I.createElement(lne,lo({},c,{horizontalPoints:E})),I.createElement(une,lo({},c,{verticalPoints:A})))}nw.displayName="CartesianGrid";var fne=["type","layout","connectNulls","ref"],hne=["key"];function Za(t){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(t)}function PS(t,e){if(t==null)return{};var n=pne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}function IS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IS(Object(n),!0).forEach(function(r){nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bo(t){return vne(t)||yne(t)||gne(t)||mne()}function mne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gne(t,e){if(t){if(typeof t=="string")return _y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _y(t,e)}}function yne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vne(t){if(Array.isArray(t))return _y(t)}function _y(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BI(r.key),r)}}function bne(t,e,n){return e&&NS(t.prototype,e),n&&NS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xne(t,e,n){return e=yf(e),_ne(t,UI()?Reflect.construct(e,n||[],yf(t).constructor):e.apply(t,n))}function _ne(t,e){if(e&&(Za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sne(t)}function Sne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UI=function(){return!!t})()}function yf(t){return yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yf(t)}function Ene(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sy(t,e)}function Sy(t,e){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sy(t,e)}function nr(t,e,n){return e=BI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BI(t){var e=Tne(t,"string");return Za(e)=="symbol"?e:e+""}function Tne(t,e){if(Za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uu=function(t){function e(){var n;wne(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=xne(this,e,[].concat(i)),nr(n,"state",{isAnimationFinished:!0,totalLength:0}),nr(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),nr(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(w,b){return w+b});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),d=a%u,h=s-a,g=[],y=0,v=0;y<l.length;v+=l[y],++y)if(v+l[y]>d){g=[].concat(Bo(l.slice(0,y)),[d-v]);break}var x=g.length%2===0?[0,h]:[h];return[].concat(Bo(e.repeat(l,c)),Bo(g),x).map(function(w){return"".concat(w,"px")}).join(", ")}),nr(n,"id",hs("recharts-line-")),nr(n,"pathRef",function(a){n.mainCurve=a}),nr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),nr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Ene(e,t),bne(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=An(c,Lu);if(!d)return null;var h=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:At(v.payload,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return I.createElement(Re,g,d.map(function(y){return I.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,d=me(this.props,!1),h=me(l,!0),g=u.map(function(v,x){var w=pn(pn(pn({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:c,payload:v.payload,points:u});return e.renderDotItem(l,w)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return I.createElement(Re,bl({className:"recharts-line-dots",key:"dots"},y),g)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var d=PS(s,fne),h=pn(pn(pn({},me(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return I.createElement(Yd,bl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,g=a.animationId,y=a.animateNewValues,v=a.width,x=a.height,w=this.state,b=w.prevPoints,_=w.totalLength;return I.createElement(_r,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var S=T.t;if(b){var E=b.length/s.length,A=s.map(function(M,D){var B=Math.floor(D*E);if(b[B]){var j=b[B],R=wn(j.x,M.x),L=wn(j.y,M.y);return pn(pn({},M),{},{x:R(S),y:L(S)})}if(y){var $=wn(v*2,M.x),U=wn(x/2,M.y);return pn(pn({},M),{},{x:$(S),y:U(S)})}return pn(pn({},M),{},{x:M.x,y:M.y})});return o.renderCurveStatically(A,r,i)}var C=wn(0,_),k=C(S),N;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});N=o.getStrokeDasharray(k,_,O)}else N=o.generateSimpleStrokeDasharray(_,k);return o.renderCurveStatically(s,r,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!Du(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,h=i.left,g=i.width,y=i.height,v=i.isAnimationActive,x=i.id;if(o||!s||!s.length)return null;var w=this.state.isAnimationFinished,b=s.length===1,_=Ee("recharts-line",l),T=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,E=T||S,A=_e(x)?this.id:x,C=(r=me(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=C.r,N=k===void 0?3:k,O=C.strokeWidth,M=O===void 0?2:O,D=WL(a)?a:{},B=D.clipDot,j=B===void 0?!0:B,R=N*2+M;return I.createElement(Re,{className:_},T||S?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(A)},I.createElement("rect",{x:T?h:h-g/2,y:S?d:d-y/2,width:T?g:g*2,height:S?y:y*2})),!j&&I.createElement("clipPath",{id:"clipPath-dots-".concat(A)},I.createElement("rect",{x:h-R/2,y:d-R/2,width:g+R,height:y+R}))):null,!b&&this.renderCurve(E,A),this.renderErrorBar(E,A),(b||a)&&this.renderDots(E,j,A),(!v||w)&&Lr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Bo(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Bo(a),Bo(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(I.isValidElement(r))o=I.cloneElement(r,i);else if(be(r))o=r(i);else{var a=i.key,s=PS(i,hne),l=Ee("recharts-line-dot",typeof r!="boolean"?r.className:"");o=I.createElement(Ah,bl({key:a},s,{className:l}))}return o}}])}(P.PureComponent);nr(Uu,"displayName","Line");nr(Uu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Io.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});nr(Uu,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(h,g){var y=At(h,a);return c==="horizontal"?{x:t1({axis:n,ticks:i,bandSize:s,entry:h,index:g}),y:_e(y)?null:r.scale(y),value:y,payload:h}:{x:_e(y)?null:n.scale(y),y:t1({axis:r,ticks:o,bandSize:s,entry:h,index:g}),value:y,payload:h}});return pn({points:d,layout:c},u)});function es(t){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},es(t)}function Ane(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zI(r.key),r)}}function kne(t,e,n){return e&&Cne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pne(t,e,n){return e=vf(e),Ine(t,FI()?Reflect.construct(e,n||[],vf(t).constructor):e.apply(t,n))}function Ine(t,e){if(e&&(es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nne(t)}function Nne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FI=function(){return!!t})()}function vf(t){return vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vf(t)}function One(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ey(t,e)}function Ey(t,e){return Ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ey(t,e)}function VI(t,e,n){return e=zI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zI(t){var e=Mne(t,"string");return es(e)=="symbol"?e:e+""}function Mne(t,e){if(es(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ty.apply(this,arguments)}function Rne(t){var e=t.xAxisId,n=Y0(),r=X0(),i=CI(e);return i==null?null:P.createElement(bs,Ty({},i,{className:Ee("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Rr(a,!0)}}))}var xs=function(t){function e(){return Ane(this,e),Pne(this,e,arguments)}return One(e,t),kne(e,[{key:"render",value:function(){return P.createElement(Rne,this.props)}}])}(P.Component);VI(xs,"displayName","XAxis");VI(xs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ts(t){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(t)}function $ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HI(r.key),r)}}function Dne(t,e,n){return e&&jne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lne(t,e,n){return e=wf(e),Une(t,qI()?Reflect.construct(e,n||[],wf(t).constructor):e.apply(t,n))}function Une(t,e){if(e&&(ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bne(t)}function Bne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qI=function(){return!!t})()}function wf(t){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wf(t)}function Fne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ay(t,e)}function Ay(t,e){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ay(t,e)}function GI(t,e,n){return e=HI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HI(t){var e=Vne(t,"string");return ts(e)=="symbol"?e:e+""}function Vne(t,e){if(ts(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(this,arguments)}var zne=function(e){var n=e.yAxisId,r=Y0(),i=X0(),o=kI(n);return o==null?null:P.createElement(bs,Cy({},o,{className:Ee("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Rr(s,!0)}}))},_s=function(t){function e(){return $ne(this,e),Lne(this,e,arguments)}return Fne(e,t),Dne(e,[{key:"render",value:function(){return P.createElement(zne,this.props)}}])}(P.Component);GI(_s,"displayName","YAxis");GI(_s,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function OS(t){return Wne(t)||Hne(t)||Gne(t)||qne()}function qne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gne(t,e){if(t){if(typeof t=="string")return ky(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ky(t,e)}}function Hne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wne(t){if(Array.isArray(t))return ky(t)}function ky(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Py=function(e,n,r,i,o){var a=An(e,Z0),s=An(e,$h),l=[].concat(OS(a),OS(s)),u=An(e,Dh),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(v,x){if(x.props[c]===r&&br(x.props,"extendDomain")&&X(x.props[d])){var w=x.props[d];return[Math.min(v[0],w),Math.max(v[1],w)]}return v},h)),u.length){var g="".concat(d,"1"),y="".concat(d,"2");h=u.reduce(function(v,x){if(x.props[c]===r&&br(x.props,"extendDomain")&&X(x.props[g])&&X(x.props[y])){var w=x.props[g],b=x.props[y];return[Math.min(v[0],w,b),Math.max(v[1],w,b)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,x){return X(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},h)),h},WI={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,d||l,h),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],g]:l._events[y].push(g):(l._events[y]=g,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,g=d.length,y=new Array(g);h<g;h++)y[h]=d[h].fn;return y},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,g,y){var v=n?n+u:u;if(!this._events[v])return!1;var x=this._events[v],w=arguments.length,b,_;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,d),!0;case 4:return x.fn.call(x.context,c,d,h),!0;case 5:return x.fn.call(x.context,c,d,h,g),!0;case 6:return x.fn.call(x.context,c,d,h,g,y),!0}for(_=1,b=new Array(w-1);_<w;_++)b[_-1]=arguments[_];x.fn.apply(x.context,b)}else{var T=x.length,S;for(_=0;_<T;_++)switch(x[_].once&&this.removeListener(u,x[_].fn,void 0,!0),w){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,c);break;case 3:x[_].fn.call(x[_].context,c,d);break;case 4:x[_].fn.call(x[_].context,c,d,h);break;default:if(!b)for(S=1,b=new Array(w-1);S<w;S++)b[S-1]=arguments[S];x[_].fn.apply(x[_].context,b)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var g=n?n+u:u;if(!this._events[g])return this;if(!c)return a(this,g),this;var y=this._events[g];if(y.fn)y.fn===c&&(!h||y.once)&&(!d||y.context===d)&&a(this,g);else{for(var v=0,x=[],w=y.length;v<w;v++)(y[v].fn!==c||h&&!y[v].once||d&&y[v].context!==d)&&x.push(y[v]);x.length?this._events[g]=x.length===1?x[0]:x:a(this,g)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(WI);var Kne=WI.exports;const Jne=Ve(Kne);var Zp=new Jne,em="recharts.syncMouseEvents";function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function Yne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KI(r.key),r)}}function Qne(t,e,n){return e&&Xne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tm(t,e,n){return e=KI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KI(t){var e=Zne(t,"string");return bu(e)=="symbol"?e:e+""}function Zne(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ere=function(){function t(){Yne(this,t),tm(this,"activeIndex",0),tm(this,"coordinateList",[]),tm(this,"layout","horizontal")}return Qne(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function tre(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&X(r)&&X(i))return!0}return!1}function nre(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function JI(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Qe(e,n,r,i),s=Qe(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function rre(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Qe(s,l,u,d),g=Qe(s,l,c,d);r=h.x,i=h.y,o=g.x,a=g.y}else return JI(e);return[{x:r,y:i},{x:o,y:a}]}function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function MS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MS(Object(n),!0).forEach(function(r){ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ire(t,e,n){return e=ore(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ore(t){var e=are(t,"string");return xu(e)=="symbol"?e:e+""}function are(t,e){if(xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sre(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var y,v=Yd;if(h==="ScatterChart")y=a,v=TX;else if(h==="BarChart")y=nre(d,a,l,c),v=H0;else if(d==="radial"){var x=JI(a),w=x.cx,b=x.cy,_=x.radius,T=x.startAngle,S=x.endAngle;y={cx:w,cy:b,startAngle:T,endAngle:S,innerRadius:_,outerRadius:_},v=G2}else y={points:rre(d,a,l)},v=Yd;var E=_c(_c(_c(_c({stroke:"#ccc",pointerEvents:"none"},l),y),me(g,!1)),{},{payload:s,payloadIndex:u,className:Ee("recharts-tooltip-cursor",g.className)});return P.isValidElement(g)?P.cloneElement(g,E):P.createElement(v,E)}var lre=["item"],ure=["children","className","width","height","style","compact","title","desc"];function ns(t){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(t)}function da(){return da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},da.apply(this,arguments)}function RS(t,e){return fre(t)||dre(t,e)||XI(t,e)||cre()}function cre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function fre(t){if(Array.isArray(t))return t}function $S(t,e){if(t==null)return{};var n=hre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QI(r.key),r)}}function gre(t,e,n){return e&&mre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yre(t,e,n){return e=bf(e),vre(t,YI()?Reflect.construct(e,n||[],bf(t).constructor):e.apply(t,n))}function vre(t,e){if(e&&(ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wre(t)}function wre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YI=function(){return!!t})()}function bf(t){return bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bf(t)}function bre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iy(t,e)}function Iy(t,e){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iy(t,e)}function rs(t){return Sre(t)||_re(t)||XI(t)||xre()}function xre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XI(t,e){if(t){if(typeof t=="string")return Ny(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ny(t,e)}}function _re(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sre(t){if(Array.isArray(t))return Ny(t)}function Ny(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jS(Object(n),!0).forEach(function(r){ye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ye(t,e,n){return e=QI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QI(t){var e=Ere(t,"string");return ns(e)=="symbol"?e:e+""}function Ere(t,e){if(ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tre={xAxis:["bottom","top"],yAxis:["left","right"]},Are={width:"100%",height:"100%"},ZI={x:0,y:0};function Sc(t){return t}var Cre=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},kre=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return F(F(F({},i),Qe(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return F(F(F({},i),Qe(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return ZI},Lh=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(rs(s),rs(u)):s},[]);return a.length>0?a:e&&e.length&&X(i)&&X(o)?e.slice(i,o+1):[]};function eN(t){return t==="number"?[0,"auto"]:void 0}var Oy=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Lh(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var g=d===void 0?s:d;h=wd(g,a.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(rs(l),[U2(u,h)]):l},[])},DS=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Cre(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=KW(a,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=Oy(e,n,c,d),g=kre(r,s,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:g}}return null},Pre=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,g=M2(c,o);return r.reduce(function(y,v){var x,w=v.type.defaultProps!==void 0?F(F({},v.type.defaultProps),v.props):v.props,b=w.type,_=w.dataKey,T=w.allowDataOverflow,S=w.allowDuplicatedCategory,E=w.scale,A=w.ticks,C=w.includeHidden,k=w[a];if(y[k])return y;var N=Lh(e.data,{graphicalItems:i.filter(function(G){var Q,we=a in G.props?G.props[a]:(Q=G.type.defaultProps)===null||Q===void 0?void 0:Q[a];return we===k}),dataStartIndex:l,dataEndIndex:u}),O=N.length,M,D,B;tre(w.domain,T,b)&&(M=Hg(w.domain,null,T),g&&(b==="number"||E!=="auto")&&(B=gl(N,_,"category")));var j=eN(b);if(!M||M.length===0){var R,L=(R=w.domain)!==null&&R!==void 0?R:j;if(_){if(M=gl(N,_,b),b==="category"&&g){var $=DL(M);S&&$?(D=M,M=sf(0,O)):S||(M=o1(L,M,v).reduce(function(G,Q){return G.indexOf(Q)>=0?G:[].concat(rs(G),[Q])},[]))}else if(b==="category")S?M=M.filter(function(G){return G!==""&&!_e(G)}):M=o1(L,M,v).reduce(function(G,Q){return G.indexOf(Q)>=0||Q===""||_e(Q)?G:[].concat(rs(G),[Q])},[]);else if(b==="number"){var U=ZW(N,i.filter(function(G){var Q,we,xe=a in G.props?G.props[a]:(Q=G.type.defaultProps)===null||Q===void 0?void 0:Q[a],ke="hide"in G.props?G.props.hide:(we=G.type.defaultProps)===null||we===void 0?void 0:we.hide;return xe===k&&(C||!ke)}),_,o,c);U&&(M=U)}g&&(b==="number"||E!=="auto")&&(B=gl(N,_,"category"))}else g?M=sf(0,O):s&&s[k]&&s[k].hasStack&&b==="number"?M=h==="expand"?[0,1]:L2(s[k].stackGroups,l,u):M=O2(N,i.filter(function(G){var Q=a in G.props?G.props[a]:G.type.defaultProps[a],we="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return Q===k&&(C||!we)}),b,c,!0);if(b==="number")M=Py(d,M,k,o,A),L&&(M=Hg(L,M,T));else if(b==="category"&&L){var z=L,J=M.every(function(G){return z.indexOf(G)>=0});J&&(M=z)}}return F(F({},y),{},ye({},k,F(F({},w),{},{axisType:o,domain:M,categoricalDomain:B,duplicateDomain:D,originalDomain:(x=w.domain)!==null&&x!==void 0?x:j,isCategorical:g,layout:c})))},{})},Ire=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=Lh(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,y=M2(c,o),v=-1;return r.reduce(function(x,w){var b=w.type.defaultProps!==void 0?F(F({},w.type.defaultProps),w.props):w.props,_=b[a],T=eN("number");if(!x[_]){v++;var S;return y?S=sf(0,g):s&&s[_]&&s[_].hasStack?(S=L2(s[_].stackGroups,l,u),S=Py(d,S,_,o)):(S=Hg(T,O2(h,r.filter(function(E){var A,C,k=a in E.props?E.props[a]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[a],N="hide"in E.props?E.props.hide:(C=E.type.defaultProps)===null||C===void 0?void 0:C.hide;return k===_&&!N}),"number",c),i.defaultProps.allowDataOverflow),S=Py(d,S,_,o)),F(F({},x),{},ye({},_,F(F({axisType:o},i.defaultProps),{},{hide:!0,orientation:Tn(Tre,"".concat(o,".").concat(v%2),null),domain:S,originalDomain:T,isCategorical:y,layout:c})))}return x},{})},Nre=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=An(c,o),g={};return h&&h.length?g=Pre(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(g=Ire(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},Ore=function(e){var n=ci(e),r=Rr(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:v0(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Wd(n,r)}},LS=function(e){var n=e.children,r=e.defaultShowTooltip,i=vn(n,Wa),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Mre=function(e){return!e||!e.length?!1:e.some(function(n){var r=jr(n&&n.type);return r&&r.indexOf("Bar")>=0})},US=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Rre=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,h=r.margin||{},g=vn(d,Wa),y=vn(d,Ei),v=Object.keys(l).reduce(function(S,E){var A=l[E],C=A.orientation;return!A.mirror&&!A.hide?F(F({},S),{},ye({},C,S[C]+A.width)):S},{left:h.left||0,right:h.right||0}),x=Object.keys(a).reduce(function(S,E){var A=a[E],C=A.orientation;return!A.mirror&&!A.hide?F(F({},S),{},ye({},C,Tn(S,"".concat(C))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),w=F(F({},x),v),b=w.bottom;g&&(w.bottom+=g.props.height||Wa.defaultProps.height),y&&n&&(w=XW(w,i,r,n));var _=u-w.left-w.right,T=c-w.top-w.bottom;return F(F({brushBottom:b},w),{},{width:Math.max(_,0),height:Math.max(T,0)})},$re=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},rw=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(w,b){var _=b.graphicalItems,T=b.stackGroups,S=b.offset,E=b.updateId,A=b.dataStartIndex,C=b.dataEndIndex,k=w.barSize,N=w.layout,O=w.barGap,M=w.barCategoryGap,D=w.maxBarSize,B=US(N),j=B.numericAxisName,R=B.cateAxisName,L=Mre(_),$=[];return _.forEach(function(U,z){var J=Lh(w.data,{graphicalItems:[U],dataStartIndex:A,dataEndIndex:C}),G=U.type.defaultProps!==void 0?F(F({},U.type.defaultProps),U.props):U.props,Q=G.dataKey,we=G.maxBarSize,xe=G["".concat(j,"Id")],ke=G["".concat(R,"Id")],lt={},qe=l.reduce(function(Ze,pt){var jt=b["".concat(pt.axisType,"Map")],It=G["".concat(pt.axisType,"Id")];jt&&jt[It]||pt.axisType==="zAxis"||Eo();var hn=jt[It];return F(F({},Ze),{},ye(ye({},pt.axisType,hn),"".concat(pt.axisType,"Ticks"),Rr(hn)))},lt),Z=qe[R],pe=qe["".concat(R,"Ticks")],ge=T&&T[xe]&&T[xe].hasStack&&lK(U,T[xe].stackGroups),H=jr(U.type).indexOf("Bar")>=0,De=Wd(Z,pe),se=[],Pe=L&&JW({barSize:k,stackGroups:T,totalSize:$re(qe,R)});if(H){var W,K,ie=_e(we)?D:we,Te=(W=(K=Wd(Z,pe,!0))!==null&&K!==void 0?K:ie)!==null&&W!==void 0?W:0;se=YW({barGap:O,barCategoryGap:M,bandSize:Te!==De?Te:De,sizeList:Pe[ke],maxBarSize:ie}),Te!==De&&(se=se.map(function(Ze){return F(F({},Ze),{},{position:F(F({},Ze.position),{},{offset:Ze.position.offset-Te/2})})}))}var fe=U&&U.type&&U.type.getComposedData;fe&&$.push({props:F(F({},fe(F(F({},qe),{},{displayedData:J,props:w,dataKey:Q,item:U,bandSize:De,barPosition:se,offset:S,stackedData:ge,layout:N,dataStartIndex:A,dataEndIndex:C}))),{},ye(ye(ye({key:U.key||"item-".concat(z)},j,qe[j]),R,qe[R]),"animationId",E)),childIndex:YL(U,w.children),item:U})}),$},g=function(w,b){var _=w.props,T=w.dataStartIndex,S=w.dataEndIndex,E=w.updateId;if(!Qb({props:_}))return null;var A=_.children,C=_.layout,k=_.stackOffset,N=_.data,O=_.reverseStackOrder,M=US(C),D=M.numericAxisName,B=M.cateAxisName,j=An(A,r),R=aK(N,j,"".concat(D,"Id"),"".concat(B,"Id"),k,O),L=l.reduce(function(G,Q){var we="".concat(Q.axisType,"Map");return F(F({},G),{},ye({},we,Nre(_,F(F({},Q),{},{graphicalItems:j,stackGroups:Q.axisType===D&&R,dataStartIndex:T,dataEndIndex:S}))))},{}),$=Rre(F(F({},L),{},{props:_,graphicalItems:j}),b==null?void 0:b.legendBBox);Object.keys(L).forEach(function(G){L[G]=c(_,L[G],$,G.replace("Map",""),n)});var U=L["".concat(B,"Map")],z=Ore(U),J=h(_,F(F({},L),{},{dataStartIndex:T,dataEndIndex:S,updateId:E,graphicalItems:j,stackGroups:R,offset:$}));return F(F({formattedGraphicalItems:J,graphicalItems:j,offset:$,stackGroups:R},z),L)},y=function(x){function w(b){var _,T,S;return pre(this,w),S=yre(this,w,[b]),ye(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ye(S,"accessibilityManager",new ere),ye(S,"handleLegendBBoxUpdate",function(E){if(E){var A=S.state,C=A.dataStartIndex,k=A.dataEndIndex,N=A.updateId;S.setState(F({legendBBox:E},g({props:S.props,dataStartIndex:C,dataEndIndex:k,updateId:N},F(F({},S.state),{},{legendBBox:E}))))}}),ye(S,"handleReceiveSyncEvent",function(E,A,C){if(S.props.syncId===E){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),ye(S,"handleBrushChange",function(E){var A=E.startIndex,C=E.endIndex;if(A!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var k=S.state.updateId;S.setState(function(){return F({dataStartIndex:A,dataEndIndex:C},g({props:S.props,dataStartIndex:A,dataEndIndex:C,updateId:k},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:C})}}),ye(S,"handleMouseEnter",function(E){var A=S.getMouseInfo(E);if(A){var C=F(F({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var k=S.props.onMouseEnter;be(k)&&k(C,E)}}),ye(S,"triggeredAfterMouseMove",function(E){var A=S.getMouseInfo(E),C=A?F(F({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var k=S.props.onMouseMove;be(k)&&k(C,E)}),ye(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),ye(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ye(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),ye(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseLeave;be(C)&&C(A,E)}),ye(S,"handleOuterEvent",function(E){var A=JL(E),C=Tn(S.props,"".concat(A));if(A&&be(C)){var k,N;/.*touch.*/i.test(A)?N=S.getMouseInfo(E.changedTouches[0]):N=S.getMouseInfo(E),C((k=N)!==null&&k!==void 0?k:{},E)}}),ye(S,"handleClick",function(E){var A=S.getMouseInfo(E);if(A){var C=F(F({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var k=S.props.onClick;be(k)&&k(C,E)}}),ye(S,"handleMouseDown",function(E){var A=S.props.onMouseDown;if(be(A)){var C=S.getMouseInfo(E);A(C,E)}}),ye(S,"handleMouseUp",function(E){var A=S.props.onMouseUp;if(be(A)){var C=S.getMouseInfo(E);A(C,E)}}),ye(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),ye(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),ye(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),ye(S,"handleDoubleClick",function(E){var A=S.props.onDoubleClick;if(be(A)){var C=S.getMouseInfo(E);A(C,E)}}),ye(S,"handleContextMenu",function(E){var A=S.props.onContextMenu;if(be(A)){var C=S.getMouseInfo(E);A(C,E)}}),ye(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&Zp.emit(em,S.props.syncId,E,S.eventEmitterSymbol)}),ye(S,"applySyncEvent",function(E){var A=S.props,C=A.layout,k=A.syncMethod,N=S.state.updateId,O=E.dataStartIndex,M=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(F({dataStartIndex:O,dataEndIndex:M},g({props:S.props,dataStartIndex:O,dataEndIndex:M,updateId:N},S.state)));else if(E.activeTooltipIndex!==void 0){var D=E.chartX,B=E.chartY,j=E.activeTooltipIndex,R=S.state,L=R.offset,$=R.tooltipTicks;if(!L)return;if(typeof k=="function")j=k($,E);else if(k==="value"){j=-1;for(var U=0;U<$.length;U++)if($[U].value===E.activeLabel){j=U;break}}var z=F(F({},L),{},{x:L.left,y:L.top}),J=Math.min(D,z.x+z.width),G=Math.min(B,z.y+z.height),Q=$[j]&&$[j].value,we=Oy(S.state,S.props.data,j),xe=$[j]?{x:C==="horizontal"?$[j].coordinate:J,y:C==="horizontal"?G:$[j].coordinate}:ZI;S.setState(F(F({},E),{},{activeLabel:Q,activeCoordinate:xe,activePayload:we,activeTooltipIndex:j}))}else S.setState(E)}),ye(S,"renderCursor",function(E){var A,C=S.state,k=C.isTooltipActive,N=C.activeCoordinate,O=C.activePayload,M=C.offset,D=C.activeTooltipIndex,B=C.tooltipAxisBandSize,j=S.getTooltipEventType(),R=(A=E.props.active)!==null&&A!==void 0?A:k,L=S.props.layout,$=E.key||"_recharts-cursor";return I.createElement(sre,{key:$,activeCoordinate:N,activePayload:O,activeTooltipIndex:D,chartName:n,element:E,isActive:R,layout:L,offset:M,tooltipAxisBandSize:B,tooltipEventType:j})}),ye(S,"renderPolarAxis",function(E,A,C){var k=Tn(E,"type.axisType"),N=Tn(S.state,"".concat(k,"Map")),O=E.type.defaultProps,M=O!==void 0?F(F({},O),E.props):E.props,D=N&&N[M["".concat(k,"Id")]];return P.cloneElement(E,F(F({},D),{},{className:Ee(k,D.className),key:E.key||"".concat(A,"-").concat(C),ticks:Rr(D,!0)}))}),ye(S,"renderPolarGrid",function(E){var A=E.props,C=A.radialLines,k=A.polarAngles,N=A.polarRadius,O=S.state,M=O.radiusAxisMap,D=O.angleAxisMap,B=ci(M),j=ci(D),R=j.cx,L=j.cy,$=j.innerRadius,U=j.outerRadius;return P.cloneElement(E,{polarAngles:Array.isArray(k)?k:Rr(j,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(N)?N:Rr(B,!0).map(function(z){return z.coordinate}),cx:R,cy:L,innerRadius:$,outerRadius:U,key:E.key||"polar-grid",radialLines:C})}),ye(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,A=S.props,C=A.children,k=A.width,N=A.height,O=S.props.margin||{},M=k-(O.left||0)-(O.right||0),D=I2({children:C,formattedGraphicalItems:E,legendWidth:M,legendContent:u});if(!D)return null;var B=D.item,j=$S(D,lre);return P.cloneElement(B,F(F({},j),{},{chartWidth:k,chartHeight:N,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ye(S,"renderTooltip",function(){var E,A=S.props,C=A.children,k=A.accessibilityLayer,N=vn(C,Rn);if(!N)return null;var O=S.state,M=O.isTooltipActive,D=O.activeCoordinate,B=O.activePayload,j=O.activeLabel,R=O.offset,L=(E=N.props.active)!==null&&E!==void 0?E:M;return P.cloneElement(N,{viewBox:F(F({},R),{},{x:R.left,y:R.top}),active:L,label:j,payload:L?B:[],coordinate:D,accessibilityLayer:k})}),ye(S,"renderBrush",function(E){var A=S.props,C=A.margin,k=A.data,N=S.state,O=N.offset,M=N.dataStartIndex,D=N.dataEndIndex,B=N.updateId;return P.cloneElement(E,{key:E.key||"_recharts-brush",onChange:vc(S.handleBrushChange,E.props.onChange),data:k,x:X(E.props.x)?E.props.x:O.left,y:X(E.props.y)?E.props.y:O.top+O.height+O.brushBottom-(C.bottom||0),width:X(E.props.width)?E.props.width:O.width,startIndex:M,endIndex:D,updateId:"brush-".concat(B)})}),ye(S,"renderReferenceElement",function(E,A,C){if(!E)return null;var k=S,N=k.clipPathId,O=S.state,M=O.xAxisMap,D=O.yAxisMap,B=O.offset,j=E.type.defaultProps||{},R=E.props,L=R.xAxisId,$=L===void 0?j.xAxisId:L,U=R.yAxisId,z=U===void 0?j.yAxisId:U;return P.cloneElement(E,{key:E.key||"".concat(A,"-").concat(C),xAxis:M[$],yAxis:D[z],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:N})}),ye(S,"renderActivePoints",function(E){var A=E.item,C=E.activePoint,k=E.basePoint,N=E.childIndex,O=E.isRange,M=[],D=A.props.key,B=A.item.type.defaultProps!==void 0?F(F({},A.item.type.defaultProps),A.item.props):A.item.props,j=B.activeDot,R=B.dataKey,L=F(F({index:N,dataKey:R,cx:C.x,cy:C.y,r:4,fill:G0(A.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},me(j,!1)),bd(j));return M.push(w.renderActiveDot(j,L,"".concat(D,"-activePoint-").concat(N))),k?M.push(w.renderActiveDot(j,F(F({},L),{},{cx:k.x,cy:k.y}),"".concat(D,"-basePoint-").concat(N))):O&&M.push(null),M}),ye(S,"renderGraphicChild",function(E,A,C){var k=S.filterFormatItem(E,A,C);if(!k)return null;var N=S.getTooltipEventType(),O=S.state,M=O.isTooltipActive,D=O.tooltipAxis,B=O.activeTooltipIndex,j=O.activeLabel,R=S.props.children,L=vn(R,Rn),$=k.props,U=$.points,z=$.isRange,J=$.baseLine,G=k.item.type.defaultProps!==void 0?F(F({},k.item.type.defaultProps),k.item.props):k.item.props,Q=G.activeDot,we=G.hide,xe=G.activeBar,ke=G.activeShape,lt=!!(!we&&M&&L&&(Q||xe||ke)),qe={};N!=="axis"&&L&&L.props.trigger==="click"?qe={onClick:vc(S.handleItemMouseEnter,E.props.onClick)}:N!=="axis"&&(qe={onMouseLeave:vc(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:vc(S.handleItemMouseEnter,E.props.onMouseEnter)});var Z=P.cloneElement(E,F(F({},k.props),qe));function pe(pt){return typeof D.dataKey=="function"?D.dataKey(pt.payload):null}if(lt)if(B>=0){var ge,H;if(D.dataKey&&!D.allowDuplicatedCategory){var De=typeof D.dataKey=="function"?pe:"payload.".concat(D.dataKey.toString());ge=wd(U,De,j),H=z&&J&&wd(J,De,j)}else ge=U==null?void 0:U[B],H=z&&J&&J[B];if(ke||xe){var se=E.props.activeIndex!==void 0?E.props.activeIndex:B;return[P.cloneElement(E,F(F(F({},k.props),qe),{},{activeIndex:se})),null,null]}if(!_e(ge))return[Z].concat(rs(S.renderActivePoints({item:k,activePoint:ge,basePoint:H,childIndex:B,isRange:z})))}else{var Pe,W=(Pe=S.getItemByXY(S.state.activeCoordinate))!==null&&Pe!==void 0?Pe:{graphicalItem:Z},K=W.graphicalItem,ie=K.item,Te=ie===void 0?E:ie,fe=K.childIndex,Ze=F(F(F({},k.props),qe),{},{activeIndex:fe});return[P.cloneElement(Te,Ze),null,null]}return z?[Z,null,null]:[Z,null]}),ye(S,"renderCustomized",function(E,A,C){return P.cloneElement(E,F(F({key:"recharts-customized-".concat(C)},S.props),S.state))}),ye(S,"renderMap",{CartesianGrid:{handler:Sc,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Sc},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Sc},YAxis:{handler:Sc},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=b.id)!==null&&_!==void 0?_:hs("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=PP(S.triggeredAfterMouseMove,(T=b.throttleDelay)!==null&&T!==void 0?T:1e3/60),S.state={},S}return bre(w,x),gre(w,[{key:"componentDidMount",value:function(){var _,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,T=_.children,S=_.data,E=_.height,A=_.layout,C=vn(T,Rn);if(C){var k=C.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,O=Oy(this.state,S,k,N),M=this.state.tooltipTicks[k].coordinate,D=(this.state.offset.top+E)/2,B=A==="horizontal",j=B?{x:M,y:D}:{y:M,x:D},R=this.state.formattedGraphicalItems.find(function($){var U=$.item;return U.type.name==="Scatter"});R&&(j=F(F({},j),R.props.points[k].tooltipPosition),O=R.props.points[k].tooltipPayload);var L={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:N,activePayload:O,activeCoordinate:j};this.setState(L),this.renderCursor(C),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(_){sg([vn(_.children,Rn)],[vn(this.props.children,Rn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=vn(this.props.children,Rn);if(_&&typeof _.props.shared=="boolean"){var T=_.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var T=this.container,S=T.getBoundingClientRect(),E=_q(S),A={chartX:Math.round(_.pageX-E.left),chartY:Math.round(_.pageY-E.top)},C=S.width/T.offsetWidth||1,k=this.inRange(A.chartX,A.chartY,C);if(!k)return null;var N=this.state,O=N.xAxisMap,M=N.yAxisMap,D=this.getTooltipEventType(),B=DS(this.state,this.props.data,this.props.layout,k);if(D!=="axis"&&O&&M){var j=ci(O).scale,R=ci(M).scale,L=j&&j.invert?j.invert(A.chartX):null,$=R&&R.invert?R.invert(A.chartY):null;return F(F({},A),{},{xValue:L,yValue:$},B)}return B?F(F({},A),B):null}},{key:"inRange",value:function(_,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,A=_/S,C=T/S;if(E==="horizontal"||E==="vertical"){var k=this.state.offset,N=A>=k.left&&A<=k.left+k.width&&C>=k.top&&C<=k.top+k.height;return N?{x:A,y:C}:null}var O=this.state,M=O.angleAxisMap,D=O.radiusAxisMap;if(M&&D){var B=ci(M);return l1({x:A,y:C},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,T=this.getTooltipEventType(),S=vn(_,Rn),E={};S&&T==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=bd(this.props,this.handleOuterEvent);return F(F({},A),E)}},{key:"addListener",value:function(){Zp.on(em,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Zp.removeListener(em,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,T,S){for(var E=this.state.formattedGraphicalItems,A=0,C=E.length;A<C;A++){var k=E[A];if(k.item===_||k.props.key===_.key||T===jr(k.item.type)&&S===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,T=this.state.offset,S=T.left,E=T.top,A=T.height,C=T.width;return I.createElement("defs",null,I.createElement("clipPath",{id:_},I.createElement("rect",{x:S,y:E,height:A,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=RS(S,2),A=E[0],C=E[1];return F(F({},T),{},ye({},A,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=RS(S,2),A=E[0],C=E[1];return F(F({},T),{},ye({},A,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(_){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(_){var T=this.state,S=T.formattedGraphicalItems,E=T.activeItem;if(S&&S.length)for(var A=0,C=S.length;A<C;A++){var k=S[A],N=k.props,O=k.item,M=O.type.defaultProps!==void 0?F(F({},O.type.defaultProps),O.props):O.props,D=jr(O.type);if(D==="Bar"){var B=(N.data||[]).find(function($){return oX(_,$)});if(B)return{graphicalItem:k,payload:B}}else if(D==="RadialBar"){var j=(N.data||[]).find(function($){return l1(_,$)});if(j)return{graphicalItem:k,payload:j}}else if(Nh(k,E)||Oh(k,E)||mu(k,E)){var R=WQ({graphicalItem:k,activeTooltipItem:E,itemData:M.data}),L=M.activeIndex===void 0?R:M.activeIndex;return{graphicalItem:F(F({},k),{},{childIndex:L}),payload:mu(k,E)?M.data[R]:k.props.data[R]}}}return null}},{key:"render",value:function(){var _=this;if(!Qb(this))return null;var T=this.props,S=T.children,E=T.className,A=T.width,C=T.height,k=T.style,N=T.compact,O=T.title,M=T.desc,D=$S(T,ure),B=me(D,!1);if(N)return I.createElement(gS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(ug,da({},B,{width:A,height:C,title:O,desc:M}),this.renderClipPath(),ex(S,this.renderMap)));if(this.props.accessibilityLayer){var j,R;B.tabIndex=(j=this.props.tabIndex)!==null&&j!==void 0?j:0,B.role=(R=this.props.role)!==null&&R!==void 0?R:"application",B.onKeyDown=function($){_.accessibilityManager.keyboardEvent($)},B.onFocus=function(){_.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return I.createElement(gS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",da({className:Ee("recharts-wrapper",E),style:F({position:"relative",cursor:"default",width:A,height:C},k)},L,{ref:function(U){_.container=U}}),I.createElement(ug,da({},B,{width:A,height:C,title:O,desc:M,style:Are}),this.renderClipPath(),ex(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(P.Component);ye(y,"displayName",n),ye(y,"defaultProps",F({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ye(y,"getDerivedStateFromProps",function(x,w){var b=x.dataKey,_=x.data,T=x.children,S=x.width,E=x.height,A=x.layout,C=x.stackOffset,k=x.margin,N=w.dataStartIndex,O=w.dataEndIndex;if(w.updateId===void 0){var M=LS(x);return F(F(F({},M),{},{updateId:0},g(F(F({props:x},M),{},{updateId:0}),w)),{},{prevDataKey:b,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:k,prevChildren:T})}if(b!==w.prevDataKey||_!==w.prevData||S!==w.prevWidth||E!==w.prevHeight||A!==w.prevLayout||C!==w.prevStackOffset||!wa(k,w.prevMargin)){var D=LS(x),B={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},j=F(F({},DS(w,_,A)),{},{updateId:w.updateId+1}),R=F(F(F({},D),B),j);return F(F(F({},R),g(F({props:x},R),w)),{},{prevDataKey:b,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:k,prevChildren:T})}if(!sg(T,w.prevChildren)){var L,$,U,z,J=vn(T,Wa),G=J&&(L=($=J.props)===null||$===void 0?void 0:$.startIndex)!==null&&L!==void 0?L:N,Q=J&&(U=(z=J.props)===null||z===void 0?void 0:z.endIndex)!==null&&U!==void 0?U:O,we=G!==N||Q!==O,xe=!_e(_),ke=xe&&!we?w.updateId:w.updateId+1;return F(F({updateId:ke},g(F(F({props:x},w),{},{updateId:ke,dataStartIndex:G,dataEndIndex:Q}),w)),{},{prevChildren:T,dataStartIndex:G,dataEndIndex:Q})}return null}),ye(y,"renderActiveDot",function(x,w,b){var _;return P.isValidElement(x)?_=P.cloneElement(x,w):be(x)?_=x(w):_=I.createElement(Ah,w),I.createElement(Re,{className:"recharts-active-dot",key:b},_)});var v=P.forwardRef(function(w,b){return I.createElement(y,da({},w,{ref:b}))});return v.displayName=y.displayName,v},jre=rw({chartName:"LineChart",GraphicalChild:Uu,axisComponents:[{axisType:"xAxis",AxisComp:xs},{axisType:"yAxis",AxisComp:_s}],formatAxisMap:wI}),Dre=rw({chartName:"BarChart",GraphicalChild:Ro,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:xs},{axisType:"yAxis",AxisComp:_s}],formatAxisMap:wI}),Lre=rw({chartName:"PieChart",GraphicalChild:Xr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ih},{axisType:"radiusAxis",AxisComp:kh}],formatAxisMap:vK,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ure,Bre;function Fre(){return{geminiUrl:Ure,vertexUrl:Bre}}function Vre(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=Fre();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qr{}function te(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];m(c,e.slice(o+1),n[u])}else for(const u of l)m(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];m(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>f(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function zre(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}My(t,i,o,0,a)}}function My(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])My(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);m(a,d,c)}for(const u of s)delete a[u]}}else{const a=t;o in a&&My(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iw(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qre(t){const e={},n=f(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=f(t,["resourceName"]);return r!=null&&m(e,["_url","resourceName"],r),e}function Gre(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],Wre(a)),e}function Hre(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const a=f(t,["response"]);return a!=null&&m(e,["response"],Kre(a)),e}function Wre(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Jre(a))),m(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Kre(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Yre(a))),m(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Jre(t){const e={},n=f(t,["video"]);return n!=null&&m(e,["video"],nie(n)),e}function Yre(t){const e={},n=f(t,["_self"]);return n!=null&&m(e,["video"],rie(n)),e}function Xre(t){const e={},n=f(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function Qre(t){const e={},n=f(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function Zre(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const a=f(t,["response"]);return a!=null&&m(e,["response"],eie(a)),e}function eie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&m(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function tN(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const a=f(t,["response"]);return a!=null&&m(e,["response"],tie(a)),e}function tie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&m(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function nie(t){const e={},n=f(t,["uri"]);n!=null&&m(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],iw(r));const i=f(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function rie(t){const e={},n=f(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],iw(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var BS;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(BS||(BS={}));var FS;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(FS||(FS={}));var VS;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(VS||(VS={}));var mi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(mi||(mi={}));var zS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(zS||(zS={}));var qS;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(qS||(qS={}));var GS;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(GS||(GS={}));var HS;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(HS||(HS={}));var WS;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(WS||(WS={}));var KS;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(KS||(KS={}));var JS;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(JS||(JS={}));var YS;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(YS||(YS={}));var XS;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(XS||(XS={}));var QS;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(QS||(QS={}));var ZS;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(ZS||(ZS={}));var eE;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(eE||(eE={}));var tE;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(tE||(tE={}));var nE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(nE||(nE={}));var rE;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rE||(rE={}));var xf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(xf||(xf={}));var iE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(iE||(iE={}));var oE;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(oE||(oE={}));var aE;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(aE||(aE={}));var Ry;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ry||(Ry={}));var sE;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(sE||(sE={}));var lE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(lE||(lE={}));var uE;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(uE||(uE={}));var cE;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(cE||(cE={}));var dE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(dE||(dE={}));var fE;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(fE||(fE={}));var hE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(hE||(hE={}));var pE;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(pE||(pE={}));var mE;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(mE||(mE={}));var gE;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(gE||(gE={}));var yE;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(yE||(yE={}));var vE;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(vE||(vE={}));var wE;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(wE||(wE={}));var bE;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(bE||(bE={}));var xE;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(xE||(xE={}));var _E;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(_E||(_E={}));var SE;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(SE||(SE={}));var EE;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(EE||(EE={}));var TE;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(TE||(TE={}));var AE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(AE||(AE={}));var CE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(CE||(CE={}));var kE;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(kE||(kE={}));var PE;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(PE||(PE={}));var IE;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(IE||(IE={}));var NE;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(NE||(NE={}));var OE;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(OE||(OE={}));var ME;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(ME||(ME={}));var RE;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(RE||(RE={}));var $E;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($E||($E={}));var jE;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(jE||(jE={}));var fa;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(fa||(fa={}));class $y{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Js{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(y!==null||y!==void 0)&&d.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(d))h!=="inlineData"&&(g!==null||g!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class DE{}class LE{}class iie{}class oie{}class aie{}class sie{}class UE{}class BE{}class FE{}class lie{}class _f{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new _f;let i;const o=e;return n?i=Hre(o):i=Gre(o),Object.assign(r,i),r}}class VE{}class zE{}class qE{}class uie{}class cie{}class die{}class ow{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ow,o=Zre(e);return Object.assign(r,o),r}}class fie{}class hie{}class pie{}class GE{}class mie{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class gie{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class aw{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new aw,o=tN(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function je(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function nN(t,e){const n=je(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function rN(t){return Array.isArray(t)?t.map(e=>Sf(e)):[Sf(t)]}function Sf(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function iN(t){const e=Sf(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function oN(t){const e=Sf(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function HE(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function aN(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>HE(e)):[HE(t)]}function jy(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function WE(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function KE(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Kt(t){if(t==null)throw new Error("ContentUnion is required");return jy(t)?t:{role:"user",parts:aN(t)}}function sw(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Kt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Kt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Kt(n)):[Kt(e)]}function Vn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(WE(t)||KE(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Kt(t)]}const e=[],n=[],r=jy(t[0]);for(const i of t){const o=jy(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(WE(i)||KE(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:aN(n)}),e}function yie(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(mi).includes(n[0].toUpperCase())?n[0].toUpperCase():mi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(mi).includes(r.toUpperCase())?r.toUpperCase():mi.TYPE_UNSPECIFIED})}}function _a(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&yie(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(mi).includes(s.toUpperCase())?s.toUpperCase():mi.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=_a(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(_a(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=_a(c);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function lw(t){return _a(t)}function uw(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function cw(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ss(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=_a(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=_a(e.response));return t}function Es(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function vie(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Zr(t,e){if(typeof e!="string")throw new Error("name must be a string");return vie(t,e,"cachedContents")}function sN(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function $i(t){return iw(t)}function wie(t){return t!=null&&typeof t=="object"&&"name"in t}function bie(t){return t!=null&&typeof t=="object"&&"video"in t}function xie(t){return t!=null&&typeof t=="object"&&"uri"in t}function lN(t){var e;let n;if(wie(t)&&(n=t.name),!(xie(t)&&(n=t.uri,n===void 0))&&!(bie(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function uN(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function cN(t){for(const e of["models","tunedModels","publisherModels"])if(_ie(t,e))return t[e];return[]}function _ie(t,e){return t!==null&&typeof t=="object"&&e in t}function Sie(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Eie(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=Sie(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function dN(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Tie(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function fN(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ts(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function hN(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Aie(t){const e={},n=f(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=f(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>aoe(a))),m(e,["inlinedResponses"],o)}const i=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["inlinedEmbedContentResponses"],o)}return e}function Cie(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=f(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=f(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function kie(t){const e={},n=f(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=f(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Hc(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["metadata","state"]);i!=null&&m(e,["state"],hN(i));const o=f(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const a=f(t,["metadata","endTime"]);a!=null&&m(e,["endTime"],a);const s=f(t,["metadata","updateTime"]);s!=null&&m(e,["updateTime"],s);const l=f(t,["metadata","model"]);l!=null&&m(e,["model"],l);const u=f(t,["metadata","output"]);return u!=null&&m(e,["dest"],Aie(fN(u))),e}function Dy(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["state"]);i!=null&&m(e,["state"],hN(i));const o=f(t,["error"]);o!=null&&m(e,["error"],o);const a=f(t,["createTime"]);a!=null&&m(e,["createTime"],a);const s=f(t,["startTime"]);s!=null&&m(e,["startTime"],s);const l=f(t,["endTime"]);l!=null&&m(e,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const c=f(t,["model"]);c!=null&&m(e,["model"],c);const d=f(t,["inputConfig"]);d!=null&&m(e,["src"],Pie(d));const h=f(t,["outputConfig"]);h!=null&&m(e,["dest"],Cie(fN(h)));const g=f(t,["completionStats"]);return g!=null&&m(e,["completionStats"],g),e}function Pie(t){const e={},n=f(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=f(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=f(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Iie(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=f(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ooe(t,a))),m(n,["requests","requests"],o)}return n}function Nie(t){const e={},n=f(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=f(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Oie(t){const e={},n=f(t,["data"]);if(n!=null&&m(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Mie(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],Ts(t,r)),n}function Rie(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],Ts(t,r)),n}function $ie(t){const e={},n=f(t,["content"]);n!=null&&m(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],jie(r));const i=f(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&m(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&m(e,["urlContextMetadata"],d),e}function jie(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function pN(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hoe(o))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function Die(t,e){const n={},r=f(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Lie(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=f(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],kie(Tie(i))),n}function JE(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["src"]);i!=null&&m(n,["batch","inputConfig"],Iie(t,dN(t,i)));const o=f(e,["config"]);return o!=null&&Die(o,n),n}function Uie(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["model"],je(t,r));const i=f(e,["src"]);i!=null&&m(n,["inputConfig"],Nie(dN(t,i)));const o=f(e,["config"]);return o!=null&&Lie(o,n),n}function Bie(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["batch","displayName"],r),n}function Fie(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["src"]);i!=null&&m(n,["batch","inputConfig"],Kie(t,i));const o=f(e,["config"]);return o!=null&&Bie(o,n),n}function Vie(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],Ts(t,r)),n}function zie(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],Ts(t,r)),n}function qie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);return o!=null&&m(e,["error"],o),e}function Gie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);return o!=null&&m(e,["error"],o),e}function Hie(t,e){const n={},r=f(e,["contents"]);if(r!=null){let o=sw(t,r);Array.isArray(o)&&(o=o.map(a=>a)),m(n,["requests[]","request","content"],o)}const i=f(e,["config"]);return i!=null&&(m(n,["_self"],Wie(i,n)),zre(n,{"requests[].*":"requests[].request.*"})),n}function Wie(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Kie(t,e){const n={},r=f(e,["fileName"]);r!=null&&m(n,["file_name"],r);const i=f(e,["inlinedRequests"]);return i!=null&&m(n,["requests"],Hie(t,i)),n}function Jie(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Yie(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);if(i!=null&&m(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Xie(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Qie(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],pN(Kt(i)));const o=f(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&m(r,["topP"],a);const s=f(e,["topK"]);s!=null&&m(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&m(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const y=f(e,["frequencyPenalty"]);y!=null&&m(r,["frequencyPenalty"],y);const v=f(e,["seed"]);v!=null&&m(r,["seed"],v);const x=f(e,["responseMimeType"]);x!=null&&m(r,["responseMimeType"],x);const w=f(e,["responseSchema"]);w!=null&&m(r,["responseSchema"],lw(w));const b=f(e,["responseJsonSchema"]);if(b!=null&&m(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let M=_;Array.isArray(M)&&(M=M.map(D=>poe(D))),m(n,["safetySettings"],M)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let M=Es(T);Array.isArray(M)&&(M=M.map(D=>goe(Ss(D)))),m(n,["tools"],M)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&m(n,["toolConfig"],moe(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&m(n,["cachedContent"],Zr(t,E));const A=f(e,["responseModalities"]);A!=null&&m(r,["responseModalities"],A);const C=f(e,["mediaResolution"]);C!=null&&m(r,["mediaResolution"],C);const k=f(e,["speechConfig"]);if(k!=null&&m(r,["speechConfig"],uw(k)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=f(e,["thinkingConfig"]);N!=null&&m(r,["thinkingConfig"],N);const O=f(e,["imageConfig"]);return O!=null&&m(r,["imageConfig"],ioe(O)),r}function Zie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>$ie(u))),m(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function eoe(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],Ts(t,r)),n}function toe(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],Ts(t,r)),n}function noe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function roe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function ioe(t){const e={},n=f(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function ooe(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["request","model"],je(t,r));const i=f(e,["contents"]);if(i!=null){let s=Vn(i);Array.isArray(s)&&(s=s.map(l=>pN(l))),m(n,["request","contents"],s)}const o=f(e,["metadata"]);o!=null&&m(n,["metadata"],o);const a=f(e,["config"]);return a!=null&&m(n,["request","generationConfig"],Qie(t,a,f(n,["request"],{}))),n}function aoe(t){const e={},n=f(t,["response"]);n!=null&&m(e,["response"],Zie(n));const r=f(t,["error"]);return r!=null&&m(e,["error"],r),e}function soe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function loe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=f(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function uoe(t){const e={},n=f(t,["config"]);return n!=null&&soe(n,e),e}function coe(t){const e={},n=f(t,["config"]);return n!=null&&loe(n,e),e}function doe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Hc(a))),m(e,["batchJobs"],o)}return e}function foe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Dy(a))),m(e,["batchJobs"],o)}return e}function hoe(t){const e={},n=f(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&m(e,["fileData"],Jie(o));const a=f(t,["functionCall"]);a!=null&&m(e,["functionCall"],Yie(a));const s=f(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&m(e,["inlineData"],Oie(l));const u=f(t,["text"]);u!=null&&m(e,["text"],u);const c=f(t,["thought"]);c!=null&&m(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&m(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function poe(t){const e={},n=f(t,["category"]);if(n!=null&&m(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function moe(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Xie(n));const r=f(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function goe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),m(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],noe(s));const l=f(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],roe(l));const u=f(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Hr||(Hr={}));class $o{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yoe extends Qr{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new $o(Hr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=JE(this.apiClient,e),r=n._url,i=te("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const g=d.request;g.systemInstruction=h,d.request=g}u.push(d)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Uie(this.apiClient,e);return s=te("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Dy(c))}else{const u=JE(this.apiClient,e);return s=te("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Hc(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Fie(this.apiClient,e);return o=te("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Hc(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=toe(this.apiClient,e);return s=te("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Dy(c))}else{const u=eoe(this.apiClient,e);return s=te("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Hc(c))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=Rie(this.apiClient,e);a=te("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Mie(this.apiClient,e);a=te("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=coe(e);return s=te("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=foe(c),h=new GE;return Object.assign(h,d),h})}else{const u=uoe(e);return s=te("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=doe(c),h=new GE;return Object.assign(h,d),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=zie(this.apiClient,e);return s=te("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Gie(c))}else{const u=Vie(this.apiClient,e);return s=te("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>qie(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function voe(t){const e={},n=f(t,["data"]);if(n!=null&&m(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function YE(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Foe(o))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function woe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let c=Vn(a);Array.isArray(c)&&(c=c.map(d=>YE(d))),m(e,["contents"],c)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],YE(Kt(s)));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>zoe(d))),m(e,["tools"],c)}const u=f(t,["toolConfig"]);if(e!==void 0&&u!=null&&m(e,["toolConfig"],Voe(u)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function boe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let d=Vn(a);Array.isArray(d)&&(d=d.map(h=>h)),m(e,["contents"],d)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],Kt(s));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>qoe(h))),m(e,["tools"],d)}const u=f(t,["toolConfig"]);e!==void 0&&u!=null&&m(e,["toolConfig"],u);const c=f(t,["kmsKeyName"]);return e!==void 0&&c!=null&&m(e,["encryption_spec","kmsKeyName"],c),n}function xoe(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["model"],nN(t,r));const i=f(e,["config"]);return i!=null&&woe(i,n),n}function _oe(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["model"],nN(t,r));const i=f(e,["config"]);return i!=null&&boe(i,n),n}function Soe(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],Zr(t,r)),n}function Eoe(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],Zr(t,r)),n}function Toe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Aoe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Coe(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function koe(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);if(i!=null&&m(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Poe(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ioe(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&m(e,["description"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&m(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function Noe(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],Zr(t,r)),n}function Ooe(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],Zr(t,r)),n}function Moe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Roe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function $oe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function joe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Doe(t){const e={},n=f(t,["config"]);return n!=null&&$oe(n,e),e}function Loe(t){const e={},n=f(t,["config"]);return n!=null&&joe(n,e),e}function Uoe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function Boe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function Foe(t){const e={},n=f(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&m(e,["fileData"],Coe(o));const a=f(t,["functionCall"]);a!=null&&m(e,["functionCall"],koe(a));const s=f(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&m(e,["inlineData"],voe(l));const u=f(t,["text"]);u!=null&&m(e,["text"],u);const c=f(t,["thought"]);c!=null&&m(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&m(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Voe(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Poe(n));const r=f(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function zoe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),m(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Moe(s));const l=f(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Roe(l));const u=f(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function qoe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>Ioe(h))),m(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function Goe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function Hoe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function Woe(t,e){const n={},r=f(e,["name"]);r!=null&&m(n,["_url","name"],Zr(t,r));const i=f(e,["config"]);return i!=null&&Goe(i,n),n}function Koe(t,e){const n={},r=f(e,["name"]);r!=null&&m(n,["_url","name"],Zr(t,r));const i=f(e,["config"]);return i!=null&&Hoe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Joe extends Qr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $o(Hr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=_oe(this.apiClient,e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=xoe(this.apiClient,e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ooe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=Noe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Eoe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Aoe(c),h=new zE;return Object.assign(h,d),h})}else{const u=Soe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Toe(c),h=new zE;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Koe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=Woe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Loe(e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Boe(c),h=new qE;return Object.assign(h,d),h})}else{const u=Doe(e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Uoe(c),h=new qE;return Object.assign(h,d),h})}}}function XE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rt(t){return this instanceof rt?(this.v=t,this):new rt(t)}function Sa(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(y){return Promise.resolve(y).then(g,d)}}function s(g,y){r[g]&&(i[g]=function(v){return new Promise(function(x,w){o.push([g,v,x,w])>1||l(g,v)})},y&&(i[g]=y(i[g])))}function l(g,y){try{u(r[g](y))}catch(v){h(o[0][3],v)}}function u(g){g.value instanceof rt?Promise.resolve(g.value.v).then(c,d):h(o[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function h(g,y){g(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function xl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof XE=="function"?XE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yoe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:mN(n)}function mN(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Xoe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function QE(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!mN(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class Qoe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Zoe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Zoe{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Xoe(o)}async sendMessage(e){var n;await this.sendPromise;const r=Kt(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(d))!==null&&s!==void 0?s:[]);const g=u?[u]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Kt(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?QE(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Sa(this,arguments,function*(){var a,s,l,u;const c=[];try{for(var d=!0,h=xl(e),g;g=yield rt(h.next()),a=g.done,!a;d=!0){u=g.value,d=!1;const y=u;if(Yoe(y)){const v=(i=(r=y.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;v!==void 0&&c.push(v)}yield yield rt(y)}}catch(y){s={error:y}}finally{try{!d&&!a&&(l=h.return)&&(yield rt(l.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...QE(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Uh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eae(t){const e={},n=f(t,["file"]);return n!=null&&m(e,["file"],n),e}function tae(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function nae(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","file"],lN(n)),e}function rae(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function iae(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","file"],lN(n)),e}function oae(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function aae(t){const e={},n=f(t,["config"]);return n!=null&&oae(n,e),e}function sae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lae extends Qr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $o(Hr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=aae(e);return o=te("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=sae(l),c=new fie;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=eae(e);return o=te("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=tae(l),c=new hie;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=iae(e);return o=te("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=nae(e);return o=te("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=rae(l),c=new pie;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wc(t){const e={},n=f(t,["data"]);if(n!=null&&m(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function uae(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Tae(o))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function cae(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function dae(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);if(i!=null&&m(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function fae(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&m(e,["description"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&m(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function hae(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&m(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&m(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=f(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const y=f(t,["responseModalities"]);y!=null&&m(e,["responseModalities"],y);const v=f(t,["responseSchema"]);v!=null&&m(e,["responseSchema"],v);const x=f(t,["routingConfig"]);x!=null&&m(e,["routingConfig"],x);const w=f(t,["seed"]);w!=null&&m(e,["seed"],w);const b=f(t,["speechConfig"]);b!=null&&m(e,["speechConfig"],gN(b));const _=f(t,["stopSequences"]);_!=null&&m(e,["stopSequences"],_);const T=f(t,["temperature"]);T!=null&&m(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&m(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&m(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function pae(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function mae(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function gae(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","speechConfig"],cw(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&m(e,["setup","systemInstruction"],uae(Kt(y)));const v=f(t,["tools"]);if(e!==void 0&&v!=null){let E=Es(v);Array.isArray(E)&&(E=E.map(A=>Cae(Ss(A)))),m(e,["setup","tools"],E)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&m(e,["setup","sessionResumption"],Aae(x));const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","inputAudioTranscription"],w);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","outputAudioTranscription"],b);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),n}function yae(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],hae(r));const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","speechConfig"],gN(cw(d)));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&m(e,["setup","systemInstruction"],Kt(y));const v=f(t,["tools"]);if(e!==void 0&&v!=null){let E=Es(v);Array.isArray(E)&&(E=E.map(A=>kae(Ss(A)))),m(e,["setup","tools"],E)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&m(e,["setup","sessionResumption"],x);const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","inputAudioTranscription"],w);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","outputAudioTranscription"],b);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),n}function vae(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["setup","model"],je(t,r));const i=f(e,["config"]);return i!=null&&m(n,["config"],gae(i,n)),n}function wae(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["setup","model"],je(t,r));const i=f(e,["config"]);return i!=null&&m(n,["config"],yae(i,n)),n}function bae(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function xae(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["weightedPrompts"],r)}return e}function _ae(t){const e={},n=f(t,["media"]);if(n!=null){let u=rN(n);Array.isArray(u)&&(u=u.map(c=>Wc(c))),m(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&m(e,["audio"],Wc(oN(r)));const i=f(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&m(e,["video"],Wc(iN(o)));const a=f(t,["text"]);a!=null&&m(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function Sae(t){const e={},n=f(t,["media"]);if(n!=null){let u=rN(n);Array.isArray(u)&&(u=u.map(c=>c)),m(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&m(e,["audio"],oN(r));const i=f(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&m(e,["video"],iN(o));const a=f(t,["text"]);a!=null&&m(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function Eae(t){const e={},n=f(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const r=f(t,["serverContent"]);r!=null&&m(e,["serverContent"],r);const i=f(t,["toolCall"]);i!=null&&m(e,["toolCall"],i);const o=f(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],o);const a=f(t,["usageMetadata"]);a!=null&&m(e,["usageMetadata"],Pae(a));const s=f(t,["goAway"]);s!=null&&m(e,["goAway"],s);const l=f(t,["sessionResumptionUpdate"]);return l!=null&&m(e,["sessionResumptionUpdate"],l),e}function Tae(t){const e={},n=f(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&m(e,["fileData"],cae(o));const a=f(t,["functionCall"]);a!=null&&m(e,["functionCall"],dae(a));const s=f(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&m(e,["inlineData"],Wc(l));const u=f(t,["text"]);u!=null&&m(e,["text"],u);const c=f(t,["thought"]);c!=null&&m(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&m(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Aae(t){const e={},n=f(t,["handle"]);if(n!=null&&m(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function gN(t){const e={},n=f(t,["languageCode"]);n!=null&&m(e,["languageCode"],n);const r=f(t,["voiceConfig"]);if(r!=null&&m(e,["voiceConfig"],r),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Cae(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),m(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],pae(s));const l=f(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],mae(l));const u=f(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function kae(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>fae(h))),m(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function Pae(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=f(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=f(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const a=f(t,["thoughtsTokenCount"]);a!=null&&m(e,["thoughtsTokenCount"],a);const s=f(t,["totalTokenCount"]);s!=null&&m(e,["totalTokenCount"],s);const l=f(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>y)),m(e,["promptTokensDetails"],g)}const u=f(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(y=>y)),m(e,["cacheTokensDetails"],g)}const c=f(t,["candidatesTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),m(e,["responseTokensDetails"],g)}const d=f(t,["toolUsePromptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),m(e,["toolUsePromptTokensDetails"],g)}const h=f(t,["trafficType"]);return h!=null&&m(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iae(t){const e={},n=f(t,["data"]);if(n!=null&&m(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Nae(t){const e={},n=f(t,["content"]);n!=null&&m(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],Oae(r));const i=f(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&m(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&m(e,["urlContextMetadata"],d),e}function Oae(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function Mae(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["contents"]);if(i!=null){let o=Vn(i);Array.isArray(o)&&(o=o.map(a=>a)),m(n,["contents"],o)}return n}function Rae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["tokensInfo"],i)}return e}function $ae(t){const e={},n=f(t,["values"]);n!=null&&m(e,["values"],n);const r=f(t,["statistics"]);return r!=null&&m(e,["statistics"],jae(r)),e}function jae(t){const e={},n=f(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=f(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function Bh(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Gse(o))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function Dae(t){const e={},n=f(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=f(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function Lae(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Uae(t,e){const n={},r=f(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],Kt(r));const i=f(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>xN(s))),m(e,["tools"],a)}const o=f(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],Ise(o)),n}function Bae(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["contents"]);if(i!=null){let a=Vn(i);Array.isArray(a)&&(a=a.map(s=>Bh(s))),m(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&Lae(o),n}function Fae(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["contents"]);if(i!=null){let a=Vn(i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&Uae(o,n),n}function Vae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=f(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function zae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function qae(t,e){const n={},r=f(e,["model"]);return r!=null&&m(n,["_url","name"],je(t,r)),n}function Gae(t,e){const n={},r=f(e,["model"]);return r!=null&&m(n,["_url","name"],je(t,r)),n}function Hae(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Wae(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Kae(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&m(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=f(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const y=f(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const v=f(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","compressionQuality"],v);const x=f(t,["addWatermark"]);e!==void 0&&x!=null&&m(e,["parameters","addWatermark"],x);const w=f(t,["labels"]);e!==void 0&&w!=null&&m(e,["labels"],w);const b=f(t,["editMode"]);e!==void 0&&b!=null&&m(e,["parameters","editMode"],b);const _=f(t,["baseSteps"]);return e!==void 0&&_!=null&&m(e,["parameters","editConfig","baseSteps"],_),n}function Jae(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=f(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Xse(l))),m(n,["instances[0]","referenceImages"],s)}const a=f(e,["config"]);return a!=null&&Kae(a,n),n}function Yae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Fh(o))),m(e,["generatedImages"],i)}return e}function Xae(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Qae(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=f(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const a=f(t,["mimeType"]);e!==void 0&&a!=null&&m(e,["instances[]","mimeType"],a);const s=f(t,["autoTruncate"]);return e!==void 0&&s!=null&&m(e,["parameters","autoTruncate"],s),n}function Zae(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["contents"]);if(i!=null){let s=sw(t,i);Array.isArray(s)&&(s=s.map(l=>l)),m(n,["requests[]","content"],s)}const o=f(e,["config"]);o!=null&&Xae(o,n);const a=f(e,["model"]);return a!==void 0&&m(n,["requests[]","model"],je(t,a)),n}function ese(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["contents"]);if(i!=null){let a=sw(t,i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["instances[]","content"],a)}const o=f(e,["config"]);return o!=null&&Qae(o,n),n}function tse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function nse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>$ae(a))),m(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function rse(t){const e={},n=f(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=f(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function ise(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ose(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);if(i!=null&&m(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ase(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function sse(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&m(e,["description"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&m(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function lse(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Bh(Kt(i)));const o=f(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&m(r,["topP"],a);const s=f(e,["topK"]);s!=null&&m(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&m(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const y=f(e,["frequencyPenalty"]);y!=null&&m(r,["frequencyPenalty"],y);const v=f(e,["seed"]);v!=null&&m(r,["seed"],v);const x=f(e,["responseMimeType"]);x!=null&&m(r,["responseMimeType"],x);const w=f(e,["responseSchema"]);w!=null&&m(r,["responseSchema"],lw(w));const b=f(e,["responseJsonSchema"]);if(b!=null&&m(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let M=_;Array.isArray(M)&&(M=M.map(D=>Qse(D))),m(n,["safetySettings"],M)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let M=Es(T);Array.isArray(M)&&(M=M.map(D=>ole(Ss(D)))),m(n,["tools"],M)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&m(n,["toolConfig"],ile(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&m(n,["cachedContent"],Zr(t,E));const A=f(e,["responseModalities"]);A!=null&&m(r,["responseModalities"],A);const C=f(e,["mediaResolution"]);C!=null&&m(r,["mediaResolution"],C);const k=f(e,["speechConfig"]);if(k!=null&&m(r,["speechConfig"],uw(k)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=f(e,["thinkingConfig"]);N!=null&&m(r,["thinkingConfig"],N);const O=f(e,["imageConfig"]);return O!=null&&m(r,["imageConfig"],$se(O)),r}function use(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Kt(i));const o=f(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&m(r,["topP"],a);const s=f(e,["topK"]);s!=null&&m(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&m(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const y=f(e,["frequencyPenalty"]);y!=null&&m(r,["frequencyPenalty"],y);const v=f(e,["seed"]);v!=null&&m(r,["seed"],v);const x=f(e,["responseMimeType"]);x!=null&&m(r,["responseMimeType"],x);const w=f(e,["responseSchema"]);w!=null&&m(r,["responseSchema"],lw(w));const b=f(e,["responseJsonSchema"]);b!=null&&m(r,["responseJsonSchema"],b);const _=f(e,["routingConfig"]);_!=null&&m(r,["routingConfig"],_);const T=f(e,["modelSelectionConfig"]);T!=null&&m(r,["modelConfig"],T);const S=f(e,["safetySettings"]);if(n!==void 0&&S!=null){let R=S;Array.isArray(R)&&(R=R.map(L=>L)),m(n,["safetySettings"],R)}const E=f(e,["tools"]);if(n!==void 0&&E!=null){let R=Es(E);Array.isArray(R)&&(R=R.map(L=>xN(Ss(L)))),m(n,["tools"],R)}const A=f(e,["toolConfig"]);n!==void 0&&A!=null&&m(n,["toolConfig"],A);const C=f(e,["labels"]);n!==void 0&&C!=null&&m(n,["labels"],C);const k=f(e,["cachedContent"]);n!==void 0&&k!=null&&m(n,["cachedContent"],Zr(t,k));const N=f(e,["responseModalities"]);N!=null&&m(r,["responseModalities"],N);const O=f(e,["mediaResolution"]);O!=null&&m(r,["mediaResolution"],O);const M=f(e,["speechConfig"]);M!=null&&m(r,["speechConfig"],bN(uw(M)));const D=f(e,["audioTimestamp"]);D!=null&&m(r,["audioTimestamp"],D);const B=f(e,["thinkingConfig"]);B!=null&&m(r,["thinkingConfig"],B);const j=f(e,["imageConfig"]);return j!=null&&m(r,["imageConfig"],jse(j)),r}function ZE(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["contents"]);if(i!=null){let a=Vn(i);Array.isArray(a)&&(a=a.map(s=>Bh(s))),m(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&m(n,["generationConfig"],lse(t,o,n)),n}function eT(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["contents"]);if(i!=null){let a=Vn(i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&m(n,["generationConfig"],use(t,o,n)),n}function tT(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Nae(u))),m(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function nT(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),m(e,["candidates"],u)}const i=f(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=f(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const a=f(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const s=f(t,["responseId"]);s!=null&&m(e,["responseId"],s);const l=f(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function cse(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=f(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=f(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const s=f(t,["personGeneration"]);e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s);const l=f(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&m(e,["parameters","includeSafetyAttributes"],l);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const c=f(t,["language"]);e!==void 0&&c!=null&&m(e,["parameters","language"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&m(e,["parameters","outputOptions","compressionQuality"],h),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=f(t,["imageSize"]);if(e!==void 0&&g!=null&&m(e,["parameters","sampleImageSize"],g),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function dse(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&m(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=f(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const y=f(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const v=f(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","compressionQuality"],v);const x=f(t,["addWatermark"]);e!==void 0&&x!=null&&m(e,["parameters","addWatermark"],x);const w=f(t,["labels"]);e!==void 0&&w!=null&&m(e,["labels"],w);const b=f(t,["imageSize"]);e!==void 0&&b!=null&&m(e,["parameters","sampleImageSize"],b);const _=f(t,["enhancePrompt"]);return e!==void 0&&_!=null&&m(e,["parameters","enhancePrompt"],_),n}function fse(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&cse(o,n),n}function hse(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&dse(o,n),n}function pse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Ase(a))),m(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],vN(i)),e}function mse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Fh(a))),m(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],wN(i)),e}function gse(t,e){const n={},r=f(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=f(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const a=f(t,["resolution"]);e!==void 0&&a!=null&&m(e,["parameters","resolution"],a);const s=f(t,["personGeneration"]);if(e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&m(e,["parameters","negativePrompt"],l);const u=f(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&m(e,["parameters","enhancePrompt"],u),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=f(t,["lastFrame"]);e!==void 0&&c!=null&&m(e,["instances[0]","lastFrame"],Vh(c));const d=f(t,["referenceImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>vle(g))),m(e,["instances[0]","referenceImages"],h)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function yse(t,e){const n={},r=f(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=f(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const a=f(t,["durationSeconds"]);e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a);const s=f(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=f(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const d=f(t,["pubsubTopic"]);e!==void 0&&d!=null&&m(e,["parameters","pubsubTopic"],d);const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","negativePrompt"],h);const g=f(t,["enhancePrompt"]);e!==void 0&&g!=null&&m(e,["parameters","enhancePrompt"],g);const y=f(t,["generateAudio"]);e!==void 0&&y!=null&&m(e,["parameters","generateAudio"],y);const v=f(t,["lastFrame"]);e!==void 0&&v!=null&&m(e,["instances[0]","lastFrame"],cr(v));const x=f(t,["referenceImages"]);if(e!==void 0&&x!=null){let _=x;Array.isArray(_)&&(_=_.map(T=>wle(T))),m(e,["instances[0]","referenceImages"],_)}const w=f(t,["mask"]);e!==void 0&&w!=null&&m(e,["instances[0]","mask"],yle(w));const b=f(t,["compressionQuality"]);return e!==void 0&&b!=null&&m(e,["parameters","compressionQuality"],b),n}function vse(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],_se(a)),e}function wse(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const a=f(t,["response"]);return a!=null&&m(e,["response"],Sse(a)),e}function bse(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&m(n,["instances[0]","image"],Vh(o));const a=f(e,["video"]);a!=null&&m(n,["instances[0]","video"],_N(a));const s=f(e,["source"]);s!=null&&Ese(s,n);const l=f(e,["config"]);return l!=null&&gse(l,n),n}function xse(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&m(n,["instances[0]","image"],cr(o));const a=f(e,["video"]);a!=null&&m(n,["instances[0]","video"],SN(a));const s=f(e,["source"]);s!=null&&Tse(s,n);const l=f(e,["config"]);return l!=null&&yse(l,n),n}function _se(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>kse(a))),m(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Sse(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Pse(a))),m(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Ese(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],Vh(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],_N(o)),n}function Tse(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],cr(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],SN(o)),n}function Ase(t){const e={},n=f(t,["_self"]);n!=null&&m(e,["image"],Dse(n));const r=f(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=f(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],vN(i)),e}function Fh(t){const e={},n=f(t,["_self"]);n!=null&&m(e,["image"],yN(n));const r=f(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=f(t,["_self"]);i!=null&&m(e,["safetyAttributes"],wN(i));const o=f(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function Cse(t){const e={},n=f(t,["_self"]);n!=null&&m(e,["mask"],yN(n));const r=f(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["labels"],i)}return e}function kse(t){const e={},n=f(t,["video"]);return n!=null&&m(e,["video"],mle(n)),e}function Pse(t){const e={},n=f(t,["_self"]);return n!=null&&m(e,["video"],gle(n)),e}function Ise(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&m(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&m(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=f(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const y=f(t,["responseModalities"]);y!=null&&m(e,["responseModalities"],y);const v=f(t,["responseSchema"]);v!=null&&m(e,["responseSchema"],v);const x=f(t,["routingConfig"]);x!=null&&m(e,["routingConfig"],x);const w=f(t,["seed"]);w!=null&&m(e,["seed"],w);const b=f(t,["speechConfig"]);b!=null&&m(e,["speechConfig"],bN(b));const _=f(t,["stopSequences"]);_!=null&&m(e,["stopSequences"],_);const T=f(t,["temperature"]);T!=null&&m(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&m(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&m(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Nse(t,e){const n={},r=f(e,["model"]);return r!=null&&m(n,["_url","name"],je(t,r)),n}function Ose(t,e){const n={},r=f(e,["model"]);return r!=null&&m(n,["_url","name"],je(t,r)),n}function Mse(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Rse(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function $se(t){const e={},n=f(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function jse(t){const e={},n=f(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=f(t,["imageSize"]);r!=null&&m(e,["imageSize"],r);const i=f(t,["outputMimeType"]);i!=null&&m(e,["imageOutputOptions","mimeType"],i);const o=f(t,["outputCompressionQuality"]);return o!=null&&m(e,["imageOutputOptions","compressionQuality"],o),e}function Dse(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],$i(n));const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function yN(t){const e={},n=f(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],$i(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Vh(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],$i(n));const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function cr(t){const e={},n=f(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=f(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],$i(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Lse(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],uN(t,s)),r}function Use(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],uN(t,s)),r}function Bse(t,e){const n={},r=f(e,["config"]);return r!=null&&Lse(t,r,n),n}function Fse(t,e){const n={},r=f(e,["config"]);return r!=null&&Use(t,r,n),n}function Vse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=cN(i);Array.isArray(o)&&(o=o.map(a=>Ly(a))),m(e,["models"],o)}return e}function zse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=cN(i);Array.isArray(o)&&(o=o.map(a=>Uy(a))),m(e,["models"],o)}return e}function qse(t){const e={},n=f(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=f(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=f(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function Ly(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["description"]);i!=null&&m(e,["description"],i);const o=f(t,["version"]);o!=null&&m(e,["version"],o);const a=f(t,["_self"]);a!=null&&m(e,["tunedModelInfo"],ale(a));const s=f(t,["inputTokenLimit"]);s!=null&&m(e,["inputTokenLimit"],s);const l=f(t,["outputTokenLimit"]);l!=null&&m(e,["outputTokenLimit"],l);const u=f(t,["supportedGenerationMethods"]);u!=null&&m(e,["supportedActions"],u);const c=f(t,["temperature"]);c!=null&&m(e,["temperature"],c);const d=f(t,["maxTemperature"]);d!=null&&m(e,["maxTemperature"],d);const h=f(t,["topP"]);h!=null&&m(e,["topP"],h);const g=f(t,["topK"]);g!=null&&m(e,["topK"],g);const y=f(t,["thinking"]);return y!=null&&m(e,["thinking"],y),e}function Uy(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["description"]);i!=null&&m(e,["description"],i);const o=f(t,["versionId"]);o!=null&&m(e,["version"],o);const a=f(t,["deployedModels"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>rse(h))),m(e,["endpoints"],d)}const s=f(t,["labels"]);s!=null&&m(e,["labels"],s);const l=f(t,["_self"]);l!=null&&m(e,["tunedModelInfo"],sle(l));const u=f(t,["defaultCheckpointId"]);u!=null&&m(e,["defaultCheckpointId"],u);const c=f(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),m(e,["checkpoints"],d)}return e}function Gse(t){const e={},n=f(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&m(e,["fileData"],ise(o));const a=f(t,["functionCall"]);a!=null&&m(e,["functionCall"],ose(a));const s=f(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&m(e,["inlineData"],Iae(l));const u=f(t,["text"]);u!=null&&m(e,["text"],u);const c=f(t,["thought"]);c!=null&&m(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&m(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Hse(t){const e={},n=f(t,["productImage"]);return n!=null&&m(e,["image"],cr(n)),e}function Wse(t,e){const n={},r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=f(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","baseSteps"],i);const o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const a=f(t,["seed"]);e!==void 0&&a!=null&&m(e,["parameters","seed"],a);const s=f(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=f(t,["addWatermark"]);e!==void 0&&u!=null&&m(e,["parameters","addWatermark"],u);const c=f(t,["outputMimeType"]);e!==void 0&&c!=null&&m(e,["parameters","outputOptions","mimeType"],c);const d=f(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","compressionQuality"],d);const h=f(t,["enhancePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h);const g=f(t,["labels"]);return e!==void 0&&g!=null&&m(e,["labels"],g),n}function Kse(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["source"]);i!=null&&Yse(i,n);const o=f(e,["config"]);return o!=null&&Wse(o,n),n}function Jse(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Fh(i))),m(e,["generatedImages"],r)}return e}function Yse(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=f(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],cr(i));const o=f(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Hse(s))),m(e,["instances[0]","productImages"],a)}return n}function Xse(t){const e={},n=f(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],cr(n));const r=f(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=f(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=f(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],qse(o));const a=f(t,["controlImageConfig"]);a!=null&&m(e,["controlImageConfig"],Dae(a));const s=f(t,["styleImageConfig"]);s!=null&&m(e,["styleImageConfig"],s);const l=f(t,["subjectImageConfig"]);return l!=null&&m(e,["subjectImageConfig"],l),e}function vN(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function wN(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function Qse(t){const e={},n=f(t,["category"]);if(n!=null&&m(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function Zse(t){const e={},n=f(t,["image"]);return n!=null&&m(e,["image"],cr(n)),e}function ele(t,e){const n={},r=f(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=f(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const o=f(t,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const a=f(t,["maskDilation"]);e!==void 0&&a!=null&&m(e,["parameters","maskDilation"],a);const s=f(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&m(e,["parameters","binaryColorThreshold"],s);const l=f(t,["labels"]);return e!==void 0&&l!=null&&m(e,["labels"],l),n}function tle(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["source"]);i!=null&&rle(i,n);const o=f(e,["config"]);return o!=null&&ele(o,n),n}function nle(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Cse(i))),m(e,["generatedMasks"],r)}return e}function rle(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],cr(i));const o=f(t,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],Zse(o)),n}function bN(t){const e={},n=f(t,["languageCode"]);n!=null&&m(e,["languageCode"],n);const r=f(t,["voiceConfig"]);if(r!=null&&m(e,["voiceConfig"],r),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function ile(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],ase(n));const r=f(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function ole(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),m(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Mse(s));const l=f(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Rse(l));const u=f(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function xN(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>sse(h))),m(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function ale(t){const e={},n=f(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function sle(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function lle(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function ule(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function cle(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","name"],je(t,r));const i=f(e,["config"]);return i!=null&&lle(i,n),n}function dle(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["config"]);return i!=null&&ule(i,n),n}function fle(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=f(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&m(e,["parameters","safetySetting"],i);const o=f(t,["personGeneration"]);e!==void 0&&o!=null&&m(e,["parameters","personGeneration"],o);const a=f(t,["includeRaiReason"]);e!==void 0&&a!=null&&m(e,["parameters","includeRaiReason"],a);const s=f(t,["outputMimeType"]);e!==void 0&&s!=null&&m(e,["parameters","outputOptions","mimeType"],s);const l=f(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&m(e,["parameters","outputOptions","compressionQuality"],l);const u=f(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=f(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=f(t,["labels"]);e!==void 0&&d!=null&&m(e,["labels"],d);const h=f(t,["numberOfImages"]);e!==void 0&&h!=null&&m(e,["parameters","sampleCount"],h);const g=f(t,["mode"]);return e!==void 0&&g!=null&&m(e,["parameters","mode"],g),n}function hle(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],je(t,r));const i=f(e,["image"]);i!=null&&m(n,["instances[0]","image"],cr(i));const o=f(e,["upscaleFactor"]);o!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=f(e,["config"]);return a!=null&&fle(a,n),n}function ple(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Fh(o))),m(e,["generatedImages"],i)}return e}function mle(t){const e={},n=f(t,["uri"]);n!=null&&m(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],$i(r));const i=f(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function gle(t){const e={},n=f(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],$i(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function yle(t){const e={},n=f(t,["image"]);n!=null&&m(e,["_self"],cr(n));const r=f(t,["maskMode"]);return r!=null&&m(e,["maskMode"],r),e}function vle(t){const e={},n=f(t,["image"]);n!=null&&m(e,["image"],Vh(n));const r=f(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function wle(t){const e={},n=f(t,["image"]);n!=null&&m(e,["image"],cr(n));const r=f(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function _N(t){const e={},n=f(t,["uri"]);n!=null&&m(e,["uri"],n);const r=f(t,["videoBytes"]);r!=null&&m(e,["encodedVideo"],$i(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["encoding"],i),e}function SN(t){const e={},n=f(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=f(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],$i(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ble="Content-Type",xle="X-Server-Timeout",_le="User-Agent",By="x-goog-api-client",Sle="1.30.0",Ele=`google-genai-sdk/${Sle}`,Tle="v1beta1",Ale="v1beta",rT=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Cle{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Tle,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Ale,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&kle(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await iT(i),new $y(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await iT(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Sa(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:s,value:l}=yield rt(i.read());if(s){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(l,{stream:!0});try{const d=JSON.parse(u);if("error"in d){const h=JSON.parse(JSON.stringify(d.error)),g=h.status,y=h.code,v=`got status: ${g}. ${JSON.stringify(d)}`;if(y>=400&&y<600)throw new Uh({message:v,status:y})}}catch(d){if(d.name==="ApiError")throw d}a+=u;let c=a.match(rT);for(;c;){const d=c[1];try{const h=new Response(d,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield rt(new $y(h)),a=a.slice(c[0].length),c=a.match(rT)}catch(h){throw new Error(`exception parsing stream chunk ${d}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Ele+" "+this.clientOptions.userAgentExtra;return e[_le]=n,e[By]=n,e[ble]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(xle,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),c=te("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&r.customMetadata&&(d.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(d.chunkingConfig=r.chunkingConfig);const h=await this.fetchUploadUrl(u,s,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function iT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Uh({message:i,status:n}):new Error(i)}}function kle(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ple="mcp_used/unknown";let Ile=!1;function EN(t){for(const e of t)if(Nle(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Ile}function TN(t){var e;const n=(e=t[By])!==null&&e!==void 0?e:"";t[By]=(n+` ${Ple}`).trimStart()}function Nle(t){return t!==null&&typeof t=="object"&&t instanceof dw}function Ole(t,e=100){return Sa(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield rt(t.listTools({cursor:r}));for(const a of o.tools)yield yield rt(a),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class dw{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new dw(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,xl(Ole(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;a.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Eie(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Mle(t,e,n){const r=new gie;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Rle{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=Dle(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(_=>{u=_}),d=e.callbacks,h=function(){u({})},g=this.apiClient,y={onopen:h,onmessage:_=>{Mle(g,d.onmessage,_)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(_){}},v=this.webSocketFactory.create(l,jle(a),y);v.connect(),await c;const b={setup:{model:je(this.apiClient,e.model)}};return v.send(JSON.stringify(b)),new $le(v,this.apiClient)}}class $le{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=xae(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=bae(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(fa.PLAY)}pause(){this.sendPlaybackControl(fa.PAUSE)}stop(){this.sendPlaybackControl(fa.STOP)}resetContext(){this.sendPlaybackControl(fa.RESET_CONTEXT)}close(){this.conn.close()}}function jle(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Dle(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lle="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Ule(t,e,n){const r=new mie;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=Eae(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class Ble{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Rle(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&EN(e.config.tools)&&TN(d);const h=qle(d);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c);else{const k=this.apiClient.getApiKey();let N="BidiGenerateContent",O="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${N}?${O}=${k}`}let g=()=>{};const y=new Promise(k=>{g=k}),v=e.callbacks,x=function(){var k;(k=v==null?void 0:v.onopen)===null||k===void 0||k.call(v),g({})},w=this.apiClient,b={onopen:x,onmessage:k=>{Ule(w,v.onmessage,k)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=v==null?void 0:v.onclose)!==null&&r!==void 0?r:function(k){}},_=this.webSocketFactory.create(c,zle(h),b);_.connect(),await y;let T=je(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const k=this.apiClient.getProject(),N=this.apiClient.getLocation();T=`projects/${k}/locations/${N}/`+T}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xf.AUDIO]}:e.config.responseModalities=[xf.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],A=[];for(const k of E)if(this.isCallableTool(k)){const N=k;A.push(await N.tool())}else A.push(k);A.length>0&&(e.config.tools=A);const C={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=wae(this.apiClient,C):S=vae(this.apiClient,C),delete S.config,_.send(JSON.stringify(S)),new Vle(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Fle={turnComplete:!0};class Vle{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Vn(n.turns),e.isVertexAI()||(r=r.map(i=>Bh(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Lle)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Fle),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Sae(e)}:n={realtimeInput:_ae(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function zle(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function qle(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oT=10;function aT(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ea(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ea(t){return"callTool"in t&&typeof t.callTool=="function"}function Gle(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Ea(i)))!==null&&r!==void 0?r:!1}function sT(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Ea(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function lT(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hle extends Qr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Gle(n)||aT(n.config))return await this.generateContentInternal(l);const u=sT(n);if(u.length>0){const v=u.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${v}.`)}let c,d;const h=Vn(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:oT;let y=0;for(;y<g&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const v=c.candidates[0].content,x=[];for(const w of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Ea(w)){const _=await w.callTool(c.functionCalls);x.push(..._)}y++,d={role:"user",parts:x},l.contents=Vn(l.contents),l.contents.push(v),l.contents.push(d),lT(l.config)&&(h.push(v),h.push(d))}return lT(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),aT(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=sT(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new $o(Hr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>Ea(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&EN(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),TN(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ea(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:oT;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){var h,g;return Sa(this,arguments,function*(){for(var y,v,x,w;s<o;){a&&(s++,a=!1);const S=yield rt(u.processParamsMaybeAddMcpUsage(d)),E=yield rt(u.generateContentStreamInternal(S)),A=[],C=[];try{for(var b=!0,_=(v=void 0,xl(E)),T;T=yield rt(_.next()),y=T.done,!y;b=!0){w=T.value,b=!1;const k=w;if(yield yield rt(k),k.candidates&&(!((h=k.candidates[0])===null||h===void 0)&&h.content)){C.push(k.candidates[0].content);for(const N of(g=k.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(s<o&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(N.functionCall.name)){const O=yield rt(c.get(N.functionCall.name).callTool([N.functionCall]));A.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(k){v={error:k}}finally{try{!b&&!y&&(x=_.return)&&(yield rt(x.call(_)))}finally{if(v)throw v.error}}if(A.length>0){a=!0;const k=new Js;k.candidates=[{content:{role:"user",parts:A}}],yield yield rt(k);const N=[];N.push(...C),N.push({role:"user",parts:A});const O=Vn(d.contents).concat(N);d.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=eT(this.apiClient,e);return s=te("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=nT(c),h=new Js;return Object.assign(h,d),h})}else{const u=ZE(this.apiClient,e);return s=te("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=tT(c),h=new Js;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=eT(this.apiClient,e);return s=te("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(d){return Sa(this,arguments,function*(){var h,g,y,v;try{for(var x=!0,w=xl(d),b;b=yield rt(w.next()),h=b.done,!h;x=!0){v=b.value,x=!1;const _=v,T=nT(yield rt(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new Js;Object.assign(S,T),yield yield rt(S)}}catch(_){g={error:_}}finally{try{!x&&!h&&(y=w.return)&&(yield rt(y.call(w)))}finally{if(g)throw g.error}}})})}else{const u=ZE(this.apiClient,e);return s=te("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(d){return Sa(this,arguments,function*(){var h,g,y,v;try{for(var x=!0,w=xl(d),b;b=yield rt(w.next()),h=b.done,!h;x=!0){v=b.value,x=!1;const _=v,T=tT(yield rt(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new Js;Object.assign(S,T),yield yield rt(S)}}catch(_){g={error:_}}finally{try{!x&&!h&&(y=w.return)&&(yield rt(y.call(w)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ese(this.apiClient,e);return s=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=nse(c),h=new DE;return Object.assign(h,d),h})}else{const u=Zae(this.apiClient,e);return s=te("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=tse(c),h=new DE;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=hse(this.apiClient,e);return s=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=mse(c),h=new LE;return Object.assign(h,d),h})}else{const u=fse(this.apiClient,e);return s=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=pse(c),h=new LE;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Jae(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Yae(l),c=new iie;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=hle(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=ple(l),c=new oie;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Kse(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Jse(l),c=new aie;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=tle(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=nle(l),c=new sie;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ose(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Uy(c))}else{const u=Nse(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Ly(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Fse(this.apiClient,e);return s=te("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=zse(c),h=new UE;return Object.assign(h,d),h})}else{const u=Bse(this.apiClient,e);return s=te("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Vse(c),h=new UE;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=dle(this.apiClient,e);return s=te("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Uy(c))}else{const u=cle(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Ly(c))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Gae(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Wae(c),h=new BE;return Object.assign(h,d),h})}else{const u=qae(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Hae(c),h=new BE;return Object.assign(h,d),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Fae(this.apiClient,e);return s=te("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=zae(c),h=new FE;return Object.assign(h,d),h})}else{const u=Bae(this.apiClient,e);return s=te("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Vae(c),h=new FE;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Mae(this.apiClient,e);return o=te("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Rae(l),c=new lie;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=xse(this.apiClient,e);return s=te("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=wse(c),h=new _f;return Object.assign(h,d),h})}else{const u=bse(this.apiClient,e);return s=te("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const d=vse(c),h=new _f;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wle extends Qr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Qre(e);return s=te("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=Xre(e);return s=te("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=qre(e);return o=te("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kle(t){const e={},n=f(t,["data"]);if(n!=null&&m(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Jle(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>iue(o))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function Yle(t,e,n){const r={},i=f(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const o=f(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&m(n,["newSessionExpireTime"],o);const a=f(e,["uses"]);n!==void 0&&a!=null&&m(n,["uses"],a);const s=f(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&m(n,["bidiGenerateContentSetup"],rue(t,s));const l=f(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&m(n,["fieldMask"],l),r}function Xle(t,e){const n={},r=f(e,["config"]);return r!=null&&m(n,["config"],Yle(t,r,n)),n}function Qle(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Zle(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);if(i!=null&&m(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function eue(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function tue(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function nue(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","speechConfig"],cw(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&m(e,["setup","systemInstruction"],Jle(Kt(y)));const v=f(t,["tools"]);if(e!==void 0&&v!=null){let E=Es(v);Array.isArray(E)&&(E=E.map(A=>aue(Ss(A)))),m(e,["setup","tools"],E)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&m(e,["setup","sessionResumption"],oue(x));const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","inputAudioTranscription"],w);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","outputAudioTranscription"],b);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),n}function rue(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["setup","model"],je(t,r));const i=f(e,["config"]);return i!=null&&m(n,["config"],nue(i,n)),n}function iue(t){const e={},n=f(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&m(e,["fileData"],Qle(o));const a=f(t,["functionCall"]);a!=null&&m(e,["functionCall"],Zle(a));const s=f(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&m(e,["inlineData"],Kle(l));const u=f(t,["text"]);u!=null&&m(e,["text"],u);const c=f(t,["thought"]);c!=null&&m(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&m(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function oue(t){const e={},n=f(t,["handle"]);if(n!=null&&m(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function aue(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),m(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],eue(s));const l=f(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],tue(l));const u=f(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sue(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function lue(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=sue(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class uue extends Qr{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=Xle(this.apiClient,e);o=te("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=lue(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cue(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["displayName"],r),n}function due(t){const e={},n=f(t,["config"]);return n!=null&&cue(n,e),e}function fue(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function hue(t){const e={},n=f(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&fue(r,e),e}function pue(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function mue(t,e){const n={},r=f(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["customMetadata"],o)}const i=f(t,["chunkingConfig"]);return e!==void 0&&i!=null&&m(e,["chunkingConfig"],i),n}function gue(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const a=f(t,["response"]);return a!=null&&m(e,["response"],vue(a)),e}function yue(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=f(t,["fileName"]);r!=null&&m(e,["fileName"],r);const i=f(t,["config"]);return i!=null&&mue(i,e),e}function vue(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&m(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function wue(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function bue(t){const e={},n=f(t,["config"]);return n!=null&&wue(n,e),e}function xue(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["fileSearchStores"],o)}return e}function _ue(t,e){const n={},r=f(t,["mimeType"]);e!==void 0&&r!=null&&m(e,["mimeType"],r);const i=f(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),m(e,["customMetadata"],s)}const a=f(t,["chunkingConfig"]);return e!==void 0&&a!=null&&m(e,["chunkingConfig"],a),n}function Sue(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=f(t,["config"]);return r!=null&&_ue(r,e),e}function Eue(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tue(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function Aue(t){const e={},n=f(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&Tue(r,e),e}function Cue(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function kue(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Pue(t){const e={},n=f(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const r=f(t,["config"]);return r!=null&&kue(r,e),e}function Iue(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nue extends Qr{constructor(e){super(),this.apiClient=e,this.list=async n=>new $o(Hr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Cue(e);return o=te("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Aue(e);i=te("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Pue(e);return o=te("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Iue(l),c=new uie;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oue extends Qr{constructor(e,n=new Nue(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new $o(Hr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=due(e);return o=te("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=pue(e);return o=te("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=hue(e);i=te("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=bue(e);return o=te("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=xue(l),c=new cie;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Sue(e);return o=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Eue(l),c=new die;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=yue(e);return o=te("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=gue(l),c=new ow;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mue(t,e){const n={},r=f(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Rue(t,e){const n={},r=f(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function $ue(t,e,n){const r={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&m(e,["displayName"],i),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(t,["epochCount"]);e!==void 0&&o!=null&&m(e,["tuningTask","hyperparameters","epochCount"],o);const a=f(t,["learningRateMultiplier"]);if(a!=null&&m(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=f(t,["batchSize"]);e!==void 0&&s!=null&&m(e,["tuningTask","hyperparameters","batchSize"],s);const l=f(t,["learningRate"]);if(e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","learningRate"],l),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function jue(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=f(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec"],uT(g))}else if(i==="PREFERENCE_TUNING"){const g=f(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec"],uT(g))}const o=f(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&m(e,["tunedModelDisplayName"],o);const a=f(t,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);let s=f(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const g=f(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(s==="PREFERENCE_TUNING"){const g=f(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=f(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=f(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=f(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=f(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=f(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(c==="PREFERENCE_TUNING"){const g=f(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=f(t,["labels"]);e!==void 0&&d!=null&&m(e,["labels"],d);const h=f(t,["beta"]);return e!==void 0&&h!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function Due(t,e){const n={},r=f(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&Kue(o);const a=f(t,["config"]);return a!=null&&$ue(a,n),n}function Lue(t,e){const n={},r=f(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&Jue(o,n,e);const a=f(t,["config"]);return a!=null&&jue(a,n,e),n}function Uue(t,e){const n={},r=f(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Bue(t,e){const n={},r=f(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Fue(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function Vue(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function zue(t,e){const n={},r=f(t,["config"]);return r!=null&&Fue(r,n),n}function que(t,e){const n={},r=f(t,["config"]);return r!=null&&Vue(r,n),n}function Gue(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=f(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>AN(s))),m(n,["tuningJobs"],a)}return n}function Hue(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=f(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Fy(s))),m(n,["tuningJobs"],a)}return n}function Wue(t,e){const n={},r=f(t,["name"]);r!=null&&m(n,["model"],r);const i=f(t,["name"]);return i!=null&&m(n,["endpoint"],i),n}function Kue(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(n,["examples","examples"],i)}return n}function Jue(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function AN(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&m(n,["name"],i);const o=f(t,["state"]);o!=null&&m(n,["state"],sN(o));const a=f(t,["createTime"]);a!=null&&m(n,["createTime"],a);const s=f(t,["tuningTask","startTime"]);s!=null&&m(n,["startTime"],s);const l=f(t,["tuningTask","completeTime"]);l!=null&&m(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const c=f(t,["description"]);c!=null&&m(n,["description"],c);const d=f(t,["baseModel"]);d!=null&&m(n,["baseModel"],d);const h=f(t,["_self"]);return h!=null&&m(n,["tunedModel"],Wue(h)),n}function Fy(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&m(n,["name"],i);const o=f(t,["state"]);o!=null&&m(n,["state"],sN(o));const a=f(t,["createTime"]);a!=null&&m(n,["createTime"],a);const s=f(t,["startTime"]);s!=null&&m(n,["startTime"],s);const l=f(t,["endTime"]);l!=null&&m(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const c=f(t,["error"]);c!=null&&m(n,["error"],c);const d=f(t,["description"]);d!=null&&m(n,["description"],d);const h=f(t,["baseModel"]);h!=null&&m(n,["baseModel"],h);const g=f(t,["tunedModel"]);g!=null&&m(n,["tunedModel"],g);const y=f(t,["preTunedModel"]);y!=null&&m(n,["preTunedModel"],y);const v=f(t,["supervisedTuningSpec"]);v!=null&&m(n,["supervisedTuningSpec"],v);const x=f(t,["preferenceOptimizationSpec"]);x!=null&&m(n,["preferenceOptimizationSpec"],x);const w=f(t,["tuningDataStats"]);w!=null&&m(n,["tuningDataStats"],w);const b=f(t,["encryptionSpec"]);b!=null&&m(n,["encryptionSpec"],b);const _=f(t,["partnerModelTuningSpec"]);_!=null&&m(n,["partnerModelTuningSpec"],_);const T=f(t,["customBaseModel"]);T!=null&&m(n,["customBaseModel"],T);const S=f(t,["experiment"]);S!=null&&m(n,["experiment"],S);const E=f(t,["labels"]);E!=null&&m(n,["labels"],E);const A=f(t,["outputUri"]);A!=null&&m(n,["outputUri"],A);const C=f(t,["pipelineJob"]);C!=null&&m(n,["pipelineJob"],C);const k=f(t,["serviceAccount"]);k!=null&&m(n,["serviceAccount"],k);const N=f(t,["tunedModelDisplayName"]);N!=null&&m(n,["tunedModelDisplayName"],N);const O=f(t,["veoTuningSpec"]);return O!=null&&m(n,["veoTuningSpec"],O),n}function Yue(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&m(n,["name"],i);const o=f(t,["metadata"]);o!=null&&m(n,["metadata"],o);const a=f(t,["done"]);a!=null&&m(n,["done"],a);const s=f(t,["error"]);return s!=null&&m(n,["error"],s),n}function uT(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=f(t,["vertexDatasetResource"]);return i!=null&&m(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xue extends Qr{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new $o(Hr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Ry.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Bue(e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Fy(c))}else{const u=Uue(e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>AN(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=que(e);return s=te("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Hue(c),h=new VE;return Object.assign(h,d),h})}else{const u=zue(e);return s=te("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Gue(c),h=new VE;return Object.assign(h,d),h})}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=Rue(e);a=te("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Mue(e);a=te("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Lue(e,e);return o=te("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Fy(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Due(e);return o=te("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Yue(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Que{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Zue=1024*1024*8,ece=3,tce=1e3,nce=2,Ef="x-goog-upload-status";async function rce(t,e,n){var r;const i=await CN(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Ef])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function ice(t,e,n){var r;const i=await CN(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Ef])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=tN(o),s=new aw;return Object.assign(s,a),s}async function CN(t,e,n){var r,i;let o=0,a=0,s=new $y(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min(Zue,o-a),c=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let d=0,h=tce;for(;d<ece&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[Ef]));)d++,await ace(h),h=h*nce;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Ef])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function oce(t){return{size:t.size,type:t.type}}function ace(t){return new Promise(e=>setTimeout(e,t))}class sce{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rce(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ice(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oce(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lce{create(e,n,r){return new uce(e,n,r)}}class uce{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cT="x-goog-api-key";class cce{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(cT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(cT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dce="gl-node/";class fce{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Vre(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new cce(this.apiKey);this.apiClient=new Cle({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:dce+"web",uploader:new sce,downloader:new Que}),this.models=new Hle(this.apiClient),this.live=new Ble(this.apiClient,i,new lce),this.batches=new yoe(this.apiClient),this.chats=new Qoe(this.models,this.apiClient),this.caches=new Joe(this.apiClient),this.files=new lae(this.apiClient),this.operations=new Wle(this.apiClient),this.authTokens=new uue(this.apiClient),this.tunings=new Xue(this.apiClient),this.fileSearchStores=new Oue(this.apiClient)}}var dT={};const hce=async t=>{if(!dT.API_KEY)return"API key not configured. Please set the API_KEY environment variable.";try{return(await new fce({apiKey:dT.API_KEY}).models.generateContent({model:"gemini-2.5-flash",contents:t,config:{systemInstruction:"You are an expert business analyst for a POS system. Provide concise, data-driven insights based on the user's query. Format your response as clean markdown."}})).text}catch(e){return console.error("Gemini API error:",e),"Sorry, I couldn't fetch insights at the moment. Please try again later."}},pce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5L12 3m0 0l7.5 7.5M12 3v18"})}),mce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5L12 21m0 0l-7.5-7.5M12 21V3"})}),Ys=({title:t,value:e,change:n,changeType:r,icon:i})=>p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-neutral-500 dark:text-neutral-400",children:t}),p.jsx("p",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100 mt-2",children:e}),p.jsxs("div",{className:"flex items-center mt-2",children:[p.jsxs("span",{className:`flex items-center text-xs font-semibold ${r==="increase"?"text-green-500":"text-red-500"}`,children:[r==="increase"?p.jsx(pce,{className:"w-3 h-3 mr-1"}):p.jsx(mce,{className:"w-3 h-3 mr-1"}),n]}),p.jsx("span",{className:"text-xs text-neutral-400 ml-1",children:"vs last month"})]})]}),p.jsx("div",{className:"bg-primary-100 dark:bg-primary-900/50 text-primary-600 dark:text-primary-400 p-3 rounded-full",children:i})]}),gce=()=>p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[p.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Sales Overview"}),p.jsx("div",{style:{width:"100%",height:300},children:p.jsx(b0,{children:p.jsxs(jre,{data:B5,children:[p.jsx(nw,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.2)"}),p.jsx(xs,{dataKey:"name",tick:{fill:"#94a3b8"}}),p.jsx(_s,{tick:{fill:"#94a3b8"}}),p.jsx(Rn,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"},labelStyle:{color:"#fff"},cursor:{stroke:"rgba(255,255,255,0.1)",strokeWidth:2}}),p.jsx(Ei,{wrapperStyle:{color:"#94a3b8"}}),p.jsx(Uu,{type:"monotone",dataKey:"sales",stroke:"#4f46e5",strokeWidth:2,activeDot:{r:8}})]})})})]}),yce=()=>{const t=["#4f46e5","#6366f1","#818cf8","#a5b4fc"];return p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[p.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Top Selling Products"}),p.jsx("div",{style:{width:"100%",height:300},className:"flex items-center justify-center",children:p.jsx(b0,{children:p.jsxs(Lre,{children:[p.jsx(Xr,{data:Rb,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:Rb.map((e,n)=>p.jsx(ph,{fill:t[n%t.length]},`cell-${n}`))}),p.jsx(Rn,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"},labelStyle:{color:"#fff"}}),p.jsx(Ei,{wrapperStyle:{color:"#94a3b8"}})]})})})]})},vce=()=>p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[p.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Recent Activity"}),p.jsx("ul",{className:"space-y-4",children:F5.map(t=>p.jsxs("li",{className:"flex items-center",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/50 flex items-center justify-center mr-4",children:p.jsx("span",{className:"text-sm font-bold text-primary-600 dark:text-primary-300",children:t.user.charAt(0)})}),p.jsxs("div",{children:[p.jsxs("p",{className:"text-sm text-neutral-700 dark:text-neutral-200",children:[p.jsx("span",{className:"font-semibold",children:t.user})," ",t.action.toLowerCase()]}),p.jsx("p",{className:"text-xs text-neutral-400",children:new Date(t.timestamp).toLocaleTimeString()})]})]},t.id))})]}),wce=({products:t,sales:e})=>{const[n,r]=I.useState(""),[i,o]=I.useState(""),[a,s]=I.useState(!1),l=async()=>{if(!n.trim())return;s(!0);const c=`${`Context: ${t.length} products in inventory, ${e.length} total sales records.`}
${n}`,d=await hce(c);o(d),s(!1)};return p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[p.jsxs("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4 flex items-center",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 mr-2 text-primary-500",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.553L16.5 21.75l-.398-1.197a3.375 3.375 0 00-2.456-2.456L12.75 18l1.197-.398a3.375 3.375 0 002.456-2.456L17.25 14.25l.398 1.197a3.375 3.375 0 002.456 2.456L21 18l-1.197.398a3.375 3.375 0 00-2.456 2.456z"})}),"AI-Powered Insights"]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),placeholder:"e.g., 'Summarize today's performance'",className:"flex-grow bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:outline-none",disabled:a}),p.jsx("button",{onClick:l,disabled:a,className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 disabled:bg-primary-400 disabled:cursor-not-allowed transition-colors",children:a?"Thinking...":"Ask"})]}),i&&p.jsx("div",{className:"mt-4 p-4 bg-neutral-50 dark:bg-neutral-900 rounded-lg prose prose-sm dark:prose-invert max-w-none",children:p.jsx("p",{children:i})})]})},bce=({products:t})=>{const e=t.filter(r=>typeof r.lowStockThreshold<"u"&&r.stock<=r.lowStockThreshold).sort((r,i)=>r.stock-i.stock),n=r=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...r,children:p.jsx("path",{fillRule:"evenodd",d:"M8.485 3.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 3.495zM10 6a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 6zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})});return p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md h-full",children:[p.jsxs("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4 flex items-center",children:[p.jsx(n,{className:"h-6 w-6 mr-2 text-yellow-500"}),"Low Stock Alerts"]}),e.length>0?p.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:e.map(r=>p.jsxs("li",{className:"flex justify-between items-center text-sm p-2 rounded-md bg-neutral-50 dark:bg-neutral-700/50",children:[p.jsx("span",{className:"text-neutral-700 dark:text-neutral-200 font-medium",children:r.name}),p.jsxs("span",{className:"font-semibold text-red-500",children:[r.stock," ",r.unit||"items"," left"]})]},r.id))}):p.jsxs("div",{className:"text-center text-neutral-500 dark:text-neutral-400 py-8 flex flex-col items-center justify-center h-full",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mb-2 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.jsx("p",{children:"All stock levels are healthy."})]})]})},{ChartBarIcon:xce,UsersIcon:_ce,CubeIcon:Sce,ShoppingCartIcon:Ece,KeyIcon:Tce}=ko,Ace=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0"})}),Cce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),kce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...t,children:p.jsx("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z",clipRule:"evenodd"})}),Pce=({isOpen:t,onClose:e,userWidgets:n,onWidgetChange:r,t:i})=>t?p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-md",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Customize Dashboard"}),p.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:p.jsx(Cce,{className:"w-6 h-6"})})]}),p.jsx("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto",children:$5.map(o=>p.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-neutral-50 dark:bg-neutral-700/50",children:[p.jsx("span",{className:"font-medium text-neutral-800 dark:text-neutral-100",children:i(o.name)}),p.jsx("input",{type:"checkbox",checked:!!n[o.id],onChange:a=>r(o.id,a.target.checked),className:"h-5 w-5 rounded border-neutral-300 text-primary-600 focus:ring-primary-500"})]},o.id))}),p.jsx("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700",children:p.jsx("button",{onClick:e,className:"bg-primary-600 text-white font-semibold px-5 py-2.5 rounded-lg hover:bg-primary-700 transition-colors",children:"Done"})})]})}):null,Ice=({featureName:t})=>p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md h-full flex flex-col items-center justify-center text-center relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-neutral-50 dark:bg-neutral-700/30 opacity-50"}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("div",{className:"w-12 h-12 bg-neutral-200 dark:bg-neutral-700 text-neutral-400 dark:text-neutral-500 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx(kce,{className:"w-6 h-6"})}),p.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-1",children:t}),p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"This feature is available in Premium & Enterprise plans."}),p.jsx("button",{className:"mt-4 text-sm font-semibold bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Upgrade Now"})]})]}),Nce=({products:t,sales:e,user:n,onWidgetChange:r,formatCurrency:i,t:o,activeLicense:a,licenseKeys:s})=>{var y;const[l,u]=P.useState(!1),{dashboardWidgets:c}=n,d=Object.values(c).filter(Boolean).length,h=s.length,g=s.filter(v=>v.status==="Active").length;return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:o("Dashboard")}),p.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-white dark:bg-neutral-700/80 border border-neutral-200 dark:border-neutral-600 text-neutral-700 dark:text-neutral-200 font-semibold px-4 py-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-600 transition-colors",children:[p.jsx(Ace,{className:"w-5 h-5"}),"Customize"]})]}),d===0&&p.jsxs("div",{className:"text-center py-20 bg-white dark:bg-neutral-800 rounded-lg shadow-md",children:[p.jsx("h2",{className:"text-xl font-semibold",children:"Your dashboard is empty!"}),p.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 mt-2",children:'Click the "Customize" button to add widgets.'})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.totalRevenue&&p.jsx(Ys,{title:o("Total Revenue"),value:i(75231.89),change:"+12.5%",changeType:"increase",icon:p.jsx(xce,{className:"w-6 h-6"})}),c.newCustomers&&p.jsx(Ys,{title:o("New Customers"),value:"1,204",change:"+8.2%",changeType:"increase",icon:p.jsx(_ce,{className:"w-6 h-6"})}),c.productsSold&&p.jsx(Ys,{title:o("Products Sold"),value:"5,890",change:"-1.7%",changeType:"decrease",icon:p.jsx(Sce,{className:"w-6 h-6"})}),c.todaysTransactions&&p.jsx(Ys,{title:o("Todays Transactions"),value:"23",change:"+5",changeType:"increase",icon:p.jsx(Ece,{className:"w-6 h-6"})}),c.licenseActivations&&p.jsx(Ys,{title:o("License Activations"),value:`${g} / ${h}`,change:`${h>0?(g/h*100).toFixed(0):0}% Active`,changeType:"increase",icon:p.jsx(Tce,{className:"w-6 h-6"})})]}),(c.salesOverview||c.topProducts)&&p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.salesOverview&&p.jsx("div",{className:"lg:col-span-2",children:p.jsx(gce,{})}),c.topProducts&&p.jsx("div",{className:c.salesOverview?"":"lg:col-span-3",children:p.jsx(yce,{})})]}),(c.recentActivity||c.lowStockAlerts||c.aiInsights)&&p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(c.recentActivity||c.lowStockAlerts)&&p.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.recentActivity&&p.jsx(vce,{}),c.lowStockAlerts&&p.jsx(bce,{products:t})]}),c.aiInsights&&p.jsx("div",{className:c.recentActivity||c.lowStockAlerts?"lg:col-span-2":"lg:col-span-3",children:(y=a==null?void 0:a.enabledFeatures)!=null&&y.includes("AI_INSIGHTS")?p.jsx(wce,{products:t,sales:e}):p.jsx(Ice,{featureName:"AI-Powered Insights"})})]}),p.jsx(Pce,{isOpen:l,onClose:()=>u(!1),userWidgets:c,onWidgetChange:r,t:o})]})},{BanknotesIcon:Oce,TagIcon:Mce,UserGroupIcon:fT,ChatBubbleLeftRightIcon:Rce,PrinterIcon:$ce,ShoppingCartIcon:hT,CubeIcon:pT}=ko,jce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),mT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m6-6H6"})}),Dce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12H6"})}),gT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Lce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Uce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Bce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})}),Fce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),Vce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),zce=({user:t,customers:e,products:n,onAddSale:r,onAddCustomer:i,heldCarts:o,setHeldCarts:a,formatCurrency:s,t:l,businessName:u,activeStoreId:c,taxRate:d})=>{const[h,g]=P.useState("products"),[y,v]=P.useState([]),[x,w]=P.useState(""),[b,_]=P.useState(null),[T,S]=P.useState(!1),[E,A]=P.useState(!1),[C,k]=P.useState(!1),[N,O]=P.useState(!1),[M,D]=P.useState(!1),[B,j]=P.useState(!1),[R,L]=P.useState(null),[$,U]=P.useState(""),[z,J]=P.useState("Cash"),[G,Q]=P.useState(""),[we,xe]=P.useState(""),[ke,lt]=P.useState(!1),[qe,Z]=P.useState(null),[pe,ge]=P.useState("percentage"),[H,De]=P.useState(""),[se,Pe]=P.useState(""),[W,K]=P.useState(!1),[ie,Te]=P.useState({name:"",phone:"",email:""}),fe=t.role===de.Viewer;P.useEffect(()=>{v([]),_(null),Pe(""),w("")},[c]);const Ze=P.useMemo(()=>n.filter(V=>V.name.toLowerCase().includes(x.toLowerCase())||V.sku.toLowerCase().includes(x.toLowerCase())),[n,x]),pt=P.useMemo(()=>se?e.filter(V=>V.name.toLowerCase().includes(se.toLowerCase())||V.phone.includes(se)):[],[e,se]),jt=V=>{let ue=V.price;return V.discountType==="percentage"&&V.discountValue?ue=ue-ue*(V.discountValue/100):V.discountType==="amount"&&V.discountValue&&(ue=ue-V.discountValue),Math.max(0,ue)},It=P.useMemo(()=>y.reduce((V,ue)=>V+jt(ue)*ue.quantity,0),[y]),hn=P.useMemo(()=>{if(ke&&b){const V=b.loyaltyPoints*jb;return Math.min(V,It)}return 0},[ke,b,It]),Kn=(It-hn)*(d/100),Yt=It-hn+Kn,Gh=y.reduce((V,ue)=>V+ue.quantity,0),Di=V=>{if(!fe){if(V.stock<=0){alert(l("Out of Stock"));return}v(ue=>{const Ue=ue.find(et=>et.id===V.id);return Ue?Ue.quantity>=V.stock?(alert(l("Stock Limit Exceeded")),ue):ue.map(et=>et.id===V.id?{...et,quantity:et.quantity+1}:et):[...ue,{...V,quantity:1}]})}},Fu=(V,ue)=>{fe||v(Ue=>Ue.map(et=>{if(et.id===V){const Le=et.quantity+ue,Li=n.find(ei=>ei.id===V);return Li&&ue>0&&Le>Li.stock?(alert(l("Stock Limit Exceeded")),et):{...et,quantity:Math.max(1,Le)}}return et}))},Hh=V=>{fe||v(ue=>ue.filter(Ue=>Ue.id!==V))},Ps=()=>{fe||(v([]),_(null),Pe(""),lt(!1))},Wh=V=>{var Ue;if(fe)return;Z(V);const ue=y[V];ge(ue.discountType||"percentage"),De(((Ue=ue.discountValue)==null?void 0:Ue.toString())||""),j(!0)},Vu=()=>{if(qe!==null){const V=parseFloat(H);v(ue=>ue.map((Ue,et)=>et===qe?{...Ue,discountType:pe,discountValue:isNaN(V)?0:V}:Ue)),j(!1),Z(null)}},zu=V=>{_(V),Pe(V.name),xe(V.phone),K(!1)},Kh=V=>{V.preventDefault();const ue=i({...ie,loyaltyPoints:0,dueAmount:0,creditLimit:500,storeId:c});_(ue),Pe(ue.name),xe(ue.phone),D(!1),Te({name:"",phone:"",email:""})},ut=()=>{if(y.length===0||fe)return;const V={id:`hc${Date.now()}`,items:y,customer:b,timestamp:new Date().toISOString(),note:G};a(ue=>[V,...ue]),Ps(),k(!1),Q("")},Jh=V=>{fe||(v(V.items),_(V.customer),V.customer&&Pe(V.customer.name),a(ue=>ue.filter(Ue=>Ue.id!==V.id)),O(!1),g("cart"))},Yh=V=>{fe||a(ue=>ue.filter(Ue=>Ue.id!==V))},Xh=()=>{if(!fe){if(c==="global"){alert("Please select a specific store before making a sale.");return}U(Yt.toFixed(2)),S(!0)}},Qh=()=>{const V=parseFloat($),ue=z==="Credit",Ue=!ue&&V<Yt;if(ue){if(!b){alert("Cannot process credit sale without a customer.");return}const ei=b.dueAmount+Yt;if(b.creditLimit&&ei>b.creditLimit){alert(`Credit limit exceeded! Limit: ${s(b.creditLimit)}, Current Due: ${s(b.dueAmount)}, New Total Due would be: ${s(ei)}`);return}}const et=ue?"Credit":Ue?"Partial":z,Li={id:`s${Date.now()}`,total:Yt,date:new Date().toISOString(),cashier:t.name,cashierId:t.id,items:y.reduce((ei,Is)=>ei+Is.quantity,0),customerId:(b==null?void 0:b.id)||"guest",customerName:(b==null?void 0:b.name)||"Guest",amountPaid:ue?0:V,paymentMethod:et,organizationId:t.organizationId,storeId:c};r(Li,y),L(Li),S(!1),A(!0),Ps()},Zh=()=>{if(!R)return;const V=y.map(Ue=>`${Ue.quantity}x ${Ue.name} (${s(jt(Ue))})`).join("%0a"),ue=`*Invoice from ${u}*%0aDate: ${new Date().toLocaleDateString()}%0a%0a${V}%0a%0a*Total: ${s(R.total)}*%0aThank you for your business!`;window.open(`https://wa.me/${we}?text=${ue}`,"_blank")},ep=()=>{window.print()},qu=V=>{if(V.key==="Enter"){const ue=x.trim().toLowerCase();if(!ue)return;const Ue=n.find(Le=>Le.sku.toLowerCase()===ue);if(Ue){Di(Ue),w("");return}const et=n.find(Le=>Le.name.toLowerCase()===ue);if(et){Di(et),w("");return}Ze.length===1&&(Di(Ze[0]),w(""))}};return p.jsxs("div",{className:"flex flex-col h-full md:flex-row gap-6 overflow-hidden relative",children:[p.jsxs("div",{className:`${h==="cart"?"hidden":"flex"} flex-1 flex-col overflow-hidden bg-white dark:bg-neutral-800 rounded-xl shadow-md md:flex`,children:[p.jsx("div",{className:"p-4 border-b dark:border-neutral-700 flex flex-col gap-3",children:p.jsxs("div",{className:"relative",children:[p.jsx(jce,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),p.jsx("input",{type:"text",placeholder:l("Search"),value:x,onChange:V=>w(V.target.value),onKeyDown:qu,autoFocus:!0,className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg pl-10 pr-4 py-3 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4 pb-20 md:pb-4",children:p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[Ze.map(V=>{const ue=V.stock<=0;return p.jsxs("div",{onClick:()=>!ue&&!fe&&Di(V),className:`bg-neutral-50 dark:bg-neutral-700/50 p-3 rounded-lg border border-neutral-200 dark:border-neutral-700 transition-all flex flex-col items-center text-center group ${ue?"opacity-60 cursor-not-allowed bg-neutral-200 dark:bg-neutral-800":fe?"cursor-default":"cursor-pointer hover:shadow-md hover:border-primary-300"}`,children:[p.jsx("div",{className:"w-20 h-20 mb-3 rounded-md bg-white dark:bg-neutral-600 flex items-center justify-center overflow-hidden",children:V.imageUrl?p.jsx("img",{src:V.imageUrl,alt:V.name,className:`w-full h-full object-cover ${ue?"grayscale":""}`}):p.jsx(pT,{className:"w-8 h-8 text-neutral-300 group-hover:text-primary-500 transition-colors"})}),p.jsx("h3",{className:"font-semibold text-sm text-neutral-800 dark:text-neutral-100 line-clamp-2",children:V.name}),p.jsx("p",{className:"text-primary-600 dark:text-primary-400 font-bold mt-1",children:s(V.price)}),p.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:[V.stock," in stock"]}),ue&&p.jsx("span",{className:"text-xs font-bold text-red-500 mt-1",children:l("Out of Stock")})]},V.id)}),Ze.length===0&&p.jsx("div",{className:"col-span-full text-center py-10 text-neutral-500",children:"No products found."})]})})]}),p.jsx("div",{className:`md:hidden fixed bottom-4 left-4 right-4 z-20 ${h==="cart"?"hidden":"block"}`,children:p.jsxs("button",{onClick:()=>g("cart"),className:"w-full bg-primary-600 text-white font-bold py-4 rounded-lg shadow-lg flex justify-between items-center px-6",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(hT,{className:"w-6 h-6"}),p.jsx("span",{children:"View Order"})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("span",{className:"bg-primary-700 px-2 py-0.5 rounded text-sm",children:[Gh," Items"]}),p.jsx("span",{children:s(Yt)})]})]})}),p.jsxs("div",{className:`${h==="products"?"hidden":"flex"} w-full md:w-96 flex-col bg-white dark:bg-neutral-800 rounded-xl shadow-md h-full overflow-hidden md:flex`,children:[p.jsx("div",{className:"md:hidden p-2 bg-neutral-100 dark:bg-neutral-900 border-b dark:border-neutral-700 flex items-center",children:p.jsxs("button",{onClick:()=>g("products"),className:"flex items-center text-primary-600 font-medium px-2 py-1",children:[p.jsx(Vce,{className:"w-5 h-5 mr-1"}),"Back to Products"]})}),p.jsxs("div",{className:"p-4 border-b dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-700/30",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("h2",{className:"font-bold text-lg",children:l("Current Order")}),p.jsxs("div",{className:"flex gap-1",children:[o.length>0&&!fe&&p.jsxs("button",{onClick:()=>O(!0),className:"relative p-2 text-primary-600 hover:bg-primary-50 rounded-full",title:"View Held Orders",children:[p.jsx(Uce,{className:"w-5 h-5"}),p.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 rounded-full"})]}),p.jsx("button",{onClick:()=>y.length>0&&k(!0),disabled:y.length===0||fe,className:"text-xs font-medium bg-amber-100 text-amber-800 px-2 py-1 rounded hover:bg-amber-200 disabled:opacity-50",children:l("Hold")}),p.jsx("button",{onClick:Ps,disabled:fe,className:"text-xs font-medium bg-red-100 text-red-800 px-2 py-1 rounded hover:bg-red-200 disabled:opacity-50",children:l("Clear Cart")})]})]}),p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:"relative flex-grow",children:[p.jsx(fT,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400"}),p.jsx("input",{type:"text",placeholder:"Walk-in Customer",value:se,onChange:V=>{Pe(V.target.value),K(!0),V.target.value===""&&_(null)},className:"w-full text-sm bg-white dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded-lg pl-9 pr-8 py-2 focus:ring-1 focus:ring-primary-500 focus:outline-none"}),b&&!fe&&p.jsx("button",{onClick:()=>{_(null),Pe("")},className:"absolute right-2 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-red-500",children:p.jsx(Lce,{className:"w-4 h-4"})})]}),!fe&&p.jsx("button",{onClick:()=>D(!0),className:"bg-primary-600 text-white p-2 rounded-lg hover:bg-primary-700",children:p.jsx(mT,{className:"w-5 h-5"})})]}),W&&pt.length>0&&p.jsx("div",{className:"absolute top-full left-0 right-0 z-20 mt-1 bg-white dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:pt.map(V=>p.jsxs("div",{onClick:()=>zu(V),className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-600 cursor-pointer border-b border-neutral-100 dark:border-neutral-600 last:border-0",children:[p.jsx("p",{className:"font-semibold text-sm text-neutral-800 dark:text-neutral-200",children:V.name}),p.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:V.phone})]},V.id))})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:y.length===0?p.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-neutral-400",children:[p.jsx(hT,{className:"w-12 h-12 mb-2 opacity-50"}),p.jsx("p",{children:"Cart is empty"})]}):y.map((V,ue)=>{const Ue=jt(V),et=Ue<V.price;return p.jsxs("div",{className:"flex items-center gap-3 bg-neutral-50 dark:bg-neutral-700/30 p-2 rounded-lg border border-neutral-100 dark:border-neutral-700/50",children:[p.jsx("div",{className:"w-12 h-12 bg-white dark:bg-neutral-600 rounded-md flex items-center justify-center flex-shrink-0 overflow-hidden border border-neutral-200 dark:border-neutral-600",children:V.imageUrl?p.jsx("img",{src:V.imageUrl,alt:V.name,className:"w-full h-full object-cover"}):p.jsx(pT,{className:"w-6 h-6 text-neutral-300"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h4",{className:"text-sm font-medium truncate text-neutral-800 dark:text-neutral-100",children:V.name}),p.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[et&&p.jsx("span",{className:"text-neutral-400 line-through",children:s(V.price)}),p.jsx("span",{className:"font-semibold text-primary-600 dark:text-primary-400",children:s(Ue)}),et&&p.jsx("span",{className:"text-green-600 bg-green-100 dark:bg-green-900/50 px-1 rounded text-[10px]",children:V.discountType==="percentage"?`-${V.discountValue}%`:`-${s(V.discountValue||0)}`})]})]}),!fe&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"flex items-center bg-white dark:bg-neutral-700 rounded border border-neutral-300 dark:border-neutral-600",children:[p.jsx("button",{onClick:()=>V.quantity>1?Fu(V.id,-1):Hh(V.id),className:"p-1 hover:bg-neutral-100 dark:hover:bg-neutral-600 text-neutral-600 dark:text-neutral-300",children:p.jsx(Dce,{className:"w-3 h-3"})}),p.jsx("span",{className:"w-6 text-center text-sm font-medium",children:V.quantity}),p.jsx("button",{onClick:()=>Fu(V.id,1),className:"p-1 hover:bg-neutral-100 dark:hover:bg-neutral-600 text-neutral-600 dark:text-neutral-300",children:p.jsx(mT,{className:"w-3 h-3"})})]}),p.jsx("button",{onClick:()=>Wh(ue),className:`p-1.5 rounded ${et?"bg-green-100 text-green-700":"bg-neutral-200 text-neutral-600"} hover:opacity-80`,title:"Apply Discount",children:p.jsx(Mce,{className:"w-4 h-4"})})]}),fe&&p.jsx("div",{className:"flex items-center",children:p.jsxs("span",{className:"text-sm font-medium text-neutral-500",children:["x",V.quantity]})})]},`${V.id}-${ue}`)})}),p.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-700/30 border-t dark:border-neutral-700 space-y-2",children:[p.jsxs("div",{className:"flex justify-between text-sm text-neutral-600 dark:text-neutral-400",children:[p.jsx("span",{children:l("Subtotal")}),p.jsx("span",{children:s(It)})]}),ke&&hn>0&&p.jsxs("div",{className:"flex justify-between text-sm text-green-600 font-medium",children:[p.jsx("span",{children:"Loyalty Discount"}),p.jsxs("span",{children:["-",s(hn)]})]}),p.jsxs("div",{className:"flex justify-between text-sm text-neutral-600 dark:text-neutral-400",children:[p.jsxs("span",{children:[l("Tax")," (",d,"%)"]}),p.jsx("span",{children:s(Kn)})]}),p.jsxs("div",{className:"flex justify-between text-xl font-bold text-neutral-900 dark:text-neutral-100 pt-2 border-t border-neutral-200 dark:border-neutral-700",children:[p.jsx("span",{children:l("Total")}),p.jsx("span",{children:s(Yt)})]}),p.jsxs("button",{onClick:Xh,disabled:y.length===0||fe,className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:[l("Charge")," ",s(Yt)]})]})]}),T&&p.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center p-4 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-2xl w-full max-w-md overflow-hidden",children:[p.jsxs("div",{className:"bg-primary-600 p-4 flex justify-between items-center",children:[p.jsx("h3",{className:"text-white font-bold text-lg",children:"Payment"}),p.jsx("button",{onClick:()=>S(!1),className:"text-primary-200 hover:text-white",children:p.jsx(gT,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:"Total Amount Due"}),p.jsx("p",{className:"text-4xl font-bold text-neutral-800 dark:text-neutral-100",children:s(Yt)})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[p.jsxs("button",{onClick:()=>J("Cash"),className:`flex flex-col items-center justify-center p-3 rounded-lg border ${z==="Cash"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"}`,children:[p.jsx(Oce,{className:"w-6 h-6 mb-1"}),p.jsx("span",{className:"text-xs font-semibold",children:"Cash"})]}),p.jsxs("button",{onClick:()=>J("Card"),className:`flex flex-col items-center justify-center p-3 rounded-lg border ${z==="Card"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"}`,children:[p.jsx(Bce,{className:"w-6 h-6 mb-1"}),p.jsx("span",{className:"text-xs font-semibold",children:"Card"})]}),p.jsxs("button",{onClick:()=>J("Credit"),disabled:!b,className:`flex flex-col items-center justify-center p-3 rounded-lg border ${z==="Credit"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"} ${b?"":"opacity-50 cursor-not-allowed"}`,children:[p.jsx(fT,{className:"w-6 h-6 mb-1"}),p.jsx("span",{className:"text-xs font-semibold",children:"Credit"})]})]}),b&&b.loyaltyPoints>0&&p.jsxs("div",{className:"mb-4 p-3 bg-neutral-50 dark:bg-neutral-700 rounded-lg flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"flex items-center justify-center w-6 h-6 bg-yellow-100 text-yellow-600 rounded-full text-xs font-bold",children:""}),p.jsxs("div",{className:"text-sm",children:[p.jsxs("p",{className:"font-semibold",children:[b.loyaltyPoints," Points"]}),p.jsxs("p",{className:"text-xs text-neutral-500",children:["Value: ",s(b.loyaltyPoints*jb)]})]})]}),p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:ke,onChange:V=>lt(V.target.checked),className:"sr-only peer"}),p.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-neutral-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-primary-600"})]})]}),z==="Cash"&&p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount Received"}),p.jsx("input",{type:"number",value:$,onChange:V=>U(V.target.value),className:"w-full text-xl p-3 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:outline-none",autoFocus:!0}),parseFloat($)>Yt&&p.jsxs("div",{className:"mt-2 text-right text-green-600 font-bold",children:["Change: ",s(parseFloat($)-Yt)]})]}),p.jsx("button",{onClick:Qh,className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors text-lg",children:"Confirm Payment"})]})]})}),E&&R&&p.jsxs("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center p-4 backdrop-blur-sm print:hidden",children:[p.jsx("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-2xl w-full max-w-sm overflow-hidden",children:p.jsxs("div",{className:"p-6 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(Fce,{className:"w-8 h-8"})}),p.jsx("h3",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100 mb-1",children:l("Payment Success")}),p.jsxs("div",{className:"mb-4",children:[p.jsx("h4",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:u}),p.jsxs("p",{className:"text-neutral-500 text-xs",children:["Invoice #",R.id]})]}),p.jsxs("div",{className:"my-6 py-4 border-y border-dashed border-neutral-300 dark:border-neutral-600",children:[p.jsxs("div",{className:"flex justify-between mb-2 text-sm",children:[p.jsx("span",{children:"Amount Paid"}),p.jsx("span",{className:"font-bold",children:s(R.amountPaid)})]}),p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{children:"Change"}),p.jsx("span",{className:"font-bold",children:s(Math.max(0,parseFloat($||"0")-R.total))})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("button",{onClick:ep,className:"w-full flex items-center justify-center gap-2 bg-neutral-800 text-white py-3 rounded-lg hover:bg-neutral-900 font-semibold",children:[p.jsx($ce,{className:"w-5 h-5"}),"Print Receipt"]}),p.jsxs("button",{onClick:Zh,className:"w-full flex items-center justify-center gap-2 bg-green-500 text-white py-3 rounded-lg hover:bg-green-600 font-semibold",children:[p.jsx(Rce,{className:"w-5 h-5"}),"WhatsApp Invoice"]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>A(!1),className:"flex-1 py-3 bg-neutral-200 dark:bg-neutral-700 text-neutral-800 dark:text-neutral-200 rounded-lg font-bold hover:opacity-80",children:"OK"}),p.jsx("button",{onClick:()=>A(!1),className:"flex-1 py-3 bg-primary-100 text-primary-800 dark:bg-primary-900/40 dark:text-primary-300 rounded-lg font-bold hover:bg-primary-200",children:"New Sale"})]})]})]})}),p.jsx("div",{className:"hidden print:block print:fixed print:inset-0 print:bg-white print:p-4 text-black",children:p.jsxs("div",{className:"text-center font-mono text-sm",children:[p.jsx("h1",{className:"text-xl font-bold mb-2",children:u}),p.jsxs("p",{children:["Date: ",new Date().toLocaleString()]}),p.jsxs("p",{children:["Sale ID: ",R.id]}),p.jsxs("p",{children:["Cashier: ",R.cashier]}),p.jsx("div",{className:"border-b border-black my-2"}),p.jsx("div",{className:"text-left",children:p.jsxs("p",{children:["Total Items: ",R.items]})}),p.jsx("div",{className:"border-b border-black my-2"}),p.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[p.jsx("span",{children:"Total"}),p.jsx("span",{children:s(R.total)})]}),p.jsx("p",{className:"mt-4",children:"Thank you!"})]})})]}),B&&qe!==null&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-xs shadow-xl",children:[p.jsx("h3",{className:"font-bold text-lg mb-4",children:"Apply Discount"}),p.jsxs("div",{className:"flex gap-2 mb-4",children:[p.jsx("button",{onClick:()=>ge("percentage"),className:`flex-1 py-2 rounded text-sm font-medium ${pe==="percentage"?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600"}`,children:"Percentage (%)"}),p.jsx("button",{onClick:()=>ge("amount"),className:`flex-1 py-2 rounded text-sm font-medium ${pe==="amount"?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600"}`,children:"Fixed ($)"})]}),p.jsx("input",{type:"number",value:H,onChange:V=>De(V.target.value),placeholder:"Value",className:"w-full border border-neutral-300 rounded-lg p-2 mb-4",autoFocus:!0}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),p.jsx("button",{onClick:Vu,className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Apply"})]})]})}),C&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-sm shadow-xl",children:[p.jsx("h3",{className:"font-bold text-lg mb-4",children:"Hold Order"}),p.jsx("textarea",{value:G,onChange:V=>Q(V.target.value),placeholder:"Optional note (e.g. Customer forgot wallet)",className:"w-full border border-neutral-300 dark:border-neutral-600 dark:bg-neutral-700 rounded-lg p-3 mb-4 h-24 resize-none"}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),p.jsx("button",{onClick:ut,className:"px-4 py-2 bg-amber-500 text-white rounded hover:bg-amber-600",children:"Hold Order"})]})]})}),N&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-md shadow-xl h-[80vh] flex flex-col",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h3",{className:"font-bold text-lg",children:"Held Orders"}),p.jsx("button",{onClick:()=>O(!1),children:p.jsx(gT,{className:"w-6 h-6"})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:o.length===0?p.jsx("p",{className:"text-center text-neutral-500 mt-10",children:"No held orders."}):o.map(V=>{var ue;return p.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-700 p-3 rounded-lg border border-neutral-200 dark:border-neutral-600",children:[p.jsxs("div",{className:"flex justify-between mb-2",children:[p.jsx("span",{className:"font-bold",children:((ue=V.customer)==null?void 0:ue.name)||"Walk-in"}),p.jsx("span",{className:"text-xs text-neutral-500",children:new Date(V.timestamp).toLocaleTimeString()})]}),p.jsxs("p",{className:"text-xs text-neutral-600 dark:text-neutral-300 mb-2",children:[V.items.length," items  Note: ",V.note||"None"]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>Jh(V),className:"flex-1 bg-primary-600 text-white py-1.5 rounded text-sm hover:bg-primary-700",children:"Resume"}),p.jsx("button",{onClick:()=>Yh(V.id),className:"px-3 bg-red-100 text-red-600 rounded text-sm hover:bg-red-200",children:"Discard"})]})]},V.id)})})]})}),M&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-sm shadow-xl",children:[p.jsx("h3",{className:"font-bold text-lg mb-4",children:"Add New Customer"}),p.jsxs("form",{onSubmit:Kh,className:"space-y-3",children:[p.jsx("input",{type:"text",required:!0,placeholder:"Name",value:ie.name,onChange:V=>Te({...ie,name:V.target.value}),className:"w-full border p-2 rounded"}),p.jsx("input",{type:"text",placeholder:"Phone",value:ie.phone,onChange:V=>Te({...ie,phone:V.target.value}),className:"w-full border p-2 rounded"}),p.jsx("input",{type:"email",placeholder:"Email",value:ie.email,onChange:V=>Te({...ie,email:V.target.value}),className:"w-full border p-2 rounded"}),p.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[p.jsx("button",{type:"button",onClick:()=>D(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),p.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Create"})]})]})]})})]})},qce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),Gce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),yT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),Hce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),{BanknotesIcon:Wce,ArrowUpTrayIcon:Kce,QrCodeIcon:Jce}=ko,Kc=({children:t,title:e,onClose:n})=>p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-md max-h-full overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700 sticky top-0 bg-white dark:bg-neutral-800",children:[p.jsx("h3",{className:"text-lg font-semibold",children:e}),p.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:p.jsx(Hce,{className:"w-6 h-6"})})]}),t]})}),Yce=({items:t,onClose:e})=>{const n=()=>{const r=document.getElementById("label-sheet"),i="about:blank",a="Print"+new Date().getTime(),s=window.open(i,a,"width=800,height=600");s&&r&&(s.document.write(`
                <html>
                    <head>
                        <title>Print Labels</title>
                        <style>
                            body { font-family: sans-serif; padding: 20px; }
                            .label-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
                            .label { border: 1px dashed #ccc; padding: 10px; text-align: center; border-radius: 5px; }
                            .sku { font-family: monospace; letter-spacing: 2px; font-weight: bold; margin-top: 5px; display: block;}
                            @media print {
                                body { padding: 0; }
                                .label { break-inside: avoid; }
                            }
                        </style>
                    </head>
                    <body>${r.innerHTML}</body>
                </html>
            `),s.document.close(),s.focus(),s.print(),s.close())};return p.jsx(Kc,{title:"Print Barcode Labels",onClose:e,children:p.jsxs("div",{className:"p-6",children:[p.jsxs("p",{className:"mb-4 text-sm text-neutral-500",children:["Preview of labels for ",t.length," selected items."]}),p.jsx("div",{id:"label-sheet",className:"max-h-60 overflow-y-auto bg-neutral-100 p-4 rounded border mb-4",children:p.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.map(r=>p.jsxs("div",{className:"bg-white p-2 text-center border border-neutral-300 rounded text-xs",children:[p.jsx("div",{className:"font-bold truncate",children:r.name}),p.jsxs("div",{children:["$",r.price]}),p.jsx("div",{className:"font-mono font-bold mt-1 tracking-widest text-sm",children:r.sku})]},r.id))})}),p.jsx("button",{onClick:n,className:"w-full bg-primary-600 text-white py-2 rounded hover:bg-primary-700",children:"Print Now"})]})})},Fo=({dataType:t,data:e,columns:n,formFields:r,onAdd:i,onUpdate:o,onDelete:a,customActions:s,t:l,formatCurrency:u,canAddNew:c=!0,canEdit:d=!0,canDelete:h=!0,addNewDisabledTooltip:g=""})=>{const[y,v]=P.useState(""),[x,w]=P.useState(!1),[b,_]=P.useState(!1),[T,S]=P.useState(!1),[E,A]=P.useState(!1),[C,k]=P.useState(null),[N,O]=P.useState({}),[M,D]=P.useState([]),[B,j]=P.useState(""),R=I.useRef(null),L=l(`Manage ${t.charAt(0).toUpperCase()+t.slice(1)}`),$=P.useMemo(()=>e.filter(W=>Object.values(W).some(K=>String(K).toLowerCase().includes(y.toLowerCase()))),[e,y]),U=W=>{W.target.checked?D($.map(K=>K.id)):D([])},z=W=>{D(K=>K.includes(W)?K.filter(ie=>ie!==W):[...K,W])},J=(W=null)=>{k(W),O(W||{}),w(!0)},G=()=>{w(!1),k(null),O({})},Q=W=>{k(W),_(!0)},we=()=>{_(!1),k(null)},xe=W=>{k(W),j(""),S(!0)},ke=()=>{S(!1),k(null)},lt=W=>{const{name:K,value:ie,type:Te}=W.target,fe=Te==="number";O(Ze=>({...Ze,[K]:fe?Number(ie):ie}))},qe=(W,K)=>{var Te;const ie=(Te=W.target.files)==null?void 0:Te[0];if(ie){const fe=new FileReader;fe.onloadend=()=>{O(Ze=>({...Ze,[K]:fe.result}))},fe.readAsDataURL(ie)}},Z=W=>{W.preventDefault(),C?o({...C,...N}):i(N),G()},pe=()=>{C&&a([C.id]),we()},ge=()=>{a(M),D([])},H=()=>{const W=parseFloat(B);C&&W>0&&(s!=null&&s.onRecordPayment)&&s.onRecordPayment(C.id,W),ke()},De=()=>{var W;(W=R.current)==null||W.click()},se=W=>{var Te;const K=(Te=W.target.files)==null?void 0:Te[0];if(!K)return;const ie=new FileReader;ie.onload=fe=>{var jt;const pt=((jt=fe.target)==null?void 0:jt.result).split(`
`);for(let It=1;It<pt.length;It++){const hn=pt[It].trim();if(!hn)continue;const Kn=hn.split(",");if(Kn.length>=5){const Yt={name:Kn[0],price:parseFloat(Kn[1])||0,stock:parseInt(Kn[2])||0,category:Kn[3],sku:Kn[4],imageUrl:"",brand:""};i(Yt)}}alert(`Import process completed for ${pt.length-1} rows.`)},ie.readAsText(K),W.target.value=""},Pe=()=>{A(!0)};return p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[p.jsx("h2",{className:"text-2xl font-bold",children:L}),p.jsxs("div",{className:"w-full sm:w-auto flex items-center gap-2",children:[p.jsxs("div",{className:"relative flex-grow",children:[p.jsx(qce,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),p.jsx("input",{type:"text",placeholder:l("Search"),value:y,onChange:W=>v(W.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg pl-10 pr-4 py-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),t==="products"&&c&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:De,className:"bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200 px-3 py-2 rounded-lg hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors flex items-center gap-1",children:[p.jsx(Kce,{className:"w-5 h-5"}),p.jsx("span",{className:"hidden sm:inline",children:l("Import CSV")})]}),p.jsx("input",{type:"file",accept:".csv",ref:R,className:"hidden",onChange:se})]}),c&&p.jsx("button",{onClick:()=>J(),title:g,className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:l("Add New")})]})]}),M.length>0&&p.jsxs("div",{className:"mb-4 flex items-center justify-between p-3 bg-primary-50 dark:bg-primary-900/40 rounded-lg",children:[p.jsxs("span",{className:"font-semibold text-primary-700 dark:text-primary-200",children:[M.length," item(s) selected"]}),p.jsxs("div",{className:"flex gap-2",children:[t==="products"&&p.jsxs("button",{onClick:Pe,className:"flex items-center gap-2 bg-purple-600 text-white text-sm font-semibold px-3 py-1.5 rounded-lg hover:bg-purple-700 transition-colors",children:[p.jsx(Jce,{className:"w-4 h-4"}),l("Print Labels")]}),h&&p.jsxs("button",{onClick:ge,className:"flex items-center gap-2 bg-red-600 text-white text-sm font-semibold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors",children:[p.jsx(yT,{className:"w-4 h-4"}),"Delete Selected"]})]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm text-left text-neutral-500 dark:text-neutral-400",children:[p.jsx("thead",{className:"text-xs text-neutral-700 dark:text-neutral-300 uppercase bg-neutral-50 dark:bg-neutral-700",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"p-4",children:p.jsx("input",{type:"checkbox",onChange:U,checked:M.length>0&&M.length===$.length,className:"w-4 h-4 text-primary-600 bg-neutral-100 border-neutral-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-neutral-800 focus:ring-2 dark:bg-neutral-700 dark:border-neutral-600"})}),n.map(W=>p.jsx("th",{scope:"col",className:"px-6 py-3",children:W.header},String(W.key))),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Actions"})]})}),p.jsx("tbody",{children:$.map(W=>p.jsxs("tr",{className:"bg-white dark:bg-neutral-800 border-b dark:border-neutral-700 hover:bg-neutral-50 dark:hover:bg-neutral-700/50",children:[p.jsx("td",{className:"p-4",children:p.jsx("input",{type:"checkbox",checked:M.includes(W.id),onChange:()=>z(W.id),className:"w-4 h-4 text-primary-600 bg-neutral-100 border-neutral-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-neutral-800 focus:ring-2 dark:bg-neutral-700 dark:border-neutral-600"})}),n.map(K=>p.jsx("td",{className:"px-6 py-4 font-medium text-neutral-900 dark:text-white whitespace-nowrap",children:K.render?K.render(W):W[K.key]},`${W.id}-${String(K.key)}`)),p.jsxs("td",{className:"px-6 py-4 flex justify-end items-center gap-4",children:[t==="customers"&&W.dueAmount>0&&(s==null?void 0:s.onRecordPayment)&&p.jsx("button",{onClick:()=>xe(W),className:"text-green-600 dark:text-green-400 hover:underline",title:"Record Payment",children:p.jsx(Wce,{className:"w-5 h-5"})}),d&&p.jsx("button",{onClick:()=>J(W),className:"text-primary-600 dark:text-primary-400 hover:underline",children:p.jsx(Gce,{className:"w-5 h-5"})}),h&&p.jsx("button",{onClick:()=>Q(W),className:"text-red-600 dark:text-red-400 hover:underline",children:p.jsx(yT,{className:"w-5 h-5"})})]})]},W.id))})]})}),x&&c&&p.jsx(Kc,{title:C?`Edit ${t.slice(0,-1)}`:`Add ${t.slice(0,-1)}`,onClose:G,children:p.jsxs("form",{onSubmit:Z,children:[p.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map(W=>{var K;return p.jsxs("div",{className:["select","image"].includes(W.type)?"sm:col-span-2":"",children:[p.jsx("label",{htmlFor:String(W.key),className:"block mb-2 text-sm font-medium",children:W.label}),W.type==="select"?p.jsxs("select",{id:String(W.key),name:String(W.key),value:N[W.key]||"",onChange:lt,required:W.required,className:"bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5",children:[p.jsx("option",{value:"",children:"Select an option"}),(K=W.options)==null?void 0:K.map(ie=>p.jsx("option",{value:ie.value,children:ie.label},ie.value))]}):W.type==="image"?p.jsxs("div",{className:"flex items-center gap-4",children:[N[W.key]&&p.jsx("img",{src:N[W.key],alt:"preview",className:"w-16 h-16 rounded-full object-cover bg-neutral-200"}),p.jsx("input",{type:"file",id:String(W.key),name:String(W.key),onChange:ie=>qe(ie,W.key),accept:"image/*",className:"block w-full text-sm text-neutral-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})]}):p.jsx("input",{type:W.type,id:String(W.key),name:String(W.key),value:N[W.key]||"",onChange:lt,required:W.required,className:"bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"})]},String(W.key))})}),p.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2 sticky bottom-0 bg-white dark:bg-neutral-800",children:[p.jsx("button",{type:"button",onClick:G,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),p.jsx("button",{type:"submit",className:"text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Save"})]})]})}),b&&C&&p.jsxs(Kc,{title:"Confirm Deletion",onClose:we,children:[p.jsx("div",{className:"p-6",children:p.jsxs("p",{children:["Are you sure you want to delete ",p.jsx("span",{className:"font-semibold",children:C.name||"this item"}),"? This action cannot be undone."]})}),p.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2",children:[p.jsx("button",{onClick:we,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),p.jsx("button",{onClick:pe,className:"text-white bg-red-600 hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800",children:"Delete"})]})]}),T&&C&&p.jsxs(Kc,{title:`Record Payment for ${C.name}`,onClose:ke,children:[p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsxs("div",{className:"p-3 bg-neutral-100 dark:bg-neutral-700/50 rounded-lg text-center",children:[p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Current Due Amount"}),p.jsx("p",{className:"text-2xl font-bold",children:u(C.dueAmount)})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"payment-amount",className:"block text-sm font-medium mb-1",children:"Payment Amount"}),p.jsx("input",{id:"payment-amount",type:"number",value:B,onChange:W=>j(W.target.value),className:"w-full text-lg bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",autoFocus:!0})]})]}),p.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2",children:[p.jsx("button",{onClick:ke,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),p.jsx("button",{onClick:H,className:"text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",children:"Record Payment"})]})]}),E&&p.jsx(Yce,{items:$.filter(W=>M.includes(W.id)),onClose:()=>A(!1)})]})},Xce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),Qce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),Zce=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),nm=({title:t,value:e})=>p.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-700/50 p-4 rounded-lg",children:[p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:t}),p.jsx("p",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:e})]}),ede=({sales:t,users:e,customers:n,formatCurrency:r})=>{const[i,o]=P.useState(""),[a,s]=P.useState(""),[l,u]=P.useState("all"),[c,d]=P.useState("all"),[h,g]=P.useState("csv"),[y,v]=P.useState(!1),x=P.useRef(null),[w,b]=P.useState(""),[_,T]=P.useState(!1),S=P.useRef(null),E=P.useMemo(()=>e.filter(R=>[de.Admin,de.Manager,de.Cashier].includes(R.role)),[e]);P.useEffect(()=>{const R=L=>{S.current&&!S.current.contains(L.target)&&T(!1),x.current&&!x.current.contains(L.target)&&v(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const A=P.useMemo(()=>w?n.filter(R=>R.name.toLowerCase().includes(w.toLowerCase())):n,[n,w]),C=R=>{d(R);const L=n.find($=>$.id===R);b(L?L.name:""),T(!1)},k=()=>{d("all"),b("")},N=P.useMemo(()=>t.filter(R=>{const L=new Date(R.date),$=i?new Date(i):null,U=a?new Date(a):null;$&&$.setHours(0,0,0,0),U&&U.setHours(23,59,59,999);const z=(!$||L>=$)&&(!U||L<=U),J=l==="all"||R.cashierId===l,G=c==="all"||R.customerId===c;return z&&J&&G}),[t,i,a,l,c]),O=P.useMemo(()=>{const R=N.reduce((U,z)=>U+z.total,0),L=N.length,$=L>0?R/L:0;return{totalSales:r(R),totalTransactions:L,avgSaleValue:r($)}},[N,r]),M=P.useMemo(()=>{if(N.length===0)return[];const R=N.reduce((L,$)=>{const U=new Date($.date).toISOString().split("T")[0];return L[U]||(L[U]=0),L[U]+=$.total,L},{});return Object.entries(R).map(([L,$])=>({rawDate:L,date:new Date(L+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"}),total:$})).sort((L,$)=>new Date(L.rawDate).getTime()-new Date($.rawDate).getTime())},[N]),D=()=>{o(""),s(""),u("all"),k()},B=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),j=()=>{if(N.length===0){alert("No data to export for the current filters.");return}const R=["Sale ID","Date","Customer","Cashier","Items","Total","Amount Paid","Amount Due","Payment Method"],L=N.map($=>({"Sale ID":$.id,Date:new Date($.date).toISOString(),Customer:$.customerName,Cashier:$.cashier,Items:$.items,Total:$.total,"Amount Paid":$.amountPaid,"Amount Due":$.total-$.amountPaid,"Payment Method":$.paymentMethod}));if(h==="csv"){const U=[R.join(","),...L.map(Q=>Object.values(Q).map(we=>{const xe=String(we);return xe.includes(",")||xe.includes('"')?`"${xe.replace(/"/g,'""')}"`:xe}).join(","))].join(`
`),z=new Blob([U],{type:"text/csv;charset=utf-8;"}),J=document.createElement("a"),G=URL.createObjectURL(z);J.setAttribute("href",G),J.setAttribute("download","sales_report.csv"),J.style.visibility="hidden",document.body.appendChild(J),J.click(),document.body.removeChild(J)}else if(h==="xlsx"&&typeof XLSX<"u"){const $=XLSX.utils.json_to_sheet(L),U=XLSX.utils.book_new();XLSX.utils.book_append_sheet(U,$,"Sales"),XLSX.writeFile(U,"sales_report.xlsx")}else h==="xlsx"&&alert("XLSX export not available (library not loaded).")};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[p.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:"Sales Reports"}),p.jsxs("div",{className:"flex rounded-lg shadow-sm",children:[p.jsxs("button",{onClick:j,className:"relative inline-flex items-center gap-2 bg-secondary-600 px-4 py-2 text-sm font-semibold text-white hover:bg-secondary-700 focus:z-10 rounded-l-lg",children:[p.jsx(Xce,{className:"w-5 h-5"}),"Export Data"]}),p.jsxs("div",{ref:x,className:"relative -ml-px block",children:[p.jsxs("button",{onClick:()=>v(!y),type:"button",className:"relative inline-flex items-center bg-secondary-600 px-2 py-2 text-white hover:bg-secondary-700 focus:z-10 rounded-r-lg","aria-expanded":"true","aria-haspopup":"true",children:[p.jsx("span",{className:"text-xs uppercase mr-1",children:h}),p.jsx(Qce,{className:"h-5 w-5","aria-hidden":"true"})]}),y&&p.jsx("div",{className:"absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-white dark:bg-neutral-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabIndex:-1,children:p.jsxs("div",{className:"py-1",role:"none",children:[p.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),g("csv"),v(!1)},className:`block px-4 py-2 text-sm ${h==="csv"?"font-bold text-primary-600":"text-neutral-700 dark:text-neutral-200"} hover:bg-neutral-100 dark:hover:bg-neutral-700`,role:"menuitem",tabIndex:-1,id:"menu-item-0",children:"Export as .csv"}),p.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),g("xlsx"),v(!1)},className:`block px-4 py-2 text-sm ${h==="xlsx"?"font-bold text-primary-600":"text-neutral-700 dark:text-neutral-200"} hover:bg-neutral-100 dark:hover:bg-neutral-700`,role:"menuitem",tabIndex:-1,id:"menu-item-1",children:"Export as .xlsx"})]})})]})]})]}),p.jsx("div",{className:"bg-white dark:bg-neutral-800 p-4 rounded-xl shadow-md space-y-4",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[p.jsxs("div",{className:"lg:col-span-2 grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"start-date",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Start Date"}),p.jsx("input",{type:"date",id:"start-date",value:i,onChange:R=>o(R.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"end-date",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"End Date"}),p.jsx("input",{type:"date",id:"end-date",value:a,onChange:R=>s(R.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"cashier",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Cashier"}),p.jsxs("select",{id:"cashier",value:l,onChange:R=>u(R.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",children:[p.jsx("option",{value:"all",children:"All Cashiers"}),E.map(R=>p.jsx("option",{value:R.id,children:R.name},R.id))]})]}),p.jsxs("div",{ref:S,children:[p.jsx("label",{htmlFor:"customer",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Customer"}),p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"text",id:"customer",value:w,onChange:R=>{b(R.target.value),d("all"),_||T(!0)},onFocus:()=>T(!0),placeholder:"All Customers",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"}),c!=="all"&&p.jsx("button",{onClick:k,className:"absolute right-2 text-neutral-500 hover:text-red-500",children:p.jsx(Zce,{className:"w-5 h-5"})})]}),_&&p.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white dark:bg-neutral-700 rounded-md shadow-lg max-h-60 overflow-auto border dark:border-neutral-600",children:p.jsxs("ul",{children:[p.jsx("li",{onClick:()=>C("all"),className:"px-4 py-2 text-sm hover:bg-primary-50 dark:hover:bg-neutral-600 cursor-pointer text-neutral-700 dark:text-neutral-200",children:"All Customers"}),A.map(R=>p.jsx("li",{onClick:()=>C(R.id),className:"px-4 py-2 text-sm hover:bg-primary-50 dark:hover:bg-neutral-600 cursor-pointer text-neutral-700 dark:text-neutral-200",children:R.name},R.id))]})})]})]}),p.jsx("div",{className:"lg:col-span-5 flex justify-end",children:p.jsx("button",{onClick:D,className:"text-sm text-primary-600 hover:underline",children:"Reset Filters"})})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsx(nm,{title:"Total Revenue",value:O.totalSales}),p.jsx(nm,{title:"Transactions",value:O.totalTransactions.toString()}),p.jsx(nm,{title:"Avg. Sale Value",value:O.avgSaleValue})]}),p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4 text-neutral-800 dark:text-neutral-100",children:"Sales Trend"}),p.jsx("div",{className:"h-80 w-full",children:p.jsx(b0,{width:"100%",height:"100%",children:p.jsxs(Dre,{data:M,children:[p.jsx(nw,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(128,128,128,0.2)"}),p.jsx(xs,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},dy:10}),p.jsx(_s,{axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},tickFormatter:R=>`$${R}`}),p.jsx(Rn,{cursor:{fill:"rgba(128,128,128,0.1)"},contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.5rem",color:"#F3F4F6"},itemStyle:{color:"#F3F4F6"},formatter:R=>[`$${R.toFixed(2)}`,"Sales"]}),p.jsx(Ro,{dataKey:"total",fill:"#4F46E5",radius:[4,4,0,0]})]})})})]}),p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md overflow-hidden",children:[p.jsx("div",{className:"p-6 border-b dark:border-neutral-700",children:p.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100",children:"Recent Transactions"})}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm text-left text-neutral-500 dark:text-neutral-400",children:[p.jsx("thead",{className:"text-xs text-neutral-700 dark:text-neutral-300 uppercase bg-neutral-50 dark:bg-neutral-700/50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3",children:"Date"}),p.jsx("th",{className:"px-6 py-3",children:"Sale ID"}),p.jsx("th",{className:"px-6 py-3",children:"Customer"}),p.jsx("th",{className:"px-6 py-3",children:"Cashier"}),p.jsx("th",{className:"px-6 py-3 text-right",children:"Total"}),p.jsx("th",{className:"px-6 py-3",children:"Method"})]})}),p.jsx("tbody",{className:"divide-y divide-neutral-100 dark:divide-neutral-700",children:N.length>0?N.map(R=>p.jsxs("tr",{className:"bg-white dark:bg-neutral-800 hover:bg-neutral-50 dark:hover:bg-neutral-700/50",children:[p.jsxs("td",{className:"px-6 py-4",children:[B(R.date)," ",p.jsx("span",{className:"text-xs text-neutral-400 ml-1",children:new Date(R.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),p.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:R.id}),p.jsx("td",{className:"px-6 py-4 font-medium text-neutral-900 dark:text-neutral-100",children:R.customerName}),p.jsx("td",{className:"px-6 py-4",children:R.cashier}),p.jsx("td",{className:"px-6 py-4 text-right font-semibold text-neutral-900 dark:text-neutral-100",children:r(R.total)}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R.paymentMethod==="Cash"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":R.paymentMethod==="Card"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"}`,children:R.paymentMethod})})]},R.id)):p.jsx("tr",{children:p.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-neutral-500 dark:text-neutral-400",children:"No transactions found matching current filters."})})})]})})]})]})},tde=({title:t})=>p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-8 rounded-xl shadow-md text-center h-full flex flex-col justify-center items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:t}),p.jsx("p",{className:"mt-4 text-neutral-500 dark:text-neutral-400",children:"This feature is under construction."}),p.jsx("div",{className:"mt-6 text-6xl text-neutral-200 dark:text-neutral-700",children:""})]}),nde="ZENITH_POS_SECRET_KEY_2025_V2",rde=(t,e)=>{const n=t+e;let r=5381;for(let i=0;i<n.length;i++)r=r*33^n.charCodeAt(i);return(r>>>0).toString(16).toUpperCase().padStart(8,"0").slice(-5)},ide={A:"AI_INSIGHTS",R:"ADVANCED_REPORTS",M:"MULTI_LANGUAGE",C:"CLOUD_SYNC"},ode=(t,e,n,r,i)=>{const o=Math.random().toString(36).substring(2,8).toUpperCase(),a=`${e.getFullYear()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}`,s=`ZENITH-${t}-${o}-${n}-${a}`;let l=s;const u=r==null?void 0:r.trim().toUpperCase().replace(/\s+/g,"");u&&(l+=`-${u}`);const c=i==null?void 0:i.trim().toLowerCase();c&&(l+=`-${c}`);const d=rde(l,nde),h=`${s}-${d}`,g={STD:"Standard",PREM:"Premium",ENT:"Enterprise"};return{key:h,validUntil:e.toISOString(),planType:g[t],status:"Generated",maxShops:t==="ENT"?1/0:1,enabledFeatures:n.split("").map(y=>ide[y]).filter(Boolean),businessNameLock:(r==null?void 0:r.trim())||void 0,emailLock:(i==null?void 0:i.trim())||void 0}},ade=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),sde=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0"})}),lde=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),ude=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})}),{GlobeAltIcon:cde,ShieldCheckIcon:dde,XMarkIcon:kN,BanknotesIcon:fde,KeyIcon:PN,BuildingStorefrontIcon:hde,TrashIcon:IN}=ko,NN=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),pde=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),mde=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"})}),si=({title:t,icon:e,children:n})=>p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md",children:[p.jsx("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-700",children:p.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-3",children:[e,t]})}),p.jsx("div",{className:"p-6",children:n})]}),gde=({type:t,message:e,onClose:n})=>{const r="p-4 rounded-md flex items-center justify-between shadow-md mb-6",i=t==="success"?"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-200";return p.jsxs("div",{className:`${r} ${i}`,children:[p.jsx("p",{className:"text-sm font-medium",children:e}),p.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-black/10",children:p.jsx(kN,{className:"w-5 h-5"})})]})},yde=({title:t,children:e})=>{const[n,r]=P.useState(!1);return p.jsxs("div",{className:"border-b dark:border-neutral-700",children:[p.jsxs("button",{onClick:()=>r(!n),className:"w-full flex justify-between items-center text-left py-4 px-1",children:[p.jsx("span",{className:"font-semibold text-neutral-800 dark:text-neutral-100",children:t}),p.jsx(pde,{className:`w-5 h-5 transition-transform ${n?"rotate-180":""}`})]}),n&&p.jsx("div",{className:"pb-4 px-1 text-neutral-600 dark:text-neutral-300 prose prose-sm dark:prose-invert max-w-none whitespace-pre-line",children:e})]})},vde=({isOpen:t,onClose:e,t:n})=>{if(!t)return null;const r=Array.from({length:8},(i,o)=>({title:n(`guide_title_${o+1}`),content:n(`guide_content_${o+1}`)}));return p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-start p-4 pt-16",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700",children:[p.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[p.jsx(NN,{className:"w-6 h-6 text-primary-500"}),n("System User Guide")]}),p.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:p.jsx(kN,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"p-6 overflow-y-auto",children:[p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-4",children:n("Guide Intro")}),r.map((i,o)=>p.jsx(yde,{title:i.title,children:i.content},o))]}),p.jsx("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700",children:p.jsx("button",{onClick:e,className:"bg-primary-600 text-white font-semibold px-5 py-2.5 rounded-lg hover:bg-primary-700 transition-colors",children:n("Close Guide")})})]})})},wde=({licenseDatabase:t,setLicenseDatabase:e,setNotification:n})=>{const[r,i]=P.useState("PREM"),[o,a]=P.useState(12),[s,l]=P.useState(["M","A"]),[u,c]=P.useState(""),[d,h]=P.useState(""),[g,y]=P.useState(""),v=()=>{const w=new Date;w.setMonth(w.getMonth()+o);const b=s.join(""),_=ode(r,w,b,u,d);e(T=>[...T,_]),y(_.key),n({type:"success",message:"New License Generated!"})},x=()=>{navigator.clipboard.writeText(g),n({type:"success",message:"License copied to clipboard"})};return p.jsxs(si,{title:"Master License Generator (Super Admin)",icon:p.jsx(PN,{className:"w-6 h-6 text-purple-500"}),children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Plan Type"}),p.jsxs("select",{value:r,onChange:w=>i(w.target.value),className:"w-full border p-2 rounded dark:bg-neutral-700",children:[p.jsx("option",{value:"STD",children:"Standard"}),p.jsx("option",{value:"PREM",children:"Premium"}),p.jsx("option",{value:"ENT",children:"Enterprise"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Validity (Months)"}),p.jsx("input",{type:"number",value:o,onChange:w=>a(Number(w.target.value)),className:"w-full border p-2 rounded dark:bg-neutral-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Lock to Business (Optional)"}),p.jsx("input",{type:"text",value:u,onChange:w=>c(w.target.value),className:"w-full border p-2 rounded dark:bg-neutral-700",placeholder:"Business Name"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Lock to Email (Optional)"}),p.jsx("input",{type:"email",value:d,onChange:w=>h(w.target.value),className:"w-full border p-2 rounded dark:bg-neutral-700",placeholder:"user@example.com"})]})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Features"}),p.jsx("div",{className:"flex gap-4",children:Object.entries({M:"Multi-Language",A:"AI Insights",R:"Reports",C:"Cloud Sync"}).map(([w,b])=>p.jsxs("label",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:s.includes(w),onChange:_=>{_.target.checked?l(T=>[...T,w]):l(T=>T.filter(S=>S!==w))}}),p.jsx("span",{className:"text-sm",children:b})]},w))})]}),p.jsx("button",{onClick:v,className:"mt-4 bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 w-full",children:"Generate Key"}),g&&p.jsxs("div",{className:"mt-4 p-4 bg-neutral-100 dark:bg-neutral-700 rounded flex justify-between items-center",children:[p.jsx("code",{className:"font-mono font-bold text-lg",children:g}),p.jsx("button",{onClick:x,className:"text-sm text-primary-600 hover:underline",children:"Copy"})]}),p.jsxs("div",{className:"mt-6 border-t pt-4",children:[p.jsxs("h4",{className:"font-bold mb-2",children:["License Database (",t.length,")"]}),p.jsx("div",{className:"max-h-40 overflow-y-auto text-sm space-y-2",children:t.map((w,b)=>p.jsxs("div",{className:"flex justify-between items-center bg-neutral-50 dark:bg-neutral-700/50 p-2 rounded",children:[p.jsx("span",{className:"font-mono text-xs",children:w.key}),p.jsx("span",{className:`text-xs px-2 py-1 rounded ${w.status==="Activated"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:w.status})]},b))})]})]})},bde=t=>{const{activeLicense:e,isInTrial:n,newLicenseKey:r,setNewLicenseKey:i,onActivateFromTrialSubmit:o,onUpdateLicenseSubmit:a,licenseKeys:s,setLicenseKeys:l}=t,u=()=>{const d={id:`lk_${Date.now()}`,key:`DEV-${Math.random().toString(36).substring(2,8).toUpperCase()}`,assignedToUserId:"",assignedToUserName:"Unassigned",status:"Active",validity:"Lifetime",deviceName:"New Device",organizationId:e==null?void 0:e.organizationId,storeId:t.activeStoreId==="global"?"":t.activeStoreId};l(h=>[...h,d]),t.setNotification({type:"success",message:"New Device Key Generated"})},c=d=>{confirm("Revoke this key?")&&l(h=>h.filter(g=>g.id!==d))};return p.jsxs(si,{title:"License Management",icon:p.jsx(PN,{className:"w-6 h-6 text-primary-500"}),children:[p.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-700/30 p-4 rounded-lg border border-neutral-200 dark:border-neutral-700 mb-6",children:[p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-neutral-500 uppercase font-semibold",children:"Status"}),p.jsxs("p",{className:`font-bold ${n?"text-amber-500":"text-green-600"}`,children:[e==null?void 0:e.status," ",n&&"(Trial)"]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-neutral-500 uppercase font-semibold",children:"Plan"}),p.jsx("p",{className:"font-bold text-neutral-800 dark:text-neutral-100",children:e==null?void 0:e.planType})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-neutral-500 uppercase font-semibold",children:"Expires"}),p.jsx("p",{className:"font-bold text-neutral-800 dark:text-neutral-100",children:e!=null&&e.validUntil?new Date(e.validUntil).toLocaleDateString():"N/A"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-neutral-500 uppercase font-semibold",children:"Max Shops"}),p.jsx("p",{className:"font-bold text-neutral-800 dark:text-neutral-100",children:(e==null?void 0:e.maxShops)===1/0?"Unlimited":e==null?void 0:e.maxShops})]})]}),(e==null?void 0:e.emailLock)&&p.jsxs("div",{className:"mt-2 text-xs text-neutral-500",children:["Licensed to: ",p.jsx("span",{className:"font-mono text-neutral-700 dark:text-neutral-300",children:e.emailLock})]})]}),n?p.jsxs("div",{className:"mb-6",children:[p.jsx("h4",{className:"font-semibold text-amber-600 mb-2",children:"Activate Full Version"}),p.jsxs("form",{onSubmit:o,className:"flex gap-2",children:[p.jsx("input",{type:"text",value:r,onChange:d=>i(d.target.value),placeholder:"Enter License Key",className:"flex-1 bg-white dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded-lg px-4 py-2"}),p.jsx("button",{type:"submit",className:"bg-primary-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-primary-700",children:"Activate"})]})]}):p.jsxs("div",{className:"mb-6",children:[p.jsx("h4",{className:"font-semibold mb-2",children:"Update License"}),p.jsxs("form",{onSubmit:a,className:"flex gap-2",children:[p.jsx("input",{type:"text",value:r,onChange:d=>i(d.target.value),placeholder:"Enter New License Key",className:"flex-1 bg-white dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded-lg px-4 py-2"}),p.jsx("button",{type:"submit",className:"bg-neutral-800 text-white px-4 py-2 rounded-lg font-semibold hover:bg-neutral-900",children:"Update"})]})]}),p.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-700 pt-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h4",{className:"font-semibold",children:"Device Keys (POS Terminals)"}),p.jsx("button",{onClick:u,className:"text-sm bg-secondary-100 text-secondary-800 px-3 py-1 rounded hover:bg-secondary-200 font-medium",children:"+ Generate Key"})]}),p.jsx("div",{className:"space-y-2",children:s.length===0?p.jsx("p",{className:"text-sm text-neutral-500 italic",children:"No device keys generated."}):s.map(d=>p.jsxs("div",{className:"flex justify-between items-center p-3 bg-neutral-50 dark:bg-neutral-700/50 rounded border border-neutral-200 dark:border-neutral-700",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-mono font-bold text-sm",children:d.key}),p.jsxs("p",{className:"text-xs text-neutral-500",children:["Assigned: ",d.assignedToUserName,"  ",d.deviceName]})]}),p.jsx("button",{onClick:()=>c(d.id),className:"text-red-500 hover:text-red-700 p-1",children:p.jsx(IN,{className:"w-4 h-4"})})]},d.id))})]})]})},xde=t=>{var W;const{user:e,onUpdateUser:n,isDarkMode:r,toggleDarkMode:i,businessName:o,setBusinessName:a,businessLogo:s,setBusinessLogo:l,licenseKeys:u,setLicenseKeys:c,licenseDatabase:d,setLicenseDatabase:h,language:g,setLanguage:y,currency:v,setCurrency:x,t:w,activeStoreId:b,onAddStore:_,onDeleteStore:T,onUpdateStore:S,organizationStores:E,taxRate:A,setTaxRate:C,isVirtualKeyboardEnabled:k,setIsVirtualKeyboardEnabled:N}=t,[O,M]=P.useState(null),[D,B]=P.useState(!1),j=I.useRef(null),R=P.useRef(null),[L,$]=P.useState(""),[U,z]=P.useState(!1),[J,G]=P.useState(""),[Q,we]=P.useState({name:e.name,email:e.email,avatarUrl:e.avatarUrl,phone:e.phone||""});P.useEffect(()=>{if(O){const K=setTimeout(()=>M(null),5e3);return()=>clearTimeout(K)}},[O]);const xe=K=>we(ie=>({...ie,[K.target.name]:K.target.value})),ke=K=>{var Te;const ie=(Te=K.target.files)==null?void 0:Te[0];if(ie){const fe=new FileReader;fe.onloadend=()=>we(Ze=>({...Ze,avatarUrl:fe.result})),fe.readAsDataURL(ie)}},lt=K=>{n({name:Q.name,avatarUrl:Q.avatarUrl,phone:Q.phone}),M({type:"success",message:`${K} settings saved successfully!`})},qe=K=>{K.preventDefault();const ie=new FormData(K.currentTarget),Te=ie.get("currentPassword"),fe=ie.get("newPassword"),Ze=ie.get("confirmPassword");if(fe!==Ze){M({type:"error",message:"New passwords do not match."});return}if(e.password!==Te){M({type:"error",message:"Current password is incorrect."});return}n({password:fe}),M({type:"success",message:"Password updated successfully!"}),K.currentTarget.reset()},Z=K=>{if(K.preventDefault(),e.password!==J){M({type:"error",message:"Incorrect password. 2FA setting not changed."}),G("");return}const ie=!e.isTwoFactorEnabled;n({isTwoFactorEnabled:ie}),M({type:"success",message:`Two-Factor Authentication has been ${ie?"Enabled":"Disabled"}.`}),z(!1),G("")},pe=K=>{var Te;const ie=(Te=K.target.files)==null?void 0:Te[0];if(ie){const fe=new FileReader;fe.onloadend=()=>l(fe.result),fe.readAsDataURL(ie)}},ge=()=>{const K={zenith_users:localStorage.getItem("zenith_users"),zenith_products:localStorage.getItem("zenith_products"),zenith_customers:localStorage.getItem("zenith_customers"),zenith_sales:localStorage.getItem("zenith_sales"),zenith_license_database:localStorage.getItem("zenith_license_database")},ie=new Blob([JSON.stringify(K,null,2)],{type:"application/json"}),Te=URL.createObjectURL(ie),fe=document.createElement("a");fe.href=Te,fe.download=`zenith_backup_${new Date().toISOString().split("T")[0]}.json`,fe.click(),M({type:"success",message:"Backup downloaded successfully!"})},H=()=>{var K;return(K=j.current)==null?void 0:K.click()},De=K=>{var fe;const ie=(fe=K.target.files)==null?void 0:fe[0];if(!ie)return;const Te=new FileReader;Te.onload=Ze=>{var pt;try{const jt=JSON.parse((pt=Ze.target)==null?void 0:pt.result);Object.keys(jt).forEach(It=>{jt[It]&&localStorage.setItem(It,jt[It])}),M({type:"success",message:"Data restored! Please reload the page."}),setTimeout(()=>window.location.reload(),2e3)}catch{M({type:"error",message:"Invalid backup file."})}},Te.readAsText(ie)},se=K=>{if(K.preventDefault(),!L.trim()){M({type:"error",message:"Please enter a license key."});return}t.onUpdateLicense(L)?($(""),M({type:"success",message:"License updated successfully!"})):M({type:"error",message:"The provided license key is invalid or could not be applied."})},Pe=K=>{K.preventDefault(),L&&t.onActivateTrialLicense(L)};return p.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto pb-10",children:[p.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:w("Settings")}),O&&p.jsx(gde,{type:O.type,message:O.message,onClose:()=>M(null)}),e.email==="superadmin@zenith.com"&&p.jsx(wde,{licenseDatabase:d,setLicenseDatabase:h,setNotification:M}),e.role===de.Admin&&p.jsx(bde,{...t,newLicenseKey:L,setNewLicenseKey:$,onActivateFromTrialSubmit:Pe,onUpdateLicenseSubmit:se,setNotification:M}),p.jsx(vde,{isOpen:D,onClose:()=>B(!1),t:w}),p.jsx("button",{onClick:()=>B(!0),className:"fixed bottom-6 right-6 bg-primary-600 text-white p-4 rounded-full shadow-lg hover:bg-primary-700 transition-transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 z-40","aria-label":"Open settings guide",children:p.jsx(NN,{className:"w-8 h-8"})}),p.jsxs(si,{title:"Profile",icon:p.jsx(ade,{className:"w-6 h-6 text-primary-500"}),children:[p.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[p.jsxs("div",{className:"relative w-20 h-20 group flex-shrink-0",children:[p.jsx("img",{src:Q.avatarUrl,alt:"Profile Avatar",className:"w-20 h-20 rounded-full object-cover"}),p.jsx("button",{onClick:()=>{var K;return(K=R.current)==null?void 0:K.click()},className:"absolute inset-0 bg-black/60 rounded-full flex items-center justify-center text-white opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:p.jsx("span",{className:"text-xs font-semibold",children:"Change"})}),p.jsx("input",{type:"file",ref:R,onChange:ke,className:"hidden",accept:"image/png, image/jpeg"})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-xl font-bold",children:Q.name}),p.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:e.role})]})]}),p.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 my-6"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Full Name"}),p.jsx("input",{type:"text",name:"name",value:Q.name,onChange:xe,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Email Address"}),p.jsx("input",{type:"email",value:Q.email,disabled:!0,className:"mt-1 w-full bg-neutral-200 dark:bg-neutral-800 border-transparent rounded-lg p-2.5 text-neutral-500 dark:text-neutral-400 cursor-not-allowed"})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Phone Number"}),p.jsx("input",{type:"tel",name:"phone",value:Q.phone||"",onChange:xe,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"}),p.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Used for password recovery and notifications."})]})]}),p.jsx("div",{className:"mt-6 text-right",children:p.jsx("button",{onClick:()=>lt("Profile"),className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Save Changes"})})]}),p.jsxs(si,{title:"Password & Security",icon:p.jsx(dde,{className:"w-6 h-6 text-primary-500"}),children:[p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-6",children:"Your registered Email and Phone number will be used for verification during password reset."}),p.jsx("div",{className:"mb-8 border-b border-neutral-200 dark:border-neutral-700 pb-8",children:p.jsxs("form",{onSubmit:qe,children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Current Password"}),p.jsx("input",{type:"password",name:"currentPassword",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"New Password"}),p.jsx("input",{type:"password",name:"newPassword",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Confirm New Password"}),p.jsx("input",{type:"password",name:"confirmPassword",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})]}),p.jsx("div",{className:"mt-6 text-right",children:p.jsx("button",{type:"submit",className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Change Password"})})]})}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex gap-3 items-start",children:[p.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg text-blue-600 dark:text-blue-400",children:p.jsx(mde,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-neutral-800 dark:text-neutral-100",children:"Two-Factor Authentication"}),p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mt-1",children:"Require a verification code via email when logging in from a new device."})]})]}),p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:e.isTwoFactorEnabled||!1,onChange:()=>z(!0),className:"sr-only peer"}),p.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-primary-600"})]})]}),U&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-sm p-6",children:[p.jsxs("h3",{className:"text-lg font-bold mb-4 text-neutral-800 dark:text-neutral-100",children:[e.isTwoFactorEnabled?"Disable":"Enable"," Two-Factor Auth"]}),p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-4",children:"For your security, please enter your password to confirm this change."}),p.jsxs("form",{onSubmit:Z,children:[p.jsx("input",{type:"password",value:J,onChange:K=>G(K.target.value),placeholder:"Enter current password",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 mb-4 focus:ring-2 focus:ring-primary-500 focus:outline-none",autoFocus:!0}),p.jsxs("div",{className:"flex gap-2 justify-end",children:[p.jsx("button",{type:"button",onClick:()=>{z(!1),G("")},className:"px-4 py-2 text-sm text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg",children:"Cancel"}),p.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Confirm"})]})]})]})})]}),e.role===de.Admin&&((W=t.activeLicense)==null?void 0:W.planType)==="Enterprise"&&p.jsxs(si,{title:"Store Management",icon:p.jsx(hde,{className:"w-6 h-6 text-primary-500"}),children:[p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-4",children:"Manage your business branches. This feature is available on the Enterprise plan."}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h4",{className:"font-semibold text-neutral-800 dark:text-neutral-100",children:"Current Stores"}),E.length>0?p.jsx("ul",{className:"divide-y divide-neutral-200 dark:divide-neutral-700",children:E.map(K=>p.jsxs("li",{className:"py-2 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:K.name}),p.jsx("p",{className:"text-xs text-neutral-500",children:K.location})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>{const ie=prompt("Enter new name for the store:",K.name);ie&&ie!==K.name&&S(K.id,ie)},className:"text-primary-600 hover:text-primary-800 p-1 rounded-full hover:bg-primary-100 dark:hover:bg-primary-900/50",title:"Edit Store",children:p.jsx(lde,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>T(K.id),className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:"Delete Store",children:p.jsx(IN,{className:"w-4 h-4"})})]})]},K.id))}):p.jsx("p",{className:"text-sm text-neutral-500",children:"No stores added yet."}),p.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-700 pt-4",children:[p.jsx("h4",{className:"font-semibold text-neutral-800 dark:text-neutral-100 mb-2",children:"Add New Store"}),p.jsxs("form",{onSubmit:K=>{K.preventDefault();const ie=new FormData(K.currentTarget),Te=ie.get("storeName"),fe=ie.get("storeLocation");Te&&fe&&(_({name:Te,location:fe}),K.target.reset())},className:"flex flex-col md:flex-row gap-4 items-end",children:[p.jsxs("div",{className:"flex-1 w-full",children:[p.jsx("label",{className:"block text-xs font-medium text-neutral-600 dark:text-neutral-300",children:"Store Name"}),p.jsx("input",{type:"text",name:"storeName",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),p.jsxs("div",{className:"flex-1 w-full",children:[p.jsx("label",{className:"block text-xs font-medium text-neutral-600 dark:text-neutral-300",children:"Location"}),p.jsx("input",{type:"text",name:"storeLocation",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),p.jsx("button",{type:"submit",className:"w-full md:w-auto bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Add Store"})]})]})]})]}),p.jsx(si,{title:"Localization",icon:p.jsx(cde,{className:"w-6 h-6 text-primary-500"}),children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-2",children:"Language"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>y("en"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-semibold border ${g==="en"?"bg-primary-600 text-white border-primary-600":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 border-neutral-300 dark:border-neutral-600"}`,children:"English"}),p.jsx("button",{onClick:()=>y("bn"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-semibold border ${g==="bn"?"bg-primary-600 text-white border-primary-600":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 border-neutral-300 dark:border-neutral-600"}`,children:"Bangla"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-2",children:"Currency"}),p.jsx("select",{value:v,onChange:K=>x(K.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",children:Object.entries(hk).map(([K,ie])=>p.jsxs("option",{value:K,children:[K," - ",ie.symbol]},K))})]})]})}),e.role===de.Admin&&p.jsxs(si,{title:"Business Configuration",icon:p.jsx(fde,{className:"w-6 h-6 text-primary-500"}),children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Business Name"}),p.jsx("input",{type:"text",value:o,onChange:K=>a(K.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Default Tax Rate (%)"}),p.jsx("input",{type:"number",value:A,onChange:K=>C(Number(K.target.value)),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("p",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-2",children:"Business Logo"}),p.jsxs("div",{className:"flex items-center gap-4",children:[s&&p.jsx("img",{src:s,alt:"Logo",className:"w-16 h-16 object-contain border border-neutral-200 rounded p-1"}),p.jsx("input",{type:"file",accept:"image/*",onChange:pe,className:"text-sm text-neutral-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})]})]})]}),e.role===de.Admin&&p.jsxs(si,{title:"System",icon:p.jsx(sde,{className:"w-6 h-6 text-primary-500"}),children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{className:"flex gap-3 items-center",children:[p.jsx("div",{className:"p-2 bg-neutral-100 dark:bg-neutral-700 rounded-lg text-neutral-600 dark:text-neutral-300",children:p.jsx(ude,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-neutral-800 dark:text-neutral-100",children:"Virtual Keyboard"}),p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Show on-screen keyboard for touch devices."})]})]}),p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:k,onChange:K=>N(K.target.checked),className:"sr-only peer"}),p.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-primary-600"})]})]}),p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between border-t border-neutral-200 dark:border-neutral-700 pt-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium",children:"Data Management"}),p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Backup or restore your application data."})]}),p.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[p.jsx("button",{onClick:ge,className:"bg-secondary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-secondary-700 transition-colors",children:"Backup Data"}),p.jsx("button",{onClick:H,className:"bg-neutral-200 dark:bg-neutral-600 text-neutral-800 dark:text-neutral-100 font-semibold px-4 py-2 rounded-lg hover:bg-neutral-300 dark:hover:bg-neutral-500 transition-colors",children:"Restore Data"}),p.jsx("input",{type:"file",accept:".json",ref:j,className:"hidden",onChange:De})]})]})]})]})},{BanknotesIcon:vT,ClockIcon:wT,XMarkIcon:_de}=ko,Sde=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})}),Ede=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),Tde=({customer:t,onClose:e,onConfirm:n,formatCurrency:r})=>{const[i,o]=P.useState("");return t?p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-sm",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Record Payment"}),p.jsx("button",{onClick:e,children:p.jsx(_de,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsxs("div",{className:"text-center p-3 bg-neutral-100 dark:bg-neutral-700 rounded-lg",children:[p.jsx("p",{className:"text-sm text-neutral-500",children:"Current Due"}),p.jsx("p",{className:"text-2xl font-bold",children:r(t.dueAmount)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount to Pay"}),p.jsx("input",{type:"number",value:i,onChange:a=>o(a.target.value),className:"w-full border p-2 rounded dark:bg-neutral-900 dark:border-neutral-600",autoFocus:!0})]}),p.jsx("button",{onClick:()=>n(parseFloat(i)),disabled:!i||parseFloat(i)<=0,className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 disabled:opacity-50",children:"Confirm Payment"})]})]})}):null},Ade=({customers:t,heldCarts:e,formatCurrency:n,onRecordPayment:r,onResumeHold:i,onDiscardHold:o,t:a})=>{const[s,l]=P.useState("credit"),[u,c]=P.useState(null),d=P.useMemo(()=>t.filter(g=>g.dueAmount>0),[t]),h=g=>{u&&(r(u.id,g),c(null))};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:"Credit & Holds"}),p.jsxs("div",{className:"flex bg-white dark:bg-neutral-800 rounded-lg shadow-sm p-1",children:[p.jsxs("button",{onClick:()=>l("credit"),className:`px-4 py-2 rounded-md text-sm font-semibold transition-colors ${s==="credit"?"bg-primary-100 text-primary-700 dark:bg-primary-900/50 dark:text-primary-300":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700"}`,children:["Credit Customers (",d.length,")"]}),p.jsxs("button",{onClick:()=>l("holds"),className:`px-4 py-2 rounded-md text-sm font-semibold transition-colors ${s==="holds"?"bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-300":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700"}`,children:["Held Orders (",e.length,")"]})]})]}),p.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md overflow-hidden min-h-[400px]",children:[s==="credit"&&p.jsxs("div",{className:"p-0",children:[p.jsxs("div",{className:"p-4 border-b dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-700/30 flex items-center gap-2",children:[p.jsx(vT,{className:"w-5 h-5 text-neutral-500"}),p.jsx("h3",{className:"font-semibold",children:"Customers with Outstanding Dues"})]}),d.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-neutral-400",children:[p.jsx(vT,{className:"w-12 h-12 mb-2 opacity-50"}),p.jsx("p",{children:"No customers with due amounts."})]}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm text-left text-neutral-500 dark:text-neutral-400",children:[p.jsx("thead",{className:"text-xs text-neutral-700 dark:text-neutral-300 uppercase bg-neutral-50 dark:bg-neutral-700/50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3",children:"Customer Name"}),p.jsx("th",{className:"px-6 py-3",children:"Phone"}),p.jsx("th",{className:"px-6 py-3",children:"Due Amount"}),p.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y divide-neutral-100 dark:divide-neutral-700",children:d.map(g=>p.jsxs("tr",{className:"hover:bg-neutral-50 dark:hover:bg-neutral-700/50",children:[p.jsx("td",{className:"px-6 py-4 font-medium text-neutral-900 dark:text-neutral-100",children:g.name}),p.jsx("td",{className:"px-6 py-4",children:g.phone}),p.jsx("td",{className:"px-6 py-4 font-bold text-red-600 dark:text-red-400",children:n(g.dueAmount)}),p.jsx("td",{className:"px-6 py-4 text-right",children:p.jsx("button",{onClick:()=>c(g),className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-green-200",children:"Pay Now"})})]},g.id))})]})})]}),s==="holds"&&p.jsxs("div",{className:"p-0",children:[p.jsxs("div",{className:"p-4 border-b dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-700/30 flex items-center gap-2",children:[p.jsx(wT,{className:"w-5 h-5 text-neutral-500"}),p.jsx("h3",{className:"font-semibold",children:"Held / Suspended Orders"})]}),e.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-neutral-400",children:[p.jsx(wT,{className:"w-12 h-12 mb-2 opacity-50"}),p.jsx("p",{children:"No held orders currently active."})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:e.map(g=>{var y;return p.jsxs("div",{className:"border border-neutral-200 dark:border-neutral-700 rounded-lg p-4 bg-neutral-50 dark:bg-neutral-700/20 hover:shadow-md transition-shadow",children:[p.jsxs("div",{className:"flex justify-between items-start mb-3",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-neutral-800 dark:text-neutral-100",children:((y=g.customer)==null?void 0:y.name)||"Walk-in Customer"}),p.jsx("p",{className:"text-xs text-neutral-500",children:new Date(g.timestamp).toLocaleString()})]}),p.jsxs("span",{className:"bg-amber-100 text-amber-800 text-xs px-2 py-1 rounded font-mono",children:[g.items.length," Items"]})]}),g.note&&p.jsxs("div",{className:"mb-3 p-2 bg-yellow-50 dark:bg-yellow-900/20 text-xs text-yellow-800 dark:text-yellow-200 rounded border border-yellow-100 dark:border-yellow-900/30",children:["Note: ",g.note]}),p.jsxs("div",{className:"flex gap-2 mt-4",children:[p.jsxs("button",{onClick:()=>i(g),className:"flex-1 bg-primary-600 text-white py-2 rounded-lg text-sm font-semibold hover:bg-primary-700 flex items-center justify-center gap-2",children:["Resume ",p.jsx(Sde,{className:"w-4 h-4"})]}),p.jsx("button",{onClick:()=>o(g.id),className:"px-3 bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-300 rounded-lg hover:bg-red-200",title:"Discard",children:p.jsx(Ede,{className:"w-4 h-4"})})]})]},g.id)})})]})]}),p.jsx(Tde,{customer:u,onClose:()=>c(null),onConfirm:h,formatCurrency:n})]})},Cde=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})}),kde=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})}),Pde=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),Ide=({onSuccess:t,onStartTrial:e,licenseDatabase:n})=>{const[r,i]=P.useState(""),[o,a]=P.useState(""),[s,l]=P.useState(""),[u,c]=P.useState(null),[d,h]=P.useState(!1),g=async v=>{v.preventDefault(),c(null),h(!0),await new Promise(T=>setTimeout(T,800));const x=r.trim(),w=o.trim().toLowerCase(),b=s.trim(),_=n.find(T=>T.key===x);if(!_){c("Invalid license key. Please check the key provided by your vendor."),h(!1);return}if(_.status==="Activated"&&_.emailLock&&_.emailLock.toLowerCase()!==w){c("This license key has already been activated for a different user."),h(!1);return}if(_.status==="Revoked"){c("This license key has been revoked. Please contact support."),h(!1);return}if(new Date(_.validUntil)<new Date){c("This license key has expired."),h(!1);return}if(_.emailLock){if(_.emailLock.toLowerCase()!==w){c("This license key is locked to a different email address."),h(!1);return}}else if(!w){c("Please enter your email address."),h(!1);return}h(!1),t({..._,businessNameLock:b||_.businessNameLock,emailLock:w})},y=()=>{confirm("Factory Reset: This will delete ALL data (products, sales, users) on this device and reset the license. This cannot be undone. Are you sure?")&&(localStorage.clear(),window.location.reload())};return p.jsxs("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-900 flex flex-col justify-center items-center p-4",children:[p.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-8 rounded-2xl shadow-xl w-full max-w-md",children:[p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx("div",{className:"w-16 h-16 bg-primary-100 dark:bg-primary-900/50 rounded-full flex items-center justify-center text-primary-600 dark:text-primary-400",children:p.jsx(Cde,{className:"w-8 h-8"})})}),p.jsx("h1",{className:"text-2xl font-bold text-center text-neutral-800 dark:text-neutral-100 mb-2",children:"Activate Zenith POS"}),p.jsx("p",{className:"text-center text-neutral-500 dark:text-neutral-400 mb-8 text-sm",children:"Enter your license details to activate the software."}),u&&p.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-3",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0",children:p.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),p.jsx("p",{className:"text-sm text-red-600 dark:text-red-300",children:u})]}),p.jsxs("form",{onSubmit:g,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email Address"}),p.jsxs("div",{className:"relative",children:[p.jsx(Pde,{className:"absolute left-3 top-3 w-5 h-5 text-neutral-400"}),p.jsx("input",{type:"email",required:!0,value:o,onChange:v=>a(v.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 focus:ring-2 focus:ring-primary-500 outline-none transition-all dark:text-white",placeholder:"registered@email.com"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"License Key"}),p.jsx("input",{type:"text",required:!0,value:r,onChange:v=>i(v.target.value),className:"w-full px-4 py-3 rounded-lg bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 focus:ring-2 focus:ring-primary-500 outline-none transition-all font-mono text-sm dark:text-white",placeholder:"ZENITH-XXXX-XXXX-XXXX"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Business Name"}),p.jsx("input",{type:"text",value:s,onChange:v=>l(v.target.value),className:"w-full px-4 py-3 rounded-lg bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 focus:ring-2 focus:ring-primary-500 outline-none transition-all dark:text-white",placeholder:"e.g. My Awesome Shop"}),p.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Leave blank if not specified by vendor."})]}),p.jsx("button",{type:"submit",disabled:d,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 rounded-lg transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center",children:d?p.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):p.jsxs(p.Fragment,{children:["Activate License",p.jsx(kde,{className:"w-5 h-5 ml-2"})]})})]}),p.jsxs("div",{className:"mt-6 pt-6 border-t border-neutral-200 dark:border-neutral-700 flex flex-col items-center gap-3",children:[p.jsx("button",{onClick:e,className:"text-primary-600 dark:text-primary-400 font-semibold text-sm hover:underline",children:"Start 7-Day Free Trial"}),p.jsx("button",{onClick:y,className:"text-red-500 text-xs hover:underline",children:"Trouble logging in? Factory Reset"})]})]}),p.jsxs("div",{className:"mt-8 text-center text-neutral-500 dark:text-neutral-400 text-sm",children:[p.jsx("p",{children:"Need a license? Contact Sales"}),p.jsx("p",{className:"mt-1 font-medium",children:"ziauddin537000@gmail.com"})]})]})},{BuildingStorefrontIcon:Nde}=ko,Ode=({onLogin:t,onInitiateRegister:e,onInitiateForgotPassword:n,error:r,onClearError:i,noUsersFound:o,activeLicense:a,onDeactivateLicense:s})=>{const[l,u]=P.useState("login"),[c,d]=P.useState(""),[h,g]=P.useState(""),[y,v]=P.useState(""),[x,w]=P.useState("");P.useEffect(()=>{o&&u("register")},[o]);const b=E=>{u(E),i==null||i(),E==="login"&&g("")},_=E=>{switch(E.preventDefault(),l){case"login":t(c,h);break;case"register":if(h!==x){alert("Passwords do not match!");return}e(y,c,h);break;case"forgot_password":n(c);break}},T=()=>{if(o&&l==="register")return"Setup Admin Account";switch(l){case"login":return"Welcome Back";case"register":return"Create Account";case"forgot_password":return"Forgot Password"}},S=()=>{if(o&&l==="register")return"Create the first admin account for this shop.";switch(l){case"login":return"Please login to your account";case"register":return"Register your admin account";case"forgot_password":return"Enter your email to receive a reset link"}};return p.jsx("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-900 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-neutral-800 max-w-md w-full rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row max-w-4xl",children:[p.jsxs("div",{className:"bg-primary-600 p-8 md:w-1/2 flex flex-col justify-center items-center text-center text-white",children:[p.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-6 shadow-lg",children:p.jsx(Nde,{className:"w-10 h-10 text-primary-600"})}),p.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Zenith POS"}),p.jsx("p",{className:"text-primary-100 mb-8",children:"Smart Business Management"}),p.jsxs("ul",{className:"text-left space-y-3 text-sm text-primary-50 hidden md:block",children:[p.jsx("li",{className:"flex items-center gap-2",children:" Real-time Inventory Tracking"}),p.jsx("li",{className:"flex items-center gap-2",children:" Offline Mode Support"}),p.jsx("li",{className:"flex items-center gap-2",children:" Multi-Shop Management"}),p.jsx("li",{className:"flex items-center gap-2",children:" AI-Powered Insights"})]})]}),p.jsxs("div",{className:"p-8 md:w-1/2 flex flex-col justify-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100 mb-1",children:T()}),p.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-6",children:S()}),(a==null?void 0:a.emailLock)&&p.jsxs("div",{className:"mb-4 p-2 bg-blue-50 text-blue-800 rounded border border-blue-200 text-xs text-center",children:["Licensed to: ",p.jsx("strong",{children:a.emailLock})]}),r&&p.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm border border-red-200",children:r}),o&&l==="login"&&p.jsxs("div",{className:"mb-4 p-3 bg-amber-100 text-amber-800 rounded-lg text-sm border border-amber-200",children:["Fresh Install? Please ",p.jsx("button",{onClick:()=>b("register"),className:"font-bold underline",children:"Register"})," first."]}),p.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l==="register"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Full Name"}),p.jsx("input",{type:"text",required:!0,value:y,onChange:E=>v(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:"John Doe"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email Address"}),p.jsx("input",{type:"email",required:!0,value:c,onChange:E=>d(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:"name@company.com"})]}),["login","register"].includes(l)&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Password"}),p.jsx("input",{type:"password",required:!0,value:h,onChange:E=>g(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:""}),l==="login"&&p.jsx("div",{className:"text-right mt-1",children:p.jsx("button",{type:"button",onClick:()=>b("forgot_password"),className:"text-xs text-primary-600 hover:underline",children:"Forgot Password?"})})]}),l==="register"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Confirm Password"}),p.jsx("input",{type:"password",required:!0,value:x,onChange:E=>w(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:""})]}),p.jsxs("button",{type:"submit",className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors mt-2",children:[l==="login"&&"Sign In",l==="register"&&"Register Admin",l==="forgot_password"&&"Send Reset Link"]})]}),p.jsxs("div",{className:"mt-6 text-center text-sm text-neutral-500",children:[l==="login"&&p.jsxs(p.Fragment,{children:["Don't have an account?"," ",p.jsx("button",{onClick:()=>b("register"),className:"text-primary-600 font-semibold hover:underline",children:"Register"})]}),l==="register"&&!o&&p.jsxs(p.Fragment,{children:["Already have an account?"," ",p.jsx("button",{onClick:()=>b("login"),className:"text-primary-600 font-semibold hover:underline",children:"Login"})]}),l==="register"&&o&&p.jsx("p",{className:"text-xs italic",children:"Registration required for first use."}),l==="forgot_password"&&p.jsx("button",{onClick:()=>b("login"),className:"text-neutral-500 hover:text-neutral-800 font-medium",children:" Back to Login"})]}),s&&p.jsx("div",{className:"mt-8 pt-4 border-t border-neutral-100 text-center",children:p.jsx("button",{onClick:s,className:"text-red-500 text-xs hover:underline",children:"Wrong License? Deactivate & Change Key"})})]})]})})},Mde=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),bT=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,Rde=[["1","2","3","4","5","6","7","8","9","0","Backspace"],["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M",",",".","Enter"],["Space"]],$de=({enabled:t})=>{const[e,n]=P.useState(!1),[r,i]=P.useState(null),o=P.useRef(null);P.useEffect(()=>{if(!t||!bT())return;const s=u=>{const c=u.target;(c.tagName==="INPUT"||c.tagName==="TEXTAREA")&&!c.getAttribute("readonly")&&(i(c),n(!0))},l=u=>{o.current&&o.current.contains(u.target)||r&&u.target===r||(n(!1),i(null))};return document.addEventListener("focusin",s),document.addEventListener("mousedown",l),()=>{document.removeEventListener("focusin",s),document.removeEventListener("mousedown",l)}},[r,t]);const a=s=>{var v;if(!r)return;const l=r.selectionStart||0,u=r.selectionEnd||0,c=r.value;let d=c,h=l;if(s==="Backspace")l===u&&l>0?(d=c.slice(0,l-1)+c.slice(l),h=l-1):(d=c.slice(0,l)+c.slice(u),h=l);else if(s==="Enter")if(r.tagName==="TEXTAREA")d=c.slice(0,l)+`
`+c.slice(u),h=l+1;else{n(!1);return}else if(s==="Space")d=c.slice(0,l)+" "+c.slice(u),h=l+1;else{const x=s;d=c.slice(0,l)+x+c.slice(u),h=l+1}const g=(v=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:v.set;g?g.call(r,d):r.value=d;const y=new Event("input",{bubbles:!0});r.dispatchEvent(y),r.focus(),r.setSelectionRange(h,h)};return!t||!bT()||!e?null:p.jsxs("div",{ref:o,className:"fixed bottom-0 left-0 right-0 bg-neutral-200 dark:bg-neutral-900 border-t border-neutral-300 dark:border-neutral-700 p-2 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-[9999]",children:[p.jsx("div",{className:"flex justify-end mb-1",children:p.jsx("button",{onClick:()=>n(!1),className:"p-1 bg-red-500 text-white rounded hover:bg-red-600",children:p.jsx(Mde,{className:"w-5 h-5"})})}),p.jsx("div",{className:"flex flex-col gap-1 max-w-5xl mx-auto",children:Rde.map((s,l)=>p.jsx("div",{className:"flex justify-center gap-1",children:s.map(u=>{let c="w-10 sm:w-14";return u==="Space"&&(c="w-64 sm:w-80"),(u==="Backspace"||u==="Enter")&&(c="w-16 sm:w-24 bg-neutral-300 dark:bg-neutral-600"),p.jsx("button",{onMouseDown:d=>{d.preventDefault(),a(u)},className:`${c} h-10 sm:h-12 rounded bg-white dark:bg-neutral-700 text-neutral-800 dark:text-neutral-100 shadow-sm hover:bg-neutral-100 dark:hover:bg-neutral-600 active:bg-neutral-300 dark:active:bg-neutral-500 font-semibold text-sm sm:text-base transition-colors select-none`,children:u==="Backspace"?"":u},u)})},l))})]})};var Vy=function(t,e){return Vy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Vy(t,e)};function ON(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Vy(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Tf=function(){return Tf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Tf.apply(this,arguments)};function As(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function MN(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function RN(t,e){return function(n,r){e(n,r,t)}}function $N(t,e,n,r,i,o){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var s=r.kind,l=s==="getter"?"get":s==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,h=!1,g=n.length-1;g>=0;g--){var y={};for(var v in r)y[v]=v==="access"?{}:r[v];for(var v in r.access)y.access[v]=r.access[v];y.addInitializer=function(w){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(w||null))};var x=(0,n[g])(s==="accessor"?{get:c.get,set:c.set}:c[l],y);if(s==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(d=a(x.get))&&(c.get=d),(d=a(x.set))&&(c.set=d),(d=a(x.init))&&i.unshift(d)}else(d=a(x))&&(s==="field"?i.unshift(d):c[l]=d)}u&&Object.defineProperty(u,r.name,c),h=!0}function jN(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function DN(t){return typeof t=="symbol"?t:"".concat(t)}function LN(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function UN(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ce(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}function BN(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var zh=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function FN(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&zh(e,t,n)}function Af(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fw(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function VN(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(fw(arguments[e]));return t}function zN(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function qN(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function is(t){return this instanceof is?(this.v=t,this):new is(t)}function GN(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(y){return Promise.resolve(y).then(g,d)}}function s(g,y){r[g]&&(i[g]=function(v){return new Promise(function(x,w){o.push([g,v,x,w])>1||l(g,v)})},y&&(i[g]=y(i[g])))}function l(g,y){try{u(r[g](y))}catch(v){h(o[0][3],v)}}function u(g){g.value instanceof is?Promise.resolve(g.value.v).then(c,d):h(o[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function h(g,y){g(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function HN(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(a){return(n=!n)?{value:is(t[i](a)),done:!1}:o?o(a):a}:o}}function WN(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Af=="function"?Af(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}function KN(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var jde=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},zy=function(t){return zy=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},zy(t)};function JN(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=zy(t),r=0;r<n.length;r++)n[r]!=="default"&&zh(e,t,n[r]);return jde(e,t),e}function YN(t){return t&&t.__esModule?t:{default:t}}function XN(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function QN(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function ZN(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function eO(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var Dde=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function tO(t){function e(o){t.error=t.hasError?new Dde(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(a){return e(a),i()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function nO(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,a){return r?e?".jsx":".js":i&&(!o||!a)?n:i+o+"."+a.toLowerCase()+"js"}):t}const Lde={__extends:ON,__assign:Tf,__rest:As,__decorate:MN,__param:RN,__esDecorate:$N,__runInitializers:jN,__propKey:DN,__setFunctionName:LN,__metadata:UN,__awaiter:ce,__generator:BN,__createBinding:zh,__exportStar:FN,__values:Af,__read:fw,__spread:VN,__spreadArrays:zN,__spreadArray:qN,__await:is,__asyncGenerator:GN,__asyncDelegator:HN,__asyncValues:WN,__makeTemplateObject:KN,__importStar:JN,__importDefault:YN,__classPrivateFieldGet:XN,__classPrivateFieldSet:QN,__classPrivateFieldIn:ZN,__addDisposableResource:eO,__disposeResources:tO,__rewriteRelativeImportExtension:nO},Ude=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:eO,get __assign(){return Tf},__asyncDelegator:HN,__asyncGenerator:GN,__asyncValues:WN,__await:is,__awaiter:ce,__classPrivateFieldGet:XN,__classPrivateFieldIn:ZN,__classPrivateFieldSet:QN,__createBinding:zh,__decorate:MN,__disposeResources:tO,__esDecorate:$N,__exportStar:FN,__extends:ON,__generator:BN,__importDefault:YN,__importStar:JN,__makeTemplateObject:KN,__metadata:UN,__param:RN,__propKey:DN,__read:fw,__rest:As,__rewriteRelativeImportExtension:nO,__runInitializers:jN,__setFunctionName:LN,__spread:VN,__spreadArray:qN,__spreadArrays:zN,__values:Af,default:Lde},Symbol.toStringTag,{value:"Module"})),Bde=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class hw extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Fde extends hw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xT extends hw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class _T extends hw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qy;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qy||(qy={}));class Vde{constructor(e,{headers:n={},customFetch:r,region:i=qy.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Bde(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ce(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:g}=r;g||(g=this.region);const y=new URL(`${this.url}/${n}`);g&&g!=="any"&&(h["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let v;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(h["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(h["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;let x=c;d&&(a=new AbortController,o=setTimeout(()=>a.abort(),d),c?(x=a.signal,c.addEventListener("abort",()=>a.abort())):x=a.signal);const w=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:v,signal:x}).catch(S=>{throw new Fde(S)}),b=w.headers.get("x-relay-error");if(b&&b==="true")throw new xT(w);if(!w.ok)throw new _T(w);let _=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return _==="application/json"?T=yield w.json():_==="application/octet-stream"||_==="application/pdf"?T=yield w.blob():_==="text/event-stream"?T=w:_==="multipart/form-data"?T=yield w.formData():T=yield w.text(),{data:T,error:null,response:w}}catch(s){return{data:null,error:s,response:s instanceof _T||s instanceof xT?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var Qt={};const Cs=HO(Ude);var Ec={},Tc={},Ac={},Cc={},kc={},Pc={},ST;function rO(){if(ST)return Pc;ST=1,Object.defineProperty(Pc,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Pc.default=t,Pc}var ET;function iO(){if(ET)return kc;ET=1,Object.defineProperty(kc,"__esModule",{value:!0});const e=Cs.__importDefault(rO());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let s=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,d,h;let g=null,y=null,v=null,x=l.status,w=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=S:y=JSON.parse(S))}const _=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),T=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");_&&T&&T.length>1&&(v=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(g={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,v=null,x=406,w="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await l.text();try{g=JSON.parse(_),Array.isArray(g)&&l.status===404&&(y=[],g=null,x=200,w="OK")}catch{l.status===404&&_===""?(x=204,w="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((h=g==null?void 0:g.details)===null||h===void 0)&&h.includes("0 rows"))&&(g=null,x=200,w="OK"),g&&this.shouldThrowOnError)throw new e.default(g)}return{error:g,data:y,count:v,status:x,statusText:w}});return this.shouldThrowOnError||(s=s.catch(l=>{var u,c,d,h,g,y;let v="";const x=l==null?void 0:l.cause;if(x){const w=(u=x==null?void 0:x.message)!==null&&u!==void 0?u:"",b=(c=x==null?void 0:x.code)!==null&&c!==void 0?c:"";v=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,v+=`

Caused by: ${(h=x==null?void 0:x.name)!==null&&h!==void 0?h:"Error"}: ${w}`,b&&(v+=` (${b})`),x!=null&&x.stack&&(v+=`
${x.stack}`)}else v=(g=l==null?void 0:l.stack)!==null&&g!==void 0?g:"";return{error:{message:`${(y=l==null?void 0:l.name)!==null&&y!==void 0?y:"FetchError"}: ${l==null?void 0:l.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,o)}returns(){return this}overrideTypes(){return this}}return kc.default=n,kc}var TT;function oO(){if(TT)return Cc;TT=1,Object.defineProperty(Cc,"__esModule",{value:!0});const e=Cs.__importDefault(iO());class n extends e.default{select(i){let o=!1;const a=(i??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:a,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${o?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:a=o}={}){const s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,o,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:a=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var c;const d=[i?"analyze":null,o?"verbose":null,a?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Cc.default=n,Cc}var AT;function pw(){if(AT)return Ac;AT=1,Object.defineProperty(Ac,"__esModule",{value:!0});const e=Cs.__importDefault(oO()),n=new RegExp("[,()]");class r extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const s=Array.from(new Set(a)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(o,`in.(${s})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:s,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(o,`${u}fts${c}.${a}`),this}match(o){return Object.entries(o).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(o,a,s){return this.url.searchParams.append(o,`not.${a}.${s}`),this}or(o,{foreignTable:a,referencedTable:s=a}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${o})`),this}filter(o,a,s){return this.url.searchParams.append(o,`${a}.${s}`),this}}return Ac.default=r,Ac}var CT;function aO(){if(CT)return Tc;CT=1,Object.defineProperty(Tc,"__esModule",{value:!0});const e=Cs.__importDefault(pw());class n{constructor(i,{headers:o={},schema:a,fetch:s}){this.url=i,this.headers=new Headers(o),this.schema=a,this.fetch=s}select(i,o){const{head:a=!1,count:s}=o??{},l=a?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:a=!0}={}){var s;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:a=!1,count:s,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:o}={}){var a;const s="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var o;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Tc.default=n,Tc}var kT;function zde(){if(kT)return Ec;kT=1,Object.defineProperty(Ec,"__esModule",{value:!0});const t=Cs,e=t.__importDefault(aO()),n=t.__importDefault(pw());class r{constructor(o,{headers:a={},schema:s,fetch:l}={}){this.url=o,this.headers=new Headers(a),this.schemaName=s,this.fetch=l}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:s=!1,get:l=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${o}`);let g;s||l?(d=s?"HEAD":"GET",Object.entries(a).filter(([v,x])=>x!==void 0).map(([v,x])=>[v,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([v,x])=>{h.searchParams.append(v,x)})):(d="POST",g=a);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new n.default({method:d,url:h,headers:y,schema:this.schemaName,body:g,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Ec.default=r,Ec}Object.defineProperty(Qt,"__esModule",{value:!0});var sO=Qt.PostgrestError=yO=Qt.PostgrestBuilder=mO=Qt.PostgrestTransformBuilder=hO=Qt.PostgrestFilterBuilder=dO=Qt.PostgrestQueryBuilder=uO=Qt.PostgrestClient=void 0;const ks=Cs,lO=ks.__importDefault(zde());var uO=Qt.PostgrestClient=lO.default;const cO=ks.__importDefault(aO());var dO=Qt.PostgrestQueryBuilder=cO.default;const fO=ks.__importDefault(pw());var hO=Qt.PostgrestFilterBuilder=fO.default;const pO=ks.__importDefault(oO());var mO=Qt.PostgrestTransformBuilder=pO.default;const gO=ks.__importDefault(iO());var yO=Qt.PostgrestBuilder=gO.default;const vO=ks.__importDefault(rO());sO=Qt.PostgrestError=vO.default;var wO=Qt.default={PostgrestClient:lO.default,PostgrestQueryBuilder:cO.default,PostgrestFilterBuilder:fO.default,PostgrestTransformBuilder:pO.default,PostgrestBuilder:gO.default,PostgrestError:vO.default};const qde=GO({__proto__:null,get PostgrestBuilder(){return yO},get PostgrestClient(){return uO},get PostgrestError(){return sO},get PostgrestFilterBuilder(){return hO},get PostgrestQueryBuilder(){return dO},get PostgrestTransformBuilder(){return mO},default:wO},[Qt]),{PostgrestClient:Gde,PostgrestQueryBuilder:spe,PostgrestFilterBuilder:lpe,PostgrestTransformBuilder:upe,PostgrestBuilder:cpe,PostgrestError:dpe}=wO||qde;class Hde{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Wde="2.83.0",Kde=`realtime-js/${Wde}`,bO="1.0.0",Jde="2.0.0",PT=bO,Gy=1e4,Yde=1e3,Xde=100;var Qi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Qi||(Qi={}));var Et;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Et||(Et={}));var $n;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($n||($n={}));var Hy;(function(t){t.websocket="websocket"})(Hy||(Hy={}));var Zi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Zi||(Zi={}));class Qde{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodePush(e){var n,r;const{event:i,topic:o,payload:a}=e,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=this.META_LENGTH+l.length+s.length+o.length+i.length,c=new ArrayBuffer(this.HEADER_LENGTH+u);let d=new DataView(c),h=0;d.setUint8(h++,this.KINDS.push),d.setUint8(h++,l.length),d.setUint8(h++,s.length),d.setUint8(h++,o.length),d.setUint8(h++,i.length),Array.from(l,y=>d.setUint8(h++,y.charCodeAt(0))),Array.from(s,y=>d.setUint8(h++,y.charCodeAt(0))),Array.from(o,y=>d.setUint8(h++,y.charCodeAt(0))),Array.from(i,y=>d.setUint8(h++,y.charCodeAt(0)));var g=new Uint8Array(c.byteLength+a.byteLength);return g.set(new Uint8Array(c),0),g.set(new Uint8Array(a),c.byteLength),g.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r,i,o;const a=e.topic,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,c=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let g=new DataView(h),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,l.length),g.setUint8(y++,s.length),g.setUint8(y++,a.length),g.setUint8(y++,u.length),g.setUint8(y++,this.BINARY_ENCODING),Array.from(l,x=>g.setUint8(y++,x.charCodeAt(0))),Array.from(s,x=>g.setUint8(y++,x.charCodeAt(0))),Array.from(a,x=>g.setUint8(y++,x.charCodeAt(0))),Array.from(u,x=>g.setUint8(y++,x.charCodeAt(0)));var v=new Uint8Array(h.byteLength+c.byteLength);return v.set(new Uint8Array(h),0),v.set(new Uint8Array(c),h.byteLength),v.buffer}_encodeJsonUserBroadcastPush(e){var n,r,i,o;const a=e.topic,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,c=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer,g=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length,y=new ArrayBuffer(this.HEADER_LENGTH+g);let v=new DataView(y),x=0;v.setUint8(x++,this.KINDS.userBroadcastPush),v.setUint8(x++,l.length),v.setUint8(x++,s.length),v.setUint8(x++,a.length),v.setUint8(x++,u.length),v.setUint8(x++,this.JSON_ENCODING),Array.from(l,b=>v.setUint8(x++,b.charCodeAt(0))),Array.from(s,b=>v.setUint8(x++,b.charCodeAt(0))),Array.from(a,b=>v.setUint8(x++,b.charCodeAt(0))),Array.from(u,b=>v.setUint8(x++,b.charCodeAt(0)));var w=new Uint8Array(y.byteLength+h.byteLength);return w.set(new Uint8Array(y),0),w.set(new Uint8Array(h),y.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,n,i);case this.KINDS.reply:return this._decodeReply(e,n,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodePush(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3);let s=this.HEADER_LENGTH+this.META_LENGTH-1;const l=r.decode(e.slice(s,s+i));s=s+i;const u=r.decode(e.slice(s,s+o));s=s+o;const c=r.decode(e.slice(s,s+a));s=s+a;const d=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{join_ref:l,ref:null,topic:u,event:c,payload:d}}_decodeReply(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const h=r.decode(e.slice(l,l+s));l=l+s;const g=JSON.parse(r.decode(e.slice(l,e.byteLength))),y={status:h,response:g};return{join_ref:u,ref:c,topic:d,event:$n.reply,payload:y}}_decodeBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const s=r.decode(e.slice(a,a+i));a=a+i;const l=r.decode(e.slice(a,a+o));a=a+o;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{join_ref:null,ref:null,topic:s,event:l,payload:u}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),g=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,y={type:this.BROADCAST,event:c,payload:g};return a>0&&(y.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class xO{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ke||(Ke={}));const IT=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=Zde(a,t,e,i),o),{}):{}},Zde=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?_O(o,a):Wy(a)},_O=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return rfe(e,n)}switch(t){case Ke.bool:return efe(e);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return tfe(e);case Ke.json:case Ke.jsonb:return nfe(e);case Ke.timestamp:return ife(e);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return Wy(e);default:return Wy(e)}},Wy=t=>t,efe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tfe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nfe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},rfe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>_O(e,s))}return t},ife=t=>typeof t=="string"?t.replace(" ","T"):t,SO=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class rm{constructor(e,n,r={},i=Gy){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var NT;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(NT||(NT={}));class _l{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_l.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=_l.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_l.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=o[u];if(d){const h=c.map(x=>x.presence_ref),g=d.map(x=>x.presence_ref),y=c.filter(x=>g.indexOf(x.presence_ref)<0),v=d.filter(x=>h.indexOf(x.presence_ref)<0);y.length>0&&(s[u]=y),v.length>0&&(l[u]=v)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const d=e[s].map(g=>g.presence_ref),h=c.filter(g=>d.indexOf(g.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var OT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(OT||(OT={}));var Sl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Sl||(Sl={}));var kr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(kr||(kr={}));class mw{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new rm(this,$n.join,this.params,this.timeout),this.rejoinTimer=new xO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Et.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this._on($n.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new _l(this),this.broadcastEndpointURL=SO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Et.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Sl.PRESENCE]&&this.bindings[Sl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(kr.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(kr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){e==null||e(kr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,w=[];for(let b=0;b<x;b++){const _=v[b],{filter:{event:T,schema:S,table:E,filter:A}}=_,C=g&&g[b];if(C&&C.event===T&&C.schema===S&&C.table===E&&C.filter===A)w.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=Et.errored,e==null||e(kr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(kr.SUBSCRIBED);return}}).receive("error",g=>{this.state=Et.errored,e==null||e(kr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(kr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Et.joined&&e===Sl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Et.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($n.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new rm(this,$n.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Et.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new rm(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Xde){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=$n;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var y,v,x;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(v=g.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(g=>g.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var y,v,x,w,b,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const T=g.id,S=(y=g.filter)===null||y===void 0?void 0:y.event;return T&&((v=n.ids)===null||v===void 0?void 0:v.includes(T))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const T=(b=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return T==="*"||T===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:v,table:x,commit_timestamp:w,type:b,errors:_}=y;h=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:w,eventType:b,new:{},old:{},errors:_}),this._getPayloadRecords(y))}g.callback(h,r)})}_isClosed(){return this.state===Et.closed}_isJoined(){return this.state===Et.joined}_isJoining(){return this.state===Et.joining}_isLeaving(){return this.state===Et.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&mw.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($n.close,{},e)}_onError(e){this._on($n.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Et.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=IT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=IT(e.columns,e.old_record)),n}}const im=()=>{},Ic={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ofe=[1e3,2e3,5e3,1e4],afe=1e4,sfe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lfe{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gy,this.transport=null,this.heartbeatIntervalMs=Ic.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=im,this.ref=0,this.reconnectTimer=null,this.vsn=PT,this.logger=im,this.conn=null,this.sendBuffer=[],this.serializer=new Qde,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Hy.websocket}`,this.httpEndpoint=SO(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Hde.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qi.connecting:return Zi.Connecting;case Qi.open:return Zi.Open;case Qi.closing:return Zi.Closing;default:return Zi.Closed}}isConnected(){return this.connectionState()===Zi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new mw(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Yde,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ic.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qi.open||this.conn.readyState===Qi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger($n.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([sfe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Kde};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push($n.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new xO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ic.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,u,c,d,h,g;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Gy,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Ic.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:im,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:PT,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>ofe[y-1]||afe,this.vsn){case bO:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(y,v)=>v(JSON.stringify(y)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(y,v)=>v(JSON.parse(y));break;case Jde:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class gw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ct(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ufe extends gw{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ky extends gw{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const yw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),cfe=()=>Response,Jy=t=>{if(Array.isArray(t))return t.map(n=>Jy(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Jy(r)}),e},dfe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},om=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},ffe=(t,e,n)=>ce(void 0,void 0,void 0,function*(){const r=yield cfe();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const o=t.status||500,a=(i==null?void 0:i.statusCode)||o+"";e(new ufe(om(i),o,a))}).catch(i=>{e(new Ky(om(i),i))}):e(new Ky(om(t),t))}),hfe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(dfe(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Bu(t,e,n,r,i,o){return ce(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(n,hfe(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>ffe(l,s,r))})})}function _u(t,e,n,r){return ce(this,void 0,void 0,function*(){return Bu(t,"GET",e,n,r)})}function Zn(t,e,n,r,i){return ce(this,void 0,void 0,function*(){return Bu(t,"POST",e,r,i,n)})}function Yy(t,e,n,r,i){return ce(this,void 0,void 0,function*(){return Bu(t,"PUT",e,r,i,n)})}function pfe(t,e,n,r){return ce(this,void 0,void 0,function*(){return Bu(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function vw(t,e,n,r,i){return ce(this,void 0,void 0,function*(){return Bu(t,"DELETE",e,r,i,n)})}class mfe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return ce(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ct(e))return{data:null,error:e};throw e}})}}var EO;class gfe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[EO]="BlobDownloadBuilder",this.promise=null}asStream(){return new mfe(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ce(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ct(e))return{data:null,error:e};throw e}})}}EO=Symbol.toStringTag;const yfe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},MT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vfe{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=yw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return ce(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},MT),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(e=="PUT"?Yy:Zn)(this.fetch,`${this.url}/object/${c}`,o,Object.assign({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}upload(e,n,r){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ce(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),a=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:MT.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield Yy(this.fetch,s.toString(),l,{headers:c});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ct(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ce(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Zn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new gw("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}update(e,n,r){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ce(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ce(this,void 0,void 0,function*(){try{return{data:{path:(yield Zn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ce(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Zn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ce(this,void 0,void 0,function*(){try{const i=yield Zn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"",s=this._getFinalPath(e),l=()=>_u(this.fetch,`${this.url}/${i}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new gfe(l,this.shouldThrowOnError)}info(e){return ce(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield _u(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Jy(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}exists(e){return ce(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield pfe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r)&&r instanceof Ky){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(e){return ce(this,void 0,void 0,function*(){try{return{data:yield vw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}list(e,n,r){return ce(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},yfe),n),{prefix:e||""});return{data:yield Zn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}listV2(e,n){return ce(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Zn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const TO="2.83.0",AO={"X-Client-Info":`storage-js/${TO}`};class wfe{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},AO),n),this.fetch=yw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ce(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield _u(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}getBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:yield _u(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}createBucket(e){return ce(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Zn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return ce(this,void 0,void 0,function*(){try{return{data:yield Yy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:yield vw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class bfe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},AO),n),this.fetch=yw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}listBuckets(e){return ce(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield _u(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:yield vw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}}const ww={"X-Client-Info":`storage-js/${TO}`,"Content-Type":"application/json"};class CO extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function xn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class am extends CO{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xfe extends CO{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var RT;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(RT||(RT={}));const bw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_fe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$T=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Sfe=(t,e,n)=>ce(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new am($T(a),i,s))}).catch(()=>{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new am(s,i,a))});else{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new am(s,i,a))}}else e(new xfe($T(t),t))}),Efe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(_fe(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function Tfe(t,e,n,r,i,o){return ce(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(n,Efe(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>Sfe(l,s,r))})})}function _n(t,e,n,r,i){return ce(this,void 0,void 0,function*(){return Tfe(t,"POST",e,r,i,n)})}class Afe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ww),n),this.fetch=bw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ce(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return ce(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}listIndexes(e){return ce(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return ce(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}}class Cfe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ww),n),this.fetch=bw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ce(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield _n(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}getVectors(e){return ce(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}listVectors(e){return ce(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield _n(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}queryVectors(e){return ce(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return ce(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield _n(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}}class kfe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ww),n),this.fetch=bw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}getBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}listBuckets(){return ce(this,arguments,void 0,function*(e={}){try{return{data:yield _n(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}}class Pfe extends kfe{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new Ife(this.url,this.headers,e,this.fetch)}}class Ife extends Afe{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ce(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ce(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ce(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ce(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Nfe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Nfe extends Cfe{constructor(e,n,r,i,o){super(e,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ce(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ce(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ce(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ce(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ce(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Ofe extends wfe{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new vfe(this.url,this.headers,e,this.fetch)}get vectors(){return new Pfe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bfe(this.url+"/iceberg",this.headers,this.fetch)}}const Mfe="2.83.0";let il="";typeof Deno<"u"?il="deno":typeof document<"u"?il="web":typeof navigator<"u"&&navigator.product==="ReactNative"?il="react-native":il="node";const Rfe={"X-Client-Info":`supabase-js-${il}/${Mfe}`},$fe={headers:Rfe},jfe={schema:"public"},Dfe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Lfe={},Ufe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Bfe=()=>Headers,Ffe=(t,e,n)=>{const r=Ufe(n),i=Bfe();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},a),{headers:u}))}};function Vfe(t){return t.endsWith("/")?t:t+"/"}function zfe(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},c),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function qfe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vfe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const kO="2.83.0",Wo=30*1e3,Xy=3,sm=Xy*Wo,Gfe="http://localhost:9999",Hfe="supabase.auth.token",Wfe={"X-Client-Info":`gotrue-js/${kO}`},Qy="X-Supabase-Api-Version",PO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kfe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Jfe=10*60*1e3;class Su extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function he(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Yfe extends Su{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Xfe(t){return he(t)&&t.name==="AuthApiError"}class eo extends Su{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ji extends Su{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class mn extends ji{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qfe(t){return he(t)&&t.name==="AuthSessionMissingError"}class Vo extends ji{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Nc extends ji{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Oc extends ji{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zfe(t){return he(t)&&t.name==="AuthImplicitGrantRedirectError"}class jT extends ji{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zy extends ji{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function lm(t){return he(t)&&t.name==="AuthRetryableFetchError"}class DT extends ji{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ev extends ji{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),LT=` 	
\r=`.split(""),ehe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<LT.length;e+=1)t[LT[e].charCodeAt(0)]=-2;for(let e=0;e<Cf.length;e+=1)t[Cf[e].charCodeAt(0)]=e;return t})();function UT(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Cf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Cf[r]),e.queuedBits-=6}}function IO(t,e,n){const r=ehe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function BT(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{rhe(a,r,n)};for(let a=0;a<t.length;a+=1)IO(t.charCodeAt(a),i,o);return e.join("")}function the(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function nhe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}the(r,e)}}function rhe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ta(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)IO(t.charCodeAt(i),n,r);return new Uint8Array(e)}function ihe(t){const e=[];return nhe(t,n=>e.push(n)),new Uint8Array(e)}function uo(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>UT(i,n,r)),UT(null,n,r),e.join("")}function ohe(t){return Math.round(Date.now()/1e3)+t}function ahe(){return Symbol("auth-callback")}const Lt=()=>typeof window<"u"&&typeof document<"u",zi={tested:!1,writable:!1},NO=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zi.tested)return zi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zi.tested=!0,zi.writable=!0}catch{zi.tested=!0,zi.writable=!1}return zi.writable};function she(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const OO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),lhe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ko=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},qi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ri=async(t,e)=>{await t.removeItem(e)};class qh{constructor(){this.promise=new qh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}qh.promiseConstructor=Promise;function um(t){const e=t.split(".");if(e.length!==3)throw new ev("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Kfe.test(e[r]))throw new ev("JWT not in base64url format");return{header:JSON.parse(BT(e[0])),payload:JSON.parse(BT(e[1])),signature:Ta(e[2]),raw:{header:e[0],payload:e[1]}}}async function uhe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function che(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function dhe(t){return("0"+t.toString(16)).substr(-2)}function fhe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,dhe).join("")}async function hhe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function phe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await hhe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zo(t,e,n=!1){const r=fhe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Ko(t,`${e}-code-verifier`,i);const o=await phe(r);return[o,r===o?"plain":"s256"]}const mhe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ghe(t){const e=t.headers.get(Qy);if(!e||!e.match(mhe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function yhe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function vhe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const whe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qo(t){if(!whe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cm(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bhe(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function FT(t){return JSON.parse(JSON.stringify(t))}const Yi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xhe=[502,503,504];async function VT(t){var e;if(!lhe(t))throw new Zy(Yi(t),0);if(xhe.includes(t.status))throw new Zy(Yi(t),t.status);let n;try{n=await t.json()}catch(o){throw new eo(Yi(o),o)}let r;const i=ghe(t);if(i&&i.getTime()>=PO["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new DT(Yi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new mn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new DT(Yi(n),t.status,n.weak_password.reasons);throw new Yfe(Yi(n),t.status||500,r)}const _he=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ve(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Qy]||(o[Qy]=PO["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await She(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function She(t,e,n,r,i,o){const a=_he(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new Zy(Yi(l),0)}if(s.ok||await VT(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await VT(l)}}function Xn(t){var e;let n=null;Ahe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=ohe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function zT(t){const e=Xn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function di(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Ehe(t){return{data:t,error:null}}function The(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=As(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function qT(t){return t}function Ahe(t){return t.access_token&&t.refresh_token&&t.expires_in}const dm=["global","local","others"];class Che{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=OO(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=dm[0]){if(dm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dm.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:di})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=As(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:The,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(he(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:di})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:qT});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(he(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){qo(e);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:di})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){qo(e);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:di})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){qo(e);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:di})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){qo(e.userId);try{const{data:n,error:r}=await ve(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(he(n))return{data:null,error:n};throw n}}async _deleteFactor(e){qo(e.userId),qo(e.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:qT});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(he(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}}function GT(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Go={debug:!!(globalThis&&NO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class MO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class khe extends MO{}async function Phe(t,e,n){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Go.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new khe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Go.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Ihe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function RO(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Nhe(t){return parseInt(t,16)}function Ohe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Mhe(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=RO(t.address),y=c?`${c}://${r}`:r,v=t.statement?`${t.statement}
`:"",x=`${y} wants you to sign in with your Ethereum account:
${g}

${v}`;let w=`URI: ${d}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),s&&(w+=`
Not Before: ${s.toISOString()}`),l&&(w+=`
Request ID: ${l}`),u){let b=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);b+=`
- ${_}`}w+=b}return`${x}
${w}`}class wt extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class kf extends wt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Rhe({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new wt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new wt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new wt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new wt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new wt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new wt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new wt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new wt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if($O(a)){if(o.rp.id!==a)return new wt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new wt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new wt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function $he({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new wt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new wt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if($O(r)){if(n.rpId!==r)return new wt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new wt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class jhe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Dhe=new jhe;function Lhe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=As(t,["challenge","user","excludeCredentials"]),o=Ta(e).buffer,a=Object.assign(Object.assign({},n),{id:Ta(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Ta(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function Uhe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=As(t,["challenge","allowCredentials"]),i=Ta(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Ta(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function Bhe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:uo(new Uint8Array(t.response.attestationObject)),clientDataJSON:uo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Fhe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:uo(new Uint8Array(i.authenticatorData)),clientDataJSON:uo(new Uint8Array(i.clientDataJSON)),signature:uo(new Uint8Array(i.signature)),userHandle:i.userHandle?uo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $O(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function HT(){var t,e;return!!(Lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Vhe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new kf("Browser returned unexpected credential type",e)}:{data:null,error:new kf("Empty credential response",e)}}catch(e){return{data:null,error:Rhe({error:e,options:t})}}}async function zhe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new kf("Browser returned unexpected credential type",e)}:{data:null,error:new kf("Empty credential response",e)}}catch(e){return{data:null,error:$he({error:e,options:t})}}}const qhe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ghe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=Pf(s,a):r[o]=Pf(a)}else r[o]=a}return r}function Hhe(t,e){return Pf(qhe,t,e||{})}function Whe(t,e){return Pf(Ghe,t,e||{})}class Khe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??Dhe.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Hhe(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:c,error:d}=await Vhe({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=Whe(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:c,error:d}=await zhe(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(a){return he(a)?{data:null,error:a}:{data:null,error:new eo("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Su("rpId is required for WebAuthn authentication")};try{if(!HT())return{data:null,error:new eo("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return he(a)?{data:null,error:a}:{data:null,error:new eo("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Su("rpId is required for WebAuthn registration")};try{if(!HT())return{data:null,error:new eo("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return he(a)?{data:null,error:a}:{data:null,error:new eo("Unexpected error in register",a)}}}}Ihe();const Jhe={url:Gfe,storageKey:Hfe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wfe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function WT(t,e,n){return await n()}const Ho={};class Eu{get jwks(){var e,n;return(n=(e=Ho[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ho[this.storageKey]=Object.assign(Object.assign({},Ho[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ho[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ho[this.storageKey]=Object.assign(Object.assign({},Ho[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Jhe),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Eu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Eu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Lt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Che({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=OO(o.fetch),this.lock=o.lock||WT,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Lt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Phe:this.lock=WT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Khe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:NO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=GT(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=GT(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${kO}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Lt()&&(n=she(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Lt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Zfe(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return he(n)?this._returnResult({error:n}):this._returnResult({error:new eo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Xn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(he(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:c,password:d,options:h}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await zo(this.storage,this.storageKey)),o=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:y},xform:Xn})}else if("phone"in e){const{phone:c,password:d,options:h}=e;o=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Xn})}else throw new Nc("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(he(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:zT})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:zT})}else throw new Nc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Vo;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(he(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,u,c,d,h;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:v,wallet:x,statement:w,options:b}=e;let _;if(Lt())if(typeof x=="object")_=x;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")_=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const T=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=RO(S[0]);let A=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const k=await _.request({method:"eth_chainId"});A=Nhe(k)}const C={domain:T.host,address:E,statement:w,uri:T.href,version:"1",chainId:A,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.resources};g=Mhe(C),y=await _.request({method:"personal_sign",params:[Ohe(g),E]})}try{const{data:v,error:x}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:y},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Xn});if(x)throw x;if(!v||!v.session||!v.user){const w=new Vo;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(he(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var n,r,i,o,a,s,l,u,c,d,h,g;let y,v;if("message"in e)y=e.message,v=e.signature;else{const{chain:x,wallet:w,statement:b,options:_}=e;let T;if(Lt())if(typeof w=="object")T=w;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))T=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=w}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const E=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)y=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),v=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await T.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=E}}try{const{data:x,error:w}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:uo(v)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Xn});if(w)throw w;if(!x||!x.session||!x.user){const b=new Vo;return this._returnResult({data:{user:null,session:null},error:b})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(he(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const n=await qi(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:a}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Xn});if(await ri(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new Vo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(he(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Xn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Vo;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(he(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await zo(this.storage,this.storageKey));const{error:d}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Nc("You must provide either an email or phone number.")}catch(s){if(he(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Xn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(he(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await zo(this.storage,this.storageKey));const u=await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:Ehe});return!((o=u.data)===null||o===void 0)&&o.url&&Lt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(he(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new mn;const{error:i}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(he(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new Nc("You must provide either an email or phone number and a type")}catch(n){if(he(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await qi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<sm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await qi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=cm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=bhe(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:di}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mn}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:di})})}catch(n){if(he(n))return Qfe(n)&&(await this._removeSession(),await ri(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new mn;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await zo(this.storage,this.storageKey));const{data:u,error:c}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:di});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(he(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=um(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(he(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new mn;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(he(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Lt())throw new Oc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Oc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new jT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Oc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new jT("No code detected.");const{data:b,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=e;if(!o||!s||!a||!u)throw new Oc("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let h=c+d;l&&(h=parseInt(l));const g=h-c;g*1e3<=Wo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const y=h-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:v,error:x}=await this._getUser(o);if(x)throw x;const w={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(r){if(he(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await qi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(Xfe(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await ri(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=ahe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await zo(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(he(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:d,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Lt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(he(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=e,d=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xn}),{data:h,error:g}=d;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Vo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(he(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await che(async i=>(i>0&&await uhe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&lm(o)&&Date.now()+a-r<Wo})}catch(r){if(this._debug(n,"error",r),he(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Lt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await qi(this.storage,this.storageKey);if(i&&this.userStorage){let a=await qi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Ko(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:cm()}else if(i&&!i.user&&!i.user){const a=await qi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await ri(this.storage,this.storageKey+"-user"),await Ko(this.storage,this.storageKey,i)):i.user=cm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<sm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${sm}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),lm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new qh;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new mn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),he(o)){const a={data:null,error:o};return lm(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ko(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=FT(i);await Ko(this.storage,this.storageKey,o)}else{const i=FT(n);await Ko(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ri(this.storage,this.storageKey),await ri(this.storage,this.storageKey+"-code-verifier"),await ri(this.storage,this.storageKey+"-user"),this.userStorage&&await ri(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Wo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Wo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Wo}ms, refresh threshold is ${Xy} ticks`),i<=Xy&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof MO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await zo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await ve(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Bhe(e.webauthn.credential_response):Fhe(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Lhe(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Uhe(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=um(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new mn})})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new mn});const a=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Lt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new mn});const a=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Lt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await ve(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new mn})})}catch(e){if(he(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ve(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new mn})})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+Jfe>i)return r;const{data:o,error:a}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:y}=await this.getSession();if(y||!g.session)return this._returnResult({data:null,error:y});r=g.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=um(r);n!=null&&n.allowExpired||yhe(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:i,signature:a},error:null}}const c=vhe(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,ihe(`${s}.${l}`)))throw new ev("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}}Eu.nextInstanceID={};const Yhe=Eu;class Xhe extends Yhe{constructor(e){super(e)}}class Qhe{constructor(e,n,r){var i,o,a;this.supabaseUrl=e,this.supabaseKey=n;const s=qfe(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:jfe,realtime:Lfe,auth:Object.assign(Object.assign({},Dfe),{storageKey:l}),global:$fe},c=zfe(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=c.global.headers)!==null&&o!==void 0?o:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=c.auth)!==null&&a!==void 0?a:{},this.headers,c.global.fetch),this.fetch=Ffe(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Gde(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Ofe(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Vde(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:a,flowType:s,lock:l,debug:u,throwOnError:c},d,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xhe({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:s,lock:l,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lfe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zhe=(t,e,n)=>new Qhe(t,e,n);function epe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}epe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const tpe={VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3d3R4Y2NndGtmYXhhbWRlc2FwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1MzExNzQsImV4cCI6MjA3OTEwNzE3NH0.9k0oqOZDctqpI22FhLsq-Y2Rz2Ak51bzYkb46nRQizQ",VITE_SUPABASE_URL:"https://twwtxccgtkfaxamdesap.supabase.co"},jO=tpe||{},DO=jO.VITE_SUPABASE_URL,LO=jO.VITE_SUPABASE_ANON_KEY,Xs=!!DO&&!!LO,npe=DO||"https://placeholder.supabase.co",rpe=LO||"placeholder",Qs=Zhe(npe,rpe);function hr(t,e){try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.error(`Error loading ${t} from storage`,n),e}}const ipe=({message:t,type:e,onClose:n})=>p.jsxs("div",{className:`fixed bottom-6 right-6 z-50 px-6 py-4 rounded-lg shadow-xl text-white font-semibold flex items-center gap-3 transition-all transform duration-300 ${e==="success"?"bg-green-600":"bg-neutral-800"}`,children:[e==="success"?p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:p.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:p.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-13a.75.75 0 00-1.5 0v5a.75.75 0 001.5 0V5zm-.75 9.75a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),p.jsx("span",{children:t}),p.jsx("button",{onClick:n,className:"ml-2 hover:text-neutral-300",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]});function ope(){const[t,e]=P.useState(null),[n,r]=P.useState(!0),[i,o]=P.useState(!1),[a,s]=P.useState(()=>hr("zenith_license_database",[])),[l,u]=P.useState(null),[c,d]=P.useState(null),[h,g]=P.useState(!0),[y,v]=P.useState(()=>hr("zenith_stores",j5)),[x,w]=P.useState(()=>hr("zenith_users",Mb)),[b,_]=P.useState(()=>hr("zenith_products",D5)),[T,S]=P.useState(()=>hr("zenith_customers",L5)),[E,A]=P.useState(()=>hr("zenith_suppliers",q5)),[C,k]=P.useState(()=>hr("zenith_pos",G5)),[N,O]=P.useState(()=>hr("zenith_sales",U5)),[M,D]=P.useState(()=>hr("zenith_expenses",H5)),[B,j]=P.useState(()=>hr("zenith_licenses",V5)),[R,L]=P.useState(z5),[$,U]=P.useState(null),[z,J]=P.useState([]),[G,Q]=P.useState(null),[we,xe]=P.useState("dashboard"),[ke,lt]=P.useState(!1),[qe,Z]=P.useState(!1),[pe,ge]=P.useState("Zenith POS"),[H,De]=P.useState(null),[se,Pe]=P.useState("global"),[W,K]=P.useState("en"),[ie,Te]=P.useState("USD"),[fe,Ze]=P.useState(()=>{const q=localStorage.getItem("zenith_tax_rate");return q?Number(q):8}),[pt,jt]=P.useState(()=>{const q=localStorage.getItem("zenith_keyboard_enabled");return q!==null?JSON.parse(q):!0}),[It,hn]=P.useState(navigator.onLine);P.useEffect(()=>localStorage.setItem("zenith_stores",JSON.stringify(y)),[y]),P.useEffect(()=>localStorage.setItem("zenith_users",JSON.stringify(x)),[x]),P.useEffect(()=>localStorage.setItem("zenith_products",JSON.stringify(b)),[b]),P.useEffect(()=>localStorage.setItem("zenith_customers",JSON.stringify(T)),[T]),P.useEffect(()=>localStorage.setItem("zenith_suppliers",JSON.stringify(E)),[E]),P.useEffect(()=>localStorage.setItem("zenith_pos",JSON.stringify(C)),[C]),P.useEffect(()=>localStorage.setItem("zenith_sales",JSON.stringify(N)),[N]),P.useEffect(()=>localStorage.setItem("zenith_expenses",JSON.stringify(M)),[M]),P.useEffect(()=>localStorage.setItem("zenith_licenses",JSON.stringify(B)),[B]),P.useEffect(()=>localStorage.setItem("zenith_license_database",JSON.stringify(a)),[a]),P.useEffect(()=>localStorage.setItem("zenith_tax_rate",fe.toString()),[fe]),P.useEffect(()=>localStorage.setItem("zenith_keyboard_enabled",JSON.stringify(pt)),[pt]),P.useEffect(()=>{l?localStorage.setItem("zenith_current_user",JSON.stringify(l)):localStorage.removeItem("zenith_current_user")},[l]),P.useEffect(()=>{x.length>0&&x.some(ee=>!ee.storeAccess||!Array.isArray(ee.storeAccess))&&w(ee=>ee.map(re=>({...re,storeAccess:Array.isArray(re.storeAccess)&&re.storeAccess.length>0?re.storeAccess:["all"]}))),l&&(!l.storeAccess||!Array.isArray(l.storeAccess))&&u(q=>q?{...q,storeAccess:["all"]}:null)},[l,x.length]),P.useEffect(()=>{if(G){const q=setTimeout(()=>Q(null),3e3);return()=>clearTimeout(q)}},[G]),P.useEffect(()=>{const q=()=>{hn(!0),L(re=>[{id:`n-net-${Date.now()}`,title:"Back Online",message:"Connection restored. Syncing data...",timestamp:new Date().toISOString(),read:!1},...re])},ee=()=>{hn(!1),L(re=>[{id:`n-net-${Date.now()}`,title:"Offline Mode",message:"You are offline. Changes will be saved locally.",timestamp:new Date().toISOString(),read:!1},...re])};return window.addEventListener("online",q),window.addEventListener("offline",ee),()=>{window.removeEventListener("online",q),window.removeEventListener("offline",ee)}},[]),P.useEffect(()=>{(async()=>{const ee=localStorage.getItem("zenith_master_license");let re=null;if(ee)try{const ne=JSON.parse(ee);ne&&ne.key&&ne.validUntil&&(new Date(ne.validUntil)>new Date?(re=ne,e(ne),o(!1)):localStorage.removeItem("zenith_master_license"))}catch{localStorage.removeItem("zenith_master_license")}if(re){const ne=localStorage.getItem("zenith_current_user");if(ne)try{const Ae=JSON.parse(ne);re.emailLock&&Ae.email.trim().toLowerCase()!==re.emailLock.trim().toLowerCase()?localStorage.removeItem("zenith_current_user"):(Ae.storeAccess||(Ae.storeAccess=["all"]),u(Ae))}catch{localStorage.removeItem("zenith_current_user")}}r(!1),g(!1)})()},[]);const Kn=async()=>{if(Xs)try{await Qs.auth.signOut()}catch{}u(null),localStorage.removeItem("zenith_current_user"),xe("dashboard")},Yt=()=>{confirm("Are you sure you want to deactivate the license on this device?")&&(e(null),u(null),localStorage.removeItem("zenith_master_license"),localStorage.removeItem("zenith_current_user"),localStorage.removeItem("zenith_trial_start"),window.location.reload())},Gh=q=>{const ee=a.find(ne=>ne.key===q.trim());if(!ee)return!1;const re={...ee,status:"Activated",activationDate:new Date().toISOString(),organizationId:t==null?void 0:t.organizationId};return e(re),localStorage.setItem("zenith_master_license",JSON.stringify(re)),o(!1),!0},Di=(q,ee)=>{const re=a.find(ne=>ne.key===q.trim());return re?ee?(zu(re),!0):Gh(q):!1},Fu=async(q,ee)=>{var Ae,Ne,Ie,Dt;d(null);const re=q.trim().toLowerCase();if(q==="superadmin@zenith.com"&&ee==="superadmin123!"){const We=Mb.find(ti=>ti.email==="superadmin@zenith.com");if(We){u(We),xe("settings");return}}if(t&&t.emailLock&&re!==t.emailLock.trim().toLowerCase()){d(`This device is licensed to ${t.emailLock}.`);return}if(x.length===0){d("No users found. Please Register a new account first.");return}const ne=x.find(We=>We.email.toLowerCase()===re&&We.password===ee);if(ne){if(t&&!t.emailLock){const ti={...t,emailLock:re};e(ti),localStorage.setItem("zenith_master_license",JSON.stringify(ti)),s(le=>le.map(Se=>Se.key===ti.key?{...Se,emailLock:re}:Se))}const We={...ne,storeAccess:ne.storeAccess||["all"]};u(We),xe("dashboard");return}if(Xs)try{const{data:We,error:ti}=await Qs.auth.signInWithPassword({email:q,password:ee});if(We.user){const le={id:We.user.id,email:We.user.email||q,name:((Ae=We.user.user_metadata)==null?void 0:Ae.name)||q.split("@")[0],password:ee,role:((Ne=We.user.user_metadata)==null?void 0:Ne.role)||de.Admin,avatarUrl:((Ie=We.user.user_metadata)==null?void 0:Ie.avatarUrl)||`https://i.pravatar.cc/150?u=${We.user.id}`,dashboardWidgets:io(de.Admin),organizationId:t==null?void 0:t.organizationId,storeAccess:((Dt=We.user.user_metadata)==null?void 0:Dt.storeAccess)||["all"]};w(Se=>Se.find(Oe=>Oe.id===le.id)?Se:[...Se,le]),u(le),xe("dashboard");return}}catch{}d("Invalid email or password.")},Hh=async(q,ee,re)=>{if(!t||!t.organizationId){d("Cannot register without an active license.");return}const ne=ee.trim().toLowerCase();if(t.emailLock&&ne!==t.emailLock.trim().toLowerCase()){d(`This software is already activated for ${t.emailLock}.`);return}if(x.find(Ne=>Ne.email.toLowerCase()===ne)){d("This email is already registered locally. Please Login.");return}d(null);const Ae={id:`u${Date.now()}`,name:q,email:ee,password:re,role:de.Admin,avatarUrl:`https://i.pravatar.cc/150?u=${ee}`,dashboardWidgets:io(de.Admin),organizationId:t.organizationId,isVerified:!0,storeAccess:["all"]};if(w(Ne=>[...Ne,Ae]),t&&!t.emailLock){const Ne={...t,emailLock:ne};e(Ne),localStorage.setItem("zenith_master_license",JSON.stringify(Ne)),s(Ie=>Ie.map(Dt=>Dt.key===Ne.key?{...Dt,emailLock:ne}:Dt))}if(Xs)try{Qs.auth.signUp({email:ee,password:re,options:{data:{name:q,role:de.Admin,organizationId:t.organizationId}}})}catch{}u(Ae),xe("dashboard"),alert("Account created successfully!")},Ps=async q=>{if(!Xs){d("Password reset is not available in offline mode.");return}const{error:ee}=await Qs.auth.resetPasswordForEmail(q,{redirectTo:window.location.origin});ee?d(ee.message):alert("Password reset link sent.")},Wh=async q=>{if(!Xs)return;const{error:ee}=await Qs.auth.updateUser({password:q});alert(ee?ee.message:"Password updated successfully!")},Vu=q=>{if(!l)return;const ee={...l,...q};u(ee),w(re=>re.map(ne=>ne.id===l.id?{...ne,...q}:ne))},zu=q=>{const ee=`org_${q.key.split("-")[2].toLowerCase()}`,re={...q,status:"Activated",activationDate:new Date().toISOString(),organizationId:ee};s(ne=>ne.map(Ae=>Ae.key===re.key?re:Ae)),localStorage.setItem("zenith_master_license",JSON.stringify(re)),v([]),_([]),S([]),A([]),k([]),O([]),D([]),j([]),w([]),localStorage.removeItem("zenith_stores"),localStorage.removeItem("zenith_products"),localStorage.removeItem("zenith_customers"),localStorage.removeItem("zenith_suppliers"),localStorage.removeItem("zenith_pos"),localStorage.removeItem("zenith_sales"),localStorage.removeItem("zenith_expenses"),localStorage.removeItem("zenith_licenses"),localStorage.removeItem("zenith_users"),e(re),o(!1),u(null),localStorage.removeItem("zenith_current_user")},Kh=()=>{let q=localStorage.getItem("zenith_trial_start");if(q||(q=new Date().toISOString(),localStorage.setItem("zenith_trial_start",q)),Math.ceil(Math.abs(new Date().getTime()-new Date(q).getTime())/(1e3*60*60*24))>$b){alert("Trial expired.");return}o(!0),e({key:"TRIAL",organizationId:"org_trial",validUntil:new Date(new Date(q).getTime()+$b*864e5).toISOString(),planType:"Premium",status:"Activated",activationDate:new Date().toISOString(),maxShops:1,enabledFeatures:["AI_INSIGHTS","MULTI_LANGUAGE"]})},ut=I.useCallback(q=>{var ee;return((ee=W5[W])==null?void 0:ee[q])||q},[W]),Jh=()=>{if(!l)return;const q=new Date;$?(U(null),L(ee=>[{id:`n-shift-${Date.now()}`,title:ut("Shift Update"),message:`${ut("Shift Ended Notification")} (${q.toLocaleTimeString()})`,timestamp:q.toISOString(),read:!1},...ee]),Q({message:ut("Shift Ended Notification"),type:"info"})):(U({id:`sh${Date.now()}`,userId:l.id,userName:l.name,startTime:q.toISOString(),endTime:null}),L(ee=>[{id:`n-shift-${Date.now()}`,title:ut("Shift Update"),message:`${ut("Shift Started Notification")} (${q.toLocaleTimeString()})`,timestamp:q.toISOString(),read:!1},...ee]),Q({message:ut("Shift Started Notification"),type:"success"}))},Yh=q=>{if(!Le||!t){alert("Cannot add store without active license.");return}const ee=y.filter(ne=>ne.organizationId===Le);if(t.planType!=="Enterprise"&&ee.length>=1){alert("Upgrade to Enterprise plan to add more branches.");return}const re={...q,id:`store_${Date.now()}`,organizationId:Le};v(ne=>[...ne,re]),Q({message:"Store Added Successfully",type:"success"})},Xh=(q,ee)=>{v(re=>re.map(ne=>ne.id===q?{...ne,name:ee}:ne)),Q({message:"Store Renamed",type:"success"})},Qh=q=>{if(!Le)return;if(x.some(re=>{var ne;return re.organizationId===Le&&((ne=re.storeAccess)==null?void 0:ne.length)===1&&re.storeAccess[0]===q})){alert("Cannot delete store. Employees are assigned exclusively to it.");return}confirm("Delete store? This action cannot be undone.")&&(v(re=>re.filter(ne=>ne.id!==q)),se===q&&Pe("global"),Q({message:"Store Deleted",type:"info"}))},Zh=q=>{const ee=C.find(re=>re.id===q.id);ee&&ee.status!=="Completed"&&q.status==="Completed"&&q.items&&Array.isArray(q.items)&&(_(re=>re.map(ne=>{const Ae=q.items.find(Ne=>Ne.productId===ne.id);return Ae?{...ne,stock:ne.stock+Ae.quantity}:ne})),Q({message:"Stock updated from Purchase Order",type:"success"})),k(re=>re.map(ne=>ne.id===q.id?q:ne))},ep=(q,ee)=>{if(!l||se==="global")return;const re=q.total-q.amountPaid,ne={...q,date:new Date().toISOString(),cashier:l.name,cashierId:l.id,organizationId:Le,storeId:se};O(Ne=>[ne,...Ne]),re>0&&q.customerId!=="guest"&&S(Ne=>Ne.map(Ie=>Ie.id===q.customerId?{...Ie,dueAmount:Ie.dueAmount+re}:Ie));const Ae=[];ee.forEach(Ne=>{const Ie=b.find(Dt=>Dt.id===Ne.id);if(Ie&&Ie.storeId===q.storeId){const Dt=Math.max(0,Ie.stock-Ne.quantity);Ie.lowStockThreshold!==void 0&&Dt<=Ie.lowStockThreshold&&Ae.push({id:`n-low-${Ie.id}-${Date.now()}`,title:ut("Low Stock Alert"),message:`${Ie.name} ${ut("is running low")} (${Dt}).`,timestamp:new Date().toISOString(),read:!1,link:"products"})}}),Ae.length>0&&(L(Ne=>[...Ae,...Ne]),Q({message:ut("Low Stock Alert"),type:"info"})),_(Ne=>Ne.map(Ie=>{const Dt=ee.find(We=>We.id===Ie.id);if(Dt&&Ie.storeId===q.storeId){const We=Math.max(0,Ie.stock-Dt.quantity);return{...Ie,stock:We}}return Ie}))},qu=(q,ee)=>{S(re=>re.map(ne=>ne.id===q?{...ne,dueAmount:Math.max(0,ne.dueAmount-ee)}:ne)),Q({message:"Payment Recorded",type:"success"})},V=q=>{const ee={...q,id:`c${Date.now()}`,organizationId:Le,storeId:se==="global"?"":se};return S(re=>[...re,ee]),ee},ue=(q,ee,re)=>{_(ne=>ne.map(Ae=>Ae.id===q?{...Ae,stock:ee}:Ae))},Ue=q=>{alert("Please go to the POS screen and click the 'Held Orders' clock icon to resume this cart.")},et=q=>{confirm("Discard held order?")&&(J(ee=>ee.filter(re=>re.id!==q)),Q({message:"Order Discarded",type:"info"}))},Le=l==null?void 0:l.organizationId,Li=P.useMemo(()=>Le?y.filter(q=>q.organizationId===Le):[],[y,Le]),ei=P.useMemo(()=>{if(!l||!Le)return[];const q=l.storeAccess||["all"];return q.includes("all")?y.filter(ee=>ee.organizationId===Le):y.filter(ee=>q.includes(ee.id)&&ee.organizationId===Le)},[l,Le,y]),{employees:Is,products:tp,customers:Gu,suppliers:xw,purchaseOrders:BO,sales:_w,expenses:FO,licenseKeys:VO}=P.useMemo(()=>{if(!Le)return{employees:[],products:[],customers:[],suppliers:[],purchaseOrders:[],sales:[],expenses:[],licenseKeys:[]};const q=ne=>{var Ne;if(!ne)return[];const Ae=ne.filter(Ie=>Ie&&Ie.organizationId===Le);return se==="global"||(Ne=l==null?void 0:l.storeAccess)!=null&&Ne.includes("all")?Ae:Ae.filter(Ie=>Ie.storeId===se)},ee=x.filter(ne=>ne.organizationId===Le);return{employees:se==="global"?ee:ee.filter(ne=>{var Ae;return(Ae=ne.storeAccess)==null?void 0:Ae.includes(se)}),products:q(b),customers:q(T),suppliers:q(E),purchaseOrders:q(C),sales:q(N),expenses:q(M),licenseKeys:q(B)}},[Le,se,y,x,b,T,E,C,N,M,B,l]);P.useEffect(()=>{Le&&ge(`Shop (${Le.substring(4,10).toUpperCase()})`)},[Le]);const zO=P.useMemo(()=>{if(se==="global")return pe;const q=y.find(ee=>ee.id===se);return q?`${pe} - ${q.name}`:pe},[se,y,pe]),dr=I.useCallback(q=>{const ee=hk[ie];return ee?`${ee.symbol}${(q*ee.rate).toFixed(2)}`:`$${q.toFixed(2)}`},[ie]);if(n||h)return p.jsx("div",{className:"flex h-screen items-center justify-center dark:bg-neutral-900",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!t)return p.jsx(Ide,{onSuccess:zu,onStartTrial:Kh,licenseDatabase:a});if(!l)return p.jsx(Ode,{onLogin:Fu,onInitiateRegister:Hh,onInitiateForgotPassword:Ps,onVerifyEmail:()=>{},onVerifyResetCode:()=>{},onResetPassword:Wh,error:c,onClearError:()=>d(null),noUsersFound:x.length===0,activeLicense:t,onDeactivateLicense:Yt});const qO=()=>{const q=se!=="global"&&l.role===de.Admin,ee=l.role===de.Manager,re=l.role===de.Admin,ne=l.role===de.Cashier,Ae=re||ee,Ne=re,Ie=re||ee,Dt={...In.purchases,formFields:In.purchases.formFields.map(le=>le.key==="supplierId"?{...le,options:xw.map(Se=>({value:Se.id,label:Se.name}))}:le)},We=(le,Se)=>{if(se==="global"&&le!=="employees"){alert("Select a specific store first.");return}const Oe={...Se,id:`${le.slice(0,1)}${Date.now()}`,organizationId:Le,storeId:se};switch(le){case"products":_(Ui=>[...Ui,{...Oe,stock:Number(Se.stock)||0,price:Number(Se.price)||0}]);break;case"suppliers":A(Ui=>[...Ui,Oe]);break;case"purchases":k(Ui=>[...Ui,{...Oe,items:[],total:0,createdBy:l.name,createdAt:new Date().toISOString()}]);break;case"expenses":D(Ui=>[...Ui,{...Oe,amount:Number(Se.amount)||0,recordedBy:l.name}]);break}},ti=le=>{q&&w(Se=>[...Se,{...le,id:`u${Date.now()}`,organizationId:Le,dashboardWidgets:io(le.role),storeAccess:[se]}])};switch(we){case"dashboard":return p.jsx(Nce,{products:tp,sales:_w,user:l,onWidgetChange:(le,Se)=>Vu({dashboardWidgets:{...l.dashboardWidgets,[le]:Se}}),formatCurrency:dr,t:ut,activeLicense:t,licenseKeys:VO});case"pos":return p.jsx(zce,{user:l,customers:Gu,products:tp,onAddSale:ep,onAddCustomer:V,heldCarts:z,setHeldCarts:J,formatCurrency:dr,t:ut,businessName:zO,activeStoreId:se,taxRate:fe});case"products":return p.jsx(Fo,{dataType:"products",data:tp,columns:In.products.columns,formFields:In.products.formFields,onAdd:le=>We("products",le),onUpdate:le=>_(Se=>Se.map(Oe=>Oe.id===le.id?le:Oe)),onDelete:le=>_(Se=>Se.filter(Oe=>!le.includes(Oe.id))),customActions:{onAdjustStock:ue},t:ut,formatCurrency:dr,canAddNew:Ie,canEdit:Ae,canDelete:Ne});case"customers":return p.jsx(Fo,{dataType:"customers",data:Gu,columns:In.customers.columns,formFields:In.customers.formFields,onAdd:le=>V(le),onUpdate:le=>S(Se=>Se.map(Oe=>Oe.id===le.id?le:Oe)),onDelete:le=>S(Se=>Se.filter(Oe=>!le.includes(Oe.id))),customActions:{onRecordPayment:qu},t:ut,formatCurrency:dr,canAddNew:Ie||ne,canEdit:Ae||ne,canDelete:Ne});case"credit-holds":return p.jsx(Ade,{customers:Gu,heldCarts:z,formatCurrency:dr,onRecordPayment:qu,onResumeHold:Ue,onDiscardHold:et,t:ut});case"employees":return p.jsx(Fo,{dataType:"employees",data:Is,columns:In.employees.columns,formFields:In.employees.formFields,onAdd:le=>ti(le),onUpdate:le=>w(Se=>Se.map(Oe=>Oe.id===le.id?le:Oe)),onDelete:le=>w(Se=>Se.filter(Oe=>!le.includes(Oe.id))),t:ut,formatCurrency:dr,canAddNew:q,canEdit:re,canDelete:re,addNewDisabledTooltip:"Select a store to add an employee"});case"suppliers":return p.jsx(Fo,{dataType:"suppliers",data:xw,columns:In.suppliers.columns,formFields:In.suppliers.formFields,onAdd:le=>We("suppliers",le),onUpdate:le=>A(Se=>Se.map(Oe=>Oe.id===le.id?le:Oe)),onDelete:le=>A(Se=>Se.filter(Oe=>!le.includes(Oe.id))),t:ut,formatCurrency:dr,canAddNew:Ie,canEdit:Ae,canDelete:Ne});case"purchases":return p.jsx(Fo,{dataType:"purchases",data:BO,columns:Dt.columns,formFields:Dt.formFields,onAdd:le=>We("purchases",le),onUpdate:le=>Zh(le),onDelete:le=>k(Se=>Se.filter(Oe=>!le.includes(Oe.id))),t:ut,formatCurrency:dr,canAddNew:Ie,canEdit:Ae,canDelete:Ne});case"expenses":return p.jsx(Fo,{dataType:"expenses",data:FO,columns:In.expenses.columns,formFields:In.expenses.formFields,onAdd:le=>We("expenses",le),onUpdate:le=>D(Se=>Se.map(Oe=>Oe.id===le.id?le:Oe)),onDelete:le=>D(Se=>Se.filter(Oe=>!le.includes(Oe.id))),t:ut,formatCurrency:dr,canAddNew:Ie,canEdit:Ae,canDelete:Ne});case"reports":return p.jsx(ede,{sales:_w,users:Is,customers:Gu,formatCurrency:dr});case"settings":return p.jsx(xde,{user:l,onUpdateUser:Vu,employees:Is,isDarkMode:qe,toggleDarkMode:()=>Z(!qe),businessName:pe,setBusinessName:ge,businessLogo:H,setBusinessLogo:De,licenseKeys:B,setLicenseKeys:j,language:W,setLanguage:K,currency:ie,setCurrency:Te,t:ut,licenseDatabase:a,setLicenseDatabase:s,activeLicense:t,onDeactivateLicense:Yt,onUpdateLicense:le=>Di(le,!1),isInTrial:i,onActivateTrialLicense:le=>Di(le,!0),activeStoreId:se,onAddStore:Yh,onDeleteStore:Qh,onUpdateStore:Xh,organizationStores:Li,taxRate:fe,setTaxRate:Ze,isVirtualKeyboardEnabled:pt,setIsVirtualKeyboardEnabled:jt});default:return p.jsx(tde,{title:we})}};return p.jsxs("div",{className:`flex h-screen bg-neutral-100 dark:bg-neutral-900 text-neutral-800 dark:text-neutral-100 antialiased ${qe?"dark":""}`,children:[p.jsx(i$,{userRole:l.role,activeView:we,setActiveView:xe,isOpen:ke,setIsOpen:lt,businessName:pe,businessLogo:H,t:ut}),p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[p.jsx(t$,{user:l,onLogout:Kn,toggleSidebar:()=>lt(!ke),isDarkMode:qe,toggleDarkMode:()=>Z(!qe),businessName:pe,businessLogo:H,activeView:we,setActiveView:xe,notifications:R,setNotifications:L,activeShift:$,onToggleShift:Jh,isOnline:It,t:ut,isInTrial:i,activeStoreId:se,setActiveStoreId:Pe,accessibleStores:ei,allStores:y}),p.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-neutral-100 dark:bg-neutral-900 p-6",children:qO()}),G&&p.jsx(ipe,{message:G.message,type:G.type,onClose:()=>Q(null)})]}),p.jsx($de,{enabled:pt})]})}const UO=document.getElementById("root");if(!UO)throw new Error("Could not find root element to mount to");const ape=fm.createRoot(UO);ape.render(p.jsx(I.StrictMode,{children:p.jsx(ope,{})}));
