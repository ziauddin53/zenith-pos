function dO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ET={exports:{}},ff={},TT={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var su=Symbol.for("react.element"),hO=Symbol.for("react.portal"),pO=Symbol.for("react.fragment"),mO=Symbol.for("react.strict_mode"),gO=Symbol.for("react.profiler"),vO=Symbol.for("react.provider"),yO=Symbol.for("react.context"),wO=Symbol.for("react.forward_ref"),bO=Symbol.for("react.suspense"),xO=Symbol.for("react.memo"),_O=Symbol.for("react.lazy"),rw=Symbol.iterator;function SO(t){return t===null||typeof t!="object"?null:(t=rw&&t[rw]||t["@@iterator"],typeof t=="function"?t:null)}var AT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CT=Object.assign,kT={};function qa(t,e,n){this.props=t,this.context=e,this.refs=kT,this.updater=n||AT}qa.prototype.isReactComponent={};qa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function PT(){}PT.prototype=qa.prototype;function Dv(t,e,n){this.props=t,this.context=e,this.refs=kT,this.updater=n||AT}var jv=Dv.prototype=new PT;jv.constructor=Dv;CT(jv,qa.prototype);jv.isPureReactComponent=!0;var iw=Array.isArray,IT=Object.prototype.hasOwnProperty,Lv={current:null},NT={key:!0,ref:!0,__self:!0,__source:!0};function OT(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)IT.call(e,r)&&!NT.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:su,type:t,key:o,ref:a,props:i,_owner:Lv.current}}function EO(t,e){return{$$typeof:su,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uv(t){return typeof t=="object"&&t!==null&&t.$$typeof===su}function TO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ow=/\/+/g;function Rh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TO(""+t.key):e.toString(36)}function pc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case su:case hO:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Rh(a,0):r,iw(i)?(n="",t!=null&&(n=t.replace(ow,"$&/")+"/"),pc(i,e,n,"",function(u){return u})):i!=null&&(Uv(i)&&(i=EO(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ow,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",iw(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Rh(o,s);a+=pc(o,e,n,l,i)}else if(l=SO(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Rh(o,s++),a+=pc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Cu(t,e,n){if(t==null)return t;var r=[],i=0;return pc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function AO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},mc={transition:null},CO={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:mc,ReactCurrentOwner:Lv};function MT(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Cu,forEach:function(t,e,n){Cu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cu(t,function(){e++}),e},toArray:function(t){return Cu(t,function(e){return e})||[]},only:function(t){if(!Uv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=qa;xe.Fragment=pO;xe.Profiler=gO;xe.PureComponent=Dv;xe.StrictMode=mO;xe.Suspense=bO;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CO;xe.act=MT;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=CT({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Lv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)IT.call(e,l)&&!NT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:su,type:t.type,key:i,ref:o,props:r,_owner:a}};xe.createContext=function(t){return t={$$typeof:yO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vO,_context:t},t.Consumer=t};xe.createElement=OT;xe.createFactory=function(t){var e=OT.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:wO,render:t}};xe.isValidElement=Uv;xe.lazy=function(t){return{$$typeof:_O,_payload:{_status:-1,_result:t},_init:AO}};xe.memo=function(t,e){return{$$typeof:xO,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=mc.transition;mc.transition={};try{t()}finally{mc.transition=e}};xe.unstable_act=MT;xe.useCallback=function(t,e){return qt.current.useCallback(t,e)};xe.useContext=function(t){return qt.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};xe.useEffect=function(t,e){return qt.current.useEffect(t,e)};xe.useId=function(){return qt.current.useId()};xe.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return qt.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};xe.useRef=function(t){return qt.current.useRef(t)};xe.useState=function(t){return qt.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return qt.current.useTransition()};xe.version="18.3.1";TT.exports=xe;var O=TT.exports;const I=Oe(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kO=O,PO=Symbol.for("react.element"),IO=Symbol.for("react.fragment"),NO=Object.prototype.hasOwnProperty,OO=kO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MO={key:!0,ref:!0,__self:!0,__source:!0};function RT(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)NO.call(e,r)&&!MO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:PO,type:t,key:o,ref:a,props:i,_owner:OO.current}}ff.Fragment=IO;ff.jsx=RT;ff.jsxs=RT;ET.exports=ff;var m=ET.exports,Hp={},$T={exports:{}},gn={},DT={exports:{}},jT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,U){var H=D.length;D.push(U);e:for(;0<H;){var Y=H-1>>>1,G=D[Y];if(0<i(G,U))D[Y]=U,D[H]=G,H=Y;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var U=D[0],H=D.pop();if(H!==U){D[0]=H;e:for(var Y=0,G=D.length,ne=G>>>1;Y<ne;){var he=2*(Y+1)-1,we=D[he],_e=he+1,Ze=D[_e];if(0>i(we,H))_e<G&&0>i(Ze,we)?(D[Y]=Ze,D[_e]=H,Y=_e):(D[Y]=we,D[he]=H,Y=he);else if(_e<G&&0>i(Ze,H))D[Y]=Ze,D[_e]=H,Y=_e;else break e}}return U}function i(D,U){var H=D.sortIndex-U.sortIndex;return H!==0?H:D.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,g=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=D)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function T(D){if(y=!1,_(D),!v)if(n(l)!==null)v=!0,R(S);else{var U=n(u);U!==null&&B(T,U.startTime-D)}}function S(D,U){v=!1,y&&(y=!1,w(C),C=-1),g=!0;var H=h;try{for(_(U),d=n(l);d!==null&&(!(d.expirationTime>U)||D&&!P());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var G=Y(d.expirationTime<=U);U=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),_(U)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var he=n(u);he!==null&&B(T,he.startTime-U),ne=!1}return ne}finally{d=null,h=H,g=!1}}var E=!1,A=null,C=-1,k=5,N=-1;function P(){return!(t.unstable_now()-N<k)}function M(){if(A!==null){var D=t.unstable_now();N=D;var U=!0;try{U=A(!0,D)}finally{U?j():(E=!1,A=null)}}else E=!1}var j;if(typeof x=="function")j=function(){x(M)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,F=L.port2;L.port1.onmessage=M,j=function(){F.postMessage(null)}}else j=function(){b(M,0)};function R(D){A=D,E||(E=!0,j())}function B(D,U){C=b(function(){D(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,R(S))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var H=h;h=U;try{return D()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=h;h=D;try{return U()}finally{h=H}},t.unstable_scheduleCallback=function(D,U,H){var Y=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Y+H:Y):H=Y,D){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,D={id:c++,callback:U,priorityLevel:D,startTime:H,expirationTime:G,sortIndex:-1},H>Y?(D.sortIndex=H,e(u,D),n(l)===null&&D===n(u)&&(y?(w(C),C=-1):y=!0,B(T,H-Y))):(D.sortIndex=G,e(l,D),v||g||(v=!0,R(S))),D},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(D){var U=h;return function(){var H=h;h=U;try{return D.apply(this,arguments)}finally{h=H}}}})(jT);DT.exports=jT;var RO=DT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $O=O,mn=RO;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LT=new Set,al={};function co(t,e){da(t,e),da(t+"Capture",e)}function da(t,e){for(al[t]=e,t=0;t<e.length;t++)LT.add(e[t])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gp=Object.prototype.hasOwnProperty,DO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aw={},sw={};function jO(t){return Gp.call(sw,t)?!0:Gp.call(aw,t)?!1:DO.test(t)?sw[t]=!0:(aw[t]=!0,!1)}function LO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UO(t,e,n,r){if(e===null||typeof e>"u"||LO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bv=/[\-:]([a-z])/g;function Fv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bv,Fv);kt[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bv,Fv);kt[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bv,Fv);kt[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vv(t,e,n,r){var i=kt.hasOwnProperty(e)?kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UO(e,n,i,r)&&(n=null),r||i===null?jO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $r=$O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ku=Symbol.for("react.element"),Ro=Symbol.for("react.portal"),$o=Symbol.for("react.fragment"),zv=Symbol.for("react.strict_mode"),Wp=Symbol.for("react.profiler"),UT=Symbol.for("react.provider"),BT=Symbol.for("react.context"),qv=Symbol.for("react.forward_ref"),Kp=Symbol.for("react.suspense"),Jp=Symbol.for("react.suspense_list"),Hv=Symbol.for("react.memo"),Wr=Symbol.for("react.lazy"),FT=Symbol.for("react.offscreen"),lw=Symbol.iterator;function gs(t){return t===null||typeof t!="object"?null:(t=lw&&t[lw]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,$h;function $s(t){if($h===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$h=e&&e[1]||""}return`
`+$h+t}var Dh=!1;function jh(t,e){if(!t||Dh)return"";Dh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Dh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$s(t):""}function BO(t){switch(t.tag){case 5:return $s(t.type);case 16:return $s("Lazy");case 13:return $s("Suspense");case 19:return $s("SuspenseList");case 0:case 2:case 15:return t=jh(t.type,!1),t;case 11:return t=jh(t.type.render,!1),t;case 1:return t=jh(t.type,!0),t;default:return""}}function Yp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $o:return"Fragment";case Ro:return"Portal";case Wp:return"Profiler";case zv:return"StrictMode";case Kp:return"Suspense";case Jp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case BT:return(t.displayName||"Context")+".Consumer";case UT:return(t._context.displayName||"Context")+".Provider";case qv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hv:return e=t.displayName||null,e!==null?e:Yp(t.type)||"Memo";case Wr:e=t._payload,t=t._init;try{return Yp(t(e))}catch{}}return null}function FO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yp(e);case 8:return e===zv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VO(t){var e=VT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pu(t){t._valueTracker||(t._valueTracker=VO(t))}function zT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=VT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ic(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xp(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qT(t,e){e=e.checked,e!=null&&Vv(t,"checked",e,!1)}function Qp(t,e){qT(t,e);var n=pi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zp(t,e.type,pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zp(t,e,n){(e!=="number"||Ic(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ds=Array.isArray;function Qo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function em(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Ds(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pi(n)}}function HT(t,e){var n=pi(e.value),r=pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function GT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?GT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Iu,WT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Iu=Iu||document.createElement("div"),Iu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Iu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zO=["Webkit","ms","Moz","O"];Object.keys(Fs).forEach(function(t){zO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fs[e]=Fs[t]})});function KT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fs.hasOwnProperty(t)&&Fs[t]?(""+e).trim():e+"px"}function JT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=KT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qO=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nm(t,e){if(e){if(qO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function rm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var im=null;function Gv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var om=null,Zo=null,ea=null;function hw(t){if(t=cu(t)){if(typeof om!="function")throw Error(J(280));var e=t.stateNode;e&&(e=vf(e),om(t.stateNode,t.type,e))}}function YT(t){Zo?ea?ea.push(t):ea=[t]:Zo=t}function XT(){if(Zo){var t=Zo,e=ea;if(ea=Zo=null,hw(t),e)for(t=0;t<e.length;t++)hw(e[t])}}function QT(t,e){return t(e)}function ZT(){}var Lh=!1;function eA(t,e,n){if(Lh)return t(e,n);Lh=!0;try{return QT(t,e,n)}finally{Lh=!1,(Zo!==null||ea!==null)&&(ZT(),XT())}}function ll(t,e){var n=t.stateNode;if(n===null)return null;var r=vf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var am=!1;if(Cr)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){am=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{am=!1}function HO(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Vs=!1,Nc=null,Oc=!1,sm=null,GO={onError:function(t){Vs=!0,Nc=t}};function WO(t,e,n,r,i,o,a,s,l){Vs=!1,Nc=null,HO.apply(GO,arguments)}function KO(t,e,n,r,i,o,a,s,l){if(WO.apply(this,arguments),Vs){if(Vs){var u=Nc;Vs=!1,Nc=null}else throw Error(J(198));Oc||(Oc=!0,sm=u)}}function fo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pw(t){if(fo(t)!==t)throw Error(J(188))}function JO(t){var e=t.alternate;if(!e){if(e=fo(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return pw(i),t;if(o===r)return pw(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function nA(t){return t=JO(t),t!==null?rA(t):null}function rA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rA(t);if(e!==null)return e;t=t.sibling}return null}var iA=mn.unstable_scheduleCallback,mw=mn.unstable_cancelCallback,YO=mn.unstable_shouldYield,XO=mn.unstable_requestPaint,nt=mn.unstable_now,QO=mn.unstable_getCurrentPriorityLevel,Wv=mn.unstable_ImmediatePriority,oA=mn.unstable_UserBlockingPriority,Mc=mn.unstable_NormalPriority,ZO=mn.unstable_LowPriority,aA=mn.unstable_IdlePriority,hf=null,rr=null;function eM(t){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(hf,t,void 0,(t.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:rM,tM=Math.log,nM=Math.LN2;function rM(t){return t>>>=0,t===0?32:31-(tM(t)/nM|0)|0}var Nu=64,Ou=4194304;function js(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=js(s):(o&=a,o!==0&&(r=js(o)))}else a=n&~i,a!==0?r=js(a):o!==0&&(r=js(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wn(e),i=1<<n,r|=t[n],e&=~i;return r}function iM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Wn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=iM(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function lm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sA(){var t=Nu;return Nu<<=1,!(Nu&4194240)&&(Nu=64),t}function Uh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wn(e),t[e]=n}function aM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Kv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function lA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uA,Jv,cA,dA,fA,um=!1,Mu=[],ii=null,oi=null,ai=null,ul=new Map,cl=new Map,Yr=[],sM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gw(t,e){switch(t){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":ul.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(e.pointerId)}}function ys(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=cu(e),e!==null&&Jv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function lM(t,e,n,r,i){switch(e){case"focusin":return ii=ys(ii,t,e,n,r,i),!0;case"dragenter":return oi=ys(oi,t,e,n,r,i),!0;case"mouseover":return ai=ys(ai,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ul.set(o,ys(ul.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,cl.set(o,ys(cl.get(o)||null,t,e,n,r,i)),!0}return!1}function hA(t){var e=Fi(t.target);if(e!==null){var n=fo(e);if(n!==null){if(e=n.tag,e===13){if(e=tA(n),e!==null){t.blockedOn=e,fA(t.priority,function(){cA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);im=r,n.target.dispatchEvent(r),im=null}else return e=cu(n),e!==null&&Jv(e),t.blockedOn=n,!1;e.shift()}return!0}function vw(t,e,n){gc(t)&&n.delete(e)}function uM(){um=!1,ii!==null&&gc(ii)&&(ii=null),oi!==null&&gc(oi)&&(oi=null),ai!==null&&gc(ai)&&(ai=null),ul.forEach(vw),cl.forEach(vw)}function ws(t,e){t.blockedOn===e&&(t.blockedOn=null,um||(um=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,uM)))}function dl(t){function e(i){return ws(i,t)}if(0<Mu.length){ws(Mu[0],t);for(var n=1;n<Mu.length;n++){var r=Mu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ii!==null&&ws(ii,t),oi!==null&&ws(oi,t),ai!==null&&ws(ai,t),ul.forEach(e),cl.forEach(e),n=0;n<Yr.length;n++)r=Yr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yr.length&&(n=Yr[0],n.blockedOn===null);)hA(n),n.blockedOn===null&&Yr.shift()}var ta=$r.ReactCurrentBatchConfig,$c=!0;function cM(t,e,n,r){var i=Ne,o=ta.transition;ta.transition=null;try{Ne=1,Yv(t,e,n,r)}finally{Ne=i,ta.transition=o}}function dM(t,e,n,r){var i=Ne,o=ta.transition;ta.transition=null;try{Ne=4,Yv(t,e,n,r)}finally{Ne=i,ta.transition=o}}function Yv(t,e,n,r){if($c){var i=cm(t,e,n,r);if(i===null)Jh(t,e,r,Dc,n),gw(t,r);else if(lM(i,t,e,n,r))r.stopPropagation();else if(gw(t,r),e&4&&-1<sM.indexOf(t)){for(;i!==null;){var o=cu(i);if(o!==null&&uA(o),o=cm(t,e,n,r),o===null&&Jh(t,e,r,Dc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Jh(t,e,r,null,n)}}var Dc=null;function cm(t,e,n,r){if(Dc=null,t=Gv(r),t=Fi(t),t!==null)if(e=fo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dc=t,null}function pA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QO()){case Wv:return 1;case oA:return 4;case Mc:case ZO:return 16;case aA:return 536870912;default:return 16}default:return 16}}var ei=null,Xv=null,vc=null;function mA(){if(vc)return vc;var t,e=Xv,n=e.length,r,i="value"in ei?ei.value:ei.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return vc=i.slice(t,1<r?1-r:void 0)}function yc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ru(){return!0}function yw(){return!1}function vn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ru:yw,this.isPropagationStopped=yw,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){},isPersistent:Ru}),e}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qv=vn(Ha),uu=Qe({},Ha,{view:0,detail:0}),fM=vn(uu),Bh,Fh,bs,pf=Qe({},uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bs&&(bs&&t.type==="mousemove"?(Bh=t.screenX-bs.screenX,Fh=t.screenY-bs.screenY):Fh=Bh=0,bs=t),Bh)},movementY:function(t){return"movementY"in t?t.movementY:Fh}}),ww=vn(pf),hM=Qe({},pf,{dataTransfer:0}),pM=vn(hM),mM=Qe({},uu,{relatedTarget:0}),Vh=vn(mM),gM=Qe({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),vM=vn(gM),yM=Qe({},Ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wM=vn(yM),bM=Qe({},Ha,{data:0}),bw=vn(bM),xM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_M={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=SM[t])?!!e[t]:!1}function Zv(){return EM}var TM=Qe({},uu,{key:function(t){if(t.key){var e=xM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_M[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zv,charCode:function(t){return t.type==="keypress"?yc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AM=vn(TM),CM=Qe({},pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xw=vn(CM),kM=Qe({},uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zv}),PM=vn(kM),IM=Qe({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),NM=vn(IM),OM=Qe({},pf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MM=vn(OM),RM=[9,13,27,32],ey=Cr&&"CompositionEvent"in window,zs=null;Cr&&"documentMode"in document&&(zs=document.documentMode);var $M=Cr&&"TextEvent"in window&&!zs,gA=Cr&&(!ey||zs&&8<zs&&11>=zs),_w=" ",Sw=!1;function vA(t,e){switch(t){case"keyup":return RM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Do=!1;function DM(t,e){switch(t){case"compositionend":return yA(e);case"keypress":return e.which!==32?null:(Sw=!0,_w);case"textInput":return t=e.data,t===_w&&Sw?null:t;default:return null}}function jM(t,e){if(Do)return t==="compositionend"||!ey&&vA(t,e)?(t=mA(),vc=Xv=ei=null,Do=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gA&&e.locale!=="ko"?null:e.data;default:return null}}var LM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ew(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LM[t.type]:e==="textarea"}function wA(t,e,n,r){YT(r),e=jc(e,"onChange"),0<e.length&&(n=new Qv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qs=null,fl=null;function UM(t){IA(t,0)}function mf(t){var e=Uo(t);if(zT(e))return t}function BM(t,e){if(t==="change")return e}var bA=!1;if(Cr){var zh;if(Cr){var qh="oninput"in document;if(!qh){var Tw=document.createElement("div");Tw.setAttribute("oninput","return;"),qh=typeof Tw.oninput=="function"}zh=qh}else zh=!1;bA=zh&&(!document.documentMode||9<document.documentMode)}function Aw(){qs&&(qs.detachEvent("onpropertychange",xA),fl=qs=null)}function xA(t){if(t.propertyName==="value"&&mf(fl)){var e=[];wA(e,fl,t,Gv(t)),eA(UM,e)}}function FM(t,e,n){t==="focusin"?(Aw(),qs=e,fl=n,qs.attachEvent("onpropertychange",xA)):t==="focusout"&&Aw()}function VM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mf(fl)}function zM(t,e){if(t==="click")return mf(e)}function qM(t,e){if(t==="input"||t==="change")return mf(e)}function HM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:HM;function hl(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gp.call(e,i)||!Yn(t[i],e[i]))return!1}return!0}function Cw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kw(t,e){var n=Cw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cw(n)}}function _A(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_A(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function SA(){for(var t=window,e=Ic();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ic(t.document)}return e}function ty(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function GM(t){var e=SA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_A(n.ownerDocument.documentElement,n)){if(r!==null&&ty(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=kw(n,o);var a=kw(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var WM=Cr&&"documentMode"in document&&11>=document.documentMode,jo=null,dm=null,Hs=null,fm=!1;function Pw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fm||jo==null||jo!==Ic(r)||(r=jo,"selectionStart"in r&&ty(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hs&&hl(Hs,r)||(Hs=r,r=jc(dm,"onSelect"),0<r.length&&(e=new Qv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jo)))}function $u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Lo={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},Hh={},EA={};Cr&&(EA=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function gf(t){if(Hh[t])return Hh[t];if(!Lo[t])return t;var e=Lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in EA)return Hh[t]=e[n];return t}var TA=gf("animationend"),AA=gf("animationiteration"),CA=gf("animationstart"),kA=gf("transitionend"),PA=new Map,Iw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(t,e){PA.set(t,e),co(e,[t])}for(var Gh=0;Gh<Iw.length;Gh++){var Wh=Iw[Gh],KM=Wh.toLowerCase(),JM=Wh[0].toUpperCase()+Wh.slice(1);gi(KM,"on"+JM)}gi(TA,"onAnimationEnd");gi(AA,"onAnimationIteration");gi(CA,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(kA,"onTransitionEnd");da("onMouseEnter",["mouseout","mouseover"]);da("onMouseLeave",["mouseout","mouseover"]);da("onPointerEnter",["pointerout","pointerover"]);da("onPointerLeave",["pointerout","pointerover"]);co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));co("onBeforeInput",["compositionend","keypress","textInput","paste"]);co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ls));function Nw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,KO(r,e,void 0,t),t.currentTarget=null}function IA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Nw(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Nw(i,s,u),o=l}}}if(Oc)throw t=sm,Oc=!1,sm=null,t}function Ve(t,e){var n=e[vm];n===void 0&&(n=e[vm]=new Set);var r=t+"__bubble";n.has(r)||(NA(e,t,2,!1),n.add(r))}function Kh(t,e,n){var r=0;e&&(r|=4),NA(n,t,r,e)}var Du="_reactListening"+Math.random().toString(36).slice(2);function pl(t){if(!t[Du]){t[Du]=!0,LT.forEach(function(n){n!=="selectionchange"&&(YM.has(n)||Kh(n,!1,t),Kh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Du]||(e[Du]=!0,Kh("selectionchange",!1,e))}}function NA(t,e,n,r){switch(pA(e)){case 1:var i=cM;break;case 4:i=dM;break;default:i=Yv}n=i.bind(null,e,n,t),i=void 0,!am||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Fi(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}eA(function(){var u=o,c=Gv(n),d=[];e:{var h=PA.get(t);if(h!==void 0){var g=Qv,v=t;switch(t){case"keypress":if(yc(n)===0)break e;case"keydown":case"keyup":g=AM;break;case"focusin":v="focus",g=Vh;break;case"focusout":v="blur",g=Vh;break;case"beforeblur":case"afterblur":g=Vh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ww;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=pM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=PM;break;case TA:case AA:case CA:g=vM;break;case kA:g=NM;break;case"scroll":g=fM;break;case"wheel":g=MM;break;case"copy":case"cut":case"paste":g=wM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=xw}var y=(e&4)!==0,b=!y&&t==="scroll",w=y?h!==null?h+"Capture":null:h;y=[];for(var x=u,_;x!==null;){_=x;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,w!==null&&(T=ll(x,w),T!=null&&y.push(ml(x,T,_)))),b)break;x=x.return}0<y.length&&(h=new g(h,v,null,n,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==im&&(v=n.relatedTarget||n.fromElement)&&(Fi(v)||v[kr]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Fi(v):null,v!==null&&(b=fo(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=ww,T="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=xw,T="onPointerLeave",w="onPointerEnter",x="pointer"),b=g==null?h:Uo(g),_=v==null?h:Uo(v),h=new y(T,x+"leave",g,n,c),h.target=b,h.relatedTarget=_,T=null,Fi(c)===u&&(y=new y(w,x+"enter",v,n,c),y.target=_,y.relatedTarget=b,T=y),b=T,g&&v)t:{for(y=g,w=v,x=0,_=y;_;_=xo(_))x++;for(_=0,T=w;T;T=xo(T))_++;for(;0<x-_;)y=xo(y),x--;for(;0<_-x;)w=xo(w),_--;for(;x--;){if(y===w||w!==null&&y===w.alternate)break t;y=xo(y),w=xo(w)}y=null}else y=null;g!==null&&Ow(d,h,g,y,!1),v!==null&&b!==null&&Ow(d,b,v,y,!0)}}e:{if(h=u?Uo(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=BM;else if(Ew(h))if(bA)S=qM;else{S=VM;var E=FM}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=zM);if(S&&(S=S(t,u))){wA(d,S,n,c);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Zp(h,"number",h.value)}switch(E=u?Uo(u):window,t){case"focusin":(Ew(E)||E.contentEditable==="true")&&(jo=E,dm=u,Hs=null);break;case"focusout":Hs=dm=jo=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,Pw(d,n,c);break;case"selectionchange":if(WM)break;case"keydown":case"keyup":Pw(d,n,c)}var A;if(ey)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Do?vA(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(gA&&n.locale!=="ko"&&(Do||C!=="onCompositionStart"?C==="onCompositionEnd"&&Do&&(A=mA()):(ei=c,Xv="value"in ei?ei.value:ei.textContent,Do=!0)),E=jc(u,C),0<E.length&&(C=new bw(C,t,null,n,c),d.push({event:C,listeners:E}),A?C.data=A:(A=yA(n),A!==null&&(C.data=A)))),(A=$M?DM(t,n):jM(t,n))&&(u=jc(u,"onBeforeInput"),0<u.length&&(c=new bw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=A))}IA(d,e)})}function ml(t,e,n){return{instance:t,listener:e,currentTarget:n}}function jc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ll(t,n),o!=null&&r.unshift(ml(t,o,i)),o=ll(t,e),o!=null&&r.push(ml(t,o,i))),t=t.return}return r}function xo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ow(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=ll(n,o),l!=null&&a.unshift(ml(n,l,s))):i||(l=ll(n,o),l!=null&&a.push(ml(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var XM=/\r\n?/g,QM=/\u0000|\uFFFD/g;function Mw(t){return(typeof t=="string"?t:""+t).replace(XM,`
`).replace(QM,"")}function ju(t,e,n){if(e=Mw(e),Mw(t)!==e&&n)throw Error(J(425))}function Lc(){}var hm=null,pm=null;function mm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gm=typeof setTimeout=="function"?setTimeout:void 0,ZM=typeof clearTimeout=="function"?clearTimeout:void 0,Rw=typeof Promise=="function"?Promise:void 0,eR=typeof queueMicrotask=="function"?queueMicrotask:typeof Rw<"u"?function(t){return Rw.resolve(null).then(t).catch(tR)}:gm;function tR(t){setTimeout(function(){throw t})}function Yh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),dl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);dl(e)}function si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $w(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ga=Math.random().toString(36).slice(2),tr="__reactFiber$"+Ga,gl="__reactProps$"+Ga,kr="__reactContainer$"+Ga,vm="__reactEvents$"+Ga,nR="__reactListeners$"+Ga,rR="__reactHandles$"+Ga;function Fi(t){var e=t[tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kr]||n[tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$w(t);t!==null;){if(n=t[tr])return n;t=$w(t)}return e}t=n,n=t.parentNode}return null}function cu(t){return t=t[tr]||t[kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function vf(t){return t[gl]||null}var ym=[],Bo=-1;function vi(t){return{current:t}}function Ge(t){0>Bo||(t.current=ym[Bo],ym[Bo]=null,Bo--)}function Ue(t,e){Bo++,ym[Bo]=t.current,t.current=e}var mi={},Dt=vi(mi),Jt=vi(!1),Zi=mi;function fa(t,e){var n=t.type.contextTypes;if(!n)return mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yt(t){return t=t.childContextTypes,t!=null}function Uc(){Ge(Jt),Ge(Dt)}function Dw(t,e,n){if(Dt.current!==mi)throw Error(J(168));Ue(Dt,e),Ue(Jt,n)}function OA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,FO(t)||"Unknown",i));return Qe({},n,r)}function Bc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mi,Zi=Dt.current,Ue(Dt,t),Ue(Jt,Jt.current),!0}function jw(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=OA(t,e,Zi),r.__reactInternalMemoizedMergedChildContext=t,Ge(Jt),Ge(Dt),Ue(Dt,t)):Ge(Jt),Ue(Jt,n)}var gr=null,yf=!1,Xh=!1;function MA(t){gr===null?gr=[t]:gr.push(t)}function iR(t){yf=!0,MA(t)}function yi(){if(!Xh&&gr!==null){Xh=!0;var t=0,e=Ne;try{var n=gr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gr=null,yf=!1}catch(i){throw gr!==null&&(gr=gr.slice(t+1)),iA(Wv,yi),i}finally{Ne=e,Xh=!1}}return null}var Fo=[],Vo=0,Fc=null,Vc=0,En=[],Tn=0,eo=null,yr=1,wr="";function Ni(t,e){Fo[Vo++]=Vc,Fo[Vo++]=Fc,Fc=t,Vc=e}function RA(t,e,n){En[Tn++]=yr,En[Tn++]=wr,En[Tn++]=eo,eo=t;var r=yr;t=wr;var i=32-Wn(r)-1;r&=~(1<<i),n+=1;var o=32-Wn(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,yr=1<<32-Wn(e)+i|n<<i|r,wr=o+t}else yr=1<<o|n<<i|r,wr=t}function ny(t){t.return!==null&&(Ni(t,1),RA(t,1,0))}function ry(t){for(;t===Fc;)Fc=Fo[--Vo],Fo[Vo]=null,Vc=Fo[--Vo],Fo[Vo]=null;for(;t===eo;)eo=En[--Tn],En[Tn]=null,wr=En[--Tn],En[Tn]=null,yr=En[--Tn],En[Tn]=null}var fn=null,dn=null,We=!1,Hn=null;function $A(t,e){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Lw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,dn=si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=eo!==null?{id:yr,overflow:wr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fn=t,dn=null,!0):!1;default:return!1}}function wm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bm(t){if(We){var e=dn;if(e){var n=e;if(!Lw(t,e)){if(wm(t))throw Error(J(418));e=si(n.nextSibling);var r=fn;e&&Lw(t,e)?$A(r,n):(t.flags=t.flags&-4097|2,We=!1,fn=t)}}else{if(wm(t))throw Error(J(418));t.flags=t.flags&-4097|2,We=!1,fn=t}}}function Uw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function Lu(t){if(t!==fn)return!1;if(!We)return Uw(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mm(t.type,t.memoizedProps)),e&&(e=dn)){if(wm(t))throw DA(),Error(J(418));for(;e;)$A(t,e),e=si(e.nextSibling)}if(Uw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dn=si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=fn?si(t.stateNode.nextSibling):null;return!0}function DA(){for(var t=dn;t;)t=si(t.nextSibling)}function ha(){dn=fn=null,We=!1}function iy(t){Hn===null?Hn=[t]:Hn.push(t)}var oR=$r.ReactCurrentBatchConfig;function xs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Uu(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bw(t){var e=t._init;return e(t._payload)}function jA(t){function e(w,x){if(t){var _=w.deletions;_===null?(w.deletions=[x],w.flags|=16):_.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=di(w,x),w.index=0,w.sibling=null,w}function o(w,x,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<x?(w.flags|=2,x):_):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function s(w,x,_,T){return x===null||x.tag!==6?(x=ip(_,w.mode,T),x.return=w,x):(x=i(x,_),x.return=w,x)}function l(w,x,_,T){var S=_.type;return S===$o?c(w,x,_.props.children,T,_.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wr&&Bw(S)===x.type)?(T=i(x,_.props),T.ref=xs(w,x,_),T.return=w,T):(T=Tc(_.type,_.key,_.props,null,w.mode,T),T.ref=xs(w,x,_),T.return=w,T)}function u(w,x,_,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=op(_,w.mode,T),x.return=w,x):(x=i(x,_.children||[]),x.return=w,x)}function c(w,x,_,T,S){return x===null||x.tag!==7?(x=Yi(_,w.mode,T,S),x.return=w,x):(x=i(x,_),x.return=w,x)}function d(w,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ip(""+x,w.mode,_),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ku:return _=Tc(x.type,x.key,x.props,null,w.mode,_),_.ref=xs(w,null,x),_.return=w,_;case Ro:return x=op(x,w.mode,_),x.return=w,x;case Wr:var T=x._init;return d(w,T(x._payload),_)}if(Ds(x)||gs(x))return x=Yi(x,w.mode,_,null),x.return=w,x;Uu(w,x)}return null}function h(w,x,_,T){var S=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(w,x,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ku:return _.key===S?l(w,x,_,T):null;case Ro:return _.key===S?u(w,x,_,T):null;case Wr:return S=_._init,h(w,x,S(_._payload),T)}if(Ds(_)||gs(_))return S!==null?null:c(w,x,_,T,null);Uu(w,_)}return null}function g(w,x,_,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return w=w.get(_)||null,s(x,w,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ku:return w=w.get(T.key===null?_:T.key)||null,l(x,w,T,S);case Ro:return w=w.get(T.key===null?_:T.key)||null,u(x,w,T,S);case Wr:var E=T._init;return g(w,x,_,E(T._payload),S)}if(Ds(T)||gs(T))return w=w.get(_)||null,c(x,w,T,S,null);Uu(x,T)}return null}function v(w,x,_,T){for(var S=null,E=null,A=x,C=x=0,k=null;A!==null&&C<_.length;C++){A.index>C?(k=A,A=null):k=A.sibling;var N=h(w,A,_[C],T);if(N===null){A===null&&(A=k);break}t&&A&&N.alternate===null&&e(w,A),x=o(N,x,C),E===null?S=N:E.sibling=N,E=N,A=k}if(C===_.length)return n(w,A),We&&Ni(w,C),S;if(A===null){for(;C<_.length;C++)A=d(w,_[C],T),A!==null&&(x=o(A,x,C),E===null?S=A:E.sibling=A,E=A);return We&&Ni(w,C),S}for(A=r(w,A);C<_.length;C++)k=g(A,w,C,_[C],T),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?C:k.key),x=o(k,x,C),E===null?S=k:E.sibling=k,E=k);return t&&A.forEach(function(P){return e(w,P)}),We&&Ni(w,C),S}function y(w,x,_,T){var S=gs(_);if(typeof S!="function")throw Error(J(150));if(_=S.call(_),_==null)throw Error(J(151));for(var E=S=null,A=x,C=x=0,k=null,N=_.next();A!==null&&!N.done;C++,N=_.next()){A.index>C?(k=A,A=null):k=A.sibling;var P=h(w,A,N.value,T);if(P===null){A===null&&(A=k);break}t&&A&&P.alternate===null&&e(w,A),x=o(P,x,C),E===null?S=P:E.sibling=P,E=P,A=k}if(N.done)return n(w,A),We&&Ni(w,C),S;if(A===null){for(;!N.done;C++,N=_.next())N=d(w,N.value,T),N!==null&&(x=o(N,x,C),E===null?S=N:E.sibling=N,E=N);return We&&Ni(w,C),S}for(A=r(w,A);!N.done;C++,N=_.next())N=g(A,w,C,N.value,T),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?C:N.key),x=o(N,x,C),E===null?S=N:E.sibling=N,E=N);return t&&A.forEach(function(M){return e(w,M)}),We&&Ni(w,C),S}function b(w,x,_,T){if(typeof _=="object"&&_!==null&&_.type===$o&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ku:e:{for(var S=_.key,E=x;E!==null;){if(E.key===S){if(S=_.type,S===$o){if(E.tag===7){n(w,E.sibling),x=i(E,_.props.children),x.return=w,w=x;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wr&&Bw(S)===E.type){n(w,E.sibling),x=i(E,_.props),x.ref=xs(w,E,_),x.return=w,w=x;break e}n(w,E);break}else e(w,E);E=E.sibling}_.type===$o?(x=Yi(_.props.children,w.mode,T,_.key),x.return=w,w=x):(T=Tc(_.type,_.key,_.props,null,w.mode,T),T.ref=xs(w,x,_),T.return=w,w=T)}return a(w);case Ro:e:{for(E=_.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(w,x.sibling),x=i(x,_.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=op(_,w.mode,T),x.return=w,w=x}return a(w);case Wr:return E=_._init,b(w,x,E(_._payload),T)}if(Ds(_))return v(w,x,_,T);if(gs(_))return y(w,x,_,T);Uu(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(w,x.sibling),x=i(x,_),x.return=w,w=x):(n(w,x),x=ip(_,w.mode,T),x.return=w,w=x),a(w)):n(w,x)}return b}var pa=jA(!0),LA=jA(!1),zc=vi(null),qc=null,zo=null,oy=null;function ay(){oy=zo=qc=null}function sy(t){var e=zc.current;Ge(zc),t._currentValue=e}function xm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function na(t,e){qc=t,oy=zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wt=!0),t.firstContext=null)}function Nn(t){var e=t._currentValue;if(oy!==t)if(t={context:t,memoizedValue:e,next:null},zo===null){if(qc===null)throw Error(J(308));zo=t,qc.dependencies={lanes:0,firstContext:t}}else zo=zo.next=t;return e}var Vi=null;function ly(t){Vi===null?Vi=[t]:Vi.push(t)}function UA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ly(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pr(t,r)}function Pr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kr=!1;function uy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function li(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pr(t,n)}return i=r.interleaved,i===null?(e.next=e,ly(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pr(t,n)}function wc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kv(t,n)}}function Fw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hc(t,e,n,r){var i=t.updateQueue;Kr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,y=s;switch(h=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(g,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(g,d,h):v,h==null)break e;d=Qe({},d,h);break e;case 2:Kr=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);no|=a,t.lanes=a,t.memoizedState=d}}function Vw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var du={},ir=vi(du),vl=vi(du),yl=vi(du);function zi(t){if(t===du)throw Error(J(174));return t}function cy(t,e){switch(Ue(yl,e),Ue(vl,t),Ue(ir,du),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tm(e,t)}Ge(ir),Ue(ir,e)}function ma(){Ge(ir),Ge(vl),Ge(yl)}function FA(t){zi(yl.current);var e=zi(ir.current),n=tm(e,t.type);e!==n&&(Ue(vl,t),Ue(ir,n))}function dy(t){vl.current===t&&(Ge(ir),Ge(vl))}var Ye=vi(0);function Gc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qh=[];function fy(){for(var t=0;t<Qh.length;t++)Qh[t]._workInProgressVersionPrimary=null;Qh.length=0}var bc=$r.ReactCurrentDispatcher,Zh=$r.ReactCurrentBatchConfig,to=0,Xe=null,dt=null,yt=null,Wc=!1,Gs=!1,wl=0,aR=0;function It(){throw Error(J(321))}function hy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yn(t[n],e[n]))return!1;return!0}function py(t,e,n,r,i,o){if(to=o,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bc.current=t===null||t.memoizedState===null?cR:dR,t=n(r,i),Gs){o=0;do{if(Gs=!1,wl=0,25<=o)throw Error(J(301));o+=1,yt=dt=null,e.updateQueue=null,bc.current=fR,t=n(r,i)}while(Gs)}if(bc.current=Kc,e=dt!==null&&dt.next!==null,to=0,yt=dt=Xe=null,Wc=!1,e)throw Error(J(300));return t}function my(){var t=wl!==0;return wl=0,t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Xe.memoizedState=yt=t:yt=yt.next=t,yt}function On(){if(dt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=yt===null?Xe.memoizedState:yt.next;if(e!==null)yt=e,dt=t;else{if(t===null)throw Error(J(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},yt===null?Xe.memoizedState=yt=t:yt=yt.next=t}return yt}function bl(t,e){return typeof e=="function"?e(t):e}function ep(t){var e=On(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=dt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((to&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,Xe.lanes|=c,no|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Yn(r,e.memoizedState)||(Wt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Xe.lanes|=o,no|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tp(t){var e=On(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Yn(o,e.memoizedState)||(Wt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function VA(){}function zA(t,e){var n=Xe,r=On(),i=e(),o=!Yn(r.memoizedState,i);if(o&&(r.memoizedState=i,Wt=!0),r=r.queue,gy(GA.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,xl(9,HA.bind(null,n,r,i,e),void 0,null),bt===null)throw Error(J(349));to&30||qA(n,e,i)}return i}function qA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HA(t,e,n,r){e.value=n,e.getSnapshot=r,WA(e)&&KA(t)}function GA(t,e,n){return n(function(){WA(e)&&KA(t)})}function WA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yn(t,n)}catch{return!0}}function KA(t){var e=Pr(t,1);e!==null&&Kn(e,t,1,-1)}function zw(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:t},e.queue=t,t=t.dispatch=uR.bind(null,Xe,t),[e.memoizedState,t]}function xl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function JA(){return On().memoizedState}function xc(t,e,n,r){var i=er();Xe.flags|=t,i.memoizedState=xl(1|e,n,void 0,r===void 0?null:r)}function wf(t,e,n,r){var i=On();r=r===void 0?null:r;var o=void 0;if(dt!==null){var a=dt.memoizedState;if(o=a.destroy,r!==null&&hy(r,a.deps)){i.memoizedState=xl(e,n,o,r);return}}Xe.flags|=t,i.memoizedState=xl(1|e,n,o,r)}function qw(t,e){return xc(8390656,8,t,e)}function gy(t,e){return wf(2048,8,t,e)}function YA(t,e){return wf(4,2,t,e)}function XA(t,e){return wf(4,4,t,e)}function QA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ZA(t,e,n){return n=n!=null?n.concat([t]):null,wf(4,4,QA.bind(null,e,t),n)}function vy(){}function eC(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tC(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nC(t,e,n){return to&21?(Yn(n,e)||(n=sA(),Xe.lanes|=n,no|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=n)}function sR(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=Zh.transition;Zh.transition={};try{t(!1),e()}finally{Ne=n,Zh.transition=r}}function rC(){return On().memoizedState}function lR(t,e,n){var r=ci(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iC(t))oC(e,n);else if(n=UA(t,e,n,r),n!==null){var i=zt();Kn(n,t,r,i),aC(n,e,r)}}function uR(t,e,n){var r=ci(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iC(t))oC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Yn(s,a)){var l=e.interleaved;l===null?(i.next=i,ly(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=UA(t,e,i,r),n!==null&&(i=zt(),Kn(n,t,r,i),aC(n,e,r))}}function iC(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function oC(t,e){Gs=Wc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function aC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kv(t,n)}}var Kc={readContext:Nn,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},cR={readContext:Nn,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:qw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xc(4194308,4,QA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return xc(4,2,t,e)},useMemo:function(t,e){var n=er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=lR.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=er();return t={current:t},e.memoizedState=t},useState:zw,useDebugValue:vy,useDeferredValue:function(t){return er().memoizedState=t},useTransition:function(){var t=zw(!1),e=t[0];return t=sR.bind(null,t[1]),er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,i=er();if(We){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),bt===null)throw Error(J(349));to&30||qA(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,qw(GA.bind(null,r,o,t),[t]),r.flags|=2048,xl(9,HA.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=er(),e=bt.identifierPrefix;if(We){var n=wr,r=yr;n=(r&~(1<<32-Wn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dR={readContext:Nn,useCallback:eC,useContext:Nn,useEffect:gy,useImperativeHandle:ZA,useInsertionEffect:YA,useLayoutEffect:XA,useMemo:tC,useReducer:ep,useRef:JA,useState:function(){return ep(bl)},useDebugValue:vy,useDeferredValue:function(t){var e=On();return nC(e,dt.memoizedState,t)},useTransition:function(){var t=ep(bl)[0],e=On().memoizedState;return[t,e]},useMutableSource:VA,useSyncExternalStore:zA,useId:rC,unstable_isNewReconciler:!1},fR={readContext:Nn,useCallback:eC,useContext:Nn,useEffect:gy,useImperativeHandle:ZA,useInsertionEffect:YA,useLayoutEffect:XA,useMemo:tC,useReducer:tp,useRef:JA,useState:function(){return tp(bl)},useDebugValue:vy,useDeferredValue:function(t){var e=On();return dt===null?e.memoizedState=t:nC(e,dt.memoizedState,t)},useTransition:function(){var t=tp(bl)[0],e=On().memoizedState;return[t,e]},useMutableSource:VA,useSyncExternalStore:zA,useId:rC,unstable_isNewReconciler:!1};function Bn(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _m(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bf={isMounted:function(t){return(t=t._reactInternals)?fo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zt(),i=ci(t),o=Sr(r,i);o.payload=e,n!=null&&(o.callback=n),e=li(t,o,i),e!==null&&(Kn(e,t,i,r),wc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zt(),i=ci(t),o=Sr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=li(t,o,i),e!==null&&(Kn(e,t,i,r),wc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zt(),r=ci(t),i=Sr(n,r);i.tag=2,e!=null&&(i.callback=e),e=li(t,i,r),e!==null&&(Kn(e,t,r,n),wc(e,t,r))}};function Hw(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!hl(n,r)||!hl(i,o):!0}function sC(t,e,n){var r=!1,i=mi,o=e.contextType;return typeof o=="object"&&o!==null?o=Nn(o):(i=Yt(e)?Zi:Dt.current,r=e.contextTypes,o=(r=r!=null)?fa(t,i):mi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Gw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bf.enqueueReplaceState(e,e.state,null)}function Sm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},uy(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Nn(o):(o=Yt(e)?Zi:Dt.current,i.context=fa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(_m(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bf.enqueueReplaceState(i,i.state,null),Hc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ga(t,e){try{var n="",r=e;do n+=BO(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function np(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Em(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hR=typeof WeakMap=="function"?WeakMap:Map;function lC(t,e,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yc||(Yc=!0,Rm=r),Em(t,e)},n}function uC(t,e,n){n=Sr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Em(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Em(t,e),typeof r!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Ww(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=CR.bind(null,t,e,n),e.then(t,t))}function Kw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sr(-1,1),e.tag=2,li(n,e,1))),n.lanes|=1),t)}var pR=$r.ReactCurrentOwner,Wt=!1;function Lt(t,e,n,r){e.child=t===null?LA(e,null,n,r):pa(e,t.child,n,r)}function Yw(t,e,n,r,i){n=n.render;var o=e.ref;return na(e,i),r=py(t,e,n,r,o,i),n=my(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):(We&&n&&ny(e),e.flags|=1,Lt(t,e,r,i),e.child)}function Xw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ty(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,cC(t,e,o,r,i)):(t=Tc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:hl,n(a,r)&&t.ref===e.ref)return Ir(t,e,i)}return e.flags|=1,t=di(o,r),t.ref=e.ref,t.return=e,e.child=t}function cC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(hl(o,r)&&t.ref===e.ref)if(Wt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Wt=!0);else return e.lanes=t.lanes,Ir(t,e,i)}return Tm(t,e,n,r,i)}function dC(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Ho,on),on|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(Ho,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ue(Ho,on),on|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ue(Ho,on),on|=r;return Lt(t,e,i,n),e.child}function fC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tm(t,e,n,r,i){var o=Yt(n)?Zi:Dt.current;return o=fa(e,o),na(e,i),n=py(t,e,n,r,o,i),r=my(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):(We&&r&&ny(e),e.flags|=1,Lt(t,e,n,i),e.child)}function Qw(t,e,n,r,i){if(Yt(n)){var o=!0;Bc(e)}else o=!1;if(na(e,i),e.stateNode===null)_c(t,e),sC(e,n,r),Sm(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nn(u):(u=Yt(n)?Zi:Dt.current,u=fa(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Gw(e,a,r,u),Kr=!1;var h=e.memoizedState;a.state=h,Hc(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Jt.current||Kr?(typeof c=="function"&&(_m(e,n,c,r),l=e.memoizedState),(s=Kr||Hw(e,n,s,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,BA(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Bn(e.type,s),a.props=u,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nn(l):(l=Yt(n)?Zi:Dt.current,l=fa(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&Gw(e,a,r,l),Kr=!1,h=e.memoizedState,a.state=h,Hc(e,r,a,i);var v=e.memoizedState;s!==d||h!==v||Jt.current||Kr?(typeof g=="function"&&(_m(e,n,g,r),v=e.memoizedState),(u=Kr||Hw(e,n,u,r,h,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Am(t,e,n,r,o,i)}function Am(t,e,n,r,i,o){fC(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&jw(e,n,!1),Ir(t,e,o);r=e.stateNode,pR.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=pa(e,t.child,null,o),e.child=pa(e,null,s,o)):Lt(t,e,s,o),e.memoizedState=r.state,i&&jw(e,n,!0),e.child}function hC(t){var e=t.stateNode;e.pendingContext?Dw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dw(t,e.context,!1),cy(t,e.containerInfo)}function Zw(t,e,n,r,i){return ha(),iy(i),e.flags|=256,Lt(t,e,n,r),e.child}var Cm={dehydrated:null,treeContext:null,retryLane:0};function km(t){return{baseLanes:t,cachePool:null,transitions:null}}function pC(t,e,n){var r=e.pendingProps,i=Ye.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Ye,i&1),t===null)return bm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Sf(a,r,0,null),t=Yi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=km(n),e.memoizedState=Cm,t):yy(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return mR(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=di(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=di(s,o):(o=Yi(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?km(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Cm,r}return o=t.child,t=o.sibling,r=di(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yy(t,e){return e=Sf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bu(t,e,n,r){return r!==null&&iy(r),pa(e,t.child,null,n),t=yy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mR(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=np(Error(J(422))),Bu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Sf({mode:"visible",children:r.children},i,0,null),o=Yi(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&pa(e,t.child,null,a),e.child.memoizedState=km(a),e.memoizedState=Cm,o);if(!(e.mode&1))return Bu(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(J(419)),r=np(o,r,void 0),Bu(t,e,a,r)}if(s=(a&t.childLanes)!==0,Wt||s){if(r=bt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Pr(t,i),Kn(r,t,i,-1))}return Ey(),r=np(Error(J(421))),Bu(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=kR.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,dn=si(i.nextSibling),fn=e,We=!0,Hn=null,t!==null&&(En[Tn++]=yr,En[Tn++]=wr,En[Tn++]=eo,yr=t.id,wr=t.overflow,eo=e),e=yy(e,r.children),e.flags|=4096,e)}function eb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xm(t.return,e,n)}function rp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function mC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Lt(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eb(t,n,e);else if(t.tag===19)eb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rp(e,!0,n,null,o);break;case"together":rp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),no|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gR(t,e,n){switch(e.tag){case 3:hC(e),ha();break;case 5:FA(e);break;case 1:Yt(e.type)&&Bc(e);break;case 4:cy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(zc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?pC(t,e,n):(Ue(Ye,Ye.current&1),t=Ir(t,e,n),t!==null?t.sibling:null);Ue(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,dC(t,e,n)}return Ir(t,e,n)}var gC,Pm,vC,yC;gC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pm=function(){};vC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,zi(ir.current);var o=null;switch(n){case"input":i=Xp(t,i),r=Xp(t,r),o=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),o=[];break;case"textarea":i=em(t,i),r=em(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lc)}nm(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(al.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(al.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};yC=function(t,e,n,r){n!==r&&(e.flags|=4)};function _s(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function vR(t,e,n){var r=e.pendingProps;switch(ry(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return Yt(e.type)&&Uc(),Nt(e),null;case 3:return r=e.stateNode,ma(),Ge(Jt),Ge(Dt),fy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hn!==null&&(jm(Hn),Hn=null))),Pm(t,e),Nt(e),null;case 5:dy(e);var i=zi(yl.current);if(n=e.type,t!==null&&e.stateNode!=null)vC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Nt(e),null}if(t=zi(ir.current),Lu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[tr]=e,r[gl]=o,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<Ls.length;i++)Ve(Ls[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":uw(r,o),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ve("invalid",r);break;case"textarea":dw(r,o),Ve("invalid",r)}nm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&ju(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&ju(r.textContent,s,t),i=["children",""+s]):al.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Pu(r),cw(r,o,!0);break;case"textarea":Pu(r),fw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Lc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=GT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[tr]=e,t[gl]=r,gC(t,e,!1,!1),e.stateNode=t;e:{switch(a=rm(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ls.length;i++)Ve(Ls[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":uw(t,r),i=Xp(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":dw(t,r),i=em(t,r),Ve("invalid",t);break;default:i=r}nm(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?JT(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&WT(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sl(t,l):typeof l=="number"&&sl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(al.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ve("scroll",t):l!=null&&Vv(t,o,l,a))}switch(n){case"input":Pu(t),cw(t,r,!1);break;case"textarea":Pu(t),fw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Qo(t,!!r.multiple,o,!1):r.defaultValue!=null&&Qo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Lc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(t&&e.stateNode!=null)yC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=zi(yl.current),zi(ir.current),Lu(e)){if(r=e.stateNode,n=e.memoizedProps,r[tr]=e,(o=r.nodeValue!==n)&&(t=fn,t!==null))switch(t.tag){case 3:ju(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ju(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=e,e.stateNode=r}return Nt(e),null;case 13:if(Ge(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&dn!==null&&e.mode&1&&!(e.flags&128))DA(),ha(),e.flags|=98560,o=!1;else if(o=Lu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[tr]=e}else ha(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),o=!1}else Hn!==null&&(jm(Hn),Hn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?ht===0&&(ht=3):Ey())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return ma(),Pm(t,e),t===null&&pl(e.stateNode.containerInfo),Nt(e),null;case 10:return sy(e.type._context),Nt(e),null;case 17:return Yt(e.type)&&Uc(),Nt(e),null;case 19:if(Ge(Ye),o=e.memoizedState,o===null)return Nt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)_s(o,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Gc(t),a!==null){for(e.flags|=128,_s(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Ye,Ye.current&1|2),e.child}t=t.sibling}o.tail!==null&&nt()>va&&(e.flags|=128,r=!0,_s(o,!1),e.lanes=4194304)}else{if(!r)if(t=Gc(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_s(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!We)return Nt(e),null}else 2*nt()-o.renderingStartTime>va&&n!==1073741824&&(e.flags|=128,r=!0,_s(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=nt(),e.sibling=null,n=Ye.current,Ue(Ye,r?n&1|2:n&1),e):(Nt(e),null);case 22:case 23:return Sy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?on&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function yR(t,e){switch(ry(e),e.tag){case 1:return Yt(e.type)&&Uc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ma(),Ge(Jt),Ge(Dt),fy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dy(e),null;case 13:if(Ge(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));ha()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(Ye),null;case 4:return ma(),null;case 10:return sy(e.type._context),null;case 22:case 23:return Sy(),null;case 24:return null;default:return null}}var Fu=!1,Mt=!1,wR=typeof WeakSet=="function"?WeakSet:Set,re=null;function qo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function Im(t,e,n){try{n()}catch(r){et(t,e,r)}}var tb=!1;function bR(t,e){if(hm=$c,t=SA(),ty(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pm={focusedElem:t,selectionRange:n},$c=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:Bn(e.type,y),b);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(T){et(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return v=tb,tb=!1,v}function Ws(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Im(e,n,o)}i=i.next}while(i!==r)}}function xf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wC(t){var e=t.alternate;e!==null&&(t.alternate=null,wC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tr],delete e[gl],delete e[vm],delete e[nR],delete e[rR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bC(t){return t.tag===5||t.tag===3||t.tag===4}function nb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Om(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lc));else if(r!==4&&(t=t.child,t!==null))for(Om(t,e,n),t=t.sibling;t!==null;)Om(t,e,n),t=t.sibling}function Mm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mm(t,e,n),t=t.sibling;t!==null;)Mm(t,e,n),t=t.sibling}var At=null,Vn=!1;function Vr(t,e,n){for(n=n.child;n!==null;)xC(t,e,n),n=n.sibling}function xC(t,e,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(hf,n)}catch{}switch(n.tag){case 5:Mt||qo(n,e);case 6:var r=At,i=Vn;At=null,Vr(t,e,n),At=r,Vn=i,At!==null&&(Vn?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(Vn?(t=At,n=n.stateNode,t.nodeType===8?Yh(t.parentNode,n):t.nodeType===1&&Yh(t,n),dl(t)):Yh(At,n.stateNode));break;case 4:r=At,i=Vn,At=n.stateNode.containerInfo,Vn=!0,Vr(t,e,n),At=r,Vn=i;break;case 0:case 11:case 14:case 15:if(!Mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Im(n,e,a),i=i.next}while(i!==r)}Vr(t,e,n);break;case 1:if(!Mt&&(qo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){et(n,e,s)}Vr(t,e,n);break;case 21:Vr(t,e,n);break;case 22:n.mode&1?(Mt=(r=Mt)||n.memoizedState!==null,Vr(t,e,n),Mt=r):Vr(t,e,n);break;default:Vr(t,e,n)}}function rb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wR),e.forEach(function(r){var i=PR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:At=s.stateNode,Vn=!1;break e;case 3:At=s.stateNode.containerInfo,Vn=!0;break e;case 4:At=s.stateNode.containerInfo,Vn=!0;break e}s=s.return}if(At===null)throw Error(J(160));xC(o,a,i),At=null,Vn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){et(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_C(e,t),e=e.sibling}function _C(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jn(e,t),Zn(t),r&4){try{Ws(3,t,t.return),xf(3,t)}catch(y){et(t,t.return,y)}try{Ws(5,t,t.return)}catch(y){et(t,t.return,y)}}break;case 1:jn(e,t),Zn(t),r&512&&n!==null&&qo(n,n.return);break;case 5:if(jn(e,t),Zn(t),r&512&&n!==null&&qo(n,n.return),t.flags&32){var i=t.stateNode;try{sl(i,"")}catch(y){et(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&qT(i,o),rm(s,a);var u=rm(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?JT(i,d):c==="dangerouslySetInnerHTML"?WT(i,d):c==="children"?sl(i,d):Vv(i,c,d,u)}switch(s){case"input":Qp(i,o);break;case"textarea":HT(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Qo(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?Qo(i,!!o.multiple,o.defaultValue,!0):Qo(i,!!o.multiple,o.multiple?[]:"",!1))}i[gl]=o}catch(y){et(t,t.return,y)}}break;case 6:if(jn(e,t),Zn(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){et(t,t.return,y)}}break;case 3:if(jn(e,t),Zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dl(e.containerInfo)}catch(y){et(t,t.return,y)}break;case 4:jn(e,t),Zn(t);break;case 13:jn(e,t),Zn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(xy=nt())),r&4&&rb(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Mt=(u=Mt)||c,jn(e,t),Mt=u):jn(e,t),Zn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(re=t,c=t.child;c!==null;){for(d=re=c;re!==null;){switch(h=re,g=h.child,h.tag){case 0:case 11:case 14:case 15:Ws(4,h,h.return);break;case 1:qo(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){et(r,n,y)}}break;case 5:qo(h,h.return);break;case 22:if(h.memoizedState!==null){ob(d);continue}}g!==null?(g.return=h,re=g):ob(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=KT("display",a))}catch(y){et(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){et(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:jn(e,t),Zn(t),r&4&&rb(t);break;case 21:break;default:jn(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bC(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sl(i,""),r.flags&=-33);var o=nb(t);Mm(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=nb(t);Om(t,s,a);break;default:throw Error(J(161))}}catch(l){et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xR(t,e,n){re=t,SC(t)}function SC(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Fu;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Mt;s=Fu;var u=Mt;if(Fu=a,(Mt=l)&&!u)for(re=i;re!==null;)a=re,l=a.child,a.tag===22&&a.memoizedState!==null?ab(i):l!==null?(l.return=a,re=l):ab(i);for(;o!==null;)re=o,SC(o),o=o.sibling;re=i,Fu=s,Mt=u}ib(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,re=o):ib(t)}}function ib(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mt||xf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Vw(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Vw(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&dl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Mt||e.flags&512&&Nm(e)}catch(h){et(e,e.return,h)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function ob(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function ab(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xf(4,e)}catch(l){et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){et(e,i,l)}}var o=e.return;try{Nm(e)}catch(l){et(e,o,l)}break;case 5:var a=e.return;try{Nm(e)}catch(l){et(e,a,l)}}}catch(l){et(e,e.return,l)}if(e===t){re=null;break}var s=e.sibling;if(s!==null){s.return=e.return,re=s;break}re=e.return}}var _R=Math.ceil,Jc=$r.ReactCurrentDispatcher,wy=$r.ReactCurrentOwner,Pn=$r.ReactCurrentBatchConfig,Te=0,bt=null,ot=null,Ct=0,on=0,Ho=vi(0),ht=0,_l=null,no=0,_f=0,by=0,Ks=null,Gt=null,xy=0,va=1/0,hr=null,Yc=!1,Rm=null,ui=null,Vu=!1,ti=null,Xc=0,Js=0,$m=null,Sc=-1,Ec=0;function zt(){return Te&6?nt():Sc!==-1?Sc:Sc=nt()}function ci(t){return t.mode&1?Te&2&&Ct!==0?Ct&-Ct:oR.transition!==null?(Ec===0&&(Ec=sA()),Ec):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:pA(t.type)),t):1}function Kn(t,e,n,r){if(50<Js)throw Js=0,$m=null,Error(J(185));lu(t,n,r),(!(Te&2)||t!==bt)&&(t===bt&&(!(Te&2)&&(_f|=n),ht===4&&Xr(t,Ct)),Xt(t,r),n===1&&Te===0&&!(e.mode&1)&&(va=nt()+500,yf&&yi()))}function Xt(t,e){var n=t.callbackNode;oM(t,e);var r=Rc(t,t===bt?Ct:0);if(r===0)n!==null&&mw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mw(n),e===1)t.tag===0?iR(sb.bind(null,t)):MA(sb.bind(null,t)),eR(function(){!(Te&6)&&yi()}),n=null;else{switch(lA(r)){case 1:n=Wv;break;case 4:n=oA;break;case 16:n=Mc;break;case 536870912:n=aA;break;default:n=Mc}n=NC(n,EC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function EC(t,e){if(Sc=-1,Ec=0,Te&6)throw Error(J(327));var n=t.callbackNode;if(ra()&&t.callbackNode!==n)return null;var r=Rc(t,t===bt?Ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qc(t,r);else{e=r;var i=Te;Te|=2;var o=AC();(bt!==t||Ct!==e)&&(hr=null,va=nt()+500,Ji(t,e));do try{TR();break}catch(s){TC(t,s)}while(!0);ay(),Jc.current=o,Te=i,ot!==null?e=0:(bt=null,Ct=0,e=ht)}if(e!==0){if(e===2&&(i=lm(t),i!==0&&(r=i,e=Dm(t,i))),e===1)throw n=_l,Ji(t,0),Xr(t,r),Xt(t,nt()),n;if(e===6)Xr(t,r);else{if(i=t.current.alternate,!(r&30)&&!SR(i)&&(e=Qc(t,r),e===2&&(o=lm(t),o!==0&&(r=o,e=Dm(t,o))),e===1))throw n=_l,Ji(t,0),Xr(t,r),Xt(t,nt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Oi(t,Gt,hr);break;case 3:if(Xr(t,r),(r&130023424)===r&&(e=xy+500-nt(),10<e)){if(Rc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gm(Oi.bind(null,t,Gt,hr),e);break}Oi(t,Gt,hr);break;case 4:if(Xr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Wn(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_R(r/1960))-r,10<r){t.timeoutHandle=gm(Oi.bind(null,t,Gt,hr),r);break}Oi(t,Gt,hr);break;case 5:Oi(t,Gt,hr);break;default:throw Error(J(329))}}}return Xt(t,nt()),t.callbackNode===n?EC.bind(null,t):null}function Dm(t,e){var n=Ks;return t.current.memoizedState.isDehydrated&&(Ji(t,e).flags|=256),t=Qc(t,e),t!==2&&(e=Gt,Gt=n,e!==null&&jm(e)),t}function jm(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function SR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Yn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xr(t,e){for(e&=~by,e&=~_f,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wn(e),r=1<<n;t[n]=-1,e&=~r}}function sb(t){if(Te&6)throw Error(J(327));ra();var e=Rc(t,0);if(!(e&1))return Xt(t,nt()),null;var n=Qc(t,e);if(t.tag!==0&&n===2){var r=lm(t);r!==0&&(e=r,n=Dm(t,r))}if(n===1)throw n=_l,Ji(t,0),Xr(t,e),Xt(t,nt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oi(t,Gt,hr),Xt(t,nt()),null}function _y(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(va=nt()+500,yf&&yi())}}function ro(t){ti!==null&&ti.tag===0&&!(Te&6)&&ra();var e=Te;Te|=1;var n=Pn.transition,r=Ne;try{if(Pn.transition=null,Ne=1,t)return t()}finally{Ne=r,Pn.transition=n,Te=e,!(Te&6)&&yi()}}function Sy(){on=Ho.current,Ge(Ho)}function Ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZM(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(ry(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uc();break;case 3:ma(),Ge(Jt),Ge(Dt),fy();break;case 5:dy(r);break;case 4:ma();break;case 13:Ge(Ye);break;case 19:Ge(Ye);break;case 10:sy(r.type._context);break;case 22:case 23:Sy()}n=n.return}if(bt=t,ot=t=di(t.current,null),Ct=on=e,ht=0,_l=null,by=_f=no=0,Gt=Ks=null,Vi!==null){for(e=0;e<Vi.length;e++)if(n=Vi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Vi=null}return t}function TC(t,e){do{var n=ot;try{if(ay(),bc.current=Kc,Wc){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wc=!1}if(to=0,yt=dt=Xe=null,Gs=!1,wl=0,wy.current=null,n===null||n.return===null){ht=1,_l=e,ot=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Ct,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Kw(a);if(g!==null){g.flags&=-257,Jw(g,a,s,o,e),g.mode&1&&Ww(o,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){Ww(o,u,e),Ey();break e}l=Error(J(426))}}else if(We&&s.mode&1){var b=Kw(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Jw(b,a,s,o,e),iy(ga(l,s));break e}}o=l=ga(l,s),ht!==4&&(ht=2),Ks===null?Ks=[o]:Ks.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=lC(o,l,e);Fw(o,w);break e;case 1:s=l;var x=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ui===null||!ui.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=uC(o,s,e);Fw(o,T);break e}}o=o.return}while(o!==null)}kC(n)}catch(S){e=S,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function AC(){var t=Jc.current;return Jc.current=Kc,t===null?Kc:t}function Ey(){(ht===0||ht===3||ht===2)&&(ht=4),bt===null||!(no&268435455)&&!(_f&268435455)||Xr(bt,Ct)}function Qc(t,e){var n=Te;Te|=2;var r=AC();(bt!==t||Ct!==e)&&(hr=null,Ji(t,e));do try{ER();break}catch(i){TC(t,i)}while(!0);if(ay(),Te=n,Jc.current=r,ot!==null)throw Error(J(261));return bt=null,Ct=0,ht}function ER(){for(;ot!==null;)CC(ot)}function TR(){for(;ot!==null&&!YO();)CC(ot)}function CC(t){var e=IC(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?kC(t):ot=e,wy.current=null}function kC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yR(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,ot=null;return}}else if(n=vR(n,e,on),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);ht===0&&(ht=5)}function Oi(t,e,n){var r=Ne,i=Pn.transition;try{Pn.transition=null,Ne=1,AR(t,e,n,r)}finally{Pn.transition=i,Ne=r}return null}function AR(t,e,n,r){do ra();while(ti!==null);if(Te&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(aM(t,o),t===bt&&(ot=bt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vu||(Vu=!0,NC(Mc,function(){return ra(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Pn.transition,Pn.transition=null;var a=Ne;Ne=1;var s=Te;Te|=4,wy.current=null,bR(t,n),_C(n,t),GM(pm),$c=!!hm,pm=hm=null,t.current=n,xR(n),XO(),Te=s,Ne=a,Pn.transition=o}else t.current=n;if(Vu&&(Vu=!1,ti=t,Xc=i),o=t.pendingLanes,o===0&&(ui=null),eM(n.stateNode),Xt(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yc)throw Yc=!1,t=Rm,Rm=null,t;return Xc&1&&t.tag!==0&&ra(),o=t.pendingLanes,o&1?t===$m?Js++:(Js=0,$m=t):Js=0,yi(),null}function ra(){if(ti!==null){var t=lA(Xc),e=Pn.transition,n=Ne;try{if(Pn.transition=null,Ne=16>t?16:t,ti===null)var r=!1;else{if(t=ti,ti=null,Xc=0,Te&6)throw Error(J(331));var i=Te;for(Te|=4,re=t.current;re!==null;){var o=re,a=o.child;if(re.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(re=u;re!==null;){var c=re;switch(c.tag){case 0:case 11:case 15:Ws(8,c,o)}var d=c.child;if(d!==null)d.return=c,re=d;else for(;re!==null;){c=re;var h=c.sibling,g=c.return;if(wC(c),c===u){re=null;break}if(h!==null){h.return=g,re=h;break}re=g}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}re=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,re=a;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ws(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,re=w;break e}re=o.return}}var x=t.current;for(re=x;re!==null;){a=re;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,re=_;else e:for(a=x;re!==null;){if(s=re,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:xf(9,s)}}catch(S){et(s,s.return,S)}if(s===a){re=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,re=T;break e}re=s.return}}if(Te=i,yi(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(hf,t)}catch{}r=!0}return r}finally{Ne=n,Pn.transition=e}}return!1}function lb(t,e,n){e=ga(n,e),e=lC(t,e,1),t=li(t,e,1),e=zt(),t!==null&&(lu(t,1,e),Xt(t,e))}function et(t,e,n){if(t.tag===3)lb(t,t,n);else for(;e!==null;){if(e.tag===3){lb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ui===null||!ui.has(r))){t=ga(n,t),t=uC(e,t,1),e=li(e,t,1),t=zt(),e!==null&&(lu(e,1,t),Xt(e,t));break}}e=e.return}}function CR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&n,bt===t&&(Ct&n)===n&&(ht===4||ht===3&&(Ct&130023424)===Ct&&500>nt()-xy?Ji(t,0):by|=n),Xt(t,e)}function PC(t,e){e===0&&(t.mode&1?(e=Ou,Ou<<=1,!(Ou&130023424)&&(Ou=4194304)):e=1);var n=zt();t=Pr(t,e),t!==null&&(lu(t,e,n),Xt(t,n))}function kR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),PC(t,n)}function PR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),PC(t,n)}var IC;IC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jt.current)Wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wt=!1,gR(t,e,n);Wt=!!(t.flags&131072)}else Wt=!1,We&&e.flags&1048576&&RA(e,Vc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_c(t,e),t=e.pendingProps;var i=fa(e,Dt.current);na(e,n),i=py(null,e,r,t,i,n);var o=my();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yt(r)?(o=!0,Bc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uy(e),i.updater=bf,e.stateNode=i,i._reactInternals=e,Sm(e,r,t,n),e=Am(null,e,r,!0,o,n)):(e.tag=0,We&&o&&ny(e),Lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_c(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=NR(r),t=Bn(r,t),i){case 0:e=Tm(null,e,r,t,n);break e;case 1:e=Qw(null,e,r,t,n);break e;case 11:e=Yw(null,e,r,t,n);break e;case 14:e=Xw(null,e,r,Bn(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),Tm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),Qw(t,e,r,i,n);case 3:e:{if(hC(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,BA(t,e),Hc(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ga(Error(J(423)),e),e=Zw(t,e,r,n,i);break e}else if(r!==i){i=ga(Error(J(424)),e),e=Zw(t,e,r,n,i);break e}else for(dn=si(e.stateNode.containerInfo.firstChild),fn=e,We=!0,Hn=null,n=LA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ha(),r===i){e=Ir(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return FA(e),t===null&&bm(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,mm(r,i)?a=null:o!==null&&mm(r,o)&&(e.flags|=32),fC(t,e),Lt(t,e,a,n),e.child;case 6:return t===null&&bm(e),null;case 13:return pC(t,e,n);case 4:return cy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pa(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),Yw(t,e,r,i,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ue(zc,r._currentValue),r._currentValue=a,o!==null)if(Yn(o.value,a)){if(o.children===i.children&&!Jt.current){e=Ir(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Sr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xm(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),xm(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,na(e,n),i=Nn(i),r=r(i),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,i=Bn(r,e.pendingProps),i=Bn(r.type,i),Xw(t,e,r,i,n);case 15:return cC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),_c(t,e),e.tag=1,Yt(r)?(t=!0,Bc(e)):t=!1,na(e,n),sC(e,r,i),Sm(e,r,i,n),Am(null,e,r,!0,t,n);case 19:return mC(t,e,n);case 22:return dC(t,e,n)}throw Error(J(156,e.tag))};function NC(t,e){return iA(t,e)}function IR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,n,r){return new IR(t,e,n,r)}function Ty(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NR(t){if(typeof t=="function")return Ty(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qv)return 11;if(t===Hv)return 14}return 2}function di(t,e){var n=t.alternate;return n===null?(n=Cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tc(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Ty(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case $o:return Yi(n.children,i,o,e);case zv:a=8,i|=8;break;case Wp:return t=Cn(12,n,e,i|2),t.elementType=Wp,t.lanes=o,t;case Kp:return t=Cn(13,n,e,i),t.elementType=Kp,t.lanes=o,t;case Jp:return t=Cn(19,n,e,i),t.elementType=Jp,t.lanes=o,t;case FT:return Sf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case UT:a=10;break e;case BT:a=9;break e;case qv:a=11;break e;case Hv:a=14;break e;case Wr:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Cn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Yi(t,e,n,r){return t=Cn(7,t,r,e),t.lanes=n,t}function Sf(t,e,n,r){return t=Cn(22,t,r,e),t.elementType=FT,t.lanes=n,t.stateNode={isHidden:!1},t}function ip(t,e,n){return t=Cn(6,t,null,e),t.lanes=n,t}function op(t,e,n){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uh(0),this.expirationTimes=Uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ay(t,e,n,r,i,o,a,s,l){return t=new OR(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Cn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uy(o),t}function MR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ro,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function OC(t){if(!t)return mi;t=t._reactInternals;e:{if(fo(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Yt(n))return OA(t,n,e)}return e}function MC(t,e,n,r,i,o,a,s,l){return t=Ay(n,r,!0,t,i,o,a,s,l),t.context=OC(null),n=t.current,r=zt(),i=ci(n),o=Sr(r,i),o.callback=e??null,li(n,o,i),t.current.lanes=i,lu(t,i,r),Xt(t,r),t}function Ef(t,e,n,r){var i=e.current,o=zt(),a=ci(i);return n=OC(n),e.context===null?e.context=n:e.pendingContext=n,e=Sr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=li(i,e,a),t!==null&&(Kn(t,i,a,o),wc(t,i,a)),a}function Zc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ub(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cy(t,e){ub(t,e),(t=t.alternate)&&ub(t,e)}function RR(){return null}var RC=typeof reportError=="function"?reportError:function(t){console.error(t)};function ky(t){this._internalRoot=t}Tf.prototype.render=ky.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Ef(t,e,null,null)};Tf.prototype.unmount=ky.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ro(function(){Ef(null,t,null,null)}),e[kr]=null}};function Tf(t){this._internalRoot=t}Tf.prototype.unstable_scheduleHydration=function(t){if(t){var e=dA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yr.length&&e!==0&&e<Yr[n].priority;n++);Yr.splice(n,0,t),n===0&&hA(t)}};function Py(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Af(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cb(){}function $R(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Zc(a);o.call(u)}}var a=MC(e,r,t,0,null,!1,!1,"",cb);return t._reactRootContainer=a,t[kr]=a.current,pl(t.nodeType===8?t.parentNode:t),ro(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Zc(l);s.call(u)}}var l=Ay(t,0,!1,null,null,!1,!1,"",cb);return t._reactRootContainer=l,t[kr]=l.current,pl(t.nodeType===8?t.parentNode:t),ro(function(){Ef(e,l,n,r)}),l}function Cf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Zc(a);s.call(l)}}Ef(e,a,t,i)}else a=$R(n,e,t,i,r);return Zc(a)}uA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=js(e.pendingLanes);n!==0&&(Kv(e,n|1),Xt(e,nt()),!(Te&6)&&(va=nt()+500,yi()))}break;case 13:ro(function(){var r=Pr(t,1);if(r!==null){var i=zt();Kn(r,t,1,i)}}),Cy(t,1)}};Jv=function(t){if(t.tag===13){var e=Pr(t,134217728);if(e!==null){var n=zt();Kn(e,t,134217728,n)}Cy(t,134217728)}};cA=function(t){if(t.tag===13){var e=ci(t),n=Pr(t,e);if(n!==null){var r=zt();Kn(n,t,e,r)}Cy(t,e)}};dA=function(){return Ne};fA=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};om=function(t,e,n){switch(e){case"input":if(Qp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vf(r);if(!i)throw Error(J(90));zT(r),Qp(r,i)}}}break;case"textarea":HT(t,n);break;case"select":e=n.value,e!=null&&Qo(t,!!n.multiple,e,!1)}};QT=_y;ZT=ro;var DR={usingClientEntryPoint:!1,Events:[cu,Uo,vf,YT,XT,_y]},Ss={findFiberByHostInstance:Fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jR={bundleType:Ss.bundleType,version:Ss.version,rendererPackageName:Ss.rendererPackageName,rendererConfig:Ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nA(t),t===null?null:t.stateNode},findFiberByHostInstance:Ss.findFiberByHostInstance||RR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{hf=zu.inject(jR),rr=zu}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DR;gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Py(e))throw Error(J(200));return MR(t,e,null,n)};gn.createRoot=function(t,e){if(!Py(t))throw Error(J(299));var n=!1,r="",i=RC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ay(t,1,!1,null,null,n,!1,r,i),t[kr]=e.current,pl(t.nodeType===8?t.parentNode:t),new ky(e)};gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=nA(e),t=t===null?null:t.stateNode,t};gn.flushSync=function(t){return ro(t)};gn.hydrate=function(t,e,n){if(!Af(e))throw Error(J(200));return Cf(null,t,e,!0,n)};gn.hydrateRoot=function(t,e,n){if(!Py(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=RC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=MC(e,null,t,1,n??null,i,!1,o,a),t[kr]=e.current,pl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Tf(e)};gn.render=function(t,e,n){if(!Af(e))throw Error(J(200));return Cf(null,t,e,!1,n)};gn.unmountComponentAtNode=function(t){if(!Af(t))throw Error(J(40));return t._reactRootContainer?(ro(function(){Cf(null,null,t,!1,function(){t._reactRootContainer=null,t[kr]=null})}),!0):!1};gn.unstable_batchedUpdates=_y;gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Af(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Cf(t,e,n,!1,r)};gn.version="18.3.1-next-f1338f8080-20240426";function $C(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($C)}catch(t){console.error(t)}}$C(),$T.exports=gn;var LR=$T.exports,db=LR;Hp.createRoot=db.createRoot,Hp.hydrateRoot=db.hydrateRoot;var ie=(t=>(t.Admin="Admin",t.Manager="Manager",t.Cashier="Cashier",t.Viewer="Viewer",t))(ie||{});const DC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),jC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})}),LC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962c.513-.96 1.487-1.591 2.571-1.591h1.69c1.084 0 2.058.631 2.571 1.591m-1.5-4.87c.966-.054 1.932.026 2.867.231m-8.686.461a9.083 9.083 0 01-2.233-1.527m-5.145-2.747a6.75 6.75 0 01-1.025-2.185m-2.522-3.238a6.75 6.75 0 00-1.025 2.185m8.686 4.61a9.083 9.083 0 01-2.233 1.527m5.145 2.747a6.75 6.75 0 001.025 2.185m2.522 3.238a6.75 6.75 0 011.025-2.185m-8.686-4.61a9.083 9.083 0 002.233-1.527m-5.145-2.747a6.75 6.75 0 01-1.025-2.185m-2.522-3.238a6.75 6.75 0 00-1.025 2.185"})}),UC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.003c0 1.113.285 2.16.786 3.07M15 19.128c.331.149.661.296.992.443m-7.007-4.668a2.25 2.25 0 01-.02-3.956 2.25 2.25 0 013.976.02 2.25 2.25 0 01-.02 3.956 2.25 2.25 0 01-3.976-.02zM12 15.75l-4.243 4.243M12 15.75l4.243 4.243m-8.486-4.243L12 15.75l-4.243-4.243m4.243-4.243L12 11.25l-4.243 4.243M12 3v.01M16.5 4.5l.01.01M21 8.25v.01M21 12v.01M21 15.75v.01M16.5 19.5l.01.01M12 21v.01M7.5 19.5l-.01.01M3 15.75v.01M3 12v.01M3 8.25v.01M7.5 4.5l-.01.01"})}),UR=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-1.007 1.11-1.226.55-.22 1.156-.169 1.664.13a4.902 4.902 0 012.016 3.033h.003c.184 1.487.054 3.023-.384 4.484.09.09.182.178.27.264.47.442.823.979 1.05 1.58.227.602.268 1.25.122 1.867-.146.617-.458 1.18-.9 1.637a4.902 4.902 0 01-6.108 2.368c-1.897-.732-3.56-2.22-4.32-4.13a4.893 4.893 0 01.164-5.32c.532-.733 1.28-1.343 2.146-1.757.513-.246 1.06-.401 1.617-.464.089-.006.177-.013.266-.02zM12 9a3 3 0 100 6 3 3 0 000-6z"})}),BR=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125v-12.75a1.125 1.125 0 011.125-1.125h17.25a1.125 1.125 0 011.125 1.125v12.75a1.125 1.125 0 01-1.125 1.125m-17.25 0h.009v.008h-.009v-.008zm1.688 0h.009v.008h-.009v-.008zm1.687 0h.009v.008h-.009v-.008zm1.688 0h.009v.008h-.009v-.008zm1.687 0h.009v.008h-.009v-.008zM8.25 6h7.5M8.25 9h7.5m-7.5 3h7.5"})}),BC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c.51 0 .962-.343 1.087-.835l1.823-6.423a.75.75 0 00-.674-.928H5.216c-.464 0-.893.261-.928.704L3.63 10.25l-1.38-4.853A.75.75 0 001.5 5.25H2.25"})}),FR=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.516.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})}),VR=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M8.485 3.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 3.495zM10 6a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 6zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),zR=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5v-1.875a3.375 3.375 0 013.375-3.375h9.75a3.375 3.375 0 013.375 3.375v1.875M3.375 14.25h17.25M6 14.25V6h12v8.25"})}),qR=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})}),HR=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-1.5h5.25m-5.25 0h3m-3 0h-1.5m3 0h.75M9 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),GR=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"})}),WR=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),KR=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 0 1 7.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 0 1 1.06 0Z"})}),JR=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"})}),YR=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),XR=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 013.75 9.375v-4.5zM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 01-1.125-1.125v-4.5zM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0113.5 9.375v-4.5z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75zM6.75 16.5h.75v.75h-.75v-.75zM16.5 6.75h.75v.75h-.75v-.75zM13.5 13.5h.75v.75h-.75v-.75zM13.5 19.5h.75v.75h-.75v-.75zM19.5 13.5h.75v.75h-.75v-.75zM19.5 19.5h.75v.75h-.75v-.75zM16.5 16.5h.75v.75h-.75v-.75z"})]}),QR=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0h9m9 0h-9m9 0a2.25 2.25 0 002.25-2.25v-7.5a2.25 2.25 0 00-2.25-2.25h-13.5a2.25 2.25 0 00-2.25 2.25v7.5a2.25 2.25 0 002.25 2.25m0 0V21h13.5v-2.25"})}),ZR=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"})}),e5=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})}),t5=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),ho={ChartBarIcon:DC,CubeIcon:jC,UserGroupIcon:LC,UsersIcon:UC,ShoppingCartIcon:BC,KeyIcon:FR,BanknotesIcon:GR,TagIcon:WR,WifiIcon:KR,CloudIcon:JR,ArrowUpTrayIcon:YR,QrCodeIcon:XR,PrinterIcon:QR,GlobeAltIcon:ZR,ChatBubbleLeftRightIcon:e5,BuildingStorefrontIcon:t5},Lm={USD:{symbol:"$",rate:1},BDT:{symbol:"",rate:120},EUR:{symbol:"",rate:.92},INR:{symbol:"",rate:83}},n5={en:{Dashboard:"Dashboard",POS:"POS",Products:"Products",Purchases:"Purchases",Suppliers:"Suppliers",Customers:"Customers",Employees:"Employees",Expenses:"Expenses",Reports:"Reports",Settings:"Settings",Search:"Search...","Add New":"Add New","Import CSV":"Import CSV","Print Labels":"Print Labels","Total Revenue":"Total Revenue","New Customers":"New Customers","Products Sold":"Products Sold","Todays Transactions":"Today's Transactions","Sales Overview":"Sales Overview","Top Selling Products":"Top Selling Products","Low Stock Alerts":"Low Stock Alerts","AI-Powered Insights":"AI-Powered Insights",Online:"Online",Offline:"Offline","Clock In":"Clock In","Clock Out":"Clock Out","Shift Started":"Shift Started","Current Order":"Current Order","Held Orders":"Held Orders",Hold:"Hold",Charge:"Charge","Clear Cart":"Clear Cart",Subtotal:"Subtotal",Tax:"Tax",Total:"Total","Print Receipt":"Print Receipt","Payment Success":"Payment Successful","WhatsApp Invoice":"WhatsApp Invoice","Out of Stock":"Out of Stock","Stock Limit Exceeded":"Cannot add more. Stock limit reached."},bn:{Dashboard:"",POS:" (POS)",Products:" ",Purchases:"",Suppliers:"",Customers:"",Employees:"",Expenses:"",Reports:"",Settings:"",Search:"...","Add New":"  ","Import CSV":" CSV","Print Labels":" ","Total Revenue":" ","New Customers":" ","Products Sold":" ","Todays Transactions":" ","Sales Overview":" ","Top Selling Products":"  ","Low Stock Alerts":" ","AI-Powered Insights":" ",Online:"",Offline:"","Clock In":" ","Clock Out":" ","Shift Started":" ","Current Order":" ","Held Orders":" ",Hold:"",Charge:" ","Clear Cart":" ",Subtotal:"-",Tax:"/",Total:"","Print Receipt":" ","Payment Success":"  ","WhatsApp Invoice":" ","Out of Stock":" ","Stock Limit Exceeded":"        "}},FC=[{name:"Dashboard",path:"dashboard",icon:DC,roles:[ie.Admin,ie.Manager,ie.Viewer]},{name:"POS",path:"pos",icon:BC,roles:[ie.Cashier,ie.Admin,ie.Manager]},{name:"Products",path:"products",icon:jC,roles:[ie.Admin,ie.Manager]},{name:"Purchases",path:"purchases",icon:qR,roles:[ie.Admin,ie.Manager]},{name:"Suppliers",path:"suppliers",icon:zR,roles:[ie.Admin,ie.Manager]},{name:"Customers",path:"customers",icon:LC,roles:[ie.Admin,ie.Manager,ie.Cashier]},{name:"Employees",path:"employees",icon:UC,roles:[ie.Admin]},{name:"Expenses",path:"expenses",icon:HR,roles:[ie.Admin,ie.Manager]},{name:"Reports",path:"reports",icon:BR,roles:[ie.Admin,ie.Manager,ie.Viewer]},{name:"Settings",path:"settings",icon:UR,roles:[ie.Admin]}],VC=[{id:"totalRevenue",name:"Total Revenue",roles:[ie.Admin]},{id:"newCustomers",name:"New Customers",roles:[ie.Admin,ie.Manager]},{id:"productsSold",name:"Products Sold",roles:[ie.Admin,ie.Manager,ie.Viewer]},{id:"todaysTransactions",name:"Today's Transactions",roles:[ie.Admin,ie.Manager,ie.Viewer]},{id:"salesOverview",name:"Sales Overview",roles:[ie.Admin,ie.Manager,ie.Viewer]},{id:"topProducts",name:"Top Selling Products",roles:[ie.Admin,ie.Manager,ie.Viewer]},{id:"recentActivity",name:"Recent Activity",roles:[ie.Admin,ie.Manager]},{id:"lowStockAlerts",name:"Low Stock Alerts",roles:[ie.Admin,ie.Manager]},{id:"aiInsights",name:"AI-Powered Insights",roles:[ie.Admin,ie.Manager]}],vr=t=>{const e={};return VC.forEach(n=>{e[n.id]=n.roles.includes(t)}),e},r5=[{id:"n1",title:"Low Stock Warning",message:"Espresso is running low. Only 20 units left.",timestamp:new Date(Date.now()-1e3*60*5).toISOString(),read:!1,link:"products"},{id:"n2",title:"New Sale",message:"Sale #S1025 of $45.50 completed by David Smith.",timestamp:new Date(Date.now()-1e3*60*30).toISOString(),read:!1,link:"reports"},{id:"n3",title:"System Update",message:"Scheduled maintenance this Sunday at 2 AM.",timestamp:new Date(Date.now()-1e3*60*60*4).toISOString(),read:!0},{id:"n4",title:"Weekly Report Ready",message:"Your weekly sales summary is available.",timestamp:new Date(Date.now()-1e3*60*60*24).toISOString(),read:!0,link:"reports"}],fb="ZENITH_POS_SECRET_KEY_2025_V2",i5={A:"AI_INSIGHTS",R:"ADVANCED_REPORTS",M:"MULTI_LANGUAGE",C:"CLOUD_SYNC"},hb={Standard:["MULTI_LANGUAGE"],Premium:["MULTI_LANGUAGE","AI_INSIGHTS"],Enterprise:["MULTI_LANGUAGE","AI_INSIGHTS","ADVANCED_REPORTS","CLOUD_SYNC"]},pb=(t,e)=>{const n=t+e;let r=5381;for(let i=0;i<n.length;i++)r=r*33^n.charCodeAt(i);return(r>>>0).toString(16).toUpperCase().padStart(8,"0").slice(-5)},o5=(t,e)=>{const n=t.trim().toUpperCase();if(n==="ZENITH-SUPER-2025-DEMO"||n==="ZENITH-TECH-2025-DEMO"){const i=n==="ZENITH-SUPER-2025-DEMO";return{valid:!0,license:{key:n,organizationId:i?"org_coffee":"org_tech",validUntil:"2025-12-31T23:59:59Z",planType:i?"Enterprise":"Premium",status:"Active",maxShops:i?1/0:1,enabledFeatures:hb[i?"Enterprise":"Premium"]}}}const r=n.split("-");if(r[0]!=="ZENITH")return{valid:!1,error:"Invalid key format. Must start with ZENITH."};if(r.length===6){const[,i,o,a,s,l]=r,u=`ZENITH-${i}-${o}-${a}-${s}`;let c=!1;if(e){const d=e.trim().toUpperCase().replace(/\s+/g,"");pb(`${u}-${d}`,fb)===l&&(c=!0)}if(!c&&pb(u,fb)===l&&(c=!0),!c)return{valid:!1,error:"Invalid license signature."};try{const d=parseInt(s.substring(0,4)),h=parseInt(s.substring(4,6))-1,g=parseInt(s.substring(6,8)),v=new Date(d,h,g);if(v<new Date)return{valid:!1,error:"License key has expired."};const b={STD:"Standard",PREM:"Premium",ENT:"Enterprise"}[i]||"Standard";return{valid:!0,license:{key:n,organizationId:`org_${o.toLowerCase()}`,validUntil:v.toISOString(),planType:b,status:"Active",maxShops:i==="ENT"?1/0:1,enabledFeatures:a.split("").map(w=>i5[w]).filter(Boolean)}}}catch{return{valid:!1,error:"Invalid date format in key."}}}if(r.length===4||r.length===5){const i=(h,g)=>{const v=h+g;let y=0;for(let b=0;b<v.length;b++)y=(y<<5)-y+v.charCodeAt(b),y|=0;return Math.abs(y).toString(16).substring(0,4).toUpperCase().padStart(4,"0")};let o="SINGLE",a,s,l,u;r.length===5?([,o,a,s,l]=r,u=`ZENITH-${o}-${a}-${s}`):([,a,s,l]=r,u=`ZENITH-${a}-${s}`);let c=!1;if(e){const h=e.trim().toUpperCase().replace(/\s+/g,"");i(`${u}-${h}`,"ZENITH_POS_SECRET_KEY_2025")===l&&(c=!0)}if(!c&&i(u,"ZENITH_POS_SECRET_KEY_2025")===l&&(c=!0),!c)return{valid:!1,error:"Invalid license signature."};if(parseInt(s)<new Date().getFullYear())return{valid:!1,error:"License key has expired."};const d=o==="MULTI"?"Enterprise":"Premium";return{valid:!0,license:{key:n,organizationId:`org_${a.toLowerCase().replace(/[^a-z0-9]/g,"")}`,validUntil:`${s}-12-31T23:59:59Z`,planType:d,status:"Active",maxShops:o==="MULTI"?1/0:1,enabledFeatures:hb[d]}}}return{valid:!1,error:"Unsupported or invalid key format."}},a5=[{id:"u1",name:"Alex Johnson",email:"admin1@zenith.com",password:"123",role:ie.Admin,organizationId:"org_coffee",avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026704d",dashboardWidgets:vr(ie.Admin),isVerified:!0},{id:"u2",name:"Maria Garcia",email:"manager@zenith.com",password:"123",role:ie.Manager,organizationId:"org_coffee",avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026705d",dashboardWidgets:vr(ie.Manager),isVerified:!0},{id:"u3",name:"David Smith",email:"cashier@zenith.com",password:"123",role:ie.Cashier,organizationId:"org_coffee",avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026706d",dashboardWidgets:vr(ie.Cashier),isVerified:!0},{id:"u4",name:"Michael Chen",email:"admin2@techzone.com",password:"123",role:ie.Admin,organizationId:"org_tech",avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026709d",dashboardWidgets:vr(ie.Admin),isVerified:!0},{id:"u5",name:"John Doe",email:"cashier@techzone.com",password:"123",role:ie.Cashier,organizationId:"org_tech",avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026708d",dashboardWidgets:vr(ie.Cashier),isVerified:!0},{id:"u6",name:"Sarah Wilson",email:"viewer@zenith.com",password:"123",role:ie.Viewer,organizationId:"org_coffee",avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026707d",dashboardWidgets:vr(ie.Viewer),isVerified:!0}],s5=[{id:"p1",organizationId:"org_coffee",name:"Espresso",category:"Coffee",price:2.5,stock:20,sku:"COF-ESP-01",brand:"Zenith Beans",unit:"pcs",lowStockThreshold:25,expiryDate:"2025-12-31",imageUrl:"https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=100&q=80"},{id:"p2",organizationId:"org_coffee",name:"Latte",category:"Coffee",price:3.5,stock:120,sku:"COF-LAT-01",brand:"Zenith Beans",unit:"pcs",lowStockThreshold:50,expiryDate:"2025-12-31",imageUrl:"https://images.unsplash.com/photo-1541167760496-1628856ab772?auto=format&fit=crop&w=100&q=80"},{id:"p3",organizationId:"org_coffee",name:"Croissant",category:"Pastry",price:2.75,stock:15,sku:"PAS-CRO-01",brand:"Paris Pastries",unit:"pcs",lowStockThreshold:20,expiryDate:"2024-08-10",imageUrl:"https://images.unsplash.com/photo-1530982523992-9385556a1b9c?auto=format&fit=crop&w=100&q=80"},{id:"p4",organizationId:"org_coffee",name:"Muffin",category:"Pastry",price:3,stock:75,sku:"PAS-MUF-01",brand:"Paris Pastries",unit:"pcs",lowStockThreshold:20,expiryDate:"2024-08-12",imageUrl:"https://images.unsplash.com/photo-1551024601-bec78aea704b?auto=format&fit=crop&w=100&q=80"},{id:"p5",organizationId:"org_coffee",name:"Orange Juice",category:"Beverage",price:4,stock:90,sku:"BEV-OJ-01",brand:"Fresh Squeeze",unit:"btl",lowStockThreshold:30,expiryDate:"2024-09-01",imageUrl:"https://images.unsplash.com/photo-1600271886742-f049cd451bba?auto=format&fit=crop&w=100&q=80"},{id:"tp1",organizationId:"org_tech",name:"USB-C Cable",category:"Accessories",price:12.99,stock:50,sku:"ACC-USB-01",brand:"TechLink",unit:"pcs",lowStockThreshold:10,imageUrl:"https://images.unsplash.com/photo-1612815154858-60aa4c59eaa6?auto=format&fit=crop&w=100&q=80"},{id:"tp2",organizationId:"org_tech",name:"Wireless Mouse",category:"Peripherals",price:24.99,stock:30,sku:"PER-MSE-01",brand:"LogiTech",unit:"pcs",lowStockThreshold:5,imageUrl:"https://images.unsplash.com/photo-1527864550417-7fd91fc51a46?auto=format&fit=crop&w=100&q=80"},{id:"tp3",organizationId:"org_tech",name:"Mechanical Keyboard",category:"Peripherals",price:89.99,stock:15,sku:"PER-KBD-01",brand:"KeyChron",unit:"pcs",lowStockThreshold:5,imageUrl:"https://images.unsplash.com/photo-1587829741301-dc798b91add1?auto=format&fit=crop&w=100&q=80"},{id:"tp4",organizationId:"org_tech",name:"Screen Protector",category:"Accessories",price:9.99,stock:100,sku:"ACC-SCR-01",brand:"GlassGuard",unit:"pcs",lowStockThreshold:20,imageUrl:"https://images.unsplash.com/photo-1605236453806-6ff36851218e?auto=format&fit=crop&w=100&q=80"}],l5=[{id:"c1",organizationId:"org_coffee",name:"Emily Carter",phone:"555-0101",email:"emily.c@example.com",loyaltyPoints:1250,dueAmount:0,creditLimit:500},{id:"c2",organizationId:"org_coffee",name:"Benjamin Hayes",phone:"555-0102",email:"ben.h@example.com",loyaltyPoints:850,dueAmount:25.5,creditLimit:200},{id:"tc1",organizationId:"org_tech",name:"Geeky Steve",phone:"555-9901",email:"steve@tech.com",loyaltyPoints:500,dueAmount:120,creditLimit:1e3},{id:"tc2",organizationId:"org_tech",name:"Alice Coder",phone:"555-9902",email:"alice@code.com",loyaltyPoints:2e3,dueAmount:0,creditLimit:2e3}],u5=[{id:"sup1",organizationId:"org_coffee",name:"Zenith Beans Co.",contactPerson:"John Bean",phone:"555-0201",email:"sales@zenithbeans.com"},{id:"sup2",organizationId:"org_tech",name:"Global Electronics",contactPerson:"Mr. Circuit",phone:"555-0999",email:"orders@globalelec.com"}],c5=[{id:"po1",organizationId:"org_coffee",supplierId:"sup1",supplierName:"Zenith Beans Co.",status:"Completed",items:[{productId:"p1",productName:"Espresso",quantity:100,cost:1.5}],total:150,createdAt:new Date(Date.now()-864e5*10).toISOString(),createdBy:"Maria Garcia"},{id:"po2",organizationId:"org_tech",supplierId:"sup2",supplierName:"Global Electronics",status:"Pending",items:[{productId:"tp1",productName:"USB-C Cable",quantity:200,cost:5}],total:1e3,createdAt:new Date(Date.now()-864e5*1).toISOString(),createdBy:"Michael Chen"}],d5=[{id:"e1",organizationId:"org_coffee",category:"Rent",description:"Shop Rent",amount:2500,date:new Date(Date.now()-864e5*20).toISOString(),recordedBy:"Alex Johnson"},{id:"e2",organizationId:"org_tech",category:"Rent",description:"Tech Store Rent",amount:4e3,date:new Date(Date.now()-864e5*20).toISOString(),recordedBy:"Michael Chen"}],f5=[{id:"s1",organizationId:"org_coffee",date:new Date(Date.now()-864e5*2).toISOString(),total:125.5,cashier:"David Smith",cashierId:"u3",items:15,customerId:"c1",customerName:"Emily Carter",amountPaid:125.5,paymentMethod:"Card"},{id:"s2",organizationId:"org_tech",date:new Date(Date.now()-864e5*1).toISOString(),total:89.99,cashier:"John Doe",cashierId:"u5",items:1,customerId:"tc1",customerName:"Geeky Steve",amountPaid:89.99,paymentMethod:"Card"}],h5=[{id:"lk1",organizationId:"org_coffee",key:"ZENITH-COFF-EE01-1234",assignedToUserId:"u3",assignedToUserName:"David Smith",status:"Active",validity:"Lifetime",deviceName:"Counter PC"},{id:"lk2",organizationId:"org_tech",key:"ZENITH-TECH-ZONE-5678",assignedToUserId:"u5",assignedToUserName:"John Doe",status:"Active",validity:"Lifetime",deviceName:"Main Register"}],p5=[{id:"a1",user:"Alex Johnson",action:"Logged in",timestamp:new Date(Date.now()-1e3*60*5).toISOString()},{id:"a2",user:"Michael Chen",action:"Logged in",timestamp:new Date(Date.now()-1e3*60*15).toISOString()}],m5=[{name:"Mon",sales:4e3},{name:"Tue",sales:3e3},{name:"Wed",sales:2e3},{name:"Thu",sales:2780},{name:"Fri",sales:1890},{name:"Sat",sales:2390},{name:"Sun",sales:3490}],mb=[{name:"Latte",value:400},{name:"Espresso",value:300},{name:"Croissant",value:300},{name:"Orange Juice",value:200}],yn={products:{columns:[{key:"name",header:"Name"},{key:"category",header:"Category"},{key:"brand",header:"Brand"},{key:"price",header:"Price",render:t=>`$${t.price.toFixed(2)}`},{key:"stock",header:"Stock Level",render:t=>m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{children:[t.stock," ",t.unit||""]}),typeof t.lowStockThreshold<"u"&&t.stock<=t.lowStockThreshold&&m.jsx("span",{title:`Low stock threshold: ${t.lowStockThreshold}`,children:m.jsx(VR,{className:"w-5 h-5 text-yellow-500"})})]})},{key:"sku",header:"SKU"}],formFields:[{key:"name",label:"Product Name",type:"text",required:!0},{key:"imageUrl",label:"Image URL",type:"text"},{key:"category",label:"Category",type:"text",required:!0},{key:"brand",label:"Brand",type:"text"},{key:"price",label:"Price",type:"number",required:!0},{key:"stock",label:"Stock Quantity",type:"number",required:!0},{key:"unit",label:"Unit (e.g., pcs, kg)",type:"text"},{key:"lowStockThreshold",label:"Low Stock Threshold",type:"number"},{key:"sku",label:"SKU",type:"text",required:!0},{key:"expiryDate",label:"Expiry Date",type:"date"}]},customers:{columns:[{key:"name",header:"Name"},{key:"email",header:"Email"},{key:"phone",header:"Phone"},{key:"loyaltyPoints",header:"Loyalty Points"},{key:"dueAmount",header:"Due Amount",render:t=>`$${t.dueAmount.toFixed(2)}`}],formFields:[{key:"name",label:"Name",type:"text",required:!0},{key:"email",label:"Email",type:"email",required:!0},{key:"phone",label:"Phone",type:"text",required:!1},{key:"loyaltyPoints",label:"Loyalty Points",type:"number",required:!1},{key:"dueAmount",label:"Due Amount",type:"number",required:!1},{key:"creditLimit",label:"Credit Limit",type:"number",required:!1}]},employees:{columns:[{key:"name",header:"Name",render:t=>m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-8 h-8 rounded-full object-cover bg-neutral-200"}),m.jsx("span",{children:t.name})]})},{key:"email",header:"Email"},{key:"role",header:"Role"}],formFields:[{key:"name",label:"Name",type:"text",required:!0},{key:"email",label:"Email",type:"email",required:!0},{key:"role",label:"Role",type:"select",required:!0,options:Object.values(ie).map(t=>({value:t,label:t}))},{key:"avatarUrl",label:"Photo",type:"image",required:!1}]},suppliers:{columns:[{key:"name",header:"Supplier Name"},{key:"contactPerson",header:"Contact Person"},{key:"phone",header:"Phone"},{key:"email",header:"Email"}],formFields:[{key:"name",label:"Supplier Name",type:"text",required:!0},{key:"contactPerson",label:"Contact Person",type:"text",required:!0},{key:"phone",label:"Phone",type:"text"},{key:"email",label:"Email",type:"email"}]},purchases:{columns:[{key:"id",header:"PO Number"},{key:"supplierName",header:"Supplier"},{key:"createdAt",header:"Date",render:t=>new Date(t.createdAt).toLocaleDateString()},{key:"status",header:"Status",render:t=>m.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${t.status==="Completed"?"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300":t.status==="Pending"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/50 dark:text-yellow-300":"bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-300"}`,children:t.status})},{key:"total",header:"Total",render:t=>`$${t.total.toFixed(2)}`},{key:"createdBy",header:"Created By"}],formFields:[{key:"supplierId",label:"Supplier",type:"select",required:!0,options:[]},{key:"status",label:"Status",type:"select",required:!0,options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}]},{key:"total",label:"Total",type:"number",required:!0}]},expenses:{columns:[{key:"date",header:"Date",render:t=>new Date(t.date).toLocaleDateString()},{key:"category",header:"Category"},{key:"description",header:"Description"},{key:"amount",header:"Amount",render:t=>`$${t.amount.toFixed(2)}`},{key:"recordedBy",header:"Recorded By"}],formFields:[{key:"date",label:"Date",type:"date",required:!0},{key:"category",label:"Category",type:"text",required:!0},{key:"description",label:"Description",type:"text"},{key:"amount",label:"Amount",type:"number",required:!0}]}},gb=.01,vb=7,g5=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.95-4.243l-1.591 1.591M5.25 12H3m4.243-4.95l1.591-1.591M12 9a3 3 0 100 6 3 3 0 000-6z"})}),v5=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25c0 5.385 4.365 9.75 9.75 9.75 2.572 0 4.92-.99 6.697-2.648z"})}),y5=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),w5=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),b5=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),{WifiIcon:x5,CloudIcon:_5}=ho,S5=({user:t,onLogout:e,toggleSidebar:n,isDarkMode:r,toggleDarkMode:i,businessName:o,businessLogo:a,activeView:s,setActiveView:l,notifications:u,setNotifications:c,activeShift:d,onToggleShift:h,isOnline:g,t:v,isInTrial:y})=>{const[b,w]=I.useState(!1),[x,_]=I.useState(!1),T=I.useRef(null),S=I.useRef(null),E=u.filter(P=>!P.read).length,A=P=>{P.link&&l(P.link),c(M=>M.map(j=>j.id===P.id?{...j,read:!0}:j)),_(!1)},C=()=>{c(P=>P.map(M=>({...M,read:!0})))},k=()=>{l("settings"),w(!1)},N=I.useMemo(()=>{if(s==="dashboard")return o;const P=FC.find(j=>j.path===s),M=P?P.name:s.charAt(0).toUpperCase()+s.slice(1);return v(M)},[s,o,v]);return I.useEffect(()=>{const P=M=>{T.current&&!T.current.contains(M.target)&&_(!1),S.current&&!S.current.contains(M.target)&&w(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]),m.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-sm shadow-sm flex flex-col",children:[y&&m.jsxs("div",{className:"bg-amber-500 text-white text-xs font-bold text-center py-1 flex justify-center items-center gap-2",children:[m.jsx("span",{children:" 7-DAY FREE TRIAL MODE"}),m.jsx("span",{className:"hidden sm:inline",children:" - Full features available."}),m.jsx("button",{onClick:()=>l("settings"),className:"underline hover:text-amber-100 ml-2",children:"Activate Now"})]}),m.jsxs("div",{className:"grid grid-cols-3 items-center h-16 px-4 md:px-6 w-full",children:[m.jsxs("div",{className:"flex items-center justify-start gap-4",children:[m.jsx("button",{onClick:n,className:"lg:hidden text-neutral-600 dark:text-neutral-300",children:m.jsx(w5,{className:"w-6 h-6"})}),d&&m.jsxs("div",{className:"hidden sm:flex items-center gap-2 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 text-xs font-semibold px-3 py-1.5 rounded-full",children:[m.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),m.jsxs("span",{children:[v("Shift Started"),": ",new Date(d.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a?m.jsx("img",{src:a,alt:"Business Logo",className:"h-8 w-8 object-contain"}):m.jsx(b5,{className:"h-8 w-8 text-primary-600"}),m.jsx("h1",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-100 truncate",children:N})]}),m.jsxs("div",{className:"flex items-center justify-end space-x-2 md:space-x-4",children:[m.jsxs("div",{className:`hidden md:flex items-center gap-1.5 px-2 py-1 rounded-full border ${g?"border-green-200 bg-green-50 text-green-700 dark:border-green-900 dark:bg-green-900/20 dark:text-green-400":"border-neutral-200 bg-neutral-50 text-neutral-500 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-400"}`,children:[g?m.jsx(x5,{className:"w-4 h-4"}):m.jsx(_5,{className:"w-4 h-4"}),m.jsx("span",{className:"text-xs font-semibold",children:v(g?"Online":"Offline")})]}),m.jsx("button",{onClick:h,className:`hidden md:block text-sm font-semibold px-4 py-2 rounded-lg transition-colors ${d?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 hover:bg-red-200":"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 hover:bg-green-200"}`,children:v(d?"Clock Out":"Clock In")}),m.jsx("button",{onClick:i,className:"p-2 rounded-full text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:r?m.jsx(g5,{className:"w-5 h-5"}):m.jsx(v5,{className:"w-5 h-5"})}),m.jsxs("div",{className:"relative",ref:T,children:[m.jsxs("button",{onClick:()=>_(!x),className:"p-2 rounded-full text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:[m.jsx(y5,{className:"w-6 h-6"}),E>0&&m.jsx("span",{className:"absolute top-1 right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-white text-xs ring-2 ring-white dark:ring-neutral-900",children:E})]}),x&&m.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-neutral-800 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 z-40",children:[m.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-neutral-200 dark:border-neutral-700",children:[m.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),m.jsx("button",{onClick:C,className:"text-xs text-primary-600 dark:text-primary-400 hover:underline",children:"Mark all as read"})]}),m.jsx("ul",{className:"max-h-80 overflow-y-auto",children:u.map(P=>m.jsx("li",{onClick:()=>A(P),className:`p-3 border-b border-neutral-100 dark:border-neutral-700/50 hover:bg-neutral-50 dark:hover:bg-neutral-700/50 ${P.link?"cursor-pointer":""}`,children:m.jsxs("div",{className:"flex items-start gap-3",children:[!P.read&&m.jsx("div",{className:"mt-1.5 w-2 h-2 rounded-full bg-primary-500 flex-shrink-0"}),m.jsxs("div",{className:P.read?"pl-5":"",children:[m.jsx("p",{className:"font-semibold text-sm",children:P.title}),m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:P.message}),m.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:new Date(P.timestamp).toLocaleString()})]})]})},P.id))}),m.jsx("div",{className:"p-2 text-center border-t border-neutral-200 dark:border-neutral-700",children:m.jsx("button",{className:"text-sm font-medium text-primary-600 dark:text-primary-400 hover:underline",children:"View all notifications"})})]})]}),m.jsxs("div",{className:"relative",ref:S,children:[m.jsxs("button",{onClick:()=>w(!b),className:"flex items-center space-x-2",children:[m.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-9 h-9 rounded-full object-cover"}),m.jsxs("div",{className:"hidden md:block text-left",children:[m.jsx("p",{className:"text-sm font-semibold text-neutral-800 dark:text-neutral-100",children:t.name}),m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:t.role})]})]}),b&&m.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-neutral-800 rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5 z-40",children:[m.jsx("button",{onClick:k,className:"w-full text-left block px-4 py-2 text-sm text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:"Profile"}),m.jsx("button",{onClick:e,className:"w-full text-left block px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:"Logout"})]})]})]})]})]})},E5=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),T5=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),A5=({userRole:t,activeView:e,setActiveView:n,isOpen:r,setIsOpen:i,businessName:o,businessLogo:a,t:s})=>{const l=FC.filter(c=>c.roles.includes(t)),u=m.jsx("nav",{className:"flex-1 px-2 py-4 space-y-2",children:l.map(c=>m.jsxs("a",{href:"#",onClick:d=>{d.preventDefault(),n(c.path),window.innerWidth<1024&&i(!1)},className:`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 ${e===c.path?"bg-primary-600 text-white shadow-md":"text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700"}`,children:[m.jsx(c.icon,{className:"w-5 h-5 mr-3"}),m.jsx("span",{children:s(c.name)})]},c.name))});return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`fixed inset-0 bg-black/30 z-40 lg:hidden transition-opacity ${r?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>i(!1)}),m.jsxs("aside",{className:`fixed lg:relative inset-y-0 left-0 z-50 flex flex-col w-64 bg-white dark:bg-neutral-800 border-r border-neutral-200 dark:border-neutral-700 transition-transform duration-300 ease-in-out ${r?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[m.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-neutral-200 dark:border-neutral-700",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[a?m.jsx("img",{src:a,alt:"Business Logo",className:"h-10 w-10 object-contain"}):m.jsx(T5,{className:"h-9 w-9 text-primary-600"}),m.jsx("span",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-100",children:o})]}),m.jsx("button",{onClick:()=>i(!1),className:"p-2 rounded-md text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700 lg:hidden",children:m.jsx(E5,{className:"w-6 h-6"})})]}),u]})]})};function zC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=zC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ye(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=zC(t))&&(r&&(r+=" "),r+=e);return r}var C5=Array.isArray,Qt=C5,k5=typeof Au=="object"&&Au&&Au.Object===Object&&Au,qC=k5,P5=qC,I5=typeof self=="object"&&self&&self.Object===Object&&self,N5=P5||I5||Function("return this")(),ur=N5,O5=ur,M5=O5.Symbol,fu=M5,yb=fu,HC=Object.prototype,R5=HC.hasOwnProperty,$5=HC.toString,Es=yb?yb.toStringTag:void 0;function D5(t){var e=R5.call(t,Es),n=t[Es];try{t[Es]=void 0;var r=!0}catch{}var i=$5.call(t);return r&&(e?t[Es]=n:delete t[Es]),i}var j5=D5,L5=Object.prototype,U5=L5.toString;function B5(t){return U5.call(t)}var F5=B5,wb=fu,V5=j5,z5=F5,q5="[object Null]",H5="[object Undefined]",bb=wb?wb.toStringTag:void 0;function G5(t){return t==null?t===void 0?H5:q5:bb&&bb in Object(t)?V5(t):z5(t)}var Dr=G5;function W5(t){return t!=null&&typeof t=="object"}var jr=W5,K5=Dr,J5=jr,Y5="[object Symbol]";function X5(t){return typeof t=="symbol"||J5(t)&&K5(t)==Y5}var Wa=X5,Q5=Qt,Z5=Wa,e$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,t$=/^\w*$/;function n$(t,e){if(Q5(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Z5(t)?!0:t$.test(t)||!e$.test(t)||e!=null&&t in Object(e)}var Iy=n$;function r$(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wi=r$;const Ka=Oe(wi);var i$=Dr,o$=wi,a$="[object AsyncFunction]",s$="[object Function]",l$="[object GeneratorFunction]",u$="[object Proxy]";function c$(t){if(!o$(t))return!1;var e=i$(t);return e==s$||e==l$||e==a$||e==u$}var Ny=c$;const ge=Oe(Ny);var d$=ur,f$=d$["__core-js_shared__"],h$=f$,ap=h$,xb=function(){var t=/[^.]+$/.exec(ap&&ap.keys&&ap.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function p$(t){return!!xb&&xb in t}var m$=p$,g$=Function.prototype,v$=g$.toString;function y$(t){if(t!=null){try{return v$.call(t)}catch{}try{return t+""}catch{}}return""}var GC=y$,w$=Ny,b$=m$,x$=wi,_$=GC,S$=/[\\^$.*+?()[\]{}|]/g,E$=/^\[object .+?Constructor\]$/,T$=Function.prototype,A$=Object.prototype,C$=T$.toString,k$=A$.hasOwnProperty,P$=RegExp("^"+C$.call(k$).replace(S$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function I$(t){if(!x$(t)||b$(t))return!1;var e=w$(t)?P$:E$;return e.test(_$(t))}var N$=I$;function O$(t,e){return t==null?void 0:t[e]}var M$=O$,R$=N$,$$=M$;function D$(t,e){var n=$$(t,e);return R$(n)?n:void 0}var po=D$,j$=po,L$=j$(Object,"create"),kf=L$,_b=kf;function U$(){this.__data__=_b?_b(null):{},this.size=0}var B$=U$;function F$(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var V$=F$,z$=kf,q$="__lodash_hash_undefined__",H$=Object.prototype,G$=H$.hasOwnProperty;function W$(t){var e=this.__data__;if(z$){var n=e[t];return n===q$?void 0:n}return G$.call(e,t)?e[t]:void 0}var K$=W$,J$=kf,Y$=Object.prototype,X$=Y$.hasOwnProperty;function Q$(t){var e=this.__data__;return J$?e[t]!==void 0:X$.call(e,t)}var Z$=Q$,eD=kf,tD="__lodash_hash_undefined__";function nD(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=eD&&e===void 0?tD:e,this}var rD=nD,iD=B$,oD=V$,aD=K$,sD=Z$,lD=rD;function Ja(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ja.prototype.clear=iD;Ja.prototype.delete=oD;Ja.prototype.get=aD;Ja.prototype.has=sD;Ja.prototype.set=lD;var uD=Ja;function cD(){this.__data__=[],this.size=0}var dD=cD;function fD(t,e){return t===e||t!==t&&e!==e}var Oy=fD,hD=Oy;function pD(t,e){for(var n=t.length;n--;)if(hD(t[n][0],e))return n;return-1}var Pf=pD,mD=Pf,gD=Array.prototype,vD=gD.splice;function yD(t){var e=this.__data__,n=mD(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():vD.call(e,n,1),--this.size,!0}var wD=yD,bD=Pf;function xD(t){var e=this.__data__,n=bD(e,t);return n<0?void 0:e[n][1]}var _D=xD,SD=Pf;function ED(t){return SD(this.__data__,t)>-1}var TD=ED,AD=Pf;function CD(t,e){var n=this.__data__,r=AD(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var kD=CD,PD=dD,ID=wD,ND=_D,OD=TD,MD=kD;function Ya(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ya.prototype.clear=PD;Ya.prototype.delete=ID;Ya.prototype.get=ND;Ya.prototype.has=OD;Ya.prototype.set=MD;var If=Ya,RD=po,$D=ur,DD=RD($D,"Map"),My=DD,Sb=uD,jD=If,LD=My;function UD(){this.size=0,this.__data__={hash:new Sb,map:new(LD||jD),string:new Sb}}var BD=UD;function FD(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var VD=FD,zD=VD;function qD(t,e){var n=t.__data__;return zD(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Nf=qD,HD=Nf;function GD(t){var e=HD(this,t).delete(t);return this.size-=e?1:0,e}var WD=GD,KD=Nf;function JD(t){return KD(this,t).get(t)}var YD=JD,XD=Nf;function QD(t){return XD(this,t).has(t)}var ZD=QD,ej=Nf;function tj(t,e){var n=ej(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var nj=tj,rj=BD,ij=WD,oj=YD,aj=ZD,sj=nj;function Xa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xa.prototype.clear=rj;Xa.prototype.delete=ij;Xa.prototype.get=oj;Xa.prototype.has=aj;Xa.prototype.set=sj;var Ry=Xa,WC=Ry,lj="Expected a function";function $y(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(lj);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new($y.Cache||WC),n}$y.Cache=WC;var KC=$y;const uj=Oe(KC);var cj=KC,dj=500;function fj(t){var e=cj(t,function(r){return n.size===dj&&n.clear(),r}),n=e.cache;return e}var hj=fj,pj=hj,mj=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gj=/\\(\\)?/g,vj=pj(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(mj,function(n,r,i,o){e.push(i?o.replace(gj,"$1"):r||n)}),e}),yj=vj;function wj(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Dy=wj,Eb=fu,bj=Dy,xj=Qt,_j=Wa,Tb=Eb?Eb.prototype:void 0,Ab=Tb?Tb.toString:void 0;function JC(t){if(typeof t=="string")return t;if(xj(t))return bj(t,JC)+"";if(_j(t))return Ab?Ab.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Sj=JC,Ej=Sj;function Tj(t){return t==null?"":Ej(t)}var YC=Tj,Aj=Qt,Cj=Iy,kj=yj,Pj=YC;function Ij(t,e){return Aj(t)?t:Cj(t,e)?[t]:kj(Pj(t))}var XC=Ij,Nj=Wa;function Oj(t){if(typeof t=="string"||Nj(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Of=Oj,Mj=XC,Rj=Of;function $j(t,e){e=Mj(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Rj(e[n++])];return n&&n==r?t:void 0}var jy=$j,Dj=jy;function jj(t,e,n){var r=t==null?void 0:Dj(t,e);return r===void 0?n:r}var QC=jj;const hn=Oe(QC);function Lj(t){return t==null}var Uj=Lj;const ve=Oe(Uj);var Bj=Dr,Fj=Qt,Vj=jr,zj="[object String]";function qj(t){return typeof t=="string"||!Fj(t)&&Vj(t)&&Bj(t)==zj}var Hj=qj;const io=Oe(Hj);var ZC={exports:{}},Me={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly=Symbol.for("react.element"),Uy=Symbol.for("react.portal"),Mf=Symbol.for("react.fragment"),Rf=Symbol.for("react.strict_mode"),$f=Symbol.for("react.profiler"),Df=Symbol.for("react.provider"),jf=Symbol.for("react.context"),Gj=Symbol.for("react.server_context"),Lf=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),Bf=Symbol.for("react.suspense_list"),Ff=Symbol.for("react.memo"),Vf=Symbol.for("react.lazy"),Wj=Symbol.for("react.offscreen"),ek;ek=Symbol.for("react.module.reference");function Rn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ly:switch(t=t.type,t){case Mf:case $f:case Rf:case Uf:case Bf:return t;default:switch(t=t&&t.$$typeof,t){case Gj:case jf:case Lf:case Vf:case Ff:case Df:return t;default:return e}}case Uy:return e}}}Me.ContextConsumer=jf;Me.ContextProvider=Df;Me.Element=Ly;Me.ForwardRef=Lf;Me.Fragment=Mf;Me.Lazy=Vf;Me.Memo=Ff;Me.Portal=Uy;Me.Profiler=$f;Me.StrictMode=Rf;Me.Suspense=Uf;Me.SuspenseList=Bf;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(t){return Rn(t)===jf};Me.isContextProvider=function(t){return Rn(t)===Df};Me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ly};Me.isForwardRef=function(t){return Rn(t)===Lf};Me.isFragment=function(t){return Rn(t)===Mf};Me.isLazy=function(t){return Rn(t)===Vf};Me.isMemo=function(t){return Rn(t)===Ff};Me.isPortal=function(t){return Rn(t)===Uy};Me.isProfiler=function(t){return Rn(t)===$f};Me.isStrictMode=function(t){return Rn(t)===Rf};Me.isSuspense=function(t){return Rn(t)===Uf};Me.isSuspenseList=function(t){return Rn(t)===Bf};Me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Mf||t===$f||t===Rf||t===Uf||t===Bf||t===Wj||typeof t=="object"&&t!==null&&(t.$$typeof===Vf||t.$$typeof===Ff||t.$$typeof===Df||t.$$typeof===jf||t.$$typeof===Lf||t.$$typeof===ek||t.getModuleId!==void 0)};Me.typeOf=Rn;ZC.exports=Me;var Kj=ZC.exports,Jj=Dr,Yj=jr,Xj="[object Number]";function Qj(t){return typeof t=="number"||Yj(t)&&Jj(t)==Xj}var tk=Qj;const Zj=Oe(tk);var eL=tk;function tL(t){return eL(t)&&t!=+t}var nL=tL;const hu=Oe(nL);var Bt=function(e){return e===0?0:e>0?1:-1},qi=function(e){return io(e)&&e.indexOf("%")===e.length-1},X=function(e){return Zj(e)&&!hu(e)},rL=function(e){return ve(e)},pt=function(e){return X(e)||io(e)},iL=0,Qa=function(e){var n=++iL;return"".concat(e||"").concat(n)},Ft=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!X(e)&&!io(e))return r;var o;if(qi(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return hu(o)&&(o=r),i&&o>n&&(o=n),o},Qr=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},oL=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},sn=function(e,n){return X(e)&&X(n)?function(r){return e+r*(n-e)}:function(){return n}};function ed(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):hn(r,e))===n})}var aL=function(e,n){return X(e)&&X(n)?e-n:io(e)&&io(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ia(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}var sL=["viewBox","children"],lL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Cb=["points","pathLength"],sp={svg:sL,polygon:Cb,polyline:Cb},By=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],td=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(O.isValidElement(e)&&(r=e.props),!Ka(r))return null;var i={};return Object.keys(r).forEach(function(o){By.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},uL=function(e,n,r){return function(i){return e(n,r,i),null}},oo=function(e,n,r){if(!Ka(e)||Um(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];By.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=uL(a,n,r))}),i},cL=["children"],dL=["children"];function kb(t,e){if(t==null)return{};var n=fL(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}var Pb={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Er=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Ib=null,lp=null,Fy=function t(e){if(e===Ib&&Array.isArray(lp))return lp;var n=[];return O.Children.forEach(e,function(r){ve(r)||(Kj.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),lp=n,Ib=e,n};function pn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Er(i)}):r=[Er(e)],Fy(t).forEach(function(i){var o=hn(i,"type.displayName")||hn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function an(t,e){var n=pn(t,e);return n&&n[0]}var Nb=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!X(r)||r<=0||!X(i)||i<=0)},hL=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pL=function(e){return e&&e.type&&io(e.type)&&hL.indexOf(e.type)>=0},mL=function(e){return e&&Bm(e)==="object"&&"clipDot"in e},gL=function(e,n,r,i){var o,a=(o=sp==null?void 0:sp[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ge(e)&&(i&&a.includes(n)||lL.includes(n))||r&&By.includes(n)},fe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(O.isValidElement(e)&&(i=e.props),!Ka(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;gL((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Fm=function t(e,n){if(e===n)return!0;var r=O.Children.count(e);if(r!==O.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Ob(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!Ob(o,a))return!1}return!0},Ob=function(e,n){if(ve(e)&&ve(n))return!0;if(!ve(e)&&!ve(n)){var r=e.props||{},i=r.children,o=kb(r,cL),a=n.props||{},s=a.children,l=kb(a,dL);return i&&s?ia(o,l)&&Fm(i,s):!i&&!s?ia(o,l):!1}return!1},Mb=function(e,n){var r=[],i={};return Fy(e).forEach(function(o,a){if(pL(o))r.push(o);else if(o){var s=Er(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(o,s,a);r.push(d),i[s]=!0}}}),r},vL=function(e){var n=e&&e.type;return n&&Pb[n]?Pb[n]:null},yL=function(e,n){return Fy(n).indexOf(e)},wL=["children","width","height","viewBox","className","style","title","desc"];function Vm(){return Vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vm.apply(this,arguments)}function bL(t,e){if(t==null)return{};var n=xL(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zm(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=bL(t,wL),c=i||{width:n,height:r,x:0,y:0},d=ye("recharts-surface",o);return I.createElement("svg",Vm({},fe(u,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),e)}var _L=["children","className"];function qm(){return qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qm.apply(this,arguments)}function SL(t,e){if(t==null)return{};var n=EL(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ce=I.forwardRef(function(t,e){var n=t.children,r=t.className,i=SL(t,_L),o=ye("recharts-layer",r);return I.createElement("g",qm({className:o},fe(i,!0),{ref:e}),n)}),Jn=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function TL(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var AL=TL,CL=AL;function kL(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:CL(t,e,n)}var PL=kL,IL="\\ud800-\\udfff",NL="\\u0300-\\u036f",OL="\\ufe20-\\ufe2f",ML="\\u20d0-\\u20ff",RL=NL+OL+ML,$L="\\ufe0e\\ufe0f",DL="\\u200d",jL=RegExp("["+DL+IL+RL+$L+"]");function LL(t){return jL.test(t)}var nk=LL;function UL(t){return t.split("")}var BL=UL,rk="\\ud800-\\udfff",FL="\\u0300-\\u036f",VL="\\ufe20-\\ufe2f",zL="\\u20d0-\\u20ff",qL=FL+VL+zL,HL="\\ufe0e\\ufe0f",GL="["+rk+"]",Hm="["+qL+"]",Gm="\\ud83c[\\udffb-\\udfff]",WL="(?:"+Hm+"|"+Gm+")",ik="[^"+rk+"]",ok="(?:\\ud83c[\\udde6-\\uddff]){2}",ak="[\\ud800-\\udbff][\\udc00-\\udfff]",KL="\\u200d",sk=WL+"?",lk="["+HL+"]?",JL="(?:"+KL+"(?:"+[ik,ok,ak].join("|")+")"+lk+sk+")*",YL=lk+sk+JL,XL="(?:"+[ik+Hm+"?",Hm,ok,ak,GL].join("|")+")",QL=RegExp(Gm+"(?="+Gm+")|"+XL+YL,"g");function ZL(t){return t.match(QL)||[]}var e3=ZL,t3=BL,n3=nk,r3=e3;function i3(t){return n3(t)?r3(t):t3(t)}var o3=i3,a3=PL,s3=nk,l3=o3,u3=YC;function c3(t){return function(e){e=u3(e);var n=s3(e)?l3(e):void 0,r=n?n[0]:e.charAt(0),i=n?a3(n,1).join(""):e.slice(1);return r[t]()+i}}var d3=c3,f3=d3,h3=f3("toUpperCase"),p3=h3;const zf=Oe(p3);function Le(t){return function(){return t}}const uk=Math.cos,nd=Math.sin,Xn=Math.sqrt,rd=Math.PI,qf=2*rd,Wm=Math.PI,Km=2*Wm,Mi=1e-6,m3=Km-Mi;function ck(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function g3(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ck;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class v3{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ck:g3(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Mi)if(!(Math.abs(d*l-u*c)>Mi)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,v=i-s,y=l*l+u*u,b=g*g+v*v,w=Math.sqrt(y),x=Math.sqrt(h),_=o*Math.tan((Wm-Math.acos((y+h-b)/(2*w*x)))/2),T=_/x,S=_/w;Math.abs(T-1)>Mi&&this._append`L${e+T*c},${n+T*d}`,this._append`A${o},${o},0,0,${+(d*g>c*v)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Mi||Math.abs(this._y1-c)>Mi)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Km+Km),h>m3?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Mi&&this._append`A${r},${r},0,${+(h>=Wm)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Vy(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new v3(e)}function zy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function dk(t){this._context=t}dk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Hf(t){return new dk(t)}function fk(t){return t[0]}function hk(t){return t[1]}function pk(t,e){var n=Le(!0),r=null,i=Hf,o=null,a=Vy(s);t=typeof t=="function"?t:t===void 0?fk:Le(t),e=typeof e=="function"?e:e===void 0?hk:Le(e);function s(l){var u,c=(l=zy(l)).length,d,h=!1,g;for(r==null&&(o=i(g=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Le(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Le(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Le(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function qu(t,e,n){var r=null,i=Le(!0),o=null,a=Hf,s=null,l=Vy(u);t=typeof t=="function"?t:t===void 0?fk:Le(+t),e=typeof e=="function"?e:Le(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?hk:Le(+n);function u(d){var h,g,v,y=(d=zy(d)).length,b,w=!1,x,_=new Array(y),T=new Array(y);for(o==null&&(s=a(x=l())),h=0;h<=y;++h){if(!(h<y&&i(b=d[h],h,d))===w)if(w=!w)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=g;--v)s.point(_[v],T[v]);s.lineEnd(),s.areaEnd()}w&&(_[h]=+t(b,h,d),T[h]=+e(b,h,d),s.point(r?+r(b,h,d):_[h],n?+n(b,h,d):T[h]))}if(x)return s=null,x+""||null}function c(){return pk().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Le(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Le(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Le(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Le(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Le(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Le(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Le(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class mk{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function y3(t){return new mk(t,!0)}function w3(t){return new mk(t,!1)}const qy={draw(t,e){const n=Xn(e/rd);t.moveTo(n,0),t.arc(0,0,n,0,qf)}},b3={draw(t,e){const n=Xn(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},gk=Xn(1/3),x3=gk*2,_3={draw(t,e){const n=Xn(e/x3),r=n*gk;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},S3={draw(t,e){const n=Xn(e),r=-n/2;t.rect(r,r,n,n)}},E3=.8908130915292852,vk=nd(rd/10)/nd(7*rd/10),T3=nd(qf/10)*vk,A3=-uk(qf/10)*vk,C3={draw(t,e){const n=Xn(e*E3),r=T3*n,i=A3*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=qf*o/5,s=uk(a),l=nd(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},up=Xn(3),k3={draw(t,e){const n=-Xn(e/(up*3));t.moveTo(0,n*2),t.lineTo(-up*n,-n),t.lineTo(up*n,-n),t.closePath()}},wn=-.5,bn=Xn(3)/2,Jm=1/Xn(12),P3=(Jm/2+1)*3,I3={draw(t,e){const n=Xn(e/P3),r=n/2,i=n*Jm,o=r,a=n*Jm+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(wn*r-bn*i,bn*r+wn*i),t.lineTo(wn*o-bn*a,bn*o+wn*a),t.lineTo(wn*s-bn*l,bn*s+wn*l),t.lineTo(wn*r+bn*i,wn*i-bn*r),t.lineTo(wn*o+bn*a,wn*a-bn*o),t.lineTo(wn*s+bn*l,wn*l-bn*s),t.closePath()}};function N3(t,e){let n=null,r=Vy(i);t=typeof t=="function"?t:Le(t||qy),e=typeof e=="function"?e:Le(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Le(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Le(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function id(){}function od(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function yk(t){this._context=t}yk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:od(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:od(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function O3(t){return new yk(t)}function wk(t){this._context=t}wk.prototype={areaStart:id,areaEnd:id,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:od(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function M3(t){return new wk(t)}function bk(t){this._context=t}bk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:od(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function R3(t){return new bk(t)}function xk(t){this._context=t}xk.prototype={areaStart:id,areaEnd:id,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function $3(t){return new xk(t)}function Rb(t){return t<0?-1:1}function $b(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Rb(o)+Rb(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Db(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function cp(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function ad(t){this._context=t}ad.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cp(this,this._t0,Db(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,cp(this,Db(this,n=$b(this,t,e)),n);break;default:cp(this,this._t0,n=$b(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function _k(t){this._context=new Sk(t)}(_k.prototype=Object.create(ad.prototype)).point=function(t,e){ad.prototype.point.call(this,e,t)};function Sk(t){this._context=t}Sk.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function D3(t){return new ad(t)}function j3(t){return new _k(t)}function Ek(t){this._context=t}Ek.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=jb(t),i=jb(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function jb(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function L3(t){return new Ek(t)}function Gf(t,e){this._context=t,this._t=e}Gf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function U3(t){return new Gf(t,.5)}function B3(t){return new Gf(t,0)}function F3(t){return new Gf(t,1)}function ya(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ym(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function V3(t,e){return t[e]}function z3(t){const e=[];return e.key=t,e}function q3(){var t=Le([]),e=Ym,n=ya,r=V3;function i(o){var a=Array.from(t.apply(this,arguments),z3),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=zy(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Le(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Le(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Ym:typeof o=="function"?o:Le(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ya,i):n},i}function H3(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}ya(t,e)}}function G3(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}ya(t,e)}}function W3(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],d=c[r][1]||0,h=c[r-1][1]||0,g=(d-h)/2,v=0;v<s;++v){var y=t[e[v]],b=y[r][1]||0,w=y[r-1][1]||0;g+=b-w}l+=d,u+=g*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,ya(t,e)}}function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}var K3=["type","size","sizeType"];function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xm.apply(this,arguments)}function Lb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ub(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lb(Object(n),!0).forEach(function(r){J3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J3(t,e,n){return e=Y3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y3(t){var e=X3(t,"string");return Sl(e)=="symbol"?e:e+""}function X3(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q3(t,e){if(t==null)return{};var n=Z3(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Z3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Tk={symbolCircle:qy,symbolCross:b3,symbolDiamond:_3,symbolSquare:S3,symbolStar:C3,symbolTriangle:k3,symbolWye:I3},eU=Math.PI/180,tU=function(e){var n="symbol".concat(zf(e));return Tk[n]||qy},nU=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*eU;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rU=function(e,n){Tk["symbol".concat(zf(e))]=n},Hy=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=Q3(e,K3),u=Ub(Ub({},l),{},{type:r,size:o,sizeType:s}),c=function(){var b=tU(r),w=N3().type(b).size(nU(o,s,r));return w()},d=u.className,h=u.cx,g=u.cy,v=fe(u,!0);return h===+h&&g===+g&&o===+o?I.createElement("path",Xm({},v,{className:ye("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(g,")"),d:c()})):null};Hy.registerSymbol=rU;function wa(t){"@babel/helpers - typeof";return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(t)}function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qm.apply(this,arguments)}function Bb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bb(Object(n),!0).forEach(function(r){El(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ck(r.key),r)}}function sU(t,e,n){return e&&aU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lU(t,e,n){return e=sd(e),uU(t,Ak()?Reflect.construct(e,n||[],sd(t).constructor):e.apply(t,n))}function uU(t,e){if(e&&(wa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cU(t)}function cU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ak(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ak=function(){return!!t})()}function sd(t){return sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sd(t)}function dU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zm(t,e)}function Zm(t,e){return Zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zm(t,e)}function El(t,e,n){return e=Ck(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ck(t){var e=fU(t,"string");return wa(e)=="symbol"?e:e+""}function fU(t,e){if(wa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xn=32,Gy=function(t){function e(){return oU(this,e),lU(this,e,arguments)}return dU(e,t),sU(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=xn/2,a=xn/6,s=xn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:xn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(xn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(xn/8,"h").concat(xn,"v").concat(xn*3/4,"h").concat(-xn,"z"),className:"recharts-legend-icon"});if(I.isValidElement(r.legendIcon)){var u=iU({},r);return delete u.legendIcon,I.cloneElement(r.legendIcon,u)}return I.createElement(Hy,{fill:l,cx:o,cy:o,size:xn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:xn,height:xn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,v){var y=g.formatter||l,b=ye(El(El({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=ge(g.value)?null:g.value;Jn(!ge(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=g.inactive?u:g.color;return I.createElement("li",Qm({className:b,style:d,key:"legend-item-".concat(v)},oo(r.props,g,v)),I.createElement(zm,{width:a,height:a,viewBox:c,style:h},r.renderIcon(g)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},y?y(w,g,v):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);El(Gy,"displayName","Legend");El(Gy,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hU=If;function pU(){this.__data__=new hU,this.size=0}var mU=pU;function gU(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var vU=gU;function yU(t){return this.__data__.get(t)}var wU=yU;function bU(t){return this.__data__.has(t)}var xU=bU,_U=If,SU=My,EU=Ry,TU=200;function AU(t,e){var n=this.__data__;if(n instanceof _U){var r=n.__data__;if(!SU||r.length<TU-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new EU(r)}return n.set(t,e),this.size=n.size,this}var CU=AU,kU=If,PU=mU,IU=vU,NU=wU,OU=xU,MU=CU;function Za(t){var e=this.__data__=new kU(t);this.size=e.size}Za.prototype.clear=PU;Za.prototype.delete=IU;Za.prototype.get=NU;Za.prototype.has=OU;Za.prototype.set=MU;var kk=Za,RU="__lodash_hash_undefined__";function $U(t){return this.__data__.set(t,RU),this}var DU=$U;function jU(t){return this.__data__.has(t)}var LU=jU,UU=Ry,BU=DU,FU=LU;function ld(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new UU;++e<n;)this.add(t[e])}ld.prototype.add=ld.prototype.push=BU;ld.prototype.has=FU;var Pk=ld;function VU(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ik=VU;function zU(t,e){return t.has(e)}var Nk=zU,qU=Pk,HU=Ik,GU=Nk,WU=1,KU=2;function JU(t,e,n,r,i,o){var a=n&WU,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,g=n&KU?new qU:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var v=t[d],y=e[d];if(r)var b=a?r(y,v,d,e,t,o):r(v,y,d,t,e,o);if(b!==void 0){if(b)continue;h=!1;break}if(g){if(!HU(e,function(w,x){if(!GU(g,x)&&(v===w||i(v,w,n,r,o)))return g.push(x)})){h=!1;break}}else if(!(v===y||i(v,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var Ok=JU,YU=ur,XU=YU.Uint8Array,QU=XU;function ZU(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var e4=ZU;function t4(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Wy=t4,Fb=fu,Vb=QU,n4=Oy,r4=Ok,i4=e4,o4=Wy,a4=1,s4=2,l4="[object Boolean]",u4="[object Date]",c4="[object Error]",d4="[object Map]",f4="[object Number]",h4="[object RegExp]",p4="[object Set]",m4="[object String]",g4="[object Symbol]",v4="[object ArrayBuffer]",y4="[object DataView]",zb=Fb?Fb.prototype:void 0,dp=zb?zb.valueOf:void 0;function w4(t,e,n,r,i,o,a){switch(n){case y4:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case v4:return!(t.byteLength!=e.byteLength||!o(new Vb(t),new Vb(e)));case l4:case u4:case f4:return n4(+t,+e);case c4:return t.name==e.name&&t.message==e.message;case h4:case m4:return t==e+"";case d4:var s=i4;case p4:var l=r&a4;if(s||(s=o4),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=s4,a.set(t,e);var c=r4(s(t),s(e),r,i,o,a);return a.delete(t),c;case g4:if(dp)return dp.call(t)==dp.call(e)}return!1}var b4=w4;function x4(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Mk=x4,_4=Mk,S4=Qt;function E4(t,e,n){var r=e(t);return S4(t)?r:_4(r,n(t))}var T4=E4;function A4(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var C4=A4;function k4(){return[]}var P4=k4,I4=C4,N4=P4,O4=Object.prototype,M4=O4.propertyIsEnumerable,qb=Object.getOwnPropertySymbols,R4=qb?function(t){return t==null?[]:(t=Object(t),I4(qb(t),function(e){return M4.call(t,e)}))}:N4,$4=R4;function D4(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var j4=D4,L4=Dr,U4=jr,B4="[object Arguments]";function F4(t){return U4(t)&&L4(t)==B4}var V4=F4,Hb=V4,z4=jr,Rk=Object.prototype,q4=Rk.hasOwnProperty,H4=Rk.propertyIsEnumerable,G4=Hb(function(){return arguments}())?Hb:function(t){return z4(t)&&q4.call(t,"callee")&&!H4.call(t,"callee")},Ky=G4,ud={exports:{}};function W4(){return!1}var K4=W4;ud.exports;(function(t,e){var n=ur,r=K4,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(ud,ud.exports);var $k=ud.exports,J4=9007199254740991,Y4=/^(?:0|[1-9]\d*)$/;function X4(t,e){var n=typeof t;return e=e??J4,!!e&&(n=="number"||n!="symbol"&&Y4.test(t))&&t>-1&&t%1==0&&t<e}var Jy=X4,Q4=9007199254740991;function Z4(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Q4}var Yy=Z4,e6=Dr,t6=Yy,n6=jr,r6="[object Arguments]",i6="[object Array]",o6="[object Boolean]",a6="[object Date]",s6="[object Error]",l6="[object Function]",u6="[object Map]",c6="[object Number]",d6="[object Object]",f6="[object RegExp]",h6="[object Set]",p6="[object String]",m6="[object WeakMap]",g6="[object ArrayBuffer]",v6="[object DataView]",y6="[object Float32Array]",w6="[object Float64Array]",b6="[object Int8Array]",x6="[object Int16Array]",_6="[object Int32Array]",S6="[object Uint8Array]",E6="[object Uint8ClampedArray]",T6="[object Uint16Array]",A6="[object Uint32Array]",ze={};ze[y6]=ze[w6]=ze[b6]=ze[x6]=ze[_6]=ze[S6]=ze[E6]=ze[T6]=ze[A6]=!0;ze[r6]=ze[i6]=ze[g6]=ze[o6]=ze[v6]=ze[a6]=ze[s6]=ze[l6]=ze[u6]=ze[c6]=ze[d6]=ze[f6]=ze[h6]=ze[p6]=ze[m6]=!1;function C6(t){return n6(t)&&t6(t.length)&&!!ze[e6(t)]}var k6=C6;function P6(t){return function(e){return t(e)}}var Dk=P6,cd={exports:{}};cd.exports;(function(t,e){var n=qC,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(cd,cd.exports);var I6=cd.exports,N6=k6,O6=Dk,Gb=I6,Wb=Gb&&Gb.isTypedArray,M6=Wb?O6(Wb):N6,jk=M6,R6=j4,$6=Ky,D6=Qt,j6=$k,L6=Jy,U6=jk,B6=Object.prototype,F6=B6.hasOwnProperty;function V6(t,e){var n=D6(t),r=!n&&$6(t),i=!n&&!r&&j6(t),o=!n&&!r&&!i&&U6(t),a=n||r||i||o,s=a?R6(t.length,String):[],l=s.length;for(var u in t)(e||F6.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||L6(u,l)))&&s.push(u);return s}var z6=V6,q6=Object.prototype;function H6(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||q6;return t===n}var G6=H6;function W6(t,e){return function(n){return t(e(n))}}var Lk=W6,K6=Lk,J6=K6(Object.keys,Object),Y6=J6,X6=G6,Q6=Y6,Z6=Object.prototype,eB=Z6.hasOwnProperty;function tB(t){if(!X6(t))return Q6(t);var e=[];for(var n in Object(t))eB.call(t,n)&&n!="constructor"&&e.push(n);return e}var nB=tB,rB=Ny,iB=Yy;function oB(t){return t!=null&&iB(t.length)&&!rB(t)}var pu=oB,aB=z6,sB=nB,lB=pu;function uB(t){return lB(t)?aB(t):sB(t)}var Wf=uB,cB=T4,dB=$4,fB=Wf;function hB(t){return cB(t,fB,dB)}var pB=hB,Kb=pB,mB=1,gB=Object.prototype,vB=gB.hasOwnProperty;function yB(t,e,n,r,i,o){var a=n&mB,s=Kb(t),l=s.length,u=Kb(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in e:vB.call(e,h)))return!1}var g=o.get(t),v=o.get(e);if(g&&v)return g==e&&v==t;var y=!0;o.set(t,e),o.set(e,t);for(var b=a;++d<l;){h=s[d];var w=t[h],x=e[h];if(r)var _=a?r(x,w,h,e,t,o):r(w,x,h,t,e,o);if(!(_===void 0?w===x||i(w,x,n,r,o):_)){y=!1;break}b||(b=h=="constructor")}if(y&&!b){var T=t.constructor,S=e.constructor;T!=S&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof S=="function"&&S instanceof S)&&(y=!1)}return o.delete(t),o.delete(e),y}var wB=yB,bB=po,xB=ur,_B=bB(xB,"DataView"),SB=_B,EB=po,TB=ur,AB=EB(TB,"Promise"),CB=AB,kB=po,PB=ur,IB=kB(PB,"Set"),Uk=IB,NB=po,OB=ur,MB=NB(OB,"WeakMap"),RB=MB,eg=SB,tg=My,ng=CB,rg=Uk,ig=RB,Bk=Dr,es=GC,Jb="[object Map]",$B="[object Object]",Yb="[object Promise]",Xb="[object Set]",Qb="[object WeakMap]",Zb="[object DataView]",DB=es(eg),jB=es(tg),LB=es(ng),UB=es(rg),BB=es(ig),Ri=Bk;(eg&&Ri(new eg(new ArrayBuffer(1)))!=Zb||tg&&Ri(new tg)!=Jb||ng&&Ri(ng.resolve())!=Yb||rg&&Ri(new rg)!=Xb||ig&&Ri(new ig)!=Qb)&&(Ri=function(t){var e=Bk(t),n=e==$B?t.constructor:void 0,r=n?es(n):"";if(r)switch(r){case DB:return Zb;case jB:return Jb;case LB:return Yb;case UB:return Xb;case BB:return Qb}return e});var FB=Ri,fp=kk,VB=Ok,zB=b4,qB=wB,ex=FB,tx=Qt,nx=$k,HB=jk,GB=1,rx="[object Arguments]",ix="[object Array]",Hu="[object Object]",WB=Object.prototype,ox=WB.hasOwnProperty;function KB(t,e,n,r,i,o){var a=tx(t),s=tx(e),l=a?ix:ex(t),u=s?ix:ex(e);l=l==rx?Hu:l,u=u==rx?Hu:u;var c=l==Hu,d=u==Hu,h=l==u;if(h&&nx(t)){if(!nx(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new fp),a||HB(t)?VB(t,e,n,r,i,o):zB(t,e,l,n,r,i,o);if(!(n&GB)){var g=c&&ox.call(t,"__wrapped__"),v=d&&ox.call(e,"__wrapped__");if(g||v){var y=g?t.value():t,b=v?e.value():e;return o||(o=new fp),i(y,b,n,r,o)}}return h?(o||(o=new fp),qB(t,e,n,r,i,o)):!1}var JB=KB,YB=JB,ax=jr;function Fk(t,e,n,r,i){return t===e?!0:t==null||e==null||!ax(t)&&!ax(e)?t!==t&&e!==e:YB(t,e,n,r,Fk,i)}var Xy=Fk,XB=kk,QB=Xy,ZB=1,eF=2;function tF(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new XB;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?QB(c,u,ZB|eF,r,d):h))return!1}}return!0}var nF=tF,rF=wi;function iF(t){return t===t&&!rF(t)}var Vk=iF,oF=Vk,aF=Wf;function sF(t){for(var e=aF(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,oF(i)]}return e}var lF=sF;function uF(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var zk=uF,cF=nF,dF=lF,fF=zk;function hF(t){var e=dF(t);return e.length==1&&e[0][2]?fF(e[0][0],e[0][1]):function(n){return n===t||cF(n,t,e)}}var pF=hF;function mF(t,e){return t!=null&&e in Object(t)}var gF=mF,vF=XC,yF=Ky,wF=Qt,bF=Jy,xF=Yy,_F=Of;function SF(t,e,n){e=vF(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=_F(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&xF(i)&&bF(a,i)&&(wF(t)||yF(t)))}var EF=SF,TF=gF,AF=EF;function CF(t,e){return t!=null&&AF(t,e,TF)}var kF=CF,PF=Xy,IF=QC,NF=kF,OF=Iy,MF=Vk,RF=zk,$F=Of,DF=1,jF=2;function LF(t,e){return OF(t)&&MF(e)?RF($F(t),e):function(n){var r=IF(n,t);return r===void 0&&r===e?NF(n,t):PF(e,r,DF|jF)}}var UF=LF;function BF(t){return t}var ts=BF;function FF(t){return function(e){return e==null?void 0:e[t]}}var VF=FF,zF=jy;function qF(t){return function(e){return zF(e,t)}}var HF=qF,GF=VF,WF=HF,KF=Iy,JF=Of;function YF(t){return KF(t)?GF(JF(t)):WF(t)}var XF=YF,QF=pF,ZF=UF,e8=ts,t8=Qt,n8=XF;function r8(t){return typeof t=="function"?t:t==null?e8:typeof t=="object"?t8(t)?ZF(t[0],t[1]):QF(t):n8(t)}var cr=r8;function i8(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var qk=i8;function o8(t){return t!==t}var a8=o8;function s8(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var l8=s8,u8=qk,c8=a8,d8=l8;function f8(t,e,n){return e===e?d8(t,e,n):u8(t,c8,n)}var h8=f8,p8=h8;function m8(t,e){var n=t==null?0:t.length;return!!n&&p8(t,e,0)>-1}var g8=m8;function v8(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var y8=v8;function w8(){}var b8=w8,hp=Uk,x8=b8,_8=Wy,S8=1/0,E8=hp&&1/_8(new hp([,-0]))[1]==S8?function(t){return new hp(t)}:x8,T8=E8,A8=Pk,C8=g8,k8=y8,P8=Nk,I8=T8,N8=Wy,O8=200;function M8(t,e,n){var r=-1,i=C8,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=k8;else if(o>=O8){var u=e?null:I8(t);if(u)return N8(u);a=!1,i=P8,l=new A8}else l=e?[]:s;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var R8=M8,$8=cr,D8=R8;function j8(t,e){return t&&t.length?D8(t,$8(e)):[]}var L8=j8;const sx=Oe(L8);function Hk(t,e,n){return e===!0?sx(t,n):ge(e)?sx(t,e):t}function ba(t){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(t)}var U8=["ref"];function lx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lx(Object(n),!0).forEach(function(r){Kf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ux(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wk(r.key),r)}}function F8(t,e,n){return e&&ux(t.prototype,e),n&&ux(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function V8(t,e,n){return e=dd(e),z8(t,Gk()?Reflect.construct(e,n||[],dd(t).constructor):e.apply(t,n))}function z8(t,e){if(e&&(ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q8(t)}function q8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gk=function(){return!!t})()}function dd(t){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dd(t)}function H8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&og(t,e)}function og(t,e){return og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},og(t,e)}function Kf(t,e,n){return e=Wk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wk(t){var e=G8(t,"string");return ba(e)=="symbol"?e:e+""}function G8(t,e){if(ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function W8(t,e){if(t==null)return{};var n=K8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function K8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function J8(t){return t.value}function Y8(t,e){if(I.isValidElement(t))return I.cloneElement(t,e);if(typeof t=="function")return I.createElement(t,e);e.ref;var n=W8(e,U8);return I.createElement(Gy,n)}var cx=1,fi=function(t){function e(){var n;B8(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=V8(this,e,[].concat(i)),Kf(n,"lastBoundingBox",{width:-1,height:-1}),n}return H8(e,t),F8(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>cx||Math.abs(i.height-this.lastBoundingBox.height)>cx)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();d={left:((u||0)-g.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return fr(fr({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=fr(fr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(g){r.wrapperNode=g}},Y8(o,fr(fr({},this.props),{},{payload:Hk(c,u,J8)})))}}],[{key:"getWithHeight",value:function(r,i){var o=fr(fr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&X(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(O.PureComponent);Kf(fi,"displayName","Legend");Kf(fi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var dx=fu,X8=Ky,Q8=Qt,fx=dx?dx.isConcatSpreadable:void 0;function Z8(t){return Q8(t)||X8(t)||!!(fx&&t&&t[fx])}var e7=Z8,t7=Mk,n7=e7;function Kk(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=n7),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Kk(s,e-1,n,r,i):t7(i,s):r||(i[i.length]=s)}return i}var Jk=Kk;function r7(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var i7=r7,o7=i7,a7=o7(),s7=a7,l7=s7,u7=Wf;function c7(t,e){return t&&l7(t,e,u7)}var Yk=c7,d7=pu;function f7(t,e){return function(n,r){if(n==null)return n;if(!d7(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var h7=f7,p7=Yk,m7=h7,g7=m7(p7),Qy=g7,v7=Qy,y7=pu;function w7(t,e){var n=-1,r=y7(t)?Array(t.length):[];return v7(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var Xk=w7;function b7(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var x7=b7,hx=Wa;function _7(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=hx(t),a=e!==void 0,s=e===null,l=e===e,u=hx(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var S7=_7,E7=S7;function T7(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=E7(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var A7=T7,pp=Dy,C7=jy,k7=cr,P7=Xk,I7=x7,N7=Dk,O7=A7,M7=ts,R7=Qt;function $7(t,e,n){e.length?e=pp(e,function(o){return R7(o)?function(a){return C7(a,o.length===1?o[0]:o)}:o}):e=[M7];var r=-1;e=pp(e,N7(k7));var i=P7(t,function(o,a,s){var l=pp(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return I7(i,function(o,a){return O7(o,a,n)})}var D7=$7;function j7(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var L7=j7,U7=L7,px=Math.max;function B7(t,e,n){return e=px(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=px(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),U7(t,this,s)}}var F7=B7;function V7(t){return function(){return t}}var z7=V7,q7=po,H7=function(){try{var t=q7(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Qk=H7,G7=z7,mx=Qk,W7=ts,K7=mx?function(t,e){return mx(t,"toString",{configurable:!0,enumerable:!1,value:G7(e),writable:!0})}:W7,J7=K7,Y7=800,X7=16,Q7=Date.now;function Z7(t){var e=0,n=0;return function(){var r=Q7(),i=X7-(r-n);if(n=r,i>0){if(++e>=Y7)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var eV=Z7,tV=J7,nV=eV,rV=nV(tV),iV=rV,oV=ts,aV=F7,sV=iV;function lV(t,e){return sV(aV(t,e,oV),t+"")}var uV=lV,cV=Oy,dV=pu,fV=Jy,hV=wi;function pV(t,e,n){if(!hV(n))return!1;var r=typeof e;return(r=="number"?dV(n)&&fV(e,n.length):r=="string"&&e in n)?cV(n[e],t):!1}var Jf=pV,mV=Jk,gV=D7,vV=uV,gx=Jf,yV=vV(function(t,e){if(t==null)return[];var n=e.length;return n>1&&gx(t,e[0],e[1])?e=[]:n>2&&gx(e[0],e[1],e[2])&&(e=[e[0]]),gV(t,mV(e,1),[])}),wV=yV;const Zy=Oe(wV);function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(this,arguments)}function bV(t,e){return EV(t)||SV(t,e)||_V(t,e)||xV()}function xV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _V(t,e){if(t){if(typeof t=="string")return vx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vx(t,e)}}function vx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function EV(t){if(Array.isArray(t))return t}function yx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yx(Object(n),!0).forEach(function(r){TV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TV(t,e,n){return e=AV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AV(t){var e=CV(t,"string");return Tl(e)=="symbol"?e:e+""}function CV(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kV(t){return Array.isArray(t)&&pt(t[0])&&pt(t[1])?t.join(" ~ "):t}var PV=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,g=e.wrapperClassName,v=e.labelClassName,y=e.label,b=e.labelFormatter,w=e.accessibilityLayer,x=w===void 0?!1:w,_=function(){if(c&&c.length){var M={padding:0,margin:0},j=(h?Zy(c,h):c).map(function(L,F){if(L.type==="none")return null;var R=mp({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},s),B=L.formatter||d||kV,D=L.value,U=L.name,H=D,Y=U;if(B&&H!=null&&Y!=null){var G=B(D,U,L,F,c);if(Array.isArray(G)){var ne=bV(G,2);H=ne[0],Y=ne[1]}else H=G}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:R},pt(Y)?I.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,pt(Y)?I.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,I.createElement("span",{className:"recharts-tooltip-item-value"},H),I.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:M},j)}return null},T=mp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=mp({margin:0},u),E=!ve(y),A=E?y:"",C=ye("recharts-default-tooltip",g),k=ye("recharts-tooltip-label",v);E&&b&&c!==void 0&&c!==null&&(A=b(y,c));var N=x?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",ag({className:C,style:T},N),I.createElement("p",{className:k,style:S},I.isValidElement(A)?A:"".concat(A)),_())};function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function Gu(t,e,n){return e=IV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IV(t){var e=NV(t,"string");return Al(e)=="symbol"?e:e+""}function NV(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ts="recharts-tooltip-wrapper",OV={visibility:"hidden"};function MV(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ye(Ts,Gu(Gu(Gu(Gu({},"".concat(Ts,"-right"),X(n)&&e&&X(e.x)&&n>=e.x),"".concat(Ts,"-left"),X(n)&&e&&X(e.x)&&n<e.x),"".concat(Ts,"-bottom"),X(r)&&e&&X(e.y)&&r>=e.y),"".concat(Ts,"-top"),X(r)&&e&&X(e.y)&&r<e.y))}function wx(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&X(o[r]))return o[r];var c=n[r]-s-i,d=n[r]+i;if(e[r])return a[r]?c:d;if(a[r]){var h=c,g=l[r];return h<g?Math.max(d,l[r]):Math.max(c,l[r])}var v=d+s,y=l[r]+u;return v>y?Math.max(c,l[r]):Math.max(d,l[r])}function RV(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function $V(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return a.height>0&&a.width>0&&n?(c=wx({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=wx({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=RV({translateX:c,translateY:d,useTranslate3d:s})):u=OV,{cssProperties:u,cssClasses:MV({translateX:c,translateY:d,coordinate:n})}}function xa(t){"@babel/helpers - typeof";return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(t)}function bx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bx(Object(n),!0).forEach(function(r){lg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eP(r.key),r)}}function LV(t,e,n){return e&&jV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UV(t,e,n){return e=fd(e),BV(t,Zk()?Reflect.construct(e,n||[],fd(t).constructor):e.apply(t,n))}function BV(t,e){if(e&&(xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FV(t)}function FV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zk=function(){return!!t})()}function fd(t){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fd(t)}function VV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sg(t,e)}function sg(t,e){return sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sg(t,e)}function lg(t,e,n){return e=eP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eP(t){var e=zV(t,"string");return xa(e)=="symbol"?e:e+""}function zV(t,e){if(xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _x=1,qV=function(t){function e(){var n;DV(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=UV(this,e,[].concat(i)),lg(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),lg(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return VV(e,t),LV(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>_x||Math.abs(r.height-this.state.lastBoundingBox.height)>_x)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,g=i.offset,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,x=i.wrapperStyle,_=$V({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:g,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:w}),T=_.cssClasses,S=_.cssProperties,E=xx(xx({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return I.createElement("div",{tabIndex:-1,className:T,style:E,ref:function(C){r.wrapperNode=C}},u)}}])}(O.PureComponent),HV=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},mo={isSsr:HV()};function _a(t){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_a(t)}function Sx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ex(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sx(Object(n),!0).forEach(function(r){e0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nP(r.key),r)}}function KV(t,e,n){return e&&WV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JV(t,e,n){return e=hd(e),YV(t,tP()?Reflect.construct(e,n||[],hd(t).constructor):e.apply(t,n))}function YV(t,e){if(e&&(_a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XV(t)}function XV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tP=function(){return!!t})()}function hd(t){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hd(t)}function QV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ug(t,e)}function ug(t,e){return ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ug(t,e)}function e0(t,e,n){return e=nP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nP(t){var e=ZV(t,"string");return _a(e)=="symbol"?e:e+""}function ZV(t,e){if(_a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ez(t){return t.dataKey}function tz(t,e){return I.isValidElement(t)?I.cloneElement(t,e):typeof t=="function"?I.createElement(t,e):I.createElement(PV,e)}var _n=function(t){function e(){return GV(this,e),JV(this,e,arguments)}return QV(e,t),KV(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,g=i.offset,v=i.payload,y=i.payloadUniqBy,b=i.position,w=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,T=i.wrapperStyle,S=v??[];d&&S.length&&(S=Hk(v.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),y,ez));var E=S.length>0;return I.createElement(qV,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:E,offset:g,position:b,reverseDirection:w,useTranslate3d:x,viewBox:_,wrapperStyle:T},tz(u,Ex(Ex({},this.props),{},{payload:S})))}}])}(O.PureComponent);e0(_n,"displayName","Tooltip");e0(_n,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!mo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nz=ur,rz=function(){return nz.Date.now()},iz=rz,oz=/\s/;function az(t){for(var e=t.length;e--&&oz.test(t.charAt(e)););return e}var sz=az,lz=sz,uz=/^\s+/;function cz(t){return t&&t.slice(0,lz(t)+1).replace(uz,"")}var dz=cz,fz=dz,Tx=wi,hz=Wa,Ax=NaN,pz=/^[-+]0x[0-9a-f]+$/i,mz=/^0b[01]+$/i,gz=/^0o[0-7]+$/i,vz=parseInt;function yz(t){if(typeof t=="number")return t;if(hz(t))return Ax;if(Tx(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Tx(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=fz(t);var n=mz.test(t);return n||gz.test(t)?vz(t.slice(2),n?2:8):pz.test(t)?Ax:+t}var rP=yz,wz=wi,gp=iz,Cx=rP,bz="Expected a function",xz=Math.max,_z=Math.min;function Sz(t,e,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(bz);e=Cx(e)||0,wz(n)&&(c=!!n.leading,d="maxWait"in n,o=d?xz(Cx(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function g(E){var A=r,C=i;return r=i=void 0,u=E,a=t.apply(C,A),a}function v(E){return u=E,s=setTimeout(w,e),c?g(E):a}function y(E){var A=E-l,C=E-u,k=e-A;return d?_z(k,o-C):k}function b(E){var A=E-l,C=E-u;return l===void 0||A>=e||A<0||d&&C>=o}function w(){var E=gp();if(b(E))return x(E);s=setTimeout(w,y(E))}function x(E){return s=void 0,h&&r?g(E):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?a:x(gp())}function S(){var E=gp(),A=b(E);if(r=arguments,i=this,l=E,A){if(s===void 0)return v(l);if(d)return clearTimeout(s),s=setTimeout(w,e),g(l)}return s===void 0&&(s=setTimeout(w,e)),a}return S.cancel=_,S.flush=T,S}var Ez=Sz,Tz=Ez,Az=wi,Cz="Expected a function";function kz(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Cz);return Az(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Tz(t,e,{leading:r,maxWait:e,trailing:i})}var Pz=kz;const iP=Oe(Pz);function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function kx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kx(Object(n),!0).forEach(function(r){Iz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iz(t,e,n){return e=Nz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nz(t){var e=Oz(t,"string");return Cl(e)=="symbol"?e:e+""}function Oz(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mz(t,e){return jz(t)||Dz(t,e)||$z(t,e)||Rz()}function Rz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $z(t,e){if(t){if(typeof t=="string")return Px(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Px(t,e)}}function Px(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function jz(t){if(Array.isArray(t))return t}var t0=O.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,g=t.children,v=t.debounce,y=v===void 0?0:v,b=t.id,w=t.className,x=t.onResize,_=t.style,T=_===void 0?{}:_,S=O.useRef(null),E=O.useRef();E.current=x,O.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=O.useState({containerWidth:i.width,containerHeight:i.height}),C=Mz(A,2),k=C[0],N=C[1],P=O.useCallback(function(j,L){N(function(F){var R=Math.round(j),B=Math.round(L);return F.containerWidth===R&&F.containerHeight===B?F:{containerWidth:R,containerHeight:B}})},[]);O.useEffect(function(){var j=function(U){var H,Y=U[0].contentRect,G=Y.width,ne=Y.height;P(G,ne),(H=E.current)===null||H===void 0||H.call(E,G,ne)};y>0&&(j=iP(j,y,{trailing:!0,leading:!1}));var L=new ResizeObserver(j),F=S.current.getBoundingClientRect(),R=F.width,B=F.height;return P(R,B),L.observe(S.current),function(){L.disconnect()}},[P,y]);var M=O.useMemo(function(){var j=k.containerWidth,L=k.containerHeight;if(j<0||L<0)return null;Jn(qi(a)||qi(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Jn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=qi(a)?j:a,R=qi(l)?L:l;n&&n>0&&(F?R=F/n:R&&(F=R*n),h&&R>h&&(R=h)),Jn(F>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,R,a,l,c,d,n);var B=!Array.isArray(g)&&Er(g.type).endsWith("Chart");return I.Children.map(g,function(D){return I.isValidElement(D)?O.cloneElement(D,Wu({width:F,height:R},B?{style:Wu({height:"100%",width:"100%",maxHeight:R,maxWidth:F},D.props.style)}:{})):D})},[n,g,l,h,d,c,k,a]);return I.createElement("div",{id:b?"".concat(b):void 0,className:ye("recharts-responsive-container",w),style:Wu(Wu({},T),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:S},M)}),Yf=function(e){return null};Yf.displayName="Cell";function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function Ix(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ix(Object(n),!0).forEach(function(r){Lz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ix(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lz(t,e,n){return e=Uz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uz(t){var e=Bz(t,"string");return kl(e)=="symbol"?e:e+""}function Bz(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _o={widthCache:{},cacheCount:0},Fz=2e3,Vz={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Nx="recharts_measurement_span";function zz(t){var e=cg({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Ys=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||mo.isSsr)return{width:0,height:0};var r=zz(n),i=JSON.stringify({text:e,copyStyle:r});if(_o.widthCache[i])return _o.widthCache[i];try{var o=document.getElementById(Nx);o||(o=document.createElement("span"),o.setAttribute("id",Nx),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=cg(cg({},Vz),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return _o.widthCache[i]=l,++_o.cacheCount>Fz&&(_o.cacheCount=0,_o.widthCache={}),l}catch{return{width:0,height:0}}},qz=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function pd(t,e){return Kz(t)||Wz(t,e)||Gz(t,e)||Hz()}function Hz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gz(t,e){if(t){if(typeof t=="string")return Ox(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ox(t,e)}}function Ox(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Kz(t){if(Array.isArray(t))return t}function Jz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xz(r.key),r)}}function Yz(t,e,n){return e&&Mx(t.prototype,e),n&&Mx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xz(t){var e=Qz(t,"string");return Pl(e)=="symbol"?e:e+""}function Qz(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$x=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zz=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tq=Object.keys(oP),Go="NaN";function nq(t,e){return t*oP[e]}var Ku=function(){function t(e,n){Jz(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Zz.test(n)&&(this.num=NaN,this.unit=""),tq.includes(n)&&(this.num=nq(e,n),this.unit="px")}return Yz(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=eq.exec(n))!==null&&r!==void 0?r:[],o=pd(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function aP(t){if(t.includes(Go))return Go;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Rx.exec(e))!==null&&n!==void 0?n:[],i=pd(r,4),o=i[1],a=i[2],s=i[3],l=Ku.parse(o??""),u=Ku.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Go;e=e.replace(Rx,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=$x.exec(e))!==null&&d!==void 0?d:[],g=pd(h,4),v=g[1],y=g[2],b=g[3],w=Ku.parse(v??""),x=Ku.parse(b??""),_=y==="+"?w.add(x):w.subtract(x);if(_.isNaN())return Go;e=e.replace($x,_.toString())}return e}var Dx=/\(([^()]*)\)/;function rq(t){for(var e=t;e.includes("(");){var n=Dx.exec(e),r=pd(n,2),i=r[1];e=e.replace(Dx,aP(i))}return e}function iq(t){var e=t.replace(/\s+/g,"");return e=rq(e),e=aP(e),e}function oq(t){try{return iq(t)}catch{return Go}}function vp(t){var e=oq(t.slice(5,-1));return e===Go?"":e}var aq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],sq=["dx","dy","angle","className","breakAll"];function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dg.apply(this,arguments)}function jx(t,e){if(t==null)return{};var n=lq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lx(t,e){return fq(t)||dq(t,e)||cq(t,e)||uq()}function uq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cq(t,e){if(t){if(typeof t=="string")return Ux(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ux(t,e)}}function Ux(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function fq(t){if(Array.isArray(t))return t}var sP=/[ \f\n\r\t\v\u2028\u2029]+/,lP=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ve(n)||(r?o=n.toString().split(""):o=n.toString().split(sP));var a=o.map(function(l){return{word:l,width:Ys(l,i).width}}),s=r?0:Ys("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},hq=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=X(a),d=s,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(R,B){var D=B.word,U=B.width,H=R[R.length-1];if(H&&(i==null||o||H.width+U+r<Number(i)))H.words.push(D),H.width+=U+r;else{var Y={words:[D],width:U};R.push(Y)}return R},[])},g=h(n),v=function(F){return F.reduce(function(R,B){return R.width>B.width?R:B})};if(!c)return g;for(var y="",b=function(F){var R=d.slice(0,F),B=lP({breakAll:u,style:l,children:R+y}).wordsWithComputedWidth,D=h(B),U=D.length>a||v(D).width>Number(i);return[U,D]},w=0,x=d.length-1,_=0,T;w<=x&&_<=d.length-1;){var S=Math.floor((w+x)/2),E=S-1,A=b(E),C=Lx(A,2),k=C[0],N=C[1],P=b(S),M=Lx(P,1),j=M[0];if(!k&&!j&&(w=S+1),k&&j&&(x=S-1),!k&&j){T=N;break}_++}return T||g},Bx=function(e){var n=ve(e)?[]:e.toString().split(sP);return[{words:n}]},pq=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!mo.isSsr){var l,u,c=lP({breakAll:a,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return Bx(i);return hq({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return Bx(i)},Fx="#808080",ao=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,g=h===void 0?"start":h,v=e.verticalAnchor,y=v===void 0?"end":v,b=e.fill,w=b===void 0?Fx:b,x=jx(e,aq),_=O.useMemo(function(){return pq({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),T=x.dx,S=x.dy,E=x.angle,A=x.className,C=x.breakAll,k=jx(x,sq);if(!pt(r)||!pt(o))return null;var N=r+(X(T)?T:0),P=o+(X(S)?S:0),M;switch(y){case"start":M=vp("calc(".concat(u,")"));break;case"middle":M=vp("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:M=vp("calc(".concat(_.length-1," * -").concat(s,")"));break}var j=[];if(d){var L=_[0].width,F=x.width;j.push("scale(".concat((X(F)?F/L:1)/L,")"))}return E&&j.push("rotate(".concat(E,", ").concat(N,", ").concat(P,")")),j.length&&(k.transform=j.join(" ")),I.createElement("text",dg({},fe(k,!0),{x:N,y:P,className:ye("recharts-text",A),textAnchor:g,fill:w.includes("url")?Fx:w}),_.map(function(R,B){var D=R.words.join(C?"":" ");return I.createElement("tspan",{x:N,dy:B===0?M:s,key:"".concat(D,"-").concat(B)},D)}))};function hi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mq(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function n0(t){let e,n,r;t.length!==2?(e=hi,n=(s,l)=>hi(t(s),l),r=(s,l)=>t(s)-l):(e=t===hi||t===mq?t:gq,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function gq(){return 0}function uP(t){return t===null?NaN:+t}function*vq(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const yq=n0(hi),mu=yq.right;n0(uP).center;class Vx extends Map{constructor(e,n=xq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(zx(this,e))}has(e){return super.has(zx(this,e))}set(e,n){return super.set(wq(this,e),n)}delete(e){return super.delete(bq(this,e))}}function zx({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function wq({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function bq({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function xq(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _q(t=hi){if(t===hi)return cP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function cP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Sq=Math.sqrt(50),Eq=Math.sqrt(10),Tq=Math.sqrt(2);function md(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Sq?10:o>=Eq?5:o>=Tq?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?md(t,e,n*2):[s,l,u]}function fg(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?md(e,t,n):md(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function hg(t,e,n){return e=+e,t=+t,n=+n,md(t,e,n)[2]}function pg(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?hg(e,t,n):hg(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function qx(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Hx(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function dP(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?cP:_q(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*d/l+h)),v=Math.min(r,Math.floor(e+(l-u)*d/l+h));dP(t,e,g,v,i)}const o=t[e];let a=n,s=r;for(As(t,n,e),i(t[r],o)>0&&As(t,n,r);a<s;){for(As(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?As(t,n,s):(++s,As(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function As(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Aq(t,e,n){if(t=Float64Array.from(vq(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Hx(t);if(e>=1)return qx(t);var r,i=(r-1)*e,o=Math.floor(i),a=qx(dP(t,o).subarray(0,o+1)),s=Hx(t.subarray(o+1));return a+(s-a)*(i-o)}}function Cq(t,e,n=uP){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function kq(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function $n(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Lr(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const mg=Symbol("implicit");function r0(){var t=new Vx,e=[],n=[],r=mg;function i(o){let a=t.get(o);if(a===void 0){if(r!==mg)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Vx;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return r0(e,n).unknown(r)},$n.apply(i,arguments),i}function Il(){var t=r0().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,g=i<r,v=g?i:r,y=g?r:i;o=(y-v)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),v+=(y-v-o*(h-l))*c,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var b=kq(h).map(function(w){return v+o*w});return n(g?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Il(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},$n.apply(d(),arguments)}function fP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return fP(e())},t}function Xs(){return fP(Il.apply(null,arguments).paddingInner(1))}function i0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function hP(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function gu(){}var Nl=.7,gd=1/Nl,oa="\\s*([+-]?\\d+)\\s*",Ol="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",or="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pq=/^#([0-9a-f]{3,8})$/,Iq=new RegExp(`^rgb\\(${oa},${oa},${oa}\\)$`),Nq=new RegExp(`^rgb\\(${or},${or},${or}\\)$`),Oq=new RegExp(`^rgba\\(${oa},${oa},${oa},${Ol}\\)$`),Mq=new RegExp(`^rgba\\(${or},${or},${or},${Ol}\\)$`),Rq=new RegExp(`^hsl\\(${Ol},${or},${or}\\)$`),$q=new RegExp(`^hsla\\(${Ol},${or},${or},${Ol}\\)$`),Gx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};i0(gu,Ml,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Wx,formatHex:Wx,formatHex8:Dq,formatHsl:jq,formatRgb:Kx,toString:Kx});function Wx(){return this.rgb().formatHex()}function Dq(){return this.rgb().formatHex8()}function jq(){return pP(this).formatHsl()}function Kx(){return this.rgb().formatRgb()}function Ml(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pq.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Jx(e):n===3?new Kt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ju(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ju(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Iq.exec(t))?new Kt(e[1],e[2],e[3],1):(e=Nq.exec(t))?new Kt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Oq.exec(t))?Ju(e[1],e[2],e[3],e[4]):(e=Mq.exec(t))?Ju(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Rq.exec(t))?Qx(e[1],e[2]/100,e[3]/100,1):(e=$q.exec(t))?Qx(e[1],e[2]/100,e[3]/100,e[4]):Gx.hasOwnProperty(t)?Jx(Gx[t]):t==="transparent"?new Kt(NaN,NaN,NaN,0):null}function Jx(t){return new Kt(t>>16&255,t>>8&255,t&255,1)}function Ju(t,e,n,r){return r<=0&&(t=e=n=NaN),new Kt(t,e,n,r)}function Lq(t){return t instanceof gu||(t=Ml(t)),t?(t=t.rgb(),new Kt(t.r,t.g,t.b,t.opacity)):new Kt}function gg(t,e,n,r){return arguments.length===1?Lq(t):new Kt(t,e,n,r??1)}function Kt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}i0(Kt,gg,hP(gu,{brighter(t){return t=t==null?gd:Math.pow(gd,t),new Kt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Nl:Math.pow(Nl,t),new Kt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kt(Xi(this.r),Xi(this.g),Xi(this.b),vd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yx,formatHex:Yx,formatHex8:Uq,formatRgb:Xx,toString:Xx}));function Yx(){return`#${Hi(this.r)}${Hi(this.g)}${Hi(this.b)}`}function Uq(){return`#${Hi(this.r)}${Hi(this.g)}${Hi(this.b)}${Hi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xx(){const t=vd(this.opacity);return`${t===1?"rgb(":"rgba("}${Xi(this.r)}, ${Xi(this.g)}, ${Xi(this.b)}${t===1?")":`, ${t})`}`}function vd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Hi(t){return t=Xi(t),(t<16?"0":"")+t.toString(16)}function Qx(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Gn(t,e,n,r)}function pP(t){if(t instanceof Gn)return new Gn(t.h,t.s,t.l,t.opacity);if(t instanceof gu||(t=Ml(t)),!t)return new Gn;if(t instanceof Gn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Gn(a,s,l,t.opacity)}function Bq(t,e,n,r){return arguments.length===1?pP(t):new Gn(t,e,n,r??1)}function Gn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}i0(Gn,Bq,hP(gu,{brighter(t){return t=t==null?gd:Math.pow(gd,t),new Gn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nl:Math.pow(Nl,t),new Gn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Kt(yp(t>=240?t-240:t+120,i,r),yp(t,i,r),yp(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Gn(Zx(this.h),Yu(this.s),Yu(this.l),vd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vd(this.opacity);return`${t===1?"hsl(":"hsla("}${Zx(this.h)}, ${Yu(this.s)*100}%, ${Yu(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Zx(t){return t=(t||0)%360,t<0?t+360:t}function Yu(t){return Math.max(0,Math.min(1,t||0))}function yp(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const o0=t=>()=>t;function Fq(t,e){return function(n){return t+n*e}}function Vq(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function zq(t){return(t=+t)==1?mP:function(e,n){return n-e?Vq(e,n,t):o0(isNaN(e)?n:e)}}function mP(t,e){var n=e-t;return n?Fq(t,n):o0(isNaN(t)?e:t)}const e_=function t(e){var n=zq(e);function r(i,o){var a=n((i=gg(i)).r,(o=gg(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=mP(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function qq(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Hq(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Gq(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=ns(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Wq(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function yd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Kq(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ns(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var vg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wp=new RegExp(vg.source,"g");function Jq(t){return function(){return t}}function Yq(t){return function(e){return t(e)+""}}function Xq(t,e){var n=vg.lastIndex=wp.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=vg.exec(t))&&(i=wp.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:yd(r,i)})),n=wp.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Yq(l[0].x):Jq(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function ns(t,e){var n=typeof e,r;return e==null||n==="boolean"?o0(e):(n==="number"?yd:n==="string"?(r=Ml(e))?(e=r,e_):Xq:e instanceof Ml?e_:e instanceof Date?Wq:Hq(e)?qq:Array.isArray(e)?Gq:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Kq:yd)(t,e)}function a0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Qq(t,e){e===void 0&&(e=t,t=ns);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Zq(t){return function(){return t}}function wd(t){return+t}var t_=[0,1];function Vt(t){return t}function yg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Zq(isNaN(e)?NaN:.5)}function e9(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function t9(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=yg(i,r),o=n(a,o)):(r=yg(r,i),o=n(o,a)),function(s){return o(r(s))}}function n9(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=yg(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=mu(t,s,1,r)-1;return o[l](i[l](s))}}function vu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xf(){var t=t_,e=t_,n=ns,r,i,o,a=Vt,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==Vt&&(a=e9(t[0],t[h-1])),s=h>2?n9:t9,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=s(e,t.map(r),yd)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,wd),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=a0,c()},d.clamp=function(h){return arguments.length?(a=h?!0:Vt,c()):a!==Vt},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,g){return r=h,i=g,c()}}function s0(){return Xf()(Vt,Vt)}function r9(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function bd(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Sa(t){return t=bd(Math.abs(t)),t?t[1]:NaN}function i9(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function o9(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var a9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rl(t){if(!(e=a9.exec(t)))throw new Error("invalid format: "+t);var e;return new l0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Rl.prototype=l0.prototype;function l0(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}l0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function s9(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var gP;function l9(t,e){var n=bd(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(gP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+bd(t,Math.max(0,e+o-1))[0]}function n_(t,e){var n=bd(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const r_={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:r9,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>n_(t*100,e),r:n_,s:l9,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function i_(t){return t}var o_=Array.prototype.map,a_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function u9(t){var e=t.grouping===void 0||t.thousands===void 0?i_:i9(o_.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?i_:o9(o_.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Rl(d);var h=d.fill,g=d.align,v=d.sign,y=d.symbol,b=d.zero,w=d.width,x=d.comma,_=d.precision,T=d.trim,S=d.type;S==="n"?(x=!0,S="g"):r_[S]||(_===void 0&&(_=12),T=!0,S="g"),(b||h==="0"&&g==="=")&&(b=!0,h="0",g="=");var E=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=y==="$"?r:/[%p]/.test(S)?a:"",C=r_[S],k=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N(P){var M=E,j=A,L,F,R;if(S==="c")j=C(P)+j,P="";else{P=+P;var B=P<0||1/P<0;if(P=isNaN(P)?l:C(Math.abs(P),_),T&&(P=s9(P)),B&&+P==0&&v!=="+"&&(B=!1),M=(B?v==="("?v:s:v==="-"||v==="("?"":v)+M,j=(S==="s"?a_[8+gP/3]:"")+j+(B&&v==="("?")":""),k){for(L=-1,F=P.length;++L<F;)if(R=P.charCodeAt(L),48>R||R>57){j=(R===46?i+P.slice(L+1):P.slice(L))+j,P=P.slice(0,L);break}}}x&&!b&&(P=e(P,1/0));var D=M.length+P.length+j.length,U=D<w?new Array(w-D+1).join(h):"";switch(x&&b&&(P=e(U+P,U.length?w-j.length:1/0),U=""),g){case"<":P=M+P+j+U;break;case"=":P=M+U+P+j;break;case"^":P=U.slice(0,D=U.length>>1)+M+P+j+U.slice(D);break;default:P=U+M+P+j;break}return o(P)}return N.toString=function(){return d+""},N}function c(d,h){var g=u((d=Rl(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Sa(h)/3)))*3,y=Math.pow(10,-v),b=a_[8+v/3];return function(w){return g(y*w)+b}}return{format:u,formatPrefix:c}}var Xu,u0,vP;c9({thousands:",",grouping:[3],currency:["$",""]});function c9(t){return Xu=u9(t),u0=Xu.format,vP=Xu.formatPrefix,Xu}function d9(t){return Math.max(0,-Sa(Math.abs(t)))}function f9(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sa(e)/3)))*3-Sa(Math.abs(t)))}function h9(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sa(e)-Sa(t))+1}function yP(t,e,n,r){var i=pg(t,e,n),o;switch(r=Rl(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=f9(i,a))&&(r.precision=o),vP(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=h9(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=d9(i))&&(r.precision=o-(r.type==="%")*2);break}}return u0(r)}function bi(t){var e=t.domain;return t.ticks=function(n){var r=e();return fg(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return yP(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=hg(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function xd(){var t=s0();return t.copy=function(){return vu(t,xd())},$n.apply(t,arguments),bi(t)}function wP(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,wd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return wP(t).unknown(e)},t=arguments.length?Array.from(t,wd):[0,1],bi(n)}function bP(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function s_(t){return Math.log(t)}function l_(t){return Math.exp(t)}function p9(t){return-Math.log(-t)}function m9(t){return-Math.exp(-t)}function g9(t){return isFinite(t)?+("1e"+t):t<0?0:t}function v9(t){return t===10?g9:t===Math.E?Math.exp:e=>Math.pow(t,e)}function y9(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function u_(t){return(e,n)=>-t(-e,n)}function c0(t){const e=t(s_,l_),n=e.domain;let r=10,i,o;function a(){return i=y9(r),o=v9(r),n()[0]<0?(i=u_(i),o=u_(o),t(p9,m9)):t(s_,l_),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),g=i(c),v,y;const b=s==null?10:+s;let w=[];if(!(r%1)&&g-h<b){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(v=1;v<r;++v)if(y=h<0?v/o(-h):v*o(h),!(y<u)){if(y>c)break;w.push(y)}}else for(;h<=g;++h)for(v=r-1;v>=1;--v)if(y=h>0?v/o(-h):v*o(h),!(y<u)){if(y>c)break;w.push(y)}w.length*2<b&&(w=fg(u,c,b))}else w=fg(h,g,Math.min(g-h,b)).map(o);return d?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Rl(l)).precision==null&&(l.trim=!0),l=u0(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(bP(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function xP(){const t=c0(Xf()).domain([1,10]);return t.copy=()=>vu(t,xP()).base(t.base()),$n.apply(t,arguments),t}function c_(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function d_(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function d0(t){var e=1,n=t(c_(e),d_(e));return n.constant=function(r){return arguments.length?t(c_(e=+r),d_(e)):e},bi(n)}function _P(){var t=d0(Xf());return t.copy=function(){return vu(t,_P()).constant(t.constant())},$n.apply(t,arguments)}function f_(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function w9(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function b9(t){return t<0?-t*t:t*t}function f0(t){var e=t(Vt,Vt),n=1;function r(){return n===1?t(Vt,Vt):n===.5?t(w9,b9):t(f_(n),f_(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},bi(e)}function h0(){var t=f0(Xf());return t.copy=function(){return vu(t,h0()).exponent(t.exponent())},$n.apply(t,arguments),t}function x9(){return h0.apply(null,arguments).exponent(.5)}function h_(t){return Math.sign(t)*t*t}function _9(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function SP(){var t=s0(),e=[0,1],n=!1,r;function i(o){var a=_9(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(h_(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,wd)).map(h_)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return SP(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},$n.apply(i,arguments),bi(i)}function EP(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Cq(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[mu(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(hi),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return EP().domain(t).range(e).unknown(r)},$n.apply(o,arguments)}function TP(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[mu(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return TP().domain([t,e]).range(i).unknown(o)},$n.apply(bi(a),arguments)}function AP(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[mu(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return AP().domain(t).range(e).unknown(n)},$n.apply(i,arguments)}const bp=new Date,xp=new Date;function mt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>mt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(bp.setTime(+o),xp.setTime(+a),t(bp),t(xp),Math.floor(n(bp,xp))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const _d=mt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);_d.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?mt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):_d);_d.range;const br=1e3,kn=br*60,xr=kn*60,Nr=xr*24,p0=Nr*7,p_=Nr*30,_p=Nr*365,Gi=mt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*br)},(t,e)=>(e-t)/br,t=>t.getUTCSeconds());Gi.range;const m0=mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*br)},(t,e)=>{t.setTime(+t+e*kn)},(t,e)=>(e-t)/kn,t=>t.getMinutes());m0.range;const g0=mt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*kn)},(t,e)=>(e-t)/kn,t=>t.getUTCMinutes());g0.range;const v0=mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*br-t.getMinutes()*kn)},(t,e)=>{t.setTime(+t+e*xr)},(t,e)=>(e-t)/xr,t=>t.getHours());v0.range;const y0=mt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xr)},(t,e)=>(e-t)/xr,t=>t.getUTCHours());y0.range;const yu=mt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*kn)/Nr,t=>t.getDate()-1);yu.range;const Qf=mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Nr,t=>t.getUTCDate()-1);Qf.range;const CP=mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Nr,t=>Math.floor(t/Nr));CP.range;function go(t){return mt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*kn)/p0)}const Zf=go(0),Sd=go(1),S9=go(2),E9=go(3),Ea=go(4),T9=go(5),A9=go(6);Zf.range;Sd.range;S9.range;E9.range;Ea.range;T9.range;A9.range;function vo(t){return mt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/p0)}const eh=vo(0),Ed=vo(1),C9=vo(2),k9=vo(3),Ta=vo(4),P9=vo(5),I9=vo(6);eh.range;Ed.range;C9.range;k9.range;Ta.range;P9.range;I9.range;const w0=mt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());w0.range;const b0=mt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());b0.range;const Or=mt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Or.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Or.range;const Mr=mt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Mr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Mr.range;function kP(t,e,n,r,i,o){const a=[[Gi,1,br],[Gi,5,5*br],[Gi,15,15*br],[Gi,30,30*br],[o,1,kn],[o,5,5*kn],[o,15,15*kn],[o,30,30*kn],[i,1,xr],[i,3,3*xr],[i,6,6*xr],[i,12,12*xr],[r,1,Nr],[r,2,2*Nr],[n,1,p0],[e,1,p_],[e,3,3*p_],[t,1,_p]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const g=d&&typeof d.range=="function"?d:l(u,c,d),v=g?g.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,d){const h=Math.abs(c-u)/d,g=n0(([,,b])=>b).right(a,h);if(g===a.length)return t.every(pg(u/_p,c/_p,d));if(g===0)return _d.every(Math.max(pg(u,c,d),1));const[v,y]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return v.every(y)}return[s,l]}const[N9,O9]=kP(Mr,b0,eh,CP,y0,g0),[M9,R9]=kP(Or,w0,Zf,yu,v0,m0);function Sp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ep(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cs(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function $9(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=ks(i),c=Ps(i),d=ks(o),h=Ps(o),g=ks(a),v=Ps(a),y=ks(s),b=Ps(s),w=ks(l),x=Ps(l),_={a:B,A:D,b:U,B:H,c:null,d:b_,e:b_,f:iH,g:pH,G:gH,H:tH,I:nH,j:rH,L:PP,m:oH,M:aH,p:Y,q:G,Q:S_,s:E_,S:sH,u:lH,U:uH,V:cH,w:dH,W:fH,x:null,X:null,y:hH,Y:mH,Z:vH,"%":__},T={a:ne,A:he,b:we,B:_e,c:null,d:x_,e:x_,f:xH,g:NH,G:MH,H:yH,I:wH,j:bH,L:NP,m:_H,M:SH,p:Ze,q:Fe,Q:S_,s:E_,S:EH,u:TH,U:AH,V:CH,w:kH,W:PH,x:null,X:null,y:IH,Y:OH,Z:RH,"%":__},S={a:N,A:P,b:M,B:j,c:L,d:y_,e:y_,f:X9,g:v_,G:g_,H:w_,I:w_,j:W9,L:Y9,m:G9,M:K9,p:k,q:H9,Q:Z9,s:eH,S:J9,u:B9,U:F9,V:V9,w:U9,W:z9,x:F,X:R,y:v_,Y:g_,Z:q9,"%":Q9};_.x=E(n,_),_.X=E(r,_),_.c=E(e,_),T.x=E(n,T),T.X=E(r,T),T.c=E(e,T);function E(Q,de){return function(W){var $=[],se=-1,ee=0,Se=Q.length,be,Ee,gt;for(W instanceof Date||(W=new Date(+W));++se<Se;)Q.charCodeAt(se)===37&&($.push(Q.slice(ee,se)),(Ee=m_[be=Q.charAt(++se)])!=null?be=Q.charAt(++se):Ee=be==="e"?" ":"0",(gt=de[be])&&(be=gt(W,Ee)),$.push(be),ee=se+1);return $.push(Q.slice(ee,se)),$.join("")}}function A(Q,de){return function(W){var $=Cs(1900,void 0,1),se=C($,Q,W+="",0),ee,Se;if(se!=W.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(de&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(ee=Ep(Cs($.y,0,1)),Se=ee.getUTCDay(),ee=Se>4||Se===0?Ed.ceil(ee):Ed(ee),ee=Qf.offset(ee,($.V-1)*7),$.y=ee.getUTCFullYear(),$.m=ee.getUTCMonth(),$.d=ee.getUTCDate()+($.w+6)%7):(ee=Sp(Cs($.y,0,1)),Se=ee.getDay(),ee=Se>4||Se===0?Sd.ceil(ee):Sd(ee),ee=yu.offset(ee,($.V-1)*7),$.y=ee.getFullYear(),$.m=ee.getMonth(),$.d=ee.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),Se="Z"in $?Ep(Cs($.y,0,1)).getUTCDay():Sp(Cs($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(Se+5)%7:$.w+$.U*7-(Se+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,Ep($)):Sp($)}}function C(Q,de,W,$){for(var se=0,ee=de.length,Se=W.length,be,Ee;se<ee;){if($>=Se)return-1;if(be=de.charCodeAt(se++),be===37){if(be=de.charAt(se++),Ee=S[be in m_?de.charAt(se++):be],!Ee||($=Ee(Q,W,$))<0)return-1}else if(be!=W.charCodeAt($++))return-1}return $}function k(Q,de,W){var $=u.exec(de.slice(W));return $?(Q.p=c.get($[0].toLowerCase()),W+$[0].length):-1}function N(Q,de,W){var $=g.exec(de.slice(W));return $?(Q.w=v.get($[0].toLowerCase()),W+$[0].length):-1}function P(Q,de,W){var $=d.exec(de.slice(W));return $?(Q.w=h.get($[0].toLowerCase()),W+$[0].length):-1}function M(Q,de,W){var $=w.exec(de.slice(W));return $?(Q.m=x.get($[0].toLowerCase()),W+$[0].length):-1}function j(Q,de,W){var $=y.exec(de.slice(W));return $?(Q.m=b.get($[0].toLowerCase()),W+$[0].length):-1}function L(Q,de,W){return C(Q,e,de,W)}function F(Q,de,W){return C(Q,n,de,W)}function R(Q,de,W){return C(Q,r,de,W)}function B(Q){return a[Q.getDay()]}function D(Q){return o[Q.getDay()]}function U(Q){return l[Q.getMonth()]}function H(Q){return s[Q.getMonth()]}function Y(Q){return i[+(Q.getHours()>=12)]}function G(Q){return 1+~~(Q.getMonth()/3)}function ne(Q){return a[Q.getUTCDay()]}function he(Q){return o[Q.getUTCDay()]}function we(Q){return l[Q.getUTCMonth()]}function _e(Q){return s[Q.getUTCMonth()]}function Ze(Q){return i[+(Q.getUTCHours()>=12)]}function Fe(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var de=E(Q+="",_);return de.toString=function(){return Q},de},parse:function(Q){var de=A(Q+="",!1);return de.toString=function(){return Q},de},utcFormat:function(Q){var de=E(Q+="",T);return de.toString=function(){return Q},de},utcParse:function(Q){var de=A(Q+="",!0);return de.toString=function(){return Q},de}}}var m_={"-":"",_:" ",0:"0"},xt=/^\s*\d+/,D9=/^%/,j9=/[\\^$*+?|[\]().{}]/g;function ke(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function L9(t){return t.replace(j9,"\\$&")}function ks(t){return new RegExp("^(?:"+t.map(L9).join("|")+")","i")}function Ps(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function U9(t,e,n){var r=xt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function B9(t,e,n){var r=xt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function F9(t,e,n){var r=xt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function V9(t,e,n){var r=xt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function z9(t,e,n){var r=xt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function g_(t,e,n){var r=xt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function v_(t,e,n){var r=xt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function q9(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function H9(t,e,n){var r=xt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function G9(t,e,n){var r=xt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function y_(t,e,n){var r=xt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function W9(t,e,n){var r=xt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function w_(t,e,n){var r=xt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function K9(t,e,n){var r=xt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function J9(t,e,n){var r=xt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Y9(t,e,n){var r=xt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function X9(t,e,n){var r=xt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Q9(t,e,n){var r=D9.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Z9(t,e,n){var r=xt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function eH(t,e,n){var r=xt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function b_(t,e){return ke(t.getDate(),e,2)}function tH(t,e){return ke(t.getHours(),e,2)}function nH(t,e){return ke(t.getHours()%12||12,e,2)}function rH(t,e){return ke(1+yu.count(Or(t),t),e,3)}function PP(t,e){return ke(t.getMilliseconds(),e,3)}function iH(t,e){return PP(t,e)+"000"}function oH(t,e){return ke(t.getMonth()+1,e,2)}function aH(t,e){return ke(t.getMinutes(),e,2)}function sH(t,e){return ke(t.getSeconds(),e,2)}function lH(t){var e=t.getDay();return e===0?7:e}function uH(t,e){return ke(Zf.count(Or(t)-1,t),e,2)}function IP(t){var e=t.getDay();return e>=4||e===0?Ea(t):Ea.ceil(t)}function cH(t,e){return t=IP(t),ke(Ea.count(Or(t),t)+(Or(t).getDay()===4),e,2)}function dH(t){return t.getDay()}function fH(t,e){return ke(Sd.count(Or(t)-1,t),e,2)}function hH(t,e){return ke(t.getFullYear()%100,e,2)}function pH(t,e){return t=IP(t),ke(t.getFullYear()%100,e,2)}function mH(t,e){return ke(t.getFullYear()%1e4,e,4)}function gH(t,e){var n=t.getDay();return t=n>=4||n===0?Ea(t):Ea.ceil(t),ke(t.getFullYear()%1e4,e,4)}function vH(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ke(e/60|0,"0",2)+ke(e%60,"0",2)}function x_(t,e){return ke(t.getUTCDate(),e,2)}function yH(t,e){return ke(t.getUTCHours(),e,2)}function wH(t,e){return ke(t.getUTCHours()%12||12,e,2)}function bH(t,e){return ke(1+Qf.count(Mr(t),t),e,3)}function NP(t,e){return ke(t.getUTCMilliseconds(),e,3)}function xH(t,e){return NP(t,e)+"000"}function _H(t,e){return ke(t.getUTCMonth()+1,e,2)}function SH(t,e){return ke(t.getUTCMinutes(),e,2)}function EH(t,e){return ke(t.getUTCSeconds(),e,2)}function TH(t){var e=t.getUTCDay();return e===0?7:e}function AH(t,e){return ke(eh.count(Mr(t)-1,t),e,2)}function OP(t){var e=t.getUTCDay();return e>=4||e===0?Ta(t):Ta.ceil(t)}function CH(t,e){return t=OP(t),ke(Ta.count(Mr(t),t)+(Mr(t).getUTCDay()===4),e,2)}function kH(t){return t.getUTCDay()}function PH(t,e){return ke(Ed.count(Mr(t)-1,t),e,2)}function IH(t,e){return ke(t.getUTCFullYear()%100,e,2)}function NH(t,e){return t=OP(t),ke(t.getUTCFullYear()%100,e,2)}function OH(t,e){return ke(t.getUTCFullYear()%1e4,e,4)}function MH(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ta(t):Ta.ceil(t),ke(t.getUTCFullYear()%1e4,e,4)}function RH(){return"+0000"}function __(){return"%"}function S_(t){return+t}function E_(t){return Math.floor(+t/1e3)}var So,MP,RP;$H({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $H(t){return So=$9(t),MP=So.format,So.parse,RP=So.utcFormat,So.utcParse,So}function DH(t){return new Date(t)}function jH(t){return t instanceof Date?+t:+new Date(+t)}function x0(t,e,n,r,i,o,a,s,l,u){var c=s0(),d=c.invert,h=c.domain,g=u(".%L"),v=u(":%S"),y=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),x=u("%b %d"),_=u("%B"),T=u("%Y");function S(E){return(l(E)<E?g:s(E)<E?v:a(E)<E?y:o(E)<E?b:r(E)<E?i(E)<E?w:x:n(E)<E?_:T)(E)}return c.invert=function(E){return new Date(d(E))},c.domain=function(E){return arguments.length?h(Array.from(E,jH)):h().map(DH)},c.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},c.tickFormat=function(E,A){return A==null?S:u(A)},c.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(bP(A,E)):c},c.copy=function(){return vu(c,x0(t,e,n,r,i,o,a,s,l,u))},c}function LH(){return $n.apply(x0(M9,R9,Or,w0,Zf,yu,v0,m0,Gi,MP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function UH(){return $n.apply(x0(N9,O9,Mr,b0,eh,Qf,y0,g0,Gi,RP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function th(){var t=0,e=1,n,r,i,o,a=Vt,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var g,v;return arguments.length?([g,v]=h,a=d(g,v),u):[a(0),a(1)]}}return u.range=c(ns),u.rangeRound=c(a0),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function xi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function $P(){var t=bi(th()(Vt));return t.copy=function(){return xi(t,$P())},Lr.apply(t,arguments)}function DP(){var t=c0(th()).domain([1,10]);return t.copy=function(){return xi(t,DP()).base(t.base())},Lr.apply(t,arguments)}function jP(){var t=d0(th());return t.copy=function(){return xi(t,jP()).constant(t.constant())},Lr.apply(t,arguments)}function _0(){var t=f0(th());return t.copy=function(){return xi(t,_0()).exponent(t.exponent())},Lr.apply(t,arguments)}function BH(){return _0.apply(null,arguments).exponent(.5)}function LP(){var t=[],e=Vt;function n(r){if(r!=null&&!isNaN(r=+r))return e((mu(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(hi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Aq(t,o/r))},n.copy=function(){return LP(e).domain(t)},Lr.apply(n,arguments)}function nh(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Vt,c,d=!1,h;function g(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-o)*(r*y<r*o?s:l),u(d?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(y){return arguments.length?(d=!!y,g):d},g.interpolator=function(y){return arguments.length?(u=y,g):u};function v(y){return function(b){var w,x,_;return arguments.length?([w,x,_]=b,u=Qq(y,[w,x,_]),g):[u(0),u(.5),u(1)]}}return g.range=v(ns),g.rangeRound=v(a0),g.unknown=function(y){return arguments.length?(h=y,g):h},function(y){return c=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g}}function UP(){var t=bi(nh()(Vt));return t.copy=function(){return xi(t,UP())},Lr.apply(t,arguments)}function BP(){var t=c0(nh()).domain([.1,1,10]);return t.copy=function(){return xi(t,BP()).base(t.base())},Lr.apply(t,arguments)}function FP(){var t=d0(nh());return t.copy=function(){return xi(t,FP()).constant(t.constant())},Lr.apply(t,arguments)}function S0(){var t=f0(nh());return t.copy=function(){return xi(t,S0()).exponent(t.exponent())},Lr.apply(t,arguments)}function FH(){return S0.apply(null,arguments).exponent(.5)}const T_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Il,scaleDiverging:UP,scaleDivergingLog:BP,scaleDivergingPow:S0,scaleDivergingSqrt:FH,scaleDivergingSymlog:FP,scaleIdentity:wP,scaleImplicit:mg,scaleLinear:xd,scaleLog:xP,scaleOrdinal:r0,scalePoint:Xs,scalePow:h0,scaleQuantile:EP,scaleQuantize:TP,scaleRadial:SP,scaleSequential:$P,scaleSequentialLog:DP,scaleSequentialPow:_0,scaleSequentialQuantile:LP,scaleSequentialSqrt:BH,scaleSequentialSymlog:jP,scaleSqrt:x9,scaleSymlog:_P,scaleThreshold:AP,scaleTime:LH,scaleUtc:UH,tickFormat:yP},Symbol.toStringTag,{value:"Module"}));var VH=Wa;function zH(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!VH(a):n(a,s)))var s=a,l=o}return l}var rh=zH;function qH(t,e){return t>e}var VP=qH,HH=rh,GH=VP,WH=ts;function KH(t){return t&&t.length?HH(t,WH,GH):void 0}var JH=KH;const ih=Oe(JH);function YH(t,e){return t<e}var zP=YH,XH=rh,QH=zP,ZH=ts;function eG(t){return t&&t.length?XH(t,ZH,QH):void 0}var tG=eG;const oh=Oe(tG);var nG=Dy,rG=cr,iG=Xk,oG=Qt;function aG(t,e){var n=oG(t)?nG:iG;return n(t,rG(e))}var sG=aG,lG=Jk,uG=sG;function cG(t,e){return lG(uG(t,e),1)}var dG=cG;const fG=Oe(dG);var hG=Xy;function pG(t,e){return hG(t,e)}var mG=pG;const wu=Oe(mG);var rs=1e9,gG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},T0,Ke=!0,Mn="[DecimalError] ",Qi=Mn+"Invalid argument: ",E0=Mn+"Exponent out of range: ",is=Math.floor,$i=Math.pow,vG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ln,vt=1e7,He=7,qP=9007199254740991,Td=is(qP/He),oe={};oe.absoluteValue=oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};oe.comparedTo=oe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*He;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};oe.dividedBy=oe.div=function(t){return Tr(this,new this.constructor(t))};oe.dividedToIntegerBy=oe.idiv=function(t){var e=this,n=e.constructor;return $e(Tr(e,new n(t),0,1),n.precision)};oe.equals=oe.eq=function(t){return!this.cmp(t)};oe.exponent=function(){return at(this)};oe.greaterThan=oe.gt=function(t){return this.cmp(t)>0};oe.greaterThanOrEqualTo=oe.gte=function(t){return this.cmp(t)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(t){return this.cmp(t)<0};oe.lessThanOrEqualTo=oe.lte=function(t){return this.cmp(t)<1};oe.logarithm=oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ln))throw Error(Mn+"NaN");if(n.s<1)throw Error(Mn+(n.s?"NaN":"-Infinity"));return n.eq(ln)?new r(0):(Ke=!1,e=Tr($l(n,o),$l(t,o),o),Ke=!0,$e(e,i))};oe.minus=oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?WP(e,t):HP(e,(t.s=-t.s,t))};oe.modulo=oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Mn+"NaN");return n.s?(Ke=!1,e=Tr(n,t,0,1).times(t),Ke=!0,n.minus(e)):$e(new r(n),i)};oe.naturalExponential=oe.exp=function(){return GP(this)};oe.naturalLogarithm=oe.ln=function(){return $l(this)};oe.negated=oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};oe.plus=oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?HP(e,t):WP(e,(t.s=-t.s,t))};oe.precision=oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Qi+t);if(e=at(i)+1,r=i.d.length-1,n=r*He+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};oe.squareRoot=oe.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Mn+"NaN")}for(t=at(s),Ke=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=nr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=is((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Tr(s,o,a+2)).times(.5),nr(o.d).slice(0,a)===(e=nr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if($e(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Ke=!0,$e(r,n)};oe.times=oe.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,g=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+g[r]*h[i-r-1]+e,o[i--]=s%vt|0,e=s/vt|0;o[i]=(o[i]+e)%vt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ke?$e(t,d.precision):t};oe.toDecimalPlaces=oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(sr(t,0,rs),e===void 0?e=r.rounding:sr(e,0,8),$e(n,t+at(n)+1,e))};oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=so(r,!0):(sr(t,0,rs),e===void 0?e=i.rounding:sr(e,0,8),r=$e(new i(r),t+1,e),n=so(r,!0,t+1)),n};oe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?so(i):(sr(t,0,rs),e===void 0?e=o.rounding:sr(e,0,8),r=$e(new o(i),t+at(i)+1,e),n=so(r.abs(),!1,t+at(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};oe.toInteger=oe.toint=function(){var t=this,e=t.constructor;return $e(new e(t),at(t)+1,e.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(ln);if(s=new l(s),!s.s){if(t.s<1)throw Error(Mn+"Infinity");return s}if(s.eq(ln))return s;if(r=l.precision,t.eq(ln))return $e(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=qP){for(i=new l(ln),e=Math.ceil(r/He+4),Ke=!1;n%2&&(i=i.times(s),C_(i.d,e)),n=is(n/2),n!==0;)s=s.times(s),C_(s.d,e);return Ke=!0,t.s<0?new l(ln).div(i):$e(i,r)}}else if(o<0)throw Error(Mn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Ke=!1,i=t.times($l(s,r+u)),Ke=!0,i=GP(i),i.s=o,i};oe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=at(i),r=so(i,n<=o.toExpNeg||n>=o.toExpPos)):(sr(t,1,rs),e===void 0?e=o.rounding:sr(e,0,8),i=$e(new o(i),t,e),n=at(i),r=so(i,t<=n||n<=o.toExpNeg,t)),r};oe.toSignificantDigits=oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(sr(t,1,rs),e===void 0?e=r.rounding:sr(e,0,8)),$e(new r(n),t,e)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=at(t),n=t.constructor;return so(t,e<=n.toExpNeg||e>=n.toExpPos)};function HP(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Ke?$e(e,d):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/He),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/vt|0,l[o]%=vt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Ke?$e(e,d):e}function sr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Qi+t)}function nr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=He-r.length,n&&(o+=Jr(n)),o+=r;a=t[e],r=a+"",n=He-r.length,n&&(o+=Jr(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Tr=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%vt|0,a=o/vt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*vt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,h,g,v,y,b,w,x,_,T,S,E,A,C,k=r.constructor,N=r.s==i.s?1:-1,P=r.d,M=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Mn+"Division by zero");for(l=r.e-i.e,A=M.length,S=P.length,g=new k(N),v=g.d=[],u=0;M[u]==(P[u]||0);)++u;if(M[u]>(P[u]||0)&&--l,o==null?x=o=k.precision:a?x=o+(at(r)-at(i))+1:x=o,x<0)return new k(0);if(x=x/He+2|0,u=0,A==1)for(c=0,M=M[0],x++;(u<S||c)&&x--;u++)_=c*vt+(P[u]||0),v[u]=_/M|0,c=_%M|0;else{for(c=vt/(M[0]+1)|0,c>1&&(M=t(M,c),P=t(P,c),A=M.length,S=P.length),T=A,y=P.slice(0,A),b=y.length;b<A;)y[b++]=0;C=M.slice(),C.unshift(0),E=M[0],M[1]>=vt/2&&++E;do c=0,s=e(M,y,A,b),s<0?(w=y[0],A!=b&&(w=w*vt+(y[1]||0)),c=w/E|0,c>1?(c>=vt&&(c=vt-1),d=t(M,c),h=d.length,b=y.length,s=e(d,y,h,b),s==1&&(c--,n(d,A<h?C:M,h))):(c==0&&(s=c=1),d=M.slice()),h=d.length,h<b&&d.unshift(0),n(y,d,b),s==-1&&(b=y.length,s=e(M,y,A,b),s<1&&(c++,n(y,A<b?C:M,b))),b=y.length):s===0&&(c++,y=[0]),v[u++]=c,s&&y[0]?y[b++]=P[T]||0:(y=[P[T]],b=1);while((T++<S||y[0]!==void 0)&&x--)}return v[0]||v.shift(),g.e=l,$e(g,a?o+at(g)+1:o)}}();function GP(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,d=c.precision;if(at(t)>16)throw Error(E0+at(t));if(!t.s)return new c(ln);for(Ke=!1,s=d,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log($i(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(ln),c.precision=s;;){if(i=$e(i.times(t),s),n=n.times(++l),a=o.plus(Tr(i,n,s)),nr(a.d).slice(0,s)===nr(o.d).slice(0,s)){for(;u--;)o=$e(o.times(o),s);return c.precision=d,e==null?(Ke=!0,$e(o,d)):o}o=a}}function at(t){for(var e=t.e*He,n=t.d[0];n>=10;n/=10)e++;return e}function Tp(t,e,n){if(e>t.LN10.sd())throw Ke=!0,n&&(t.precision=n),Error(Mn+"LN10 precision limit exceeded");return $e(new t(t.LN10),e)}function Jr(t){for(var e="";t--;)e+="0";return e}function $l(t,e){var n,r,i,o,a,s,l,u,c,d=1,h=10,g=t,v=g.d,y=g.constructor,b=y.precision;if(g.s<1)throw Error(Mn+(g.s?"NaN":"-Infinity"));if(g.eq(ln))return new y(0);if(e==null?(Ke=!1,u=b):u=e,g.eq(10))return e==null&&(Ke=!0),Tp(y,u);if(u+=h,y.precision=u,n=nr(v),r=n.charAt(0),o=at(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=nr(g.d),r=n.charAt(0),d++;o=at(g),r>1?(g=new y("0."+n),o++):g=new y(r+"."+n.slice(1))}else return l=Tp(y,u+2,b).times(o+""),g=$l(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=b,e==null?(Ke=!0,$e(g,b)):g;for(s=a=g=Tr(g.minus(ln),g.plus(ln),u),c=$e(g.times(g),u),i=3;;){if(a=$e(a.times(c),u),l=s.plus(Tr(a,new y(i),u)),nr(l.d).slice(0,u)===nr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Tp(y,u+2,b).times(o+""))),s=Tr(s,new y(d),u),y.precision=b,e==null?(Ke=!0,$e(s,b)):s;s=l,i+=2}}function A_(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=is(n/He),t.d=[],r=(n+1)%He,n<0&&(r+=He),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=He;r<i;)t.d.push(+e.slice(r,r+=He));e=e.slice(r),r=He-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ke&&(t.e>Td||t.e<-Td))throw Error(E0+n)}else t.s=0,t.e=0,t.d=[0];return t}function $e(t,e,n){var r,i,o,a,s,l,u,c,d=t.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=He,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/He),o=d.length,c>=o)return t;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=He,i=r-He+a}if(n!==void 0&&(o=$i(10,a-i-1),s=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/$i(10,a-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=at(t),d.length=1,e=e-o-1,d[0]=$i(10,(He-e%He)%He),t.e=is(-e/He)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=$i(10,He-r),d[c]=i>0?(u/$i(10,a-i)%$i(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==vt&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=vt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(Ke&&(t.e>Td||t.e<-Td))throw Error(E0+at(t));return t}function WP(t,e){var n,r,i,o,a,s,l,u,c,d,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ke?$e(e,g):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(g/He),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=vt-1;--l[o],l[i]+=vt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ke?$e(e,g):e):new h(0)}function so(t,e,n){var r,i=at(t),o=nr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Jr(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Jr(-i-1)+o,n&&(r=n-a)>0&&(o+=Jr(r))):i>=a?(o+=Jr(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Jr(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Jr(r))),t.s<0?"-"+o:o}function C_(t,e){if(t.length>e)return t.length=e,!0}function KP(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Qi+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return A_(a,o.toString())}else if(typeof o!="string")throw Error(Qi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,vG.test(o))A_(a,o);else throw Error(Qi+o)}if(i.prototype=oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=KP,i.config=i.set=yG,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function yG(t){if(!t||typeof t!="object")throw Error(Mn+"Object expected");var e,n,r,i=["precision",1,rs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(is(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Qi+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Qi+n+": "+r);return this}var T0=KP(gG);ln=new T0(1);const Re=T0;function wG(t){return SG(t)||_G(t)||xG(t)||bG()}function bG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xG(t,e){if(t){if(typeof t=="string")return wg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wg(t,e)}}function _G(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function SG(t){if(Array.isArray(t))return wg(t)}function wg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var EG=function(e){return e},JP={},YP=function(e){return e===JP},k_=function(e){return function n(){return arguments.length===0||arguments.length===1&&YP(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},TG=function t(e,n){return e===1?n:k_(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==JP}).length;return a>=e?n.apply(void 0,i):t(e-a,k_(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return YP(d)?l.shift():d});return n.apply(void 0,wG(c).concat(l))}))})},ah=function(e){return TG(e.length,e)},bg=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},AG=ah(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),CG=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return EG;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},xg=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},XP=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function kG(t){var e;return t===0?e=1:e=Math.floor(new Re(t).abs().log(10).toNumber())+1,e}function PG(t,e,n){for(var r=new Re(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var IG=ah(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),NG=ah(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),OG=ah(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const sh={rangeStep:PG,getDigitCount:kG,interpolateNumber:IG,uninterpolateNumber:NG,uninterpolateTruncation:OG};function _g(t){return $G(t)||RG(t)||QP(t)||MG()}function MG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RG(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function $G(t){if(Array.isArray(t))return Sg(t)}function Dl(t,e){return LG(t)||jG(t,e)||QP(t,e)||DG()}function DG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QP(t,e){if(t){if(typeof t=="string")return Sg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sg(t,e)}}function Sg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jG(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function LG(t){if(Array.isArray(t))return t}function ZP(t){var e=Dl(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function eI(t,e,n){if(t.lte(0))return new Re(0);var r=sh.getDigitCount(t.toNumber()),i=new Re(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Re(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Re(Math.ceil(l))}function UG(t,e,n){var r=1,i=new Re(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Re(10).pow(sh.getDigitCount(t)-1),i=new Re(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Re(Math.floor(t)))}else t===0?i=new Re(Math.floor((e-1)/2)):n||(i=new Re(Math.floor(t)));var a=Math.floor((e-1)/2),s=CG(AG(function(l){return i.add(new Re(l-a).mul(r)).toNumber()}),bg);return s(0,e)}function tI(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Re(0),tickMin:new Re(0),tickMax:new Re(0)};var o=eI(new Re(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Re(0):(a=new Re(t).add(e).div(2),a=a.sub(new Re(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Re(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?tI(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Re(s).mul(o)),tickMax:a.add(new Re(l).mul(o))})}function BG(t){var e=Dl(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=ZP([n,r]),l=Dl(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(_g(bg(0,i-1).map(function(){return 1/0}))):[].concat(_g(bg(0,i-1).map(function(){return-1/0})),[c]);return n>r?xg(d):d}if(u===c)return UG(u,i,o);var h=tI(u,c,a,o),g=h.step,v=h.tickMin,y=h.tickMax,b=sh.rangeStep(v,y.add(new Re(.1).mul(g)),g);return n>r?xg(b):b}function FG(t,e){var n=Dl(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=ZP([r,i]),s=Dl(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=eI(new Re(u).sub(l).div(c-1),o,0),h=[].concat(_g(sh.rangeStep(new Re(l),new Re(u).sub(new Re(.99).mul(d)),d)),[u]);return r>i?xg(h):h}var VG=XP(BG),zG=XP(FG),qG="Invariant failed";function lo(t,e){throw new Error(qG)}var HG=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Aa(t){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(t)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ad.apply(this,arguments)}function GG(t,e){return YG(t)||JG(t,e)||KG(t,e)||WG()}function WG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KG(t,e){if(t){if(typeof t=="string")return P_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P_(t,e)}}function P_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function YG(t){if(Array.isArray(t))return t}function XG(t,e){if(t==null)return{};var n=QG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iI(r.key),r)}}function tW(t,e,n){return e&&eW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nW(t,e,n){return e=Cd(e),rW(t,nI()?Reflect.construct(e,n||[],Cd(t).constructor):e.apply(t,n))}function rW(t,e){if(e&&(Aa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iW(t)}function iW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nI=function(){return!!t})()}function Cd(t){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cd(t)}function oW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eg(t,e)}function Eg(t,e){return Eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Eg(t,e)}function rI(t,e,n){return e=iI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iI(t){var e=aW(t,"string");return Aa(e)=="symbol"?e:e+""}function aW(t,e){if(Aa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Aa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bu=function(t){function e(){return ZG(this,e),nW(this,e,arguments)}return oW(e,t),tW(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=XG(r,HG),g=fe(h,!1);this.props.direction==="x"&&c.type!=="number"&&lo();var v=l.map(function(y){var b=u(y,s),w=b.x,x=b.y,_=b.value,T=b.errorVal;if(!T)return null;var S=[],E,A;if(Array.isArray(T)){var C=GG(T,2);E=C[0],A=C[1]}else E=A=T;if(o==="vertical"){var k=c.scale,N=x+i,P=N+a,M=N-a,j=k(_-E),L=k(_+A);S.push({x1:L,y1:P,x2:L,y2:M}),S.push({x1:j,y1:N,x2:L,y2:N}),S.push({x1:j,y1:P,x2:j,y2:M})}else if(o==="horizontal"){var F=d.scale,R=w+i,B=R-a,D=R+a,U=F(_-E),H=F(_+A);S.push({x1:B,y1:H,x2:D,y2:H}),S.push({x1:R,y1:U,x2:R,y2:H}),S.push({x1:B,y1:U,x2:D,y2:U})}return I.createElement(Ce,Ad({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},g),S.map(function(Y){return I.createElement("line",Ad({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return I.createElement(Ce,{className:"recharts-errorBars"},v)}}])}(I.Component);rI(bu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});rI(bu,"displayName","ErrorBar");function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function I_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I_(Object(n),!0).forEach(function(r){sW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sW(t,e,n){return e=lW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lW(t){var e=uW(t,"string");return jl(e)=="symbol"?e:e+""}function uW(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oI=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=an(n,fi);if(!a)return null;var s=fi.defaultProps,l=s!==void 0?Ai(Ai({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,g=d.props,v=g.sectors||g.data||[];return c.concat(v.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,g=h!==void 0?Ai(Ai({},h),d.props):{},v=g.dataKey,y=g.name,b=g.legendType,w=g.hide;return{inactive:w,dataKey:v,type:l.iconType||b||"square",color:A0(d),value:y||v,payload:g}}),Ai(Ai(Ai({},l),fi.getWithHeight(a,i)),{},{payload:u,item:a})};function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function N_(t){return hW(t)||fW(t)||dW(t)||cW()}function cW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dW(t,e){if(t){if(typeof t=="string")return Tg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tg(t,e)}}function fW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hW(t){if(Array.isArray(t))return Tg(t)}function Tg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O_(Object(n),!0).forEach(function(r){aa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aa(t,e,n){return e=pW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pW(t){var e=mW(t,"string");return Ll(e)=="symbol"?e:e+""}function mW(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ft(t,e,n){return ve(t)||ve(e)?n:pt(e)?hn(t,e,n):ge(e)?e(t):n}function Qs(t,e,n,r){var i=fG(t,function(s){return ft(s,e)});if(n==="number"){var o=i.filter(function(s){return X(s)||parseFloat(s)});return o.length?[oh(o),ih(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!ve(s)}):i;return a.map(function(s){return pt(s)||s instanceof Date?s:""})}var gW=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Bt(d-c)!==Bt(h-d)){var v=[];if(Bt(h-d)===Bt(l[1]-l[0])){g=h;var y=d+l[1]-l[0];v[0]=Math.min(y,(y+c)/2),v[1]=Math.max(y,(y+c)/2)}else{g=c;var b=h+l[1]-l[0];v[0]=Math.min(d,(b+d)/2),v[1]=Math.max(d,(b+d)/2)}var w=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){a=i[u].index;break}}else{var x=Math.min(c,h),_=Math.max(c,h);if(e>(x+d)/2&&e<=(_+d)/2){a=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},A0=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?tt(tt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},vW=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,d=Object.keys(c),h=0,g=d.length;h<g;h++){var v=c[d[h]],y=v.items,b=v.cateAxisId,w=y.filter(function(A){return Er(A.type).indexOf("Bar")>=0});if(w&&w.length){var x=w[0].type.defaultProps,_=x!==void 0?tt(tt({},x),w[0].props):w[0].props,T=_.barSize,S=_[b];a[S]||(a[S]=[]);var E=ve(T)?n:T;a[S].push({item:w[0],stackList:w.slice(1),barSize:ve(E)?void 0:Ft(E,r,0)})}}return a},yW=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Ft(n,i,0,!0),c,d=[];if(a[0].barSize===+a[0].barSize){var h=!1,g=i/l,v=a.reduce(function(T,S){return T+S.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&g>0&&(h=!0,g*=.9,v=l*g);var y=(i-v)/2>>0,b={offset:y-u,size:0};c=a.reduce(function(T,S){var E={item:S.item,position:{offset:b.offset+b.size+u,size:h?g:S.barSize}},A=[].concat(N_(T),[E]);return b=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:b})}),A},d)}else{var w=Ft(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var x=(i-2*w-(l-1)*u)/l;x>1&&(x>>=0);var _=s===+s?Math.min(x,s):x;c=a.reduce(function(T,S,E){var A=[].concat(N_(T),[{item:S.item,position:{offset:w+(x+u)*E+(x-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:A[A.length-1].position})}),A},d)}return c},wW=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=oI({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,g=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&g!=="center"&&X(e[g]))return tt(tt({},e),{},aa({},g,e[g]+(d||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&v!=="middle"&&X(e[v]))return tt(tt({},e),{},aa({},v,e[v]+(h||0)))}return e},bW=function(e,n,r){return ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},aI=function(e,n,r,i,o){var a=n.props.children,s=pn(a,bu).filter(function(u){return bW(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=ft(c,r);if(ve(d))return u;var h=Array.isArray(d)?[oh(d),ih(d)]:[d,d],g=l.reduce(function(v,y){var b=ft(c,y,0),w=h[0]-Math.abs(Array.isArray(b)?b[0]:b),x=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(w,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},xW=function(e,n,r,i,o){var a=n.map(function(s){return aI(e,s,r,o,i)}).filter(function(s){return!ve(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},sI=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&aI(e,l,u,i)||Qs(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},lI=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},uI=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},_r=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Bt(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!hu(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},Ap=new WeakMap,Qu=function(e,n){if(typeof n!="function")return e;Ap.has(e)||Ap.set(e,new WeakMap);var r=Ap.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},cI=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Il(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:xd(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Xs(),realScaleType:"point"}:o==="category"?{scale:Il(),realScaleType:"band"}:{scale:xd(),realScaleType:"linear"};if(io(i)){var l="scale".concat(zf(i));return{scale:(T_[l]||Xs)(),realScaleType:T_[l]?l:"point"}}return ge(i)?{scale:i}:{scale:Xs(),realScaleType:"point"}},M_=1e-4,dI=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-M_,a=Math.max(i[0],i[1])+M_,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},_W=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},SW=function(e,n){if(!n||n.length!==2||!X(n[0])||!X(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!X(e[0])||e[0]<r)&&(o[0]=r),(!X(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},EW=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=hu(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},TW=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=hu(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},AW={sign:EW,expand:H3,none:ya,silhouette:G3,wiggle:W3,positive:TW},CW=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=AW[r],a=q3().keys(i).value(function(s,l){return+ft(s,l,0)}).order(Ym).offset(o);return a(e)},kW=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(d,h){var g,v=(g=h.type)!==null&&g!==void 0&&g.defaultProps?tt(tt({},h.type.defaultProps),h.props):h.props,y=v.stackId,b=v.hide;if(b)return d;var w=v[r],x=d[w]||{hasStack:!1,stackGroups:{}};if(pt(y)){var _=x.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),x.hasStack=!0,x.stackGroups[y]=_}else x.stackGroups[Qa("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return tt(tt({},d),{},aa({},w,x))},l),c={};return Object.keys(u).reduce(function(d,h){var g=u[h];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,b){var w=g.stackGroups[b];return tt(tt({},y),{},aa({},b,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:CW(e,w.items,o)}))},v)}return tt(tt({},d),{},aa({},h,g))},c)},fI=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=VG(u,o,s);return e.domain([oh(c),ih(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=zG(d,o,s);return{niceTicks:h}}return null};function R_(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ve(i[e.dataKey])){var s=ed(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=ft(i,ve(a)?e.dataKey:a);return ve(l)?null:e.scale(l)}var $_=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=ft(a,n.dataKey,n.domain[s]);return ve(l)?null:n.scale(l)-o/2+i},PW=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},IW=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?tt(tt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(pt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},NW=function(e){return e.reduce(function(n,r){return[oh(r.concat([n[0]]).filter(X)),ih(r.concat([n[1]]).filter(X))]},[1/0,-1/0])},hI=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var d=NW(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},D_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ag=function(e,n,r){if(ge(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(X(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(D_.test(e[0])){var o=+D_.exec(e[0])[1];i[0]=n[0]-o}else ge(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(X(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(j_.test(e[1])){var a=+j_.exec(e[1])[1];i[1]=n[1]+a}else ge(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},kd=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=Zy(n,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},L_=function(e,n,r){return!e||!e.length||wu(e,hn(r,"type.defaultProps.domain"))?n:e},pI=function(e,n){var r=e.type.defaultProps?tt(tt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return tt(tt({},fe(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:A0(e),value:ft(n,i),type:l,payload:n,chartType:u,hide:c})};function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function U_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U_(Object(n),!0).forEach(function(r){mI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mI(t,e,n){return e=OW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OW(t){var e=MW(t,"string");return Ul(e)=="symbol"?e:e+""}function MW(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RW(t,e){return LW(t)||jW(t,e)||DW(t,e)||$W()}function $W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DW(t,e){if(t){if(typeof t=="string")return B_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(t,e)}}function B_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function LW(t){if(Array.isArray(t))return t}var Pd=Math.PI/180,UW=function(e){return e*180/Math.PI},Be=function(e,n,r,i){return{x:e+Math.cos(-Pd*i)*r,y:n+Math.sin(-Pd*i)*r}},gI=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},BW=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=Ft(e.cx,a,a/2),d=Ft(e.cy,s,s/2),h=gI(a,s,r),g=Ft(e.innerRadius,h,0),v=Ft(e.outerRadius,h,h*.8),y=Object.keys(n);return y.reduce(function(b,w){var x=n[w],_=x.domain,T=x.reversed,S;if(ve(x.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[g,v]),T&&(S=[S[1],S[0]]);else{S=x.range;var E=S,A=RW(E,2);l=A[0],u=A[1]}var C=cI(x,o),k=C.realScaleType,N=C.scale;N.domain(_).range(S),dI(N);var P=fI(N,pr(pr({},x),{},{realScaleType:k})),M=pr(pr(pr({},x),P),{},{range:S,radius:v,realScaleType:k,scale:N,cx:c,cy:d,innerRadius:g,outerRadius:v,startAngle:l,endAngle:u});return pr(pr({},b),{},mI({},w,M))},{})},FW=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},VW=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=FW({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:UW(u),angleInRadian:u}},zW=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},qW=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},F_=function(e,n){var r=e.x,i=e.y,o=VW({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=zW(n),d=c.startAngle,h=c.endAngle,g=s,v;if(d<=h){for(;g>h;)g-=360;for(;g<d;)g+=360;v=g>=d&&g<=h}else{for(;g>d;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=d}return v?pr(pr({},n),{},{radius:a,angle:qW(g,n)}):null},vI=function(e){return!O.isValidElement(e)&&!ge(e)&&typeof e!="boolean"?e.className:""};function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}var HW=["offset"];function GW(t){return YW(t)||JW(t)||KW(t)||WW()}function WW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KW(t,e){if(t){if(typeof t=="string")return Cg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cg(t,e)}}function JW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YW(t){if(Array.isArray(t))return Cg(t)}function Cg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XW(t,e){if(t==null)return{};var n=QW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function V_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V_(Object(n),!0).forEach(function(r){ZW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZW(t,e,n){return e=eK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eK(t){var e=tK(t,"string");return Bl(e)=="symbol"?e:e+""}function tK(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fl.apply(this,arguments)}var nK=function(e){var n=e.value,r=e.formatter,i=ve(e.children)?n:e.children;return ge(r)?r(i):i},rK=function(e,n){var r=Bt(n-e),i=Math.min(Math.abs(n-e),360);return r*i},iK=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,g=l.startAngle,v=l.endAngle,y=l.clockWise,b=(d+h)/2,w=rK(g,v),x=w>=0?1:-1,_,T;i==="insideStart"?(_=g+x*a,T=y):i==="insideEnd"?(_=v-x*a,T=!y):i==="end"&&(_=v+x*a,T=y),T=w<=0?T:!T;var S=Be(u,c,b,_),E=Be(u,c,b,_+(T?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(T?0:1,`,
    `).concat(E.x,",").concat(E.y),C=ve(e.id)?Qa("recharts-radial-line-"):e.id;return I.createElement("text",Fl({},r,{dominantBaseline:"central",className:ye("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:C,d:A})),I.createElement("textPath",{xlinkHref:"#".concat(C)},n))},oK=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var g=Be(a,s,u+r,h),v=g.x,y=g.y;return{x:v,y,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,w=Be(a,s,b,h),x=w.x,_=w.y;return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},aK=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,d=c>=0?1:-1,h=d*i,g=d>0?"end":"start",v=d>0?"start":"end",y=u>=0?1:-1,b=y*i,w=y>0?"end":"start",x=y>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:g};return ut(ut({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return ut(ut({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:s-b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return ut(ut({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var E={x:s+u+b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return ut(ut({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return o==="insideLeft"?ut({x:s+b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},A):o==="insideRight"?ut({x:s+u-b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},A):o==="insideTop"?ut({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},A):o==="insideBottom"?ut({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:g},A):o==="insideTopLeft"?ut({x:s+b,y:l+h,textAnchor:x,verticalAnchor:v},A):o==="insideTopRight"?ut({x:s+u-b,y:l+h,textAnchor:w,verticalAnchor:v},A):o==="insideBottomLeft"?ut({x:s+b,y:l+c-h,textAnchor:x,verticalAnchor:g},A):o==="insideBottomRight"?ut({x:s+u-b,y:l+c-h,textAnchor:w,verticalAnchor:g},A):Ka(o)&&(X(o.x)||qi(o.x))&&(X(o.y)||qi(o.y))?ut({x:s+Ft(o.x,u),y:l+Ft(o.y,c),textAnchor:"end",verticalAnchor:"end"},A):ut({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},sK=function(e){return"cx"in e&&X(e.cx)};function wt(t){var e=t.offset,n=e===void 0?5:e,r=XW(t,HW),i=ut({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||ve(s)&&ve(l)&&!O.isValidElement(u)&&!ge(u))return null;if(O.isValidElement(u))return O.cloneElement(u,i);var g;if(ge(u)){if(g=O.createElement(u,i),O.isValidElement(g))return g}else g=nK(i);var v=sK(o),y=fe(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return iK(i,g,y);var b=v?oK(i):aK(i);return I.createElement(ao,Fl({className:ye("recharts-label",d)},y,b,{breakAll:h}),g)}wt.displayName="Label";var yI=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,g=e.top,v=e.left,y=e.width,b=e.height,w=e.clockWise,x=e.labelViewBox;if(x)return x;if(X(y)&&X(b)){if(X(d)&&X(h))return{x:d,y:h,width:y,height:b};if(X(g)&&X(v))return{x:g,y:v,width:y,height:b}}return X(d)&&X(h)?{x:d,y:h,width:0,height:0}:X(n)&&X(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},lK=function(e,n){return e?e===!0?I.createElement(wt,{key:"label-implicit",viewBox:n}):pt(e)?I.createElement(wt,{key:"label-implicit",viewBox:n,value:e}):O.isValidElement(e)?e.type===wt?O.cloneElement(e,{key:"label-implicit",viewBox:n}):I.createElement(wt,{key:"label-implicit",content:e,viewBox:n}):ge(e)?I.createElement(wt,{key:"label-implicit",content:e,viewBox:n}):Ka(e)?I.createElement(wt,Fl({viewBox:n},e,{key:"label-implicit"})):null:null},uK=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=yI(e),a=pn(i,wt).map(function(l,u){return O.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=lK(e.label,n||o);return[s].concat(GW(a))};wt.parseViewBox=yI;wt.renderCallByParent=uK;function cK(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var dK=cK;const fK=Oe(dK);function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}var hK=["valueAccessor"],pK=["data","dataKey","clockWise","id","textBreakAll"];function mK(t){return wK(t)||yK(t)||vK(t)||gK()}function gK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vK(t,e){if(t){if(typeof t=="string")return kg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kg(t,e)}}function yK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wK(t){if(Array.isArray(t))return kg(t)}function kg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Id(){return Id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Id.apply(this,arguments)}function z_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z_(Object(n),!0).forEach(function(r){bK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bK(t,e,n){return e=xK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xK(t){var e=_K(t,"string");return Vl(e)=="symbol"?e:e+""}function _K(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H_(t,e){if(t==null)return{};var n=SK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var EK=function(e){return Array.isArray(e.value)?fK(e.value):e.value};function Ar(t){var e=t.valueAccessor,n=e===void 0?EK:e,r=H_(t,hK),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=H_(r,pK);return!i||!i.length?null:I.createElement(Ce,{className:"recharts-label-list"},i.map(function(c,d){var h=ve(o)?n(c,d):ft(c&&c.payload,o),g=ve(s)?{}:{id:"".concat(s,"-").concat(d)};return I.createElement(wt,Id({},fe(c,!0),u,g,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:wt.parseViewBox(ve(a)?c:q_(q_({},c),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Ar.displayName="LabelList";function TK(t,e){return t?t===!0?I.createElement(Ar,{key:"labelList-implicit",data:e}):I.isValidElement(t)||ge(t)?I.createElement(Ar,{key:"labelList-implicit",data:e,content:t}):Ka(t)?I.createElement(Ar,Id({data:e},t,{key:"labelList-implicit"})):null:null}function AK(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=pn(r,Ar).map(function(a,s){return O.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=TK(t.label,e);return[o].concat(mK(i))}Ar.renderCallByParent=AK;function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}function G_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(n),!0).forEach(function(r){CK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CK(t,e,n){return e=kK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kK(t){var e=PK(t,"string");return zl(e)=="symbol"?e:e+""}function PK(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IK=function(e,n){var r=Bt(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Zu=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/Pd,h=u?o:o+a*d,g=Be(n,r,c,h),v=Be(n,r,i,h),y=u?o-a*d:o,b=Be(n,r,c*Math.cos(d*Pd),y);return{center:g,circleTangency:v,lineTangency:b,theta:d}},wI=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=IK(a,s),u=a+l,c=Be(n,r,o,a),d=Be(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=Be(n,r,i,a),v=Be(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},NK=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Bt(c-u),h=Zu({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),g=h.circleTangency,v=h.lineTangency,y=h.theta,b=Zu({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),w=b.circleTangency,x=b.lineTangency,_=b.theta,T=l?Math.abs(u-c):Math.abs(u-c)-y-_;if(T<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):wI({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var E=Zu({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=E.circleTangency,C=E.lineTangency,k=E.theta,N=Zu({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),P=N.circleTangency,M=N.lineTangency,j=N.theta,L=l?Math.abs(u-c):Math.abs(u-c)-k-j;if(L<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},OK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bI=function(e){var n=W_(W_({},OK),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(a<o||c===d)return null;var g=ye("recharts-sector",h),v=a-o,y=Ft(s,v,0,!0),b;return y>0&&Math.abs(c-d)<360?b=NK({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):b=wI({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:d}),I.createElement("path",Pg({},fe(n,!0),{className:g,d:b,role:"img"}))};function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(this,arguments)}function K_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K_(Object(n),!0).forEach(function(r){MK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MK(t,e,n){return e=RK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RK(t){var e=$K(t,"string");return ql(e)=="symbol"?e:e+""}function $K(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y_={curveBasisClosed:M3,curveBasisOpen:R3,curveBasis:O3,curveBumpX:y3,curveBumpY:w3,curveLinearClosed:$3,curveLinear:Hf,curveMonotoneX:D3,curveMonotoneY:j3,curveNatural:L3,curveStep:U3,curveStepAfter:F3,curveStepBefore:B3},ec=function(e){return e.x===+e.x&&e.y===+e.y},Is=function(e){return e.x},Ns=function(e){return e.y},DK=function(e,n){if(ge(e))return e;var r="curve".concat(zf(e));return(r==="curveMonotone"||r==="curveBump")&&n?Y_["".concat(r).concat(n==="vertical"?"Y":"X")]:Y_[r]||Hf},jK=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=DK(r,s),d=u?o.filter(function(y){return ec(y)}):o,h;if(Array.isArray(a)){var g=u?a.filter(function(y){return ec(y)}):a,v=d.map(function(y,b){return J_(J_({},y),{},{base:g[b]})});return s==="vertical"?h=qu().y(Ns).x1(Is).x0(function(y){return y.base.x}):h=qu().x(Is).y1(Ns).y0(function(y){return y.base.y}),h.defined(ec).curve(c),h(v)}return s==="vertical"&&X(a)?h=qu().y(Ns).x1(Is).x0(a):X(a)?h=qu().x(Is).y1(Ns).y0(a):h=pk().x(Is).y(Ns),h.defined(ec).curve(c),h(d)},Nd=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?jK(e):i;return O.createElement("path",Ig({},fe(e,!1),td(e),{className:ye("recharts-curve",n),d:a,ref:o}))},xI={exports:{}},LK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",UK=LK,BK=UK;function _I(){}function SI(){}SI.resetWarningCache=_I;var FK=function(){function t(r,i,o,a,s,l){if(l!==BK){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:SI,resetWarningCache:_I};return n.PropTypes=n,n};xI.exports=FK();var VK=xI.exports;const Ie=Oe(VK);var zK=Object.getOwnPropertyNames,qK=Object.getOwnPropertySymbols,HK=Object.prototype.hasOwnProperty;function X_(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function tc(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function GK(t){return t!=null?t[Symbol.toStringTag]:void 0}function Q_(t){return zK(t).concat(qK(t))}var WK=Object.hasOwn||function(t,e){return HK.call(t,e)};function yo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var KK="__v",JK="__o",YK="_owner",Z_=Object.getOwnPropertyDescriptor,e1=Object.keys;function XK(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function QK(t,e){return yo(t.getTime(),e.getTime())}function ZK(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function eJ(t,e){return t===e}function t1(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),c=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var h=a.value,g=s.value;if(n.equals(h[0],g[0],l,d,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}var tJ=yo;function nJ(t,e,n){var r=e1(t),i=r.length;if(e1(e).length!==i)return!1;for(;i-- >0;)if(!EI(t,e,n,r[i]))return!1;return!0}function Os(t,e,n){var r=Q_(t),i=r.length;if(Q_(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!EI(t,e,n,o)||(a=Z_(t,o),s=Z_(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function rJ(t,e){return yo(t.valueOf(),e.valueOf())}function iJ(t,e){return t.source===e.source&&t.flags===e.flags}function n1(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function oJ(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function aJ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function EI(t,e,n,r){return(r===YK||r===JK||r===KK)&&(t.$$typeof||e.$$typeof)?!0:WK(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var sJ="[object Arguments]",lJ="[object Boolean]",uJ="[object Date]",cJ="[object Error]",dJ="[object Map]",fJ="[object Number]",hJ="[object Object]",pJ="[object RegExp]",mJ="[object Set]",gJ="[object String]",vJ="[object URL]",yJ=Array.isArray,r1=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,i1=Object.assign,wJ=Object.prototype.toString.call.bind(Object.prototype.toString);function bJ(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual,g=t.unknownTagComparators;return function(y,b,w){if(y===b)return!0;if(y==null||b==null)return!1;var x=typeof y;if(x!==typeof b)return!1;if(x!=="object")return x==="number"?a(y,b,w):x==="function"?i(y,b,w):!1;var _=y.constructor;if(_!==b.constructor)return!1;if(_===Object)return s(y,b,w);if(yJ(y))return e(y,b,w);if(r1!=null&&r1(y))return d(y,b,w);if(_===Date)return n(y,b,w);if(_===RegExp)return u(y,b,w);if(_===Map)return o(y,b,w);if(_===Set)return c(y,b,w);var T=wJ(y);if(T===uJ)return n(y,b,w);if(T===pJ)return u(y,b,w);if(T===dJ)return o(y,b,w);if(T===mJ)return c(y,b,w);if(T===hJ)return typeof y.then!="function"&&typeof b.then!="function"&&s(y,b,w);if(T===vJ)return h(y,b,w);if(T===cJ)return r(y,b,w);if(T===sJ)return s(y,b,w);if(T===lJ||T===fJ||T===gJ)return l(y,b,w);if(g){var S=g[T];if(!S){var E=GK(y);E&&(S=g[E])}if(S)return S(y,b,w)}return!1}}function xJ(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Os:XK,areDatesEqual:QK,areErrorsEqual:ZK,areFunctionsEqual:eJ,areMapsEqual:r?X_(t1,Os):t1,areNumbersEqual:tJ,areObjectsEqual:r?Os:nJ,arePrimitiveWrappersEqual:rJ,areRegExpsEqual:iJ,areSetsEqual:r?X_(n1,Os):n1,areTypedArraysEqual:r?Os:oJ,areUrlsEqual:aJ,unknownTagComparators:void 0};if(n&&(i=i1({},i,n(i))),e){var o=tc(i.areArraysEqual),a=tc(i.areMapsEqual),s=tc(i.areObjectsEqual),l=tc(i.areSetsEqual);i=i1({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function _J(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function SJ(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),d=c.cache,h=d===void 0?e?new WeakMap:void 0:d,g=c.meta;return n(l,u,{cache:h,equals:i,meta:g,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var EJ=_i();_i({strict:!0});_i({circular:!0});_i({circular:!0,strict:!0});_i({createInternalComparator:function(){return yo}});_i({strict:!0,createInternalComparator:function(){return yo}});_i({circular:!0,createInternalComparator:function(){return yo}});_i({circular:!0,createInternalComparator:function(){return yo},strict:!0});function _i(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=xJ(t),l=bJ(s),u=r?r(l):_J(l);return SJ({circular:n,comparator:l,createState:i,equals:u,strict:a})}function TJ(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function o1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):TJ(i)};requestAnimationFrame(r)}function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function AJ(t){return IJ(t)||PJ(t)||kJ(t)||CJ()}function CJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kJ(t,e){if(t){if(typeof t=="string")return a1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a1(t,e)}}function a1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IJ(t){if(Array.isArray(t))return t}function NJ(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=AJ(a),l=s[0],u=s.slice(1);if(typeof l=="number"){o1(i.bind(null,u),l);return}i(l),o1(i.bind(null,u));return}Ng(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function s1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s1(Object(n),!0).forEach(function(r){TI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TI(t,e,n){return e=OJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OJ(t){var e=MJ(t,"string");return Hl(e)==="symbol"?e:String(e)}function MJ(t,e){if(Hl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RJ=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},$J=function(e){return e},DJ=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Zs=function(e,n){return Object.keys(n).reduce(function(r,i){return l1(l1({},r),{},TI({},i,e(i,n[i])))},{})},u1=function(e,n,r){return e.map(function(i){return"".concat(DJ(i)," ").concat(n,"ms ").concat(r)}).join(",")};function jJ(t,e){return BJ(t)||UJ(t,e)||AI(t,e)||LJ()}function LJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function BJ(t){if(Array.isArray(t))return t}function FJ(t){return qJ(t)||zJ(t)||AI(t)||VJ()}function VJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AI(t,e){if(t){if(typeof t=="string")return Og(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Og(t,e)}}function zJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qJ(t){if(Array.isArray(t))return Og(t)}function Og(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Od=1e-4,CI=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},kI=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},c1=function(e,n){return function(r){var i=CI(e,n);return kI(i,r)}},HJ=function(e,n){return function(r){var i=CI(e,n),o=[].concat(FJ(i.map(function(a,s){return a*s}).slice(1)),[0]);return kI(o,r)}},d1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),c=jJ(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var d=c1(i,a),h=c1(o,s),g=HJ(i,a),v=function(w){return w>1?1:w<0?0:w},y=function(w){for(var x=w>1?1:w,_=x,T=0;T<8;++T){var S=d(_)-x,E=g(_);if(Math.abs(S-x)<Od||E<Od)return h(_);_=v(_-S/E)}return h(_)};return y.isStepper=!1,y},GJ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,d,h){var g=-(c-d)*r,v=h*o,y=h+(g-v)*s/1e3,b=h*s/1e3+c;return Math.abs(b-d)<Od&&Math.abs(y)<Od?[d,0]:[b,y]};return l.isStepper=!0,l.dt=s,l},WJ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return d1(i);case"spring":return GJ();default:if(i.split("(")[0]==="cubic-bezier")return d1(i)}return typeof i=="function"?i:null};function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function f1(t){return YJ(t)||JJ(t)||PI(t)||KJ()}function KJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YJ(t){if(Array.isArray(t))return Rg(t)}function h1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h1(Object(n),!0).forEach(function(r){Mg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mg(t,e,n){return e=XJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XJ(t){var e=QJ(t,"string");return Gl(e)==="symbol"?e:String(e)}function QJ(t,e){if(Gl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZJ(t,e){return nY(t)||tY(t,e)||PI(t,e)||eY()}function eY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PI(t,e){if(t){if(typeof t=="string")return Rg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rg(t,e)}}function Rg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function nY(t){if(Array.isArray(t))return t}var Md=function(e,n,r){return e+(n-e)*r},$g=function(e){var n=e.from,r=e.to;return n!==r},rY=function t(e,n,r){var i=Zs(function(o,a){if($g(a)){var s=e(a.from,a.to,a.velocity),l=ZJ(s,2),u=l[0],c=l[1];return Tt(Tt({},a),{},{from:u,velocity:c})}return a},n);return r<1?Zs(function(o,a){return $g(a)?Tt(Tt({},a),{},{velocity:Md(a.velocity,i[o].velocity,r),from:Md(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const iY=function(t,e,n,r,i){var o=RJ(t,e),a=o.reduce(function(b,w){return Tt(Tt({},b),{},Mg({},w,[t[w],e[w]]))},{}),s=o.reduce(function(b,w){return Tt(Tt({},b),{},Mg({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return Zs(function(w,x){return x.from},s)},g=function(){return!Object.values(s).filter($g).length},v=function(w){u||(u=w);var x=w-u,_=x/n.dt;s=rY(n,s,_),i(Tt(Tt(Tt({},t),e),h())),u=w,g()||(l=requestAnimationFrame(d))},y=function(w){c||(c=w);var x=(w-c)/r,_=Zs(function(S,E){return Md.apply(void 0,f1(E).concat([n(x)]))},a);if(i(Tt(Tt(Tt({},t),e),_)),x<1)l=requestAnimationFrame(d);else{var T=Zs(function(S,E){return Md.apply(void 0,f1(E).concat([n(1)]))},a);i(Tt(Tt(Tt({},t),e),T))}};return d=n.isStepper?v:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Ca(t){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(t)}var oY=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function aY(t,e){if(t==null)return{};var n=sY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Cp(t){return dY(t)||cY(t)||uY(t)||lY()}function lY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uY(t,e){if(t){if(typeof t=="string")return Dg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dg(t,e)}}function cY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dY(t){if(Array.isArray(t))return Dg(t)}function Dg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p1(Object(n),!0).forEach(function(r){Us(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Us(t,e,n){return e=II(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,II(r.key),r)}}function pY(t,e,n){return e&&hY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function II(t){var e=mY(t,"string");return Ca(e)==="symbol"?e:String(e)}function mY(t,e){if(Ca(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ca(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jg(t,e)}function jg(t,e){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jg(t,e)}function vY(t){var e=yY();return function(){var r=Rd(t),i;if(e){var o=Rd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Lg(this,i)}}function Lg(t,e){if(e&&(Ca(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ug(t)}function Ug(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rd(t){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rd(t)}var lr=function(t){gY(n,t);var e=vY(n);function n(r,i){var o;fY(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,d=a.steps,h=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Ug(o)),o.changeStyle=o.changeStyle.bind(Ug(o)),!s||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),Lg(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Lg(o);o.state={style:l?Us({},l,u):u}}else o.state={style:{}};return o}return pY(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(s){if(!a){var g={style:l?Us({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(g);return}if(!(EJ(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?d:i.to;if(this.state&&h){var b={style:l?Us({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(b)}this.runAnimation(Ln(Ln({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,g=iY(a,s,WJ(u),l,this.changeStyle),v=function(){o.stopJSAnimation=g()};this.manager.start([h,c,v,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,d=u.duration,h=d===void 0?0:d,g=function(y,b,w){if(w===0)return y;var x=b.duration,_=b.easing,T=_===void 0?"ease":_,S=b.style,E=b.properties,A=b.onAnimationEnd,C=w>0?a[w-1]:b,k=E||Object.keys(S);if(typeof T=="function"||T==="spring")return[].concat(Cp(y),[o.runJSAnimation.bind(o,{from:C.style,to:S,duration:x,easing:T}),x]);var N=u1(k,x,T),P=Ln(Ln(Ln({},C.style),S),{},{transition:N});return[].concat(Cp(y),[P,x,A]).filter($J)};return this.manager.start([l].concat(Cp(a.reduce(g,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=NJ());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?Us({},s,l):l,b=u1(Object.keys(y),a,u);v.start([c,o,Ln(Ln({},y),{},{transition:b}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=aY(i,oY),u=O.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var d=function(g){var v=g.props,y=v.style,b=y===void 0?{}:y,w=v.className,x=O.cloneElement(g,Ln(Ln({},l),{},{style:Ln(Ln({},b),c),className:w}));return x};return u===1?d(O.Children.only(o)):I.createElement("div",null,O.Children.map(o,function(h){return d(h)}))}}]),n}(O.PureComponent);lr.displayName="Animate";lr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};lr.propTypes={from:Ie.oneOfType([Ie.object,Ie.string]),to:Ie.oneOfType([Ie.object,Ie.string]),attributeName:Ie.string,duration:Ie.number,begin:Ie.number,easing:Ie.oneOfType([Ie.string,Ie.func]),steps:Ie.arrayOf(Ie.shape({duration:Ie.number.isRequired,style:Ie.object.isRequired,easing:Ie.oneOfType([Ie.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ie.func]),properties:Ie.arrayOf("string"),onAnimationEnd:Ie.func})),children:Ie.oneOfType([Ie.node,Ie.func]),isActive:Ie.bool,canBegin:Ie.bool,onAnimationEnd:Ie.func,shouldReAnimate:Ie.bool,onAnimationStart:Ie.func,onAnimationReStart:Ie.func};function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function $d(){return $d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$d.apply(this,arguments)}function wY(t,e){return SY(t)||_Y(t,e)||xY(t,e)||bY()}function bY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xY(t,e){if(t){if(typeof t=="string")return m1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m1(t,e)}}function m1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Y(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function SY(t){if(Array.isArray(t))return t}function g1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g1(Object(n),!0).forEach(function(r){EY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EY(t,e,n){return e=TY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TY(t){var e=AY(t,"string");return Wl(e)=="symbol"?e:e+""}function AY(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y1=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*d[1])),c+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*d[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);c="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},CY=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),d=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},kY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},C0=function(e){var n=v1(v1({},kY),e),r=O.useRef(),i=O.useState(-1),o=wY(i,2),a=o[0],s=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,g=n.className,v=n.animationEasing,y=n.animationDuration,b=n.animationBegin,w=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var _=ye("recharts-rectangle",g);return x?I.createElement(lr,{canBegin:a>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:y,animationEasing:v,isActive:x},function(T){var S=T.width,E=T.height,A=T.x,C=T.y;return I.createElement(lr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:w,easing:v},I.createElement("path",$d({},fe(n,!0),{className:_,d:y1(A,C,S,E,h),ref:r})))}):I.createElement("path",$d({},fe(n,!0),{className:_,d:y1(l,u,c,d,h)}))},PY=["points","className","baseLinePoints","connectNulls"];function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wo.apply(this,arguments)}function IY(t,e){if(t==null)return{};var n=NY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function w1(t){return $Y(t)||RY(t)||MY(t)||OY()}function OY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MY(t,e){if(t){if(typeof t=="string")return Bg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bg(t,e)}}function RY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Y(t){if(Array.isArray(t))return Bg(t)}function Bg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var b1=function(e){return e&&e.x===+e.x&&e.y===+e.y},DY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){b1(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),b1(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},el=function(e,n){var r=DY(e);n&&(r=[r.reduce(function(o,a){return[].concat(w1(o),w1(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},jY=function(e,n,r){var i=el(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(el(n.reverse(),r).slice(1))},LY=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=IY(e,PY);if(!n||!n.length)return null;var s=ye("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=jY(n,i,o);return I.createElement("g",{className:s},I.createElement("path",Wo({},fe(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?I.createElement("path",Wo({},fe(a,!0),{fill:"none",d:el(n,o)})):null,l?I.createElement("path",Wo({},fe(a,!0),{fill:"none",d:el(i,o)})):null)}var c=el(n,o);return I.createElement("path",Wo({},fe(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function Fg(){return Fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fg.apply(this,arguments)}var lh=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=ye("recharts-dot",o);return n===+n&&r===+r&&i===+i?O.createElement("circle",Fg({},fe(e,!1),td(e),{className:a,cx:n,cy:r,r:i})):null};function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}var UY=["x","y","top","left","width","height","className"];function Vg(){return Vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(this,arguments)}function x1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x1(Object(n),!0).forEach(function(r){FY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FY(t,e,n){return e=VY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VY(t){var e=zY(t,"string");return Kl(e)=="symbol"?e:e+""}function zY(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qY(t,e){if(t==null)return{};var n=HY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var GY=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},WY=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,g=h===void 0?0:h,v=e.className,y=qY(e,UY),b=BY({x:r,y:o,top:s,left:u,width:d,height:g},y);return!X(r)||!X(o)||!X(d)||!X(g)||!X(s)||!X(u)?null:I.createElement("path",Vg({},fe(b,!0),{className:ye("recharts-cross",v),d:GY(r,o,d,g,s,u)}))},KY=rh,JY=VP,YY=cr;function XY(t,e){return t&&t.length?KY(t,YY(e),JY):void 0}var QY=XY;const ZY=Oe(QY);var eX=rh,tX=cr,nX=zP;function rX(t,e){return t&&t.length?eX(t,tX(e),nX):void 0}var iX=rX;const oX=Oe(iX);var aX=["cx","cy","angle","ticks","axisLine"],sX=["ticks","tick","angle","tickFormatter","stroke"];function ka(t){"@babel/helpers - typeof";return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ka(t)}function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tl.apply(this,arguments)}function _1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_1(Object(n),!0).forEach(function(r){uh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S1(t,e){if(t==null)return{};var n=lX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OI(r.key),r)}}function cX(t,e,n){return e&&E1(t.prototype,e),n&&E1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dX(t,e,n){return e=Dd(e),fX(t,NI()?Reflect.construct(e,n||[],Dd(t).constructor):e.apply(t,n))}function fX(t,e){if(e&&(ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hX(t)}function hX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NI=function(){return!!t})()}function Dd(t){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dd(t)}function pX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zg(t,e)}function zg(t,e){return zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zg(t,e)}function uh(t,e,n){return e=OI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OI(t){var e=mX(t,"string");return ka(e)=="symbol"?e:e+""}function mX(t,e){if(ka(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ka(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ch=function(t){function e(){return uX(this,e),dX(this,e,arguments)}return pX(e,t),cX(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Be(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=ZY(s,function(c){return c.coordinate||0}),u=oX(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=S1(r,aX),c=s.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),d=Be(i,o,c[0],a),h=Be(i,o,c[1],a),g=Ci(Ci(Ci({},fe(u,!1)),{},{fill:"none"},fe(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return I.createElement("line",tl({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=S1(i,sX),d=this.getTickTextAnchor(),h=fe(c,!1),g=fe(a,!1),v=o.map(function(y,b){var w=r.getTickValueCoord(y),x=Ci(Ci(Ci(Ci({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},g),{},{index:b},w),{},{payload:y});return I.createElement(Ce,tl({className:ye("recharts-polar-radius-axis-tick",vI(a)),key:"tick-".concat(y.coordinate)},oo(r.props,y,b)),e.renderTickItem(a,x,l?l(y.value,b):y.value))});return I.createElement(Ce,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:I.createElement(Ce,{className:ye("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),wt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):ge(r)?a=r(i):a=I.createElement(ao,tl({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(O.PureComponent);uh(ch,"displayName","PolarRadiusAxis");uh(ch,"axisType","radiusAxis");uh(ch,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Pa(t){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(t)}function ji(){return ji=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ji.apply(this,arguments)}function T1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T1(Object(n),!0).forEach(function(r){dh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RI(r.key),r)}}function vX(t,e,n){return e&&A1(t.prototype,e),n&&A1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yX(t,e,n){return e=jd(e),wX(t,MI()?Reflect.construct(e,n||[],jd(t).constructor):e.apply(t,n))}function wX(t,e){if(e&&(Pa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bX(t)}function bX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MI=function(){return!!t})()}function jd(t){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jd(t)}function xX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qg(t,e)}function qg(t,e){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qg(t,e)}function dh(t,e,n){return e=RI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RI(t){var e=_X(t,"string");return Pa(e)=="symbol"?e:e+""}function _X(t,e){if(Pa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SX=Math.PI/180,C1=1e-5,fh=function(t){function e(){return gX(this,e),yX(this,e,arguments)}return xX(e,t),vX(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,d=Be(o,a,s,r.coordinate),h=Be(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*SX),a;return o>C1?a=i==="outer"?"start":"end":o<-C1?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=ki(ki({},fe(this.props,!1)),{},{fill:"none"},fe(s,!1));if(l==="circle")return I.createElement(lh,ji({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,d=c.map(function(h){return Be(i,o,a,h.coordinate)});return I.createElement(LY,ji({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=fe(this.props,!1),d=fe(a,!1),h=ki(ki({},c),{},{fill:"none"},fe(s,!1)),g=o.map(function(v,y){var b=r.getTickLineCoord(v),w=r.getTickTextAnchor(v),x=ki(ki(ki({textAnchor:w},c),{},{stroke:"none",fill:u},d),{},{index:y,payload:v,x:b.x2,y:b.y2});return I.createElement(Ce,ji({className:ye("recharts-polar-angle-axis-tick",vI(a)),key:"tick-".concat(v.coordinate)},oo(r.props,v,y)),s&&I.createElement("line",ji({className:"recharts-polar-angle-axis-tick-line"},h,b)),a&&e.renderTickItem(a,x,l?l(v.value,y):v.value))});return I.createElement(Ce,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:I.createElement(Ce,{className:ye("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):ge(r)?a=r(i):a=I.createElement(ao,ji({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(O.PureComponent);dh(fh,"displayName","PolarAngleAxis");dh(fh,"axisType","angleAxis");dh(fh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var EX=Lk,TX=EX(Object.getPrototypeOf,Object),AX=TX,CX=Dr,kX=AX,PX=jr,IX="[object Object]",NX=Function.prototype,OX=Object.prototype,$I=NX.toString,MX=OX.hasOwnProperty,RX=$I.call(Object);function $X(t){if(!PX(t)||CX(t)!=IX)return!1;var e=kX(t);if(e===null)return!0;var n=MX.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&$I.call(n)==RX}var DX=$X;const jX=Oe(DX);var LX=Dr,UX=jr,BX="[object Boolean]";function FX(t){return t===!0||t===!1||UX(t)&&LX(t)==BX}var VX=FX;const zX=Oe(VX);function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ld.apply(this,arguments)}function qX(t,e){return KX(t)||WX(t,e)||GX(t,e)||HX()}function HX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GX(t,e){if(t){if(typeof t=="string")return k1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k1(t,e)}}function k1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function KX(t){if(Array.isArray(t))return t}function P1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P1(Object(n),!0).forEach(function(r){JX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JX(t,e,n){return e=YX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YX(t){var e=XX(t,"string");return Jl(e)=="symbol"?e:e+""}function XX(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N1=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},QX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZX=function(e){var n=I1(I1({},QX),e),r=O.useRef(),i=O.useState(-1),o=qX(i,2),a=o[0],s=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,g=n.className,v=n.animationEasing,y=n.animationDuration,b=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var x=ye("recharts-trapezoid",g);return w?I.createElement(lr,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:y,animationEasing:v,isActive:w},function(_){var T=_.upperWidth,S=_.lowerWidth,E=_.height,A=_.x,C=_.y;return I.createElement(lr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:v},I.createElement("path",Ld({},fe(n,!0),{className:x,d:N1(A,C,T,S,E),ref:r})))}):I.createElement("g",null,I.createElement("path",Ld({},fe(n,!0),{className:x,d:N1(l,u,c,d,h)})))},eQ=["option","shapeType","propTransformer","activeClassName","isActive"];function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function tQ(t,e){if(t==null)return{};var n=nQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function O1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O1(Object(n),!0).forEach(function(r){rQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rQ(t,e,n){return e=iQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iQ(t){var e=oQ(t,"string");return Yl(e)=="symbol"?e:e+""}function oQ(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aQ(t,e){return Ud(Ud({},e),t)}function sQ(t,e){return t==="symbols"}function M1(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return I.createElement(C0,n);case"trapezoid":return I.createElement(ZX,n);case"sector":return I.createElement(bI,n);case"symbols":if(sQ(e))return I.createElement(Hy,n);break;default:return null}}function lQ(t){return O.isValidElement(t)?t.props:t}function DI(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?aQ:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=tQ(t,eQ),u;if(O.isValidElement(e))u=O.cloneElement(e,Ud(Ud({},l),lQ(e)));else if(ge(e))u=e(l);else if(jX(e)&&!zX(e)){var c=i(e,l);u=I.createElement(M1,{shapeType:n,elementProps:c})}else{var d=l;u=I.createElement(M1,{shapeType:n,elementProps:d})}return s?I.createElement(Ce,{className:a},u):u}function hh(t,e){return e!=null&&"trapezoids"in t.props}function ph(t,e){return e!=null&&"sectors"in t.props}function Xl(t,e){return e!=null&&"points"in t.props}function uQ(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function cQ(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function dQ(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function fQ(t,e){var n;return hh(t,e)?n=uQ:ph(t,e)?n=cQ:Xl(t,e)&&(n=dQ),n}function hQ(t,e){var n;return hh(t,e)?n="trapezoids":ph(t,e)?n="sectors":Xl(t,e)&&(n="points"),n}function pQ(t,e){if(hh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ph(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Xl(t,e)?e.payload:{}}function mQ(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=hQ(n,e),o=pQ(n,e),a=r.filter(function(l,u){var c=wu(o,l),d=n.props[i].filter(function(v){var y=fQ(n,e);return y(v,e)}),h=n.props[i].indexOf(d[d.length-1]),g=u===h;return c&&g}),s=r.indexOf(a[a.length-1]);return s}var Ac;function Ia(t){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(t)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ko.apply(this,arguments)}function R1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R1(Object(n),!0).forEach(function(r){An(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LI(r.key),r)}}function vQ(t,e,n){return e&&$1(t.prototype,e),n&&$1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yQ(t,e,n){return e=Bd(e),wQ(t,jI()?Reflect.construct(e,n||[],Bd(t).constructor):e.apply(t,n))}function wQ(t,e){if(e&&(Ia(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bQ(t)}function bQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jI=function(){return!!t})()}function Bd(t){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bd(t)}function xQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hg(t,e)}function Hg(t,e){return Hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hg(t,e)}function An(t,e,n){return e=LI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LI(t){var e=_Q(t,"string");return Ia(e)=="symbol"?e:e+""}function _Q(t,e){if(Ia(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ia(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ur=function(t){function e(n){var r;return gQ(this,e),r=yQ(this,e,[n]),An(r,"pieRef",null),An(r,"sectorRefs",[]),An(r,"id",Qa("recharts-pie-")),An(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ge(i)&&i()}),An(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ge(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return xQ(e,t),vQ(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=fe(this.props,!1),d=fe(a,!1),h=fe(s,!1),g=a&&a.offsetRadius||20,v=r.map(function(y,b){var w=(y.startAngle+y.endAngle)/2,x=Be(y.cx,y.cy,y.outerRadius+g,w),_=je(je(je(je({},c),y),{},{stroke:"none"},d),{},{index:b,textAnchor:e.getTextAnchor(x.x,y.cx)},x),T=je(je(je(je({},c),y),{},{fill:"none",stroke:y.fill},h),{},{index:b,points:[Be(y.cx,y.cy,y.outerRadius,w),x]}),S=l;return ve(l)&&ve(u)?S="value":ve(l)&&(S=u),I.createElement(Ce,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},s&&e.renderLabelLineItem(s,T,"line"),e.renderLabelItem(a,_,ft(y,S)))});return I.createElement(Ce,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,g=d?a:h,v=je(je({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return I.createElement(Ce,Ko({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},oo(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),I.createElement(DI,Ko({option:g,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state,h=d.prevSectors,g=d.prevIsAnimationActive;return I.createElement(lr,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,b=[],w=o&&o[0],x=w.startAngle;return o.forEach(function(_,T){var S=h&&h[T],E=T>0?hn(_,"paddingAngle",0):0;if(S){var A=sn(S.endAngle-S.startAngle,_.endAngle-_.startAngle),C=je(je({},_),{},{startAngle:x+E,endAngle:x+A(y)+E});b.push(C),x=C.endAngle}else{var k=_.endAngle,N=_.startAngle,P=sn(0,k-N),M=P(y),j=je(je({},_),{},{startAngle:x+E,endAngle:x+M+E});b.push(j),x=j.endAngle}}),I.createElement(Ce,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!wu(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,d=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!a||!a.length||!X(u)||!X(c)||!X(d)||!X(h))return null;var y=ye("recharts-pie",s);return I.createElement(Ce,{tabIndex:this.props.rootTabIndex,className:y,ref:function(w){r.pieRef=w}},this.renderSectors(),l&&this.renderLabels(a),wt.renderCallByParent(this.props,null,!1),(!g||v)&&Ar.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);if(ge(r))return r(i);var a=ye("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return I.createElement(Nd,Ko({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);var a=o;if(ge(r)&&(a=r(i),I.isValidElement(a)))return a;var s=ye("recharts-pie-label-text",typeof r!="boolean"&&!ge(r)?r.className:"");return I.createElement(ao,Ko({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(O.PureComponent);Ac=Ur;An(Ur,"displayName","Pie");An(Ur,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!mo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});An(Ur,"parseDeltaAngle",function(t,e){var n=Bt(e-t),r=Math.min(Math.abs(e-t),360);return n*r});An(Ur,"getRealPieData",function(t){var e=t.data,n=t.children,r=fe(t,!1),i=pn(n,Yf);return e&&e.length?e.map(function(o,a){return je(je(je({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return je(je({},r),o.props)}):[]});An(Ur,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=gI(i,o),s=r+Ft(t.cx,i,i/2),l=n+Ft(t.cy,o,o/2),u=Ft(t.innerRadius,a,0),c=Ft(t.outerRadius,a,a*.8),d=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:d}});An(Ur,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?je(je({},e.type.defaultProps),e.props):e.props,i=Ac.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,d=r.valueKey,h=r.tooltipType,g=Math.abs(r.minAngle),v=Ac.parseCoordinateOfPie(r,n),y=Ac.parseDeltaAngle(a,s),b=Math.abs(y),w=u;ve(u)&&ve(d)?(Jn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):ve(u)&&(Jn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=d);var x=i.filter(function(C){return ft(C,w,0)!==0}).length,_=(b>=360?x:x-1)*l,T=b-x*g-_,S=i.reduce(function(C,k){var N=ft(k,w,0);return C+(X(N)?N:0)},0),E;if(S>0){var A;E=i.map(function(C,k){var N=ft(C,w,0),P=ft(C,c,k),M=(X(N)?N:0)/S,j;k?j=A.endAngle+Bt(y)*l*(N!==0?1:0):j=a;var L=j+Bt(y)*((N!==0?g:0)+M*T),F=(j+L)/2,R=(v.innerRadius+v.outerRadius)/2,B=[{name:P,value:N,payload:C,dataKey:w,type:h}],D=Be(v.cx,v.cy,R,F);return A=je(je(je({percent:M,cornerRadius:o,name:P,tooltipPayload:B,midAngle:F,middleRadius:R,tooltipPosition:D},C),v),{},{value:ft(C,w),startAngle:j,endAngle:L,payload:C,paddingAngle:Bt(y)*l}),A})}return je(je({},v),{},{sectors:E,data:i})});var SQ=Math.ceil,EQ=Math.max;function TQ(t,e,n,r){for(var i=-1,o=EQ(SQ((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var AQ=TQ,CQ=rP,D1=1/0,kQ=17976931348623157e292;function PQ(t){if(!t)return t===0?t:0;if(t=CQ(t),t===D1||t===-D1){var e=t<0?-1:1;return e*kQ}return t===t?t:0}var UI=PQ,IQ=AQ,NQ=Jf,kp=UI;function OQ(t){return function(e,n,r){return r&&typeof r!="number"&&NQ(e,n,r)&&(n=r=void 0),e=kp(e),n===void 0?(n=e,e=0):n=kp(n),r=r===void 0?e<n?1:-1:kp(r),IQ(e,n,r,t)}}var MQ=OQ,RQ=MQ,$Q=RQ(),DQ=$Q;const Fd=Oe(DQ);function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function j1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j1(Object(n),!0).forEach(function(r){BI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BI(t,e,n){return e=jQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jQ(t){var e=LQ(t,"string");return Ql(e)=="symbol"?e:e+""}function LQ(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UQ=["Webkit","Moz","O","ms"],BQ=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=UQ.reduce(function(o,a){return L1(L1({},o),{},BI({},a+r,n))},{});return i[e]=n,i};function Na(t){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Na(t)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vd.apply(this,arguments)}function U1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U1(Object(n),!0).forEach(function(r){rn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VI(r.key),r)}}function VQ(t,e,n){return e&&B1(t.prototype,e),n&&B1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zQ(t,e,n){return e=zd(e),qQ(t,FI()?Reflect.construct(e,n||[],zd(t).constructor):e.apply(t,n))}function qQ(t,e){if(e&&(Na(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HQ(t)}function HQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FI=function(){return!!t})()}function zd(t){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zd(t)}function GQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gg(t,e)}function Gg(t,e){return Gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gg(t,e)}function rn(t,e,n){return e=VI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VI(t){var e=WQ(t,"string");return Na(e)=="symbol"?e:e+""}function WQ(t,e){if(Na(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Na(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KQ=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Xs().domain(Fd(0,l)).range([o,o+a-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},F1=function(e){return e.changedTouches&&!!e.changedTouches.length},Oa=function(t){function e(n){var r;return FQ(this,e),r=zQ(this,e,[n]),rn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),rn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),rn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),rn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),rn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),rn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),rn(r,"handleSlideDragStart",function(i){var o=F1(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return GQ(e,t),VQ(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(a,d),v=e.getIndexInRange(a,h);return{startIndex:g-g%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=ft(o[r],s,r);return ge(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,g=l.endIndex,v=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+c-d-s,u+c-d-a):y<0&&(y=Math.max(y,u-a,u-s));var b=this.getIndex({startX:a+y,endX:s+y});(b.startIndex!==h||b.endIndex!==g)&&v&&v(b),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=F1(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,d=c.x,h=c.width,g=c.travellerWidth,v=c.onChange,y=c.gap,b=c.data,w={startX:this.state.startX,endX:this.state.endX},x=r.pageX-o;x>0?x=Math.min(x,d+h-g-u):x<0&&(x=Math.max(x,d-u)),w[a]=u+x;var _=this.getIndex(w),T=_.startIndex,S=_.endIndex,E=function(){var C=b.length-1;return a==="startX"&&(s>l?T%y===0:S%y===0)||s<l&&S===C||a==="endX"&&(s>l?S%y===0:T%y===0)||s>l&&S===C};this.setState(rn(rn({},a,u+x),"brushMoveStartX",r.pageX),function(){v&&E()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(rn({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return I.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=O.Children.only(u);return d?I.cloneElement(d,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,g=l.ariaLabel,v=l.data,y=l.startIndex,b=l.endIndex,w=Math.max(r,this.props.x),x=Pp(Pp({},fe(this.props,!1)),{},{x:w,y:u,width:c,height:d}),_=g||"Min value: ".concat((o=v[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[b])===null||a===void 0?void 0:a.name);return I.createElement(Ce,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,g=5,v={pointerEvents:"none",fill:u};return I.createElement(Ce,{className:"recharts-brush-texts"},I.createElement(ao,Vd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-g,y:a+s/2},v),this.getTextOfTick(i)),I.createElement(ao,Vd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+g,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,g=h.startX,v=h.endX,y=h.isTextActive,b=h.isSlideMoving,w=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!X(s)||!X(l)||!X(u)||!X(c)||u<=0||c<=0)return null;var _=ye("recharts-brush",o),T=I.Children.count(a)===1,S=BQ("userSelect","none");return I.createElement(Ce,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(y||b||w||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return I.isValidElement(r)?o=I.cloneElement(r,i):ge(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Pp({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?KQ({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(O.PureComponent);rn(Oa,"displayName","Brush");rn(Oa,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var JQ=Qy;function YQ(t,e){var n;return JQ(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var XQ=YQ,QQ=Ik,ZQ=cr,eZ=XQ,tZ=Qt,nZ=Jf;function rZ(t,e,n){var r=tZ(t)?QQ:eZ;return n&&nZ(t,e,n)&&(e=void 0),r(t,ZQ(e))}var iZ=rZ;const oZ=Oe(iZ);var ar=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},V1=Qk;function aZ(t,e,n){e=="__proto__"&&V1?V1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var sZ=aZ,lZ=sZ,uZ=Yk,cZ=cr;function dZ(t,e){var n={};return e=cZ(e),uZ(t,function(r,i,o){lZ(n,i,e(r,i,o))}),n}var fZ=dZ;const hZ=Oe(fZ);function pZ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var mZ=pZ,gZ=Qy;function vZ(t,e){var n=!0;return gZ(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var yZ=vZ,wZ=mZ,bZ=yZ,xZ=cr,_Z=Qt,SZ=Jf;function EZ(t,e,n){var r=_Z(t)?wZ:bZ;return n&&SZ(t,e,n)&&(e=void 0),r(t,xZ(e))}var TZ=EZ;const zI=Oe(TZ);var AZ=["x","y"];function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wg.apply(this,arguments)}function z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z1(Object(n),!0).forEach(function(r){CZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CZ(t,e,n){return e=kZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kZ(t){var e=PZ(t,"string");return Zl(e)=="symbol"?e:e+""}function PZ(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IZ(t,e){if(t==null)return{};var n=NZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OZ(t,e){var n=t.x,r=t.y,i=IZ(t,AZ),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Ms(Ms(Ms(Ms(Ms({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function q1(t){return I.createElement(DI,Wg({shapeType:"rectangle",propTransformer:OZ,activeClassName:"recharts-active-bar"},t))}var MZ=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=X(r)||rL(r);return o?e(r,i):(o||lo(),n)}},RZ=["value","background"],qI;function Ma(t){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(t)}function $Z(t,e){if(t==null)return{};var n=DZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qd.apply(this,arguments)}function H1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H1(Object(n),!0).forEach(function(r){ni(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GI(r.key),r)}}function LZ(t,e,n){return e&&G1(t.prototype,e),n&&G1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function UZ(t,e,n){return e=Hd(e),BZ(t,HI()?Reflect.construct(e,n||[],Hd(t).constructor):e.apply(t,n))}function BZ(t,e){if(e&&(Ma(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FZ(t)}function FZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HI=function(){return!!t})()}function Hd(t){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hd(t)}function VZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kg(t,e)}function Kg(t,e){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kg(t,e)}function ni(t,e,n){return e=GI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GI(t){var e=zZ(t,"string");return Ma(e)=="symbol"?e:e+""}function zZ(t,e){if(Ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wo=function(t){function e(){var n;jZ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=UZ(this,e,[].concat(i)),ni(n,"state",{isAnimationFinished:!1}),ni(n,"id",Qa("recharts-bar-")),ni(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),ni(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return VZ(e,t),LZ(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=fe(this.props,!1);return r&&r.map(function(d,h){var g=h===l,v=g?u:a,y=rt(rt(rt({},c),d),{},{isActive:g,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(Ce,qd({className:"recharts-bar-rectangle"},oo(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),I.createElement(q1,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return I.createElement(lr,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,y=o.map(function(b,w){var x=h&&h[w];if(x){var _=sn(x.x,b.x),T=sn(x.y,b.y),S=sn(x.width,b.width),E=sn(x.height,b.height);return rt(rt({},b),{},{x:_(v),y:T(v),width:S(v),height:E(v)})}if(a==="horizontal"){var A=sn(0,b.height),C=A(v);return rt(rt({},b),{},{y:b.y+b.height-C,height:C})}var k=sn(0,b.width),N=k(v);return rt(rt({},b),{},{width:N})});return I.createElement(Ce,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!wu(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=fe(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=$Z(u,RZ);if(!d)return null;var g=rt(rt(rt(rt(rt({},h),{},{fill:"#eee"},d),l),oo(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return I.createElement(q1,qd({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=pn(c,bu);if(!d)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,g=function(b,w){var x=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:x,errorVal:ft(b,w)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return I.createElement(Ce,v,d.map(function(y){return I.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,g=r.isAnimationActive,v=r.background,y=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,w=ye("recharts-bar",a),x=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,T=x||_,S=ve(y)?this.id:y;return I.createElement(Ce,{className:w},x||_?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(S)},I.createElement("rect",{x:x?u:u-d/2,y:_?c:c-h/2,width:x?d:d*2,height:_?h:h*2}))):null,I.createElement(Ce,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,S),(!g||b)&&Ar.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(O.PureComponent);qI=wo;ni(wo,"displayName","Bar");ni(wo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!mo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ni(wo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,g=_W(r,n);if(!g)return null;var v=e.layout,y=n.type.defaultProps,b=y!==void 0?rt(rt({},y),n.props):n.props,w=b.dataKey,x=b.children,_=b.minPointSize,T=v==="horizontal"?a:o,S=u?T.scale.domain():null,E=PW({numericAxis:T}),A=pn(x,Yf),C=d.map(function(k,N){var P,M,j,L,F,R;u?P=SW(u[c+N],S):(P=ft(k,w),Array.isArray(P)||(P=[E,P]));var B=MZ(_,qI.defaultProps.minPointSize)(P[1],N);if(v==="horizontal"){var D,U=[a.scale(P[0]),a.scale(P[1])],H=U[0],Y=U[1];M=$_({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:k,index:N}),j=(D=Y??H)!==null&&D!==void 0?D:void 0,L=g.size;var G=H-Y;if(F=Number.isNaN(G)?0:G,R={x:M,y:a.y,width:L,height:a.height},Math.abs(B)>0&&Math.abs(F)<Math.abs(B)){var ne=Bt(F||B)*(Math.abs(B)-Math.abs(F));j-=ne,F+=ne}}else{var he=[o.scale(P[0]),o.scale(P[1])],we=he[0],_e=he[1];if(M=we,j=$_({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:k,index:N}),L=_e-we,F=g.size,R={x:o.x,y:j,width:o.width,height:F},Math.abs(B)>0&&Math.abs(L)<Math.abs(B)){var Ze=Bt(L||B)*(Math.abs(B)-Math.abs(L));L+=Ze}}return rt(rt(rt({},k),{},{x:M,y:j,width:L,height:F,value:u?P:P[1],payload:k,background:R},A&&A[N]&&A[N].props),{},{tooltipPayload:[pI(n,k)],tooltipPosition:{x:M+L/2,y:j+F/2}})});return rt({data:C,layout:v},h)});function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function qZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WI(r.key),r)}}function HZ(t,e,n){return e&&W1(t.prototype,e),n&&W1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function K1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K1(Object(n),!0).forEach(function(r){mh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mh(t,e,n){return e=WI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WI(t){var e=GZ(t,"string");return eu(e)=="symbol"?e:e+""}function GZ(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KI=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!an(u,wo);return c.reduce(function(g,v){var y=n[v],b=y.orientation,w=y.domain,x=y.padding,_=x===void 0?{}:x,T=y.mirror,S=y.reversed,E="".concat(b).concat(T?"Mirror":""),A,C,k,N,P;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var M=w[1]-w[0],j=1/0,L=y.categoricalDomain.sort(aL);if(L.forEach(function(he,we){we>0&&(j=Math.min((he||0)-(L[we-1]||0),j))}),Number.isFinite(j)){var F=j/M,R=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(A=F*R/2),y.padding==="no-gap"){var B=Ft(e.barCategoryGap,F*R),D=F*R/2;A=D-B-(D-B)/R*B}}}i==="xAxis"?C=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:C=y.range,S&&(C=[C[1],C[0]]);var U=cI(y,o,h),H=U.scale,Y=U.realScaleType;H.domain(w).range(C),dI(H);var G=fI(H,zn(zn({},y),{},{realScaleType:Y}));i==="xAxis"?(P=b==="top"&&!T||b==="bottom"&&T,k=r.left,N=d[E]-P*y.height):i==="yAxis"&&(P=b==="left"&&!T||b==="right"&&T,k=d[E]-P*y.width,N=r.top);var ne=zn(zn(zn({},y),G),{},{realScaleType:Y,x:k,y:N,scale:H,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return ne.bandSize=kd(ne,G),!y.hide&&i==="xAxis"?d[E]+=(P?-1:1)*ne.height:y.hide||(d[E]+=(P?-1:1)*ne.width),zn(zn({},g),{},mh({},v,ne))},{})},JI=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},WZ=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return JI({x:n,y:r},{x:i,y:o})},YI=function(){function t(e){qZ(this,t),this.scale=e}return HZ(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();mh(YI,"EPS",1e-4);var k0=function(e){var n=Object.keys(e).reduce(function(r,i){return zn(zn({},r),{},mh({},i,YI.create(e[i])))},{});return zn(zn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return hZ(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return zI(i,function(o,a){return n[a].isInRange(o)})}})};function KZ(t){return(t%180+180)%180}var JZ=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=KZ(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},YZ=cr,XZ=pu,QZ=Wf;function ZZ(t){return function(e,n,r){var i=Object(e);if(!XZ(e)){var o=YZ(n);e=QZ(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var eee=ZZ,tee=UI;function nee(t){var e=tee(t),n=e%1;return e===e?n?e-n:e:0}var ree=nee,iee=qk,oee=cr,aee=ree,see=Math.max;function lee(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:aee(n);return i<0&&(i=see(r+i,0)),iee(t,oee(e),i)}var uee=lee,cee=eee,dee=uee,fee=cee(dee),hee=fee;const pee=Oe(hee);var mee=uj(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),P0=O.createContext(void 0),I0=O.createContext(void 0),XI=O.createContext(void 0),QI=O.createContext({}),ZI=O.createContext(void 0),e2=O.createContext(0),t2=O.createContext(0),J1=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=mee(o);return I.createElement(P0.Provider,{value:r},I.createElement(I0.Provider,{value:i},I.createElement(QI.Provider,{value:o},I.createElement(XI.Provider,{value:c},I.createElement(ZI.Provider,{value:a},I.createElement(e2.Provider,{value:u},I.createElement(t2.Provider,{value:l},s)))))))},gee=function(){return O.useContext(ZI)},n2=function(e){var n=O.useContext(P0);n==null&&lo();var r=n[e];return r==null&&lo(),r},vee=function(){var e=O.useContext(P0);return Qr(e)},yee=function(){var e=O.useContext(I0),n=pee(e,function(r){return zI(r.domain,Number.isFinite)});return n||Qr(e)},r2=function(e){var n=O.useContext(I0);n==null&&lo();var r=n[e];return r==null&&lo(),r},wee=function(){var e=O.useContext(XI);return e},bee=function(){return O.useContext(QI)},N0=function(){return O.useContext(t2)},O0=function(){return O.useContext(e2)};function Ra(t){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}function xee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o2(r.key),r)}}function See(t,e,n){return e&&_ee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eee(t,e,n){return e=Gd(e),Tee(t,i2()?Reflect.construct(e,n||[],Gd(t).constructor):e.apply(t,n))}function Tee(t,e){if(e&&(Ra(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aee(t)}function Aee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i2=function(){return!!t})()}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gd(t)}function Cee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jg(t,e)}function Jg(t,e){return Jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jg(t,e)}function Y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y1(Object(n),!0).forEach(function(r){M0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M0(t,e,n){return e=o2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o2(t){var e=kee(t,"string");return Ra(e)=="symbol"?e:e+""}function kee(t,e){if(Ra(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ra(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pee(t,e){return Mee(t)||Oee(t,e)||Nee(t,e)||Iee()}function Iee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nee(t,e){if(t){if(typeof t=="string")return Q1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q1(t,e)}}function Q1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Mee(t){if(Array.isArray(t))return t}function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yg.apply(this,arguments)}var Ree=function(e,n){var r;return I.isValidElement(e)?r=I.cloneElement(e,n):ge(e)?r=e(n):r=I.createElement("line",Yg({},n,{className:"recharts-reference-line-line"})),r},$ee=function(e,n,r,i,o,a,s,l,u){var c=o.x,d=o.y,h=o.width,g=o.height;if(r){var v=u.y,y=e.y.apply(v,{position:a});if(ar(u,"discard")&&!e.y.isInRange(y))return null;var b=[{x:c+h,y},{x:c,y}];return l==="left"?b.reverse():b}if(n){var w=u.x,x=e.x.apply(w,{position:a});if(ar(u,"discard")&&!e.x.isInRange(x))return null;var _=[{x,y:d+g},{x,y:d}];return s==="top"?_.reverse():_}if(i){var T=u.segment,S=T.map(function(E){return e.apply(E,{position:a})});return ar(u,"discard")&&oZ(S,function(E){return!e.isInRange(E)})?null:S}return null};function Dee(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=gee(),c=n2(i),d=r2(o),h=wee();if(!u||!h)return null;Jn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=k0({x:c.scale,y:d.scale}),v=pt(e),y=pt(n),b=r&&r.length===2,w=$ee(g,v,y,b,h,t.position,c.orientation,d.orientation,t);if(!w)return null;var x=Pee(w,2),_=x[0],T=_.x,S=_.y,E=x[1],A=E.x,C=E.y,k=ar(t,"hidden")?"url(#".concat(u,")"):void 0,N=X1(X1({clipPath:k},fe(t,!0)),{},{x1:T,y1:S,x2:A,y2:C});return I.createElement(Ce,{className:ye("recharts-reference-line",s)},Ree(a,N),wt.renderCallByParent(t,WZ({x1:T,y1:S,x2:A,y2:C})))}var R0=function(t){function e(){return xee(this,e),Eee(this,e,arguments)}return Cee(e,t),See(e,[{key:"render",value:function(){return I.createElement(Dee,this.props)}}])}(I.Component);M0(R0,"displayName","ReferenceLine");M0(R0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Xg(){return Xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(this,arguments)}function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}function Z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z1(Object(n),!0).forEach(function(r){gh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s2(r.key),r)}}function Uee(t,e,n){return e&&Lee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bee(t,e,n){return e=Wd(e),Fee(t,a2()?Reflect.construct(e,n||[],Wd(t).constructor):e.apply(t,n))}function Fee(t,e){if(e&&($a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vee(t)}function Vee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a2=function(){return!!t})()}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wd(t)}function zee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qg(t,e)}function Qg(t,e){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qg(t,e)}function gh(t,e,n){return e=s2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s2(t){var e=qee(t,"string");return $a(e)=="symbol"?e:e+""}function qee(t,e){if($a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hee=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=k0({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return ar(e,"discard")&&!a.isInRange(s)?null:s},vh=function(t){function e(){return jee(this,e),Bee(this,e,arguments)}return zee(e,t),Uee(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=pt(i),c=pt(o);if(Jn(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=Hee(this.props);if(!d)return null;var h=d.x,g=d.y,v=this.props,y=v.shape,b=v.className,w=ar(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=eS(eS({clipPath:w},fe(this.props,!0)),{},{cx:h,cy:g});return I.createElement(Ce,{className:ye("recharts-reference-dot",b)},e.renderDot(y,x),wt.renderCallByParent(this.props,{x:h-a,y:g-a,width:2*a,height:2*a}))}}])}(I.Component);gh(vh,"displayName","ReferenceDot");gh(vh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gh(vh,"renderDot",function(t,e){var n;return I.isValidElement(t)?n=I.cloneElement(t,e):ge(t)?n=t(e):n=I.createElement(lh,Xg({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Zg(){return Zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zg.apply(this,arguments)}function Da(t){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(t)}function tS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(n),!0).forEach(function(r){yh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u2(r.key),r)}}function Kee(t,e,n){return e&&Wee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jee(t,e,n){return e=Kd(e),Yee(t,l2()?Reflect.construct(e,n||[],Kd(t).constructor):e.apply(t,n))}function Yee(t,e){if(e&&(Da(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xee(t)}function Xee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l2=function(){return!!t})()}function Kd(t){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kd(t)}function Qee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ev(t,e)}function ev(t,e){return ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ev(t,e)}function yh(t,e,n){return e=u2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u2(t){var e=Zee(t,"string");return Da(e)=="symbol"?e:e+""}function Zee(t,e){if(Da(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Da(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ete=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=k0({x:c.scale,y:d.scale}),g={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ar(o,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:JI(g,v)},wh=function(t){function e(){return Gee(this,e),Jee(this,e,arguments)}return Qee(e,t),Kee(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Jn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=pt(i),h=pt(o),g=pt(a),v=pt(s),y=this.props.shape;if(!d&&!h&&!g&&!v&&!y)return null;var b=ete(d,h,g,v,this.props);if(!b&&!y)return null;var w=ar(this.props,"hidden")?"url(#".concat(c,")"):void 0;return I.createElement(Ce,{className:ye("recharts-reference-area",l)},e.renderRect(y,nS(nS({clipPath:w},fe(this.props,!0)),b)),wt.renderCallByParent(this.props,b))}}])}(I.Component);yh(wh,"displayName","ReferenceArea");yh(wh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});yh(wh,"renderRect",function(t,e){var n;return I.isValidElement(t)?n=I.cloneElement(t,e):ge(t)?n=t(e):n=I.createElement(C0,Zg({},e,{className:"recharts-reference-area-rect"})),n});function c2(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function tte(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return JZ(r,n)}function nte(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Jd(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function rte(t,e){return c2(t,e+1)}function ite(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:c2(r,u)};var y=l,b,w=function(){return b===void 0&&(b=n(v,y)),b},x=v.coordinate,_=l===0||Jd(t,x,w,c,s);_||(l=0,c=a,u+=1),_&&(c=x+t*(w()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function rS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(n),!0).forEach(function(r){ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ote(t,e,n){return e=ate(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ate(t){var e=ste(t,"string");return tu(e)=="symbol"?e:e+""}function ste(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lte(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var g=o[h],v,y=function(){return v===void 0&&(v=n(g,h)),v};if(h===a-1){var b=t*(g.coordinate+t*y()/2-l);o[h]=g=Ot(Ot({},g),{},{tickCoord:b>0?g.coordinate-b*t:g.coordinate})}else o[h]=g=Ot(Ot({},g),{},{tickCoord:g.coordinate});var w=Jd(t,g.tickCoord,y,s,l);w&&(l=g.tickCoord-t*(y()/2+i),o[h]=Ot(Ot({},g),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function ute(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],d=n(c,s-1),h=t*(c.coordinate+t*d/2-u);a[s-1]=c=Ot(Ot({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var g=Jd(t,c.tickCoord,function(){return d},l,u);g&&(u=c.tickCoord-t*(d/2+i),a[s-1]=Ot(Ot({},c),{},{isShow:!0}))}for(var v=o?s-1:s,y=function(x){var _=a[x],T,S=function(){return T===void 0&&(T=n(_,x)),T};if(x===0){var E=t*(_.coordinate-t*S()/2-l);a[x]=_=Ot(Ot({},_),{},{tickCoord:E<0?_.coordinate-E*t:_.coordinate})}else a[x]=_=Ot(Ot({},_),{},{tickCoord:_.coordinate});var A=Jd(t,_.tickCoord,S,l,u);A&&(l=_.tickCoord+t*(S()/2+i),a[x]=Ot(Ot({},_),{},{isShow:!0}))},b=0;b<v;b++)y(b);return a}function $0(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(X(l)||mo.isSsr)return rte(i,typeof l=="number"&&X(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",v=c&&g==="width"?Ys(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,T){var S=ge(u)?u(_.value,T):_.value;return g==="width"?tte(Ys(S,{fontSize:e,letterSpacing:n}),v,d):Ys(S,{fontSize:e,letterSpacing:n})[g]},b=i.length>=2?Bt(i[1].coordinate-i[0].coordinate):1,w=nte(o,b,g);return l==="equidistantPreserveStart"?ite(b,w,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=ute(b,w,y,i,a,l==="preserveStartEnd"):h=lte(b,w,y,i,a),h.filter(function(x){return x.isShow}))}var cte=["viewBox"],dte=["viewBox"],fte=["ticks"];function ja(t){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(t)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jo.apply(this,arguments)}function iS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iS(Object(n),!0).forEach(function(r){D0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ip(t,e){if(t==null)return{};var n=hte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f2(r.key),r)}}function mte(t,e,n){return e&&oS(t.prototype,e),n&&oS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gte(t,e,n){return e=Yd(e),vte(t,d2()?Reflect.construct(e,n||[],Yd(t).constructor):e.apply(t,n))}function vte(t,e){if(e&&(ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yte(t)}function yte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d2=function(){return!!t})()}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yd(t)}function wte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tv(t,e)}function tv(t,e){return tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tv(t,e)}function D0(t,e,n){return e=f2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f2(t){var e=bte(t,"string");return ja(e)=="symbol"?e:e+""}function bte(t,e){if(ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var os=function(t){function e(n){var r;return pte(this,e),r=gte(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return wte(e,t),mte(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Ip(r,cte),s=this.props,l=s.viewBox,u=Ip(s,dte);return!ia(o,l)||!ia(a,u)||!ia(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,g,v,y,b,w,x,_=d?-1:1,T=r.tickSize||c,S=X(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=v=r.coordinate,b=a+ +!d*l,y=b-_*T,x=y-_*h,w=S;break;case"left":y=b=r.coordinate,v=o+ +!d*s,g=v-_*T,w=g-_*h,x=S;break;case"right":y=b=r.coordinate,v=o+ +d*s,g=v+_*T,w=g+_*h,x=S;break;default:g=v=r.coordinate,b=a+ +d*l,y=b+_*T,x=y+_*h,w=S;break}return{line:{x1:g,y1:y,x2:v,y2:b},tick:{x:w,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=lt(lt(lt({},fe(this.props,!1)),fe(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=lt(lt({},d),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var g=+(l==="left"&&!u||l==="right"&&u);d=lt(lt({},d),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return I.createElement("line",Jo({},d,{className:ye("recharts-cartesian-axis-line",hn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,h=s.unit,g=$0(lt(lt({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=fe(this.props,!1),w=fe(c,!1),x=lt(lt({},b),{},{fill:"none"},fe(l,!1)),_=g.map(function(T,S){var E=a.getTickLineCoord(T),A=E.line,C=E.tick,k=lt(lt(lt(lt({textAnchor:v,verticalAnchor:y},b),{},{stroke:"none",fill:u},w),C),{},{index:S,payload:T,visibleTicksCount:g.length,tickFormatter:d});return I.createElement(Ce,Jo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},oo(a.props,T,S)),l&&I.createElement("line",Jo({},x,A,{className:ye("recharts-cartesian-axis-tick-line",hn(l,"className"))})),c&&e.renderTickItem(c,k,"".concat(ge(d)?d(T.value,S):T.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,g=Ip(d,fte),v=h;return ge(l)&&(v=h&&h.length>0?l(this.props):l(g)),a<=0||s<=0||!v||!v.length?null:I.createElement(Ce,{className:ye("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),wt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=ye(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(r)?a=I.cloneElement(r,lt(lt({},i),{},{className:s})):ge(r)?a=r(lt(lt({},i),{},{className:s})):a=I.createElement(ao,Jo({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(O.Component);D0(os,"displayName","CartesianAxis");D0(os,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xte=["x1","y1","x2","y2","key"],_te=["offset"];function uo(t){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(t)}function aS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(n),!0).forEach(function(r){Ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ste(t,e,n){return e=Ete(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ete(t){var e=Tte(t,"string");return uo(e)=="symbol"?e:e+""}function Tte(t,e){if(uo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wi(){return Wi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wi.apply(this,arguments)}function sS(t,e){if(t==null)return{};var n=Ate(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ate(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Cte=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return I.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function h2(t,e){var n;if(I.isValidElement(t))n=I.cloneElement(t,e);else if(ge(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=sS(e,xte),u=fe(l,!1);u.offset;var c=sS(u,_te);n=I.createElement("line",Wi({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function kte(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Rt(Rt({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return h2(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Pte(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Rt(Rt({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return h2(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Ite(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var v=!c[g+1],y=v?i+a-h:c[g+1]-h;if(y<=0)return null;var b=g%e.length;return I.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:y,width:o,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Nte(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,g){return h-g});o!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var v=!c[g+1],y=v?o+s-h:c[g+1]-h;if(y<=0)return null;var b=g%r.length;return I.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Ote=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return uI($0(Rt(Rt(Rt({},os.defaultProps),r),{},{ticks:_r(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Mte=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return uI($0(Rt(Rt(Rt({},os.defaultProps),r),{},{ticks:_r(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Eo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function j0(t){var e,n,r,i,o,a,s=N0(),l=O0(),u=bee(),c=Rt(Rt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Eo.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Eo.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Eo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Eo.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Eo.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Eo.verticalFill,x:X(t.x)?t.x:u.left,y:X(t.y)?t.y:u.top,width:X(t.width)?t.width:u.width,height:X(t.height)?t.height:u.height}),d=c.x,h=c.y,g=c.width,v=c.height,y=c.syncWithTicks,b=c.horizontalValues,w=c.verticalValues,x=vee(),_=yee();if(!X(g)||g<=0||!X(v)||v<=0||!X(d)||d!==+d||!X(h)||h!==+h)return null;var T=c.verticalCoordinatesGenerator||Ote,S=c.horizontalCoordinatesGenerator||Mte,E=c.horizontalPoints,A=c.verticalPoints;if((!E||!E.length)&&ge(S)){var C=b&&b.length,k=S({yAxis:_?Rt(Rt({},_),{},{ticks:C?b:_.ticks}):void 0,width:s,height:l,offset:u},C?!0:y);Jn(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(uo(k),"]")),Array.isArray(k)&&(E=k)}if((!A||!A.length)&&ge(T)){var N=w&&w.length,P=T({xAxis:x?Rt(Rt({},x),{},{ticks:N?w:x.ticks}):void 0,width:s,height:l,offset:u},N?!0:y);Jn(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(uo(P),"]")),Array.isArray(P)&&(A=P)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Cte,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),I.createElement(kte,Wi({},c,{offset:u,horizontalPoints:E,xAxis:x,yAxis:_})),I.createElement(Pte,Wi({},c,{offset:u,verticalPoints:A,xAxis:x,yAxis:_})),I.createElement(Ite,Wi({},c,{horizontalPoints:E})),I.createElement(Nte,Wi({},c,{verticalPoints:A})))}j0.displayName="CartesianGrid";var Rte=["type","layout","connectNulls","ref"],$te=["key"];function La(t){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(t)}function lS(t,e){if(t==null)return{};var n=Dte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nl.apply(this,arguments)}function uS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(n),!0).forEach(function(r){qn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function To(t){return Bte(t)||Ute(t)||Lte(t)||jte()}function jte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lte(t,e){if(t){if(typeof t=="string")return nv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nv(t,e)}}function Ute(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bte(t){if(Array.isArray(t))return nv(t)}function nv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m2(r.key),r)}}function Vte(t,e,n){return e&&cS(t.prototype,e),n&&cS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zte(t,e,n){return e=Xd(e),qte(t,p2()?Reflect.construct(e,n||[],Xd(t).constructor):e.apply(t,n))}function qte(t,e){if(e&&(La(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hte(t)}function Hte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p2=function(){return!!t})()}function Xd(t){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xd(t)}function Gte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rv(t,e)}function rv(t,e){return rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rv(t,e)}function qn(t,e,n){return e=m2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m2(t){var e=Wte(t,"string");return La(e)=="symbol"?e:e+""}function Wte(t,e){if(La(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(La(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xu=function(t){function e(){var n;Fte(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=zte(this,e,[].concat(i)),qn(n,"state",{isAnimationFinished:!0,totalLength:0}),qn(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),qn(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(w,x){return w+x});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),d=a%u,h=s-a,g=[],v=0,y=0;v<l.length;y+=l[v],++v)if(y+l[v]>d){g=[].concat(To(l.slice(0,v)),[d-y]);break}var b=g.length%2===0?[0,h]:[h];return[].concat(To(e.repeat(l,c)),To(g),b).map(function(w){return"".concat(w,"px")}).join(", ")}),qn(n,"id",Qa("recharts-line-")),qn(n,"pathRef",function(a){n.mainCurve=a}),qn(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),qn(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Gte(e,t),Vte(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=pn(c,bu);if(!d)return null;var h=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:ft(y.payload,b)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return I.createElement(Ce,g,d.map(function(v){return I.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,d=fe(this.props,!1),h=fe(l,!0),g=u.map(function(y,b){var w=tn(tn(tn({key:"dot-".concat(b),r:3},d),h),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:c,payload:y.payload,points:u});return e.renderDotItem(l,w)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return I.createElement(Ce,nl({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var d=lS(s,Rte),h=tn(tn(tn({},fe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return I.createElement(Nd,nl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,g=a.animationId,v=a.animateNewValues,y=a.width,b=a.height,w=this.state,x=w.prevPoints,_=w.totalLength;return I.createElement(lr,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var S=T.t;if(x){var E=x.length/s.length,A=s.map(function(M,j){var L=Math.floor(j*E);if(x[L]){var F=x[L],R=sn(F.x,M.x),B=sn(F.y,M.y);return tn(tn({},M),{},{x:R(S),y:B(S)})}if(v){var D=sn(y*2,M.x),U=sn(b/2,M.y);return tn(tn({},M),{},{x:D(S),y:U(S)})}return tn(tn({},M),{},{x:M.x,y:M.y})});return o.renderCurveStatically(A,r,i)}var C=sn(0,_),k=C(S),N;if(l){var P="".concat(l).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});N=o.getStrokeDasharray(k,_,P)}else N=o.generateSimpleStrokeDasharray(_,k);return o.renderCurveStatically(s,r,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!wu(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,h=i.left,g=i.width,v=i.height,y=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var w=this.state.isAnimationFinished,x=s.length===1,_=ye("recharts-line",l),T=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,E=T||S,A=ve(b)?this.id:b,C=(r=fe(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=C.r,N=k===void 0?3:k,P=C.strokeWidth,M=P===void 0?2:P,j=mL(a)?a:{},L=j.clipDot,F=L===void 0?!0:L,R=N*2+M;return I.createElement(Ce,{className:_},T||S?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(A)},I.createElement("rect",{x:T?h:h-g/2,y:S?d:d-v/2,width:T?g:g*2,height:S?v:v*2})),!F&&I.createElement("clipPath",{id:"clipPath-dots-".concat(A)},I.createElement("rect",{x:h-R/2,y:d-R/2,width:g+R,height:v+R}))):null,!x&&this.renderCurve(E,A),this.renderErrorBar(E,A),(x||a)&&this.renderDots(E,F,A),(!y||w)&&Ar.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(To(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(To(a),To(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(I.isValidElement(r))o=I.cloneElement(r,i);else if(ge(r))o=r(i);else{var a=i.key,s=lS(i,$te),l=ye("recharts-line-dot",typeof r!="boolean"?r.className:"");o=I.createElement(lh,nl({key:a},s,{className:l}))}return o}}])}(O.PureComponent);qn(xu,"displayName","Line");qn(xu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!mo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});qn(xu,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(h,g){var v=ft(h,a);return c==="horizontal"?{x:R_({axis:n,ticks:i,bandSize:s,entry:h,index:g}),y:ve(v)?null:r.scale(v),value:v,payload:h}:{x:ve(v)?null:n.scale(v),y:R_({axis:r,ticks:o,bandSize:s,entry:h,index:g}),value:v,payload:h}});return tn({points:d,layout:c},u)});function Ua(t){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(t)}function Kte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y2(r.key),r)}}function Yte(t,e,n){return e&&Jte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xte(t,e,n){return e=Qd(e),Qte(t,g2()?Reflect.construct(e,n||[],Qd(t).constructor):e.apply(t,n))}function Qte(t,e){if(e&&(Ua(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zte(t)}function Zte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g2=function(){return!!t})()}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qd(t)}function ene(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iv(t,e)}function iv(t,e){return iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iv(t,e)}function v2(t,e,n){return e=y2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y2(t){var e=tne(t,"string");return Ua(e)=="symbol"?e:e+""}function tne(t,e){if(Ua(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ua(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ov.apply(this,arguments)}function nne(t){var e=t.xAxisId,n=N0(),r=O0(),i=n2(e);return i==null?null:O.createElement(os,ov({},i,{className:ye("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return _r(a,!0)}}))}var as=function(t){function e(){return Kte(this,e),Xte(this,e,arguments)}return ene(e,t),Yte(e,[{key:"render",value:function(){return O.createElement(nne,this.props)}}])}(O.Component);v2(as,"displayName","XAxis");v2(as,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}function rne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ine(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x2(r.key),r)}}function one(t,e,n){return e&&ine(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ane(t,e,n){return e=Zd(e),sne(t,w2()?Reflect.construct(e,n||[],Zd(t).constructor):e.apply(t,n))}function sne(t,e){if(e&&(Ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lne(t)}function lne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w2=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(t)}function une(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&av(t,e)}function av(t,e){return av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},av(t,e)}function b2(t,e,n){return e=x2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x2(t){var e=cne(t,"string");return Ba(e)=="symbol"?e:e+""}function cne(t,e){if(Ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sv(){return sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sv.apply(this,arguments)}var dne=function(e){var n=e.yAxisId,r=N0(),i=O0(),o=r2(n);return o==null?null:O.createElement(os,sv({},o,{className:ye("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return _r(s,!0)}}))},ss=function(t){function e(){return rne(this,e),ane(this,e,arguments)}return une(e,t),one(e,[{key:"render",value:function(){return O.createElement(dne,this.props)}}])}(O.Component);b2(ss,"displayName","YAxis");b2(ss,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function dS(t){return mne(t)||pne(t)||hne(t)||fne()}function fne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hne(t,e){if(t){if(typeof t=="string")return lv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lv(t,e)}}function pne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mne(t){if(Array.isArray(t))return lv(t)}function lv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uv=function(e,n,r,i,o){var a=pn(e,R0),s=pn(e,vh),l=[].concat(dS(a),dS(s)),u=pn(e,wh),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(y,b){if(b.props[c]===r&&ar(b.props,"extendDomain")&&X(b.props[d])){var w=b.props[d];return[Math.min(y[0],w),Math.max(y[1],w)]}return y},h)),u.length){var g="".concat(d,"1"),v="".concat(d,"2");h=u.reduce(function(y,b){if(b.props[c]===r&&ar(b.props,"extendDomain")&&X(b.props[g])&&X(b.props[v])){var w=b.props[g],x=b.props[v];return[Math.min(y[0],w,x),Math.max(y[1],w,x)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,b){return X(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},h)),h},_2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,d||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,g=d.length,v=new Array(g);h<g;h++)v[h]=d[h].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,g,v){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],w=arguments.length,x,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,d),!0;case 4:return b.fn.call(b.context,c,d,h),!0;case 5:return b.fn.call(b.context,c,d,h,g),!0;case 6:return b.fn.call(b.context,c,d,h,g,v),!0}for(_=1,x=new Array(w-1);_<w;_++)x[_-1]=arguments[_];b.fn.apply(b.context,x)}else{var T=b.length,S;for(_=0;_<T;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),w){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,c);break;case 3:b[_].fn.call(b[_].context,c,d);break;case 4:b[_].fn.call(b[_].context,c,d,h);break;default:if(!x)for(S=1,x=new Array(w-1);S<w;S++)x[S-1]=arguments[S];b[_].fn.apply(b[_].context,x)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var g=n?n+u:u;if(!this._events[g])return this;if(!c)return a(this,g),this;var v=this._events[g];if(v.fn)v.fn===c&&(!h||v.once)&&(!d||v.context===d)&&a(this,g);else{for(var y=0,b=[],w=v.length;y<w;y++)(v[y].fn!==c||h&&!v[y].once||d&&v[y].context!==d)&&b.push(v[y]);b.length?this._events[g]=b.length===1?b[0]:b:a(this,g)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(_2);var gne=_2.exports;const vne=Oe(gne);var Np=new vne,Op="recharts.syncMouseEvents";function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function yne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S2(r.key),r)}}function bne(t,e,n){return e&&wne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mp(t,e,n){return e=S2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S2(t){var e=xne(t,"string");return nu(e)=="symbol"?e:e+""}function xne(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _ne=function(){function t(){yne(this,t),Mp(this,"activeIndex",0),Mp(this,"coordinateList",[]),Mp(this,"layout","horizontal")}return bne(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function Sne(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&X(r)&&X(i))return!0}return!1}function Ene(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function E2(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Be(e,n,r,i),s=Be(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Tne(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Be(s,l,u,d),g=Be(s,l,c,d);r=h.x,i=h.y,o=g.x,a=g.y}else return E2(e);return[{x:r,y:i},{x:o,y:a}]}function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function fS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(n),!0).forEach(function(r){Ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ane(t,e,n){return e=Cne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=kne(t,"string");return ru(e)=="symbol"?e:e+""}function kne(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pne(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var v,y=Nd;if(h==="ScatterChart")v=a,y=WY;else if(h==="BarChart")v=Ene(d,a,l,c),y=C0;else if(d==="radial"){var b=E2(a),w=b.cx,x=b.cy,_=b.radius,T=b.startAngle,S=b.endAngle;v={cx:w,cy:x,startAngle:T,endAngle:S,innerRadius:_,outerRadius:_},y=bI}else v={points:Tne(d,a,l)},y=Nd;var E=nc(nc(nc(nc({stroke:"#ccc",pointerEvents:"none"},l),v),fe(g,!1)),{},{payload:s,payloadIndex:u,className:ye("recharts-tooltip-cursor",g.className)});return O.isValidElement(g)?O.cloneElement(g,E):O.createElement(y,E)}var Ine=["item"],Nne=["children","className","width","height","style","compact","title","desc"];function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yo.apply(this,arguments)}function hS(t,e){return Rne(t)||Mne(t,e)||A2(t,e)||One()}function One(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Rne(t){if(Array.isArray(t))return t}function pS(t,e){if(t==null)return{};var n=$ne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C2(r.key),r)}}function Lne(t,e,n){return e&&jne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Une(t,e,n){return e=ef(e),Bne(t,T2()?Reflect.construct(e,n||[],ef(t).constructor):e.apply(t,n))}function Bne(t,e){if(e&&(Fa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fne(t)}function Fne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T2=function(){return!!t})()}function ef(t){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ef(t)}function Vne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cv(t,e)}function cv(t,e){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cv(t,e)}function Va(t){return Hne(t)||qne(t)||A2(t)||zne()}function zne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A2(t,e){if(t){if(typeof t=="string")return dv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dv(t,e)}}function qne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hne(t){if(Array.isArray(t))return dv(t)}function dv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mS(Object(n),!0).forEach(function(r){pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pe(t,e,n){return e=C2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C2(t){var e=Gne(t,"string");return Fa(e)=="symbol"?e:e+""}function Gne(t,e){if(Fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wne={xAxis:["bottom","top"],yAxis:["left","right"]},Kne={width:"100%",height:"100%"},k2={x:0,y:0};function rc(t){return t}var Jne=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Yne=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return V(V(V({},i),Be(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return V(V(V({},i),Be(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return k2},bh=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Va(s),Va(u)):s},[]);return a.length>0?a:e&&e.length&&X(i)&&X(o)?e.slice(i,o+1):[]};function P2(t){return t==="number"?[0,"auto"]:void 0}var fv=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=bh(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var g=d===void 0?s:d;h=ed(g,a.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(Va(l),[pI(u,h)]):l},[])},gS=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Jne(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=gW(a,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=fv(e,n,c,d),g=Yne(r,s,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:g}}return null},Xne=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,g=lI(c,o);return r.reduce(function(v,y){var b,w=y.type.defaultProps!==void 0?V(V({},y.type.defaultProps),y.props):y.props,x=w.type,_=w.dataKey,T=w.allowDataOverflow,S=w.allowDuplicatedCategory,E=w.scale,A=w.ticks,C=w.includeHidden,k=w[a];if(v[k])return v;var N=bh(e.data,{graphicalItems:i.filter(function(G){var ne,he=a in G.props?G.props[a]:(ne=G.type.defaultProps)===null||ne===void 0?void 0:ne[a];return he===k}),dataStartIndex:l,dataEndIndex:u}),P=N.length,M,j,L;Sne(w.domain,T,x)&&(M=Ag(w.domain,null,T),g&&(x==="number"||E!=="auto")&&(L=Qs(N,_,"category")));var F=P2(x);if(!M||M.length===0){var R,B=(R=w.domain)!==null&&R!==void 0?R:F;if(_){if(M=Qs(N,_,x),x==="category"&&g){var D=oL(M);S&&D?(j=M,M=Fd(0,P)):S||(M=L_(B,M,y).reduce(function(G,ne){return G.indexOf(ne)>=0?G:[].concat(Va(G),[ne])},[]))}else if(x==="category")S?M=M.filter(function(G){return G!==""&&!ve(G)}):M=L_(B,M,y).reduce(function(G,ne){return G.indexOf(ne)>=0||ne===""||ve(ne)?G:[].concat(Va(G),[ne])},[]);else if(x==="number"){var U=xW(N,i.filter(function(G){var ne,he,we=a in G.props?G.props[a]:(ne=G.type.defaultProps)===null||ne===void 0?void 0:ne[a],_e="hide"in G.props?G.props.hide:(he=G.type.defaultProps)===null||he===void 0?void 0:he.hide;return we===k&&(C||!_e)}),_,o,c);U&&(M=U)}g&&(x==="number"||E!=="auto")&&(L=Qs(N,_,"category"))}else g?M=Fd(0,P):s&&s[k]&&s[k].hasStack&&x==="number"?M=h==="expand"?[0,1]:hI(s[k].stackGroups,l,u):M=sI(N,i.filter(function(G){var ne=a in G.props?G.props[a]:G.type.defaultProps[a],he="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ne===k&&(C||!he)}),x,c,!0);if(x==="number")M=uv(d,M,k,o,A),B&&(M=Ag(B,M,T));else if(x==="category"&&B){var H=B,Y=M.every(function(G){return H.indexOf(G)>=0});Y&&(M=H)}}return V(V({},v),{},pe({},k,V(V({},w),{},{axisType:o,domain:M,categoricalDomain:L,duplicateDomain:j,originalDomain:(b=w.domain)!==null&&b!==void 0?b:F,isCategorical:g,layout:c})))},{})},Qne=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=bh(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,v=lI(c,o),y=-1;return r.reduce(function(b,w){var x=w.type.defaultProps!==void 0?V(V({},w.type.defaultProps),w.props):w.props,_=x[a],T=P2("number");if(!b[_]){y++;var S;return v?S=Fd(0,g):s&&s[_]&&s[_].hasStack?(S=hI(s[_].stackGroups,l,u),S=uv(d,S,_,o)):(S=Ag(T,sI(h,r.filter(function(E){var A,C,k=a in E.props?E.props[a]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[a],N="hide"in E.props?E.props.hide:(C=E.type.defaultProps)===null||C===void 0?void 0:C.hide;return k===_&&!N}),"number",c),i.defaultProps.allowDataOverflow),S=uv(d,S,_,o)),V(V({},b),{},pe({},_,V(V({axisType:o},i.defaultProps),{},{hide:!0,orientation:hn(Wne,"".concat(o,".").concat(y%2),null),domain:S,originalDomain:T,isCategorical:v,layout:c})))}return b},{})},Zne=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=pn(c,o),g={};return h&&h.length?g=Xne(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(g=Qne(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},ere=function(e){var n=Qr(e),r=_r(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Zy(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:kd(n,r)}},vS=function(e){var n=e.children,r=e.defaultShowTooltip,i=an(n,Oa),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},tre=function(e){return!e||!e.length?!1:e.some(function(n){var r=Er(n&&n.type);return r&&r.indexOf("Bar")>=0})},yS=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nre=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,h=r.margin||{},g=an(d,Oa),v=an(d,fi),y=Object.keys(l).reduce(function(S,E){var A=l[E],C=A.orientation;return!A.mirror&&!A.hide?V(V({},S),{},pe({},C,S[C]+A.width)):S},{left:h.left||0,right:h.right||0}),b=Object.keys(a).reduce(function(S,E){var A=a[E],C=A.orientation;return!A.mirror&&!A.hide?V(V({},S),{},pe({},C,hn(S,"".concat(C))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),w=V(V({},b),y),x=w.bottom;g&&(w.bottom+=g.props.height||Oa.defaultProps.height),v&&n&&(w=wW(w,i,r,n));var _=u-w.left-w.right,T=c-w.top-w.bottom;return V(V({brushBottom:x},w),{},{width:Math.max(_,0),height:Math.max(T,0)})},rre=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},L0=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(w,x){var _=x.graphicalItems,T=x.stackGroups,S=x.offset,E=x.updateId,A=x.dataStartIndex,C=x.dataEndIndex,k=w.barSize,N=w.layout,P=w.barGap,M=w.barCategoryGap,j=w.maxBarSize,L=yS(N),F=L.numericAxisName,R=L.cateAxisName,B=tre(_),D=[];return _.forEach(function(U,H){var Y=bh(w.data,{graphicalItems:[U],dataStartIndex:A,dataEndIndex:C}),G=U.type.defaultProps!==void 0?V(V({},U.type.defaultProps),U.props):U.props,ne=G.dataKey,he=G.maxBarSize,we=G["".concat(F,"Id")],_e=G["".concat(R,"Id")],Ze={},Fe=l.reduce(function(Zt,st){var St=x["".concat(st.axisType,"Map")],dr=G["".concat(st.axisType,"Id")];St&&St[dr]||st.axisType==="zAxis"||lo();var Ae=St[dr];return V(V({},Zt),{},pe(pe({},st.axisType,Ae),"".concat(st.axisType,"Ticks"),_r(Ae)))},Ze),Q=Fe[R],de=Fe["".concat(R,"Ticks")],W=T&&T[we]&&T[we].hasStack&&IW(U,T[we].stackGroups),$=Er(U.type).indexOf("Bar")>=0,se=kd(Q,de),ee=[],Se=B&&vW({barSize:k,stackGroups:T,totalSize:rre(Fe,R)});if($){var be,Ee,gt=ve(he)?j:he,_t=(be=(Ee=kd(Q,de,!0))!==null&&Ee!==void 0?Ee:gt)!==null&&be!==void 0?be:0;ee=yW({barGap:P,barCategoryGap:M,bandSize:_t!==se?_t:se,sizeList:Se[_e],maxBarSize:gt}),_t!==se&&(ee=ee.map(function(Zt){return V(V({},Zt),{},{position:V(V({},Zt.position),{},{offset:Zt.position.offset-_t/2})})}))}var jt=U&&U.type&&U.type.getComposedData;jt&&D.push({props:V(V({},jt(V(V({},Fe),{},{displayedData:Y,props:w,dataKey:ne,item:U,bandSize:se,barPosition:ee,offset:S,stackedData:W,layout:N,dataStartIndex:A,dataEndIndex:C}))),{},pe(pe(pe({key:U.key||"item-".concat(H)},F,Fe[F]),R,Fe[R]),"animationId",E)),childIndex:yL(U,w.children),item:U})}),D},g=function(w,x){var _=w.props,T=w.dataStartIndex,S=w.dataEndIndex,E=w.updateId;if(!Nb({props:_}))return null;var A=_.children,C=_.layout,k=_.stackOffset,N=_.data,P=_.reverseStackOrder,M=yS(C),j=M.numericAxisName,L=M.cateAxisName,F=pn(A,r),R=kW(N,F,"".concat(j,"Id"),"".concat(L,"Id"),k,P),B=l.reduce(function(G,ne){var he="".concat(ne.axisType,"Map");return V(V({},G),{},pe({},he,Zne(_,V(V({},ne),{},{graphicalItems:F,stackGroups:ne.axisType===j&&R,dataStartIndex:T,dataEndIndex:S}))))},{}),D=nre(V(V({},B),{},{props:_,graphicalItems:F}),x==null?void 0:x.legendBBox);Object.keys(B).forEach(function(G){B[G]=c(_,B[G],D,G.replace("Map",""),n)});var U=B["".concat(L,"Map")],H=ere(U),Y=h(_,V(V({},B),{},{dataStartIndex:T,dataEndIndex:S,updateId:E,graphicalItems:F,stackGroups:R,offset:D}));return V(V({formattedGraphicalItems:Y,graphicalItems:F,offset:D,stackGroups:R},H),B)},v=function(b){function w(x){var _,T,S;return Dne(this,w),S=Une(this,w,[x]),pe(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),pe(S,"accessibilityManager",new _ne),pe(S,"handleLegendBBoxUpdate",function(E){if(E){var A=S.state,C=A.dataStartIndex,k=A.dataEndIndex,N=A.updateId;S.setState(V({legendBBox:E},g({props:S.props,dataStartIndex:C,dataEndIndex:k,updateId:N},V(V({},S.state),{},{legendBBox:E}))))}}),pe(S,"handleReceiveSyncEvent",function(E,A,C){if(S.props.syncId===E){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),pe(S,"handleBrushChange",function(E){var A=E.startIndex,C=E.endIndex;if(A!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var k=S.state.updateId;S.setState(function(){return V({dataStartIndex:A,dataEndIndex:C},g({props:S.props,dataStartIndex:A,dataEndIndex:C,updateId:k},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:C})}}),pe(S,"handleMouseEnter",function(E){var A=S.getMouseInfo(E);if(A){var C=V(V({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var k=S.props.onMouseEnter;ge(k)&&k(C,E)}}),pe(S,"triggeredAfterMouseMove",function(E){var A=S.getMouseInfo(E),C=A?V(V({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var k=S.props.onMouseMove;ge(k)&&k(C,E)}),pe(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),pe(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),pe(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),pe(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseLeave;ge(C)&&C(A,E)}),pe(S,"handleOuterEvent",function(E){var A=vL(E),C=hn(S.props,"".concat(A));if(A&&ge(C)){var k,N;/.*touch.*/i.test(A)?N=S.getMouseInfo(E.changedTouches[0]):N=S.getMouseInfo(E),C((k=N)!==null&&k!==void 0?k:{},E)}}),pe(S,"handleClick",function(E){var A=S.getMouseInfo(E);if(A){var C=V(V({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var k=S.props.onClick;ge(k)&&k(C,E)}}),pe(S,"handleMouseDown",function(E){var A=S.props.onMouseDown;if(ge(A)){var C=S.getMouseInfo(E);A(C,E)}}),pe(S,"handleMouseUp",function(E){var A=S.props.onMouseUp;if(ge(A)){var C=S.getMouseInfo(E);A(C,E)}}),pe(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),pe(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),pe(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),pe(S,"handleDoubleClick",function(E){var A=S.props.onDoubleClick;if(ge(A)){var C=S.getMouseInfo(E);A(C,E)}}),pe(S,"handleContextMenu",function(E){var A=S.props.onContextMenu;if(ge(A)){var C=S.getMouseInfo(E);A(C,E)}}),pe(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&Np.emit(Op,S.props.syncId,E,S.eventEmitterSymbol)}),pe(S,"applySyncEvent",function(E){var A=S.props,C=A.layout,k=A.syncMethod,N=S.state.updateId,P=E.dataStartIndex,M=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(V({dataStartIndex:P,dataEndIndex:M},g({props:S.props,dataStartIndex:P,dataEndIndex:M,updateId:N},S.state)));else if(E.activeTooltipIndex!==void 0){var j=E.chartX,L=E.chartY,F=E.activeTooltipIndex,R=S.state,B=R.offset,D=R.tooltipTicks;if(!B)return;if(typeof k=="function")F=k(D,E);else if(k==="value"){F=-1;for(var U=0;U<D.length;U++)if(D[U].value===E.activeLabel){F=U;break}}var H=V(V({},B),{},{x:B.left,y:B.top}),Y=Math.min(j,H.x+H.width),G=Math.min(L,H.y+H.height),ne=D[F]&&D[F].value,he=fv(S.state,S.props.data,F),we=D[F]?{x:C==="horizontal"?D[F].coordinate:Y,y:C==="horizontal"?G:D[F].coordinate}:k2;S.setState(V(V({},E),{},{activeLabel:ne,activeCoordinate:we,activePayload:he,activeTooltipIndex:F}))}else S.setState(E)}),pe(S,"renderCursor",function(E){var A,C=S.state,k=C.isTooltipActive,N=C.activeCoordinate,P=C.activePayload,M=C.offset,j=C.activeTooltipIndex,L=C.tooltipAxisBandSize,F=S.getTooltipEventType(),R=(A=E.props.active)!==null&&A!==void 0?A:k,B=S.props.layout,D=E.key||"_recharts-cursor";return I.createElement(Pne,{key:D,activeCoordinate:N,activePayload:P,activeTooltipIndex:j,chartName:n,element:E,isActive:R,layout:B,offset:M,tooltipAxisBandSize:L,tooltipEventType:F})}),pe(S,"renderPolarAxis",function(E,A,C){var k=hn(E,"type.axisType"),N=hn(S.state,"".concat(k,"Map")),P=E.type.defaultProps,M=P!==void 0?V(V({},P),E.props):E.props,j=N&&N[M["".concat(k,"Id")]];return O.cloneElement(E,V(V({},j),{},{className:ye(k,j.className),key:E.key||"".concat(A,"-").concat(C),ticks:_r(j,!0)}))}),pe(S,"renderPolarGrid",function(E){var A=E.props,C=A.radialLines,k=A.polarAngles,N=A.polarRadius,P=S.state,M=P.radiusAxisMap,j=P.angleAxisMap,L=Qr(M),F=Qr(j),R=F.cx,B=F.cy,D=F.innerRadius,U=F.outerRadius;return O.cloneElement(E,{polarAngles:Array.isArray(k)?k:_r(F,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(N)?N:_r(L,!0).map(function(H){return H.coordinate}),cx:R,cy:B,innerRadius:D,outerRadius:U,key:E.key||"polar-grid",radialLines:C})}),pe(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,A=S.props,C=A.children,k=A.width,N=A.height,P=S.props.margin||{},M=k-(P.left||0)-(P.right||0),j=oI({children:C,formattedGraphicalItems:E,legendWidth:M,legendContent:u});if(!j)return null;var L=j.item,F=pS(j,Ine);return O.cloneElement(L,V(V({},F),{},{chartWidth:k,chartHeight:N,margin:P,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),pe(S,"renderTooltip",function(){var E,A=S.props,C=A.children,k=A.accessibilityLayer,N=an(C,_n);if(!N)return null;var P=S.state,M=P.isTooltipActive,j=P.activeCoordinate,L=P.activePayload,F=P.activeLabel,R=P.offset,B=(E=N.props.active)!==null&&E!==void 0?E:M;return O.cloneElement(N,{viewBox:V(V({},R),{},{x:R.left,y:R.top}),active:B,label:F,payload:B?L:[],coordinate:j,accessibilityLayer:k})}),pe(S,"renderBrush",function(E){var A=S.props,C=A.margin,k=A.data,N=S.state,P=N.offset,M=N.dataStartIndex,j=N.dataEndIndex,L=N.updateId;return O.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Qu(S.handleBrushChange,E.props.onChange),data:k,x:X(E.props.x)?E.props.x:P.left,y:X(E.props.y)?E.props.y:P.top+P.height+P.brushBottom-(C.bottom||0),width:X(E.props.width)?E.props.width:P.width,startIndex:M,endIndex:j,updateId:"brush-".concat(L)})}),pe(S,"renderReferenceElement",function(E,A,C){if(!E)return null;var k=S,N=k.clipPathId,P=S.state,M=P.xAxisMap,j=P.yAxisMap,L=P.offset,F=E.type.defaultProps||{},R=E.props,B=R.xAxisId,D=B===void 0?F.xAxisId:B,U=R.yAxisId,H=U===void 0?F.yAxisId:U;return O.cloneElement(E,{key:E.key||"".concat(A,"-").concat(C),xAxis:M[D],yAxis:j[H],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:N})}),pe(S,"renderActivePoints",function(E){var A=E.item,C=E.activePoint,k=E.basePoint,N=E.childIndex,P=E.isRange,M=[],j=A.props.key,L=A.item.type.defaultProps!==void 0?V(V({},A.item.type.defaultProps),A.item.props):A.item.props,F=L.activeDot,R=L.dataKey,B=V(V({index:N,dataKey:R,cx:C.x,cy:C.y,r:4,fill:A0(A.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},fe(F,!1)),td(F));return M.push(w.renderActiveDot(F,B,"".concat(j,"-activePoint-").concat(N))),k?M.push(w.renderActiveDot(F,V(V({},B),{},{cx:k.x,cy:k.y}),"".concat(j,"-basePoint-").concat(N))):P&&M.push(null),M}),pe(S,"renderGraphicChild",function(E,A,C){var k=S.filterFormatItem(E,A,C);if(!k)return null;var N=S.getTooltipEventType(),P=S.state,M=P.isTooltipActive,j=P.tooltipAxis,L=P.activeTooltipIndex,F=P.activeLabel,R=S.props.children,B=an(R,_n),D=k.props,U=D.points,H=D.isRange,Y=D.baseLine,G=k.item.type.defaultProps!==void 0?V(V({},k.item.type.defaultProps),k.item.props):k.item.props,ne=G.activeDot,he=G.hide,we=G.activeBar,_e=G.activeShape,Ze=!!(!he&&M&&B&&(ne||we||_e)),Fe={};N!=="axis"&&B&&B.props.trigger==="click"?Fe={onClick:Qu(S.handleItemMouseEnter,E.props.onClick)}:N!=="axis"&&(Fe={onMouseLeave:Qu(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Qu(S.handleItemMouseEnter,E.props.onMouseEnter)});var Q=O.cloneElement(E,V(V({},k.props),Fe));function de(st){return typeof j.dataKey=="function"?j.dataKey(st.payload):null}if(Ze)if(L>=0){var W,$;if(j.dataKey&&!j.allowDuplicatedCategory){var se=typeof j.dataKey=="function"?de:"payload.".concat(j.dataKey.toString());W=ed(U,se,F),$=H&&Y&&ed(Y,se,F)}else W=U==null?void 0:U[L],$=H&&Y&&Y[L];if(_e||we){var ee=E.props.activeIndex!==void 0?E.props.activeIndex:L;return[O.cloneElement(E,V(V(V({},k.props),Fe),{},{activeIndex:ee})),null,null]}if(!ve(W))return[Q].concat(Va(S.renderActivePoints({item:k,activePoint:W,basePoint:$,childIndex:L,isRange:H})))}else{var Se,be=(Se=S.getItemByXY(S.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:Q},Ee=be.graphicalItem,gt=Ee.item,_t=gt===void 0?E:gt,jt=Ee.childIndex,Zt=V(V(V({},k.props),Fe),{},{activeIndex:jt});return[O.cloneElement(_t,Zt),null,null]}return H?[Q,null,null]:[Q,null]}),pe(S,"renderCustomized",function(E,A,C){return O.cloneElement(E,V(V({key:"recharts-customized-".concat(C)},S.props),S.state))}),pe(S,"renderMap",{CartesianGrid:{handler:rc,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:rc},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:rc},YAxis:{handler:rc},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=x.id)!==null&&_!==void 0?_:Qa("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=iP(S.triggeredAfterMouseMove,(T=x.throttleDelay)!==null&&T!==void 0?T:1e3/60),S.state={},S}return Vne(w,b),Lne(w,[{key:"componentDidMount",value:function(){var _,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,T=_.children,S=_.data,E=_.height,A=_.layout,C=an(T,_n);if(C){var k=C.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,P=fv(this.state,S,k,N),M=this.state.tooltipTicks[k].coordinate,j=(this.state.offset.top+E)/2,L=A==="horizontal",F=L?{x:M,y:j}:{y:M,x:j},R=this.state.formattedGraphicalItems.find(function(D){var U=D.item;return U.type.name==="Scatter"});R&&(F=V(V({},F),R.props.points[k].tooltipPosition),P=R.props.points[k].tooltipPayload);var B={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:N,activePayload:P,activeCoordinate:F};this.setState(B),this.renderCursor(C),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(_){Fm([an(_.children,_n)],[an(this.props.children,_n)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=an(this.props.children,_n);if(_&&typeof _.props.shared=="boolean"){var T=_.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var T=this.container,S=T.getBoundingClientRect(),E=qz(S),A={chartX:Math.round(_.pageX-E.left),chartY:Math.round(_.pageY-E.top)},C=S.width/T.offsetWidth||1,k=this.inRange(A.chartX,A.chartY,C);if(!k)return null;var N=this.state,P=N.xAxisMap,M=N.yAxisMap,j=this.getTooltipEventType(),L=gS(this.state,this.props.data,this.props.layout,k);if(j!=="axis"&&P&&M){var F=Qr(P).scale,R=Qr(M).scale,B=F&&F.invert?F.invert(A.chartX):null,D=R&&R.invert?R.invert(A.chartY):null;return V(V({},A),{},{xValue:B,yValue:D},L)}return L?V(V({},A),L):null}},{key:"inRange",value:function(_,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,A=_/S,C=T/S;if(E==="horizontal"||E==="vertical"){var k=this.state.offset,N=A>=k.left&&A<=k.left+k.width&&C>=k.top&&C<=k.top+k.height;return N?{x:A,y:C}:null}var P=this.state,M=P.angleAxisMap,j=P.radiusAxisMap;if(M&&j){var L=Qr(M);return F_({x:A,y:C},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,T=this.getTooltipEventType(),S=an(_,_n),E={};S&&T==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=td(this.props,this.handleOuterEvent);return V(V({},A),E)}},{key:"addListener",value:function(){Np.on(Op,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Np.removeListener(Op,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,T,S){for(var E=this.state.formattedGraphicalItems,A=0,C=E.length;A<C;A++){var k=E[A];if(k.item===_||k.props.key===_.key||T===Er(k.item.type)&&S===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,T=this.state.offset,S=T.left,E=T.top,A=T.height,C=T.width;return I.createElement("defs",null,I.createElement("clipPath",{id:_},I.createElement("rect",{x:S,y:E,height:A,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=hS(S,2),A=E[0],C=E[1];return V(V({},T),{},pe({},A,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=hS(S,2),A=E[0],C=E[1];return V(V({},T),{},pe({},A,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(_){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(_){var T=this.state,S=T.formattedGraphicalItems,E=T.activeItem;if(S&&S.length)for(var A=0,C=S.length;A<C;A++){var k=S[A],N=k.props,P=k.item,M=P.type.defaultProps!==void 0?V(V({},P.type.defaultProps),P.props):P.props,j=Er(P.type);if(j==="Bar"){var L=(N.data||[]).find(function(D){return CY(_,D)});if(L)return{graphicalItem:k,payload:L}}else if(j==="RadialBar"){var F=(N.data||[]).find(function(D){return F_(_,D)});if(F)return{graphicalItem:k,payload:F}}else if(hh(k,E)||ph(k,E)||Xl(k,E)){var R=mQ({graphicalItem:k,activeTooltipItem:E,itemData:M.data}),B=M.activeIndex===void 0?R:M.activeIndex;return{graphicalItem:V(V({},k),{},{childIndex:B}),payload:Xl(k,E)?M.data[R]:k.props.data[R]}}}return null}},{key:"render",value:function(){var _=this;if(!Nb(this))return null;var T=this.props,S=T.children,E=T.className,A=T.width,C=T.height,k=T.style,N=T.compact,P=T.title,M=T.desc,j=pS(T,Nne),L=fe(j,!1);if(N)return I.createElement(J1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(zm,Yo({},L,{width:A,height:C,title:P,desc:M}),this.renderClipPath(),Mb(S,this.renderMap)));if(this.props.accessibilityLayer){var F,R;L.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,L.role=(R=this.props.role)!==null&&R!==void 0?R:"application",L.onKeyDown=function(D){_.accessibilityManager.keyboardEvent(D)},L.onFocus=function(){_.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return I.createElement(J1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",Yo({className:ye("recharts-wrapper",E),style:V({position:"relative",cursor:"default",width:A,height:C},k)},B,{ref:function(U){_.container=U}}),I.createElement(zm,Yo({},L,{width:A,height:C,title:P,desc:M,style:Kne}),this.renderClipPath(),Mb(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);pe(v,"displayName",n),pe(v,"defaultProps",V({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),pe(v,"getDerivedStateFromProps",function(b,w){var x=b.dataKey,_=b.data,T=b.children,S=b.width,E=b.height,A=b.layout,C=b.stackOffset,k=b.margin,N=w.dataStartIndex,P=w.dataEndIndex;if(w.updateId===void 0){var M=vS(b);return V(V(V({},M),{},{updateId:0},g(V(V({props:b},M),{},{updateId:0}),w)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:k,prevChildren:T})}if(x!==w.prevDataKey||_!==w.prevData||S!==w.prevWidth||E!==w.prevHeight||A!==w.prevLayout||C!==w.prevStackOffset||!ia(k,w.prevMargin)){var j=vS(b),L={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},F=V(V({},gS(w,_,A)),{},{updateId:w.updateId+1}),R=V(V(V({},j),L),F);return V(V(V({},R),g(V({props:b},R),w)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:k,prevChildren:T})}if(!Fm(T,w.prevChildren)){var B,D,U,H,Y=an(T,Oa),G=Y&&(B=(D=Y.props)===null||D===void 0?void 0:D.startIndex)!==null&&B!==void 0?B:N,ne=Y&&(U=(H=Y.props)===null||H===void 0?void 0:H.endIndex)!==null&&U!==void 0?U:P,he=G!==N||ne!==P,we=!ve(_),_e=we&&!he?w.updateId:w.updateId+1;return V(V({updateId:_e},g(V(V({props:b},w),{},{updateId:_e,dataStartIndex:G,dataEndIndex:ne}),w)),{},{prevChildren:T,dataStartIndex:G,dataEndIndex:ne})}return null}),pe(v,"renderActiveDot",function(b,w,x){var _;return O.isValidElement(b)?_=O.cloneElement(b,w):ge(b)?_=b(w):_=I.createElement(lh,w),I.createElement(Ce,{className:"recharts-active-dot",key:x},_)});var y=O.forwardRef(function(w,x){return I.createElement(v,Yo({},w,{ref:x}))});return y.displayName=v.displayName,y},ire=L0({chartName:"LineChart",GraphicalChild:xu,axisComponents:[{axisType:"xAxis",AxisComp:as},{axisType:"yAxis",AxisComp:ss}],formatAxisMap:KI}),ore=L0({chartName:"BarChart",GraphicalChild:wo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:as},{axisType:"yAxis",AxisComp:ss}],formatAxisMap:KI}),are=L0({chartName:"PieChart",GraphicalChild:Ur,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:fh},{axisType:"radiusAxis",AxisComp:ch}],formatAxisMap:BW,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let sre,lre;function ure(){return{geminiUrl:sre,vertexUrl:lre}}function cre(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=ure();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Br{}function te(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,e.slice(o+1),n[u])}else for(const u of l)p(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];p(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>f(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function dre(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}hv(t,i,o,0,a)}}function hv(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])hv(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);p(a,d,c)}for(const u of s)delete a[u]}}else{const a=t;o in a&&hv(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U0(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fre(t){const e={},n=f(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=f(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function hre(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],mre(a)),e}function pre(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],gre(a)),e}function mre(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>vre(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function gre(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>yre(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function vre(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],Ere(n)),e}function yre(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],Tre(n)),e}function wre(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function bre(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function xre(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],_re(a)),e}function _re(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function I2(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],Sre(a)),e}function Sre(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function Ere(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],U0(r));const i=f(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function Tre(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],U0(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wS;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(wS||(wS={}));var bS;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(bS||(bS={}));var xS;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(xS||(xS={}));var ri;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ri||(ri={}));var _S;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(_S||(_S={}));var SS;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(SS||(SS={}));var ES;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(ES||(ES={}));var TS;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(TS||(TS={}));var AS;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(AS||(AS={}));var CS;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(CS||(CS={}));var kS;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(kS||(kS={}));var PS;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(PS||(PS={}));var IS;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(IS||(IS={}));var NS;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(NS||(NS={}));var OS;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(OS||(OS={}));var MS;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(MS||(MS={}));var RS;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(RS||(RS={}));var $S;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})($S||($S={}));var DS;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(DS||(DS={}));var tf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(tf||(tf={}));var jS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jS||(jS={}));var LS;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(LS||(LS={}));var US;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(US||(US={}));var pv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(pv||(pv={}));var BS;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(BS||(BS={}));var FS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(FS||(FS={}));var VS;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(VS||(VS={}));var zS;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(zS||(zS={}));var qS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qS||(qS={}));var HS;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(HS||(HS={}));var GS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(GS||(GS={}));var WS;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(WS||(WS={}));var KS;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(KS||(KS={}));var JS;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(JS||(JS={}));var YS;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(YS||(YS={}));var XS;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(XS||(XS={}));var QS;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(QS||(QS={}));var ZS;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ZS||(ZS={}));var eE;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(eE||(eE={}));var tE;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(tE||(tE={}));var nE;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(nE||(nE={}));var rE;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(rE||(rE={}));var iE;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(iE||(iE={}));var oE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(oE||(oE={}));var aE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(aE||(aE={}));var sE;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(sE||(sE={}));var lE;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(lE||(lE={}));var uE;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(uE||(uE={}));var cE;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(cE||(cE={}));var dE;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(dE||(dE={}));var fE;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(fE||(fE={}));var hE;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(hE||(hE={}));var pE;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(pE||(pE={}));var mE;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(mE||(mE={}));var Xo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Xo||(Xo={}));class mv{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Rs{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(v!==null||v!==void 0)&&d.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(d))h!=="inlineData"&&(g!==null||g!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class gE{}class vE{}class Are{}class Cre{}class kre{}class Pre{}class yE{}class wE{}class bE{}class Ire{}class nf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new nf;let i;const o=e;return n?i=pre(o):i=hre(o),Object.assign(r,i),r}}class xE{}class _E{}class SE{}class Nre{}class Ore{}class Mre{}class B0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new B0,o=xre(e);return Object.assign(r,o),r}}class Rre{}class $re{}class Dre{}class EE{}class jre{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Lre{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class F0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new F0,o=I2(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function N2(t,e){const n=Pe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function O2(t){return Array.isArray(t)?t.map(e=>rf(e)):[rf(t)]}function rf(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function M2(t){const e=rf(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function R2(t){const e=rf(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function TE(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function $2(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>TE(e)):[TE(t)]}function gv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function AE(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function CE(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function $t(t){if(t==null)throw new Error("ContentUnion is required");return gv(t)?t:{role:"user",parts:$2(t)}}function V0(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=$t(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=$t(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>$t(n)):[$t(e)]}function In(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(AE(t)||CE(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[$t(t)]}const e=[],n=[],r=gv(t[0]);for(const i of t){const o=gv(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(AE(i)||CE(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:$2(n)}),e}function Ure(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ri).includes(n[0].toUpperCase())?n[0].toUpperCase():ri.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ri).includes(r.toUpperCase())?r.toUpperCase():ri.TYPE_UNSPECIFIED})}}function sa(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Ure(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(ri).includes(s.toUpperCase())?s.toUpperCase():ri.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=sa(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(sa(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=sa(c);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function z0(t){return sa(t)}function q0(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function H0(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ls(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=sa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=sa(e.response));return t}function us(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Bre(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Fr(t,e){if(typeof e!="string")throw new Error("name must be a string");return Bre(t,e,"cachedContents")}function D2(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Si(t){return U0(t)}function Fre(t){return t!=null&&typeof t=="object"&&"name"in t}function Vre(t){return t!=null&&typeof t=="object"&&"video"in t}function zre(t){return t!=null&&typeof t=="object"&&"uri"in t}function j2(t){var e;let n;if(Fre(t)&&(n=t.name),!(zre(t)&&(n=t.uri,n===void 0))&&!(Vre(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function L2(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function U2(t){for(const e of["models","tunedModels","publisherModels"])if(qre(t,e))return t[e];return[]}function qre(t,e){return t!==null&&typeof t=="object"&&e in t}function Hre(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Gre(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=Hre(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function B2(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Wre(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function F2(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function cs(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function V2(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kre(t){const e={},n=f(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=f(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>kie(a))),p(e,["inlinedResponses"],o)}const i=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["inlinedEmbedContentResponses"],o)}return e}function Jre(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function Yre(t){const e={},n=f(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Cc(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["metadata","state"]);i!=null&&p(e,["state"],V2(i));const o=f(t,["metadata","createTime"]);o!=null&&p(e,["createTime"],o);const a=f(t,["metadata","endTime"]);a!=null&&p(e,["endTime"],a);const s=f(t,["metadata","updateTime"]);s!=null&&p(e,["updateTime"],s);const l=f(t,["metadata","model"]);l!=null&&p(e,["model"],l);const u=f(t,["metadata","output"]);return u!=null&&p(e,["dest"],Kre(F2(u))),e}function vv(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["state"]);i!=null&&p(e,["state"],V2(i));const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["createTime"]);a!=null&&p(e,["createTime"],a);const s=f(t,["startTime"]);s!=null&&p(e,["startTime"],s);const l=f(t,["endTime"]);l!=null&&p(e,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const c=f(t,["model"]);c!=null&&p(e,["model"],c);const d=f(t,["inputConfig"]);d!=null&&p(e,["src"],Xre(d));const h=f(t,["outputConfig"]);h!=null&&p(e,["dest"],Jre(F2(h)));const g=f(t,["completionStats"]);return g!=null&&p(e,["completionStats"],g),e}function Xre(t){const e={},n=f(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function Qre(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=f(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Cie(t,a))),p(n,["requests","requests"],o)}return n}function Zre(t){const e={},n=f(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function eie(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function tie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],cs(t,r)),n}function nie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],cs(t,r)),n}function rie(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],iie(r));const i=f(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&p(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),p(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&p(e,["urlContextMetadata"],d),e}function iie(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function z2(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$ie(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function oie(t,e){const n={},r=f(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function aie(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],Yre(Wre(i))),n}function kE(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],Qre(t,B2(t,i)));const o=f(e,["config"]);return o!=null&&oie(o,n),n}function sie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],Pe(t,r));const i=f(e,["src"]);i!=null&&p(n,["inputConfig"],Zre(B2(t,i)));const o=f(e,["config"]);return o!=null&&aie(o,n),n}function lie(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function uie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],gie(t,i));const o=f(e,["config"]);return o!=null&&lie(o,n),n}function cie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],cs(t,r)),n}function die(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],cs(t,r)),n}function fie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function hie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function pie(t,e){const n={},r=f(e,["contents"]);if(r!=null){let o=V0(t,r);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["requests[]","request","content"],o)}const i=f(e,["config"]);return i!=null&&(p(n,["_self"],mie(i,n)),dre(n,{"requests[].*":"requests[].request.*"})),n}function mie(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function gie(t,e){const n={},r=f(e,["fileName"]);r!=null&&p(n,["file_name"],r);const i=f(e,["inlinedRequests"]);return i!=null&&p(n,["requests"],pie(t,i)),n}function vie(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function yie(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wie(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bie(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],z2($t(i)));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const v=f(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const y=f(e,["seed"]);y!=null&&p(r,["seed"],y);const b=f(e,["responseMimeType"]);b!=null&&p(r,["responseMimeType"],b);const w=f(e,["responseSchema"]);w!=null&&p(r,["responseSchema"],z0(w));const x=f(e,["responseJsonSchema"]);if(x!=null&&p(r,["responseJsonSchema"],x),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let M=_;Array.isArray(M)&&(M=M.map(j=>Die(j))),p(n,["safetySettings"],M)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let M=us(T);Array.isArray(M)&&(M=M.map(j=>Lie(ls(j)))),p(n,["tools"],M)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],jie(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],Fr(t,E));const A=f(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const C=f(e,["mediaResolution"]);C!=null&&p(r,["mediaResolution"],C);const k=f(e,["speechConfig"]);if(k!=null&&p(r,["speechConfig"],q0(k)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=f(e,["thinkingConfig"]);N!=null&&p(r,["thinkingConfig"],N);const P=f(e,["imageConfig"]);return P!=null&&p(r,["imageConfig"],Aie(P)),r}function xie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>rie(u))),p(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function _ie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],cs(t,r)),n}function Sie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],cs(t,r)),n}function Eie(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Tie(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Aie(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Cie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["request","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let s=In(i);Array.isArray(s)&&(s=s.map(l=>z2(l))),p(n,["request","contents"],s)}const o=f(e,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(e,["config"]);return a!=null&&p(n,["request","generationConfig"],bie(t,a,f(n,["request"],{}))),n}function kie(t){const e={},n=f(t,["response"]);n!=null&&p(e,["response"],xie(n));const r=f(t,["error"]);return r!=null&&p(e,["error"],r),e}function Pie(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Iie(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=f(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function Nie(t){const e={},n=f(t,["config"]);return n!=null&&Pie(n,e),e}function Oie(t){const e={},n=f(t,["config"]);return n!=null&&Iie(n,e),e}function Mie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Cc(a))),p(e,["batchJobs"],o)}return e}function Rie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>vv(a))),p(e,["batchJobs"],o)}return e}function $ie(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],vie(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],yie(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],eie(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Die(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function jie(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],wie(n));const r=f(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function Lie(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],Eie(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],Tie(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Rr||(Rr={}));class bo{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uie extends Br{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new bo(Rr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=kE(this.apiClient,e),r=n._url,i=te("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const g=d.request;g.systemInstruction=h,d.request=g}u.push(d)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=sie(this.apiClient,e);return s=te("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>vv(c))}else{const u=kE(this.apiClient,e);return s=te("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Cc(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=uie(this.apiClient,e);return o=te("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Cc(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Sie(this.apiClient,e);return s=te("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>vv(c))}else{const u=_ie(this.apiClient,e);return s=te("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Cc(c))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=nie(this.apiClient,e);a=te("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=tie(this.apiClient,e);a=te("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Oie(e);return s=te("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Rie(c),h=new EE;return Object.assign(h,d),h})}else{const u=Nie(e);return s=te("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Mie(c),h=new EE;return Object.assign(h,d),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=die(this.apiClient,e);return s=te("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>hie(c))}else{const u=cie(this.apiClient,e);return s=te("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>fie(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bie(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function PE(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>uoe(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function Fie(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let c=In(a);Array.isArray(c)&&(c=c.map(d=>PE(d))),p(e,["contents"],c)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],PE($t(s)));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>doe(d))),p(e,["tools"],c)}const u=f(t,["toolConfig"]);if(e!==void 0&&u!=null&&p(e,["toolConfig"],coe(u)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Vie(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let d=In(a);Array.isArray(d)&&(d=d.map(h=>h)),p(e,["contents"],d)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],$t(s));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>foe(h))),p(e,["tools"],d)}const u=f(t,["toolConfig"]);e!==void 0&&u!=null&&p(e,["toolConfig"],u);const c=f(t,["kmsKeyName"]);return e!==void 0&&c!=null&&p(e,["encryption_spec","kmsKeyName"],c),n}function zie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],N2(t,r));const i=f(e,["config"]);return i!=null&&Fie(i,n),n}function qie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],N2(t,r));const i=f(e,["config"]);return i!=null&&Vie(i,n),n}function Hie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Fr(t,r)),n}function Gie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Fr(t,r)),n}function Wie(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Kie(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Jie(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Yie(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Xie(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Qie(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function Zie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Fr(t,r)),n}function eoe(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Fr(t,r)),n}function toe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function noe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function roe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function ioe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function ooe(t){const e={},n=f(t,["config"]);return n!=null&&roe(n,e),e}function aoe(t){const e={},n=f(t,["config"]);return n!=null&&ioe(n,e),e}function soe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function loe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function uoe(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],Jie(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],Yie(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],Bie(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function coe(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],Xie(n));const r=f(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function doe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],toe(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],noe(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function foe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>Qie(h))),p(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&p(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function hoe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function poe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function moe(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],Fr(t,r));const i=f(e,["config"]);return i!=null&&hoe(i,n),n}function goe(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],Fr(t,r));const i=f(e,["config"]);return i!=null&&poe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class voe extends Br{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bo(Rr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=qie(this.apiClient,e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=zie(this.apiClient,e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=eoe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=Zie(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Gie(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Kie(c),h=new _E;return Object.assign(h,d),h})}else{const u=Hie(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Wie(c),h=new _E;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=goe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=moe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=aoe(e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=loe(c),h=new SE;return Object.assign(h,d),h})}else{const u=ooe(e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=soe(c),h=new SE;return Object.assign(h,d),h})}}}function IE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(t){return this instanceof qe?(this.v=t,this):new qe(t)}function la(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(v){return Promise.resolve(v).then(g,d)}}function s(g,v){r[g]&&(i[g]=function(y){return new Promise(function(b,w){o.push([g,y,b,w])>1||l(g,y)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(r[g](v))}catch(y){h(o[0][3],y)}}function u(g){g.value instanceof qe?Promise.resolve(g.value.v).then(c,d):h(o[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function rl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof IE=="function"?IE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yoe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:q2(n)}function q2(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function woe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function NE(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!q2(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class boe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new xoe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class xoe{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),woe(o)}async sendMessage(e){var n;await this.sendPromise;const r=$t(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(d))!==null&&s!==void 0?s:[]);const g=u?[u]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=$t(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?NE(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return la(this,arguments,function*(){var a,s,l,u;const c=[];try{for(var d=!0,h=rl(e),g;g=yield qe(h.next()),a=g.done,!a;d=!0){u=g.value,d=!1;const v=u;if(yoe(v)){const y=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;y!==void 0&&c.push(y)}yield yield qe(v)}}catch(v){s={error:v}}finally{try{!d&&!a&&(l=h.return)&&(yield qe(l.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...NE(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,xh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _oe(t){const e={},n=f(t,["file"]);return n!=null&&p(e,["file"],n),e}function Soe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Eoe(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],j2(n)),e}function Toe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Aoe(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],j2(n)),e}function Coe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function koe(t){const e={},n=f(t,["config"]);return n!=null&&Coe(n,e),e}function Poe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ioe extends Br{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bo(Rr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=koe(e);return o=te("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Poe(l),c=new Rre;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=_oe(e);return o=te("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Soe(l),c=new $re;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Aoe(e);return o=te("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Eoe(e);return o=te("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Toe(l),c=new Dre;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kc(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Noe(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Woe(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function Ooe(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Moe(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Roe(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function $oe(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&p(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const g=f(t,["responseMimeType"]);g!=null&&p(e,["responseMimeType"],g);const v=f(t,["responseModalities"]);v!=null&&p(e,["responseModalities"],v);const y=f(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const b=f(t,["routingConfig"]);b!=null&&p(e,["routingConfig"],b);const w=f(t,["seed"]);w!=null&&p(e,["seed"],w);const x=f(t,["speechConfig"]);x!=null&&p(e,["speechConfig"],H2(x));const _=f(t,["stopSequences"]);_!=null&&p(e,["stopSequences"],_);const T=f(t,["temperature"]);T!=null&&p(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&p(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&p(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Doe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function joe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Loe(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],H0(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],Noe($t(v)));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let E=us(y);Array.isArray(E)&&(E=E.map(A=>Joe(ls(A)))),p(e,["setup","tools"],E)}const b=f(t,["sessionResumption"]);e!==void 0&&b!=null&&p(e,["setup","sessionResumption"],Koe(b));const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&p(e,["setup","inputAudioTranscription"],w);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],x);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),n}function Uoe(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],$oe(r));const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],H2(H0(d)));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],$t(v));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let E=us(y);Array.isArray(E)&&(E=E.map(A=>Yoe(ls(A)))),p(e,["setup","tools"],E)}const b=f(t,["sessionResumption"]);e!==void 0&&b!=null&&p(e,["setup","sessionResumption"],b);const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&p(e,["setup","inputAudioTranscription"],w);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],x);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),n}function Boe(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],Pe(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],Loe(i,n)),n}function Foe(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],Pe(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],Uoe(i,n)),n}function Voe(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function zoe(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["weightedPrompts"],r)}return e}function qoe(t){const e={},n=f(t,["media"]);if(n!=null){let u=O2(n);Array.isArray(u)&&(u=u.map(c=>kc(c))),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],kc(R2(r)));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],kc(M2(o)));const a=f(t,["text"]);a!=null&&p(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function Hoe(t){const e={},n=f(t,["media"]);if(n!=null){let u=O2(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],R2(r));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],M2(o));const a=f(t,["text"]);a!=null&&p(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function Goe(t){const e={},n=f(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const r=f(t,["serverContent"]);r!=null&&p(e,["serverContent"],r);const i=f(t,["toolCall"]);i!=null&&p(e,["toolCall"],i);const o=f(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],o);const a=f(t,["usageMetadata"]);a!=null&&p(e,["usageMetadata"],Xoe(a));const s=f(t,["goAway"]);s!=null&&p(e,["goAway"],s);const l=f(t,["sessionResumptionUpdate"]);return l!=null&&p(e,["sessionResumptionUpdate"],l),e}function Woe(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],Ooe(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],Moe(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],kc(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Koe(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function H2(t){const e={},n=f(t,["languageCode"]);n!=null&&p(e,["languageCode"],n);const r=f(t,["voiceConfig"]);if(r!=null&&p(e,["voiceConfig"],r),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Joe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],Doe(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],joe(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function Yoe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>Roe(h))),p(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&p(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function Xoe(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=f(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=f(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const a=f(t,["thoughtsTokenCount"]);a!=null&&p(e,["thoughtsTokenCount"],a);const s=f(t,["totalTokenCount"]);s!=null&&p(e,["totalTokenCount"],s);const l=f(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),p(e,["promptTokensDetails"],g)}const u=f(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>v)),p(e,["cacheTokensDetails"],g)}const c=f(t,["candidatesTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>v)),p(e,["responseTokensDetails"],g)}const d=f(t,["toolUsePromptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),p(e,["toolUsePromptTokensDetails"],g)}const h=f(t,["trafficType"]);return h!=null&&p(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qoe(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Zoe(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],eae(r));const i=f(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&p(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),p(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&p(e,["urlContextMetadata"],d),e}function eae(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function tae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let o=In(i);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["contents"],o)}return n}function nae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["tokensInfo"],i)}return e}function rae(t){const e={},n=f(t,["values"]);n!=null&&p(e,["values"],n);const r=f(t,["statistics"]);return r!=null&&p(e,["statistics"],iae(r)),e}function iae(t){const e={},n=f(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=f(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function _h(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hse(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function oae(t){const e={},n=f(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=f(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function aae(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function sae(t,e){const n={},r=f(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],$t(r));const i=f(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Y2(s))),p(e,["tools"],a)}const o=f(t,["generationConfig"]);return e!==void 0&&o!=null&&p(e,["generationConfig"],Qae(o)),n}function lae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let a=In(i);Array.isArray(a)&&(a=a.map(s=>_h(s))),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&aae(o),n}function uae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let a=In(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&sae(o,n),n}function cae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const i=f(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function dae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function fae(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],Pe(t,r)),n}function hae(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],Pe(t,r)),n}function pae(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function mae(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function gae(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&p(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const g=f(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","mimeType"],v);const y=f(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const b=f(t,["addWatermark"]);e!==void 0&&b!=null&&p(e,["parameters","addWatermark"],b);const w=f(t,["labels"]);e!==void 0&&w!=null&&p(e,["labels"],w);const x=f(t,["editMode"]);e!==void 0&&x!=null&&p(e,["parameters","editMode"],x);const _=f(t,["baseSteps"]);return e!==void 0&&_!=null&&p(e,["parameters","editConfig","baseSteps"],_),n}function vae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>wse(l))),p(n,["instances[0]","referenceImages"],s)}const a=f(e,["config"]);return a!=null&&gae(a,n),n}function yae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Sh(o))),p(e,["generatedImages"],i)}return e}function wae(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function bae(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["instances[]","title"],i);const o=f(t,["outputDimensionality"]);e!==void 0&&o!=null&&p(e,["parameters","outputDimensionality"],o);const a=f(t,["mimeType"]);e!==void 0&&a!=null&&p(e,["instances[]","mimeType"],a);const s=f(t,["autoTruncate"]);return e!==void 0&&s!=null&&p(e,["parameters","autoTruncate"],s),n}function xae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let s=V0(t,i);Array.isArray(s)&&(s=s.map(l=>l)),p(n,["requests[]","content"],s)}const o=f(e,["config"]);o!=null&&wae(o,n);const a=f(e,["model"]);return a!==void 0&&p(n,["requests[]","model"],Pe(t,a)),n}function _ae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let a=V0(t,i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["instances[]","content"],a)}const o=f(e,["config"]);return o!=null&&bae(o,n),n}function Sae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function Eae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>rae(a))),p(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function Tae(t){const e={},n=f(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=f(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function Aae(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Cae(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kae(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Pae(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function Iae(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],_h($t(i)));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const v=f(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const y=f(e,["seed"]);y!=null&&p(r,["seed"],y);const b=f(e,["responseMimeType"]);b!=null&&p(r,["responseMimeType"],b);const w=f(e,["responseSchema"]);w!=null&&p(r,["responseSchema"],z0(w));const x=f(e,["responseJsonSchema"]);if(x!=null&&p(r,["responseJsonSchema"],x),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let M=_;Array.isArray(M)&&(M=M.map(j=>bse(j))),p(n,["safetySettings"],M)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let M=us(T);Array.isArray(M)&&(M=M.map(j=>Cse(ls(j)))),p(n,["tools"],M)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],Ase(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],Fr(t,E));const A=f(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const C=f(e,["mediaResolution"]);C!=null&&p(r,["mediaResolution"],C);const k=f(e,["speechConfig"]);if(k!=null&&p(r,["speechConfig"],q0(k)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=f(e,["thinkingConfig"]);N!=null&&p(r,["thinkingConfig"],N);const P=f(e,["imageConfig"]);return P!=null&&p(r,["imageConfig"],rse(P)),r}function Nae(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],$t(i));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const v=f(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const y=f(e,["seed"]);y!=null&&p(r,["seed"],y);const b=f(e,["responseMimeType"]);b!=null&&p(r,["responseMimeType"],b);const w=f(e,["responseSchema"]);w!=null&&p(r,["responseSchema"],z0(w));const x=f(e,["responseJsonSchema"]);x!=null&&p(r,["responseJsonSchema"],x);const _=f(e,["routingConfig"]);_!=null&&p(r,["routingConfig"],_);const T=f(e,["modelSelectionConfig"]);T!=null&&p(r,["modelConfig"],T);const S=f(e,["safetySettings"]);if(n!==void 0&&S!=null){let R=S;Array.isArray(R)&&(R=R.map(B=>B)),p(n,["safetySettings"],R)}const E=f(e,["tools"]);if(n!==void 0&&E!=null){let R=us(E);Array.isArray(R)&&(R=R.map(B=>Y2(ls(B)))),p(n,["tools"],R)}const A=f(e,["toolConfig"]);n!==void 0&&A!=null&&p(n,["toolConfig"],A);const C=f(e,["labels"]);n!==void 0&&C!=null&&p(n,["labels"],C);const k=f(e,["cachedContent"]);n!==void 0&&k!=null&&p(n,["cachedContent"],Fr(t,k));const N=f(e,["responseModalities"]);N!=null&&p(r,["responseModalities"],N);const P=f(e,["mediaResolution"]);P!=null&&p(r,["mediaResolution"],P);const M=f(e,["speechConfig"]);M!=null&&p(r,["speechConfig"],J2(q0(M)));const j=f(e,["audioTimestamp"]);j!=null&&p(r,["audioTimestamp"],j);const L=f(e,["thinkingConfig"]);L!=null&&p(r,["thinkingConfig"],L);const F=f(e,["imageConfig"]);return F!=null&&p(r,["imageConfig"],ise(F)),r}function OE(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let a=In(i);Array.isArray(a)&&(a=a.map(s=>_h(s))),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],Iae(t,o,n)),n}function ME(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let a=In(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],Nae(t,o,n)),n}function RE(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Zoe(u))),p(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function $E(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["candidates"],u)}const i=f(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=f(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const a=f(t,["promptFeedback"]);a!=null&&p(e,["promptFeedback"],a);const s=f(t,["responseId"]);s!=null&&p(e,["responseId"],s);const l=f(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function Oae(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["aspectRatio"]);e!==void 0&&i!=null&&p(e,["parameters","aspectRatio"],i);const o=f(t,["guidanceScale"]);if(e!==void 0&&o!=null&&p(e,["parameters","guidanceScale"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&p(e,["parameters","safetySetting"],a);const s=f(t,["personGeneration"]);e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s);const l=f(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&p(e,["parameters","includeSafetyAttributes"],l);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const c=f(t,["language"]);e!==void 0&&c!=null&&p(e,["parameters","language"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=f(t,["imageSize"]);if(e!==void 0&&g!=null&&p(e,["parameters","sampleImageSize"],g),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Mae(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&p(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const g=f(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","mimeType"],v);const y=f(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const b=f(t,["addWatermark"]);e!==void 0&&b!=null&&p(e,["parameters","addWatermark"],b);const w=f(t,["labels"]);e!==void 0&&w!=null&&p(e,["labels"],w);const x=f(t,["imageSize"]);e!==void 0&&x!=null&&p(e,["parameters","sampleImageSize"],x);const _=f(t,["enhancePrompt"]);return e!==void 0&&_!=null&&p(e,["parameters","enhancePrompt"],_),n}function Rae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&Oae(o,n),n}function $ae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&Mae(o,n),n}function Dae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Kae(a))),p(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],W2(i)),e}function jae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Sh(a))),p(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],K2(i)),e}function Lae(t,e){const n={},r=f(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=f(t,["durationSeconds"]);if(e!==void 0&&i!=null&&p(e,["parameters","durationSeconds"],i),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const a=f(t,["resolution"]);e!==void 0&&a!=null&&p(e,["parameters","resolution"],a);const s=f(t,["personGeneration"]);if(e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const u=f(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&p(e,["parameters","enhancePrompt"],u),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=f(t,["lastFrame"]);e!==void 0&&c!=null&&p(e,["instances[0]","lastFrame"],Eh(c));const d=f(t,["referenceImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>Bse(g))),p(e,["instances[0]","referenceImages"],h)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Uae(t,e){const n={},r=f(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=f(t,["fps"]);e!==void 0&&o!=null&&p(e,["parameters","fps"],o);const a=f(t,["durationSeconds"]);e!==void 0&&a!=null&&p(e,["parameters","durationSeconds"],a);const s=f(t,["seed"]);e!==void 0&&s!=null&&p(e,["parameters","seed"],s);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const u=f(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["pubsubTopic"]);e!==void 0&&d!=null&&p(e,["parameters","pubsubTopic"],d);const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const g=f(t,["enhancePrompt"]);e!==void 0&&g!=null&&p(e,["parameters","enhancePrompt"],g);const v=f(t,["generateAudio"]);e!==void 0&&v!=null&&p(e,["parameters","generateAudio"],v);const y=f(t,["lastFrame"]);e!==void 0&&y!=null&&p(e,["instances[0]","lastFrame"],Qn(y));const b=f(t,["referenceImages"]);if(e!==void 0&&b!=null){let _=b;Array.isArray(_)&&(_=_.map(T=>Fse(T))),p(e,["instances[0]","referenceImages"],_)}const w=f(t,["mask"]);e!==void 0&&w!=null&&p(e,["instances[0]","mask"],Use(w));const x=f(t,["compressionQuality"]);return e!==void 0&&x!=null&&p(e,["parameters","compressionQuality"],x),n}function Bae(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],qae(a)),e}function Fae(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],Hae(a)),e}function Vae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],Eh(o));const a=f(e,["video"]);a!=null&&p(n,["instances[0]","video"],X2(a));const s=f(e,["source"]);s!=null&&Gae(s,n);const l=f(e,["config"]);return l!=null&&Lae(l,n),n}function zae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],Qn(o));const a=f(e,["video"]);a!=null&&p(n,["instances[0]","video"],Q2(a));const s=f(e,["source"]);s!=null&&Wae(s,n);const l=f(e,["config"]);return l!=null&&Uae(l,n),n}function qae(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Yae(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function Hae(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Xae(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function Gae(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Eh(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],X2(o)),n}function Wae(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Qn(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],Q2(o)),n}function Kae(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],ose(n));const r=f(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=f(t,["_self"]);return i!=null&&p(e,["safetyAttributes"],W2(i)),e}function Sh(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],G2(n));const r=f(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=f(t,["_self"]);i!=null&&p(e,["safetyAttributes"],K2(i));const o=f(t,["prompt"]);return o!=null&&p(e,["enhancedPrompt"],o),e}function Jae(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["mask"],G2(n));const r=f(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["labels"],i)}return e}function Yae(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],jse(n)),e}function Xae(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],Lse(n)),e}function Qae(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&p(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const g=f(t,["responseMimeType"]);g!=null&&p(e,["responseMimeType"],g);const v=f(t,["responseModalities"]);v!=null&&p(e,["responseModalities"],v);const y=f(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const b=f(t,["routingConfig"]);b!=null&&p(e,["routingConfig"],b);const w=f(t,["seed"]);w!=null&&p(e,["seed"],w);const x=f(t,["speechConfig"]);x!=null&&p(e,["speechConfig"],J2(x));const _=f(t,["stopSequences"]);_!=null&&p(e,["stopSequences"],_);const T=f(t,["temperature"]);T!=null&&p(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&p(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&p(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Zae(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],Pe(t,r)),n}function ese(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],Pe(t,r)),n}function tse(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function nse(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function rse(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function ise(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);r!=null&&p(e,["imageSize"],r);const i=f(t,["outputMimeType"]);i!=null&&p(e,["imageOutputOptions","mimeType"],i);const o=f(t,["outputCompressionQuality"]);return o!=null&&p(e,["imageOutputOptions","compressionQuality"],o),e}function ose(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],Si(n));const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function G2(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],Si(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Eh(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],Si(n));const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Qn(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Si(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function ase(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],L2(t,s)),r}function sse(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],L2(t,s)),r}function lse(t,e){const n={},r=f(e,["config"]);return r!=null&&ase(t,r,n),n}function use(t,e){const n={},r=f(e,["config"]);return r!=null&&sse(t,r,n),n}function cse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=U2(i);Array.isArray(o)&&(o=o.map(a=>yv(a))),p(e,["models"],o)}return e}function dse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=U2(i);Array.isArray(o)&&(o=o.map(a=>wv(a))),p(e,["models"],o)}return e}function fse(t){const e={},n=f(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=f(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const i=f(t,["maskDilation"]);return i!=null&&p(e,["dilation"],i),e}function yv(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const o=f(t,["version"]);o!=null&&p(e,["version"],o);const a=f(t,["_self"]);a!=null&&p(e,["tunedModelInfo"],kse(a));const s=f(t,["inputTokenLimit"]);s!=null&&p(e,["inputTokenLimit"],s);const l=f(t,["outputTokenLimit"]);l!=null&&p(e,["outputTokenLimit"],l);const u=f(t,["supportedGenerationMethods"]);u!=null&&p(e,["supportedActions"],u);const c=f(t,["temperature"]);c!=null&&p(e,["temperature"],c);const d=f(t,["maxTemperature"]);d!=null&&p(e,["maxTemperature"],d);const h=f(t,["topP"]);h!=null&&p(e,["topP"],h);const g=f(t,["topK"]);g!=null&&p(e,["topK"],g);const v=f(t,["thinking"]);return v!=null&&p(e,["thinking"],v),e}function wv(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const o=f(t,["versionId"]);o!=null&&p(e,["version"],o);const a=f(t,["deployedModels"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>Tae(h))),p(e,["endpoints"],d)}const s=f(t,["labels"]);s!=null&&p(e,["labels"],s);const l=f(t,["_self"]);l!=null&&p(e,["tunedModelInfo"],Pse(l));const u=f(t,["defaultCheckpointId"]);u!=null&&p(e,["defaultCheckpointId"],u);const c=f(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),p(e,["checkpoints"],d)}return e}function hse(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],Aae(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],Cae(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],Qoe(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function pse(t){const e={},n=f(t,["productImage"]);return n!=null&&p(e,["image"],Qn(n)),e}function mse(t,e){const n={},r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["baseSteps"]);e!==void 0&&i!=null&&p(e,["parameters","baseSteps"],i);const o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const a=f(t,["seed"]);e!==void 0&&a!=null&&p(e,["parameters","seed"],a);const s=f(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&p(e,["parameters","safetySetting"],s);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const u=f(t,["addWatermark"]);e!==void 0&&u!=null&&p(e,["parameters","addWatermark"],u);const c=f(t,["outputMimeType"]);e!==void 0&&c!=null&&p(e,["parameters","outputOptions","mimeType"],c);const d=f(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","compressionQuality"],d);const h=f(t,["enhancePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h);const g=f(t,["labels"]);return e!==void 0&&g!=null&&p(e,["labels"],g),n}function gse(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["source"]);i!=null&&yse(i,n);const o=f(e,["config"]);return o!=null&&mse(o,n),n}function vse(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Sh(i))),p(e,["generatedImages"],r)}return e}function yse(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["personImage"]);e!==void 0&&i!=null&&p(e,["instances[0]","personImage","image"],Qn(i));const o=f(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>pse(s))),p(e,["instances[0]","productImages"],a)}return n}function wse(t){const e={},n=f(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],Qn(n));const r=f(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const i=f(t,["referenceType"]);i!=null&&p(e,["referenceType"],i);const o=f(t,["maskImageConfig"]);o!=null&&p(e,["maskImageConfig"],fse(o));const a=f(t,["controlImageConfig"]);a!=null&&p(e,["controlImageConfig"],oae(a));const s=f(t,["styleImageConfig"]);s!=null&&p(e,["styleImageConfig"],s);const l=f(t,["subjectImageConfig"]);return l!=null&&p(e,["subjectImageConfig"],l),e}function W2(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function K2(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function bse(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function xse(t){const e={},n=f(t,["image"]);return n!=null&&p(e,["image"],Qn(n)),e}function _se(t,e){const n={},r=f(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const i=f(t,["maxPredictions"]);e!==void 0&&i!=null&&p(e,["parameters","maxPredictions"],i);const o=f(t,["confidenceThreshold"]);e!==void 0&&o!=null&&p(e,["parameters","confidenceThreshold"],o);const a=f(t,["maskDilation"]);e!==void 0&&a!=null&&p(e,["parameters","maskDilation"],a);const s=f(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&p(e,["parameters","binaryColorThreshold"],s);const l=f(t,["labels"]);return e!==void 0&&l!=null&&p(e,["labels"],l),n}function Sse(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["source"]);i!=null&&Tse(i,n);const o=f(e,["config"]);return o!=null&&_se(o,n),n}function Ese(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Jae(i))),p(e,["generatedMasks"],r)}return e}function Tse(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Qn(i));const o=f(t,["scribbleImage"]);return e!==void 0&&o!=null&&p(e,["instances[0]","scribble"],xse(o)),n}function J2(t){const e={},n=f(t,["languageCode"]);n!=null&&p(e,["languageCode"],n);const r=f(t,["voiceConfig"]);if(r!=null&&p(e,["voiceConfig"],r),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Ase(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],kae(n));const r=f(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function Cse(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],tse(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],nse(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function Y2(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>Pae(h))),p(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&p(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function kse(t){const e={},n=f(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function Pse(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function Ise(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function Nse(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function Ose(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","name"],Pe(t,r));const i=f(e,["config"]);return i!=null&&Ise(i,n),n}function Mse(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["config"]);return i!=null&&Nse(i,n),n}function Rse(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&p(e,["parameters","safetySetting"],i);const o=f(t,["personGeneration"]);e!==void 0&&o!=null&&p(e,["parameters","personGeneration"],o);const a=f(t,["includeRaiReason"]);e!==void 0&&a!=null&&p(e,["parameters","includeRaiReason"],a);const s=f(t,["outputMimeType"]);e!==void 0&&s!=null&&p(e,["parameters","outputOptions","mimeType"],s);const l=f(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&p(e,["parameters","outputOptions","compressionQuality"],l);const u=f(t,["enhanceInputImage"]);e!==void 0&&u!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=f(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=f(t,["labels"]);e!==void 0&&d!=null&&p(e,["labels"],d);const h=f(t,["numberOfImages"]);e!==void 0&&h!=null&&p(e,["parameters","sampleCount"],h);const g=f(t,["mode"]);return e!==void 0&&g!=null&&p(e,["parameters","mode"],g),n}function $se(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["image"]);i!=null&&p(n,["instances[0]","image"],Qn(i));const o=f(e,["upscaleFactor"]);o!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=f(e,["config"]);return a!=null&&Rse(a,n),n}function Dse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Sh(o))),p(e,["generatedImages"],i)}return e}function jse(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],Si(r));const i=f(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function Lse(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],Si(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Use(t){const e={},n=f(t,["image"]);n!=null&&p(e,["_self"],Qn(n));const r=f(t,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function Bse(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],Eh(n));const r=f(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function Fse(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],Qn(n));const r=f(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function X2(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["videoBytes"]);r!=null&&p(e,["encodedVideo"],Si(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["encoding"],i),e}function Q2(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Si(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vse="Content-Type",zse="X-Server-Timeout",qse="User-Agent",bv="x-goog-api-client",Hse="1.30.0",Gse=`google-genai-sdk/${Hse}`,Wse="v1beta1",Kse="v1beta",DE=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Jse{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Wse,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Kse,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&Yse(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await jE(i),new mv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await jE(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return la(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:s,value:l}=yield qe(i.read());if(s){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(l,{stream:!0});try{const d=JSON.parse(u);if("error"in d){const h=JSON.parse(JSON.stringify(d.error)),g=h.status,v=h.code,y=`got status: ${g}. ${JSON.stringify(d)}`;if(v>=400&&v<600)throw new xh({message:y,status:v})}}catch(d){if(d.name==="ApiError")throw d}a+=u;let c=a.match(DE);for(;c;){const d=c[1];try{const h=new Response(d,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield qe(new mv(h)),a=a.slice(c[0].length),c=a.match(DE)}catch(h){throw new Error(`exception parsing stream chunk ${d}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Gse+" "+this.clientOptions.userAgentExtra;return e[qse]=n,e[bv]=n,e[Vse]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(zse,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),c=te("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&r.customMetadata&&(d.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(d.chunkingConfig=r.chunkingConfig);const h=await this.fetchUploadUrl(u,s,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function jE(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new xh({message:i,status:n}):new Error(i)}}function Yse(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xse="mcp_used/unknown";let Qse=!1;function Z2(t){for(const e of t)if(Zse(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Qse}function eN(t){var e;const n=(e=t[bv])!==null&&e!==void 0?e:"";t[bv]=(n+` ${Xse}`).trimStart()}function Zse(t){return t!==null&&typeof t=="object"&&t instanceof G0}function ele(t,e=100){return la(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield qe(t.listTools({cursor:r}));for(const a of o.tools)yield yield qe(a),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class G0{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new G0(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,rl(ele(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;a.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Gre(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function tle(t,e,n){const r=new Lre;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class nle{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=ole(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(_=>{u=_}),d=e.callbacks,h=function(){u({})},g=this.apiClient,v={onopen:h,onmessage:_=>{tle(g,d.onmessage,_)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(_){}},y=this.webSocketFactory.create(l,ile(a),v);y.connect(),await c;const x={setup:{model:Pe(this.apiClient,e.model)}};return y.send(JSON.stringify(x)),new rle(y,this.apiClient)}}class rle{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=zoe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Voe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Xo.PLAY)}pause(){this.sendPlaybackControl(Xo.PAUSE)}stop(){this.sendPlaybackControl(Xo.STOP)}resetContext(){this.sendPlaybackControl(Xo.RESET_CONTEXT)}close(){this.conn.close()}}function ile(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function ole(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ale="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function sle(t,e,n){const r=new jre;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=Goe(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class lle{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new nle(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&Z2(e.config.tools)&&eN(d);const h=fle(d);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c);else{const k=this.apiClient.getApiKey();let N="BidiGenerateContent",P="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",P="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${N}?${P}=${k}`}let g=()=>{};const v=new Promise(k=>{g=k}),y=e.callbacks,b=function(){var k;(k=y==null?void 0:y.onopen)===null||k===void 0||k.call(y),g({})},w=this.apiClient,x={onopen:b,onmessage:k=>{sle(w,y.onmessage,k)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(k){}},_=this.webSocketFactory.create(c,dle(h),x);_.connect(),await v;let T=Pe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const k=this.apiClient.getProject(),N=this.apiClient.getLocation();T=`projects/${k}/locations/${N}/`+T}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[tf.AUDIO]}:e.config.responseModalities=[tf.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],A=[];for(const k of E)if(this.isCallableTool(k)){const N=k;A.push(await N.tool())}else A.push(k);A.length>0&&(e.config.tools=A);const C={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=Foe(this.apiClient,C):S=Boe(this.apiClient,C),delete S.config,_.send(JSON.stringify(S)),new cle(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ule={turnComplete:!0};class cle{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=In(n.turns),e.isVertexAI()||(r=r.map(i=>_h(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(ale)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},ule),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Hoe(e)}:n={realtimeInput:qoe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function dle(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function fle(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LE=10;function UE(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ua(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ua(t){return"callTool"in t&&typeof t.callTool=="function"}function hle(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>ua(i)))!==null&&r!==void 0?r:!1}function BE(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(ua(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function FE(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ple extends Br{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!hle(n)||UE(n.config))return await this.generateContentInternal(l);const u=BE(n);if(u.length>0){const y=u.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let c,d;const h=In(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:LE;let v=0;for(;v<g&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const y=c.candidates[0].content,b=[];for(const w of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(ua(w)){const _=await w.callTool(c.functionCalls);b.push(..._)}v++,d={role:"user",parts:b},l.contents=In(l.contents),l.contents.push(y),l.contents.push(d),FE(l.config)&&(h.push(y),h.push(d))}return FE(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),UE(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=BE(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new bo(Rr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>ua(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&Z2(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),eN(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ua(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:LE;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){var h,g;return la(this,arguments,function*(){for(var v,y,b,w;s<o;){a&&(s++,a=!1);const S=yield qe(u.processParamsMaybeAddMcpUsage(d)),E=yield qe(u.generateContentStreamInternal(S)),A=[],C=[];try{for(var x=!0,_=(y=void 0,rl(E)),T;T=yield qe(_.next()),v=T.done,!v;x=!0){w=T.value,x=!1;const k=w;if(yield yield qe(k),k.candidates&&(!((h=k.candidates[0])===null||h===void 0)&&h.content)){C.push(k.candidates[0].content);for(const N of(g=k.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(s<o&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(N.functionCall.name)){const P=yield qe(c.get(N.functionCall.name).callTool([N.functionCall]));A.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(k){y={error:k}}finally{try{!x&&!v&&(b=_.return)&&(yield qe(b.call(_)))}finally{if(y)throw y.error}}if(A.length>0){a=!0;const k=new Rs;k.candidates=[{content:{role:"user",parts:A}}],yield yield qe(k);const N=[];N.push(...C),N.push({role:"user",parts:A});const P=In(d.contents).concat(N);d.contents=P}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ME(this.apiClient,e);return s=te("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=$E(c),h=new Rs;return Object.assign(h,d),h})}else{const u=OE(this.apiClient,e);return s=te("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=RE(c),h=new Rs;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ME(this.apiClient,e);return s=te("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(d){return la(this,arguments,function*(){var h,g,v,y;try{for(var b=!0,w=rl(d),x;x=yield qe(w.next()),h=x.done,!h;b=!0){y=x.value,b=!1;const _=y,T=$E(yield qe(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new Rs;Object.assign(S,T),yield yield qe(S)}}catch(_){g={error:_}}finally{try{!b&&!h&&(v=w.return)&&(yield qe(v.call(w)))}finally{if(g)throw g.error}}})})}else{const u=OE(this.apiClient,e);return s=te("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(d){return la(this,arguments,function*(){var h,g,v,y;try{for(var b=!0,w=rl(d),x;x=yield qe(w.next()),h=x.done,!h;b=!0){y=x.value,b=!1;const _=y,T=RE(yield qe(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new Rs;Object.assign(S,T),yield yield qe(S)}}catch(_){g={error:_}}finally{try{!b&&!h&&(v=w.return)&&(yield qe(v.call(w)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=_ae(this.apiClient,e);return s=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Eae(c),h=new gE;return Object.assign(h,d),h})}else{const u=xae(this.apiClient,e);return s=te("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Sae(c),h=new gE;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=$ae(this.apiClient,e);return s=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=jae(c),h=new vE;return Object.assign(h,d),h})}else{const u=Rae(this.apiClient,e);return s=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Dae(c),h=new vE;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=vae(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=yae(l),c=new Are;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=$se(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Dse(l),c=new Cre;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=gse(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=vse(l),c=new kre;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Sse(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Ese(l),c=new Pre;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ese(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>wv(c))}else{const u=Zae(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>yv(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=use(this.apiClient,e);return s=te("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=dse(c),h=new yE;return Object.assign(h,d),h})}else{const u=lse(this.apiClient,e);return s=te("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=cse(c),h=new yE;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Mse(this.apiClient,e);return s=te("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>wv(c))}else{const u=Ose(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>yv(c))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=hae(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=mae(c),h=new wE;return Object.assign(h,d),h})}else{const u=fae(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=pae(c),h=new wE;return Object.assign(h,d),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=uae(this.apiClient,e);return s=te("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=dae(c),h=new bE;return Object.assign(h,d),h})}else{const u=lae(this.apiClient,e);return s=te("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=cae(c),h=new bE;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=tae(this.apiClient,e);return o=te("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=nae(l),c=new Ire;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=zae(this.apiClient,e);return s=te("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=Fae(c),h=new nf;return Object.assign(h,d),h})}else{const u=Vae(this.apiClient,e);return s=te("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const d=Bae(c),h=new nf;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mle extends Br{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=bre(e);return s=te("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=wre(e);return s=te("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=fre(e);return o=te("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gle(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function vle(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ale(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function yle(t,e,n){const r={},i=f(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=f(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const a=f(e,["uses"]);n!==void 0&&a!=null&&p(n,["uses"],a);const s=f(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],Tle(t,s));const l=f(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function wle(t,e){const n={},r=f(e,["config"]);return r!=null&&p(n,["config"],yle(t,r,n)),n}function ble(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function xle(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _le(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Sle(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Ele(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],H0(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],vle($t(v)));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let E=us(y);Array.isArray(E)&&(E=E.map(A=>kle(ls(A)))),p(e,["setup","tools"],E)}const b=f(t,["sessionResumption"]);e!==void 0&&b!=null&&p(e,["setup","sessionResumption"],Cle(b));const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&p(e,["setup","inputAudioTranscription"],w);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],x);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),n}function Tle(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],Pe(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],Ele(i,n)),n}function Ale(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],ble(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],xle(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],gle(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Cle(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function kle(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],_le(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],Sle(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ple(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Ile(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Ple(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Nle extends Br{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=wle(this.apiClient,e);o=te("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=Ile(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ole(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["displayName"],r),n}function Mle(t){const e={},n=f(t,["config"]);return n!=null&&Ole(n,e),e}function Rle(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function $le(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&Rle(r,e),e}function Dle(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function jle(t,e){const n={},r=f(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["customMetadata"],o)}const i=f(t,["chunkingConfig"]);return e!==void 0&&i!=null&&p(e,["chunkingConfig"],i),n}function Lle(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],Ble(a)),e}function Ule(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["fileName"]);r!=null&&p(e,["fileName"],r);const i=f(t,["config"]);return i!=null&&jle(i,e),e}function Ble(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function Fle(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function Vle(t){const e={},n=f(t,["config"]);return n!=null&&Fle(n,e),e}function zle(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["fileSearchStores"],o)}return e}function qle(t,e){const n={},r=f(t,["mimeType"]);e!==void 0&&r!=null&&p(e,["mimeType"],r);const i=f(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(e,["customMetadata"],s)}const a=f(t,["chunkingConfig"]);return e!==void 0&&a!=null&&p(e,["chunkingConfig"],a),n}function Hle(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["config"]);return r!=null&&qle(r,e),e}function Gle(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wle(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function Kle(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&Wle(r,e),e}function Jle(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function Yle(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function Xle(t){const e={},n=f(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const r=f(t,["config"]);return r!=null&&Yle(r,e),e}function Qle(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zle extends Br{constructor(e){super(),this.apiClient=e,this.list=async n=>new bo(Rr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Jle(e);return o=te("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Kle(e);i=te("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Xle(e);return o=te("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Qle(l),c=new Nre;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eue extends Br{constructor(e,n=new Zle(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new bo(Rr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Mle(e);return o=te("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Dle(e);return o=te("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$le(e);i=te("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Vle(e);return o=te("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=zle(l),c=new Ore;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Hle(e);return o=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Gle(l),c=new Mre;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ule(e);return o=te("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Lle(l),c=new B0;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tue(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function nue(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function rue(t,e,n){const r={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&p(e,["displayName"],i),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(t,["epochCount"]);e!==void 0&&o!=null&&p(e,["tuningTask","hyperparameters","epochCount"],o);const a=f(t,["learningRateMultiplier"]);if(a!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=f(t,["batchSize"]);e!==void 0&&s!=null&&p(e,["tuningTask","hyperparameters","batchSize"],s);const l=f(t,["learningRate"]);if(e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","learningRate"],l),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function iue(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=f(t,["validationDataset"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec"],VE(g))}else if(i==="PREFERENCE_TUNING"){const g=f(t,["validationDataset"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec"],VE(g))}const o=f(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&p(e,["tunedModelDisplayName"],o);const a=f(t,["description"]);e!==void 0&&a!=null&&p(e,["description"],a);let s=f(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const g=f(t,["epochCount"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(s==="PREFERENCE_TUNING"){const g=f(t,["epochCount"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=f(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=f(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=f(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=f(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=f(t,["adapterSize"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(c==="PREFERENCE_TUNING"){const g=f(t,["adapterSize"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=f(t,["labels"]);e!==void 0&&d!=null&&p(e,["labels"],d);const h=f(t,["beta"]);return e!==void 0&&h!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function oue(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&gue(o);const a=f(t,["config"]);return a!=null&&rue(a,n),n}function aue(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&vue(o,n,e);const a=f(t,["config"]);return a!=null&&iue(a,n,e),n}function sue(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function lue(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function uue(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function cue(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function due(t,e){const n={},r=f(t,["config"]);return r!=null&&uue(r,n),n}function fue(t,e){const n={},r=f(t,["config"]);return r!=null&&cue(r,n),n}function hue(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>tN(s))),p(n,["tuningJobs"],a)}return n}function pue(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>xv(s))),p(n,["tuningJobs"],a)}return n}function mue(t,e){const n={},r=f(t,["name"]);r!=null&&p(n,["model"],r);const i=f(t,["name"]);return i!=null&&p(n,["endpoint"],i),n}function gue(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function vue(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function tN(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],D2(o));const a=f(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(t,["tuningTask","startTime"]);s!=null&&p(n,["startTime"],s);const l=f(t,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["description"]);c!=null&&p(n,["description"],c);const d=f(t,["baseModel"]);d!=null&&p(n,["baseModel"],d);const h=f(t,["_self"]);return h!=null&&p(n,["tunedModel"],mue(h)),n}function xv(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],D2(o));const a=f(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(t,["startTime"]);s!=null&&p(n,["startTime"],s);const l=f(t,["endTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["error"]);c!=null&&p(n,["error"],c);const d=f(t,["description"]);d!=null&&p(n,["description"],d);const h=f(t,["baseModel"]);h!=null&&p(n,["baseModel"],h);const g=f(t,["tunedModel"]);g!=null&&p(n,["tunedModel"],g);const v=f(t,["preTunedModel"]);v!=null&&p(n,["preTunedModel"],v);const y=f(t,["supervisedTuningSpec"]);y!=null&&p(n,["supervisedTuningSpec"],y);const b=f(t,["preferenceOptimizationSpec"]);b!=null&&p(n,["preferenceOptimizationSpec"],b);const w=f(t,["tuningDataStats"]);w!=null&&p(n,["tuningDataStats"],w);const x=f(t,["encryptionSpec"]);x!=null&&p(n,["encryptionSpec"],x);const _=f(t,["partnerModelTuningSpec"]);_!=null&&p(n,["partnerModelTuningSpec"],_);const T=f(t,["customBaseModel"]);T!=null&&p(n,["customBaseModel"],T);const S=f(t,["experiment"]);S!=null&&p(n,["experiment"],S);const E=f(t,["labels"]);E!=null&&p(n,["labels"],E);const A=f(t,["outputUri"]);A!=null&&p(n,["outputUri"],A);const C=f(t,["pipelineJob"]);C!=null&&p(n,["pipelineJob"],C);const k=f(t,["serviceAccount"]);k!=null&&p(n,["serviceAccount"],k);const N=f(t,["tunedModelDisplayName"]);N!=null&&p(n,["tunedModelDisplayName"],N);const P=f(t,["veoTuningSpec"]);return P!=null&&p(n,["veoTuningSpec"],P),n}function yue(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(t,["done"]);a!=null&&p(n,["done"],a);const s=f(t,["error"]);return s!=null&&p(n,["error"],s),n}function VE(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=f(t,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wue extends Br{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new bo(Rr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:pv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=lue(e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>xv(c))}else{const u=sue(e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>tN(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=fue(e);return s=te("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=pue(c),h=new xE;return Object.assign(h,d),h})}else{const u=due(e);return s=te("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=hue(c),h=new xE;return Object.assign(h,d),h})}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=nue(e);a=te("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=tue(e);a=te("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=aue(e,e);return o=te("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>xv(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=oue(e);return o=te("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>yue(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bue{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const xue=1024*1024*8,_ue=3,Sue=1e3,Eue=2,of="x-goog-upload-status";async function Tue(t,e,n){var r;const i=await nN(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[of])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Aue(t,e,n){var r;const i=await nN(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[of])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=I2(o),s=new F0;return Object.assign(s,a),s}async function nN(t,e,n){var r,i;let o=0,a=0,s=new mv(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min(xue,o-a),c=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let d=0,h=Sue;for(;d<_ue&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[of]));)d++,await kue(h),h=h*Eue;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[of])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function Cue(t){return{size:t.size,type:t.type}}function kue(t){return new Promise(e=>setTimeout(e,t))}class Pue{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Tue(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Aue(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Cue(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Iue{create(e,n,r){return new Nue(e,n,r)}}class Nue{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zE="x-goog-api-key";class Oue{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(zE)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(zE,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mue="gl-node/";class Rue{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=cre(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Oue(this.apiKey);this.apiClient=new Jse({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Mue+"web",uploader:new Pue,downloader:new bue}),this.models=new ple(this.apiClient),this.live=new lle(this.apiClient,i,new Iue),this.batches=new Uie(this.apiClient),this.chats=new boe(this.models,this.apiClient),this.caches=new voe(this.apiClient),this.files=new Ioe(this.apiClient),this.operations=new mle(this.apiClient),this.authTokens=new Nle(this.apiClient),this.tunings=new wue(this.apiClient),this.fileSearchStores=new eue(this.apiClient)}}var qE={};const $ue=async t=>{if(!qE.API_KEY)return"API key not configured. Please set the API_KEY environment variable.";try{return(await new Rue({apiKey:qE.API_KEY}).models.generateContent({model:"gemini-2.5-flash",contents:t,config:{systemInstruction:"You are an expert business analyst for a POS system. Provide concise, data-driven insights based on the user's query. Format your response as clean markdown."}})).text}catch(e){return console.error("Gemini API error:",e),"Sorry, I couldn't fetch insights at the moment. Please try again later."}},Due=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5L12 3m0 0l7.5 7.5M12 3v18"})}),jue=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5L12 21m0 0l-7.5-7.5M12 21V3"})}),ic=({title:t,value:e,change:n,changeType:r,icon:i})=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-neutral-500 dark:text-neutral-400",children:t}),m.jsx("p",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100 mt-2",children:e}),m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsxs("span",{className:`flex items-center text-xs font-semibold ${r==="increase"?"text-green-500":"text-red-500"}`,children:[r==="increase"?m.jsx(Due,{className:"w-3 h-3 mr-1"}):m.jsx(jue,{className:"w-3 h-3 mr-1"}),n]}),m.jsx("span",{className:"text-xs text-neutral-400 ml-1",children:"vs last month"})]})]}),m.jsx("div",{className:"bg-primary-100 dark:bg-primary-900/50 text-primary-600 dark:text-primary-400 p-3 rounded-full",children:i})]}),Lue=()=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Sales Overview"}),m.jsx("div",{style:{width:"100%",height:300},children:m.jsx(t0,{children:m.jsxs(ire,{data:m5,children:[m.jsx(j0,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.2)"}),m.jsx(as,{dataKey:"name",tick:{fill:"#94a3b8"}}),m.jsx(ss,{tick:{fill:"#94a3b8"}}),m.jsx(_n,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"0.5rem"}}),m.jsx(fi,{wrapperStyle:{color:"#94a3b8"}}),m.jsx(xu,{type:"monotone",dataKey:"sales",stroke:"#4f46e5",strokeWidth:2,activeDot:{r:8}})]})})})]}),Uue=()=>{const t=["#4f46e5","#6366f1","#818cf8","#a5b4fc"];return m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Top Selling Products"}),m.jsx("div",{style:{width:"100%",height:300},className:"flex items-center justify-center",children:m.jsx(t0,{children:m.jsxs(are,{children:[m.jsx(Ur,{data:mb,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:mb.map((e,n)=>m.jsx(Yf,{fill:t[n%t.length]},`cell-${n}`))}),m.jsx(_n,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"0.5rem"}}),m.jsx(fi,{wrapperStyle:{color:"#94a3b8"}})]})})})]})},Bue=()=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Recent Activity"}),m.jsx("ul",{className:"space-y-4",children:p5.map(t=>m.jsxs("li",{className:"flex items-center",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/50 flex items-center justify-center mr-4",children:m.jsx("span",{className:"text-sm font-bold text-primary-600 dark:text-primary-300",children:t.user.charAt(0)})}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-sm text-neutral-700 dark:text-neutral-200",children:[m.jsx("span",{className:"font-semibold",children:t.user})," ",t.action.toLowerCase()]}),m.jsx("p",{className:"text-xs text-neutral-400",children:new Date(t.timestamp).toLocaleTimeString()})]})]},t.id))})]}),Fue=()=>{const[t,e]=I.useState(""),[n,r]=I.useState(""),[i,o]=I.useState(!1),a=async()=>{if(!t.trim())return;o(!0);const s=await $ue(t);r(s),o(!1)};return m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsxs("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4 flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 mr-2 text-primary-500",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.553L16.5 21.75l-.398-1.197a3.375 3.375 0 00-2.456-2.456L12.75 18l1.197-.398a3.375 3.375 0 002.456-2.456L17.25 14.25l.398 1.197a3.375 3.375 0 002.456 2.456L21 18l-1.197.398a3.375 3.375 0 00-2.456 2.456z"})}),"AI-Powered Insights"]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("input",{type:"text",value:t,onChange:s=>e(s.target.value),placeholder:"e.g., 'Summarize today's performance'",className:"flex-grow bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:outline-none",disabled:i}),m.jsx("button",{onClick:a,disabled:i,className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 disabled:bg-primary-400 disabled:cursor-not-allowed transition-colors",children:i?"Thinking...":"Ask"})]}),n&&m.jsx("div",{className:"mt-4 p-4 bg-neutral-50 dark:bg-neutral-900 rounded-lg prose prose-sm dark:prose-invert max-w-none",children:m.jsx("p",{children:n})})]})},Vue=({products:t})=>{const e=t.filter(r=>typeof r.lowStockThreshold<"u"&&r.stock<=r.lowStockThreshold).sort((r,i)=>r.stock-i.stock),n=r=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...r,children:m.jsx("path",{fillRule:"evenodd",d:"M8.485 3.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 3.495zM10 6a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 6zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})});return m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md h-full",children:[m.jsxs("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4 flex items-center",children:[m.jsx(n,{className:"h-6 w-6 mr-2 text-yellow-500"}),"Low Stock Alerts"]}),e.length>0?m.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:e.map(r=>m.jsxs("li",{className:"flex justify-between items-center text-sm p-2 rounded-md bg-neutral-50 dark:bg-neutral-700/50",children:[m.jsx("span",{className:"text-neutral-700 dark:text-neutral-200 font-medium",children:r.name}),m.jsxs("span",{className:"font-semibold text-red-500",children:[r.stock," ",r.unit||"items"," left"]})]},r.id))}):m.jsxs("div",{className:"text-center text-neutral-500 dark:text-neutral-400 py-8 flex flex-col items-center justify-center h-full",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mb-2 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("p",{children:"All stock levels are healthy."})]})]})},{ChartBarIcon:zue,UsersIcon:que,CubeIcon:Hue,ShoppingCartIcon:Gue}=ho,Wue=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0"})}),Kue=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Jue=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z",clipRule:"evenodd"})}),Yue=({isOpen:t,onClose:e,userWidgets:n,onWidgetChange:r,t:i})=>t?m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-md",children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700",children:[m.jsx("h3",{className:"text-lg font-semibold",children:"Customize Dashboard"}),m.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:m.jsx(Kue,{className:"w-6 h-6"})})]}),m.jsx("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto",children:VC.map(o=>m.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-neutral-50 dark:bg-neutral-700/50",children:[m.jsx("span",{className:"font-medium text-neutral-800 dark:text-neutral-100",children:i(o.name)}),m.jsx("input",{type:"checkbox",checked:!!n[o.id],onChange:a=>r(o.id,a.target.checked),className:"h-5 w-5 rounded border-neutral-300 text-primary-600 focus:ring-primary-500"})]},o.id))}),m.jsx("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700",children:m.jsx("button",{onClick:e,className:"bg-primary-600 text-white font-semibold px-5 py-2.5 rounded-lg hover:bg-primary-700 transition-colors",children:"Done"})})]})}):null,Xue=({featureName:t})=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md h-full flex flex-col items-center justify-center text-center relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-neutral-50 dark:bg-neutral-700/30 opacity-50"}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("div",{className:"w-12 h-12 bg-neutral-200 dark:bg-neutral-700 text-neutral-400 dark:text-neutral-500 rounded-full flex items-center justify-center mx-auto mb-3",children:m.jsx(Jue,{className:"w-6 h-6"})}),m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-1",children:t}),m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"This feature is available in Premium & Enterprise plans."}),m.jsx("button",{className:"mt-4 text-sm font-semibold bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Upgrade Now"})]})]}),Que=({products:t,user:e,onWidgetChange:n,formatCurrency:r,t:i,activeLicense:o})=>{var c;const[a,s]=O.useState(!1),{dashboardWidgets:l}=e,u=Object.values(l).filter(Boolean).length;return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:i("Dashboard")}),m.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 bg-white dark:bg-neutral-700/80 border border-neutral-200 dark:border-neutral-600 text-neutral-700 dark:text-neutral-200 font-semibold px-4 py-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-600 transition-colors",children:[m.jsx(Wue,{className:"w-5 h-5"}),"Customize"]})]}),u===0&&m.jsxs("div",{className:"text-center py-20 bg-white dark:bg-neutral-800 rounded-lg shadow-md",children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Your dashboard is empty!"}),m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 mt-2",children:'Click the "Customize" button to add widgets.'})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.totalRevenue&&m.jsx(ic,{title:i("Total Revenue"),value:r(75231.89),change:"+12.5%",changeType:"increase",icon:m.jsx(zue,{className:"w-6 h-6"})}),l.newCustomers&&m.jsx(ic,{title:i("New Customers"),value:"1,204",change:"+8.2%",changeType:"increase",icon:m.jsx(que,{className:"w-6 h-6"})}),l.productsSold&&m.jsx(ic,{title:i("Products Sold"),value:"5,890",change:"-1.7%",changeType:"decrease",icon:m.jsx(Hue,{className:"w-6 h-6"})}),l.todaysTransactions&&m.jsx(ic,{title:i("Todays Transactions"),value:"23",change:"+5",changeType:"increase",icon:m.jsx(Gue,{className:"w-6 h-6"})})]}),(l.salesOverview||l.topProducts)&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.salesOverview&&m.jsx("div",{className:"lg:col-span-2",children:m.jsx(Lue,{})}),l.topProducts&&m.jsx("div",{className:l.salesOverview?"":"lg:col-span-3",children:m.jsx(Uue,{})})]}),(l.recentActivity||l.lowStockAlerts||l.aiInsights)&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(l.recentActivity||l.lowStockAlerts)&&m.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[l.recentActivity&&m.jsx(Bue,{}),l.lowStockAlerts&&m.jsx(Vue,{products:t})]}),l.aiInsights&&m.jsx("div",{className:l.recentActivity||l.lowStockAlerts?"lg:col-span-2":"lg:col-span-3",children:(c=o==null?void 0:o.enabledFeatures)!=null&&c.includes("AI_INSIGHTS")?m.jsx(Fue,{}):m.jsx(Xue,{featureName:"AI-Powered Insights"})})]}),m.jsx(Yue,{isOpen:a,onClose:()=>s(!1),userWidgets:l,onWidgetChange:n,t:i})]})},{BanknotesIcon:Zue,TagIcon:ece,UserGroupIcon:HE,ChatBubbleLeftRightIcon:tce,PrinterIcon:nce,ShoppingCartIcon:rce,CubeIcon:GE}=ho,ice=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),WE=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m6-6H6"})}),oce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12H6"})}),Rp=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),ace=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),sce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),lce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})}),uce=({user:t,customers:e,products:n,onAddSale:r,onAddCustomer:i,heldCarts:o,setHeldCarts:a,formatCurrency:s,t:l,businessName:u})=>{const[c,d]=O.useState([]),[h,g]=O.useState(""),[v,y]=O.useState(null),[b,w]=O.useState(!1),[x,_]=O.useState(!1),[T,S]=O.useState(!1),[E,A]=O.useState(!1),[C,k]=O.useState(!1),[N,P]=O.useState(!1),[M,j]=O.useState(null),[L,F]=O.useState(""),[R,B]=O.useState("Cash"),[D,U]=O.useState(""),[H,Y]=O.useState(""),[G,ne]=O.useState(!1),[he,we]=O.useState(null),[_e,Ze]=O.useState("percentage"),[Fe,Q]=O.useState(""),[de,W]=O.useState(""),[$,se]=O.useState(!1),[ee,Se]=O.useState({name:"",phone:"",email:""}),be=O.useMemo(()=>n.filter(z=>z.name.toLowerCase().includes(h.toLowerCase())||z.sku.toLowerCase().includes(h.toLowerCase())),[n,h]),Ee=O.useMemo(()=>de?e.filter(z=>z.name.toLowerCase().includes(de.toLowerCase())||z.phone.includes(de)):[],[e,de]),gt=z=>{let ue=z.price;return z.discountType==="percentage"&&z.discountValue?ue=ue-ue*(z.discountValue/100):z.discountType==="amount"&&z.discountValue&&(ue=ue-z.discountValue),Math.max(0,ue)},_t=O.useMemo(()=>c.reduce((z,ue)=>z+gt(ue)*ue.quantity,0),[c]),jt=O.useMemo(()=>{if(G&&v){const z=v.loyaltyPoints*gb;return Math.min(z,_t)}return 0},[G,v,_t]),st=(_t-jt)*.08,St=_t-jt+st,dr=z=>{if(z.stock<=0){alert(l("Out of Stock"));return}d(ue=>{const K=ue.find(q=>q.id===z.id);return K?K.quantity>=z.stock?(alert(l("Stock Limit Exceeded")),ue):ue.map(q=>q.id===z.id?{...q,quantity:q.quantity+1}:q):[...ue,{...z,quantity:1}]})},Ae=(z,ue)=>{d(K=>K.map(q=>{if(q.id===z){const Z=q.quantity+ue,ae=n.find(Pt=>Pt.id===z);return ae&&ue>0&&Z>ae.stock?(alert(l("Stock Limit Exceeded")),q):{...q,quantity:Math.max(1,Z)}}return q}))},ps=z=>{d(ue=>ue.filter(K=>K.id!==z))},Ti=()=>{d([]),y(null),W(""),ne(!1)},ms=z=>{var K;we(z);const ue=c[z];Ze(ue.discountType||"percentage"),Q(((K=ue.discountValue)==null?void 0:K.toString())||""),P(!0)},Su=()=>{if(he!==null){const z=parseFloat(Fe);d(ue=>ue.map((K,q)=>q===he?{...K,discountType:_e,discountValue:isNaN(z)?0:z}:K)),P(!1),we(null)}},Ch=z=>{y(z),W(z.name),Y(z.phone),se(!1)},kh=z=>{z.preventDefault();const ue=i({...ee,loyaltyPoints:0,dueAmount:0,creditLimit:500});y(ue),W(ue.name),Y(ue.phone),k(!1),Se({name:"",phone:"",email:""})},Ph=()=>{if(c.length===0)return;const z={id:`hc${Date.now()}`,items:c,customer:v,timestamp:new Date().toISOString(),note:D};a(ue=>[z,...ue]),Ti(),S(!1),U("")},Ih=z=>{d(z.items),y(z.customer),z.customer&&W(z.customer.name),a(ue=>ue.filter(K=>K.id!==z.id)),A(!1)},en=z=>{a(ue=>ue.filter(K=>K.id!==z))},Dn=()=>{F(St.toFixed(2)),w(!0)},Nh=()=>{const z=parseFloat(L),ue=R==="Credit",K=!ue&&z<St;if(ue){if(!v){alert("Cannot process credit sale without a customer.");return}const ae=v.dueAmount+St;if(v.creditLimit&&ae>v.creditLimit){alert(`Credit limit exceeded! Limit: ${s(v.creditLimit)}, Current Due: ${s(v.dueAmount)}, New Total Due would be: ${s(ae)}`);return}}const q=ue?"Credit":K?"Partial":R,Z={id:"temp",total:St,date:"temp",cashier:t.name,cashierId:t.id,items:c.reduce((ae,Pt)=>ae+Pt.quantity,0),customerId:(v==null?void 0:v.id)||"guest",customerName:(v==null?void 0:v.name)||"Guest",amountPaid:ue?0:z,paymentMethod:q,organizationId:t.organizationId};r(Z),j(Z),w(!1),_(!0),Ti()},Oh=()=>{if(!M)return;const z=c.map(K=>`${K.quantity}x ${K.name} (${s(gt(K))})`).join("%0a"),ue=`*Invoice from ${u}*%0aDate: ${new Date().toLocaleDateString()}%0a%0a${z}%0a%0a*Total: ${s(M.total)}*%0aThank you for your business!`;window.open(`https://wa.me/${H}?text=${ue}`,"_blank")},Mh=()=>{window.print()},Eu=z=>{if(z.key==="Enter"){const ue=h.trim().toLowerCase();if(!ue)return;const K=n.find(Z=>Z.sku.toLowerCase()===ue);if(K){dr(K),g("");return}const q=n.find(Z=>Z.name.toLowerCase()===ue);if(q){dr(q),g("");return}be.length===1&&(dr(be[0]),g(""))}};return m.jsxs("div",{className:"flex flex-col h-full md:flex-row gap-6 overflow-hidden",children:[m.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white dark:bg-neutral-800 rounded-xl shadow-md",children:[m.jsx("div",{className:"p-4 border-b dark:border-neutral-700 flex flex-col gap-3",children:m.jsxs("div",{className:"relative",children:[m.jsx(ice,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),m.jsx("input",{type:"text",placeholder:l("Search"),value:h,onChange:z=>g(z.target.value),onKeyDown:Eu,autoFocus:!0,className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg pl-10 pr-4 py-3 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:m.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[be.map(z=>{const ue=z.stock<=0;return m.jsxs("div",{onClick:()=>!ue&&dr(z),className:`bg-neutral-50 dark:bg-neutral-700/50 p-3 rounded-lg border border-neutral-200 dark:border-neutral-700 transition-all flex flex-col items-center text-center group ${ue?"opacity-60 cursor-not-allowed bg-neutral-200 dark:bg-neutral-800":"cursor-pointer hover:shadow-md hover:border-primary-300"}`,children:[m.jsx("div",{className:"w-20 h-20 mb-3 rounded-md bg-white dark:bg-neutral-600 flex items-center justify-center overflow-hidden",children:z.imageUrl?m.jsx("img",{src:z.imageUrl,alt:z.name,className:`w-full h-full object-cover ${ue?"grayscale":""}`}):m.jsx(GE,{className:"w-8 h-8 text-neutral-300 group-hover:text-primary-500 transition-colors"})}),m.jsx("h3",{className:"font-semibold text-sm text-neutral-800 dark:text-neutral-100 line-clamp-2",children:z.name}),m.jsx("p",{className:"text-primary-600 dark:text-primary-400 font-bold mt-1",children:s(z.price)}),m.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:[z.stock," in stock"]}),ue&&m.jsx("span",{className:"text-xs font-bold text-red-500 mt-1",children:l("Out of Stock")})]},z.id)}),be.length===0&&m.jsx("div",{className:"col-span-full text-center py-10 text-neutral-500",children:"No products found."})]})})]}),m.jsxs("div",{className:"w-full md:w-96 flex flex-col bg-white dark:bg-neutral-800 rounded-xl shadow-md h-full overflow-hidden",children:[m.jsxs("div",{className:"p-4 border-b dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-700/30",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h2",{className:"font-bold text-lg",children:l("Current Order")}),m.jsxs("div",{className:"flex gap-1",children:[o.length>0&&m.jsxs("button",{onClick:()=>A(!0),className:"relative p-2 text-primary-600 hover:bg-primary-50 rounded-full",title:"View Held Orders",children:[m.jsx(sce,{className:"w-5 h-5"}),m.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 rounded-full"})]}),m.jsx("button",{onClick:()=>c.length>0&&S(!0),disabled:c.length===0,className:"text-xs font-medium bg-amber-100 text-amber-800 px-2 py-1 rounded hover:bg-amber-200 disabled:opacity-50",children:l("Hold")}),m.jsx("button",{onClick:Ti,className:"text-xs font-medium bg-red-100 text-red-800 px-2 py-1 rounded hover:bg-red-200",children:l("Clear Cart")})]})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"relative flex-grow",children:[m.jsx(HE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400"}),m.jsx("input",{type:"text",placeholder:"Walk-in Customer",value:de,onChange:z=>{W(z.target.value),se(!0),z.target.value===""&&y(null)},className:"w-full text-sm bg-white dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded-lg pl-9 pr-8 py-2 focus:ring-1 focus:ring-primary-500 focus:outline-none"}),v&&m.jsx("button",{onClick:()=>{y(null),W("")},className:"absolute right-2 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-red-500",children:m.jsx(ace,{className:"w-4 h-4"})})]}),m.jsx("button",{onClick:()=>k(!0),className:"bg-primary-600 text-white p-2 rounded-lg hover:bg-primary-700",children:m.jsx(WE,{className:"w-5 h-5"})})]}),$&&Ee.length>0&&m.jsx("div",{className:"absolute top-full left-0 right-0 z-20 mt-1 bg-white dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Ee.map(z=>m.jsxs("div",{onClick:()=>Ch(z),className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-600 cursor-pointer border-b border-neutral-100 dark:border-neutral-600 last:border-0",children:[m.jsx("p",{className:"font-semibold text-sm text-neutral-800 dark:text-neutral-200",children:z.name}),m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:z.phone})]},z.id))})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:c.length===0?m.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-neutral-400",children:[m.jsx(rce,{className:"w-12 h-12 mb-2 opacity-50"}),m.jsx("p",{children:"Cart is empty"})]}):c.map((z,ue)=>{const K=gt(z),q=K<z.price;return m.jsxs("div",{className:"flex items-center gap-3 bg-neutral-50 dark:bg-neutral-700/30 p-2 rounded-lg border border-neutral-100 dark:border-neutral-700/50",children:[m.jsx("div",{className:"w-12 h-12 bg-white dark:bg-neutral-600 rounded-md flex items-center justify-center flex-shrink-0 overflow-hidden border border-neutral-200 dark:border-neutral-600",children:z.imageUrl?m.jsx("img",{src:z.imageUrl,alt:z.name,className:"w-full h-full object-cover"}):m.jsx(GE,{className:"w-6 h-6 text-neutral-300"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"text-sm font-medium truncate text-neutral-800 dark:text-neutral-100",children:z.name}),m.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[q&&m.jsx("span",{className:"text-neutral-400 line-through",children:s(z.price)}),m.jsx("span",{className:"font-semibold text-primary-600 dark:text-primary-400",children:s(K)}),q&&m.jsx("span",{className:"text-green-600 bg-green-100 dark:bg-green-900/50 px-1 rounded text-[10px]",children:z.discountType==="percentage"?`-${z.discountValue}%`:`-${s(z.discountValue||0)}`})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"flex items-center bg-white dark:bg-neutral-700 rounded border border-neutral-300 dark:border-neutral-600",children:[m.jsx("button",{onClick:()=>z.quantity>1?Ae(z.id,-1):ps(z.id),className:"p-1 hover:bg-neutral-100 dark:hover:bg-neutral-600 text-neutral-600 dark:text-neutral-300",children:m.jsx(oce,{className:"w-3 h-3"})}),m.jsx("span",{className:"w-6 text-center text-sm font-medium",children:z.quantity}),m.jsx("button",{onClick:()=>Ae(z.id,1),className:"p-1 hover:bg-neutral-100 dark:hover:bg-neutral-600 text-neutral-600 dark:text-neutral-300",children:m.jsx(WE,{className:"w-3 h-3"})})]}),m.jsx("button",{onClick:()=>ms(ue),className:`p-1.5 rounded ${q?"bg-green-100 text-green-700":"bg-neutral-200 text-neutral-600"} hover:opacity-80`,title:"Apply Discount",children:m.jsx(ece,{className:"w-4 h-4"})})]})]},`${z.id}-${ue}`)})}),m.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-700/30 border-t dark:border-neutral-700 space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm text-neutral-600 dark:text-neutral-400",children:[m.jsx("span",{children:l("Subtotal")}),m.jsx("span",{children:s(_t)})]}),G&&jt>0&&m.jsxs("div",{className:"flex justify-between text-sm text-green-600 font-medium",children:[m.jsx("span",{children:"Loyalty Discount"}),m.jsxs("span",{children:["-",s(jt)]})]}),m.jsxs("div",{className:"flex justify-between text-sm text-neutral-600 dark:text-neutral-400",children:[m.jsxs("span",{children:[l("Tax")," (8%)"]}),m.jsx("span",{children:s(st)})]}),m.jsxs("div",{className:"flex justify-between text-xl font-bold text-neutral-900 dark:text-neutral-100 pt-2 border-t border-neutral-200 dark:border-neutral-700",children:[m.jsx("span",{children:l("Total")}),m.jsx("span",{children:s(St)})]}),m.jsxs("button",{onClick:Dn,disabled:c.length===0,className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:[l("Charge")," ",s(St)]})]})]}),b&&m.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center p-4 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-2xl w-full max-w-md overflow-hidden",children:[m.jsxs("div",{className:"bg-primary-600 p-4 flex justify-between items-center",children:[m.jsx("h3",{className:"text-white font-bold text-lg",children:"Payment"}),m.jsx("button",{onClick:()=>w(!1),className:"text-primary-200 hover:text-white",children:m.jsx(Rp,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:"Total Amount Due"}),m.jsx("p",{className:"text-4xl font-bold text-neutral-800 dark:text-neutral-100",children:s(St)})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[m.jsxs("button",{onClick:()=>B("Cash"),className:`flex flex-col items-center justify-center p-3 rounded-lg border ${R==="Cash"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"}`,children:[m.jsx(Zue,{className:"w-6 h-6 mb-1"}),m.jsx("span",{className:"text-xs font-semibold",children:"Cash"})]}),m.jsxs("button",{onClick:()=>B("Card"),className:`flex flex-col items-center justify-center p-3 rounded-lg border ${R==="Card"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"}`,children:[m.jsx(lce,{className:"w-6 h-6 mb-1"}),m.jsx("span",{className:"text-xs font-semibold",children:"Card"})]}),m.jsxs("button",{onClick:()=>B("Credit"),disabled:!v,className:`flex flex-col items-center justify-center p-3 rounded-lg border ${R==="Credit"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"} ${v?"":"opacity-50 cursor-not-allowed"}`,children:[m.jsx(HE,{className:"w-6 h-6 mb-1"}),m.jsx("span",{className:"text-xs font-semibold",children:"Credit"})]})]}),v&&v.loyaltyPoints>0&&m.jsxs("div",{className:"mb-4 p-3 bg-neutral-50 dark:bg-neutral-700 rounded-lg flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"flex items-center justify-center w-6 h-6 bg-yellow-100 text-yellow-600 rounded-full text-xs font-bold",children:""}),m.jsxs("div",{className:"text-sm",children:[m.jsxs("p",{className:"font-semibold",children:[v.loyaltyPoints," Points"]}),m.jsxs("p",{className:"text-xs text-neutral-500",children:["Value: ",s(v.loyaltyPoints*gb)]})]})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:G,onChange:z=>ne(z.target.checked),className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-neutral-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-primary-600"})]})]}),R==="Cash"&&m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount Received"}),m.jsx("input",{type:"number",value:L,onChange:z=>F(z.target.value),className:"w-full text-xl p-3 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:outline-none",autoFocus:!0}),parseFloat(L)>St&&m.jsxs("div",{className:"mt-2 text-right text-green-600 font-bold",children:["Change: ",s(parseFloat(L)-St)]})]}),m.jsx("button",{onClick:Nh,className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors text-lg",children:"Confirm Payment"})]})]})}),x&&M&&m.jsxs("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center p-4 backdrop-blur-sm print:hidden",children:[m.jsx("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-2xl w-full max-w-sm overflow-hidden",children:m.jsxs("div",{className:"p-6 text-center",children:[m.jsxs("div",{className:"w-16 h-16 bg-green-100 text-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:[m.jsx(Rp,{className:"w-8 h-8 rotate-45"})," "]}),m.jsx("h3",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:l("Payment Success")}),m.jsxs("p",{className:"text-neutral-500 mt-1",children:["Invoice #",M.id]}),m.jsxs("div",{className:"my-6 py-4 border-y border-dashed border-neutral-300 dark:border-neutral-600",children:[m.jsxs("div",{className:"flex justify-between mb-2 text-sm",children:[m.jsx("span",{children:"Amount Paid"}),m.jsx("span",{className:"font-bold",children:s(M.amountPaid)})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{children:"Change"}),m.jsx("span",{className:"font-bold",children:s(Math.max(0,parseFloat(L||"0")-M.total))})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("button",{onClick:Mh,className:"w-full flex items-center justify-center gap-2 bg-neutral-800 text-white py-3 rounded-lg hover:bg-neutral-900 font-semibold",children:[m.jsx(nce,{className:"w-5 h-5"}),"Print Receipt"]}),m.jsxs("button",{onClick:Oh,className:"w-full flex items-center justify-center gap-2 bg-green-500 text-white py-3 rounded-lg hover:bg-green-600 font-semibold",children:[m.jsx(tce,{className:"w-5 h-5"}),"WhatsApp Invoice"]}),m.jsx("button",{onClick:()=>_(!1),className:"w-full py-3 text-neutral-500 hover:text-neutral-800 font-medium",children:"New Sale"})]})]})}),m.jsx("div",{className:"hidden print:block print:fixed print:inset-0 print:bg-white print:p-4 text-black",children:m.jsxs("div",{className:"text-center font-mono text-sm",children:[m.jsx("h1",{className:"text-xl font-bold mb-2",children:u}),m.jsxs("p",{children:["Date: ",new Date().toLocaleString()]}),m.jsxs("p",{children:["Sale ID: ",M.id]}),m.jsxs("p",{children:["Cashier: ",M.cashier]}),m.jsx("div",{className:"border-b border-black my-2"}),m.jsx("div",{className:"text-left",children:m.jsxs("p",{children:["Total Items: ",M.items]})}),m.jsx("div",{className:"border-b border-black my-2"}),m.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[m.jsx("span",{children:"Total"}),m.jsx("span",{children:s(M.total)})]}),m.jsx("p",{className:"mt-4",children:"Thank you!"})]})})]}),N&&he!==null&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-xs shadow-xl",children:[m.jsx("h3",{className:"font-bold text-lg mb-4",children:"Apply Discount"}),m.jsxs("div",{className:"flex gap-2 mb-4",children:[m.jsx("button",{onClick:()=>Ze("percentage"),className:`flex-1 py-2 rounded text-sm font-medium ${_e==="percentage"?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600"}`,children:"Percentage (%)"}),m.jsx("button",{onClick:()=>Ze("amount"),className:`flex-1 py-2 rounded text-sm font-medium ${_e==="amount"?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600"}`,children:"Fixed ($)"})]}),m.jsx("input",{type:"number",value:Fe,onChange:z=>Q(z.target.value),placeholder:"Value",className:"w-full border border-neutral-300 rounded-lg p-2 mb-4",autoFocus:!0}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),m.jsx("button",{onClick:Su,className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Apply"})]})]})}),T&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-sm shadow-xl",children:[m.jsx("h3",{className:"font-bold text-lg mb-4",children:"Hold Order"}),m.jsx("textarea",{value:D,onChange:z=>U(z.target.value),placeholder:"Optional note (e.g. Customer forgot wallet)",className:"w-full border border-neutral-300 dark:border-neutral-600 dark:bg-neutral-700 rounded-lg p-3 mb-4 h-24 resize-none"}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),m.jsx("button",{onClick:Ph,className:"px-4 py-2 bg-amber-500 text-white rounded hover:bg-amber-600",children:"Hold Order"})]})]})}),E&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-md shadow-xl h-[80vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"font-bold text-lg",children:"Held Orders"}),m.jsx("button",{onClick:()=>A(!1),children:m.jsx(Rp,{className:"w-6 h-6"})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:o.length===0?m.jsx("p",{className:"text-center text-neutral-500 mt-10",children:"No held orders."}):o.map(z=>{var ue;return m.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-700 p-3 rounded-lg border border-neutral-200 dark:border-neutral-600",children:[m.jsxs("div",{className:"flex justify-between mb-2",children:[m.jsx("span",{className:"font-bold",children:((ue=z.customer)==null?void 0:ue.name)||"Walk-in"}),m.jsx("span",{className:"text-xs text-neutral-500",children:new Date(z.timestamp).toLocaleTimeString()})]}),m.jsxs("p",{className:"text-xs text-neutral-600 dark:text-neutral-300 mb-2",children:[z.items.length," items  Note: ",z.note||"None"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>Ih(z),className:"flex-1 bg-primary-600 text-white py-1.5 rounded text-sm hover:bg-primary-700",children:"Resume"}),m.jsx("button",{onClick:()=>en(z.id),className:"px-3 bg-red-100 text-red-600 rounded text-sm hover:bg-red-200",children:"Discard"})]})]},z.id)})})]})}),C&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-sm shadow-xl",children:[m.jsx("h3",{className:"font-bold text-lg mb-4",children:"Add New Customer"}),m.jsxs("form",{onSubmit:kh,className:"space-y-3",children:[m.jsx("input",{type:"text",required:!0,placeholder:"Name",value:ee.name,onChange:z=>Se({...ee,name:z.target.value}),className:"w-full border p-2 rounded"}),m.jsx("input",{type:"text",placeholder:"Phone",value:ee.phone,onChange:z=>Se({...ee,phone:z.target.value}),className:"w-full border p-2 rounded"}),m.jsx("input",{type:"email",placeholder:"Email",value:ee.email,onChange:z=>Se({...ee,email:z.target.value}),className:"w-full border p-2 rounded"}),m.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[m.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Create"})]})]})]})})]})},cce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),dce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),KE=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),fce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),{BanknotesIcon:hce,ArrowUpTrayIcon:pce,QrCodeIcon:mce}=ho,Pc=({children:t,title:e,onClose:n})=>m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-md max-h-full overflow-y-auto",children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700 sticky top-0 bg-white dark:bg-neutral-800",children:[m.jsx("h3",{className:"text-lg font-semibold",children:e}),m.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:m.jsx(fce,{className:"w-6 h-6"})})]}),t]})}),gce=({items:t,onClose:e})=>{const n=()=>{const r=document.getElementById("label-sheet"),i="about:blank",a="Print"+new Date().getTime(),s=window.open(i,a,"width=800,height=600");s&&r&&(s.document.write(`
                <html>
                    <head>
                        <title>Print Labels</title>
                        <style>
                            body { font-family: sans-serif; padding: 20px; }
                            .label-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
                            .label { border: 1px dashed #ccc; padding: 10px; text-align: center; border-radius: 5px; }
                            .sku { font-family: monospace; letter-spacing: 2px; font-weight: bold; margin-top: 5px; display: block;}
                            @media print {
                                body { padding: 0; }
                                .label { break-inside: avoid; }
                            }
                        </style>
                    </head>
                    <body>${r.innerHTML}</body>
                </html>
            `),s.document.close(),s.focus(),s.print(),s.close())};return m.jsx(Pc,{title:"Print Barcode Labels",onClose:e,children:m.jsxs("div",{className:"p-6",children:[m.jsxs("p",{className:"mb-4 text-sm text-neutral-500",children:["Preview of labels for ",t.length," selected items."]}),m.jsx("div",{id:"label-sheet",className:"max-h-60 overflow-y-auto bg-neutral-100 p-4 rounded border mb-4",children:m.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.map(r=>m.jsxs("div",{className:"bg-white p-2 text-center border border-neutral-300 rounded text-xs",children:[m.jsx("div",{className:"font-bold truncate",children:r.name}),m.jsxs("div",{children:["$",r.price]}),m.jsx("div",{className:"font-mono font-bold mt-1 tracking-widest text-sm",children:r.sku})]},r.id))})}),m.jsx("button",{onClick:n,className:"w-full bg-primary-600 text-white py-2 rounded hover:bg-primary-700",children:"Print Now"})]})})},Ao=({dataType:t,data:e,columns:n,formFields:r,onAdd:i,onUpdate:o,onDelete:a,customActions:s,t:l,formatCurrency:u})=>{const[c,d]=O.useState(""),[h,g]=O.useState(!1),[v,y]=O.useState(!1),[b,w]=O.useState(!1),[x,_]=O.useState(!1),[T,S]=O.useState(null),[E,A]=O.useState({}),[C,k]=O.useState([]),[N,P]=O.useState(""),M=I.useRef(null),j=l(`Manage ${t.charAt(0).toUpperCase()+t.slice(1)}`),L=O.useMemo(()=>e.filter($=>Object.values($).some(se=>String(se).toLowerCase().includes(c.toLowerCase()))),[e,c]),F=$=>{$.target.checked?k(L.map(se=>se.id)):k([])},R=$=>{k(se=>se.includes($)?se.filter(ee=>ee!==$):[...se,$])},B=($=null)=>{S($),A($||{}),g(!0)},D=()=>{g(!1),S(null),A({})},U=$=>{S($),y(!0)},H=()=>{y(!1),S(null)},Y=$=>{S($),P(""),w(!0)},G=()=>{w(!1),S(null)},ne=$=>{const{name:se,value:ee,type:Se}=$.target,be=Se==="number";A(Ee=>({...Ee,[se]:be?Number(ee):ee}))},he=($,se)=>{var Se;const ee=(Se=$.target.files)==null?void 0:Se[0];if(ee){const be=new FileReader;be.onloadend=()=>{A(Ee=>({...Ee,[se]:be.result}))},be.readAsDataURL(ee)}},we=$=>{$.preventDefault(),T?o({...T,...E}):i(E),D()},_e=()=>{T&&a([T.id]),H()},Ze=()=>{a(C),k([])},Fe=()=>{const $=parseFloat(N);T&&$>0&&(s!=null&&s.onRecordPayment)&&s.onRecordPayment(T.id,$),G()},Q=()=>{var $;($=M.current)==null||$.click()},de=$=>{var Se;const se=(Se=$.target.files)==null?void 0:Se[0];if(!se)return;const ee=new FileReader;ee.onload=be=>{var _t;const gt=((_t=be.target)==null?void 0:_t.result).split(`
`);for(let jt=1;jt<gt.length;jt++){const Zt=gt[jt].trim();if(!Zt)continue;const st=Zt.split(",");if(st.length>=5){const St={name:st[0],price:parseFloat(st[1])||0,stock:parseInt(st[2])||0,category:st[3],sku:st[4],imageUrl:"",brand:""};i(St)}}alert(`Import process completed for ${gt.length-1} rows.`)},ee.readAsText(se),$.target.value=""},W=()=>{_(!0)};return m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold",children:j}),m.jsxs("div",{className:"w-full sm:w-auto flex items-center gap-2",children:[m.jsxs("div",{className:"relative flex-grow",children:[m.jsx(cce,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),m.jsx("input",{type:"text",placeholder:l("Search"),value:c,onChange:$=>d($.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg pl-10 pr-4 py-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),t==="products"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:Q,className:"bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200 px-3 py-2 rounded-lg hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors flex items-center gap-1",children:[m.jsx(pce,{className:"w-5 h-5"}),m.jsx("span",{className:"hidden sm:inline",children:l("Import CSV")})]}),m.jsx("input",{type:"file",accept:".csv",ref:M,className:"hidden",onChange:de})]}),m.jsx("button",{onClick:()=>B(),className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors whitespace-nowrap",children:l("Add New")})]})]}),C.length>0&&m.jsxs("div",{className:"mb-4 flex items-center justify-between p-3 bg-primary-50 dark:bg-primary-900/40 rounded-lg",children:[m.jsxs("span",{className:"font-semibold text-primary-700 dark:text-primary-200",children:[C.length," item(s) selected"]}),m.jsxs("div",{className:"flex gap-2",children:[t==="products"&&m.jsxs("button",{onClick:W,className:"flex items-center gap-2 bg-purple-600 text-white text-sm font-semibold px-3 py-1.5 rounded-lg hover:bg-purple-700 transition-colors",children:[m.jsx(mce,{className:"w-4 h-4"}),l("Print Labels")]}),m.jsxs("button",{onClick:Ze,className:"flex items-center gap-2 bg-red-600 text-white text-sm font-semibold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors",children:[m.jsx(KE,{className:"w-4 h-4"}),"Delete Selected"]})]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left text-neutral-500 dark:text-neutral-400",children:[m.jsx("thead",{className:"text-xs text-neutral-700 dark:text-neutral-300 uppercase bg-neutral-50 dark:bg-neutral-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"p-4",children:m.jsx("input",{type:"checkbox",onChange:F,checked:C.length>0&&C.length===L.length,className:"w-4 h-4 text-primary-600 bg-neutral-100 border-neutral-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-neutral-800 focus:ring-2 dark:bg-neutral-700 dark:border-neutral-600"})}),n.map($=>m.jsx("th",{scope:"col",className:"px-6 py-3",children:$.header},String($.key))),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Actions"})]})}),m.jsx("tbody",{children:L.map($=>m.jsxs("tr",{className:"bg-white dark:bg-neutral-800 border-b dark:border-neutral-700 hover:bg-neutral-50 dark:hover:bg-neutral-700/50",children:[m.jsx("td",{className:"p-4",children:m.jsx("input",{type:"checkbox",checked:C.includes($.id),onChange:()=>R($.id),className:"w-4 h-4 text-primary-600 bg-neutral-100 border-neutral-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-neutral-800 focus:ring-2 dark:bg-neutral-700 dark:border-neutral-600"})}),n.map(se=>m.jsx("td",{className:"px-6 py-4 font-medium text-neutral-900 dark:text-white whitespace-nowrap",children:se.render?se.render($):$[se.key]},`${$.id}-${String(se.key)}`)),m.jsxs("td",{className:"px-6 py-4 flex justify-end items-center gap-4",children:[t==="customers"&&$.dueAmount>0&&(s==null?void 0:s.onRecordPayment)&&m.jsx("button",{onClick:()=>Y($),className:"text-green-600 dark:text-green-400 hover:underline",title:"Record Payment",children:m.jsx(hce,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>B($),className:"text-primary-600 dark:text-primary-400 hover:underline",children:m.jsx(dce,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>U($),className:"text-red-600 dark:text-red-400 hover:underline",children:m.jsx(KE,{className:"w-5 h-5"})})]})]},$.id))})]})}),h&&m.jsx(Pc,{title:T?`Edit ${t.slice(0,-1)}`:`Add ${t.slice(0,-1)}`,onClose:D,children:m.jsxs("form",{onSubmit:we,children:[m.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map($=>{var se;return m.jsxs("div",{className:["select","image"].includes($.type)?"sm:col-span-2":"",children:[m.jsx("label",{htmlFor:String($.key),className:"block mb-2 text-sm font-medium",children:$.label}),$.type==="select"?m.jsxs("select",{id:String($.key),name:String($.key),value:E[$.key]||"",onChange:ne,required:$.required,className:"bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5",children:[m.jsx("option",{value:"",children:"Select an option"}),(se=$.options)==null?void 0:se.map(ee=>m.jsx("option",{value:ee.value,children:ee.label},ee.value))]}):$.type==="image"?m.jsxs("div",{className:"flex items-center gap-4",children:[E[$.key]&&m.jsx("img",{src:E[$.key],alt:"preview",className:"w-16 h-16 rounded-full object-cover bg-neutral-200"}),m.jsx("input",{type:"file",id:String($.key),name:String($.key),onChange:ee=>he(ee,$.key),accept:"image/*",className:"block w-full text-sm text-neutral-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})]}):m.jsx("input",{type:$.type,id:String($.key),name:String($.key),value:E[$.key]||"",onChange:ne,required:$.required,className:"bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"})]},String($.key))})}),m.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2 sticky bottom-0 bg-white dark:bg-neutral-800",children:[m.jsx("button",{type:"button",onClick:D,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),m.jsx("button",{type:"submit",className:"text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Save"})]})]})}),v&&T&&m.jsxs(Pc,{title:"Confirm Deletion",onClose:H,children:[m.jsx("div",{className:"p-6",children:m.jsxs("p",{children:["Are you sure you want to delete ",m.jsx("span",{className:"font-semibold",children:T.name||"this item"}),"? This action cannot be undone."]})}),m.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2",children:[m.jsx("button",{onClick:H,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),m.jsx("button",{onClick:_e,className:"text-white bg-red-600 hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800",children:"Delete"})]})]}),b&&T&&m.jsxs(Pc,{title:`Record Payment for ${T.name}`,onClose:G,children:[m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"p-3 bg-neutral-100 dark:bg-neutral-700/50 rounded-lg text-center",children:[m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Current Due Amount"}),m.jsx("p",{className:"text-2xl font-bold",children:u(T.dueAmount)})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"payment-amount",className:"block text-sm font-medium mb-1",children:"Payment Amount"}),m.jsx("input",{id:"payment-amount",type:"number",value:N,onChange:$=>P($.target.value),className:"w-full text-lg bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",autoFocus:!0})]})]}),m.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2",children:[m.jsx("button",{onClick:G,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),m.jsx("button",{onClick:Fe,className:"text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",children:"Record Payment"})]})]}),x&&m.jsx(gce,{items:L.filter($=>C.includes($.id)),onClose:()=>_(!1)})]})},vce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),yce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),wce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),$p=({title:t,value:e})=>m.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-700/50 p-4 rounded-lg",children:[m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:t}),m.jsx("p",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:e})]}),bce=({sales:t,users:e,customers:n,formatCurrency:r})=>{const[i,o]=O.useState(""),[a,s]=O.useState(""),[l,u]=O.useState("all"),[c,d]=O.useState("all"),[h,g]=O.useState("csv"),[v,y]=O.useState(!1),b=O.useRef(null),[w,x]=O.useState(""),[_,T]=O.useState(!1),S=O.useRef(null),E=O.useMemo(()=>e.filter(R=>[ie.Admin,ie.Manager,ie.Cashier].includes(R.role)),[e]);O.useEffect(()=>{const R=B=>{S.current&&!S.current.contains(B.target)&&T(!1),b.current&&!b.current.contains(B.target)&&y(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const A=O.useMemo(()=>w?n.filter(R=>R.name.toLowerCase().includes(w.toLowerCase())):n,[n,w]),C=R=>{d(R);const B=n.find(D=>D.id===R);x(B?B.name:""),T(!1)},k=()=>{d("all"),x("")},N=O.useMemo(()=>t.filter(R=>{const B=new Date(R.date),D=i?new Date(i):null,U=a?new Date(a):null;D&&D.setHours(0,0,0,0),U&&U.setHours(23,59,59,999);const H=(!D||B>=D)&&(!U||B<=U),Y=l==="all"||R.cashierId===l,G=c==="all"||R.customerId===c;return H&&Y&&G}),[t,i,a,l,c]),P=O.useMemo(()=>{const R=N.reduce((U,H)=>U+H.total,0),B=N.length,D=B>0?R/B:0;return{totalSales:r(R),totalTransactions:B,avgSaleValue:r(D)}},[N,r]),M=O.useMemo(()=>{if(N.length===0)return[];const R=N.reduce((B,D)=>{const U=new Date(D.date).toISOString().split("T")[0];return B[U]||(B[U]=0),B[U]+=D.total,B},{});return Object.entries(R).map(([B,D])=>({rawDate:B,date:new Date(B+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"}),total:D})).sort((B,D)=>new Date(B.rawDate).getTime()-new Date(D.rawDate).getTime())},[N]),j=()=>{o(""),s(""),u("all"),k()},L=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),F=()=>{if(N.length===0){alert("No data to export for the current filters.");return}const R=["Sale ID","Date","Customer","Cashier","Items","Total","Amount Paid","Amount Due","Payment Method"],B=N.map(D=>({"Sale ID":D.id,Date:new Date(D.date).toISOString(),Customer:D.customerName,Cashier:D.cashier,Items:D.items,Total:D.total,"Amount Paid":D.amountPaid,"Amount Due":D.total-D.amountPaid,"Payment Method":D.paymentMethod}));if(h==="csv"){const U=[R.join(","),...B.map(ne=>Object.values(ne).map(he=>{const we=String(he);return we.includes(",")||we.includes('"')?`"${we.replace(/"/g,'""')}"`:we}).join(","))].join(`
`),H=new Blob([U],{type:"text/csv;charset=utf-8;"}),Y=document.createElement("a"),G=URL.createObjectURL(H);Y.setAttribute("href",G),Y.setAttribute("download","sales_report.csv"),Y.style.visibility="hidden",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)}else if(h==="xlsx"&&typeof XLSX<"u"){const D=XLSX.utils.json_to_sheet(B),U=XLSX.utils.book_new();XLSX.utils.book_append_sheet(U,D,"Sales"),XLSX.writeFile(U,"sales_report.xlsx")}else h==="xlsx"&&alert("XLSX export not available (library not loaded).")};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[m.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:"Sales Reports"}),m.jsxs("div",{className:"flex rounded-lg shadow-sm",children:[m.jsxs("button",{onClick:F,className:"relative inline-flex items-center gap-2 bg-secondary-600 px-4 py-2 text-sm font-semibold text-white hover:bg-secondary-700 focus:z-10 rounded-l-lg",children:[m.jsx(vce,{className:"w-5 h-5"}),"Export Data"]}),m.jsxs("div",{ref:b,className:"relative -ml-px block",children:[m.jsxs("button",{onClick:()=>y(!v),type:"button",className:"relative inline-flex items-center bg-secondary-600 px-2 py-2 text-white hover:bg-secondary-700 focus:z-10 rounded-r-lg","aria-expanded":"true","aria-haspopup":"true",children:[m.jsx("span",{className:"text-xs uppercase mr-1",children:h}),m.jsx(yce,{className:"h-5 w-5","aria-hidden":"true"})]}),v&&m.jsx("div",{className:"absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-white dark:bg-neutral-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabIndex:-1,children:m.jsxs("div",{className:"py-1",role:"none",children:[m.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),g("csv"),y(!1)},className:`block px-4 py-2 text-sm ${h==="csv"?"font-bold text-primary-600":"text-neutral-700 dark:text-neutral-200"} hover:bg-neutral-100 dark:hover:bg-neutral-700`,role:"menuitem",tabIndex:-1,id:"menu-item-0",children:"Export as .csv"}),m.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),g("xlsx"),y(!1)},className:`block px-4 py-2 text-sm ${h==="xlsx"?"font-bold text-primary-600":"text-neutral-700 dark:text-neutral-200"} hover:bg-neutral-100 dark:hover:bg-neutral-700`,role:"menuitem",tabIndex:-1,id:"menu-item-1",children:"Export as .xlsx"})]})})]})]})]}),m.jsx("div",{className:"bg-white dark:bg-neutral-800 p-4 rounded-xl shadow-md space-y-4",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[m.jsxs("div",{className:"lg:col-span-2 grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"start-date",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Start Date"}),m.jsx("input",{type:"date",id:"start-date",value:i,onChange:R=>o(R.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"end-date",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"End Date"}),m.jsx("input",{type:"date",id:"end-date",value:a,onChange:R=>s(R.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"cashier",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Cashier"}),m.jsxs("select",{id:"cashier",value:l,onChange:R=>u(R.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",children:[m.jsx("option",{value:"all",children:"All Cashiers"}),E.map(R=>m.jsx("option",{value:R.id,children:R.name},R.id))]})]}),m.jsxs("div",{ref:S,children:[m.jsx("label",{htmlFor:"customer",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Customer"}),m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"text",id:"customer",value:w,onChange:R=>{x(R.target.value),d("all"),_||T(!0)},onFocus:()=>T(!0),placeholder:"All Customers",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"}),c!=="all"&&m.jsx("button",{onClick:k,className:"absolute right-2 text-neutral-500 hover:text-red-500",children:m.jsx(wce,{className:"w-5 h-5"})})]}),_&&m.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white dark:bg-neutral-700 rounded-md shadow-lg max-h-60 overflow-auto border dark:border-neutral-600",children:m.jsxs("ul",{children:[m.jsx("li",{onClick:()=>C("all"),className:"px-4 py-2 text-sm hover:bg-primary-50 dark:hover:bg-neutral-600 cursor-pointer text-neutral-700 dark:text-neutral-200",children:"All Customers"}),A.map(R=>m.jsx("li",{onClick:()=>C(R.id),className:"px-4 py-2 text-sm hover:bg-primary-50 dark:hover:bg-neutral-600 cursor-pointer text-neutral-700 dark:text-neutral-200",children:R.name},R.id))]})})]})]}),m.jsx("div",{className:"lg:col-span-5 flex justify-end",children:m.jsx("button",{onClick:j,className:"text-sm text-primary-600 hover:underline",children:"Reset Filters"})})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx($p,{title:"Total Revenue",value:P.totalSales}),m.jsx($p,{title:"Transactions",value:P.totalTransactions.toString()}),m.jsx($p,{title:"Avg. Sale Value",value:P.avgSaleValue})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold mb-4 text-neutral-800 dark:text-neutral-100",children:"Sales Trend"}),m.jsx("div",{className:"h-80 w-full",children:m.jsx(t0,{width:"100%",height:"100%",children:m.jsxs(ore,{data:M,children:[m.jsx(j0,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(128,128,128,0.2)"}),m.jsx(as,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},dy:10}),m.jsx(ss,{axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},tickFormatter:R=>`$${R}`}),m.jsx(_n,{cursor:{fill:"rgba(128,128,128,0.1)"},contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.5rem",color:"#F3F4F6"},itemStyle:{color:"#F3F4F6"},formatter:R=>[`$${R.toFixed(2)}`,"Sales"]}),m.jsx(wo,{dataKey:"total",fill:"#4F46E5",radius:[4,4,0,0]})]})})})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b dark:border-neutral-700",children:m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100",children:"Recent Transactions"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left text-neutral-500 dark:text-neutral-400",children:[m.jsx("thead",{className:"text-xs text-neutral-700 dark:text-neutral-300 uppercase bg-neutral-50 dark:bg-neutral-700/50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"Date"}),m.jsx("th",{className:"px-6 py-3",children:"Sale ID"}),m.jsx("th",{className:"px-6 py-3",children:"Customer"}),m.jsx("th",{className:"px-6 py-3",children:"Cashier"}),m.jsx("th",{className:"px-6 py-3 text-right",children:"Total"}),m.jsx("th",{className:"px-6 py-3",children:"Method"})]})}),m.jsx("tbody",{className:"divide-y divide-neutral-100 dark:divide-neutral-700",children:N.length>0?N.map(R=>m.jsxs("tr",{className:"bg-white dark:bg-neutral-800 hover:bg-neutral-50 dark:hover:bg-neutral-700/50",children:[m.jsxs("td",{className:"px-6 py-4",children:[L(R.date)," ",m.jsx("span",{className:"text-xs text-neutral-400 ml-1",children:new Date(R.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),m.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:R.id}),m.jsx("td",{className:"px-6 py-4 font-medium text-neutral-900 dark:text-neutral-100",children:R.customerName}),m.jsx("td",{className:"px-6 py-4",children:R.cashier}),m.jsx("td",{className:"px-6 py-4 text-right font-semibold text-neutral-900 dark:text-neutral-100",children:r(R.total)}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R.paymentMethod==="Cash"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":R.paymentMethod==="Card"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"}`,children:R.paymentMethod})})]},R.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-neutral-500 dark:text-neutral-400",children:"No transactions found matching current filters."})})})]})})]})]})},xce=({title:t})=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-8 rounded-xl shadow-md text-center h-full flex flex-col justify-center items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:t}),m.jsx("p",{className:"mt-4 text-neutral-500 dark:text-neutral-400",children:"This feature is under construction."}),m.jsx("div",{className:"mt-6 text-6xl text-neutral-200 dark:text-neutral-700",children:""})]}),_ce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),Sce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.998 15.998 0 011.622-3.385m5.043.025a2.25 2.25 0 012.245-2.4 4.5 4.5 0 00-2.245-8.4c-.798 0-1.563.31-2.122.875q-.56.565-.875 1.222m-1.622 8.455a15.998 15.998 0 00-1.622-3.385m3.388 1.62a15.998 15.998 0 01-3.388-1.62"})}),Ece=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0"})}),Tce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z"})}),JE=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),Ace=ho.KeyIcon,Cce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a2.25 2.25 0 01-2.25 2.25h-1.5a2.25 2.25 0 01-2.25-2.25v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"})}),af=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),_v=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),kce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),Pce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),Ice=ho.GlobeAltIcon,zr=({title:t,icon:e,children:n})=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md",children:[m.jsx("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-700",children:m.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-3",children:[e,t]})}),m.jsx("div",{className:"p-6",children:n})]}),Nce=({type:t,message:e,onClose:n})=>{const r="p-4 rounded-md flex items-center justify-between shadow-md mb-6",i=t==="success"?"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-200";return m.jsxs("div",{className:`${r} ${i}`,children:[m.jsx("p",{className:"text-sm font-medium",children:e}),m.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-black/10",children:m.jsx(af,{className:"w-5 h-5"})})]})},Oce=({title:t,children:e})=>{const[n,r]=O.useState(!1);return m.jsxs("div",{className:"border-b dark:border-neutral-700",children:[m.jsxs("button",{onClick:()=>r(!n),className:"w-full flex justify-between items-center text-left py-4 px-1",children:[m.jsx("span",{className:"font-semibold text-neutral-800 dark:text-neutral-100",children:t}),m.jsx(kce,{className:`w-5 h-5 transition-transform ${n?"rotate-180":""}`})]}),n&&m.jsx("div",{className:"pb-4 px-1 text-neutral-600 dark:text-neutral-300 prose prose-sm dark:prose-invert max-w-none whitespace-pre-line",children:e})]})},Mce=[{title:"1. Getting Started",content:`Welcome to Zenith POS. 

**Login & Roles:**
- **Admin:** Full access (Settings, Users, Reports).
- **Manager:** Manages Inventory & Reports.
- **Cashier:** Access to POS & Customers only.

**Dashboard:** Customize your dashboard widgets by clicking the 'Customize' button on the top right.`},{title:"2. Advanced Point of Sale (POS)",content:`Our POS is designed for speed and flexibility.

- **Touchscreen Mode:** Tap any input field (like Search) to open the Virtual Keyboard automatically.
- **Discounts:** Click the 'Tag Icon' next to any cart item to apply a % or Fixed Amount discount.
- **Hold Order:** Temporarily save an order if a customer needs time. Resume it later from the 'Held Orders' menu.
- **Credit Sales:** Select a customer to enable the 'Credit' payment option.
- **WhatsApp Invoice:** After a sale, click 'WhatsApp Invoice' to send the receipt directly to the customer's phone.`},{title:"3. Inventory & Products",content:`Manage your stock efficiently.

- **Add Products:** Add items manually or use **'Import CSV'** to upload hundreds of products at once.
- **Label Printing:** Select multiple products in the list and click **'Print Labels'** to generate barcode stickers.
- **Stock Adjustment:** Use the 'Adjust Stock' button to correct inventory levels for damage or loss.`},{title:"4. Offline Mode",content:`**No Internet? No Problem.**

Zenith POS works 100% offline. You can continue selling even when the internet is down. All data is saved locally on your device and will automatically sync once the connection is restored. Look for the 'Cloud' icon in the header to check your status.`},{title:"5. Customers & Loyalty",content:`Build customer loyalty.

- **Points:** Customers earn points for every purchase. You can redeem these points for discounts during checkout.
- **Credit Limit:** Set a maximum credit limit for each customer to control debt risk.
- **Due Collection:** Go to the Customer page and click the 'Money' icon to record a due payment.`},{title:"6. Localization & Currency",content:`Make the app yours.

Go to **Settings > Localization** to:
- Change the interface language (English / Bangla).
- Change the currency symbol (USD, BDT, EUR, INR).
The entire app will instantly update to reflect your choices.`},{title:"7. Data Security & Backup",content:`Your data is safe.

- **Backup:** In Settings, click 'Backup Data' to download a full copy of your system data as a JSON file.
- **Restore:** If you change devices or clear your browser, use 'Restore Data' to upload your backup file and resume exactly where you left off.`}],Rce=({isOpen:t,onClose:e})=>t?m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-start p-4 pt-16",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700",children:[m.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[m.jsx(_v,{className:"w-6 h-6 text-primary-500"}),"System User Guide"]}),m.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:m.jsx(af,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"p-6 overflow-y-auto",children:[m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-4",children:"Comprehensive guide to operating the Zenith POS system. Click on a section to expand."}),Mce.map((n,r)=>m.jsx(Oce,{title:n.title,children:n.content},r))]}),m.jsx("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700",children:m.jsx("button",{onClick:e,className:"bg-primary-600 text-white font-semibold px-5 py-2.5 rounded-lg hover:bg-primary-700 transition-colors",children:"Close Guide"})})]})}):null,$ce=({user:t,employees:e,isDarkMode:n,toggleDarkMode:r,businessName:i,setBusinessName:o,businessLogo:a,setBusinessLogo:s,licenseKeys:l,setLicenseKeys:u,language:c,setLanguage:d,currency:h,setCurrency:g,t:v})=>{const[y,b]=O.useState(8),[w,x]=O.useState(!1),[_,T]=O.useState(!1),[S,E]=O.useState(!1),[A,C]=O.useState(null),[k,N]=O.useState({userId:"",deviceName:"",validity:"Lifetime"}),[P,M]=O.useState(null),[j,L]=O.useState(null),[F,R]=O.useState(null),[B,D]=O.useState(!1),U=I.useRef(null);O.useEffect(()=>{if(j){const W=setTimeout(()=>{L(null)},5e3);return()=>clearTimeout(W)}},[j]);const H=W=>{L({type:"success",message:`${W} settings saved successfully!`})},Y=W=>{var se;const $=(se=W.target.files)==null?void 0:se[0];if($){const ee=new FileReader;ee.onloadend=()=>{s(ee.result)},ee.readAsDataURL($)}},G=()=>{if(R(null),!k.userId||!k.deviceName.trim()){R("Please select a user and enter a device name.");return}const W=e.find($=>$.id===k.userId);if(!W){R("Selected user could not be found.");return}try{const $=`ZENITH-${[...Array(3)].map(()=>Math.random().toString(36).substring(2,6).toUpperCase()).join("-")}`,se={id:`lk${Date.now()}`,key:$,assignedToUserId:W.id,assignedToUserName:W.name,deviceName:k.deviceName,status:"Active",validity:k.validity==="Lifetime"?"Lifetime":new Date(Date.now()+31536e6).toISOString(),organizationId:t.organizationId};u(ee=>[...ee,se]),M($),L({type:"success",message:"New license key generated."})}catch($){console.error("Key generation failed:",$),R("An unexpected error occurred during key generation.")}},ne=()=>{M(null),R(null),N({userId:"",deviceName:"",validity:"Lifetime"}),T(!0)},he=()=>T(!1),we=W=>{C(W),E(!0)},_e=()=>{C(null),E(!1)},Ze=()=>{if(!A){L({type:"error",message:"No key selected for revocation."}),_e();return}try{u(W=>W.map($=>$.id===A.id?{...$,status:"Revoked"}:$)),L({type:"success",message:`Key for ${A.assignedToUserName} has been revoked.`})}catch(W){console.error("Failed to revoke key:",W),L({type:"error",message:"Failed to revoke the key. Please try again."})}_e()},Fe=()=>{const W={users:localStorage.getItem("zenith_users"),products:localStorage.getItem("zenith_products"),customers:localStorage.getItem("zenith_customers"),sales:localStorage.getItem("zenith_sales")},$=new Blob([JSON.stringify(W)],{type:"application/json"}),se=URL.createObjectURL($),ee=document.createElement("a");ee.href=se,ee.download=`zenith_backup_${new Date().toISOString().split("T")[0]}.json`,ee.click(),L({type:"success",message:"Backup downloaded successfully!"})},Q=()=>{var W;(W=U.current)==null||W.click()},de=W=>{var ee;const $=(ee=W.target.files)==null?void 0:ee[0];if(!$)return;const se=new FileReader;se.onload=Se=>{var be;try{const Ee=JSON.parse((be=Se.target)==null?void 0:be.result);Ee.users&&localStorage.setItem("zenith_users",Ee.users),Ee.products&&localStorage.setItem("zenith_products",Ee.products),Ee.customers&&localStorage.setItem("zenith_customers",Ee.customers),Ee.sales&&localStorage.setItem("zenith_sales",Ee.sales),L({type:"success",message:"Data restored! Please reload the page."}),setTimeout(()=>window.location.reload(),2e3)}catch{L({type:"error",message:"Invalid backup file."})}},se.readAsText($)};return m.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[m.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:v("Settings")}),j&&m.jsx(Nce,{type:j.type,message:j.message,onClose:()=>L(null)}),m.jsx(zr,{title:"Help & Documentation",icon:m.jsx(Pce,{className:"w-6 h-6 text-primary-500"}),children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium",children:"System User Guide"}),m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Need help? View the complete manual on how to operate the POS software."})]}),m.jsxs("button",{onClick:()=>D(!0),className:"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300 font-semibold px-4 py-2 rounded-lg hover:bg-primary-200 dark:hover:bg-primary-900/80 transition-colors flex items-center gap-2",children:[m.jsx(_v,{className:"w-5 h-5"}),"Open Guide"]})]})}),m.jsxs(zr,{title:"Profile",icon:m.jsx(_ce,{className:"w-6 h-6 text-primary-500"}),children:[m.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[m.jsx("img",{src:t.avatarUrl,alt:"Profile Avatar",className:"w-20 h-20 rounded-full object-cover"}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-xl font-bold",children:t.name}),m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:t.role})]})]}),m.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 my-6"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Full Name"}),m.jsx("input",{type:"text",defaultValue:t.name,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Email Address"}),m.jsx("input",{type:"email",defaultValue:t.email,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Current Password"}),m.jsx("input",{type:"password",placeholder:"",className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"New Password"}),m.jsx("input",{type:"password",placeholder:"",className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})]}),m.jsx("div",{className:"mt-6 text-right",children:m.jsx("button",{onClick:()=>H("Profile"),className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Save Changes"})})]}),m.jsx(zr,{title:"Localization",icon:m.jsx(Ice,{className:"w-6 h-6 text-primary-500"}),children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Language"}),m.jsxs("select",{value:c,onChange:W=>d(W.target.value),className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",children:[m.jsx("option",{value:"en",children:"English"}),m.jsx("option",{value:"bn",children:" (Bangla)"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Currency"}),m.jsx("select",{value:h,onChange:W=>g(W.target.value),className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",children:Object.keys(Lm).map(W=>m.jsxs("option",{value:W,children:[W," (",Lm[W].symbol,")"]},W))})]})]})}),t.role===ie.Admin&&m.jsx(zr,{title:"Business",icon:m.jsx(JE,{className:"w-6 h-6 text-primary-500"}),children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Business Name"}),m.jsx("input",{type:"text",value:i,onChange:W=>o(W.target.value),className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Business Logo"}),m.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[m.jsx("div",{className:"w-16 h-16 rounded-md bg-neutral-100 dark:bg-neutral-700 flex items-center justify-center",children:a?m.jsx("img",{src:a,alt:"Business Logo Preview",className:"h-full w-full object-contain"}):m.jsx(JE,{className:"w-8 h-8 text-neutral-400"})}),m.jsx("input",{type:"file",onChange:Y,accept:"image/*",className:"block w-full text-sm text-neutral-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})]})]})]})}),m.jsx(zr,{title:"Appearance",icon:m.jsx(Sce,{className:"w-6 h-6 text-primary-500"}),children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium",children:"Dark Mode"}),m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Toggle between light and dark themes."})]}),m.jsx("button",{onClick:r,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n?"bg-primary-600":"bg-neutral-200 dark:bg-neutral-600"}`,children:m.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n?"translate-x-6":"translate-x-1"}`})})]})}),m.jsxs(zr,{title:"System",icon:m.jsx(Ece,{className:"w-6 h-6 text-primary-500"}),children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Default Tax Rate (%)"}),m.jsx("input",{type:"number",value:y,onChange:W=>b(Number(W.target.value)),className:"mt-1 w-full md:w-1/2 bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium",children:"Data Management"}),m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Backup or restore your application data."})]}),m.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[m.jsx("button",{onClick:Fe,className:"bg-secondary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-secondary-700 transition-colors",children:"Backup Data"}),m.jsx("button",{onClick:Q,className:"bg-neutral-200 dark:bg-neutral-600 text-neutral-800 dark:text-neutral-100 font-semibold px-4 py-2 rounded-lg hover:bg-neutral-300 dark:hover:bg-neutral-500 transition-colors",children:"Restore Data"}),m.jsx("input",{type:"file",accept:".json",ref:U,className:"hidden",onChange:de})]})]})]}),m.jsx("div",{className:"mt-6 text-right",children:m.jsx("button",{onClick:()=>H("System"),className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Save Changes"})})]}),m.jsx(zr,{title:"Security",icon:m.jsx(Tce,{className:"w-6 h-6 text-primary-500"}),children:m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium",children:"Two-Factor Authentication (2FA)"}),m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Add an extra layer of security to your account."})]}),m.jsx("button",{onClick:()=>x(!w),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${w?"bg-primary-600":"bg-neutral-200 dark:bg-neutral-600"}`,children:m.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${w?"translate-x-6":"translate-x-1"}`})})]})}),t.role===ie.Admin&&m.jsxs(zr,{title:"License Management",icon:m.jsx(Ace,{className:"w-6 h-6 text-primary-500"}),children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium",children:"Activation Keys"}),m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Manage activation keys for your team's devices."})]}),m.jsx("div",{className:"mt-2 md:mt-0",children:m.jsx("button",{onClick:ne,className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Generate New Key"})})]}),m.jsx("div",{className:"mt-4 flow-root",children:m.jsx("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:m.jsx("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:m.jsxs("table",{className:"min-w-full divide-y divide-neutral-200 dark:divide-neutral-700",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-neutral-900 dark:text-white sm:pl-0",children:"Key"}),m.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-neutral-900 dark:text-white",children:"Assigned To"}),m.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-neutral-900 dark:text-white",children:"Status"}),m.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-neutral-900 dark:text-white",children:"Validity"}),m.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-0",children:m.jsx("span",{className:"sr-only",children:"Actions"})})]})}),m.jsx("tbody",{className:"divide-y divide-neutral-200 dark:divide-neutral-700",children:l.map(W=>m.jsxs("tr",{children:[m.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-mono text-neutral-500 dark:text-neutral-400 sm:pl-0",children:`ZENITH-****-****-${W.key.slice(-4)}`}),m.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-neutral-500 dark:text-neutral-300",children:[m.jsx("div",{className:"font-medium text-neutral-900 dark:text-white",children:W.assignedToUserName}),m.jsx("div",{children:W.deviceName})]}),m.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:m.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${W.status==="Active"?"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-300"}`,children:W.status})}),m.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-neutral-500 dark:text-neutral-300",children:W.validity==="Lifetime"?"Lifetime":`Expires ${new Date(W.validity).toLocaleDateString()}`}),m.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0",children:W.status==="Active"?m.jsx("button",{onClick:()=>we(W),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Revoke"}):m.jsx("span",{className:"text-neutral-400",children:"Revoked"})})]},W.id))})]})})})})]}),_&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-md",children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700",children:[m.jsx("h3",{className:"text-lg font-semibold",children:P?"Key Generated Successfully":"Generate New License Key"}),m.jsx("button",{onClick:he,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:m.jsx(af,{className:"w-6 h-6"})})]}),P?m.jsxs("div",{className:"p-6 text-center",children:[m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-2",children:"Please copy this key and provide it to the user. It will not be shown again."}),m.jsxs("div",{className:"relative p-3 bg-neutral-100 dark:bg-neutral-900 rounded-md font-mono text-center",children:[P,m.jsx("button",{onClick:()=>navigator.clipboard.writeText(P),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-neutral-500 hover:text-primary-600",children:m.jsx(Cce,{className:"w-5 h-5"})})]}),m.jsx("button",{onClick:he,className:"mt-4 w-full bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Close"})]}):m.jsxs("div",{children:[m.jsxs("div",{className:"p-6 space-y-4",children:[F&&m.jsx("div",{className:"p-3 rounded-md bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 text-sm",children:F}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Assign to User"}),m.jsxs("select",{value:k.userId,onChange:W=>N($=>({...$,userId:W.target.value})),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",children:[m.jsx("option",{value:"",disabled:!0,children:"Select an employee"}),e.map(W=>m.jsxs("option",{value:W.id,children:[W.name," (",W.role,")"]},W.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Device Name"}),m.jsx("input",{type:"text",placeholder:"e.g., Main Counter PC",value:k.deviceName,onChange:W=>N($=>({...$,deviceName:W.target.value})),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Validity"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",name:"validity",value:"Lifetime",checked:k.validity==="Lifetime",onChange:W=>N($=>({...$,validity:W.target.value})),className:"mr-2"})," Lifetime"]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",name:"validity",value:"1 Year",checked:k.validity==="1 Year",onChange:W=>N($=>({...$,validity:W.target.value})),className:"mr-2"})," 1 Year"]})]})]})]}),m.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2",children:[m.jsx("button",{onClick:he,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),m.jsx("button",{onClick:G,className:"text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Generate Key"})]})]})]})}),S&&A&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-md",children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700",children:[m.jsx("h3",{className:"text-lg font-semibold",children:"Confirm Revoke"}),m.jsx("button",{onClick:_e,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:m.jsx(af,{className:"w-6 h-6"})})]}),m.jsx("div",{className:"p-6",children:m.jsxs("p",{children:["Are you sure you want to revoke the key for ",m.jsx("span",{className:"font-semibold",children:A.assignedToUserName})," on device ",m.jsx("span",{className:"font-semibold",children:A.deviceName}),"? They will no longer be able to access the application with this key."]})}),m.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2",children:[m.jsx("button",{onClick:_e,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),m.jsx("button",{onClick:Ze,className:"text-white bg-red-600 hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800",children:"Revoke Key"})]})]})}),m.jsx(Rce,{isOpen:B,onClose:()=>D(!1)}),m.jsx("button",{onClick:()=>D(!0),className:"fixed bottom-6 right-6 bg-primary-600 text-white p-4 rounded-full shadow-lg hover:bg-primary-700 transition-transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 z-40","aria-label":"Open settings guide",children:m.jsx(_v,{className:"w-8 h-8"})})]})},Dce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})}),jce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})}),Lce=({onSuccess:t,onStartTrial:e})=>{const[n,r]=O.useState(""),[i,o]=O.useState(""),[a,s]=O.useState(null),[l,u]=O.useState(!1),c=d=>{d.preventDefault(),s(null),u(!0),setTimeout(()=>{const h=o5(n,i);if(!h.valid){s(h.error||"Invalid license key. Please check and try again."),u(!1);return}t(h.license),u(!1)},600)};return m.jsx("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-900 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 max-w-md w-full rounded-2xl shadow-2xl overflow-hidden",children:[m.jsxs("div",{className:"bg-primary-600 p-8 text-center",children:[m.jsx("div",{className:"mx-auto bg-white w-16 h-16 rounded-full flex items-center justify-center mb-4 shadow-lg",children:m.jsx(Dce,{className:"w-8 h-8 text-primary-600"})}),m.jsx("h1",{className:"text-2xl font-bold text-white",children:"Zenith POS"}),m.jsx("p",{className:"text-primary-100 mt-2",children:"Professional Activation"})]}),m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"mb-6 text-center",children:[m.jsx("h2",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100",children:"Enter License Key"}),m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mt-1",children:"Please enter your business details and product key provided by your vendor."})]}),m.jsxs("form",{onSubmit:c,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"businessName",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Business Name"}),m.jsx("input",{type:"text",id:"businessName",value:i,onChange:d=>o(d.target.value),placeholder:"My Store Name",className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"license",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"License Key"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",id:"license",value:n,onChange:d=>r(d.target.value),placeholder:"ZENITH-XXXX-XXXX-XXXX",className:"w-full pl-4 pr-10 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent font-mono text-center uppercase tracking-widest outline-none transition-all"}),n&&!a&&m.jsx("div",{className:"absolute right-3 top-2 text-green-500",children:m.jsx(jce,{className:"w-6 h-6"})})]})]}),a&&m.jsx("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm text-center animate-pulse",children:a}),m.jsx("button",{type:"submit",disabled:l||!n||!i,className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center",children:l?m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Activate Software"})]}),m.jsx("div",{className:"mt-4 text-center",children:m.jsx("button",{onClick:e,className:"text-sm text-primary-600 dark:text-primary-400 hover:underline font-medium",children:"Start 7-Day Free Trial"})}),m.jsx("div",{className:"mt-6 pt-6 border-t border-neutral-100 dark:border-neutral-700 text-center",children:m.jsxs("p",{className:"text-xs text-neutral-400",children:["For support, contact ",m.jsx("span",{className:"font-semibold text-neutral-600 dark:text-neutral-300",children:"support@zenithpos.com"})]})})]})]})})},{BuildingStorefrontIcon:Uce}=ho,Bce=({onLogin:t,onInitiateRegister:e,onInitiateForgotPassword:n,error:r,onClearError:i})=>{const[o,a]=O.useState("login"),[s,l]=O.useState(""),[u,c]=O.useState(""),[d,h]=O.useState(""),[g,v]=O.useState(""),y=_=>{a(_),i==null||i(),_==="login"&&c("")},b=_=>{switch(_.preventDefault(),o){case"login":t(s,u);break;case"register":if(u!==g){alert("Passwords do not match!");return}e(d,s,u);break;case"forgot_password":n(s);break}},w=()=>{switch(o){case"login":return"Welcome Back";case"register":return"Create Account";case"forgot_password":return"Forgot Password"}},x=()=>{switch(o){case"login":return"Please login to your account";case"register":return"Register your admin account";case"forgot_password":return"Enter your email to receive a reset link"}};return m.jsx("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-900 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 max-w-md w-full rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row max-w-4xl",children:[m.jsxs("div",{className:"bg-primary-600 p-8 md:w-1/2 flex flex-col justify-center items-center text-center text-white",children:[m.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-6 shadow-lg",children:m.jsx(Uce,{className:"w-10 h-10 text-primary-600"})}),m.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Zenith POS"}),m.jsx("p",{className:"text-primary-100 mb-8",children:"Smart Business Management"}),m.jsxs("ul",{className:"text-left space-y-3 text-sm text-primary-50 hidden md:block",children:[m.jsx("li",{className:"flex items-center gap-2",children:" Real-time Inventory Tracking"}),m.jsx("li",{className:"flex items-center gap-2",children:" Offline Mode Support"}),m.jsx("li",{className:"flex items-center gap-2",children:" Multi-Shop Management"}),m.jsx("li",{className:"flex items-center gap-2",children:" AI-Powered Insights"})]})]}),m.jsxs("div",{className:"p-8 md:w-1/2 flex flex-col justify-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100 mb-1",children:w()}),m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-6",children:x()}),r&&m.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm border border-red-200",children:r}),m.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o==="register"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Full Name"}),m.jsx("input",{type:"text",required:!0,value:d,onChange:_=>h(_.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:"John Doe"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email Address"}),m.jsx("input",{type:"email",required:!0,value:s,onChange:_=>l(_.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:"name@company.com"})]}),["login","register"].includes(o)&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Password"}),m.jsx("input",{type:"password",required:!0,value:u,onChange:_=>c(_.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:""}),o==="login"&&m.jsx("div",{className:"text-right mt-1",children:m.jsx("button",{type:"button",onClick:()=>y("forgot_password"),className:"text-xs text-primary-600 hover:underline",children:"Forgot Password?"})})]}),o==="register"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Confirm Password"}),m.jsx("input",{type:"password",required:!0,value:g,onChange:_=>v(_.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:""})]}),m.jsxs("button",{type:"submit",className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors mt-2",children:[o==="login"&&"Sign In",o==="register"&&"Register",o==="forgot_password"&&"Send Reset Link"]})]}),m.jsxs("div",{className:"mt-6 text-center text-sm text-neutral-500",children:[o==="login"&&m.jsxs(m.Fragment,{children:["Don't have an account?"," ",m.jsx("button",{onClick:()=>y("register"),className:"text-primary-600 font-semibold hover:underline",children:"Register"})]}),o==="register"&&m.jsxs(m.Fragment,{children:["Already have an account?"," ",m.jsx("button",{onClick:()=>y("login"),className:"text-primary-600 font-semibold hover:underline",children:"Login"})]}),o==="forgot_password"&&m.jsx("button",{onClick:()=>y("login"),className:"text-neutral-500 hover:text-neutral-800 font-medium",children:" Back to Login"})]})]})]})})},Fce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),YE=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,Vce=[["1","2","3","4","5","6","7","8","9","0","Backspace"],["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M",",",".","Enter"],["Space"]],zce=()=>{const[t,e]=O.useState(!1),[n,r]=O.useState(null),i=O.useRef(null);O.useEffect(()=>{if(!YE())return;const a=l=>{const u=l.target;(u.tagName==="INPUT"||u.tagName==="TEXTAREA")&&!u.getAttribute("readonly")&&(r(u),e(!0))},s=l=>{i.current&&i.current.contains(l.target)||n&&l.target===n||(e(!1),r(null))};return document.addEventListener("focusin",a),document.addEventListener("mousedown",s),()=>{document.removeEventListener("focusin",a),document.removeEventListener("mousedown",s)}},[n]);const o=a=>{var v;if(!n)return;const s=n.selectionStart||0,l=n.selectionEnd||0,u=n.value;let c=u,d=s;if(a==="Backspace")s===l&&s>0?(c=u.slice(0,s-1)+u.slice(s),d=s-1):(c=u.slice(0,s)+u.slice(l),d=s);else if(a==="Enter")if(n.tagName==="TEXTAREA")c=u.slice(0,s)+`
`+u.slice(l),d=s+1;else{e(!1);return}else if(a==="Space")c=u.slice(0,s)+" "+u.slice(l),d=s+1;else{const y=a;c=u.slice(0,s)+y+u.slice(l),d=s+1}const h=(v=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:v.set;h?h.call(n,c):n.value=c;const g=new Event("input",{bubbles:!0});n.dispatchEvent(g),n.focus(),n.setSelectionRange(d,d)};return!YE()||!t?null:m.jsxs("div",{ref:i,className:"fixed bottom-0 left-0 right-0 bg-neutral-200 dark:bg-neutral-900 border-t border-neutral-300 dark:border-neutral-700 p-2 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-[9999]",children:[m.jsx("div",{className:"flex justify-end mb-1",children:m.jsx("button",{onClick:()=>e(!1),className:"p-1 bg-red-500 text-white rounded hover:bg-red-600",children:m.jsx(Fce,{className:"w-5 h-5"})})}),m.jsx("div",{className:"flex flex-col gap-1 max-w-5xl mx-auto",children:Vce.map((a,s)=>m.jsx("div",{className:"flex justify-center gap-1",children:a.map(l=>{let u="w-10 sm:w-14";return l==="Space"&&(u="w-64 sm:w-80"),(l==="Backspace"||l==="Enter")&&(u="w-16 sm:w-24 bg-neutral-300 dark:bg-neutral-600"),m.jsx("button",{onMouseDown:c=>{c.preventDefault(),o(l)},className:`${u} h-10 sm:h-12 rounded bg-white dark:bg-neutral-700 text-neutral-800 dark:text-neutral-100 shadow-sm hover:bg-neutral-100 dark:hover:bg-neutral-600 active:bg-neutral-300 dark:active:bg-neutral-500 font-semibold text-sm sm:text-base transition-colors select-none`,children:l==="Backspace"?"":l},l)})},s))})]})};var Sv=function(t,e){return Sv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Sv(t,e)};function rN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Sv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var sf=function(){return sf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},sf.apply(this,arguments)};function ds(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iN(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function oN(t,e){return function(n,r){e(n,r,t)}}function aN(t,e,n,r,i,o){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var s=r.kind,l=s==="getter"?"get":s==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,h=!1,g=n.length-1;g>=0;g--){var v={};for(var y in r)v[y]=y==="access"?{}:r[y];for(var y in r.access)v.access[y]=r.access[y];v.addInitializer=function(w){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(w||null))};var b=(0,n[g])(s==="accessor"?{get:c.get,set:c.set}:c[l],v);if(s==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(d=a(b.get))&&(c.get=d),(d=a(b.set))&&(c.set=d),(d=a(b.init))&&i.unshift(d)}else(d=a(b))&&(s==="field"?i.unshift(d):c[l]=d)}u&&Object.defineProperty(u,r.name,c),h=!0}function sN(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function lN(t){return typeof t=="symbol"?t:"".concat(t)}function uN(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function cN(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function le(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}function dN(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Th=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function fN(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Th(e,t,n)}function lf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function W0(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function hN(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(W0(arguments[e]));return t}function pN(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function mN(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function za(t){return this instanceof za?(this.v=t,this):new za(t)}function gN(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(v){return Promise.resolve(v).then(g,d)}}function s(g,v){r[g]&&(i[g]=function(y){return new Promise(function(b,w){o.push([g,y,b,w])>1||l(g,y)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(r[g](v))}catch(y){h(o[0][3],y)}}function u(g){g.value instanceof za?Promise.resolve(g.value.v).then(c,d):h(o[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function vN(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(a){return(n=!n)?{value:za(t[i](a)),done:!1}:o?o(a):a}:o}}function yN(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof lf=="function"?lf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}function wN(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var qce=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Ev=function(t){return Ev=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Ev(t)};function bN(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Ev(t),r=0;r<n.length;r++)n[r]!=="default"&&Th(e,t,n[r]);return qce(e,t),e}function xN(t){return t&&t.__esModule?t:{default:t}}function _N(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function SN(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function EN(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function TN(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var Hce=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function AN(t){function e(o){t.error=t.hasError?new Hce(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(a){return e(a),i()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function CN(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,a){return r?e?".jsx":".js":i&&(!o||!a)?n:i+o+"."+a.toLowerCase()+"js"}):t}const Gce={__extends:rN,__assign:sf,__rest:ds,__decorate:iN,__param:oN,__esDecorate:aN,__runInitializers:sN,__propKey:lN,__setFunctionName:uN,__metadata:cN,__awaiter:le,__generator:dN,__createBinding:Th,__exportStar:fN,__values:lf,__read:W0,__spread:hN,__spreadArrays:pN,__spreadArray:mN,__await:za,__asyncGenerator:gN,__asyncDelegator:vN,__asyncValues:yN,__makeTemplateObject:wN,__importStar:bN,__importDefault:xN,__classPrivateFieldGet:_N,__classPrivateFieldSet:SN,__classPrivateFieldIn:EN,__addDisposableResource:TN,__disposeResources:AN,__rewriteRelativeImportExtension:CN},Wce=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:TN,get __assign(){return sf},__asyncDelegator:vN,__asyncGenerator:gN,__asyncValues:yN,__await:za,__awaiter:le,__classPrivateFieldGet:_N,__classPrivateFieldIn:EN,__classPrivateFieldSet:SN,__createBinding:Th,__decorate:iN,__disposeResources:AN,__esDecorate:aN,__exportStar:fN,__extends:rN,__generator:dN,__importDefault:xN,__importStar:bN,__makeTemplateObject:wN,__metadata:cN,__param:oN,__propKey:lN,__read:W0,__rest:ds,__rewriteRelativeImportExtension:CN,__runInitializers:sN,__setFunctionName:uN,__spread:hN,__spreadArray:mN,__spreadArrays:pN,__values:lf,default:Gce},Symbol.toStringTag,{value:"Module"})),Kce=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class K0 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Jce extends K0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class XE extends K0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class QE extends K0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Tv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Tv||(Tv={}));class Yce{constructor(e,{headers:n={},customFetch:r,region:i=Tv.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Kce(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return le(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:g}=r;g||(g=this.region);const v=new URL(`${this.url}/${n}`);g&&g!=="any"&&(h["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let y;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let b=c;d&&(a=new AbortController,o=setTimeout(()=>a.abort(),d),c?(b=a.signal,c.addEventListener("abort",()=>a.abort())):b=a.signal);const w=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:b}).catch(S=>{throw new Jce(S)}),x=w.headers.get("x-relay-error");if(x&&x==="true")throw new XE(w);if(!w.ok)throw new QE(w);let _=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return _==="application/json"?T=yield w.json():_==="application/octet-stream"||_==="application/pdf"?T=yield w.blob():_==="text/event-stream"?T=w:_==="multipart/form-data"?T=yield w.formData():T=yield w.text(),{data:T,error:null,response:w}}catch(s){return{data:null,error:s,response:s instanceof QE||s instanceof XE?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var Ut={};const fs=fO(Wce);var oc={},ac={},sc={},lc={},uc={},cc={},ZE;function kN(){if(ZE)return cc;ZE=1,Object.defineProperty(cc,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return cc.default=t,cc}var eT;function PN(){if(eT)return uc;eT=1,Object.defineProperty(uc,"__esModule",{value:!0});const e=fs.__importDefault(kN());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let s=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,d,h;let g=null,v=null,y=null,b=l.status,w=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=S:v=JSON.parse(S))}const _=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),T=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");_&&T&&T.length>1&&(y=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(g={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,y=null,b=406,w="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const _=await l.text();try{g=JSON.parse(_),Array.isArray(g)&&l.status===404&&(v=[],g=null,b=200,w="OK")}catch{l.status===404&&_===""?(b=204,w="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((h=g==null?void 0:g.details)===null||h===void 0)&&h.includes("0 rows"))&&(g=null,b=200,w="OK"),g&&this.shouldThrowOnError)throw new e.default(g)}return{error:g,data:v,count:y,status:b,statusText:w}});return this.shouldThrowOnError||(s=s.catch(l=>{var u,c,d,h,g,v;let y="";const b=l==null?void 0:l.cause;if(b){const w=(u=b==null?void 0:b.message)!==null&&u!==void 0?u:"",x=(c=b==null?void 0:b.code)!==null&&c!==void 0?c:"";y=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,y+=`

Caused by: ${(h=b==null?void 0:b.name)!==null&&h!==void 0?h:"Error"}: ${w}`,x&&(y+=` (${x})`),b!=null&&b.stack&&(y+=`
${b.stack}`)}else y=(g=l==null?void 0:l.stack)!==null&&g!==void 0?g:"";return{error:{message:`${(v=l==null?void 0:l.name)!==null&&v!==void 0?v:"FetchError"}: ${l==null?void 0:l.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,o)}returns(){return this}overrideTypes(){return this}}return uc.default=n,uc}var tT;function IN(){if(tT)return lc;tT=1,Object.defineProperty(lc,"__esModule",{value:!0});const e=fs.__importDefault(PN());class n extends e.default{select(i){let o=!1;const a=(i??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:a,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${o?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:a=o}={}){const s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,o,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:a=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var c;const d=[i?"analyze":null,o?"verbose":null,a?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return lc.default=n,lc}var nT;function J0(){if(nT)return sc;nT=1,Object.defineProperty(sc,"__esModule",{value:!0});const e=fs.__importDefault(IN()),n=new RegExp("[,()]");class r extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const s=Array.from(new Set(a)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(o,`in.(${s})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:s,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(o,`${u}fts${c}.${a}`),this}match(o){return Object.entries(o).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(o,a,s){return this.url.searchParams.append(o,`not.${a}.${s}`),this}or(o,{foreignTable:a,referencedTable:s=a}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${o})`),this}filter(o,a,s){return this.url.searchParams.append(o,`${a}.${s}`),this}}return sc.default=r,sc}var rT;function NN(){if(rT)return ac;rT=1,Object.defineProperty(ac,"__esModule",{value:!0});const e=fs.__importDefault(J0());class n{constructor(i,{headers:o={},schema:a,fetch:s}){this.url=i,this.headers=new Headers(o),this.schema=a,this.fetch=s}select(i,o){const{head:a=!1,count:s}=o??{},l=a?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:a=!0}={}){var s;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:a=!1,count:s,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:o}={}){var a;const s="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var o;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return ac.default=n,ac}var iT;function Xce(){if(iT)return oc;iT=1,Object.defineProperty(oc,"__esModule",{value:!0});const t=fs,e=t.__importDefault(NN()),n=t.__importDefault(J0());class r{constructor(o,{headers:a={},schema:s,fetch:l}={}){this.url=o,this.headers=new Headers(a),this.schemaName=s,this.fetch=l}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:s=!1,get:l=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${o}`);let g;s||l?(d=s?"HEAD":"GET",Object.entries(a).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{h.searchParams.append(y,b)})):(d="POST",g=a);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new n.default({method:d,url:h,headers:v,schema:this.schemaName,body:g,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return oc.default=r,oc}Object.defineProperty(Ut,"__esModule",{value:!0});var ON=Ut.PostgrestError=VN=Ut.PostgrestBuilder=BN=Ut.PostgrestTransformBuilder=LN=Ut.PostgrestFilterBuilder=DN=Ut.PostgrestQueryBuilder=RN=Ut.PostgrestClient=void 0;const hs=fs,MN=hs.__importDefault(Xce());var RN=Ut.PostgrestClient=MN.default;const $N=hs.__importDefault(NN());var DN=Ut.PostgrestQueryBuilder=$N.default;const jN=hs.__importDefault(J0());var LN=Ut.PostgrestFilterBuilder=jN.default;const UN=hs.__importDefault(IN());var BN=Ut.PostgrestTransformBuilder=UN.default;const FN=hs.__importDefault(PN());var VN=Ut.PostgrestBuilder=FN.default;const zN=hs.__importDefault(kN());ON=Ut.PostgrestError=zN.default;var qN=Ut.default={PostgrestClient:MN.default,PostgrestQueryBuilder:$N.default,PostgrestFilterBuilder:jN.default,PostgrestTransformBuilder:UN.default,PostgrestBuilder:FN.default,PostgrestError:zN.default};const Qce=dO({__proto__:null,get PostgrestBuilder(){return VN},get PostgrestClient(){return RN},get PostgrestError(){return ON},get PostgrestFilterBuilder(){return LN},get PostgrestQueryBuilder(){return DN},get PostgrestTransformBuilder(){return BN},default:qN},[Ut]),{PostgrestClient:Zce,PostgrestQueryBuilder:fhe,PostgrestFilterBuilder:hhe,PostgrestTransformBuilder:phe,PostgrestBuilder:mhe,PostgrestError:ghe}=qN||Qce;class ede{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const tde="2.83.0",nde=`realtime-js/${tde}`,HN="1.0.0",rde="2.0.0",oT=HN,Av=1e4,ide=1e3,ode=100;var Li;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Li||(Li={}));var ct;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ct||(ct={}));var Sn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Sn||(Sn={}));var Cv;(function(t){t.websocket="websocket"})(Cv||(Cv={}));var Ui;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ui||(Ui={}));class ade{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodePush(e){var n,r;const{event:i,topic:o,payload:a}=e,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=this.META_LENGTH+l.length+s.length+o.length+i.length,c=new ArrayBuffer(this.HEADER_LENGTH+u);let d=new DataView(c),h=0;d.setUint8(h++,this.KINDS.push),d.setUint8(h++,l.length),d.setUint8(h++,s.length),d.setUint8(h++,o.length),d.setUint8(h++,i.length),Array.from(l,v=>d.setUint8(h++,v.charCodeAt(0))),Array.from(s,v=>d.setUint8(h++,v.charCodeAt(0))),Array.from(o,v=>d.setUint8(h++,v.charCodeAt(0))),Array.from(i,v=>d.setUint8(h++,v.charCodeAt(0)));var g=new Uint8Array(c.byteLength+a.byteLength);return g.set(new Uint8Array(c),0),g.set(new Uint8Array(a),c.byteLength),g.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r,i,o;const a=e.topic,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,c=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let g=new DataView(h),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,l.length),g.setUint8(v++,s.length),g.setUint8(v++,a.length),g.setUint8(v++,u.length),g.setUint8(v++,this.BINARY_ENCODING),Array.from(l,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(s,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(a,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(v++,b.charCodeAt(0)));var y=new Uint8Array(h.byteLength+c.byteLength);return y.set(new Uint8Array(h),0),y.set(new Uint8Array(c),h.byteLength),y.buffer}_encodeJsonUserBroadcastPush(e){var n,r,i,o;const a=e.topic,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,c=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer,g=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let y=new DataView(v),b=0;y.setUint8(b++,this.KINDS.userBroadcastPush),y.setUint8(b++,l.length),y.setUint8(b++,s.length),y.setUint8(b++,a.length),y.setUint8(b++,u.length),y.setUint8(b++,this.JSON_ENCODING),Array.from(l,x=>y.setUint8(b++,x.charCodeAt(0))),Array.from(s,x=>y.setUint8(b++,x.charCodeAt(0))),Array.from(a,x=>y.setUint8(b++,x.charCodeAt(0))),Array.from(u,x=>y.setUint8(b++,x.charCodeAt(0)));var w=new Uint8Array(v.byteLength+h.byteLength);return w.set(new Uint8Array(v),0),w.set(new Uint8Array(h),v.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,n,i);case this.KINDS.reply:return this._decodeReply(e,n,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodePush(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3);let s=this.HEADER_LENGTH+this.META_LENGTH-1;const l=r.decode(e.slice(s,s+i));s=s+i;const u=r.decode(e.slice(s,s+o));s=s+o;const c=r.decode(e.slice(s,s+a));s=s+a;const d=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{join_ref:l,ref:null,topic:u,event:c,payload:d}}_decodeReply(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const h=r.decode(e.slice(l,l+s));l=l+s;const g=JSON.parse(r.decode(e.slice(l,e.byteLength))),v={status:h,response:g};return{join_ref:u,ref:c,topic:d,event:Sn.reply,payload:v}}_decodeBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const s=r.decode(e.slice(a,a+i));a=a+i;const l=r.decode(e.slice(a,a+o));a=a+o;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{join_ref:null,ref:null,topic:s,event:l,payload:u}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),g=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST,event:c,payload:g};return a>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class GN{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(De||(De={}));const aT=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=sde(a,t,e,i),o),{}):{}},sde=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?WN(o,a):kv(a)},WN=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return dde(e,n)}switch(t){case De.bool:return lde(e);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return ude(e);case De.json:case De.jsonb:return cde(e);case De.timestamp:return fde(e);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return kv(e);default:return kv(e)}},kv=t=>t,lde=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ude=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},cde=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},dde=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>WN(e,s))}return t},fde=t=>typeof t=="string"?t.replace(" ","T"):t,KN=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Dp{constructor(e,n,r={},i=Av){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var sT;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(sT||(sT={}));class il{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=il.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=il.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=il.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=o[u];if(d){const h=c.map(b=>b.presence_ref),g=d.map(b=>b.presence_ref),v=c.filter(b=>g.indexOf(b.presence_ref)<0),y=d.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(s[u]=v),y.length>0&&(l[u]=y)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const d=e[s].map(g=>g.presence_ref),h=c.filter(g=>d.indexOf(g.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(lT||(lT={}));var ol;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ol||(ol={}));var mr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mr||(mr={}));class Y0{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Dp(this,Sn.join,this.params,this.timeout),this.rejoinTimer=new GN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new il(this),this.broadcastEndpointURL=KN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[ol.PRESENCE]&&this.bindings[ol.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(mr.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(mr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){e==null||e(mr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,w=[];for(let x=0;x<b;x++){const _=y[x],{filter:{event:T,schema:S,table:E,filter:A}}=_,C=g&&g[x];if(C&&C.event===T&&C.schema===S&&C.table===E&&C.filter===A)w.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=ct.errored,e==null||e(mr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(mr.SUBSCRIBED);return}}).receive("error",g=>{this.state=ct.errored,e==null||e(mr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(mr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ct.joined&&e===ol.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ct.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Dp(this,Sn.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Dp(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ode){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Sn;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var v,y,b;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(y=g.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(g=>g.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var v,y,b,w,x,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const T=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return T&&((y=n.ids)===null||y===void 0?void 0:y.includes(T))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const T=(x=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return T==="*"||T===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:y,table:b,commit_timestamp:w,type:x,errors:_}=v;h=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:w,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(v))}g.callback(h,r)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Y0.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Sn.close,{},e)}_onError(e){this._on(Sn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=aT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=aT(e.columns,e.old_record)),n}}const jp=()=>{},dc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hde=[1e3,2e3,5e3,1e4],pde=1e4,mde=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gde{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Av,this.transport=null,this.heartbeatIntervalMs=dc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jp,this.ref=0,this.reconnectTimer=null,this.vsn=oT,this.logger=jp,this.conn=null,this.sendBuffer=[],this.serializer=new ade,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Cv.websocket}`,this.httpEndpoint=KN(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ede.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Li.connecting:return Ui.Connecting;case Li.open:return Ui.Open;case Li.closing:return Ui.Closing;default:return Ui.Closed}}isConnected(){return this.connectionState()===Ui.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Y0(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(ide,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},dc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Li.open||this.conn.readyState===Li.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Sn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([mde],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:nde};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Sn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new GN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},dc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,u,c,d,h,g;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Av,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:dc.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:jp,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:oT,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>hde[v-1]||pde,this.vsn){case HN:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(v,y)=>y(JSON.stringify(v)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(v,y)=>y(JSON.parse(v));break;case rde:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class X0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Je(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class vde extends X0{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pv extends X0{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Q0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yde=()=>Response,Iv=t=>{if(Array.isArray(t))return t.map(n=>Iv(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Iv(r)}),e},wde=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Lp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},bde=(t,e,n)=>le(void 0,void 0,void 0,function*(){const r=yield yde();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const o=t.status||500,a=(i==null?void 0:i.statusCode)||o+"";e(new vde(Lp(i),o,a))}).catch(i=>{e(new Pv(Lp(i),i))}):e(new Pv(Lp(t),t))}),xde=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(wde(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function _u(t,e,n,r,i,o){return le(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(n,xde(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>bde(l,s,r))})})}function iu(t,e,n,r){return le(this,void 0,void 0,function*(){return _u(t,"GET",e,n,r)})}function Fn(t,e,n,r,i){return le(this,void 0,void 0,function*(){return _u(t,"POST",e,r,i,n)})}function Nv(t,e,n,r,i){return le(this,void 0,void 0,function*(){return _u(t,"PUT",e,r,i,n)})}function _de(t,e,n,r){return le(this,void 0,void 0,function*(){return _u(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Z0(t,e,n,r,i){return le(this,void 0,void 0,function*(){return _u(t,"DELETE",e,r,i,n)})}class Sde{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}})}}var JN;class Ede{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[JN]="BlobDownloadBuilder",this.promise=null}asStream(){return new Sde(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}})}}JN=Symbol.toStringTag;const Tde={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ade{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Q0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return le(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},uT),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(e=="PUT"?Nv:Fn)(this.fetch,`${this.url}/object/${c}`,o,Object.assign({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}})}upload(e,n,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return le(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),a=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:uT.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield Nv(this.fetch,s.toString(),l,{headers:c});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return le(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Fn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new X0("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}update(e,n,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return le(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}copy(e,n,r){return le(this,void 0,void 0,function*(){try{return{data:{path:(yield Fn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return le(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Fn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return le(this,void 0,void 0,function*(){try{const i=yield Fn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"",s=this._getFinalPath(e),l=()=>iu(this.fetch,`${this.url}/${i}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new Ede(l,this.shouldThrowOnError)}info(e){return le(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield iu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Iv(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}exists(e){return le(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield _de(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r)&&r instanceof Pv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(e){return le(this,void 0,void 0,function*(){try{return{data:yield Z0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}list(e,n,r){return le(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Tde),n),{prefix:e||""});return{data:yield Fn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}listV2(e,n){return le(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Fn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const YN="2.83.0",XN={"X-Client-Info":`storage-js/${YN}`};class Cde{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},XN),n),this.fetch=Q0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return le(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield iu(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}getBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield iu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}createBucket(e){return le(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Fn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return le(this,void 0,void 0,function*(){try{return{data:yield Nv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}emptyBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Z0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class kde{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},XN),n),this.fetch=Q0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}listBuckets(e){return le(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield iu(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Z0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}}const ew={"X-Client-Info":`storage-js/${YN}`,"Content-Type":"application/json"};class QN extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function un(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Up extends QN{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pde extends QN{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var cT;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(cT||(cT={}));const tw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ide=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},dT=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Nde=(t,e,n)=>le(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new Up(dT(a),i,s))}).catch(()=>{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new Up(s,i,a))});else{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new Up(s,i,a))}}else e(new Pde(dT(t),t))}),Ode=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(Ide(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function Mde(t,e,n,r,i,o){return le(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(n,Ode(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>Nde(l,s,r))})})}function cn(t,e,n,r,i){return le(this,void 0,void 0,function*(){return Mde(t,"POST",e,r,i,n)})}class Rde{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ew),n),this.fetch=tw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return le(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}getIndex(e,n){return le(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}listIndexes(e){return le(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return le(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}}class $de{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ew),n),this.fetch=tw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return le(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield cn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}getVectors(e){return le(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}listVectors(e){return le(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield cn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}queryVectors(e){return le(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}deleteVectors(e){return le(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield cn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}}class Dde{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ew),n),this.fetch=tw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return le(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}getBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}listBuckets(){return le(this,arguments,void 0,function*(e={}){try{return{data:yield cn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}}class jde extends Dde{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new Lde(this.url,this.headers,e,this.fetch)}}class Lde extends Rde{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return le(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return le(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return le(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return le(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Ude(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Ude extends $de{constructor(e,n,r,i,o){super(e,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return le(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return le(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return le(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return le(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return le(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Bde extends Cde{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new Ade(this.url,this.headers,e,this.fetch)}get vectors(){return new jde(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kde(this.url+"/iceberg",this.headers,this.fetch)}}const Fde="2.83.0";let Bs="";typeof Deno<"u"?Bs="deno":typeof document<"u"?Bs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bs="react-native":Bs="node";const Vde={"X-Client-Info":`supabase-js-${Bs}/${Fde}`},zde={headers:Vde},qde={schema:"public"},Hde={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Gde={},Wde=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Kde=()=>Headers,Jde=(t,e,n)=>{const r=Wde(n),i=Kde();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},a),{headers:u}))}};function Yde(t){return t.endsWith("/")?t:t+"/"}function Xde(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},c),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Qde(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Yde(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ZN="2.83.0",Oo=30*1e3,Ov=3,Bp=Ov*Oo,Zde="http://localhost:9999",efe="supabase.auth.token",tfe={"X-Client-Info":`gotrue-js/${ZN}`},Mv="X-Supabase-Api-Version",eO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nfe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rfe=10*60*1e3;class ou extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ce(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ife extends ou{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ofe(t){return ce(t)&&t.name==="AuthApiError"}class Bi extends ou{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ei extends ou{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class nn extends Ei{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function afe(t){return ce(t)&&t.name==="AuthSessionMissingError"}class Co extends Ei{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fc extends Ei{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class hc extends Ei{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sfe(t){return ce(t)&&t.name==="AuthImplicitGrantRedirectError"}class fT extends Ei{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rv extends Ei{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Fp(t){return ce(t)&&t.name==="AuthRetryableFetchError"}class hT extends Ei{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class $v extends Ei{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const uf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pT=` 	
\r=`.split(""),lfe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<pT.length;e+=1)t[pT[e].charCodeAt(0)]=-2;for(let e=0;e<uf.length;e+=1)t[uf[e].charCodeAt(0)]=e;return t})();function mT(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(uf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(uf[r]),e.queuedBits-=6}}function tO(t,e,n){const r=lfe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function gT(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{dfe(a,r,n)};for(let a=0;a<t.length;a+=1)tO(t.charCodeAt(a),i,o);return e.join("")}function ufe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cfe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}ufe(r,e)}}function dfe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ca(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)tO(t.charCodeAt(i),n,r);return new Uint8Array(e)}function ffe(t){const e=[];return cfe(t,n=>e.push(n)),new Uint8Array(e)}function Ki(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>mT(i,n,r)),mT(null,n,r),e.join("")}function hfe(t){return Math.round(Date.now()/1e3)+t}function pfe(){return Symbol("auth-callback")}const Et=()=>typeof window<"u"&&typeof document<"u",Pi={tested:!1,writable:!1},nO=()=>{if(!Et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pi.tested)return Pi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Pi.tested=!0,Pi.writable=!0}catch{Pi.tested=!0,Pi.writable=!1}return Pi.writable};function mfe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const rO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gfe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Mo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ii=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},qr=async(t,e)=>{await t.removeItem(e)};class Ah{constructor(){this.promise=new Ah.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ah.promiseConstructor=Promise;function Vp(t){const e=t.split(".");if(e.length!==3)throw new $v("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!nfe.test(e[r]))throw new $v("JWT not in base64url format");return{header:JSON.parse(gT(e[0])),payload:JSON.parse(gT(e[1])),signature:ca(e[2]),raw:{header:e[0],payload:e[1]}}}async function vfe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function yfe(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function wfe(t){return("0"+t.toString(16)).substr(-2)}function bfe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,wfe).join("")}async function xfe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function _fe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await xfe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ko(t,e,n=!1){const r=bfe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Mo(t,`${e}-code-verifier`,i);const o=await _fe(r);return[o,r===o?"plain":"s256"]}const Sfe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Efe(t){const e=t.headers.get(Mv);if(!e||!e.match(Sfe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Tfe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Afe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Cfe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Po(t){if(!Cfe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kfe(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function vT(t){return JSON.parse(JSON.stringify(t))}const Di=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Pfe=[502,503,504];async function yT(t){var e;if(!gfe(t))throw new Rv(Di(t),0);if(Pfe.includes(t.status))throw new Rv(Di(t),t.status);let n;try{n=await t.json()}catch(o){throw new Bi(Di(o),o)}let r;const i=Efe(t);if(i&&i.getTime()>=eO["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new hT(Di(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new nn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new hT(Di(n),t.status,n.weak_password.reasons);throw new ife(Di(n),t.status||500,r)}const Ife=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function me(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Mv]||(o[Mv]=eO["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Nfe(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Nfe(t,e,n,r,i,o){const a=Ife(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new Rv(Di(l),0)}if(s.ok||await yT(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await yT(l)}}function Un(t){var e;let n=null;Rfe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=hfe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function wT(t){const e=Un(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Zr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Ofe(t){return{data:t,error:null}}function Mfe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=ds(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function bT(t){return t}function Rfe(t){return t.access_token&&t.refresh_token&&t.expires_in}const qp=["global","local","others"];class $fe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=rO(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=qp[0]){if(qp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qp.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Zr})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=ds(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Mfe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:bT});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ce(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Po(e);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Po(e);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Zr})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Po(e);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Zr})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Po(e.userId);try{const{data:n,error:r}=await me(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Po(e.userId),Po(e.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:bT});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ce(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}}function xT(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Io={debug:!!(globalThis&&nO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class iO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Dfe extends iO{}async function jfe(t,e,n){Io.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Io.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Io.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Io.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Io.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Dfe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Io.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Lfe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function oO(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Ufe(t){return parseInt(t,16)}function Bfe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Ffe(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=oO(t.address),v=c?`${c}://${r}`:r,y=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${g}

${y}`;let w=`URI: ${d}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),s&&(w+=`
Not Before: ${s.toISOString()}`),l&&(w+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);x+=`
- ${_}`}w+=x}return`${b}
${w}`}class it extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class cf extends it{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Vfe({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new it({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new it({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new it({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new it({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new it({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new it({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new it({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new it({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(aO(a)){if(o.rp.id!==a)return new it({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new it({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function zfe({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new it({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new it({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(aO(r)){if(n.rpId!==r)return new it({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class qfe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Hfe=new qfe;function Gfe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=ds(t,["challenge","user","excludeCredentials"]),o=ca(e).buffer,a=Object.assign(Object.assign({},n),{id:ca(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ca(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function Wfe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=ds(t,["challenge","allowCredentials"]),i=ca(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:ca(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function Kfe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ki(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ki(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Jfe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ki(new Uint8Array(i.authenticatorData)),clientDataJSON:Ki(new Uint8Array(i.clientDataJSON)),signature:Ki(new Uint8Array(i.signature)),userHandle:i.userHandle?Ki(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function aO(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function _T(){var t,e;return!!(Et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Yfe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cf("Browser returned unexpected credential type",e)}:{data:null,error:new cf("Empty credential response",e)}}catch(e){return{data:null,error:Vfe({error:e,options:t})}}}async function Xfe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cf("Browser returned unexpected credential type",e)}:{data:null,error:new cf("Empty credential response",e)}}catch(e){return{data:null,error:zfe({error:e,options:t})}}}const Qfe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Zfe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function df(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=df(s,a):r[o]=df(a)}else r[o]=a}return r}function ehe(t,e){return df(Qfe,t,e||{})}function the(t,e){return df(Zfe,t,e||{})}class nhe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??Hfe.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=ehe(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:c,error:d}=await Yfe({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=the(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:c,error:d}=await Xfe(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(a){return ce(a)?{data:null,error:a}:{data:null,error:new Bi("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new ou("rpId is required for WebAuthn authentication")};try{if(!_T())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return ce(a)?{data:null,error:a}:{data:null,error:new Bi("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new ou("rpId is required for WebAuthn registration")};try{if(!_T())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return ce(a)?{data:null,error:a}:{data:null,error:new Bi("Unexpected error in register",a)}}}}Lfe();const rhe={url:Zde,storageKey:efe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tfe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ST(t,e,n){return await n()}const No={};class au{get jwks(){var e,n;return(n=(e=No[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=No[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},rhe),e);if(this.storageKey=o.storageKey,this.instanceID=(n=au.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,au.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Et()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new $fe({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=rO(o.fetch),this.lock=o.lock||ST,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Et()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=jfe:this.lock=ST,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nhe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:nO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xT(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=xT(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ZN}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Et()&&(n=mfe(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Et()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),sfe(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ce(n)?this._returnResult({error:n}):this._returnResult({error:new Bi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Un}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:c,password:d,options:h}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await ko(this.storage,this.storageKey)),o=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:Un})}else if("phone"in e){const{phone:c,password:d,options:h}=e;o=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Un})}else throw new fc("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:wT})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:wT})}else throw new fc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Co;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,u,c,d,h;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:y,wallet:b,statement:w,options:x}=e;let _;if(Et())if(typeof b=="object")_=b;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")_=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const T=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=oO(S[0]);let A=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const k=await _.request({method:"eth_chainId"});A=Ufe(k)}const C={domain:T.host,address:E,statement:w,uri:T.href,version:"1",chainId:A,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.resources};g=Ffe(C),v=await _.request({method:"personal_sign",params:[Bfe(g),E]})}try{const{data:y,error:b}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Un});if(b)throw b;if(!y||!y.session||!y.user){const w=new Co;return this._returnResult({data:{user:null,session:null},error:w})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(ce(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var n,r,i,o,a,s,l,u,c,d,h,g;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:b,wallet:w,statement:x,options:_}=e;let T;if(Et())if(typeof w=="object")T=w;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))T=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=w}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const E=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)v=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),y=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await T.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:b,error:w}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Ki(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Un});if(w)throw w;if(!b||!b.session||!b.user){const x=new Co;return this._returnResult({data:{user:null,session:null},error:x})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:w})}catch(b){if(ce(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await Ii(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:a}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Un});if(await qr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new Co;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(ce(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Un}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Co;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await ko(this.storage,this.storageKey));const{error:d}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new fc("You must provide either an email or phone number.")}catch(s){if(ce(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Un});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await ko(this.storage,this.storageKey));const u=await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:Ofe});return!((o=u.data)===null||o===void 0)&&o.url&&Et()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new nn;const{error:i}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ce(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await me(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await me(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new fc("You must provide either an email or phone number and a type")}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ii(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Bp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Ii(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=zp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=kfe(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zr}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nn}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Zr})})}catch(n){if(ce(n))return afe(n)&&(await this._removeSession(),await qr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new nn;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await ko(this.storage,this.storageKey));const{data:u,error:c}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:Zr});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(ce(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=Vp(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(ce(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new nn;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Et())throw new hc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new fT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new fT("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=e;if(!o||!s||!a||!u)throw new hc("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let h=c+d;l&&(h=parseInt(l));const g=h-c;g*1e3<=Oo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:y,error:b}=await this._getUser(o);if(b)throw b;const w={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(r){if(ce(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ii(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(ofe(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await qr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=pfe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ko(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ce(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:d,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Et()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ce(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=e,d=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Un}),{data:h,error:g}=d;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Co}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await yfe(async i=>(i>0&&await vfe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Un})),(i,o)=>{const a=200*Math.pow(2,i);return o&&Fp(o)&&Date.now()+a-r<Oo})}catch(r){if(this._debug(n,"error",r),ce(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Et()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ii(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ii(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Mo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:zp()}else if(i&&!i.user&&!i.user){const a=await Ii(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await qr(this.storage,this.storageKey+"-user"),await Mo(this.storage,this.storageKey,i)):i.user=zp()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bp;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Bp}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Fp(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ah;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new nn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),ce(o)){const a={data:null,error:o};return Fp(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Mo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=vT(i);await Mo(this.storage,this.storageKey,o)}else{const i=vT(n);await Mo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await qr(this.storage,this.storageKey),await qr(this.storage,this.storageKey+"-code-verifier"),await qr(this.storage,this.storageKey+"-user"),this.userStorage&&await qr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Oo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Oo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Oo}ms, refresh threshold is ${Ov} ticks`),i<=Ov&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof iO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await ko(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await me(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Kfe(e.webauthn.credential_response):Jfe(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Gfe(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Wfe(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Vp(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new nn})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new nn});const a=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Et()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new nn});const a=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Et()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new nn})})}catch(e){if(ce(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new nn})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+rfe>i)return r;const{data:o,error:a}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return this._returnResult({data:null,error:v});r=g.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=Vp(r);n!=null&&n.allowExpired||Tfe(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:i,signature:a},error:null}}const c=Afe(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,ffe(`${s}.${l}`)))throw new $v("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}}au.nextInstanceID={};const ihe=au;class ohe extends ihe{constructor(e){super(e)}}class ahe{constructor(e,n,r){var i,o,a;this.supabaseUrl=e,this.supabaseKey=n;const s=Qde(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:qde,realtime:Gde,auth:Object.assign(Object.assign({},Hde),{storageKey:l}),global:zde},c=Xde(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=c.global.headers)!==null&&o!==void 0?o:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=c.auth)!==null&&a!==void 0?a:{},this.headers,c.global.fetch),this.fetch=Jde(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Zce(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Bde(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Yce(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:a,flowType:s,lock:l,debug:u,throwOnError:c},d,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ohe({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:s,lock:l,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new gde(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const she=(t,e,n)=>new ahe(t,e,n);function lhe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}lhe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const uhe={VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3d3R4Y2NndGtmYXhhbWRlc2FwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1MzExNzQsImV4cCI6MjA3OTEwNzE3NH0.9k0oqOZDctqpI22FhLsq-Y2Rz2Ak51bzYkb46nRQizQ",VITE_SUPABASE_URL:"https://twwtxccgtkfaxamdesap.supabase.co"},sO=uhe||{},lO=sO.VITE_SUPABASE_URL,uO=sO.VITE_SUPABASE_ANON_KEY;(!lO||!uO)&&console.error("Missing Supabase configuration. Please ensure VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY are set in your .env.local file.");const Hr=she(lO||"https://placeholder.supabase.co",uO||"placeholder-key");function Gr(t,e){const n=localStorage.getItem(t);return n?JSON.parse(n):e}function che(){const[t,e]=O.useState(null),[n,r]=O.useState(!0),[i,o]=O.useState(!1),[a,s]=O.useState(null),[l,u]=O.useState(null),[c,d]=O.useState(!0),[h,g]=O.useState(()=>Gr("zenith_users",a5)),[v,y]=O.useState(()=>Gr("zenith_products",s5)),[b,w]=O.useState(()=>Gr("zenith_customers",l5)),[x,_]=O.useState(()=>Gr("zenith_suppliers",u5)),[T,S]=O.useState(()=>Gr("zenith_pos",c5)),[E,A]=O.useState(()=>Gr("zenith_sales",f5)),[C,k]=O.useState(()=>Gr("zenith_expenses",d5)),[N,P]=O.useState(()=>Gr("zenith_licenses",h5)),[M,j]=O.useState(r5),[L,F]=O.useState(null),[R,B]=O.useState([]),[D,U]=O.useState("dashboard"),[H,Y]=O.useState(!1),[G,ne]=O.useState(!1),[he,we]=O.useState("Zenith POS"),[_e,Ze]=O.useState(null),[Fe,Q]=O.useState("en"),[de,W]=O.useState("USD"),[$,se]=O.useState(navigator.onLine);O.useEffect(()=>localStorage.setItem("zenith_users",JSON.stringify(h)),[h]),O.useEffect(()=>localStorage.setItem("zenith_products",JSON.stringify(v)),[v]),O.useEffect(()=>localStorage.setItem("zenith_customers",JSON.stringify(b)),[b]),O.useEffect(()=>localStorage.setItem("zenith_suppliers",JSON.stringify(x)),[x]),O.useEffect(()=>localStorage.setItem("zenith_pos",JSON.stringify(T)),[T]),O.useEffect(()=>localStorage.setItem("zenith_sales",JSON.stringify(E)),[E]),O.useEffect(()=>localStorage.setItem("zenith_expenses",JSON.stringify(C)),[C]),O.useEffect(()=>localStorage.setItem("zenith_licenses",JSON.stringify(N)),[N]),O.useEffect(()=>{const K=()=>{se(!0),j(Z=>[{id:`n-net-${Date.now()}`,title:"Back Online",message:"Connection restored. Syncing data...",timestamp:new Date().toISOString(),read:!1},...Z])},q=()=>{se(!1),j(Z=>[{id:`n-net-${Date.now()}`,title:"Offline Mode",message:"You are offline. Changes will be saved locally.",timestamp:new Date().toISOString(),read:!1},...Z])};return window.addEventListener("online",K),window.addEventListener("offline",q),()=>{window.removeEventListener("online",K),window.removeEventListener("offline",q)}},[]),O.useEffect(()=>{const K=localStorage.getItem("zenith_master_license");if(K)try{const q=JSON.parse(K);if(new Date(q.validUntil)>new Date){e(q),o(!1),r(!1);return}else localStorage.removeItem("zenith_master_license")}catch{localStorage.removeItem("zenith_master_license")}r(!1)},[]);const ee=K=>{var q,Z,ae,Pt,Tu,nw;return{id:K.id,email:K.email,name:((q=K.user_metadata)==null?void 0:q.name)||((Z=K.email)==null?void 0:Z.split("@")[0])||"User",role:((ae=K.user_metadata)==null?void 0:ae.role)||ie.Admin,organizationId:((Pt=K.user_metadata)==null?void 0:Pt.organizationId)||(t==null?void 0:t.organizationId),avatarUrl:((Tu=K.user_metadata)==null?void 0:Tu.avatarUrl)||`https://i.pravatar.cc/150?u=${K.id}`,dashboardWidgets:((nw=K.user_metadata)==null?void 0:nw.dashboardWidgets)||vr(ie.Admin),isVerified:K.email_confirmed_at!=null}};O.useEffect(()=>{(async()=>{const{data:{session:Z}}=await Hr.auth.getSession();Z!=null&&Z.user&&(s(ee(Z.user)),U("dashboard")),d(!1)})();const{data:{subscription:q}}=Hr.auth.onAuthStateChange((Z,ae)=>{ae!=null&&ae.user?s(ee(ae.user)):s(null),d(!1)});return()=>q.unsubscribe()},[t]);const Se=async(K,q)=>{u(null);const{error:Z}=await Hr.auth.signInWithPassword({email:K,password:q});Z&&u(Z.message)},be=async(K,q,Z)=>{if(!t)return;u(null);const{error:ae}=await Hr.auth.signUp({email:q,password:Z,options:{data:{name:K,role:ie.Admin,organizationId:t.organizationId,dashboardWidgets:vr(ie.Admin)}}});ae?u(ae.message):alert("Registration successful! Please check your email to verify your account before logging in.")},Ee=async K=>{u(null);const{error:q}=await Hr.auth.resetPasswordForEmail(K,{redirectTo:window.location.origin});q?u(q.message):alert("Password reset link sent to your email.")},gt=async()=>{await Hr.auth.signOut(),s(null),U("dashboard")},_t=()=>{},jt=()=>{},Zt=async K=>{const{error:q}=await Hr.auth.updateUser({password:K});alert(q?q.message:"Password updated successfully!")},st=K=>{localStorage.setItem("zenith_master_license",JSON.stringify(K)),localStorage.removeItem("zenith_trial_start"),e(K),o(!1)},St=()=>{let K=localStorage.getItem("zenith_trial_start");K||(K=new Date().toISOString(),localStorage.setItem("zenith_trial_start",K));const q=new Date(K),ae=Math.abs(new Date().getTime()-q.getTime());if(Math.ceil(ae/(1e3*60*60*24))>vb){alert("Your trial period has expired. Please enter a valid license key to continue.");return}o(!0);const Tu={key:"TRIAL",organizationId:"org_coffee",validUntil:new Date(q.getTime()+vb*864e5).toISOString(),planType:"Standard",status:"Active",maxShops:1/0};e(Tu)},dr=()=>{if(a)if(L)({...L,endTime:new Date().toISOString()},F(null));else{const K={id:`sh${Date.now()}`,userId:a.id,userName:a.name,startTime:new Date().toISOString(),endTime:null};F(K)}},Ae=a==null?void 0:a.organizationId,ps=O.useMemo(()=>h.filter(K=>K.organizationId===Ae),[h,Ae]),Ti=O.useMemo(()=>v.filter(K=>K.organizationId===Ae),[v,Ae]),ms=O.useMemo(()=>b.filter(K=>K.organizationId===Ae),[b,Ae]),Su=O.useMemo(()=>x.filter(K=>K.organizationId===Ae),[x,Ae]),Ch=O.useMemo(()=>T.filter(K=>K.organizationId===Ae),[T,Ae]),kh=O.useMemo(()=>E.filter(K=>K.organizationId===Ae),[E,Ae]),Ph=O.useMemo(()=>C.filter(K=>K.organizationId===Ae),[C,Ae]),Ih=O.useMemo(()=>N.filter(K=>K.organizationId===Ae),[N,Ae]);O.useEffect(()=>{Ae&&we(`Shop (${Ae.substring(0,8).toUpperCase()})`)},[Ae]),O.useEffect(()=>{G?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[G]);const en=I.useCallback(K=>{var q;return((q=n5[Fe])==null?void 0:q[K])||K},[Fe]),Dn=I.useCallback(K=>{const q=Lm[de];return q?`${q.symbol}${(K*q.rate).toFixed(2)}`:`$${K.toFixed(2)}`},[de]),Nh=(K,q)=>{if(!a)return;const Z={...a.dashboardWidgets,[K]:q},ae={...a,dashboardWidgets:Z};s(ae),Hr.auth.updateUser({data:{dashboardWidgets:Z}})},Oh=K=>{if(!a)return;const q=K.total-K.amountPaid,Z={...K,id:`s${Date.now()}`,cashier:a.name,cashierId:a.id,date:new Date().toISOString(),organizationId:Ae};A(ae=>[Z,...ae]),q>0&&K.customerId!=="guest"&&w(ae=>ae.map(Pt=>Pt.id===K.customerId?{...Pt,dueAmount:Pt.dueAmount+q}:Pt))},Mh=(K,q)=>{w(Z=>Z.map(ae=>ae.id===K?{...ae,dueAmount:Math.max(0,ae.dueAmount-q)}:ae))},Eu=K=>{const q={...K,id:`c${Date.now()}`,organizationId:Ae};return w(Z=>[...Z,q]),q},z=(K,q,Z)=>{y(ae=>ae.map(Pt=>Pt.id===K?{...Pt,stock:q}:Pt))};if(n||c)return m.jsx("div",{className:"flex h-screen items-center justify-center dark:bg-neutral-900",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!t)return m.jsx(Lce,{onSuccess:st,onStartTrial:St});if(!a)return m.jsx(Bce,{onLogin:Se,onInitiateRegister:be,onVerifyEmail:_t,onInitiateForgotPassword:Ee,onVerifyResetCode:jt,onResetPassword:Zt,error:l,onClearError:()=>u(null)});const ue=()=>{if(!a)return null;const K={...yn.purchases,formFields:yn.purchases.formFields.map(q=>q.key==="supplierId"?{...q,options:Su.map(Z=>({value:Z.id,label:Z.name}))}:q)};switch(D){case"dashboard":return m.jsx(Que,{products:Ti,user:a,onWidgetChange:Nh,formatCurrency:Dn,t:en,activeLicense:t});case"pos":return m.jsx(uce,{user:a,customers:ms,products:Ti,onAddSale:Oh,onAddCustomer:Eu,heldCarts:R,setHeldCarts:B,formatCurrency:Dn,t:en,businessName:he});case"products":return m.jsx(Ao,{dataType:"products",data:Ti,columns:yn.products.columns,formFields:yn.products.formFields,onAdd:q=>y(Z=>[...Z,{...q,id:`p${Date.now()}`,organizationId:Ae}]),onUpdate:q=>y(Z=>Z.map(ae=>ae.id===q.id?q:ae)),onDelete:q=>y(Z=>Z.filter(ae=>!q.includes(ae.id))),customActions:{onAdjustStock:z},t:en,formatCurrency:Dn});case"customers":return m.jsx(Ao,{dataType:"customers",data:ms,columns:yn.customers.columns,formFields:yn.customers.formFields,onAdd:q=>Eu(q),onUpdate:q=>w(Z=>Z.map(ae=>ae.id===q.id?q:ae)),onDelete:q=>w(Z=>Z.filter(ae=>!q.includes(ae.id))),customActions:{onRecordPayment:Mh},t:en,formatCurrency:Dn});case"employees":return m.jsx(Ao,{dataType:"employees",data:ps,columns:yn.employees.columns,formFields:yn.employees.formFields,onAdd:q=>g(Z=>[...Z,{...q,id:`u${Date.now()}`,organizationId:Ae,dashboardWidgets:vr(q.role)}]),onUpdate:q=>g(Z=>Z.map(ae=>ae.id===q.id?q:ae)),onDelete:q=>g(Z=>Z.filter(ae=>!q.includes(ae.id))),t:en,formatCurrency:Dn});case"suppliers":return m.jsx(Ao,{dataType:"suppliers",data:Su,columns:yn.suppliers.columns,formFields:yn.suppliers.formFields,onAdd:q=>_(Z=>[...Z,{...q,id:`sup${Date.now()}`,organizationId:Ae}]),onUpdate:q=>_(Z=>Z.map(ae=>ae.id===q.id?q:ae)),onDelete:q=>_(Z=>Z.filter(ae=>!q.includes(ae.id))),t:en,formatCurrency:Dn});case"purchases":return m.jsx(Ao,{dataType:"purchases",data:Ch,columns:K.columns,formFields:K.formFields,onAdd:q=>S(Z=>[...Z,{...q,id:`po${Date.now()}`,createdBy:a.name,createdAt:new Date().toISOString(),organizationId:Ae}]),onUpdate:q=>S(Z=>Z.map(ae=>ae.id===q.id?q:ae)),onDelete:q=>S(Z=>Z.filter(ae=>!q.includes(ae.id))),t:en,formatCurrency:Dn});case"expenses":return m.jsx(Ao,{dataType:"expenses",data:Ph,columns:yn.expenses.columns,formFields:yn.expenses.formFields,onAdd:q=>k(Z=>[...Z,{...q,id:`e${Date.now()}`,recordedBy:a.name,organizationId:Ae}]),onUpdate:q=>k(Z=>Z.map(ae=>ae.id===q.id?q:ae)),onDelete:q=>k(Z=>Z.filter(ae=>!q.includes(ae.id))),t:en,formatCurrency:Dn});case"reports":return m.jsx(bce,{sales:kh,users:ps,customers:ms,formatCurrency:Dn});case"settings":return m.jsx($ce,{user:a,employees:ps,isDarkMode:G,toggleDarkMode:()=>ne(!G),businessName:he,setBusinessName:we,businessLogo:_e,setBusinessLogo:Ze,licenseKeys:Ih,setLicenseKeys:P,language:Fe,setLanguage:Q,currency:de,setCurrency:W,t:en});default:return m.jsx(xce,{title:D})}};return m.jsxs("div",{className:`flex h-screen bg-neutral-100 dark:bg-neutral-900 text-neutral-800 dark:text-neutral-100 antialiased ${G?"dark":""}`,children:[m.jsx(A5,{userRole:a.role,activeView:D,setActiveView:U,isOpen:H,setIsOpen:Y,businessName:he,businessLogo:_e,t:en}),m.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[m.jsx(S5,{user:a,onLogout:gt,toggleSidebar:()=>Y(!H),isDarkMode:G,toggleDarkMode:()=>ne(!G),businessName:he,businessLogo:_e,activeView:D,setActiveView:U,notifications:M,setNotifications:j,activeShift:L,onToggleShift:dr,isOnline:$,t:en,isInTrial:i}),m.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-neutral-100 dark:bg-neutral-900 p-6",children:ue()})]}),m.jsx(zce,{})]})}const cO=document.getElementById("root");if(!cO)throw new Error("Could not find root element to mount to");const dhe=Hp.createRoot(cO);dhe.render(m.jsx(I.StrictMode,{children:m.jsx(che,{})}));
