function MO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function RO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var LT={exports:{}},Ef={},UT={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=Symbol.for("react.element"),$O=Symbol.for("react.portal"),DO=Symbol.for("react.fragment"),jO=Symbol.for("react.strict_mode"),LO=Symbol.for("react.profiler"),UO=Symbol.for("react.provider"),BO=Symbol.for("react.context"),FO=Symbol.for("react.forward_ref"),VO=Symbol.for("react.suspense"),zO=Symbol.for("react.memo"),qO=Symbol.for("react.lazy"),mw=Symbol.iterator;function GO(t){return t===null||typeof t!="object"?null:(t=mw&&t[mw]||t["@@iterator"],typeof t=="function"?t:null)}var BT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FT=Object.assign,VT={};function es(t,e,n){this.props=t,this.context=e,this.refs=VT,this.updater=n||BT}es.prototype.isReactComponent={};es.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};es.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zT(){}zT.prototype=es.prototype;function Kv(t,e,n){this.props=t,this.context=e,this.refs=VT,this.updater=n||BT}var Jv=Kv.prototype=new zT;Jv.constructor=Kv;FT(Jv,es.prototype);Jv.isPureReactComponent=!0;var gw=Array.isArray,qT=Object.prototype.hasOwnProperty,Yv={current:null},GT={key:!0,ref:!0,__self:!0,__source:!0};function HT(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)qT.call(e,r)&&!GT.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:xu,type:t,key:o,ref:a,props:i,_owner:Yv.current}}function HO(t,e){return{$$typeof:xu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xv(t){return typeof t=="object"&&t!==null&&t.$$typeof===xu}function WO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vw=/\/+/g;function Jh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WO(""+t.key):e.toString(36)}function Cc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case xu:case $O:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Jh(a,0):r,gw(i)?(n="",t!=null&&(n=t.replace(vw,"$&/")+"/"),Cc(i,e,n,"",function(u){return u})):i!=null&&(Xv(i)&&(i=HO(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(vw,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",gw(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Jh(o,s);a+=Cc(o,e,n,l,i)}else if(l=GO(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Jh(o,s++),a+=Cc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Fu(t,e,n){if(t==null)return t;var r=[],i=0;return Cc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function KO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},kc={transition:null},JO={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:kc,ReactCurrentOwner:Yv};function WT(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Fu,forEach:function(t,e,n){Fu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fu(t,function(){e++}),e},toArray:function(t){return Fu(t,function(e){return e})||[]},only:function(t){if(!Xv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=es;Ee.Fragment=DO;Ee.Profiler=LO;Ee.PureComponent=Kv;Ee.StrictMode=jO;Ee.Suspense=VO;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JO;Ee.act=WT;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=FT({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Yv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)qT.call(e,l)&&!GT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:xu,type:t.type,key:i,ref:o,props:r,_owner:a}};Ee.createContext=function(t){return t={$$typeof:BO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UO,_context:t},t.Consumer=t};Ee.createElement=HT;Ee.createFactory=function(t){var e=HT.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:FO,render:t}};Ee.isValidElement=Xv;Ee.lazy=function(t){return{$$typeof:qO,_payload:{_status:-1,_result:t},_init:KO}};Ee.memo=function(t,e){return{$$typeof:zO,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=kc.transition;kc.transition={};try{t()}finally{kc.transition=e}};Ee.unstable_act=WT;Ee.useCallback=function(t,e){return Xt.current.useCallback(t,e)};Ee.useContext=function(t){return Xt.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return Xt.current.useEffect(t,e)};Ee.useId=function(){return Xt.current.useId()};Ee.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return Xt.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};Ee.useRef=function(t){return Xt.current.useRef(t)};Ee.useState=function(t){return Xt.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return Xt.current.useTransition()};Ee.version="18.3.1";UT.exports=Ee;var N=UT.exports;const I=De(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YO=N,XO=Symbol.for("react.element"),QO=Symbol.for("react.fragment"),ZO=Object.prototype.hasOwnProperty,eM=YO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tM={key:!0,ref:!0,__self:!0,__source:!0};function KT(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)ZO.call(e,r)&&!tM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:XO,type:t,key:o,ref:a,props:i,_owner:eM.current}}Ef.Fragment=QO;Ef.jsx=KT;Ef.jsxs=KT;LT.exports=Ef;var m=LT.exports,om={},JT={exports:{}},_n={},YT={exports:{}},XT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,U){var H=$.length;$.push(U);e:for(;0<H;){var Y=H-1>>>1,W=$[Y];if(0<i(W,U))$[Y]=U,$[H]=W,H=Y;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var U=$[0],H=$.pop();if(H!==U){$[0]=H;e:for(var Y=0,W=$.length,te=W>>>1;Y<te;){var ve=2*(Y+1)-1,xe=$[ve],Ie=ve+1,tt=$[Ie];if(0>i(xe,H))Ie<W&&0>i(tt,xe)?($[Y]=tt,$[Ie]=H,Y=Ie):($[Y]=xe,$[ve]=H,Y=ve);else if(Ie<W&&0>i(tt,H))$[Y]=tt,$[Ie]=H,Y=Ie;else break e}}return U}function i($,U){var H=$.sortIndex-U.sortIndex;return H!==0?H:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,g=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=$)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function T($){if(v=!1,_($),!y)if(n(l)!==null)y=!0,M(S);else{var U=n(u);U!==null&&L(T,U.startTime-$)}}function S($,U){y=!1,v&&(v=!1,w(C),C=-1),g=!0;var H=h;try{for(_(U),d=n(l);d!==null&&(!(d.expirationTime>U)||$&&!O());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var W=Y(d.expirationTime<=U);U=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),_(U)}else r(l);d=n(l)}if(d!==null)var te=!0;else{var ve=n(u);ve!==null&&L(T,ve.startTime-U),te=!1}return te}finally{d=null,h=H,g=!1}}var E=!1,A=null,C=-1,k=5,P=-1;function O(){return!(t.unstable_now()-P<k)}function R(){if(A!==null){var $=t.unstable_now();P=$;var U=!0;try{U=A(!0,$)}finally{U?j():(E=!1,A=null)}}else E=!1}var j;if(typeof b=="function")j=function(){b(R)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,D=B.port2;B.port1.onmessage=R,j=function(){D.postMessage(null)}}else j=function(){x(R,0)};function M($){A=$,E||(E=!0,j())}function L($,U){C=x(function(){$(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,M(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var H=h;h=U;try{return $()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=h;h=$;try{return U()}finally{h=H}},t.unstable_scheduleCallback=function($,U,H){var Y=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Y+H:Y):H=Y,$){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,$={id:c++,callback:U,priorityLevel:$,startTime:H,expirationTime:W,sortIndex:-1},H>Y?($.sortIndex=H,e(u,$),n(l)===null&&$===n(u)&&(v?(w(C),C=-1):v=!0,L(T,H-Y))):($.sortIndex=W,e(l,$),y||g||(y=!0,M(S))),$},t.unstable_shouldYield=O,t.unstable_wrapCallback=function($){var U=h;return function(){var H=h;h=U;try{return $.apply(this,arguments)}finally{h=H}}}})(XT);YT.exports=XT;var nM=YT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rM=N,xn=nM;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QT=new Set,bl={};function _o(t,e){xa(t,e),xa(t+"Capture",e)}function xa(t,e){for(bl[t]=e,t=0;t<e.length;t++)QT.add(e[t])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),am=Object.prototype.hasOwnProperty,iM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yw={},ww={};function oM(t){return am.call(ww,t)?!0:am.call(yw,t)?!1:iM.test(t)?ww[t]=!0:(yw[t]=!0,!1)}function aM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sM(t,e,n,r){if(e===null||typeof e>"u"||aM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qt(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new Qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new Qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new Qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new Qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new Qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new Qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new Qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new Qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new Qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qv=/[\-:]([a-z])/g;function Zv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qv,Zv);Dt[e]=new Qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qv,Zv);Dt[e]=new Qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qv,Zv);Dt[e]=new Qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new Qt(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new Qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ey(t,e,n,r){var i=Dt.hasOwnProperty(e)?Dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sM(e,n,i,r)&&(n=null),r||i===null?oM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zr=rM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vu=Symbol.for("react.element"),qo=Symbol.for("react.portal"),Go=Symbol.for("react.fragment"),ty=Symbol.for("react.strict_mode"),sm=Symbol.for("react.profiler"),ZT=Symbol.for("react.provider"),eA=Symbol.for("react.context"),ny=Symbol.for("react.forward_ref"),lm=Symbol.for("react.suspense"),um=Symbol.for("react.suspense_list"),ry=Symbol.for("react.memo"),ei=Symbol.for("react.lazy"),tA=Symbol.for("react.offscreen"),bw=Symbol.iterator;function Cs(t){return t===null||typeof t!="object"?null:(t=bw&&t[bw]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,Yh;function Js(t){if(Yh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yh=e&&e[1]||""}return`
`+Yh+t}var Xh=!1;function Qh(t,e){if(!t||Xh)return"";Xh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Xh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Js(t):""}function lM(t){switch(t.tag){case 5:return Js(t.type);case 16:return Js("Lazy");case 13:return Js("Suspense");case 19:return Js("SuspenseList");case 0:case 2:case 15:return t=Qh(t.type,!1),t;case 11:return t=Qh(t.type.render,!1),t;case 1:return t=Qh(t.type,!0),t;default:return""}}function cm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Go:return"Fragment";case qo:return"Portal";case sm:return"Profiler";case ty:return"StrictMode";case lm:return"Suspense";case um:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eA:return(t.displayName||"Context")+".Consumer";case ZT:return(t._context.displayName||"Context")+".Provider";case ny:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ry:return e=t.displayName||null,e!==null?e:cm(t.type)||"Memo";case ei:e=t._payload,t=t._init;try{return cm(t(e))}catch{}}return null}function uM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cm(e);case 8:return e===ty?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cM(t){var e=nA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zu(t){t._valueTracker||(t._valueTracker=cM(t))}function rA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dm(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iA(t,e){e=e.checked,e!=null&&ey(t,"checked",e,!1)}function fm(t,e){iA(t,e);var n=_i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hm(t,e.type,n):e.hasOwnProperty("defaultValue")&&hm(t,e.type,_i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _w(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hm(t,e,n){(e!=="number"||zc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ys=Array.isArray;function la(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_i(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function pm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Ys(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_i(n)}}function oA(t,e){var n=_i(e.value),r=_i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ew(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qu,sA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qu=qu||document.createElement("div"),qu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dM=["Webkit","ms","Moz","O"];Object.keys(tl).forEach(function(t){dM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tl[e]=tl[t]})});function lA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||tl.hasOwnProperty(t)&&tl[t]?(""+e).trim():e+"px"}function uA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var fM=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gm(t,e){if(e){if(fM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function vm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ym=null;function iy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wm=null,ua=null,ca=null;function Tw(t){if(t=Eu(t)){if(typeof wm!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Pf(e),wm(t.stateNode,t.type,e))}}function cA(t){ua?ca?ca.push(t):ca=[t]:ua=t}function dA(){if(ua){var t=ua,e=ca;if(ca=ua=null,Tw(t),e)for(t=0;t<e.length;t++)Tw(e[t])}}function fA(t,e){return t(e)}function hA(){}var Zh=!1;function pA(t,e,n){if(Zh)return t(e,n);Zh=!0;try{return fA(t,e,n)}finally{Zh=!1,(ua!==null||ca!==null)&&(hA(),dA())}}function _l(t,e){var n=t.stateNode;if(n===null)return null;var r=Pf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var bm=!1;if($r)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){bm=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{bm=!1}function hM(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var nl=!1,qc=null,Gc=!1,xm=null,pM={onError:function(t){nl=!0,qc=t}};function mM(t,e,n,r,i,o,a,s,l){nl=!1,qc=null,hM.apply(pM,arguments)}function gM(t,e,n,r,i,o,a,s,l){if(mM.apply(this,arguments),nl){if(nl){var u=qc;nl=!1,qc=null}else throw Error(K(198));Gc||(Gc=!0,xm=u)}}function So(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Aw(t){if(So(t)!==t)throw Error(K(188))}function vM(t){var e=t.alternate;if(!e){if(e=So(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Aw(i),t;if(o===r)return Aw(i),e;o=o.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function gA(t){return t=vM(t),t!==null?vA(t):null}function vA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vA(t);if(e!==null)return e;t=t.sibling}return null}var yA=xn.unstable_scheduleCallback,Cw=xn.unstable_cancelCallback,yM=xn.unstable_shouldYield,wM=xn.unstable_requestPaint,dt=xn.unstable_now,bM=xn.unstable_getCurrentPriorityLevel,oy=xn.unstable_ImmediatePriority,wA=xn.unstable_UserBlockingPriority,Hc=xn.unstable_NormalPriority,xM=xn.unstable_LowPriority,bA=xn.unstable_IdlePriority,Tf=null,hr=null;function _M(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(Tf,t,void 0,(t.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:TM,SM=Math.log,EM=Math.LN2;function TM(t){return t>>>=0,t===0?32:31-(SM(t)/EM|0)|0}var Gu=64,Hu=4194304;function Xs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Xs(s):(o&=a,o!==0&&(r=Xs(o)))}else a=n&~i,a!==0?r=Xs(a):o!==0&&(r=Xs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tr(e),i=1<<n,r|=t[n],e&=~i;return r}function AM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-tr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=AM(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function _m(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xA(){var t=Gu;return Gu<<=1,!(Gu&4194240)&&(Gu=64),t}function ep(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _u(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tr(e),t[e]=n}function kM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ay(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $e=0;function _A(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SA,sy,EA,TA,AA,Sm=!1,Wu=[],fi=null,hi=null,pi=null,Sl=new Map,El=new Map,ii=[],PM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kw(t,e){switch(t){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":Sl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(e.pointerId)}}function Ps(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Eu(e),e!==null&&sy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function IM(t,e,n,r,i){switch(e){case"focusin":return fi=Ps(fi,t,e,n,r,i),!0;case"dragenter":return hi=Ps(hi,t,e,n,r,i),!0;case"mouseover":return pi=Ps(pi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Sl.set(o,Ps(Sl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,El.set(o,Ps(El.get(o)||null,t,e,n,r,i)),!0}return!1}function CA(t){var e=Xi(t.target);if(e!==null){var n=So(e);if(n!==null){if(e=n.tag,e===13){if(e=mA(n),e!==null){t.blockedOn=e,AA(t.priority,function(){EA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Em(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ym=r,n.target.dispatchEvent(r),ym=null}else return e=Eu(n),e!==null&&sy(e),t.blockedOn=n,!1;e.shift()}return!0}function Pw(t,e,n){Pc(t)&&n.delete(e)}function NM(){Sm=!1,fi!==null&&Pc(fi)&&(fi=null),hi!==null&&Pc(hi)&&(hi=null),pi!==null&&Pc(pi)&&(pi=null),Sl.forEach(Pw),El.forEach(Pw)}function Is(t,e){t.blockedOn===e&&(t.blockedOn=null,Sm||(Sm=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,NM)))}function Tl(t){function e(i){return Is(i,t)}if(0<Wu.length){Is(Wu[0],t);for(var n=1;n<Wu.length;n++){var r=Wu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fi!==null&&Is(fi,t),hi!==null&&Is(hi,t),pi!==null&&Is(pi,t),Sl.forEach(e),El.forEach(e),n=0;n<ii.length;n++)r=ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)CA(n),n.blockedOn===null&&ii.shift()}var da=zr.ReactCurrentBatchConfig,Kc=!0;function OM(t,e,n,r){var i=$e,o=da.transition;da.transition=null;try{$e=1,ly(t,e,n,r)}finally{$e=i,da.transition=o}}function MM(t,e,n,r){var i=$e,o=da.transition;da.transition=null;try{$e=4,ly(t,e,n,r)}finally{$e=i,da.transition=o}}function ly(t,e,n,r){if(Kc){var i=Em(t,e,n,r);if(i===null)cp(t,e,r,Jc,n),kw(t,r);else if(IM(i,t,e,n,r))r.stopPropagation();else if(kw(t,r),e&4&&-1<PM.indexOf(t)){for(;i!==null;){var o=Eu(i);if(o!==null&&SA(o),o=Em(t,e,n,r),o===null&&cp(t,e,r,Jc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else cp(t,e,r,null,n)}}var Jc=null;function Em(t,e,n,r){if(Jc=null,t=iy(r),t=Xi(t),t!==null)if(e=So(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jc=t,null}function kA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bM()){case oy:return 1;case wA:return 4;case Hc:case xM:return 16;case bA:return 536870912;default:return 16}default:return 16}}var li=null,uy=null,Ic=null;function PA(){if(Ic)return Ic;var t,e=uy,n=e.length,r,i="value"in li?li.value:li.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Ic=i.slice(t,1<r?1-r:void 0)}function Nc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ku(){return!0}function Iw(){return!1}function Sn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ku:Iw,this.isPropagationStopped=Iw,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),e}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cy=Sn(ts),Su=at({},ts,{view:0,detail:0}),RM=Sn(Su),tp,np,Ns,Af=at({},Su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ns&&(Ns&&t.type==="mousemove"?(tp=t.screenX-Ns.screenX,np=t.screenY-Ns.screenY):np=tp=0,Ns=t),tp)},movementY:function(t){return"movementY"in t?t.movementY:np}}),Nw=Sn(Af),$M=at({},Af,{dataTransfer:0}),DM=Sn($M),jM=at({},Su,{relatedTarget:0}),rp=Sn(jM),LM=at({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),UM=Sn(LM),BM=at({},ts,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FM=Sn(BM),VM=at({},ts,{data:0}),Ow=Sn(VM),zM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GM[t])?!!e[t]:!1}function dy(){return HM}var WM=at({},Su,{key:function(t){if(t.key){var e=zM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dy,charCode:function(t){return t.type==="keypress"?Nc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KM=Sn(WM),JM=at({},Af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mw=Sn(JM),YM=at({},Su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dy}),XM=Sn(YM),QM=at({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZM=Sn(QM),eR=at({},Af,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tR=Sn(eR),nR=[9,13,27,32],fy=$r&&"CompositionEvent"in window,rl=null;$r&&"documentMode"in document&&(rl=document.documentMode);var rR=$r&&"TextEvent"in window&&!rl,IA=$r&&(!fy||rl&&8<rl&&11>=rl),Rw=" ",$w=!1;function NA(t,e){switch(t){case"keyup":return nR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ho=!1;function iR(t,e){switch(t){case"compositionend":return OA(e);case"keypress":return e.which!==32?null:($w=!0,Rw);case"textInput":return t=e.data,t===Rw&&$w?null:t;default:return null}}function oR(t,e){if(Ho)return t==="compositionend"||!fy&&NA(t,e)?(t=PA(),Ic=uy=li=null,Ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return IA&&e.locale!=="ko"?null:e.data;default:return null}}var aR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aR[t.type]:e==="textarea"}function MA(t,e,n,r){cA(r),e=Yc(e,"onChange"),0<e.length&&(n=new cy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var il=null,Al=null;function sR(t){qA(t,0)}function Cf(t){var e=Jo(t);if(rA(e))return t}function lR(t,e){if(t==="change")return e}var RA=!1;if($r){var ip;if($r){var op="oninput"in document;if(!op){var jw=document.createElement("div");jw.setAttribute("oninput","return;"),op=typeof jw.oninput=="function"}ip=op}else ip=!1;RA=ip&&(!document.documentMode||9<document.documentMode)}function Lw(){il&&(il.detachEvent("onpropertychange",$A),Al=il=null)}function $A(t){if(t.propertyName==="value"&&Cf(Al)){var e=[];MA(e,Al,t,iy(t)),pA(sR,e)}}function uR(t,e,n){t==="focusin"?(Lw(),il=e,Al=n,il.attachEvent("onpropertychange",$A)):t==="focusout"&&Lw()}function cR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cf(Al)}function dR(t,e){if(t==="click")return Cf(e)}function fR(t,e){if(t==="input"||t==="change")return Cf(e)}function hR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ir=typeof Object.is=="function"?Object.is:hR;function Cl(t,e){if(ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!am.call(e,i)||!ir(t[i],e[i]))return!1}return!0}function Uw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bw(t,e){var n=Uw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uw(n)}}function DA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jA(){for(var t=window,e=zc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zc(t.document)}return e}function hy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pR(t){var e=jA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&DA(n.ownerDocument.documentElement,n)){if(r!==null&&hy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Bw(n,o);var a=Bw(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mR=$r&&"documentMode"in document&&11>=document.documentMode,Wo=null,Tm=null,ol=null,Am=!1;function Fw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Am||Wo==null||Wo!==zc(r)||(r=Wo,"selectionStart"in r&&hy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ol&&Cl(ol,r)||(ol=r,r=Yc(Tm,"onSelect"),0<r.length&&(e=new cy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wo)))}function Ju(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ko={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},ap={},LA={};$r&&(LA=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function kf(t){if(ap[t])return ap[t];if(!Ko[t])return t;var e=Ko[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in LA)return ap[t]=e[n];return t}var UA=kf("animationend"),BA=kf("animationiteration"),FA=kf("animationstart"),VA=kf("transitionend"),zA=new Map,Vw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(t,e){zA.set(t,e),_o(e,[t])}for(var sp=0;sp<Vw.length;sp++){var lp=Vw[sp],gR=lp.toLowerCase(),vR=lp[0].toUpperCase()+lp.slice(1);Ei(gR,"on"+vR)}Ei(UA,"onAnimationEnd");Ei(BA,"onAnimationIteration");Ei(FA,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(VA,"onTransitionEnd");xa("onMouseEnter",["mouseout","mouseover"]);xa("onMouseLeave",["mouseout","mouseover"]);xa("onPointerEnter",["pointerout","pointerover"]);xa("onPointerLeave",["pointerout","pointerover"]);_o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_o("onBeforeInput",["compositionend","keypress","textInput","paste"]);_o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qs));function zw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gM(r,e,void 0,t),t.currentTarget=null}function qA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;zw(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;zw(i,s,u),o=l}}}if(Gc)throw t=xm,Gc=!1,xm=null,t}function Ke(t,e){var n=e[Nm];n===void 0&&(n=e[Nm]=new Set);var r=t+"__bubble";n.has(r)||(GA(e,t,2,!1),n.add(r))}function up(t,e,n){var r=0;e&&(r|=4),GA(n,t,r,e)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function kl(t){if(!t[Yu]){t[Yu]=!0,QT.forEach(function(n){n!=="selectionchange"&&(yR.has(n)||up(n,!1,t),up(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yu]||(e[Yu]=!0,up("selectionchange",!1,e))}}function GA(t,e,n,r){switch(kA(e)){case 1:var i=OM;break;case 4:i=MM;break;default:i=ly}n=i.bind(null,e,n,t),i=void 0,!bm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function cp(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Xi(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}pA(function(){var u=o,c=iy(n),d=[];e:{var h=zA.get(t);if(h!==void 0){var g=cy,y=t;switch(t){case"keypress":if(Nc(n)===0)break e;case"keydown":case"keyup":g=KM;break;case"focusin":y="focus",g=rp;break;case"focusout":y="blur",g=rp;break;case"beforeblur":case"afterblur":g=rp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Nw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=DM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=XM;break;case UA:case BA:case FA:g=UM;break;case VA:g=ZM;break;case"scroll":g=RM;break;case"wheel":g=tR;break;case"copy":case"cut":case"paste":g=FM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Mw}var v=(e&4)!==0,x=!v&&t==="scroll",w=v?h!==null?h+"Capture":null:h;v=[];for(var b=u,_;b!==null;){_=b;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,w!==null&&(T=_l(b,w),T!=null&&v.push(Pl(b,T,_)))),x)break;b=b.return}0<v.length&&(h=new g(h,y,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==ym&&(y=n.relatedTarget||n.fromElement)&&(Xi(y)||y[Dr]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?Xi(y):null,y!==null&&(x=So(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(v=Nw,T="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(v=Mw,T="onPointerLeave",w="onPointerEnter",b="pointer"),x=g==null?h:Jo(g),_=y==null?h:Jo(y),h=new v(T,b+"leave",g,n,c),h.target=x,h.relatedTarget=_,T=null,Xi(c)===u&&(v=new v(w,b+"enter",y,n,c),v.target=_,v.relatedTarget=x,T=v),x=T,g&&y)t:{for(v=g,w=y,b=0,_=v;_;_=No(_))b++;for(_=0,T=w;T;T=No(T))_++;for(;0<b-_;)v=No(v),b--;for(;0<_-b;)w=No(w),_--;for(;b--;){if(v===w||w!==null&&v===w.alternate)break t;v=No(v),w=No(w)}v=null}else v=null;g!==null&&qw(d,h,g,v,!1),y!==null&&x!==null&&qw(d,x,y,v,!0)}}e:{if(h=u?Jo(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=lR;else if(Dw(h))if(RA)S=fR;else{S=cR;var E=uR}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=dR);if(S&&(S=S(t,u))){MA(d,S,n,c);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&hm(h,"number",h.value)}switch(E=u?Jo(u):window,t){case"focusin":(Dw(E)||E.contentEditable==="true")&&(Wo=E,Tm=u,ol=null);break;case"focusout":ol=Tm=Wo=null;break;case"mousedown":Am=!0;break;case"contextmenu":case"mouseup":case"dragend":Am=!1,Fw(d,n,c);break;case"selectionchange":if(mR)break;case"keydown":case"keyup":Fw(d,n,c)}var A;if(fy)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ho?NA(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(IA&&n.locale!=="ko"&&(Ho||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ho&&(A=PA()):(li=c,uy="value"in li?li.value:li.textContent,Ho=!0)),E=Yc(u,C),0<E.length&&(C=new Ow(C,t,null,n,c),d.push({event:C,listeners:E}),A?C.data=A:(A=OA(n),A!==null&&(C.data=A)))),(A=rR?iR(t,n):oR(t,n))&&(u=Yc(u,"onBeforeInput"),0<u.length&&(c=new Ow("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=A))}qA(d,e)})}function Pl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=_l(t,n),o!=null&&r.unshift(Pl(t,o,i)),o=_l(t,e),o!=null&&r.push(Pl(t,o,i))),t=t.return}return r}function No(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qw(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=_l(n,o),l!=null&&a.unshift(Pl(n,l,s))):i||(l=_l(n,o),l!=null&&a.push(Pl(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var wR=/\r\n?/g,bR=/\u0000|\uFFFD/g;function Gw(t){return(typeof t=="string"?t:""+t).replace(wR,`
`).replace(bR,"")}function Xu(t,e,n){if(e=Gw(e),Gw(t)!==e&&n)throw Error(K(425))}function Xc(){}var Cm=null,km=null;function Pm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Im=typeof setTimeout=="function"?setTimeout:void 0,xR=typeof clearTimeout=="function"?clearTimeout:void 0,Hw=typeof Promise=="function"?Promise:void 0,_R=typeof queueMicrotask=="function"?queueMicrotask:typeof Hw<"u"?function(t){return Hw.resolve(null).then(t).catch(SR)}:Im;function SR(t){setTimeout(function(){throw t})}function dp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Tl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tl(e)}function mi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ww(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ns=Math.random().toString(36).slice(2),dr="__reactFiber$"+ns,Il="__reactProps$"+ns,Dr="__reactContainer$"+ns,Nm="__reactEvents$"+ns,ER="__reactListeners$"+ns,TR="__reactHandles$"+ns;function Xi(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dr]||n[dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ww(t);t!==null;){if(n=t[dr])return n;t=Ww(t)}return e}t=n,n=t.parentNode}return null}function Eu(t){return t=t[dr]||t[Dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Pf(t){return t[Il]||null}var Om=[],Yo=-1;function Ti(t){return{current:t}}function Qe(t){0>Yo||(t.current=Om[Yo],Om[Yo]=null,Yo--)}function ze(t,e){Yo++,Om[Yo]=t.current,t.current=e}var Si={},qt=Ti(Si),rn=Ti(!1),co=Si;function _a(t,e){var n=t.type.contextTypes;if(!n)return Si;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function Qc(){Qe(rn),Qe(qt)}function Kw(t,e,n){if(qt.current!==Si)throw Error(K(168));ze(qt,e),ze(rn,n)}function HA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,uM(t)||"Unknown",i));return at({},n,r)}function Zc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Si,co=qt.current,ze(qt,t),ze(rn,rn.current),!0}function Jw(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=HA(t,e,co),r.__reactInternalMemoizedMergedChildContext=t,Qe(rn),Qe(qt),ze(qt,t)):Qe(rn),ze(rn,n)}var Tr=null,If=!1,fp=!1;function WA(t){Tr===null?Tr=[t]:Tr.push(t)}function AR(t){If=!0,WA(t)}function Ai(){if(!fp&&Tr!==null){fp=!0;var t=0,e=$e;try{var n=Tr;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tr=null,If=!1}catch(i){throw Tr!==null&&(Tr=Tr.slice(t+1)),yA(oy,Ai),i}finally{$e=e,fp=!1}}return null}var Xo=[],Qo=0,ed=null,td=0,On=[],Mn=0,fo=null,Ar=1,Cr="";function Fi(t,e){Xo[Qo++]=td,Xo[Qo++]=ed,ed=t,td=e}function KA(t,e,n){On[Mn++]=Ar,On[Mn++]=Cr,On[Mn++]=fo,fo=t;var r=Ar;t=Cr;var i=32-tr(r)-1;r&=~(1<<i),n+=1;var o=32-tr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ar=1<<32-tr(e)+i|n<<i|r,Cr=o+t}else Ar=1<<o|n<<i|r,Cr=t}function py(t){t.return!==null&&(Fi(t,1),KA(t,1,0))}function my(t){for(;t===ed;)ed=Xo[--Qo],Xo[Qo]=null,td=Xo[--Qo],Xo[Qo]=null;for(;t===fo;)fo=On[--Mn],On[Mn]=null,Cr=On[--Mn],On[Mn]=null,Ar=On[--Mn],On[Mn]=null}var yn=null,vn=null,Ze=!1,Zn=null;function JA(t,e){var n=$n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Yw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,vn=mi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fo!==null?{id:Ar,overflow:Cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yn=t,vn=null,!0):!1;default:return!1}}function Mm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rm(t){if(Ze){var e=vn;if(e){var n=e;if(!Yw(t,e)){if(Mm(t))throw Error(K(418));e=mi(n.nextSibling);var r=yn;e&&Yw(t,e)?JA(r,n):(t.flags=t.flags&-4097|2,Ze=!1,yn=t)}}else{if(Mm(t))throw Error(K(418));t.flags=t.flags&-4097|2,Ze=!1,yn=t}}}function Xw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function Qu(t){if(t!==yn)return!1;if(!Ze)return Xw(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pm(t.type,t.memoizedProps)),e&&(e=vn)){if(Mm(t))throw YA(),Error(K(418));for(;e;)JA(t,e),e=mi(e.nextSibling)}if(Xw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vn=mi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=yn?mi(t.stateNode.nextSibling):null;return!0}function YA(){for(var t=vn;t;)t=mi(t.nextSibling)}function Sa(){vn=yn=null,Ze=!1}function gy(t){Zn===null?Zn=[t]:Zn.push(t)}var CR=zr.ReactCurrentBatchConfig;function Os(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Zu(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qw(t){var e=t._init;return e(t._payload)}function XA(t){function e(w,b){if(t){var _=w.deletions;_===null?(w.deletions=[b],w.flags|=16):_.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=wi(w,b),w.index=0,w.sibling=null,w}function o(w,b,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<b?(w.flags|=2,b):_):(w.flags|=2,b)):(w.flags|=1048576,b)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function s(w,b,_,T){return b===null||b.tag!==6?(b=wp(_,w.mode,T),b.return=w,b):(b=i(b,_),b.return=w,b)}function l(w,b,_,T){var S=_.type;return S===Go?c(w,b,_.props.children,T,_.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ei&&Qw(S)===b.type)?(T=i(b,_.props),T.ref=Os(w,b,_),T.return=w,T):(T=Lc(_.type,_.key,_.props,null,w.mode,T),T.ref=Os(w,b,_),T.return=w,T)}function u(w,b,_,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=bp(_,w.mode,T),b.return=w,b):(b=i(b,_.children||[]),b.return=w,b)}function c(w,b,_,T,S){return b===null||b.tag!==7?(b=so(_,w.mode,T,S),b.return=w,b):(b=i(b,_),b.return=w,b)}function d(w,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=wp(""+b,w.mode,_),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vu:return _=Lc(b.type,b.key,b.props,null,w.mode,_),_.ref=Os(w,null,b),_.return=w,_;case qo:return b=bp(b,w.mode,_),b.return=w,b;case ei:var T=b._init;return d(w,T(b._payload),_)}if(Ys(b)||Cs(b))return b=so(b,w.mode,_,null),b.return=w,b;Zu(w,b)}return null}function h(w,b,_,T){var S=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(w,b,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vu:return _.key===S?l(w,b,_,T):null;case qo:return _.key===S?u(w,b,_,T):null;case ei:return S=_._init,h(w,b,S(_._payload),T)}if(Ys(_)||Cs(_))return S!==null?null:c(w,b,_,T,null);Zu(w,_)}return null}function g(w,b,_,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return w=w.get(_)||null,s(b,w,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Vu:return w=w.get(T.key===null?_:T.key)||null,l(b,w,T,S);case qo:return w=w.get(T.key===null?_:T.key)||null,u(b,w,T,S);case ei:var E=T._init;return g(w,b,_,E(T._payload),S)}if(Ys(T)||Cs(T))return w=w.get(_)||null,c(b,w,T,S,null);Zu(b,T)}return null}function y(w,b,_,T){for(var S=null,E=null,A=b,C=b=0,k=null;A!==null&&C<_.length;C++){A.index>C?(k=A,A=null):k=A.sibling;var P=h(w,A,_[C],T);if(P===null){A===null&&(A=k);break}t&&A&&P.alternate===null&&e(w,A),b=o(P,b,C),E===null?S=P:E.sibling=P,E=P,A=k}if(C===_.length)return n(w,A),Ze&&Fi(w,C),S;if(A===null){for(;C<_.length;C++)A=d(w,_[C],T),A!==null&&(b=o(A,b,C),E===null?S=A:E.sibling=A,E=A);return Ze&&Fi(w,C),S}for(A=r(w,A);C<_.length;C++)k=g(A,w,C,_[C],T),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?C:k.key),b=o(k,b,C),E===null?S=k:E.sibling=k,E=k);return t&&A.forEach(function(O){return e(w,O)}),Ze&&Fi(w,C),S}function v(w,b,_,T){var S=Cs(_);if(typeof S!="function")throw Error(K(150));if(_=S.call(_),_==null)throw Error(K(151));for(var E=S=null,A=b,C=b=0,k=null,P=_.next();A!==null&&!P.done;C++,P=_.next()){A.index>C?(k=A,A=null):k=A.sibling;var O=h(w,A,P.value,T);if(O===null){A===null&&(A=k);break}t&&A&&O.alternate===null&&e(w,A),b=o(O,b,C),E===null?S=O:E.sibling=O,E=O,A=k}if(P.done)return n(w,A),Ze&&Fi(w,C),S;if(A===null){for(;!P.done;C++,P=_.next())P=d(w,P.value,T),P!==null&&(b=o(P,b,C),E===null?S=P:E.sibling=P,E=P);return Ze&&Fi(w,C),S}for(A=r(w,A);!P.done;C++,P=_.next())P=g(A,w,C,P.value,T),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?C:P.key),b=o(P,b,C),E===null?S=P:E.sibling=P,E=P);return t&&A.forEach(function(R){return e(w,R)}),Ze&&Fi(w,C),S}function x(w,b,_,T){if(typeof _=="object"&&_!==null&&_.type===Go&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Vu:e:{for(var S=_.key,E=b;E!==null;){if(E.key===S){if(S=_.type,S===Go){if(E.tag===7){n(w,E.sibling),b=i(E,_.props.children),b.return=w,w=b;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ei&&Qw(S)===E.type){n(w,E.sibling),b=i(E,_.props),b.ref=Os(w,E,_),b.return=w,w=b;break e}n(w,E);break}else e(w,E);E=E.sibling}_.type===Go?(b=so(_.props.children,w.mode,T,_.key),b.return=w,w=b):(T=Lc(_.type,_.key,_.props,null,w.mode,T),T.ref=Os(w,b,_),T.return=w,w=T)}return a(w);case qo:e:{for(E=_.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(w,b.sibling),b=i(b,_.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=bp(_,w.mode,T),b.return=w,w=b}return a(w);case ei:return E=_._init,x(w,b,E(_._payload),T)}if(Ys(_))return y(w,b,_,T);if(Cs(_))return v(w,b,_,T);Zu(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(w,b.sibling),b=i(b,_),b.return=w,w=b):(n(w,b),b=wp(_,w.mode,T),b.return=w,w=b),a(w)):n(w,b)}return x}var Ea=XA(!0),QA=XA(!1),nd=Ti(null),rd=null,Zo=null,vy=null;function yy(){vy=Zo=rd=null}function wy(t){var e=nd.current;Qe(nd),t._currentValue=e}function $m(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fa(t,e){rd=t,vy=Zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(vy!==t)if(t={context:t,memoizedValue:e,next:null},Zo===null){if(rd===null)throw Error(K(308));Zo=t,rd.dependencies={lanes:0,firstContext:t}}else Zo=Zo.next=t;return e}var Qi=null;function by(t){Qi===null?Qi=[t]:Qi.push(t)}function ZA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,by(e)):(n.next=i.next,i.next=n),e.interleaved=n,jr(t,r)}function jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ti=!1;function xy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jr(t,n)}return i=r.interleaved,i===null?(e.next=e,by(r)):(e.next=i.next,i.next=e),r.interleaved=e,jr(t,n)}function Oc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ay(t,n)}}function Zw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function id(t,e,n,r){var i=t.updateQueue;ti=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,v=s;switch(h=e,g=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(g,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(g,d,h):y,h==null)break e;d=at({},d,h);break e;case 2:ti=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);po|=a,t.lanes=a,t.memoizedState=d}}function eb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var Tu={},pr=Ti(Tu),Nl=Ti(Tu),Ol=Ti(Tu);function Zi(t){if(t===Tu)throw Error(K(174));return t}function _y(t,e){switch(ze(Ol,e),ze(Nl,t),ze(pr,Tu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mm(e,t)}Qe(pr),ze(pr,e)}function Ta(){Qe(pr),Qe(Nl),Qe(Ol)}function tC(t){Zi(Ol.current);var e=Zi(pr.current),n=mm(e,t.type);e!==n&&(ze(Nl,t),ze(pr,n))}function Sy(t){Nl.current===t&&(Qe(pr),Qe(Nl))}var it=Ti(0);function od(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hp=[];function Ey(){for(var t=0;t<hp.length;t++)hp[t]._workInProgressVersionPrimary=null;hp.length=0}var Mc=zr.ReactCurrentDispatcher,pp=zr.ReactCurrentBatchConfig,ho=0,ot=null,wt=null,At=null,ad=!1,al=!1,Ml=0,kR=0;function Lt(){throw Error(K(321))}function Ty(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ir(t[n],e[n]))return!1;return!0}function Ay(t,e,n,r,i,o){if(ho=o,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mc.current=t===null||t.memoizedState===null?OR:MR,t=n(r,i),al){o=0;do{if(al=!1,Ml=0,25<=o)throw Error(K(301));o+=1,At=wt=null,e.updateQueue=null,Mc.current=RR,t=n(r,i)}while(al)}if(Mc.current=sd,e=wt!==null&&wt.next!==null,ho=0,At=wt=ot=null,ad=!1,e)throw Error(K(300));return t}function Cy(){var t=Ml!==0;return Ml=0,t}function cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?ot.memoizedState=At=t:At=At.next=t,At}function Bn(){if(wt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=At===null?ot.memoizedState:At.next;if(e!==null)At=e,wt=t;else{if(t===null)throw Error(K(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},At===null?ot.memoizedState=At=t:At=At.next=t}return At}function Rl(t,e){return typeof e=="function"?e(t):e}function mp(t){var e=Bn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=wt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((ho&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,ot.lanes|=c,po|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,ir(r,e.memoizedState)||(tn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ot.lanes|=o,po|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gp(t){var e=Bn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);ir(o,e.memoizedState)||(tn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function nC(){}function rC(t,e){var n=ot,r=Bn(),i=e(),o=!ir(r.memoizedState,i);if(o&&(r.memoizedState=i,tn=!0),r=r.queue,ky(aC.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,$l(9,oC.bind(null,n,r,i,e),void 0,null),kt===null)throw Error(K(349));ho&30||iC(n,e,i)}return i}function iC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oC(t,e,n,r){e.value=n,e.getSnapshot=r,sC(e)&&lC(t)}function aC(t,e,n){return n(function(){sC(e)&&lC(t)})}function sC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ir(t,n)}catch{return!0}}function lC(t){var e=jr(t,1);e!==null&&nr(e,t,1,-1)}function tb(t){var e=cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:t},e.queue=t,t=t.dispatch=NR.bind(null,ot,t),[e.memoizedState,t]}function $l(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uC(){return Bn().memoizedState}function Rc(t,e,n,r){var i=cr();ot.flags|=t,i.memoizedState=$l(1|e,n,void 0,r===void 0?null:r)}function Nf(t,e,n,r){var i=Bn();r=r===void 0?null:r;var o=void 0;if(wt!==null){var a=wt.memoizedState;if(o=a.destroy,r!==null&&Ty(r,a.deps)){i.memoizedState=$l(e,n,o,r);return}}ot.flags|=t,i.memoizedState=$l(1|e,n,o,r)}function nb(t,e){return Rc(8390656,8,t,e)}function ky(t,e){return Nf(2048,8,t,e)}function cC(t,e){return Nf(4,2,t,e)}function dC(t,e){return Nf(4,4,t,e)}function fC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hC(t,e,n){return n=n!=null?n.concat([t]):null,Nf(4,4,fC.bind(null,e,t),n)}function Py(){}function pC(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ty(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mC(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ty(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gC(t,e,n){return ho&21?(ir(n,e)||(n=xA(),ot.lanes|=n,po|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=n)}function PR(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=pp.transition;pp.transition={};try{t(!1),e()}finally{$e=n,pp.transition=r}}function vC(){return Bn().memoizedState}function IR(t,e,n){var r=yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yC(t))wC(e,n);else if(n=ZA(t,e,n,r),n!==null){var i=Yt();nr(n,t,r,i),bC(n,e,r)}}function NR(t,e,n){var r=yi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yC(t))wC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,ir(s,a)){var l=e.interleaved;l===null?(i.next=i,by(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ZA(t,e,i,r),n!==null&&(i=Yt(),nr(n,t,r,i),bC(n,e,r))}}function yC(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function wC(t,e){al=ad=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ay(t,n)}}var sd={readContext:Un,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},OR={readContext:Un,useCallback:function(t,e){return cr().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:nb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rc(4194308,4,fC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rc(4,2,t,e)},useMemo:function(t,e){var n=cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IR.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=cr();return t={current:t},e.memoizedState=t},useState:tb,useDebugValue:Py,useDeferredValue:function(t){return cr().memoizedState=t},useTransition:function(){var t=tb(!1),e=t[0];return t=PR.bind(null,t[1]),cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,i=cr();if(Ze){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),kt===null)throw Error(K(349));ho&30||iC(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,nb(aC.bind(null,r,o,t),[t]),r.flags|=2048,$l(9,oC.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=cr(),e=kt.identifierPrefix;if(Ze){var n=Cr,r=Ar;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ml++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MR={readContext:Un,useCallback:pC,useContext:Un,useEffect:ky,useImperativeHandle:hC,useInsertionEffect:cC,useLayoutEffect:dC,useMemo:mC,useReducer:mp,useRef:uC,useState:function(){return mp(Rl)},useDebugValue:Py,useDeferredValue:function(t){var e=Bn();return gC(e,wt.memoizedState,t)},useTransition:function(){var t=mp(Rl)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:nC,useSyncExternalStore:rC,useId:vC,unstable_isNewReconciler:!1},RR={readContext:Un,useCallback:pC,useContext:Un,useEffect:ky,useImperativeHandle:hC,useInsertionEffect:cC,useLayoutEffect:dC,useMemo:mC,useReducer:gp,useRef:uC,useState:function(){return gp(Rl)},useDebugValue:Py,useDeferredValue:function(t){var e=Bn();return wt===null?e.memoizedState=t:gC(e,wt.memoizedState,t)},useTransition:function(){var t=gp(Rl)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:nC,useSyncExternalStore:rC,useId:vC,unstable_isNewReconciler:!1};function Kn(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Dm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Of={isMounted:function(t){return(t=t._reactInternals)?So(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=yi(t),o=Nr(r,i);o.payload=e,n!=null&&(o.callback=n),e=gi(t,o,i),e!==null&&(nr(e,t,i,r),Oc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=yi(t),o=Nr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=gi(t,o,i),e!==null&&(nr(e,t,i,r),Oc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),r=yi(t),i=Nr(n,r);i.tag=2,e!=null&&(i.callback=e),e=gi(t,i,r),e!==null&&(nr(e,t,r,n),Oc(e,t,r))}};function rb(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Cl(n,r)||!Cl(i,o):!0}function xC(t,e,n){var r=!1,i=Si,o=e.contextType;return typeof o=="object"&&o!==null?o=Un(o):(i=on(e)?co:qt.current,r=e.contextTypes,o=(r=r!=null)?_a(t,i):Si),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Of,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ib(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Of.enqueueReplaceState(e,e.state,null)}function jm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},xy(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Un(o):(o=on(e)?co:qt.current,i.context=_a(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Dm(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Of.enqueueReplaceState(i,i.state,null),id(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Aa(t,e){try{var n="",r=e;do n+=lM(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function vp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $R=typeof WeakMap=="function"?WeakMap:Map;function _C(t,e,n){n=Nr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ud||(ud=!0,Km=r),Lm(t,e)},n}function SC(t,e,n){n=Nr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Lm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Lm(t,e),typeof r!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function ob(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $R;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=JR.bind(null,t,e,n),e.then(t,t))}function ab(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Nr(-1,1),e.tag=2,gi(n,e,1))),n.lanes|=1),t)}var DR=zr.ReactCurrentOwner,tn=!1;function Gt(t,e,n,r){e.child=t===null?QA(e,null,n,r):Ea(e,t.child,n,r)}function lb(t,e,n,r,i){n=n.render;var o=e.ref;return fa(e,i),r=Ay(t,e,n,r,o,i),n=Cy(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lr(t,e,i)):(Ze&&n&&py(e),e.flags|=1,Gt(t,e,r,i),e.child)}function ub(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!jy(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,EC(t,e,o,r,i)):(t=Lc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Cl,n(a,r)&&t.ref===e.ref)return Lr(t,e,i)}return e.flags|=1,t=wi(o,r),t.ref=e.ref,t.return=e,e.child=t}function EC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Cl(o,r)&&t.ref===e.ref)if(tn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,Lr(t,e,i)}return Um(t,e,n,r,i)}function TC(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(ta,dn),dn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(ta,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ze(ta,dn),dn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ze(ta,dn),dn|=r;return Gt(t,e,i,n),e.child}function AC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Um(t,e,n,r,i){var o=on(n)?co:qt.current;return o=_a(e,o),fa(e,i),n=Ay(t,e,n,r,o,i),r=Cy(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lr(t,e,i)):(Ze&&r&&py(e),e.flags|=1,Gt(t,e,n,i),e.child)}function cb(t,e,n,r,i){if(on(n)){var o=!0;Zc(e)}else o=!1;if(fa(e,i),e.stateNode===null)$c(t,e),xC(e,n,r),jm(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Un(u):(u=on(n)?co:qt.current,u=_a(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&ib(e,a,r,u),ti=!1;var h=e.memoizedState;a.state=h,id(e,r,a,i),l=e.memoizedState,s!==r||h!==l||rn.current||ti?(typeof c=="function"&&(Dm(e,n,c,r),l=e.memoizedState),(s=ti||rb(e,n,s,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,eC(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Kn(e.type,s),a.props=u,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Un(l):(l=on(n)?co:qt.current,l=_a(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&ib(e,a,r,l),ti=!1,h=e.memoizedState,a.state=h,id(e,r,a,i);var y=e.memoizedState;s!==d||h!==y||rn.current||ti?(typeof g=="function"&&(Dm(e,n,g,r),y=e.memoizedState),(u=ti||rb(e,n,u,r,h,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Bm(t,e,n,r,o,i)}function Bm(t,e,n,r,i,o){AC(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Jw(e,n,!1),Lr(t,e,o);r=e.stateNode,DR.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ea(e,t.child,null,o),e.child=Ea(e,null,s,o)):Gt(t,e,s,o),e.memoizedState=r.state,i&&Jw(e,n,!0),e.child}function CC(t){var e=t.stateNode;e.pendingContext?Kw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kw(t,e.context,!1),_y(t,e.containerInfo)}function db(t,e,n,r,i){return Sa(),gy(i),e.flags|=256,Gt(t,e,n,r),e.child}var Fm={dehydrated:null,treeContext:null,retryLane:0};function Vm(t){return{baseLanes:t,cachePool:null,transitions:null}}function kC(t,e,n){var r=e.pendingProps,i=it.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(it,i&1),t===null)return Rm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=$f(a,r,0,null),t=so(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Vm(n),e.memoizedState=Fm,t):Iy(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return jR(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=wi(s,o):(o=so(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Vm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Fm,r}return o=t.child,t=o.sibling,r=wi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Iy(t,e){return e=$f({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ec(t,e,n,r){return r!==null&&gy(r),Ea(e,t.child,null,n),t=Iy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jR(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=vp(Error(K(422))),ec(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=$f({mode:"visible",children:r.children},i,0,null),o=so(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ea(e,t.child,null,a),e.child.memoizedState=Vm(a),e.memoizedState=Fm,o);if(!(e.mode&1))return ec(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(K(419)),r=vp(o,r,void 0),ec(t,e,a,r)}if(s=(a&t.childLanes)!==0,tn||s){if(r=kt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,jr(t,i),nr(r,t,i,-1))}return Dy(),r=vp(Error(K(421))),ec(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=YR.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,vn=mi(i.nextSibling),yn=e,Ze=!0,Zn=null,t!==null&&(On[Mn++]=Ar,On[Mn++]=Cr,On[Mn++]=fo,Ar=t.id,Cr=t.overflow,fo=e),e=Iy(e,r.children),e.flags|=4096,e)}function fb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$m(t.return,e,n)}function yp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function PC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Gt(t,e,r.children,n),r=it.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fb(t,n,e);else if(t.tag===19)fb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(it,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&od(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&od(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yp(e,!0,n,null,o);break;case"together":yp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Lr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),po|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LR(t,e,n){switch(e.tag){case 3:CC(e),Sa();break;case 5:tC(e);break;case 1:on(e.type)&&Zc(e);break;case 4:_y(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(nd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(it,it.current&1),e.flags|=128,null):n&e.child.childLanes?kC(t,e,n):(ze(it,it.current&1),t=Lr(t,e,n),t!==null?t.sibling:null);ze(it,it.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return PC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(it,it.current),r)break;return null;case 22:case 23:return e.lanes=0,TC(t,e,n)}return Lr(t,e,n)}var IC,zm,NC,OC;IC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zm=function(){};NC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zi(pr.current);var o=null;switch(n){case"input":i=dm(t,i),r=dm(t,r),o=[];break;case"select":i=at({},i,{value:void 0}),r=at({},r,{value:void 0}),o=[];break;case"textarea":i=pm(t,i),r=pm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xc)}gm(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ke("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};OC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ms(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UR(t,e,n){var r=e.pendingProps;switch(my(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return on(e.type)&&Qc(),Ut(e),null;case 3:return r=e.stateNode,Ta(),Qe(rn),Qe(qt),Ey(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zn!==null&&(Xm(Zn),Zn=null))),zm(t,e),Ut(e),null;case 5:Sy(e);var i=Zi(Ol.current);if(n=e.type,t!==null&&e.stateNode!=null)NC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Ut(e),null}if(t=Zi(pr.current),Qu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[dr]=e,r[Il]=o,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(i=0;i<Qs.length;i++)Ke(Qs[i],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":xw(r,o),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ke("invalid",r);break;case"textarea":Sw(r,o),Ke("invalid",r)}gm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Xu(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Xu(r.textContent,s,t),i=["children",""+s]):bl.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ke("scroll",r)}switch(n){case"input":zu(r),_w(r,o,!0);break;case"textarea":zu(r),Ew(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Xc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[dr]=e,t[Il]=r,IC(t,e,!1,!1),e.stateNode=t;e:{switch(a=vm(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),i=r;break;case"iframe":case"object":case"embed":Ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qs.length;i++)Ke(Qs[i],t);i=r;break;case"source":Ke("error",t),i=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),i=r;break;case"details":Ke("toggle",t),i=r;break;case"input":xw(t,r),i=dm(t,r),Ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=at({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":Sw(t,r),i=pm(t,r),Ke("invalid",t);break;default:i=r}gm(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?uA(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sA(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xl(t,l):typeof l=="number"&&xl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(bl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ke("scroll",t):l!=null&&ey(t,o,l,a))}switch(n){case"input":zu(t),_w(t,r,!1);break;case"textarea":zu(t),Ew(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_i(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?la(t,!!r.multiple,o,!1):r.defaultValue!=null&&la(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)OC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=Zi(Ol.current),Zi(pr.current),Qu(e)){if(r=e.stateNode,n=e.memoizedProps,r[dr]=e,(o=r.nodeValue!==n)&&(t=yn,t!==null))switch(t.tag){case 3:Xu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=e,e.stateNode=r}return Ut(e),null;case 13:if(Qe(it),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&vn!==null&&e.mode&1&&!(e.flags&128))YA(),Sa(),e.flags|=98560,o=!1;else if(o=Qu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(K(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));o[dr]=e}else Sa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),o=!1}else Zn!==null&&(Xm(Zn),Zn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?xt===0&&(xt=3):Dy())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return Ta(),zm(t,e),t===null&&kl(e.stateNode.containerInfo),Ut(e),null;case 10:return wy(e.type._context),Ut(e),null;case 17:return on(e.type)&&Qc(),Ut(e),null;case 19:if(Qe(it),o=e.memoizedState,o===null)return Ut(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Ms(o,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=od(t),a!==null){for(e.flags|=128,Ms(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(it,it.current&1|2),e.child}t=t.sibling}o.tail!==null&&dt()>Ca&&(e.flags|=128,r=!0,Ms(o,!1),e.lanes=4194304)}else{if(!r)if(t=od(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ms(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ze)return Ut(e),null}else 2*dt()-o.renderingStartTime>Ca&&n!==1073741824&&(e.flags|=128,r=!0,Ms(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=dt(),e.sibling=null,n=it.current,ze(it,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return $y(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function BR(t,e){switch(my(e),e.tag){case 1:return on(e.type)&&Qc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ta(),Qe(rn),Qe(qt),Ey(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sy(e),null;case 13:if(Qe(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Sa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(it),null;case 4:return Ta(),null;case 10:return wy(e.type._context),null;case 22:case 23:return $y(),null;case 24:return null;default:return null}}var tc=!1,Ft=!1,FR=typeof WeakSet=="function"?WeakSet:Set,re=null;function ea(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function qm(t,e,n){try{n()}catch(r){lt(t,e,r)}}var hb=!1;function VR(t,e){if(Cm=Kc,t=jA(),hy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(km={focusedElem:t,selectionRange:n},Kc=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,x=y.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:Kn(e.type,v),x);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(T){lt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return y=hb,hb=!1,y}function sl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&qm(e,n,o)}i=i.next}while(i!==r)}}function Mf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function MC(t){var e=t.alternate;e!==null&&(t.alternate=null,MC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dr],delete e[Il],delete e[Nm],delete e[ER],delete e[TR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RC(t){return t.tag===5||t.tag===3||t.tag===4}function pb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xc));else if(r!==4&&(t=t.child,t!==null))for(Hm(t,e,n),t=t.sibling;t!==null;)Hm(t,e,n),t=t.sibling}function Wm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Wm(t,e,n),t=t.sibling;t!==null;)Wm(t,e,n),t=t.sibling}var Rt=null,Yn=!1;function Qr(t,e,n){for(n=n.child;n!==null;)$C(t,e,n),n=n.sibling}function $C(t,e,n){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(Tf,n)}catch{}switch(n.tag){case 5:Ft||ea(n,e);case 6:var r=Rt,i=Yn;Rt=null,Qr(t,e,n),Rt=r,Yn=i,Rt!==null&&(Yn?(t=Rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rt.removeChild(n.stateNode));break;case 18:Rt!==null&&(Yn?(t=Rt,n=n.stateNode,t.nodeType===8?dp(t.parentNode,n):t.nodeType===1&&dp(t,n),Tl(t)):dp(Rt,n.stateNode));break;case 4:r=Rt,i=Yn,Rt=n.stateNode.containerInfo,Yn=!0,Qr(t,e,n),Rt=r,Yn=i;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&qm(n,e,a),i=i.next}while(i!==r)}Qr(t,e,n);break;case 1:if(!Ft&&(ea(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){lt(n,e,s)}Qr(t,e,n);break;case 21:Qr(t,e,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,Qr(t,e,n),Ft=r):Qr(t,e,n);break;default:Qr(t,e,n)}}function mb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new FR),e.forEach(function(r){var i=XR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Rt=s.stateNode,Yn=!1;break e;case 3:Rt=s.stateNode.containerInfo,Yn=!0;break e;case 4:Rt=s.stateNode.containerInfo,Yn=!0;break e}s=s.return}if(Rt===null)throw Error(K(160));$C(o,a,i),Rt=null,Yn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){lt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DC(e,t),e=e.sibling}function DC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gn(e,t),lr(t),r&4){try{sl(3,t,t.return),Mf(3,t)}catch(v){lt(t,t.return,v)}try{sl(5,t,t.return)}catch(v){lt(t,t.return,v)}}break;case 1:Gn(e,t),lr(t),r&512&&n!==null&&ea(n,n.return);break;case 5:if(Gn(e,t),lr(t),r&512&&n!==null&&ea(n,n.return),t.flags&32){var i=t.stateNode;try{xl(i,"")}catch(v){lt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&iA(i,o),vm(s,a);var u=vm(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?uA(i,d):c==="dangerouslySetInnerHTML"?sA(i,d):c==="children"?xl(i,d):ey(i,c,d,u)}switch(s){case"input":fm(i,o);break;case"textarea":oA(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?la(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?la(i,!!o.multiple,o.defaultValue,!0):la(i,!!o.multiple,o.multiple?[]:"",!1))}i[Il]=o}catch(v){lt(t,t.return,v)}}break;case 6:if(Gn(e,t),lr(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){lt(t,t.return,v)}}break;case 3:if(Gn(e,t),lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tl(e.containerInfo)}catch(v){lt(t,t.return,v)}break;case 4:Gn(e,t),lr(t);break;case 13:Gn(e,t),lr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(My=dt())),r&4&&mb(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(u=Ft)||c,Gn(e,t),Ft=u):Gn(e,t),lr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(re=t,c=t.child;c!==null;){for(d=re=c;re!==null;){switch(h=re,g=h.child,h.tag){case 0:case 11:case 14:case 15:sl(4,h,h.return);break;case 1:ea(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){lt(r,n,v)}}break;case 5:ea(h,h.return);break;case 22:if(h.memoizedState!==null){vb(d);continue}}g!==null?(g.return=h,re=g):vb(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=lA("display",a))}catch(v){lt(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){lt(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Gn(e,t),lr(t),r&4&&mb(t);break;case 21:break;default:Gn(e,t),lr(t)}}function lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(RC(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xl(i,""),r.flags&=-33);var o=pb(t);Wm(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=pb(t);Hm(t,s,a);break;default:throw Error(K(161))}}catch(l){lt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zR(t,e,n){re=t,jC(t)}function jC(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||tc;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Ft;s=tc;var u=Ft;if(tc=a,(Ft=l)&&!u)for(re=i;re!==null;)a=re,l=a.child,a.tag===22&&a.memoizedState!==null?yb(i):l!==null?(l.return=a,re=l):yb(i);for(;o!==null;)re=o,jC(o),o=o.sibling;re=i,tc=s,Ft=u}gb(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,re=o):gb(t)}}function gb(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||Mf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Kn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&eb(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}eb(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Tl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Ft||e.flags&512&&Gm(e)}catch(h){lt(e,e.return,h)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function vb(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function yb(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mf(4,e)}catch(l){lt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){lt(e,i,l)}}var o=e.return;try{Gm(e)}catch(l){lt(e,o,l)}break;case 5:var a=e.return;try{Gm(e)}catch(l){lt(e,a,l)}}}catch(l){lt(e,e.return,l)}if(e===t){re=null;break}var s=e.sibling;if(s!==null){s.return=e.return,re=s;break}re=e.return}}var qR=Math.ceil,ld=zr.ReactCurrentDispatcher,Ny=zr.ReactCurrentOwner,jn=zr.ReactCurrentBatchConfig,Ae=0,kt=null,pt=null,$t=0,dn=0,ta=Ti(0),xt=0,Dl=null,po=0,Rf=0,Oy=0,ll=null,en=null,My=0,Ca=1/0,_r=null,ud=!1,Km=null,vi=null,nc=!1,ui=null,cd=0,ul=0,Jm=null,Dc=-1,jc=0;function Yt(){return Ae&6?dt():Dc!==-1?Dc:Dc=dt()}function yi(t){return t.mode&1?Ae&2&&$t!==0?$t&-$t:CR.transition!==null?(jc===0&&(jc=xA()),jc):(t=$e,t!==0||(t=window.event,t=t===void 0?16:kA(t.type)),t):1}function nr(t,e,n,r){if(50<ul)throw ul=0,Jm=null,Error(K(185));_u(t,n,r),(!(Ae&2)||t!==kt)&&(t===kt&&(!(Ae&2)&&(Rf|=n),xt===4&&oi(t,$t)),an(t,r),n===1&&Ae===0&&!(e.mode&1)&&(Ca=dt()+500,If&&Ai()))}function an(t,e){var n=t.callbackNode;CM(t,e);var r=Wc(t,t===kt?$t:0);if(r===0)n!==null&&Cw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Cw(n),e===1)t.tag===0?AR(wb.bind(null,t)):WA(wb.bind(null,t)),_R(function(){!(Ae&6)&&Ai()}),n=null;else{switch(_A(r)){case 1:n=oy;break;case 4:n=wA;break;case 16:n=Hc;break;case 536870912:n=bA;break;default:n=Hc}n=GC(n,LC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function LC(t,e){if(Dc=-1,jc=0,Ae&6)throw Error(K(327));var n=t.callbackNode;if(ha()&&t.callbackNode!==n)return null;var r=Wc(t,t===kt?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dd(t,r);else{e=r;var i=Ae;Ae|=2;var o=BC();(kt!==t||$t!==e)&&(_r=null,Ca=dt()+500,ao(t,e));do try{WR();break}catch(s){UC(t,s)}while(!0);yy(),ld.current=o,Ae=i,pt!==null?e=0:(kt=null,$t=0,e=xt)}if(e!==0){if(e===2&&(i=_m(t),i!==0&&(r=i,e=Ym(t,i))),e===1)throw n=Dl,ao(t,0),oi(t,r),an(t,dt()),n;if(e===6)oi(t,r);else{if(i=t.current.alternate,!(r&30)&&!GR(i)&&(e=dd(t,r),e===2&&(o=_m(t),o!==0&&(r=o,e=Ym(t,o))),e===1))throw n=Dl,ao(t,0),oi(t,r),an(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:Vi(t,en,_r);break;case 3:if(oi(t,r),(r&130023424)===r&&(e=My+500-dt(),10<e)){if(Wc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Im(Vi.bind(null,t,en,_r),e);break}Vi(t,en,_r);break;case 4:if(oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-tr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qR(r/1960))-r,10<r){t.timeoutHandle=Im(Vi.bind(null,t,en,_r),r);break}Vi(t,en,_r);break;case 5:Vi(t,en,_r);break;default:throw Error(K(329))}}}return an(t,dt()),t.callbackNode===n?LC.bind(null,t):null}function Ym(t,e){var n=ll;return t.current.memoizedState.isDehydrated&&(ao(t,e).flags|=256),t=dd(t,e),t!==2&&(e=en,en=n,e!==null&&Xm(e)),t}function Xm(t){en===null?en=t:en.push.apply(en,t)}function GR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ir(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e){for(e&=~Oy,e&=~Rf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tr(e),r=1<<n;t[n]=-1,e&=~r}}function wb(t){if(Ae&6)throw Error(K(327));ha();var e=Wc(t,0);if(!(e&1))return an(t,dt()),null;var n=dd(t,e);if(t.tag!==0&&n===2){var r=_m(t);r!==0&&(e=r,n=Ym(t,r))}if(n===1)throw n=Dl,ao(t,0),oi(t,e),an(t,dt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vi(t,en,_r),an(t,dt()),null}function Ry(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(Ca=dt()+500,If&&Ai())}}function mo(t){ui!==null&&ui.tag===0&&!(Ae&6)&&ha();var e=Ae;Ae|=1;var n=jn.transition,r=$e;try{if(jn.transition=null,$e=1,t)return t()}finally{$e=r,jn.transition=n,Ae=e,!(Ae&6)&&Ai()}}function $y(){dn=ta.current,Qe(ta)}function ao(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xR(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(my(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qc();break;case 3:Ta(),Qe(rn),Qe(qt),Ey();break;case 5:Sy(r);break;case 4:Ta();break;case 13:Qe(it);break;case 19:Qe(it);break;case 10:wy(r.type._context);break;case 22:case 23:$y()}n=n.return}if(kt=t,pt=t=wi(t.current,null),$t=dn=e,xt=0,Dl=null,Oy=Rf=po=0,en=ll=null,Qi!==null){for(e=0;e<Qi.length;e++)if(n=Qi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Qi=null}return t}function UC(t,e){do{var n=pt;try{if(yy(),Mc.current=sd,ad){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ad=!1}if(ho=0,At=wt=ot=null,al=!1,Ml=0,Ny.current=null,n===null||n.return===null){xt=1,Dl=e,pt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=$t,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=ab(a);if(g!==null){g.flags&=-257,sb(g,a,s,o,e),g.mode&1&&ob(o,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){ob(o,u,e),Dy();break e}l=Error(K(426))}}else if(Ze&&s.mode&1){var x=ab(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),sb(x,a,s,o,e),gy(Aa(l,s));break e}}o=l=Aa(l,s),xt!==4&&(xt=2),ll===null?ll=[o]:ll.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=_C(o,l,e);Zw(o,w);break e;case 1:s=l;var b=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(vi===null||!vi.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=SC(o,s,e);Zw(o,T);break e}}o=o.return}while(o!==null)}VC(n)}catch(S){e=S,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function BC(){var t=ld.current;return ld.current=sd,t===null?sd:t}function Dy(){(xt===0||xt===3||xt===2)&&(xt=4),kt===null||!(po&268435455)&&!(Rf&268435455)||oi(kt,$t)}function dd(t,e){var n=Ae;Ae|=2;var r=BC();(kt!==t||$t!==e)&&(_r=null,ao(t,e));do try{HR();break}catch(i){UC(t,i)}while(!0);if(yy(),Ae=n,ld.current=r,pt!==null)throw Error(K(261));return kt=null,$t=0,xt}function HR(){for(;pt!==null;)FC(pt)}function WR(){for(;pt!==null&&!yM();)FC(pt)}function FC(t){var e=qC(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?VC(t):pt=e,Ny.current=null}function VC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=BR(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,pt=null;return}}else if(n=UR(n,e,dn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);xt===0&&(xt=5)}function Vi(t,e,n){var r=$e,i=jn.transition;try{jn.transition=null,$e=1,KR(t,e,n,r)}finally{jn.transition=i,$e=r}return null}function KR(t,e,n,r){do ha();while(ui!==null);if(Ae&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(kM(t,o),t===kt&&(pt=kt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nc||(nc=!0,GC(Hc,function(){return ha(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=jn.transition,jn.transition=null;var a=$e;$e=1;var s=Ae;Ae|=4,Ny.current=null,VR(t,n),DC(n,t),pR(km),Kc=!!Cm,km=Cm=null,t.current=n,zR(n),wM(),Ae=s,$e=a,jn.transition=o}else t.current=n;if(nc&&(nc=!1,ui=t,cd=i),o=t.pendingLanes,o===0&&(vi=null),_M(n.stateNode),an(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ud)throw ud=!1,t=Km,Km=null,t;return cd&1&&t.tag!==0&&ha(),o=t.pendingLanes,o&1?t===Jm?ul++:(ul=0,Jm=t):ul=0,Ai(),null}function ha(){if(ui!==null){var t=_A(cd),e=jn.transition,n=$e;try{if(jn.transition=null,$e=16>t?16:t,ui===null)var r=!1;else{if(t=ui,ui=null,cd=0,Ae&6)throw Error(K(331));var i=Ae;for(Ae|=4,re=t.current;re!==null;){var o=re,a=o.child;if(re.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(re=u;re!==null;){var c=re;switch(c.tag){case 0:case 11:case 15:sl(8,c,o)}var d=c.child;if(d!==null)d.return=c,re=d;else for(;re!==null;){c=re;var h=c.sibling,g=c.return;if(MC(c),c===u){re=null;break}if(h!==null){h.return=g,re=h;break}re=g}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}re=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,re=a;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:sl(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,re=w;break e}re=o.return}}var b=t.current;for(re=b;re!==null;){a=re;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,re=_;else e:for(a=b;re!==null;){if(s=re,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Mf(9,s)}}catch(S){lt(s,s.return,S)}if(s===a){re=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,re=T;break e}re=s.return}}if(Ae=i,Ai(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(Tf,t)}catch{}r=!0}return r}finally{$e=n,jn.transition=e}}return!1}function bb(t,e,n){e=Aa(n,e),e=_C(t,e,1),t=gi(t,e,1),e=Yt(),t!==null&&(_u(t,1,e),an(t,e))}function lt(t,e,n){if(t.tag===3)bb(t,t,n);else for(;e!==null;){if(e.tag===3){bb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vi===null||!vi.has(r))){t=Aa(n,t),t=SC(e,t,1),e=gi(e,t,1),t=Yt(),e!==null&&(_u(e,1,t),an(e,t));break}}e=e.return}}function JR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&($t&n)===n&&(xt===4||xt===3&&($t&130023424)===$t&&500>dt()-My?ao(t,0):Oy|=n),an(t,e)}function zC(t,e){e===0&&(t.mode&1?(e=Hu,Hu<<=1,!(Hu&130023424)&&(Hu=4194304)):e=1);var n=Yt();t=jr(t,e),t!==null&&(_u(t,e,n),an(t,n))}function YR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zC(t,n)}function XR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),zC(t,n)}var qC;qC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tn=!1,LR(t,e,n);tn=!!(t.flags&131072)}else tn=!1,Ze&&e.flags&1048576&&KA(e,td,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$c(t,e),t=e.pendingProps;var i=_a(e,qt.current);fa(e,n),i=Ay(null,e,r,t,i,n);var o=Cy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(o=!0,Zc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xy(e),i.updater=Of,e.stateNode=i,i._reactInternals=e,jm(e,r,t,n),e=Bm(null,e,r,!0,o,n)):(e.tag=0,Ze&&o&&py(e),Gt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($c(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ZR(r),t=Kn(r,t),i){case 0:e=Um(null,e,r,t,n);break e;case 1:e=cb(null,e,r,t,n);break e;case 11:e=lb(null,e,r,t,n);break e;case 14:e=ub(null,e,r,Kn(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kn(r,i),Um(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kn(r,i),cb(t,e,r,i,n);case 3:e:{if(CC(e),t===null)throw Error(K(387));r=e.pendingProps,o=e.memoizedState,i=o.element,eC(t,e),id(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Aa(Error(K(423)),e),e=db(t,e,r,n,i);break e}else if(r!==i){i=Aa(Error(K(424)),e),e=db(t,e,r,n,i);break e}else for(vn=mi(e.stateNode.containerInfo.firstChild),yn=e,Ze=!0,Zn=null,n=QA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sa(),r===i){e=Lr(t,e,n);break e}Gt(t,e,r,n)}e=e.child}return e;case 5:return tC(e),t===null&&Rm(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Pm(r,i)?a=null:o!==null&&Pm(r,o)&&(e.flags|=32),AC(t,e),Gt(t,e,a,n),e.child;case 6:return t===null&&Rm(e),null;case 13:return kC(t,e,n);case 4:return _y(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ea(e,null,r,n):Gt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kn(r,i),lb(t,e,r,i,n);case 7:return Gt(t,e,e.pendingProps,n),e.child;case 8:return Gt(t,e,e.pendingProps.children,n),e.child;case 12:return Gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,ze(nd,r._currentValue),r._currentValue=a,o!==null)if(ir(o.value,a)){if(o.children===i.children&&!rn.current){e=Lr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Nr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$m(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(K(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),$m(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Gt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fa(e,n),i=Un(i),r=r(i),e.flags|=1,Gt(t,e,r,n),e.child;case 14:return r=e.type,i=Kn(r,e.pendingProps),i=Kn(r.type,i),ub(t,e,r,i,n);case 15:return EC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kn(r,i),$c(t,e),e.tag=1,on(r)?(t=!0,Zc(e)):t=!1,fa(e,n),xC(e,r,i),jm(e,r,i,n),Bm(null,e,r,!0,t,n);case 19:return PC(t,e,n);case 22:return TC(t,e,n)}throw Error(K(156,e.tag))};function GC(t,e){return yA(t,e)}function QR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,e,n,r){return new QR(t,e,n,r)}function jy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZR(t){if(typeof t=="function")return jy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ny)return 11;if(t===ry)return 14}return 2}function wi(t,e){var n=t.alternate;return n===null?(n=$n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lc(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")jy(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Go:return so(n.children,i,o,e);case ty:a=8,i|=8;break;case sm:return t=$n(12,n,e,i|2),t.elementType=sm,t.lanes=o,t;case lm:return t=$n(13,n,e,i),t.elementType=lm,t.lanes=o,t;case um:return t=$n(19,n,e,i),t.elementType=um,t.lanes=o,t;case tA:return $f(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZT:a=10;break e;case eA:a=9;break e;case ny:a=11;break e;case ry:a=14;break e;case ei:a=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=$n(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function so(t,e,n,r){return t=$n(7,t,r,e),t.lanes=n,t}function $f(t,e,n,r){return t=$n(22,t,r,e),t.elementType=tA,t.lanes=n,t.stateNode={isHidden:!1},t}function wp(t,e,n){return t=$n(6,t,null,e),t.lanes=n,t}function bp(t,e,n){return e=$n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function e$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ep(0),this.expirationTimes=ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ep(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ly(t,e,n,r,i,o,a,s,l){return t=new e$(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=$n(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xy(o),t}function t$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function HC(t){if(!t)return Si;t=t._reactInternals;e:{if(So(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(on(n))return HA(t,n,e)}return e}function WC(t,e,n,r,i,o,a,s,l){return t=Ly(n,r,!0,t,i,o,a,s,l),t.context=HC(null),n=t.current,r=Yt(),i=yi(n),o=Nr(r,i),o.callback=e??null,gi(n,o,i),t.current.lanes=i,_u(t,i,r),an(t,r),t}function Df(t,e,n,r){var i=e.current,o=Yt(),a=yi(i);return n=HC(n),e.context===null?e.context=n:e.pendingContext=n,e=Nr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gi(i,e,a),t!==null&&(nr(t,i,a,o),Oc(t,i,a)),a}function fd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uy(t,e){xb(t,e),(t=t.alternate)&&xb(t,e)}function n$(){return null}var KC=typeof reportError=="function"?reportError:function(t){console.error(t)};function By(t){this._internalRoot=t}jf.prototype.render=By.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Df(t,e,null,null)};jf.prototype.unmount=By.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mo(function(){Df(null,t,null,null)}),e[Dr]=null}};function jf(t){this._internalRoot=t}jf.prototype.unstable_scheduleHydration=function(t){if(t){var e=TA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ii.length&&e!==0&&e<ii[n].priority;n++);ii.splice(n,0,t),n===0&&CA(t)}};function Fy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _b(){}function r$(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=fd(a);o.call(u)}}var a=WC(e,r,t,0,null,!1,!1,"",_b);return t._reactRootContainer=a,t[Dr]=a.current,kl(t.nodeType===8?t.parentNode:t),mo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=fd(l);s.call(u)}}var l=Ly(t,0,!1,null,null,!1,!1,"",_b);return t._reactRootContainer=l,t[Dr]=l.current,kl(t.nodeType===8?t.parentNode:t),mo(function(){Df(e,l,n,r)}),l}function Uf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=fd(a);s.call(l)}}Df(e,a,t,i)}else a=r$(n,e,t,i,r);return fd(a)}SA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xs(e.pendingLanes);n!==0&&(ay(e,n|1),an(e,dt()),!(Ae&6)&&(Ca=dt()+500,Ai()))}break;case 13:mo(function(){var r=jr(t,1);if(r!==null){var i=Yt();nr(r,t,1,i)}}),Uy(t,1)}};sy=function(t){if(t.tag===13){var e=jr(t,134217728);if(e!==null){var n=Yt();nr(e,t,134217728,n)}Uy(t,134217728)}};EA=function(t){if(t.tag===13){var e=yi(t),n=jr(t,e);if(n!==null){var r=Yt();nr(n,t,e,r)}Uy(t,e)}};TA=function(){return $e};AA=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};wm=function(t,e,n){switch(e){case"input":if(fm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Pf(r);if(!i)throw Error(K(90));rA(r),fm(r,i)}}}break;case"textarea":oA(t,n);break;case"select":e=n.value,e!=null&&la(t,!!n.multiple,e,!1)}};fA=Ry;hA=mo;var i$={usingClientEntryPoint:!1,Events:[Eu,Jo,Pf,cA,dA,Ry]},Rs={findFiberByHostInstance:Xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o$={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gA(t),t===null?null:t.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance||n$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{Tf=rc.inject(o$),hr=rc}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i$;_n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fy(e))throw Error(K(200));return t$(t,e,null,n)};_n.createRoot=function(t,e){if(!Fy(t))throw Error(K(299));var n=!1,r="",i=KC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ly(t,1,!1,null,null,n,!1,r,i),t[Dr]=e.current,kl(t.nodeType===8?t.parentNode:t),new By(e)};_n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=gA(e),t=t===null?null:t.stateNode,t};_n.flushSync=function(t){return mo(t)};_n.hydrate=function(t,e,n){if(!Lf(e))throw Error(K(200));return Uf(null,t,e,!0,n)};_n.hydrateRoot=function(t,e,n){if(!Fy(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=KC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=WC(e,null,t,1,n??null,i,!1,o,a),t[Dr]=e.current,kl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new jf(e)};_n.render=function(t,e,n){if(!Lf(e))throw Error(K(200));return Uf(null,t,e,!1,n)};_n.unmountComponentAtNode=function(t){if(!Lf(t))throw Error(K(40));return t._reactRootContainer?(mo(function(){Uf(null,null,t,!1,function(){t._reactRootContainer=null,t[Dr]=null})}),!0):!1};_n.unstable_batchedUpdates=Ry;_n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Lf(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Uf(t,e,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function JC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JC)}catch(t){console.error(t)}}JC(),JT.exports=_n;var a$=JT.exports,Sb=a$;om.createRoot=Sb.createRoot,om.hydrateRoot=Sb.hydrateRoot;var we=(t=>(t.Admin="Admin",t.Manager="Manager",t.Cashier="Cashier",t.Viewer="Viewer",t))(we||{});const YC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),XC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})}),QC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962c.513-.96 1.487-1.591 2.571-1.591h1.69c1.084 0 2.058.631 2.571 1.591m-1.5-4.87c.966-.054 1.932.026 2.867.231m-8.686.461a9.083 9.083 0 01-2.233-1.527m-5.145-2.747a6.75 6.75 0 01-1.025-2.185m-2.522-3.238a6.75 6.75 0 00-1.025 2.185m8.686 4.61a9.083 9.083 0 01-2.233 1.527m5.145 2.747a6.75 6.75 0 001.025 2.185m2.522 3.238a6.75 6.75 0 011.025-2.185m-8.686-4.61a9.083 9.083 0 002.233-1.527m-5.145-2.747a6.75 6.75 0 01-1.025-2.185m-2.522-3.238a6.75 6.75 0 00-1.025 2.185"})}),ZC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.003c0 1.113.285 2.16.786 3.07M15 19.128c.331.149.661.296.992.443m-7.007-4.668a2.25 2.25 0 01-.02-3.956 2.25 2.25 0 013.976.02 2.25 2.25 0 01-.02 3.956 2.25 2.25 0 01-3.976-.02zM12 15.75l-4.243 4.243M12 15.75l4.243 4.243m-8.486-4.243L12 15.75l-4.243-4.243m4.243-4.243L12 11.25l-4.243 4.243M12 3v.01M16.5 4.5l.01.01M21 8.25v.01M21 12v.01M21 15.75v.01M16.5 19.5l.01.01M12 21v.01M7.5 19.5l-.01.01M3 15.75v.01M3 12v.01M3 8.25v.01M7.5 4.5l-.01.01"})}),s$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-1.007 1.11-1.226.55-.22 1.156-.169 1.664.13a4.902 4.902 0 012.016 3.033h.003c.184 1.487.054 3.023-.384 4.484.09.09.182.178.27.264.47.442.823.979 1.05 1.58.227.602.268 1.25.122 1.867-.146.617-.458 1.18-.9 1.637a4.902 4.902 0 01-6.108 2.368c-1.897-.732-3.56-2.22-4.32-4.13a4.893 4.893 0 01.164-5.32c.532-.733 1.28-1.343 2.146-1.757.513-.246 1.06-.401 1.617-.464.089-.006.177-.013.266-.02zM12 9a3 3 0 100 6 3 3 0 000-6z"})}),Eb=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125v-12.75a1.125 1.125 0 011.125-1.125h17.25a1.125 1.125 0 011.125 1.125v12.75a1.125 1.125 0 01-1.125 1.125m-17.25 0h.009v.008h-.009v-.008zm1.688 0h.009v.008h-.009v-.008zm1.687 0h.009v.008h-.009v-.008zm1.688 0h.009v.008h-.009v-.008zm1.687 0h.009v.008h-.009v-.008zM8.25 6h7.5M8.25 9h7.5m-7.5 3h7.5"})}),ek=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c.51 0 .962-.343 1.087-.835l1.823-6.423a.75.75 0 00-.674-.928H5.216c-.464 0-.893.261-.928.704L3.63 10.25l-1.38-4.853A.75.75 0 001.5 5.25H2.25"})}),l$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.516.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})}),u$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125v-4.25m16 4.25a1.5 1.5 0 003 0m-3 0a1.5 1.5 0 01-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})}),tk=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})}),c$=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.593l6.002-4.591c.828-.426.828-1.506 0-1.932l-6.002-4.591a2.02 2.02 0 00-1.607-.24L9.568 3z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),d$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})}),f$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"})}),h$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A11.953 11.953 0 0012 10.5c-2.998 0-5.74-1.1-7.843-2.918"})}),p$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008H12v-.008z"})}),m$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),g$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),v$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),y$=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 013.75 9.375v-4.5zM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 01-1.125-1.125v-4.5zM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0113.5 9.375v-4.5z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 15.375a.75.75 0 01.75-.75h4.5a.75.75 0 010 1.5h-4.5a.75.75 0 01-.75-.75zM13.5 18.375a.75.75 0 01.75-.75h4.5a.75.75 0 010 1.5h-4.5a.75.75 0 01-.75-.75z"})]}),w$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 017.424 0M5.136 11.886c3.87-3.87 10.154-3.87 14.024 0M19.5 18a.75.75 0 100-1.5.75.75 0 000 1.5z"})}),b$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 004.5 4.5H18a3.75 3.75 0 001.332-7.257 3 3 0 00-2.357-5.022 3.75 3.75 0 00-6.502-2.327 4.5 4.5 0 00-9 5.25z"})}),x$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),rs={ChartBarIcon:YC,CubeIcon:XC,UserGroupIcon:QC,UsersIcon:ZC,ShoppingCartIcon:ek,KeyIcon:l$,BanknotesIcon:tk,TagIcon:c$,ChatBubbleLeftRightIcon:d$,PrinterIcon:f$,GlobeAltIcon:h$,ShieldCheckIcon:p$,XMarkIcon:m$,BuildingStorefrontIcon:g$,ArrowUpTrayIcon:v$,QrCodeIcon:y$,WifiIcon:w$,CloudIcon:b$,TrashIcon:x$},_$=[{name:"Dashboard",path:"dashboard",icon:YC,roles:[we.Admin,we.Manager,we.Viewer]},{name:"POS",path:"pos",icon:ek,roles:[we.Admin,we.Manager,we.Cashier]},{name:"Products",path:"products",icon:XC,roles:[we.Admin,we.Manager]},{name:"Customers",path:"customers",icon:QC,roles:[we.Admin,we.Manager,we.Cashier]},{name:"Employees",path:"employees",icon:ZC,roles:[we.Admin]},{name:"Suppliers",path:"suppliers",icon:u$,roles:[we.Admin,we.Manager]},{name:"Purchases",path:"purchases",icon:Eb,roles:[we.Admin,we.Manager]},{name:"Expenses",path:"expenses",icon:tk,roles:[we.Admin,we.Manager]},{name:"Reports",path:"reports",icon:Eb,roles:[we.Admin,we.Manager,we.Viewer]},{name:"Settings",path:"settings",icon:s$,roles:[we.Admin,we.Manager,we.Cashier]}],S$=[{id:"totalRevenue",name:"Total Revenue"},{id:"newCustomers",name:"New Customers"},{id:"productsSold",name:"Products Sold"},{id:"todaysTransactions",name:"Todays Transactions"},{id:"licenseActivations",name:"License Activations"},{id:"salesOverview",name:"Sales Overview"},{id:"topProducts",name:"Top Products"},{id:"recentActivity",name:"Recent Activity"},{id:"lowStockAlerts",name:"Low Stock Alerts"},{id:"aiInsights",name:"AI-Powered Insights"}],eo=t=>{switch(t){case we.Admin:return{totalRevenue:!0,newCustomers:!0,productsSold:!0,todaysTransactions:!0,salesOverview:!0,topProducts:!0,recentActivity:!0,lowStockAlerts:!0,aiInsights:!0,licenseActivations:!0};case we.Manager:return{totalRevenue:!0,productsSold:!0,salesOverview:!0,topProducts:!0,recentActivity:!0,lowStockAlerts:!0};case we.Cashier:return{todaysTransactions:!0,productsSold:!0,lowStockAlerts:!0};case we.Viewer:return{totalRevenue:!0,salesOverview:!0,topProducts:!0};default:return{}}},An={products:{columns:[{key:"imageUrl",header:"Image",render:t=>m.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-10 h-10 rounded-md object-cover"})},{key:"name",header:"Name"},{key:"sku",header:"SKU"},{key:"category",header:"Category"},{key:"price",header:"Price",render:t=>`$${t.price.toFixed(2)}`},{key:"stock",header:"Stock"}],formFields:[{key:"name",label:"Product Name",type:"text",required:!0},{key:"sku",label:"SKU (Stock Keeping Unit)",type:"text",required:!0},{key:"price",label:"Price",type:"number",required:!0},{key:"stock",label:"Stock Quantity",type:"number",required:!0},{key:"category",label:"Category",type:"text"},{key:"brand",label:"Brand",type:"text"},{key:"unit",label:"Unit (e.g., kg, pc)",type:"text"},{key:"lowStockThreshold",label:"Low Stock Alert Threshold",type:"number"},{key:"imageUrl",label:"Product Image",type:"image"}]},customers:{columns:[{key:"name",header:"Name"},{key:"phone",header:"Phone"},{key:"email",header:"Email"},{key:"loyaltyPoints",header:"Loyalty Points"},{key:"dueAmount",header:"Due Amount",render:t=>`$${t.dueAmount.toFixed(2)}`}],formFields:[{key:"name",label:"Customer Name",type:"text",required:!0},{key:"phone",label:"Phone Number",type:"text",required:!0},{key:"email",label:"Email Address",type:"email"},{key:"creditLimit",label:"Credit Limit",type:"number"}]},employees:{columns:[{key:"avatarUrl",header:"Avatar",render:t=>m.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-10 h-10 rounded-full object-cover"})},{key:"name",header:"Name"},{key:"email",header:"Email"},{key:"role",header:"Role"}],formFields:[{key:"name",label:"Full Name",type:"text",required:!0},{key:"email",label:"Email Address",type:"email",required:!0},{key:"password",label:"Password",type:"password",required:!0},{key:"role",label:"Role",type:"select",required:!0,options:Object.values(we).map(t=>({value:t,label:t}))},{key:"avatarUrl",label:"Avatar Image",type:"image"}]},suppliers:{columns:[{key:"name",header:"Supplier Name"},{key:"contactPerson",header:"Contact Person"},{key:"phone",header:"Phone"},{key:"email",header:"Email"}],formFields:[{key:"name",label:"Supplier Name",type:"text",required:!0},{key:"contactPerson",label:"Contact Person",type:"text"},{key:"phone",label:"Phone Number",type:"text",required:!0},{key:"email",label:"Email Address",type:"email"}]},purchases:{columns:[{key:"id",header:"Order ID"},{key:"supplierName",header:"Supplier"},{key:"createdAt",header:"Date",render:t=>new Date(t.createdAt).toLocaleDateString()},{key:"total",header:"Total",render:t=>`$${t.total.toFixed(2)}`},{key:"status",header:"Status"}],formFields:[{key:"supplierId",label:"Supplier",type:"select",required:!0,options:[]},{key:"status",label:"Status",type:"select",required:!0,options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]}]},expenses:{columns:[{key:"date",header:"Date",render:t=>new Date(t.date).toLocaleDateString()},{key:"category",header:"Category"},{key:"description",header:"Description"},{key:"amount",header:"Amount",render:t=>`$${t.amount.toFixed(2)}`},{key:"recordedBy",header:"Recorded By"}],formFields:[{key:"date",label:"Date",type:"date",required:!0},{key:"category",label:"Category",type:"text",required:!0},{key:"description",label:"Description",type:"text"},{key:"amount",label:"Amount",type:"number",required:!0}]}},E$=[{id:"store_1",name:"Main Branch",location:"New York",organizationId:"org_trial"},{id:"store_2",name:"Downtown Satellite",location:"Los Angeles",organizationId:"org_trial"}],Tb=[{id:"u1",name:"Zia Uddin",email:"ziauddin537000@gmail.com",password:"admin",role:we.Admin,avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026704d",dashboardWidgets:eo(we.Admin),organizationId:"org_trial",storeAccess:["all"]},{id:"u2",name:"Jane Smith",email:"manager@example.com",password:"password",role:we.Manager,avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026704e",dashboardWidgets:eo(we.Manager),organizationId:"org_trial",storeAccess:["store_1"]},{id:"u3",name:"Mike Johnson",email:"cashier@example.com",password:"password",role:we.Cashier,avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026704f",dashboardWidgets:eo(we.Cashier),organizationId:"org_trial",storeAccess:["store_2"]},{id:"u4",name:"Emily Davis",email:"viewer@example.com",password:"password",role:we.Viewer,avatarUrl:"https://i.pravatar.cc/150?u=a042581f4e29026704g",dashboardWidgets:eo(we.Viewer),organizationId:"org_trial",storeAccess:["all"]},{id:"superadmin",name:"Super Admin",email:"superadmin@zenith.com",password:"superadmin123!",role:we.Admin,avatarUrl:"https://i.pravatar.cc/150?u=superadmin",dashboardWidgets:{},storeAccess:["all"]}],T$=[{id:"p1",name:"Zenith Signature Coffee Beans",category:"Coffee",price:18.99,stock:120,sku:"ZCB-001",brand:"Zenith",unit:"kg",lowStockThreshold:20,imageUrl:"https://images.unsplash.com/photo-1559440618-b54a44186c34?q=80&w=2070&auto=format&fit=crop",organizationId:"org_trial",storeId:"store_1"},{id:"p2",name:"Artisan Sourdough Bread",category:"Bakery",price:6.5,stock:35,sku:"ASB-002",brand:"Local Bakery",unit:"loaf",lowStockThreshold:10,imageUrl:"https://images.unsplash.com/photo-1534623225019-160876432831?q=80&w=2070&auto=format&fit=crop",organizationId:"org_trial",storeId:"store_1"},{id:"p3",name:"Organic Green Tea",category:"Tea",price:12,stock:80,sku:"OGT-003",brand:"PureLeaf",unit:"box",lowStockThreshold:15,imageUrl:"https://images.unsplash.com/photo-1627435601361-ec25f2b74413?q=80&w=1965&auto=format&fit=crop",organizationId:"org_trial",storeId:"store_2"},{id:"p4",name:"Stainless Steel Water Bottle",category:"Merchandise",price:25,stock:50,sku:"SSWB-004",brand:"Zenith",unit:"pc",lowStockThreshold:5,imageUrl:"https://images.unsplash.com/photo-1610399432243-c36314f8a1d7?q=80&w=1974&auto=format&fit=crop",organizationId:"org_trial",storeId:"store_2"}],A$=[{id:"c1",name:"Alice Williams",phone:"555-0101",email:"alice@example.com",loyaltyPoints:250,dueAmount:55.2,creditLimit:200,organizationId:"org_trial",storeId:"store_1"},{id:"c2",name:"Bob Brown",phone:"555-0102",email:"bob@example.com",loyaltyPoints:120,dueAmount:0,organizationId:"org_trial",storeId:"store_2"}],C$=[{id:"s1",date:"2023-10-26T10:00:00Z",total:42.99,cashier:"Mike Johnson",cashierId:"u3",items:2,customerId:"c1",customerName:"Alice Williams",amountPaid:42.99,paymentMethod:"Card",organizationId:"org_trial",storeId:"store_2"},{id:"s2",date:"2023-10-26T11:30:00Z",total:12.5,cashier:"Mike Johnson",cashierId:"u3",items:1,customerId:"guest",customerName:"Guest",amountPaid:15,paymentMethod:"Cash",organizationId:"org_trial",storeId:"store_2"}],k$=[{name:"Mon",sales:4e3},{name:"Tue",sales:3e3},{name:"Wed",sales:2e3},{name:"Thu",sales:2780},{name:"Fri",sales:1890},{name:"Sat",sales:2390},{name:"Sun",sales:3490}],Ab=[{name:"Coffee Beans",value:400},{name:"Sourdough Bread",value:300},{name:"Green Tea",value:300},{name:"Water Bottle",value:200}],P$=[{id:"al1",user:"Zia Uddin",action:"updated system settings",timestamp:"2023-10-27T14:30:00Z"},{id:"al2",user:"Jane Smith",action:'added a new product "Croissant"',timestamp:"2023-10-27T14:00:00Z"},{id:"al3",user:"Mike Johnson",action:"processed sale #s2",timestamp:"2023-10-27T13:45:00Z"}],I$=[{id:"lk1",key:"DEV-AB12CD",assignedToUserId:"u3",assignedToUserName:"Mike Johnson",status:"Active",validity:"Lifetime",deviceName:"Main Counter",organizationId:"org_trial",storeId:"store_1"},{id:"lk2",key:"DEV-EF45GH",assignedToUserId:"",assignedToUserName:"Unassigned",status:"Revoked",validity:"Lifetime",deviceName:"Warehouse Tablet",organizationId:"org_trial",storeId:"store_2"}],N$=[{id:"n1",title:"Low Stock Alert",message:"Zenith Signature Coffee Beans are running low (15 left).",timestamp:new Date().toISOString(),read:!1,link:"products"},{id:"n2",title:"New Feature",message:"AI-Powered Insights are now available on your dashboard!",timestamp:new Date(Date.now()-36e5).toISOString(),read:!0}],O$=[{id:"sup1",name:"Global Coffee Importers",contactPerson:"John Doe",phone:"123-456-7890",email:"j.doe@gci.com",organizationId:"org_trial",storeId:"store_1"},{id:"sup2",name:"Artisan Bakery Co-op",contactPerson:"Mary Jane",phone:"987-654-3210",email:"mary@abcoop.com",organizationId:"org_trial",storeId:"store_2"}],M$=[{id:"po1",supplierId:"sup1",supplierName:"Global Coffee Importers",status:"Completed",items:[{productId:"p1",productName:"Coffee",quantity:50,cost:10}],total:500,createdAt:new Date().toISOString(),createdBy:"Jane Smith",organizationId:"org_trial",storeId:"store_1"},{id:"po2",supplierId:"sup2",supplierName:"Artisan Bakery Co-op",status:"Pending",items:[],total:150,createdAt:new Date().toISOString(),createdBy:"Jane Smith",organizationId:"org_trial",storeId:"store_2"}],R$=[{id:"e1",category:"Rent",description:"October Rent",amount:1500,date:new Date().toISOString(),recordedBy:"Zia Uddin",organizationId:"org_trial",storeId:"store_1"},{id:"e2",category:"Utilities",description:"Electricity Bill",amount:250,date:new Date().toISOString(),recordedBy:"Zia Uddin",organizationId:"org_trial",storeId:"store_2"}],Cb=7,kb=.01,$$={en:{Dashboard:"Dashboard",POS:"POS",Products:"Products",Customers:"Customers",Employees:"Employees",Suppliers:"Suppliers",Purchases:"Purchases",Expenses:"Expenses",Reports:"Reports",Settings:"Settings","Total Revenue":"Total Revenue","New Customers":"New Customers","Products Sold":"Products Sold","Todays Transactions":"Todays Transactions","Shift Started":"Shift Started",Online:"Online",Offline:"Offline","Clock Out":"Clock Out","Clock In":"Clock In",Search:"Search or Scan Barcode...","Current Order":"Current Order",Hold:"Hold","Clear Cart":"Clear Cart",Subtotal:"Subtotal",Tax:"Tax",Total:"Total",Charge:"Charge","Payment Success":"Payment Success","Out of Stock":"Out of Stock!","Stock Limit Exceeded":"Stock limit for this item has been reached!","Manage Products":"Manage Products","Manage Customers":"Manage Customers","Manage Employees":"Manage Employees","Manage Suppliers":"Manage Suppliers","Manage Purchases":"Manage Purchases","Manage Expenses":"Manage Expenses","Add New":"Add New","Import CSV":"Import CSV","Print Labels":"Print Labels","System User Guide":"System User Guide","Guide Intro":"Welcome to the Zenith POS User Guide. This guide will help you understand and use all the features of the system effectively. Click on any section below to expand it.",guide_title_1:"Dashboard & Analytics",guide_content_1:`The Dashboard provides a real-time overview of your business. 
- **Summary Cards:** Quick stats like Total Revenue, New Customers, etc.
- **Charts:** Visualize your Sales Overview and Top Selling Products.
- **AI Insights:** (Premium/Enterprise Plan) Ask business-related questions and get data-driven advice from our AI assistant.
- **Low Stock Alerts:** Instantly see products that are running low based on the threshold you set.
- **Customize:** Click the 'Customize' button to show or hide widgets based on your role and preference.`,guide_title_2:"Point of Sale (POS)",guide_content_2:`The POS screen is designed for fast and efficient checkouts.
- **Product Search:** Use the search bar or a barcode scanner to find products quickly.
- **Cart Management:** Click on products to add them to the cart. Adjust quantity or apply item-specific discounts using the tag icon.
- **Customer:** Add a new customer or search for an existing one. This is required for credit sales.
- **Hold/Resume:** Use the 'Hold' button to save a cart for later. Resume it from the clock icon.
- **Payment:** Click 'Charge' to open the payment modal. You can accept Cash, Card, or assign the sale to a customer's credit.
- **Stock Update:** After each successful sale, the stock levels of the sold products are automatically updated.`,guide_title_3:"Data Management (Products, Customers, etc.)",guide_content_3:`The Management section allows you to handle all your core business data.
- **View & Edit:** Click on any management tab (e.g., Products) to see a list of all items.
- **Add New:** Use the 'Add New' button to create a new entry.
- **Delete:** Select items using the checkboxes and use the 'Delete Selected' button, or delete individual items from the actions column.
- **Import CSV:** For products, you can bulk-upload your inventory using a CSV file. The format should be: Name,Price,Stock,Category,SKU.
- **Print Labels:** Select products and click 'Print Labels' to generate barcode labels for them.`,guide_title_4:"Multi-Store Management (Enterprise Plan)",guide_content_4:`Zenith POS allows you to manage multiple branches from a single account.
- **Switching Stores:** Click on your profile icon in the top-right header. A dropdown menu will appear allowing you to select a specific store or the 'All Stores (Global View)'.
- **Global View:** Shows combined data and analytics from all your branches.
- **Store View:** Filters all data (Dashboard, POS, Management) to show information for the selected store only.
- **Adding Employees:** You must select a specific store view before you can add a new employee. They will be automatically assigned to that store.
- **Managing Stores:** As an Admin, you can add or delete stores from the 'Store Management' card in the Settings page.`,guide_title_5:"Profile & Security",guide_content_5:`Manage your personal account details and security settings.
- **Profile:** Update your name, profile picture, and phone number. Your phone number is important for account recovery.
- **Password:** Change your password by providing your current and new password. For security, we recommend changing it periodically.`,guide_title_6:"License & Activation",guide_content_6:`This section is for Admins to manage the system's license.
- **Master License:** View your current plan, status, and expiry date. You can update your license with a new key here.
- **Trial Mode:** If you are on a trial, this section will allow you to enter a key to activate the full version. Activating from trial will reset demo data.
- **Deactivate:** You can deactivate the license on the current device. This will log you out and require you to activate the software again.
- **Device Keys:** Generate and manage keys for other POS terminals in your store.`,guide_title_7:"System Settings",guide_content_7:`Configure system-wide settings for your business.
- **Localization:** Change the application's language (English/Bangla) and default currency.
- **Business Config:** Set your business name and default tax rate. You can also upload a business logo which will appear on the header and receipts.
- **Data Management:** It is highly recommended to periodically back up your data. Use the 'Backup Data' button to download a file containing all your important information. You can restore from this file using the 'Restore Data' button.`,guide_title_8:"Reports",guide_content_8:`Analyze your business performance with detailed reports.
- **Filters:** Use the filters at the top to narrow down your sales data by date range, cashier, or customer.
- **Summary:** Get quick insights with summary cards for total revenue, transactions, and average sale value.
- **Chart:** The sales trend chart visualizes your performance over the selected period.
- **Transaction List:** See a detailed list of all sales that match your filters.
- **Export:** Export the filtered report data to a CSV or XLSX file for accounting or further analysis.`,"Close Guide":"Close Guide","Shift Started Notification":"You have successfully clocked in.","Shift Ended Notification":"You have successfully clocked out.","Shift Update":"Shift Update","Low Stock Alert":"Low Stock Alert","is running low":"is running low"},bn:{Dashboard:"",POS:" ",Products:"",Customers:"",Employees:"",Suppliers:"",Purchases:"",Expenses:"",Reports:"",Settings:"","Total Revenue":" ","New Customers":" ","Products Sold":" ","Todays Transactions":" ","Shift Started":"  ",Online:"",Offline:"","Clock Out":" ","Clock In":" ",Search:"    ...","Current Order":" ",Hold:"","Clear Cart":"  ",Subtotal:"",Tax:"",Total:"",Charge:"","Payment Success":" ","Out of Stock":" !","Stock Limit Exceeded":"     !","Manage Products":" ","Manage Customers":" ","Manage Employees":" ","Manage Suppliers":" ","Manage Purchases":" ","Manage Expenses":" ","Add New":"  ","Import CSV":"CSV ","Print Labels":" ","System User Guide":"  ","Guide Intro":"Zenith POS                       ",guide_title_1:"  ",guide_content_1:`    -   
- ** :**  ,       
- **:**        
- **AI :** (/ ) -      AI    -  
- ** :**             
- **:**          ''   `,guide_title_2:"   (POS)",guide_content_2:`POS         
- ** :**          
- ** :**                    
- **:**             
- **/:**        ''          
- **:**    ''    ,       
- ** :**    ,        `,guide_title_3:"  (,  )",guide_content_3:`          
- **   :**        (, )  
- **  :**      'Add New'   
- ** :**        'Delete Selected'   ,     einzeln   
- **CSV :**  ,   CSV      -    : Name,Price,Stock,Category,SKU
- ** :**         'Print Labels'  `,guide_title_4:"-  ( )",guide_content_4:`Zenith POS         
- ** :**                   'All Stores (Global View)'   
- ** :**        
- ** :**      (, POS, )   
- ** :**                    
- ** :**  ,    'Store Management'        `,guide_title_5:"  ",guide_content_5:`        
- **:**  ,              
- **:**             ,       `,guide_title_6:"  ",guide_content_6:`        
- ** :**   ,                  
- ** :**     ,                       
- **:**                     
- ** :**    POS        `,guide_title_7:" ",guide_content_7:`   -   
- **:**   (/)     
- ** :**                      
- ** :**                    'Backup Data'     'Restore Data'         `,guide_title_8:"",guide_content_8:`       
- **:**  ,             
- **:**  ,            
- **:**          
- ** :**           
- **:**           CSV  XLSX   `,"Close Guide":"  ","Shift Started Notification":"    ","Shift Ended Notification":"    ","Shift Update":" ","Low Stock Alert":" ","is running low":" "}},nk={USD:{symbol:"$",rate:1},BDT:{symbol:"",rate:117.5},EUR:{symbol:"",rate:.92},INR:{symbol:"",rate:83.5}},D$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.95-4.243l-1.591 1.591M5.25 12H3m4.243-4.95l1.591-1.591M12 9a3 3 0 100 6 3 3 0 000-6z"})}),j$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25c0 5.385 4.365 9.75 9.75 9.75 2.572 0 4.92-.99 6.697-2.648z"})}),L$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),U$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),Pb=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.052-.143z",clipRule:"evenodd"})}),Ib=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),{WifiIcon:B$,CloudIcon:F$,GlobeAltIcon:V$}=rs,z$=({user:t,onLogout:e,toggleSidebar:n,isDarkMode:r,toggleDarkMode:i,businessName:o,businessLogo:a,activeView:s,setActiveView:l,notifications:u,setNotifications:c,activeShift:d,onToggleShift:h,isOnline:g,t:y,isInTrial:v,activeStoreId:x,setActiveStoreId:w,accessibleStores:b,allStores:_})=>{const[T,S]=I.useState(!1),[E,A]=I.useState(!1),C=I.useRef(null),k=I.useRef(null),P=u.filter(D=>!D.read).length,O=D=>{D.link&&l(D.link),c(M=>M.map(L=>L.id===D.id?{...L,read:!0}:L)),A(!1)},R=()=>{c(D=>D.map(M=>({...M,read:!0})))},j=()=>{l("settings"),S(!1)},B=I.useMemo(()=>{const D=_.find(M=>M.id===x);return D?D.name:x==="global"?`${o} (Global)`:o},[x,_,o]);return I.useEffect(()=>{const D=M=>{C.current&&!C.current.contains(M.target)&&A(!1),k.current&&!k.current.contains(M.target)&&S(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]),m.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-sm shadow-sm flex flex-col",children:[v&&m.jsxs("div",{className:"bg-amber-500 text-white text-xs font-bold text-center py-1 flex justify-center items-center gap-2",children:[m.jsx("span",{children:" 7-DAY FREE TRIAL MODE"}),m.jsx("span",{className:"hidden sm:inline",children:" - Full features available."}),m.jsx("button",{onClick:()=>l("settings"),className:"underline hover:text-amber-100 ml-2",children:"Activate Now"})]}),m.jsxs("div",{className:"grid grid-cols-3 items-center h-16 px-4 md:px-6 w-full",children:[m.jsxs("div",{className:"flex items-center justify-start gap-4",children:[m.jsx("button",{onClick:n,className:"lg:hidden text-neutral-600 dark:text-neutral-300",children:m.jsx(U$,{className:"w-6 h-6"})}),d&&m.jsxs("div",{className:"hidden sm:flex items-center gap-2 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 text-xs font-semibold px-3 py-1.5 rounded-full",children:[m.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),m.jsxs("span",{children:[y("Shift Started"),": ",new Date(d.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a?m.jsx("img",{src:a,alt:"Business Logo",className:"h-8 w-8 object-contain"}):m.jsx(Ib,{className:"h-8 w-8 text-primary-600"}),m.jsx("h1",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-100 truncate",children:B})]}),m.jsxs("div",{className:"flex items-center justify-end space-x-2 md:space-x-4",children:[m.jsxs("div",{className:`hidden md:flex items-center gap-1.5 px-2 py-1 rounded-full border ${g?"border-green-200 bg-green-50 text-green-700 dark:border-green-900 dark:bg-green-900/20 dark:text-green-400":"border-neutral-200 bg-neutral-50 text-neutral-500 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-400"}`,children:[g?m.jsx(B$,{className:"w-4 h-4"}):m.jsx(F$,{className:"w-4 h-4"}),m.jsx("span",{className:"text-xs font-semibold",children:y(g?"Online":"Offline")})]}),m.jsx("button",{onClick:h,className:`hidden md:block text-sm font-semibold px-4 py-2 rounded-lg transition-colors ${d?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 hover:bg-red-200":"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 hover:bg-green-200"}`,children:y(d?"Clock Out":"Clock In")}),m.jsx("button",{onClick:i,className:"p-2 rounded-full text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:r?m.jsx(D$,{className:"w-5 h-5"}):m.jsx(j$,{className:"w-5 h-5"})}),m.jsxs("div",{className:"relative",ref:C,children:[m.jsxs("button",{onClick:()=>A(!E),className:"p-2 rounded-full text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:[m.jsx(L$,{className:"w-6 h-6"}),P>0&&m.jsx("span",{className:"absolute top-1 right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-white text-xs ring-2 ring-white dark:ring-neutral-900",children:P})]}),E&&m.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-neutral-800 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 z-40",children:[m.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-neutral-200 dark:border-neutral-700",children:[m.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),m.jsx("button",{onClick:R,className:"text-xs text-primary-600 dark:text-primary-400 hover:underline",children:"Mark all as read"})]}),m.jsx("ul",{className:"max-h-80 overflow-y-auto",children:u.map(D=>m.jsx("li",{onClick:()=>O(D),className:`p-3 border-b border-neutral-100 dark:border-neutral-700/50 hover:bg-neutral-50 dark:hover:bg-neutral-700/50 ${D.link?"cursor-pointer":""}`,children:m.jsxs("div",{className:"flex items-start gap-3",children:[!D.read&&m.jsx("div",{className:"mt-1.5 w-2 h-2 rounded-full bg-primary-500 flex-shrink-0"}),m.jsxs("div",{className:D.read?"pl-5":"",children:[m.jsx("p",{className:"font-semibold text-sm",children:D.title}),m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:D.message}),m.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:new Date(D.timestamp).toLocaleString()})]})]})},D.id))}),m.jsx("div",{className:"p-2 text-center border-t border-neutral-200 dark:border-neutral-700",children:m.jsx("button",{className:"text-sm font-medium text-primary-600 dark:text-primary-400 hover:underline",children:"View all notifications"})})]})]}),m.jsxs("div",{className:"relative",ref:k,children:[m.jsxs("button",{onClick:()=>S(!T),className:"flex items-center space-x-2",children:[m.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-9 h-9 rounded-full object-cover"}),m.jsxs("div",{className:"hidden md:block text-left",children:[m.jsx("p",{className:"text-sm font-semibold text-neutral-800 dark:text-neutral-100",children:t.name}),m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:t.role})]})]}),T&&m.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-neutral-800 rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5 z-40",children:[m.jsxs("div",{className:"px-4 py-2 border-b dark:border-neutral-700",children:[m.jsx("p",{className:"text-sm font-semibold text-neutral-800 dark:text-neutral-100",children:t.name}),m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:t.role})]}),m.jsxs("div",{className:"py-2",children:[m.jsx("p",{className:"px-4 pb-2 text-xs font-semibold text-neutral-400 uppercase",children:"Switch Store"}),m.jsxs("button",{onClick:()=>{w("global"),S(!1)},className:"w-full text-left flex items-center justify-between px-4 py-2 text-sm text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(V$,{})," All Stores (Global View)"]}),x==="global"&&m.jsx(Pb,{className:"w-5 h-5 text-primary-600"})]}),b.map(D=>m.jsxs("button",{onClick:()=>{w(D.id),S(!1)},className:"w-full text-left flex items-center justify-between px-4 py-2 text-sm text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(Ib,{className:"w-4 h-4"})," ",D.name]}),x===D.id&&m.jsx(Pb,{className:"w-5 h-5 text-primary-600"})]},D.id))]}),m.jsxs("div",{className:"border-t dark:border-neutral-700 py-1",children:[m.jsx("button",{onClick:j,className:"w-full text-left block px-4 py-2 text-sm text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:"Profile"}),m.jsx("button",{onClick:e,className:"w-full text-left block px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:"Logout"})]})]})]})]})]})]})},q$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),G$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),H$=({userRole:t,activeView:e,setActiveView:n,isOpen:r,setIsOpen:i,businessName:o,businessLogo:a,t:s})=>{const l=_$.filter(c=>c.roles.includes(t)),u=m.jsx("nav",{className:"flex-1 px-2 py-4 space-y-2",children:l.map(c=>m.jsxs("a",{href:"#",onClick:d=>{d.preventDefault(),n(c.path),window.innerWidth<1024&&i(!1)},className:`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 ${e===c.path?"bg-primary-600 text-white shadow-md":"text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700"}`,children:[m.jsx(c.icon,{className:"w-5 h-5 mr-3"}),m.jsx("span",{children:s(c.name)})]},c.name))});return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`fixed inset-0 bg-black/30 z-40 lg:hidden transition-opacity ${r?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>i(!1)}),m.jsxs("aside",{className:`fixed lg:relative inset-y-0 left-0 z-50 flex flex-col w-64 bg-white dark:bg-neutral-800 border-r border-neutral-200 dark:border-neutral-700 transition-transform duration-300 ease-in-out ${r?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[m.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-neutral-200 dark:border-neutral-700",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[a?m.jsx("img",{src:a,alt:"Business Logo",className:"h-10 w-10 object-contain"}):m.jsx(G$,{className:"h-9 w-9 text-primary-600"}),m.jsx("span",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-100",children:o})]}),m.jsx("button",{onClick:()=>i(!1),className:"p-2 rounded-md text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700 lg:hidden",children:m.jsx(q$,{className:"w-6 h-6"})})]}),u]})]})};function rk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=rk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Se(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=rk(t))&&(r&&(r+=" "),r+=e);return r}var W$=Array.isArray,sn=W$,K$=typeof Bu=="object"&&Bu&&Bu.Object===Object&&Bu,ik=K$,J$=ik,Y$=typeof self=="object"&&self&&self.Object===Object&&self,X$=J$||Y$||Function("return this")(),wr=X$,Q$=wr,Z$=Q$.Symbol,Au=Z$,Nb=Au,ok=Object.prototype,e5=ok.hasOwnProperty,t5=ok.toString,$s=Nb?Nb.toStringTag:void 0;function n5(t){var e=e5.call(t,$s),n=t[$s];try{t[$s]=void 0;var r=!0}catch{}var i=t5.call(t);return r&&(e?t[$s]=n:delete t[$s]),i}var r5=n5,i5=Object.prototype,o5=i5.toString;function a5(t){return o5.call(t)}var s5=a5,Ob=Au,l5=r5,u5=s5,c5="[object Null]",d5="[object Undefined]",Mb=Ob?Ob.toStringTag:void 0;function f5(t){return t==null?t===void 0?d5:c5:Mb&&Mb in Object(t)?l5(t):u5(t)}var qr=f5;function h5(t){return t!=null&&typeof t=="object"}var Gr=h5,p5=qr,m5=Gr,g5="[object Symbol]";function v5(t){return typeof t=="symbol"||m5(t)&&p5(t)==g5}var is=v5,y5=sn,w5=is,b5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x5=/^\w*$/;function _5(t,e){if(y5(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||w5(t)?!0:x5.test(t)||!b5.test(t)||e!=null&&t in Object(e)}var Vy=_5;function S5(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ci=S5;const os=De(Ci);var E5=qr,T5=Ci,A5="[object AsyncFunction]",C5="[object Function]",k5="[object GeneratorFunction]",P5="[object Proxy]";function I5(t){if(!T5(t))return!1;var e=E5(t);return e==C5||e==k5||e==A5||e==P5}var zy=I5;const be=De(zy);var N5=wr,O5=N5["__core-js_shared__"],M5=O5,xp=M5,Rb=function(){var t=/[^.]+$/.exec(xp&&xp.keys&&xp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function R5(t){return!!Rb&&Rb in t}var $5=R5,D5=Function.prototype,j5=D5.toString;function L5(t){if(t!=null){try{return j5.call(t)}catch{}try{return t+""}catch{}}return""}var ak=L5,U5=zy,B5=$5,F5=Ci,V5=ak,z5=/[\\^$.*+?()[\]{}|]/g,q5=/^\[object .+?Constructor\]$/,G5=Function.prototype,H5=Object.prototype,W5=G5.toString,K5=H5.hasOwnProperty,J5=RegExp("^"+W5.call(K5).replace(z5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Y5(t){if(!F5(t)||B5(t))return!1;var e=U5(t)?J5:q5;return e.test(V5(t))}var X5=Y5;function Q5(t,e){return t==null?void 0:t[e]}var Z5=Q5,eD=X5,tD=Z5;function nD(t,e){var n=tD(t,e);return eD(n)?n:void 0}var Eo=nD,rD=Eo,iD=rD(Object,"create"),Bf=iD,$b=Bf;function oD(){this.__data__=$b?$b(null):{},this.size=0}var aD=oD;function sD(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var lD=sD,uD=Bf,cD="__lodash_hash_undefined__",dD=Object.prototype,fD=dD.hasOwnProperty;function hD(t){var e=this.__data__;if(uD){var n=e[t];return n===cD?void 0:n}return fD.call(e,t)?e[t]:void 0}var pD=hD,mD=Bf,gD=Object.prototype,vD=gD.hasOwnProperty;function yD(t){var e=this.__data__;return mD?e[t]!==void 0:vD.call(e,t)}var wD=yD,bD=Bf,xD="__lodash_hash_undefined__";function _D(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=bD&&e===void 0?xD:e,this}var SD=_D,ED=aD,TD=lD,AD=pD,CD=wD,kD=SD;function as(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}as.prototype.clear=ED;as.prototype.delete=TD;as.prototype.get=AD;as.prototype.has=CD;as.prototype.set=kD;var PD=as;function ID(){this.__data__=[],this.size=0}var ND=ID;function OD(t,e){return t===e||t!==t&&e!==e}var qy=OD,MD=qy;function RD(t,e){for(var n=t.length;n--;)if(MD(t[n][0],e))return n;return-1}var Ff=RD,$D=Ff,DD=Array.prototype,jD=DD.splice;function LD(t){var e=this.__data__,n=$D(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():jD.call(e,n,1),--this.size,!0}var UD=LD,BD=Ff;function FD(t){var e=this.__data__,n=BD(e,t);return n<0?void 0:e[n][1]}var VD=FD,zD=Ff;function qD(t){return zD(this.__data__,t)>-1}var GD=qD,HD=Ff;function WD(t,e){var n=this.__data__,r=HD(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var KD=WD,JD=ND,YD=UD,XD=VD,QD=GD,ZD=KD;function ss(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ss.prototype.clear=JD;ss.prototype.delete=YD;ss.prototype.get=XD;ss.prototype.has=QD;ss.prototype.set=ZD;var Vf=ss,ej=Eo,tj=wr,nj=ej(tj,"Map"),Gy=nj,Db=PD,rj=Vf,ij=Gy;function oj(){this.size=0,this.__data__={hash:new Db,map:new(ij||rj),string:new Db}}var aj=oj;function sj(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var lj=sj,uj=lj;function cj(t,e){var n=t.__data__;return uj(e)?n[typeof e=="string"?"string":"hash"]:n.map}var zf=cj,dj=zf;function fj(t){var e=dj(this,t).delete(t);return this.size-=e?1:0,e}var hj=fj,pj=zf;function mj(t){return pj(this,t).get(t)}var gj=mj,vj=zf;function yj(t){return vj(this,t).has(t)}var wj=yj,bj=zf;function xj(t,e){var n=bj(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var _j=xj,Sj=aj,Ej=hj,Tj=gj,Aj=wj,Cj=_j;function ls(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ls.prototype.clear=Sj;ls.prototype.delete=Ej;ls.prototype.get=Tj;ls.prototype.has=Aj;ls.prototype.set=Cj;var Hy=ls,sk=Hy,kj="Expected a function";function Wy(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(kj);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Wy.Cache||sk),n}Wy.Cache=sk;var lk=Wy;const Pj=De(lk);var Ij=lk,Nj=500;function Oj(t){var e=Ij(t,function(r){return n.size===Nj&&n.clear(),r}),n=e.cache;return e}var Mj=Oj,Rj=Mj,$j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dj=/\\(\\)?/g,jj=Rj(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($j,function(n,r,i,o){e.push(i?o.replace(Dj,"$1"):r||n)}),e}),Lj=jj;function Uj(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Ky=Uj,jb=Au,Bj=Ky,Fj=sn,Vj=is,Lb=jb?jb.prototype:void 0,Ub=Lb?Lb.toString:void 0;function uk(t){if(typeof t=="string")return t;if(Fj(t))return Bj(t,uk)+"";if(Vj(t))return Ub?Ub.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var zj=uk,qj=zj;function Gj(t){return t==null?"":qj(t)}var ck=Gj,Hj=sn,Wj=Vy,Kj=Lj,Jj=ck;function Yj(t,e){return Hj(t)?t:Wj(t,e)?[t]:Kj(Jj(t))}var dk=Yj,Xj=is;function Qj(t){if(typeof t=="string"||Xj(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var qf=Qj,Zj=dk,eL=qf;function tL(t,e){e=Zj(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[eL(e[n++])];return n&&n==r?t:void 0}var Jy=tL,nL=Jy;function rL(t,e,n){var r=t==null?void 0:nL(t,e);return r===void 0?n:r}var fk=rL;const wn=De(fk);function iL(t){return t==null}var oL=iL;const _e=De(oL);var aL=qr,sL=sn,lL=Gr,uL="[object String]";function cL(t){return typeof t=="string"||!sL(t)&&lL(t)&&aL(t)==uL}var dL=cL;const go=De(dL);var hk={exports:{}},je={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy=Symbol.for("react.element"),Xy=Symbol.for("react.portal"),Gf=Symbol.for("react.fragment"),Hf=Symbol.for("react.strict_mode"),Wf=Symbol.for("react.profiler"),Kf=Symbol.for("react.provider"),Jf=Symbol.for("react.context"),fL=Symbol.for("react.server_context"),Yf=Symbol.for("react.forward_ref"),Xf=Symbol.for("react.suspense"),Qf=Symbol.for("react.suspense_list"),Zf=Symbol.for("react.memo"),eh=Symbol.for("react.lazy"),hL=Symbol.for("react.offscreen"),pk;pk=Symbol.for("react.module.reference");function Vn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Yy:switch(t=t.type,t){case Gf:case Wf:case Hf:case Xf:case Qf:return t;default:switch(t=t&&t.$$typeof,t){case fL:case Jf:case Yf:case eh:case Zf:case Kf:return t;default:return e}}case Xy:return e}}}je.ContextConsumer=Jf;je.ContextProvider=Kf;je.Element=Yy;je.ForwardRef=Yf;je.Fragment=Gf;je.Lazy=eh;je.Memo=Zf;je.Portal=Xy;je.Profiler=Wf;je.StrictMode=Hf;je.Suspense=Xf;je.SuspenseList=Qf;je.isAsyncMode=function(){return!1};je.isConcurrentMode=function(){return!1};je.isContextConsumer=function(t){return Vn(t)===Jf};je.isContextProvider=function(t){return Vn(t)===Kf};je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yy};je.isForwardRef=function(t){return Vn(t)===Yf};je.isFragment=function(t){return Vn(t)===Gf};je.isLazy=function(t){return Vn(t)===eh};je.isMemo=function(t){return Vn(t)===Zf};je.isPortal=function(t){return Vn(t)===Xy};je.isProfiler=function(t){return Vn(t)===Wf};je.isStrictMode=function(t){return Vn(t)===Hf};je.isSuspense=function(t){return Vn(t)===Xf};je.isSuspenseList=function(t){return Vn(t)===Qf};je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Gf||t===Wf||t===Hf||t===Xf||t===Qf||t===hL||typeof t=="object"&&t!==null&&(t.$$typeof===eh||t.$$typeof===Zf||t.$$typeof===Kf||t.$$typeof===Jf||t.$$typeof===Yf||t.$$typeof===pk||t.getModuleId!==void 0)};je.typeOf=Vn;hk.exports=je;var pL=hk.exports,mL=qr,gL=Gr,vL="[object Number]";function yL(t){return typeof t=="number"||gL(t)&&mL(t)==vL}var mk=yL;const wL=De(mk);var bL=mk;function xL(t){return bL(t)&&t!=+t}var _L=xL;const Cu=De(_L);var Wt=function(e){return e===0?0:e>0?1:-1},to=function(e){return go(e)&&e.indexOf("%")===e.length-1},X=function(e){return wL(e)&&!Cu(e)},SL=function(e){return _e(e)},_t=function(e){return X(e)||go(e)},EL=0,us=function(e){var n=++EL;return"".concat(e||"").concat(n)},Kt=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!X(e)&&!go(e))return r;var o;if(to(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Cu(o)&&(o=r),i&&o>n&&(o=n),o},ai=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},TL=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},hn=function(e,n){return X(e)&&X(n)?function(r){return e+r*(n-e)}:function(){return n}};function hd(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):wn(r,e))===n})}var AL=function(e,n){return X(e)&&X(n)?e-n:go(e)&&go(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function pa(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Qm(t){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(t)}var CL=["viewBox","children"],kL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Bb=["points","pathLength"],_p={svg:CL,polygon:Bb,polyline:Bb},Qy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],pd=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),!os(r))return null;var i={};return Object.keys(r).forEach(function(o){Qy.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},PL=function(e,n,r){return function(i){return e(n,r,i),null}},vo=function(e,n,r){if(!os(e)||Qm(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];Qy.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=PL(a,n,r))}),i},IL=["children"],NL=["children"];function Fb(t,e){if(t==null)return{};var n=OL(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}var Vb={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Or=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},zb=null,Sp=null,Zy=function t(e){if(e===zb&&Array.isArray(Sp))return Sp;var n=[];return N.Children.forEach(e,function(r){_e(r)||(pL.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Sp=n,zb=e,n};function bn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Or(i)}):r=[Or(e)],Zy(t).forEach(function(i){var o=wn(i,"type.displayName")||wn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function fn(t,e){var n=bn(t,e);return n&&n[0]}var qb=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!X(r)||r<=0||!X(i)||i<=0)},ML=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],RL=function(e){return e&&e.type&&go(e.type)&&ML.indexOf(e.type)>=0},$L=function(e){return e&&Zm(e)==="object"&&"clipDot"in e},DL=function(e,n,r,i){var o,a=(o=_p==null?void 0:_p[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!be(e)&&(i&&a.includes(n)||kL.includes(n))||r&&Qy.includes(n)},pe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!os(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;DL((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},eg=function t(e,n){if(e===n)return!0;var r=N.Children.count(e);if(r!==N.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Gb(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!Gb(o,a))return!1}return!0},Gb=function(e,n){if(_e(e)&&_e(n))return!0;if(!_e(e)&&!_e(n)){var r=e.props||{},i=r.children,o=Fb(r,IL),a=n.props||{},s=a.children,l=Fb(a,NL);return i&&s?pa(o,l)&&eg(i,s):!i&&!s?pa(o,l):!1}return!1},Hb=function(e,n){var r=[],i={};return Zy(e).forEach(function(o,a){if(RL(o))r.push(o);else if(o){var s=Or(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(o,s,a);r.push(d),i[s]=!0}}}),r},jL=function(e){var n=e&&e.type;return n&&Vb[n]?Vb[n]:null},LL=function(e,n){return Zy(n).indexOf(e)},UL=["children","width","height","viewBox","className","style","title","desc"];function tg(){return tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tg.apply(this,arguments)}function BL(t,e){if(t==null)return{};var n=FL(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ng(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=BL(t,UL),c=i||{width:n,height:r,x:0,y:0},d=Se("recharts-surface",o);return I.createElement("svg",tg({},pe(u,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),e)}var VL=["children","className"];function rg(){return rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rg.apply(this,arguments)}function zL(t,e){if(t==null)return{};var n=qL(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ce=I.forwardRef(function(t,e){var n=t.children,r=t.className,i=zL(t,VL),o=Se("recharts-layer",r);return I.createElement("g",rg({className:o},pe(i,!0),{ref:e}),n)}),rr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function GL(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var HL=GL,WL=HL;function KL(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:WL(t,e,n)}var JL=KL,YL="\\ud800-\\udfff",XL="\\u0300-\\u036f",QL="\\ufe20-\\ufe2f",ZL="\\u20d0-\\u20ff",e3=XL+QL+ZL,t3="\\ufe0e\\ufe0f",n3="\\u200d",r3=RegExp("["+n3+YL+e3+t3+"]");function i3(t){return r3.test(t)}var gk=i3;function o3(t){return t.split("")}var a3=o3,vk="\\ud800-\\udfff",s3="\\u0300-\\u036f",l3="\\ufe20-\\ufe2f",u3="\\u20d0-\\u20ff",c3=s3+l3+u3,d3="\\ufe0e\\ufe0f",f3="["+vk+"]",ig="["+c3+"]",og="\\ud83c[\\udffb-\\udfff]",h3="(?:"+ig+"|"+og+")",yk="[^"+vk+"]",wk="(?:\\ud83c[\\udde6-\\uddff]){2}",bk="[\\ud800-\\udbff][\\udc00-\\udfff]",p3="\\u200d",xk=h3+"?",_k="["+d3+"]?",m3="(?:"+p3+"(?:"+[yk,wk,bk].join("|")+")"+_k+xk+")*",g3=_k+xk+m3,v3="(?:"+[yk+ig+"?",ig,wk,bk,f3].join("|")+")",y3=RegExp(og+"(?="+og+")|"+v3+g3,"g");function w3(t){return t.match(y3)||[]}var b3=w3,x3=a3,_3=gk,S3=b3;function E3(t){return _3(t)?S3(t):x3(t)}var T3=E3,A3=JL,C3=gk,k3=T3,P3=ck;function I3(t){return function(e){e=P3(e);var n=C3(e)?k3(e):void 0,r=n?n[0]:e.charAt(0),i=n?A3(n,1).join(""):e.slice(1);return r[t]()+i}}var N3=I3,O3=N3,M3=O3("toUpperCase"),R3=M3;const th=De(R3);function Ve(t){return function(){return t}}const Sk=Math.cos,md=Math.sin,or=Math.sqrt,gd=Math.PI,nh=2*gd,ag=Math.PI,sg=2*ag,zi=1e-6,$3=sg-zi;function Ek(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function D3(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ek;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class j3{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Ek:D3(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>zi)if(!(Math.abs(d*l-u*c)>zi)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,y=i-s,v=l*l+u*u,x=g*g+y*y,w=Math.sqrt(v),b=Math.sqrt(h),_=o*Math.tan((ag-Math.acos((v+h-x)/(2*w*b)))/2),T=_/b,S=_/w;Math.abs(T-1)>zi&&this._append`L${e+T*c},${n+T*d}`,this._append`A${o},${o},0,0,${+(d*g>c*y)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>zi||Math.abs(this._y1-c)>zi)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%sg+sg),h>$3?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>zi&&this._append`A${r},${r},0,${+(h>=ag)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function e0(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new j3(e)}function t0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Tk(t){this._context=t}Tk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function rh(t){return new Tk(t)}function Ak(t){return t[0]}function Ck(t){return t[1]}function kk(t,e){var n=Ve(!0),r=null,i=rh,o=null,a=e0(s);t=typeof t=="function"?t:t===void 0?Ak:Ve(t),e=typeof e=="function"?e:e===void 0?Ck:Ve(e);function s(l){var u,c=(l=t0(l)).length,d,h=!1,g;for(r==null&&(o=i(g=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ve(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ve(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ve(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function ic(t,e,n){var r=null,i=Ve(!0),o=null,a=rh,s=null,l=e0(u);t=typeof t=="function"?t:t===void 0?Ak:Ve(+t),e=typeof e=="function"?e:Ve(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Ck:Ve(+n);function u(d){var h,g,y,v=(d=t0(d)).length,x,w=!1,b,_=new Array(v),T=new Array(v);for(o==null&&(s=a(b=l())),h=0;h<=v;++h){if(!(h<v&&i(x=d[h],h,d))===w)if(w=!w)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=g;--y)s.point(_[y],T[y]);s.lineEnd(),s.areaEnd()}w&&(_[h]=+t(x,h,d),T[h]=+e(x,h,d),s.point(r?+r(x,h,d):_[h],n?+n(x,h,d):T[h]))}if(b)return s=null,b+""||null}function c(){return kk().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ve(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Ve(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ve(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Ve(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Ve(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ve(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ve(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class Pk{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function L3(t){return new Pk(t,!0)}function U3(t){return new Pk(t,!1)}const n0={draw(t,e){const n=or(e/gd);t.moveTo(n,0),t.arc(0,0,n,0,nh)}},B3={draw(t,e){const n=or(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Ik=or(1/3),F3=Ik*2,V3={draw(t,e){const n=or(e/F3),r=n*Ik;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},z3={draw(t,e){const n=or(e),r=-n/2;t.rect(r,r,n,n)}},q3=.8908130915292852,Nk=md(gd/10)/md(7*gd/10),G3=md(nh/10)*Nk,H3=-Sk(nh/10)*Nk,W3={draw(t,e){const n=or(e*q3),r=G3*n,i=H3*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=nh*o/5,s=Sk(a),l=md(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Ep=or(3),K3={draw(t,e){const n=-or(e/(Ep*3));t.moveTo(0,n*2),t.lineTo(-Ep*n,-n),t.lineTo(Ep*n,-n),t.closePath()}},Cn=-.5,kn=or(3)/2,lg=1/or(12),J3=(lg/2+1)*3,Y3={draw(t,e){const n=or(e/J3),r=n/2,i=n*lg,o=r,a=n*lg+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Cn*r-kn*i,kn*r+Cn*i),t.lineTo(Cn*o-kn*a,kn*o+Cn*a),t.lineTo(Cn*s-kn*l,kn*s+Cn*l),t.lineTo(Cn*r+kn*i,Cn*i-kn*r),t.lineTo(Cn*o+kn*a,Cn*a-kn*o),t.lineTo(Cn*s+kn*l,Cn*l-kn*s),t.closePath()}};function X3(t,e){let n=null,r=e0(i);t=typeof t=="function"?t:Ve(t||n0),e=typeof e=="function"?e:Ve(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ve(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ve(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function vd(){}function yd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Ok(t){this._context=t}Ok.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Q3(t){return new Ok(t)}function Mk(t){this._context=t}Mk.prototype={areaStart:vd,areaEnd:vd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:yd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Z3(t){return new Mk(t)}function Rk(t){this._context=t}Rk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:yd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eU(t){return new Rk(t)}function $k(t){this._context=t}$k.prototype={areaStart:vd,areaEnd:vd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function tU(t){return new $k(t)}function Wb(t){return t<0?-1:1}function Kb(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Wb(o)+Wb(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Jb(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Tp(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function wd(t){this._context=t}wd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tp(this,this._t0,Jb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Tp(this,Jb(this,n=Kb(this,t,e)),n);break;default:Tp(this,this._t0,n=Kb(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Dk(t){this._context=new jk(t)}(Dk.prototype=Object.create(wd.prototype)).point=function(t,e){wd.prototype.point.call(this,e,t)};function jk(t){this._context=t}jk.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function nU(t){return new wd(t)}function rU(t){return new Dk(t)}function Lk(t){this._context=t}Lk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Yb(t),i=Yb(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Yb(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function iU(t){return new Lk(t)}function ih(t,e){this._context=t,this._t=e}ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function oU(t){return new ih(t,.5)}function aU(t){return new ih(t,0)}function sU(t){return new ih(t,1)}function ka(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ug(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function lU(t,e){return t[e]}function uU(t){const e=[];return e.key=t,e}function cU(){var t=Ve([]),e=ug,n=ka,r=lU;function i(o){var a=Array.from(t.apply(this,arguments),uU),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=t0(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ve(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ve(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?ug:typeof o=="function"?o:Ve(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ka,i):n},i}function dU(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}ka(t,e)}}function fU(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}ka(t,e)}}function hU(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],d=c[r][1]||0,h=c[r-1][1]||0,g=(d-h)/2,y=0;y<s;++y){var v=t[e[y]],x=v[r][1]||0,w=v[r-1][1]||0;g+=x-w}l+=d,u+=g*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,ka(t,e)}}function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}var pU=["type","size","sizeType"];function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(this,arguments)}function Xb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xb(Object(n),!0).forEach(function(r){mU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mU(t,e,n){return e=gU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gU(t){var e=vU(t,"string");return jl(e)=="symbol"?e:e+""}function vU(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yU(t,e){if(t==null)return{};var n=wU(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Uk={symbolCircle:n0,symbolCross:B3,symbolDiamond:V3,symbolSquare:z3,symbolStar:W3,symbolTriangle:K3,symbolWye:Y3},bU=Math.PI/180,xU=function(e){var n="symbol".concat(th(e));return Uk[n]||n0},_U=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*bU;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},SU=function(e,n){Uk["symbol".concat(th(e))]=n},r0=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=yU(e,pU),u=Qb(Qb({},l),{},{type:r,size:o,sizeType:s}),c=function(){var x=xU(r),w=X3().type(x).size(_U(o,s,r));return w()},d=u.className,h=u.cx,g=u.cy,y=pe(u,!0);return h===+h&&g===+g&&o===+o?I.createElement("path",cg({},y,{className:Se("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(g,")"),d:c()})):null};r0.registerSymbol=SU;function Pa(t){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(t)}function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dg.apply(this,arguments)}function Zb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zb(Object(n),!0).forEach(function(r){Ll(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fk(r.key),r)}}function CU(t,e,n){return e&&AU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kU(t,e,n){return e=bd(e),PU(t,Bk()?Reflect.construct(e,n||[],bd(t).constructor):e.apply(t,n))}function PU(t,e){if(e&&(Pa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IU(t)}function IU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bk=function(){return!!t})()}function bd(t){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bd(t)}function NU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fg(t,e)}function fg(t,e){return fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fg(t,e)}function Ll(t,e,n){return e=Fk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fk(t){var e=OU(t,"string");return Pa(e)=="symbol"?e:e+""}function OU(t,e){if(Pa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pn=32,i0=function(t){function e(){return TU(this,e),kU(this,e,arguments)}return NU(e,t),CU(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Pn/2,a=Pn/6,s=Pn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Pn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Pn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Pn/8,"h").concat(Pn,"v").concat(Pn*3/4,"h").concat(-Pn,"z"),className:"recharts-legend-icon"});if(I.isValidElement(r.legendIcon)){var u=EU({},r);return delete u.legendIcon,I.cloneElement(r.legendIcon,u)}return I.createElement(r0,{fill:l,cx:o,cy:o,size:Pn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Pn,height:Pn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,y){var v=g.formatter||l,x=Se(Ll(Ll({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=be(g.value)?null:g.value;rr(!be(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=g.inactive?u:g.color;return I.createElement("li",dg({className:x,style:d,key:"legend-item-".concat(y)},vo(r.props,g,y)),I.createElement(ng,{width:a,height:a,viewBox:c,style:h},r.renderIcon(g)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},v?v(w,g,y):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(N.PureComponent);Ll(i0,"displayName","Legend");Ll(i0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var MU=Vf;function RU(){this.__data__=new MU,this.size=0}var $U=RU;function DU(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var jU=DU;function LU(t){return this.__data__.get(t)}var UU=LU;function BU(t){return this.__data__.has(t)}var FU=BU,VU=Vf,zU=Gy,qU=Hy,GU=200;function HU(t,e){var n=this.__data__;if(n instanceof VU){var r=n.__data__;if(!zU||r.length<GU-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new qU(r)}return n.set(t,e),this.size=n.size,this}var WU=HU,KU=Vf,JU=$U,YU=jU,XU=UU,QU=FU,ZU=WU;function cs(t){var e=this.__data__=new KU(t);this.size=e.size}cs.prototype.clear=JU;cs.prototype.delete=YU;cs.prototype.get=XU;cs.prototype.has=QU;cs.prototype.set=ZU;var Vk=cs,e4="__lodash_hash_undefined__";function t4(t){return this.__data__.set(t,e4),this}var n4=t4;function r4(t){return this.__data__.has(t)}var i4=r4,o4=Hy,a4=n4,s4=i4;function xd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new o4;++e<n;)this.add(t[e])}xd.prototype.add=xd.prototype.push=a4;xd.prototype.has=s4;var zk=xd;function l4(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var qk=l4;function u4(t,e){return t.has(e)}var Gk=u4,c4=zk,d4=qk,f4=Gk,h4=1,p4=2;function m4(t,e,n,r,i,o){var a=n&h4,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,g=n&p4?new c4:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var y=t[d],v=e[d];if(r)var x=a?r(v,y,d,e,t,o):r(y,v,d,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(g){if(!d4(e,function(w,b){if(!f4(g,b)&&(y===w||i(y,w,n,r,o)))return g.push(b)})){h=!1;break}}else if(!(y===v||i(y,v,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var Hk=m4,g4=wr,v4=g4.Uint8Array,y4=v4;function w4(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var b4=w4;function x4(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var o0=x4,ex=Au,tx=y4,_4=qy,S4=Hk,E4=b4,T4=o0,A4=1,C4=2,k4="[object Boolean]",P4="[object Date]",I4="[object Error]",N4="[object Map]",O4="[object Number]",M4="[object RegExp]",R4="[object Set]",$4="[object String]",D4="[object Symbol]",j4="[object ArrayBuffer]",L4="[object DataView]",nx=ex?ex.prototype:void 0,Ap=nx?nx.valueOf:void 0;function U4(t,e,n,r,i,o,a){switch(n){case L4:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case j4:return!(t.byteLength!=e.byteLength||!o(new tx(t),new tx(e)));case k4:case P4:case O4:return _4(+t,+e);case I4:return t.name==e.name&&t.message==e.message;case M4:case $4:return t==e+"";case N4:var s=E4;case R4:var l=r&A4;if(s||(s=T4),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=C4,a.set(t,e);var c=S4(s(t),s(e),r,i,o,a);return a.delete(t),c;case D4:if(Ap)return Ap.call(t)==Ap.call(e)}return!1}var B4=U4;function F4(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Wk=F4,V4=Wk,z4=sn;function q4(t,e,n){var r=e(t);return z4(t)?r:V4(r,n(t))}var G4=q4;function H4(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var W4=H4;function K4(){return[]}var J4=K4,Y4=W4,X4=J4,Q4=Object.prototype,Z4=Q4.propertyIsEnumerable,rx=Object.getOwnPropertySymbols,e6=rx?function(t){return t==null?[]:(t=Object(t),Y4(rx(t),function(e){return Z4.call(t,e)}))}:X4,t6=e6;function n6(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var r6=n6,i6=qr,o6=Gr,a6="[object Arguments]";function s6(t){return o6(t)&&i6(t)==a6}var l6=s6,ix=l6,u6=Gr,Kk=Object.prototype,c6=Kk.hasOwnProperty,d6=Kk.propertyIsEnumerable,f6=ix(function(){return arguments}())?ix:function(t){return u6(t)&&c6.call(t,"callee")&&!d6.call(t,"callee")},a0=f6,_d={exports:{}};function h6(){return!1}var p6=h6;_d.exports;(function(t,e){var n=wr,r=p6,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(_d,_d.exports);var Jk=_d.exports,m6=9007199254740991,g6=/^(?:0|[1-9]\d*)$/;function v6(t,e){var n=typeof t;return e=e??m6,!!e&&(n=="number"||n!="symbol"&&g6.test(t))&&t>-1&&t%1==0&&t<e}var s0=v6,y6=9007199254740991;function w6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=y6}var l0=w6,b6=qr,x6=l0,_6=Gr,S6="[object Arguments]",E6="[object Array]",T6="[object Boolean]",A6="[object Date]",C6="[object Error]",k6="[object Function]",P6="[object Map]",I6="[object Number]",N6="[object Object]",O6="[object RegExp]",M6="[object Set]",R6="[object String]",$6="[object WeakMap]",D6="[object ArrayBuffer]",j6="[object DataView]",L6="[object Float32Array]",U6="[object Float64Array]",B6="[object Int8Array]",F6="[object Int16Array]",V6="[object Int32Array]",z6="[object Uint8Array]",q6="[object Uint8ClampedArray]",G6="[object Uint16Array]",H6="[object Uint32Array]",Je={};Je[L6]=Je[U6]=Je[B6]=Je[F6]=Je[V6]=Je[z6]=Je[q6]=Je[G6]=Je[H6]=!0;Je[S6]=Je[E6]=Je[D6]=Je[T6]=Je[j6]=Je[A6]=Je[C6]=Je[k6]=Je[P6]=Je[I6]=Je[N6]=Je[O6]=Je[M6]=Je[R6]=Je[$6]=!1;function W6(t){return _6(t)&&x6(t.length)&&!!Je[b6(t)]}var K6=W6;function J6(t){return function(e){return t(e)}}var Yk=J6,Sd={exports:{}};Sd.exports;(function(t,e){var n=ik,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Sd,Sd.exports);var Y6=Sd.exports,X6=K6,Q6=Yk,ox=Y6,ax=ox&&ox.isTypedArray,Z6=ax?Q6(ax):X6,Xk=Z6,eB=r6,tB=a0,nB=sn,rB=Jk,iB=s0,oB=Xk,aB=Object.prototype,sB=aB.hasOwnProperty;function lB(t,e){var n=nB(t),r=!n&&tB(t),i=!n&&!r&&rB(t),o=!n&&!r&&!i&&oB(t),a=n||r||i||o,s=a?eB(t.length,String):[],l=s.length;for(var u in t)(e||sB.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||iB(u,l)))&&s.push(u);return s}var uB=lB,cB=Object.prototype;function dB(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||cB;return t===n}var fB=dB;function hB(t,e){return function(n){return t(e(n))}}var Qk=hB,pB=Qk,mB=pB(Object.keys,Object),gB=mB,vB=fB,yB=gB,wB=Object.prototype,bB=wB.hasOwnProperty;function xB(t){if(!vB(t))return yB(t);var e=[];for(var n in Object(t))bB.call(t,n)&&n!="constructor"&&e.push(n);return e}var _B=xB,SB=zy,EB=l0;function TB(t){return t!=null&&EB(t.length)&&!SB(t)}var ku=TB,AB=uB,CB=_B,kB=ku;function PB(t){return kB(t)?AB(t):CB(t)}var oh=PB,IB=G4,NB=t6,OB=oh;function MB(t){return IB(t,OB,NB)}var RB=MB,sx=RB,$B=1,DB=Object.prototype,jB=DB.hasOwnProperty;function LB(t,e,n,r,i,o){var a=n&$B,s=sx(t),l=s.length,u=sx(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in e:jB.call(e,h)))return!1}var g=o.get(t),y=o.get(e);if(g&&y)return g==e&&y==t;var v=!0;o.set(t,e),o.set(e,t);for(var x=a;++d<l;){h=s[d];var w=t[h],b=e[h];if(r)var _=a?r(b,w,h,e,t,o):r(w,b,h,t,e,o);if(!(_===void 0?w===b||i(w,b,n,r,o):_)){v=!1;break}x||(x=h=="constructor")}if(v&&!x){var T=t.constructor,S=e.constructor;T!=S&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof S=="function"&&S instanceof S)&&(v=!1)}return o.delete(t),o.delete(e),v}var UB=LB,BB=Eo,FB=wr,VB=BB(FB,"DataView"),zB=VB,qB=Eo,GB=wr,HB=qB(GB,"Promise"),WB=HB,KB=Eo,JB=wr,YB=KB(JB,"Set"),Zk=YB,XB=Eo,QB=wr,ZB=XB(QB,"WeakMap"),eF=ZB,hg=zB,pg=Gy,mg=WB,gg=Zk,vg=eF,eP=qr,ds=ak,lx="[object Map]",tF="[object Object]",ux="[object Promise]",cx="[object Set]",dx="[object WeakMap]",fx="[object DataView]",nF=ds(hg),rF=ds(pg),iF=ds(mg),oF=ds(gg),aF=ds(vg),qi=eP;(hg&&qi(new hg(new ArrayBuffer(1)))!=fx||pg&&qi(new pg)!=lx||mg&&qi(mg.resolve())!=ux||gg&&qi(new gg)!=cx||vg&&qi(new vg)!=dx)&&(qi=function(t){var e=eP(t),n=e==tF?t.constructor:void 0,r=n?ds(n):"";if(r)switch(r){case nF:return fx;case rF:return lx;case iF:return ux;case oF:return cx;case aF:return dx}return e});var sF=qi,Cp=Vk,lF=Hk,uF=B4,cF=UB,hx=sF,px=sn,mx=Jk,dF=Xk,fF=1,gx="[object Arguments]",vx="[object Array]",oc="[object Object]",hF=Object.prototype,yx=hF.hasOwnProperty;function pF(t,e,n,r,i,o){var a=px(t),s=px(e),l=a?vx:hx(t),u=s?vx:hx(e);l=l==gx?oc:l,u=u==gx?oc:u;var c=l==oc,d=u==oc,h=l==u;if(h&&mx(t)){if(!mx(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new Cp),a||dF(t)?lF(t,e,n,r,i,o):uF(t,e,l,n,r,i,o);if(!(n&fF)){var g=c&&yx.call(t,"__wrapped__"),y=d&&yx.call(e,"__wrapped__");if(g||y){var v=g?t.value():t,x=y?e.value():e;return o||(o=new Cp),i(v,x,n,r,o)}}return h?(o||(o=new Cp),cF(t,e,n,r,i,o)):!1}var mF=pF,gF=mF,wx=Gr;function tP(t,e,n,r,i){return t===e?!0:t==null||e==null||!wx(t)&&!wx(e)?t!==t&&e!==e:gF(t,e,n,r,tP,i)}var u0=tP,vF=Vk,yF=u0,wF=1,bF=2;function xF(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new vF;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?yF(c,u,wF|bF,r,d):h))return!1}}return!0}var _F=xF,SF=Ci;function EF(t){return t===t&&!SF(t)}var nP=EF,TF=nP,AF=oh;function CF(t){for(var e=AF(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,TF(i)]}return e}var kF=CF;function PF(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var rP=PF,IF=_F,NF=kF,OF=rP;function MF(t){var e=NF(t);return e.length==1&&e[0][2]?OF(e[0][0],e[0][1]):function(n){return n===t||IF(n,t,e)}}var RF=MF;function $F(t,e){return t!=null&&e in Object(t)}var DF=$F,jF=dk,LF=a0,UF=sn,BF=s0,FF=l0,VF=qf;function zF(t,e,n){e=jF(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=VF(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&FF(i)&&BF(a,i)&&(UF(t)||LF(t)))}var qF=zF,GF=DF,HF=qF;function WF(t,e){return t!=null&&HF(t,e,GF)}var KF=WF,JF=u0,YF=fk,XF=KF,QF=Vy,ZF=nP,e8=rP,t8=qf,n8=1,r8=2;function i8(t,e){return QF(t)&&ZF(e)?e8(t8(t),e):function(n){var r=YF(n,t);return r===void 0&&r===e?XF(n,t):JF(e,r,n8|r8)}}var o8=i8;function a8(t){return t}var fs=a8;function s8(t){return function(e){return e==null?void 0:e[t]}}var l8=s8,u8=Jy;function c8(t){return function(e){return u8(e,t)}}var d8=c8,f8=l8,h8=d8,p8=Vy,m8=qf;function g8(t){return p8(t)?f8(m8(t)):h8(t)}var v8=g8,y8=RF,w8=o8,b8=fs,x8=sn,_8=v8;function S8(t){return typeof t=="function"?t:t==null?b8:typeof t=="object"?x8(t)?w8(t[0],t[1]):y8(t):_8(t)}var br=S8;function E8(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var iP=E8;function T8(t){return t!==t}var A8=T8;function C8(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var k8=C8,P8=iP,I8=A8,N8=k8;function O8(t,e,n){return e===e?N8(t,e,n):P8(t,I8,n)}var M8=O8,R8=M8;function $8(t,e){var n=t==null?0:t.length;return!!n&&R8(t,e,0)>-1}var D8=$8;function j8(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var L8=j8;function U8(){}var B8=U8,kp=Zk,F8=B8,V8=o0,z8=1/0,q8=kp&&1/V8(new kp([,-0]))[1]==z8?function(t){return new kp(t)}:F8,G8=q8,H8=zk,W8=D8,K8=L8,J8=Gk,Y8=G8,X8=o0,Q8=200;function Z8(t,e,n){var r=-1,i=W8,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=K8;else if(o>=Q8){var u=e?null:Y8(t);if(u)return X8(u);a=!1,i=J8,l=new H8}else l=e?[]:s;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var e7=Z8,t7=br,n7=e7;function r7(t,e){return t&&t.length?n7(t,t7(e)):[]}var i7=r7;const bx=De(i7);function oP(t,e,n){return e===!0?bx(t,n):be(e)?bx(t,e):t}function Ia(t){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(t)}var o7=["ref"];function xx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xx(Object(n),!0).forEach(function(r){ah(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sP(r.key),r)}}function s7(t,e,n){return e&&_x(t.prototype,e),n&&_x(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l7(t,e,n){return e=Ed(e),u7(t,aP()?Reflect.construct(e,n||[],Ed(t).constructor):e.apply(t,n))}function u7(t,e){if(e&&(Ia(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c7(t)}function c7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aP=function(){return!!t})()}function Ed(t){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ed(t)}function d7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yg(t,e)}function yg(t,e){return yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yg(t,e)}function ah(t,e,n){return e=sP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sP(t){var e=f7(t,"string");return Ia(e)=="symbol"?e:e+""}function f7(t,e){if(Ia(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ia(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function h7(t,e){if(t==null)return{};var n=p7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function m7(t){return t.value}function g7(t,e){if(I.isValidElement(t))return I.cloneElement(t,e);if(typeof t=="function")return I.createElement(t,e);e.ref;var n=h7(e,o7);return I.createElement(i0,n)}var Sx=1,bi=function(t){function e(){var n;a7(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=l7(this,e,[].concat(i)),ah(n,"lastBoundingBox",{width:-1,height:-1}),n}return d7(e,t),s7(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Sx||Math.abs(i.height-this.lastBoundingBox.height)>Sx)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?xr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();d={left:((u||0)-g.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((c||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return xr(xr({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=xr(xr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(g){r.wrapperNode=g}},g7(o,xr(xr({},this.props),{},{payload:oP(c,u,m7)})))}}],[{key:"getWithHeight",value:function(r,i){var o=xr(xr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&X(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(N.PureComponent);ah(bi,"displayName","Legend");ah(bi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ex=Au,v7=a0,y7=sn,Tx=Ex?Ex.isConcatSpreadable:void 0;function w7(t){return y7(t)||v7(t)||!!(Tx&&t&&t[Tx])}var b7=w7,x7=Wk,_7=b7;function lP(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=_7),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?lP(s,e-1,n,r,i):x7(i,s):r||(i[i.length]=s)}return i}var uP=lP;function S7(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var E7=S7,T7=E7,A7=T7(),C7=A7,k7=C7,P7=oh;function I7(t,e){return t&&k7(t,e,P7)}var cP=I7,N7=ku;function O7(t,e){return function(n,r){if(n==null)return n;if(!N7(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var M7=O7,R7=cP,$7=M7,D7=$7(R7),c0=D7,j7=c0,L7=ku;function U7(t,e){var n=-1,r=L7(t)?Array(t.length):[];return j7(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var dP=U7;function B7(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var F7=B7,Ax=is;function V7(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=Ax(t),a=e!==void 0,s=e===null,l=e===e,u=Ax(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var z7=V7,q7=z7;function G7(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=q7(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var H7=G7,Pp=Ky,W7=Jy,K7=br,J7=dP,Y7=F7,X7=Yk,Q7=H7,Z7=fs,eV=sn;function tV(t,e,n){e.length?e=Pp(e,function(o){return eV(o)?function(a){return W7(a,o.length===1?o[0]:o)}:o}):e=[Z7];var r=-1;e=Pp(e,X7(K7));var i=J7(t,function(o,a,s){var l=Pp(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Y7(i,function(o,a){return Q7(o,a,n)})}var nV=tV;function rV(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var iV=rV,oV=iV,Cx=Math.max;function aV(t,e,n){return e=Cx(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Cx(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),oV(t,this,s)}}var sV=aV;function lV(t){return function(){return t}}var uV=lV,cV=Eo,dV=function(){try{var t=cV(Object,"defineProperty");return t({},"",{}),t}catch{}}(),fP=dV,fV=uV,kx=fP,hV=fs,pV=kx?function(t,e){return kx(t,"toString",{configurable:!0,enumerable:!1,value:fV(e),writable:!0})}:hV,mV=pV,gV=800,vV=16,yV=Date.now;function wV(t){var e=0,n=0;return function(){var r=yV(),i=vV-(r-n);if(n=r,i>0){if(++e>=gV)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var bV=wV,xV=mV,_V=bV,SV=_V(xV),EV=SV,TV=fs,AV=sV,CV=EV;function kV(t,e){return CV(AV(t,e,TV),t+"")}var PV=kV,IV=qy,NV=ku,OV=s0,MV=Ci;function RV(t,e,n){if(!MV(n))return!1;var r=typeof e;return(r=="number"?NV(n)&&OV(e,n.length):r=="string"&&e in n)?IV(n[e],t):!1}var sh=RV,$V=uP,DV=nV,jV=PV,Px=sh,LV=jV(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Px(t,e[0],e[1])?e=[]:n>2&&Px(e[0],e[1],e[2])&&(e=[e[0]]),DV(t,$V(e,1),[])}),UV=LV;const d0=De(UV);function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wg.apply(this,arguments)}function BV(t,e){return qV(t)||zV(t,e)||VV(t,e)||FV()}function FV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VV(t,e){if(t){if(typeof t=="string")return Ix(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ix(t,e)}}function Ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function qV(t){if(Array.isArray(t))return t}function Nx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ip(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nx(Object(n),!0).forEach(function(r){GV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GV(t,e,n){return e=HV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HV(t){var e=WV(t,"string");return Ul(e)=="symbol"?e:e+""}function WV(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KV(t){return Array.isArray(t)&&_t(t[0])&&_t(t[1])?t.join(" ~ "):t}var JV=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,g=e.wrapperClassName,y=e.labelClassName,v=e.label,x=e.labelFormatter,w=e.accessibilityLayer,b=w===void 0?!1:w,_=function(){if(c&&c.length){var R={padding:0,margin:0},j=(h?d0(c,h):c).map(function(B,D){if(B.type==="none")return null;var M=Ip({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},s),L=B.formatter||d||KV,$=B.value,U=B.name,H=$,Y=U;if(L&&H!=null&&Y!=null){var W=L($,U,B,D,c);if(Array.isArray(W)){var te=BV(W,2);H=te[0],Y=te[1]}else H=W}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:M},_t(Y)?I.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,_t(Y)?I.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,I.createElement("span",{className:"recharts-tooltip-item-value"},H),I.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:R},j)}return null},T=Ip({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Ip({margin:0},u),E=!_e(v),A=E?v:"",C=Se("recharts-default-tooltip",g),k=Se("recharts-tooltip-label",y);E&&x&&c!==void 0&&c!==null&&(A=x(v,c));var P=b?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",wg({className:C,style:T},P),I.createElement("p",{className:k,style:S},I.isValidElement(A)?A:"".concat(A)),_())};function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function ac(t,e,n){return e=YV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YV(t){var e=XV(t,"string");return Bl(e)=="symbol"?e:e+""}function XV(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ds="recharts-tooltip-wrapper",QV={visibility:"hidden"};function ZV(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Se(Ds,ac(ac(ac(ac({},"".concat(Ds,"-right"),X(n)&&e&&X(e.x)&&n>=e.x),"".concat(Ds,"-left"),X(n)&&e&&X(e.x)&&n<e.x),"".concat(Ds,"-bottom"),X(r)&&e&&X(e.y)&&r>=e.y),"".concat(Ds,"-top"),X(r)&&e&&X(e.y)&&r<e.y))}function Ox(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&X(o[r]))return o[r];var c=n[r]-s-i,d=n[r]+i;if(e[r])return a[r]?c:d;if(a[r]){var h=c,g=l[r];return h<g?Math.max(d,l[r]):Math.max(c,l[r])}var y=d+s,v=l[r]+u;return y>v?Math.max(c,l[r]):Math.max(d,l[r])}function ez(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function tz(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return a.height>0&&a.width>0&&n?(c=Ox({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=Ox({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=ez({translateX:c,translateY:d,useTranslate3d:s})):u=QV,{cssProperties:u,cssClasses:ZV({translateX:c,translateY:d,coordinate:n})}}function Na(t){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Na(t)}function Mx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mx(Object(n),!0).forEach(function(r){xg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pP(r.key),r)}}function iz(t,e,n){return e&&rz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oz(t,e,n){return e=Td(e),az(t,hP()?Reflect.construct(e,n||[],Td(t).constructor):e.apply(t,n))}function az(t,e){if(e&&(Na(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sz(t)}function sz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hP=function(){return!!t})()}function Td(t){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Td(t)}function lz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bg(t,e)}function bg(t,e){return bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bg(t,e)}function xg(t,e,n){return e=pP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pP(t){var e=uz(t,"string");return Na(e)=="symbol"?e:e+""}function uz(t,e){if(Na(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Na(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $x=1,cz=function(t){function e(){var n;nz(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=oz(this,e,[].concat(i)),xg(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),xg(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return lz(e,t),iz(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>$x||Math.abs(r.height-this.state.lastBoundingBox.height)>$x)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,g=i.offset,y=i.position,v=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,b=i.wrapperStyle,_=tz({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:g,position:y,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:w}),T=_.cssClasses,S=_.cssProperties,E=Rx(Rx({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return I.createElement("div",{tabIndex:-1,className:T,style:E,ref:function(C){r.wrapperNode=C}},u)}}])}(N.PureComponent),dz=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},To={isSsr:dz()};function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function Dx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dx(Object(n),!0).forEach(function(r){f0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gP(r.key),r)}}function pz(t,e,n){return e&&hz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mz(t,e,n){return e=Ad(e),gz(t,mP()?Reflect.construct(e,n||[],Ad(t).constructor):e.apply(t,n))}function gz(t,e){if(e&&(Oa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vz(t)}function vz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mP=function(){return!!t})()}function Ad(t){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ad(t)}function yz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_g(t,e)}function _g(t,e){return _g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_g(t,e)}function f0(t,e,n){return e=gP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gP(t){var e=wz(t,"string");return Oa(e)=="symbol"?e:e+""}function wz(t,e){if(Oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bz(t){return t.dataKey}function xz(t,e){return I.isValidElement(t)?I.cloneElement(t,e):typeof t=="function"?I.createElement(t,e):I.createElement(JV,e)}var In=function(t){function e(){return fz(this,e),mz(this,e,arguments)}return yz(e,t),pz(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,g=i.offset,y=i.payload,v=i.payloadUniqBy,x=i.position,w=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,T=i.wrapperStyle,S=y??[];d&&S.length&&(S=oP(y.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),v,bz));var E=S.length>0;return I.createElement(cz,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:E,offset:g,position:x,reverseDirection:w,useTranslate3d:b,viewBox:_,wrapperStyle:T},xz(u,jx(jx({},this.props),{},{payload:S})))}}])}(N.PureComponent);f0(In,"displayName","Tooltip");f0(In,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!To.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var _z=wr,Sz=function(){return _z.Date.now()},Ez=Sz,Tz=/\s/;function Az(t){for(var e=t.length;e--&&Tz.test(t.charAt(e)););return e}var Cz=Az,kz=Cz,Pz=/^\s+/;function Iz(t){return t&&t.slice(0,kz(t)+1).replace(Pz,"")}var Nz=Iz,Oz=Nz,Lx=Ci,Mz=is,Ux=NaN,Rz=/^[-+]0x[0-9a-f]+$/i,$z=/^0b[01]+$/i,Dz=/^0o[0-7]+$/i,jz=parseInt;function Lz(t){if(typeof t=="number")return t;if(Mz(t))return Ux;if(Lx(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Lx(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Oz(t);var n=$z.test(t);return n||Dz.test(t)?jz(t.slice(2),n?2:8):Rz.test(t)?Ux:+t}var vP=Lz,Uz=Ci,Np=Ez,Bx=vP,Bz="Expected a function",Fz=Math.max,Vz=Math.min;function zz(t,e,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Bz);e=Bx(e)||0,Uz(n)&&(c=!!n.leading,d="maxWait"in n,o=d?Fz(Bx(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function g(E){var A=r,C=i;return r=i=void 0,u=E,a=t.apply(C,A),a}function y(E){return u=E,s=setTimeout(w,e),c?g(E):a}function v(E){var A=E-l,C=E-u,k=e-A;return d?Vz(k,o-C):k}function x(E){var A=E-l,C=E-u;return l===void 0||A>=e||A<0||d&&C>=o}function w(){var E=Np();if(x(E))return b(E);s=setTimeout(w,v(E))}function b(E){return s=void 0,h&&r?g(E):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?a:b(Np())}function S(){var E=Np(),A=x(E);if(r=arguments,i=this,l=E,A){if(s===void 0)return y(l);if(d)return clearTimeout(s),s=setTimeout(w,e),g(l)}return s===void 0&&(s=setTimeout(w,e)),a}return S.cancel=_,S.flush=T,S}var qz=zz,Gz=qz,Hz=Ci,Wz="Expected a function";function Kz(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Wz);return Hz(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Gz(t,e,{leading:r,maxWait:e,trailing:i})}var Jz=Kz;const yP=De(Jz);function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function Fx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fx(Object(n),!0).forEach(function(r){Yz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yz(t,e,n){return e=Xz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xz(t){var e=Qz(t,"string");return Fl(e)=="symbol"?e:e+""}function Qz(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zz(t,e){return rq(t)||nq(t,e)||tq(t,e)||eq()}function eq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tq(t,e){if(t){if(typeof t=="string")return Vx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vx(t,e)}}function Vx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function rq(t){if(Array.isArray(t))return t}var h0=N.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,g=t.children,y=t.debounce,v=y===void 0?0:y,x=t.id,w=t.className,b=t.onResize,_=t.style,T=_===void 0?{}:_,S=N.useRef(null),E=N.useRef();E.current=b,N.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=N.useState({containerWidth:i.width,containerHeight:i.height}),C=Zz(A,2),k=C[0],P=C[1],O=N.useCallback(function(j,B){P(function(D){var M=Math.round(j),L=Math.round(B);return D.containerWidth===M&&D.containerHeight===L?D:{containerWidth:M,containerHeight:L}})},[]);N.useEffect(function(){var j=function(U){var H,Y=U[0].contentRect,W=Y.width,te=Y.height;O(W,te),(H=E.current)===null||H===void 0||H.call(E,W,te)};v>0&&(j=yP(j,v,{trailing:!0,leading:!1}));var B=new ResizeObserver(j),D=S.current.getBoundingClientRect(),M=D.width,L=D.height;return O(M,L),B.observe(S.current),function(){B.disconnect()}},[O,v]);var R=N.useMemo(function(){var j=k.containerWidth,B=k.containerHeight;if(j<0||B<0)return null;rr(to(a)||to(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),rr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=to(a)?j:a,M=to(l)?B:l;n&&n>0&&(D?M=D/n:M&&(D=M*n),h&&M>h&&(M=h)),rr(D>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,M,a,l,c,d,n);var L=!Array.isArray(g)&&Or(g.type).endsWith("Chart");return I.Children.map(g,function($){return I.isValidElement($)?N.cloneElement($,sc({width:D,height:M},L?{style:sc({height:"100%",width:"100%",maxHeight:M,maxWidth:D},$.props.style)}:{})):$})},[n,g,l,h,d,c,k,a]);return I.createElement("div",{id:x?"".concat(x):void 0,className:Se("recharts-responsive-container",w),style:sc(sc({},T),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:S},R)}),lh=function(e){return null};lh.displayName="Cell";function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function zx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zx(Object(n),!0).forEach(function(r){iq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iq(t,e,n){return e=oq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oq(t){var e=aq(t,"string");return Vl(e)=="symbol"?e:e+""}function aq(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oo={widthCache:{},cacheCount:0},sq=2e3,lq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qx="recharts_measurement_span";function uq(t){var e=Sg({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var cl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||To.isSsr)return{width:0,height:0};var r=uq(n),i=JSON.stringify({text:e,copyStyle:r});if(Oo.widthCache[i])return Oo.widthCache[i];try{var o=document.getElementById(qx);o||(o=document.createElement("span"),o.setAttribute("id",qx),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Sg(Sg({},lq),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Oo.widthCache[i]=l,++Oo.cacheCount>sq&&(Oo.cacheCount=0,Oo.widthCache={}),l}catch{return{width:0,height:0}}},cq=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function Cd(t,e){return pq(t)||hq(t,e)||fq(t,e)||dq()}function dq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fq(t,e){if(t){if(typeof t=="string")return Gx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gx(t,e)}}function Gx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function pq(t){if(Array.isArray(t))return t}function mq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vq(r.key),r)}}function gq(t,e,n){return e&&Hx(t.prototype,e),n&&Hx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vq(t){var e=yq(t,"string");return zl(e)=="symbol"?e:e+""}function yq(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xq=Object.keys(wP),na="NaN";function _q(t,e){return t*wP[e]}var lc=function(){function t(e,n){mq(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!wq.test(n)&&(this.num=NaN,this.unit=""),xq.includes(n)&&(this.num=_q(e,n),this.unit="px")}return gq(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=bq.exec(n))!==null&&r!==void 0?r:[],o=Cd(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function bP(t){if(t.includes(na))return na;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Wx.exec(e))!==null&&n!==void 0?n:[],i=Cd(r,4),o=i[1],a=i[2],s=i[3],l=lc.parse(o??""),u=lc.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return na;e=e.replace(Wx,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=Kx.exec(e))!==null&&d!==void 0?d:[],g=Cd(h,4),y=g[1],v=g[2],x=g[3],w=lc.parse(y??""),b=lc.parse(x??""),_=v==="+"?w.add(b):w.subtract(b);if(_.isNaN())return na;e=e.replace(Kx,_.toString())}return e}var Jx=/\(([^()]*)\)/;function Sq(t){for(var e=t;e.includes("(");){var n=Jx.exec(e),r=Cd(n,2),i=r[1];e=e.replace(Jx,bP(i))}return e}function Eq(t){var e=t.replace(/\s+/g,"");return e=Sq(e),e=bP(e),e}function Tq(t){try{return Eq(t)}catch{return na}}function Op(t){var e=Tq(t.slice(5,-1));return e===na?"":e}var Aq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Cq=["dx","dy","angle","className","breakAll"];function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(this,arguments)}function Yx(t,e){if(t==null)return{};var n=kq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xx(t,e){return Oq(t)||Nq(t,e)||Iq(t,e)||Pq()}function Pq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iq(t,e){if(t){if(typeof t=="string")return Qx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qx(t,e)}}function Qx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Oq(t){if(Array.isArray(t))return t}var xP=/[ \f\n\r\t\v\u2028\u2029]+/,_P=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];_e(n)||(r?o=n.toString().split(""):o=n.toString().split(xP));var a=o.map(function(l){return{word:l,width:cl(l,i).width}}),s=r?0:cl("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Mq=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=X(a),d=s,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(M,L){var $=L.word,U=L.width,H=M[M.length-1];if(H&&(i==null||o||H.width+U+r<Number(i)))H.words.push($),H.width+=U+r;else{var Y={words:[$],width:U};M.push(Y)}return M},[])},g=h(n),y=function(D){return D.reduce(function(M,L){return M.width>L.width?M:L})};if(!c)return g;for(var v="",x=function(D){var M=d.slice(0,D),L=_P({breakAll:u,style:l,children:M+v}).wordsWithComputedWidth,$=h(L),U=$.length>a||y($).width>Number(i);return[U,$]},w=0,b=d.length-1,_=0,T;w<=b&&_<=d.length-1;){var S=Math.floor((w+b)/2),E=S-1,A=x(E),C=Xx(A,2),k=C[0],P=C[1],O=x(S),R=Xx(O,1),j=R[0];if(!k&&!j&&(w=S+1),k&&j&&(b=S-1),!k&&j){T=P;break}_++}return T||g},Zx=function(e){var n=_e(e)?[]:e.toString().split(xP);return[{words:n}]},Rq=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!To.isSsr){var l,u,c=_P({breakAll:a,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return Zx(i);return Mq({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return Zx(i)},e_="#808080",yo=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,g=h===void 0?"start":h,y=e.verticalAnchor,v=y===void 0?"end":y,x=e.fill,w=x===void 0?e_:x,b=Yx(e,Aq),_=N.useMemo(function(){return Rq({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),T=b.dx,S=b.dy,E=b.angle,A=b.className,C=b.breakAll,k=Yx(b,Cq);if(!_t(r)||!_t(o))return null;var P=r+(X(T)?T:0),O=o+(X(S)?S:0),R;switch(v){case"start":R=Op("calc(".concat(u,")"));break;case"middle":R=Op("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=Op("calc(".concat(_.length-1," * -").concat(s,")"));break}var j=[];if(d){var B=_[0].width,D=b.width;j.push("scale(".concat((X(D)?D/B:1)/B,")"))}return E&&j.push("rotate(".concat(E,", ").concat(P,", ").concat(O,")")),j.length&&(k.transform=j.join(" ")),I.createElement("text",Eg({},pe(k,!0),{x:P,y:O,className:Se("recharts-text",A),textAnchor:g,fill:w.includes("url")?e_:w}),_.map(function(M,L){var $=M.words.join(C?"":" ");return I.createElement("tspan",{x:P,dy:L===0?R:s,key:"".concat($,"-").concat(L)},$)}))};function xi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $q(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function p0(t){let e,n,r;t.length!==2?(e=xi,n=(s,l)=>xi(t(s),l),r=(s,l)=>t(s)-l):(e=t===xi||t===$q?t:Dq,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function Dq(){return 0}function SP(t){return t===null?NaN:+t}function*jq(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Lq=p0(xi),Pu=Lq.right;p0(SP).center;class t_ extends Map{constructor(e,n=Fq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(n_(this,e))}has(e){return super.has(n_(this,e))}set(e,n){return super.set(Uq(this,e),n)}delete(e){return super.delete(Bq(this,e))}}function n_({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Uq({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Bq({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Fq(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Vq(t=xi){if(t===xi)return EP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function EP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const zq=Math.sqrt(50),qq=Math.sqrt(10),Gq=Math.sqrt(2);function kd(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=zq?10:o>=qq?5:o>=Gq?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?kd(t,e,n*2):[s,l,u]}function Tg(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?kd(e,t,n):kd(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Ag(t,e,n){return e=+e,t=+t,n=+n,kd(t,e,n)[2]}function Cg(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Ag(e,t,n):Ag(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function r_(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function i_(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function TP(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?EP:Vq(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*d/l+h)),y=Math.min(r,Math.floor(e+(l-u)*d/l+h));TP(t,e,g,y,i)}const o=t[e];let a=n,s=r;for(js(t,n,e),i(t[r],o)>0&&js(t,n,r);a<s;){for(js(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?js(t,n,s):(++s,js(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function js(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Hq(t,e,n){if(t=Float64Array.from(jq(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return i_(t);if(e>=1)return r_(t);var r,i=(r-1)*e,o=Math.floor(i),a=r_(TP(t,o).subarray(0,o+1)),s=i_(t.subarray(o+1));return a+(s-a)*(i-o)}}function Wq(t,e,n=SP){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Kq(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function zn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Hr(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const kg=Symbol("implicit");function m0(){var t=new t_,e=[],n=[],r=kg;function i(o){let a=t.get(o);if(a===void 0){if(r!==kg)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new t_;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return m0(e,n).unknown(r)},zn.apply(i,arguments),i}function ql(){var t=m0().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,g=i<r,y=g?i:r,v=g?r:i;o=(v-y)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),y+=(v-y-o*(h-l))*c,a=o*(1-l),s&&(y=Math.round(y),a=Math.round(a));var x=Kq(h).map(function(w){return y+o*w});return n(g?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return ql(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},zn.apply(d(),arguments)}function AP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return AP(e())},t}function dl(){return AP(ql.apply(null,arguments).paddingInner(1))}function g0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function CP(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Iu(){}var Gl=.7,Pd=1/Gl,ma="\\s*([+-]?\\d+)\\s*",Hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jq=/^#([0-9a-f]{3,8})$/,Yq=new RegExp(`^rgb\\(${ma},${ma},${ma}\\)$`),Xq=new RegExp(`^rgb\\(${mr},${mr},${mr}\\)$`),Qq=new RegExp(`^rgba\\(${ma},${ma},${ma},${Hl}\\)$`),Zq=new RegExp(`^rgba\\(${mr},${mr},${mr},${Hl}\\)$`),eG=new RegExp(`^hsl\\(${Hl},${mr},${mr}\\)$`),tG=new RegExp(`^hsla\\(${Hl},${mr},${mr},${Hl}\\)$`),o_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g0(Iu,Wl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:a_,formatHex:a_,formatHex8:nG,formatHsl:rG,formatRgb:s_,toString:s_});function a_(){return this.rgb().formatHex()}function nG(){return this.rgb().formatHex8()}function rG(){return kP(this).formatHsl()}function s_(){return this.rgb().formatRgb()}function Wl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Jq.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?l_(e):n===3?new nn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?uc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?uc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Yq.exec(t))?new nn(e[1],e[2],e[3],1):(e=Xq.exec(t))?new nn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Qq.exec(t))?uc(e[1],e[2],e[3],e[4]):(e=Zq.exec(t))?uc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=eG.exec(t))?d_(e[1],e[2]/100,e[3]/100,1):(e=tG.exec(t))?d_(e[1],e[2]/100,e[3]/100,e[4]):o_.hasOwnProperty(t)?l_(o_[t]):t==="transparent"?new nn(NaN,NaN,NaN,0):null}function l_(t){return new nn(t>>16&255,t>>8&255,t&255,1)}function uc(t,e,n,r){return r<=0&&(t=e=n=NaN),new nn(t,e,n,r)}function iG(t){return t instanceof Iu||(t=Wl(t)),t?(t=t.rgb(),new nn(t.r,t.g,t.b,t.opacity)):new nn}function Pg(t,e,n,r){return arguments.length===1?iG(t):new nn(t,e,n,r??1)}function nn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}g0(nn,Pg,CP(Iu,{brighter(t){return t=t==null?Pd:Math.pow(Pd,t),new nn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Gl:Math.pow(Gl,t),new nn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new nn(lo(this.r),lo(this.g),lo(this.b),Id(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:u_,formatHex:u_,formatHex8:oG,formatRgb:c_,toString:c_}));function u_(){return`#${no(this.r)}${no(this.g)}${no(this.b)}`}function oG(){return`#${no(this.r)}${no(this.g)}${no(this.b)}${no((isNaN(this.opacity)?1:this.opacity)*255)}`}function c_(){const t=Id(this.opacity);return`${t===1?"rgb(":"rgba("}${lo(this.r)}, ${lo(this.g)}, ${lo(this.b)}${t===1?")":`, ${t})`}`}function Id(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function lo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function no(t){return t=lo(t),(t<16?"0":"")+t.toString(16)}function d_(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new er(t,e,n,r)}function kP(t){if(t instanceof er)return new er(t.h,t.s,t.l,t.opacity);if(t instanceof Iu||(t=Wl(t)),!t)return new er;if(t instanceof er)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new er(a,s,l,t.opacity)}function aG(t,e,n,r){return arguments.length===1?kP(t):new er(t,e,n,r??1)}function er(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}g0(er,aG,CP(Iu,{brighter(t){return t=t==null?Pd:Math.pow(Pd,t),new er(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Gl:Math.pow(Gl,t),new er(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new nn(Mp(t>=240?t-240:t+120,i,r),Mp(t,i,r),Mp(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new er(f_(this.h),cc(this.s),cc(this.l),Id(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Id(this.opacity);return`${t===1?"hsl(":"hsla("}${f_(this.h)}, ${cc(this.s)*100}%, ${cc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function f_(t){return t=(t||0)%360,t<0?t+360:t}function cc(t){return Math.max(0,Math.min(1,t||0))}function Mp(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const v0=t=>()=>t;function sG(t,e){return function(n){return t+n*e}}function lG(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function uG(t){return(t=+t)==1?PP:function(e,n){return n-e?lG(e,n,t):v0(isNaN(e)?n:e)}}function PP(t,e){var n=e-t;return n?sG(t,n):v0(isNaN(t)?e:t)}const h_=function t(e){var n=uG(e);function r(i,o){var a=n((i=Pg(i)).r,(o=Pg(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=PP(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function cG(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function dG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fG(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=hs(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function hG(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Nd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function pG(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=hs(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Ig=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rp=new RegExp(Ig.source,"g");function mG(t){return function(){return t}}function gG(t){return function(e){return t(e)+""}}function vG(t,e){var n=Ig.lastIndex=Rp.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Ig.exec(t))&&(i=Rp.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Nd(r,i)})),n=Rp.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?gG(l[0].x):mG(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function hs(t,e){var n=typeof e,r;return e==null||n==="boolean"?v0(e):(n==="number"?Nd:n==="string"?(r=Wl(e))?(e=r,h_):vG:e instanceof Wl?h_:e instanceof Date?hG:dG(e)?cG:Array.isArray(e)?fG:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?pG:Nd)(t,e)}function y0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function yG(t,e){e===void 0&&(e=t,t=hs);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function wG(t){return function(){return t}}function Od(t){return+t}var p_=[0,1];function Jt(t){return t}function Ng(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:wG(isNaN(e)?NaN:.5)}function bG(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function xG(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Ng(i,r),o=n(a,o)):(r=Ng(r,i),o=n(o,a)),function(s){return o(r(s))}}function _G(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Ng(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Pu(t,s,1,r)-1;return o[l](i[l](s))}}function Nu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function uh(){var t=p_,e=p_,n=hs,r,i,o,a=Jt,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==Jt&&(a=bG(t[0],t[h-1])),s=h>2?_G:xG,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=s(e,t.map(r),Nd)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Od),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=y0,c()},d.clamp=function(h){return arguments.length?(a=h?!0:Jt,c()):a!==Jt},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,g){return r=h,i=g,c()}}function w0(){return uh()(Jt,Jt)}function SG(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Md(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ma(t){return t=Md(Math.abs(t)),t?t[1]:NaN}function EG(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function TG(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var AG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kl(t){if(!(e=AG.exec(t)))throw new Error("invalid format: "+t);var e;return new b0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Kl.prototype=b0.prototype;function b0(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}b0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function CG(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var IP;function kG(t,e){var n=Md(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(IP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Md(t,Math.max(0,e+o-1))[0]}function m_(t,e){var n=Md(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const g_={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:SG,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>m_(t*100,e),r:m_,s:kG,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function v_(t){return t}var y_=Array.prototype.map,w_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function PG(t){var e=t.grouping===void 0||t.thousands===void 0?v_:EG(y_.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?v_:TG(y_.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Kl(d);var h=d.fill,g=d.align,y=d.sign,v=d.symbol,x=d.zero,w=d.width,b=d.comma,_=d.precision,T=d.trim,S=d.type;S==="n"?(b=!0,S="g"):g_[S]||(_===void 0&&(_=12),T=!0,S="g"),(x||h==="0"&&g==="=")&&(x=!0,h="0",g="=");var E=v==="$"?n:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=v==="$"?r:/[%p]/.test(S)?a:"",C=g_[S],k=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(O){var R=E,j=A,B,D,M;if(S==="c")j=C(O)+j,O="";else{O=+O;var L=O<0||1/O<0;if(O=isNaN(O)?l:C(Math.abs(O),_),T&&(O=CG(O)),L&&+O==0&&y!=="+"&&(L=!1),R=(L?y==="("?y:s:y==="-"||y==="("?"":y)+R,j=(S==="s"?w_[8+IP/3]:"")+j+(L&&y==="("?")":""),k){for(B=-1,D=O.length;++B<D;)if(M=O.charCodeAt(B),48>M||M>57){j=(M===46?i+O.slice(B+1):O.slice(B))+j,O=O.slice(0,B);break}}}b&&!x&&(O=e(O,1/0));var $=R.length+O.length+j.length,U=$<w?new Array(w-$+1).join(h):"";switch(b&&x&&(O=e(U+O,U.length?w-j.length:1/0),U=""),g){case"<":O=R+O+j+U;break;case"=":O=R+U+O+j;break;case"^":O=U.slice(0,$=U.length>>1)+R+O+j+U.slice($);break;default:O=U+R+O+j;break}return o(O)}return P.toString=function(){return d+""},P}function c(d,h){var g=u((d=Kl(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(Ma(h)/3)))*3,v=Math.pow(10,-y),x=w_[8+y/3];return function(w){return g(v*w)+x}}return{format:u,formatPrefix:c}}var dc,x0,NP;IG({thousands:",",grouping:[3],currency:["$",""]});function IG(t){return dc=PG(t),x0=dc.format,NP=dc.formatPrefix,dc}function NG(t){return Math.max(0,-Ma(Math.abs(t)))}function OG(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ma(e)/3)))*3-Ma(Math.abs(t)))}function MG(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ma(e)-Ma(t))+1}function OP(t,e,n,r){var i=Cg(t,e,n),o;switch(r=Kl(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=OG(i,a))&&(r.precision=o),NP(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=MG(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=NG(i))&&(r.precision=o-(r.type==="%")*2);break}}return x0(r)}function ki(t){var e=t.domain;return t.ticks=function(n){var r=e();return Tg(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return OP(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Ag(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Rd(){var t=w0();return t.copy=function(){return Nu(t,Rd())},zn.apply(t,arguments),ki(t)}function MP(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Od),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return MP(t).unknown(e)},t=arguments.length?Array.from(t,Od):[0,1],ki(n)}function RP(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function b_(t){return Math.log(t)}function x_(t){return Math.exp(t)}function RG(t){return-Math.log(-t)}function $G(t){return-Math.exp(-t)}function DG(t){return isFinite(t)?+("1e"+t):t<0?0:t}function jG(t){return t===10?DG:t===Math.E?Math.exp:e=>Math.pow(t,e)}function LG(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function __(t){return(e,n)=>-t(-e,n)}function _0(t){const e=t(b_,x_),n=e.domain;let r=10,i,o;function a(){return i=LG(r),o=jG(r),n()[0]<0?(i=__(i),o=__(o),t(RG,$G)):t(b_,x_),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),g=i(c),y,v;const x=s==null?10:+s;let w=[];if(!(r%1)&&g-h<x){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(y=1;y<r;++y)if(v=h<0?y/o(-h):y*o(h),!(v<u)){if(v>c)break;w.push(v)}}else for(;h<=g;++h)for(y=r-1;y>=1;--y)if(v=h>0?y/o(-h):y*o(h),!(v<u)){if(v>c)break;w.push(v)}w.length*2<x&&(w=Tg(u,c,x))}else w=Tg(h,g,Math.min(g-h,x)).map(o);return d?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Kl(l)).precision==null&&(l.trim=!0),l=x0(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(RP(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function $P(){const t=_0(uh()).domain([1,10]);return t.copy=()=>Nu(t,$P()).base(t.base()),zn.apply(t,arguments),t}function S_(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function E_(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function S0(t){var e=1,n=t(S_(e),E_(e));return n.constant=function(r){return arguments.length?t(S_(e=+r),E_(e)):e},ki(n)}function DP(){var t=S0(uh());return t.copy=function(){return Nu(t,DP()).constant(t.constant())},zn.apply(t,arguments)}function T_(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function UG(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function BG(t){return t<0?-t*t:t*t}function E0(t){var e=t(Jt,Jt),n=1;function r(){return n===1?t(Jt,Jt):n===.5?t(UG,BG):t(T_(n),T_(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ki(e)}function T0(){var t=E0(uh());return t.copy=function(){return Nu(t,T0()).exponent(t.exponent())},zn.apply(t,arguments),t}function FG(){return T0.apply(null,arguments).exponent(.5)}function A_(t){return Math.sign(t)*t*t}function VG(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function jP(){var t=w0(),e=[0,1],n=!1,r;function i(o){var a=VG(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(A_(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Od)).map(A_)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return jP(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},zn.apply(i,arguments),ki(i)}function LP(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Wq(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Pu(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(xi),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return LP().domain(t).range(e).unknown(r)},zn.apply(o,arguments)}function UP(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Pu(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return UP().domain([t,e]).range(i).unknown(o)},zn.apply(ki(a),arguments)}function BP(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Pu(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return BP().domain(t).range(e).unknown(n)},zn.apply(i,arguments)}const $p=new Date,Dp=new Date;function St(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>St(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>($p.setTime(+o),Dp.setTime(+a),t($p),t(Dp),Math.floor(n($p,Dp))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const $d=St(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);$d.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?St(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):$d);$d.range;const kr=1e3,Dn=kr*60,Pr=Dn*60,Ur=Pr*24,A0=Ur*7,C_=Ur*30,jp=Ur*365,ro=St(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*kr)},(t,e)=>(e-t)/kr,t=>t.getUTCSeconds());ro.range;const C0=St(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*kr)},(t,e)=>{t.setTime(+t+e*Dn)},(t,e)=>(e-t)/Dn,t=>t.getMinutes());C0.range;const k0=St(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Dn)},(t,e)=>(e-t)/Dn,t=>t.getUTCMinutes());k0.range;const P0=St(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*kr-t.getMinutes()*Dn)},(t,e)=>{t.setTime(+t+e*Pr)},(t,e)=>(e-t)/Pr,t=>t.getHours());P0.range;const I0=St(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Pr)},(t,e)=>(e-t)/Pr,t=>t.getUTCHours());I0.range;const Ou=St(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Dn)/Ur,t=>t.getDate()-1);Ou.range;const ch=St(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ur,t=>t.getUTCDate()-1);ch.range;const FP=St(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ur,t=>Math.floor(t/Ur));FP.range;function Ao(t){return St(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Dn)/A0)}const dh=Ao(0),Dd=Ao(1),zG=Ao(2),qG=Ao(3),Ra=Ao(4),GG=Ao(5),HG=Ao(6);dh.range;Dd.range;zG.range;qG.range;Ra.range;GG.range;HG.range;function Co(t){return St(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/A0)}const fh=Co(0),jd=Co(1),WG=Co(2),KG=Co(3),$a=Co(4),JG=Co(5),YG=Co(6);fh.range;jd.range;WG.range;KG.range;$a.range;JG.range;YG.range;const N0=St(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());N0.range;const O0=St(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());O0.range;const Br=St(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Br.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:St(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Br.range;const Fr=St(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:St(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Fr.range;function VP(t,e,n,r,i,o){const a=[[ro,1,kr],[ro,5,5*kr],[ro,15,15*kr],[ro,30,30*kr],[o,1,Dn],[o,5,5*Dn],[o,15,15*Dn],[o,30,30*Dn],[i,1,Pr],[i,3,3*Pr],[i,6,6*Pr],[i,12,12*Pr],[r,1,Ur],[r,2,2*Ur],[n,1,A0],[e,1,C_],[e,3,3*C_],[t,1,jp]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const g=d&&typeof d.range=="function"?d:l(u,c,d),y=g?g.range(u,+c+1):[];return h?y.reverse():y}function l(u,c,d){const h=Math.abs(c-u)/d,g=p0(([,,x])=>x).right(a,h);if(g===a.length)return t.every(Cg(u/jp,c/jp,d));if(g===0)return $d.every(Math.max(Cg(u,c,d),1));const[y,v]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return y.every(v)}return[s,l]}const[XG,QG]=VP(Fr,O0,fh,FP,I0,k0),[ZG,eH]=VP(Br,N0,dh,Ou,P0,C0);function Lp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Up(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ls(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function tH(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Us(i),c=Bs(i),d=Us(o),h=Bs(o),g=Us(a),y=Bs(a),v=Us(s),x=Bs(s),w=Us(l),b=Bs(l),_={a:L,A:$,b:U,B:H,c:null,d:M_,e:M_,f:EH,g:RH,G:DH,H:xH,I:_H,j:SH,L:zP,m:TH,M:AH,p:Y,q:W,Q:D_,s:j_,S:CH,u:kH,U:PH,V:IH,w:NH,W:OH,x:null,X:null,y:MH,Y:$H,Z:jH,"%":$_},T={a:te,A:ve,b:xe,B:Ie,c:null,d:R_,e:R_,f:FH,g:XH,G:ZH,H:LH,I:UH,j:BH,L:GP,m:VH,M:zH,p:tt,q:Ne,Q:D_,s:j_,S:qH,u:GH,U:HH,V:WH,w:KH,W:JH,x:null,X:null,y:YH,Y:QH,Z:e9,"%":$_},S={a:P,A:O,b:R,B:j,c:B,d:N_,e:N_,f:vH,g:I_,G:P_,H:O_,I:O_,j:hH,L:gH,m:fH,M:pH,p:k,q:dH,Q:wH,s:bH,S:mH,u:aH,U:sH,V:lH,w:oH,W:uH,x:D,X:M,y:I_,Y:P_,Z:cH,"%":yH};_.x=E(n,_),_.X=E(r,_),_.c=E(e,_),T.x=E(n,T),T.X=E(r,T),T.c=E(e,T);function E(z,Z){return function(ne){var F=[],Te=-1,V=0,ce=z.length,ye,Re,nt;for(ne instanceof Date||(ne=new Date(+ne));++Te<ce;)z.charCodeAt(Te)===37&&(F.push(z.slice(V,Te)),(Re=k_[ye=z.charAt(++Te)])!=null?ye=z.charAt(++Te):Re=ye==="e"?" ":"0",(nt=Z[ye])&&(ye=nt(ne,Re)),F.push(ye),V=Te+1);return F.push(z.slice(V,Te)),F.join("")}}function A(z,Z){return function(ne){var F=Ls(1900,void 0,1),Te=C(F,z,ne+="",0),V,ce;if(Te!=ne.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(Z&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(V=Up(Ls(F.y,0,1)),ce=V.getUTCDay(),V=ce>4||ce===0?jd.ceil(V):jd(V),V=ch.offset(V,(F.V-1)*7),F.y=V.getUTCFullYear(),F.m=V.getUTCMonth(),F.d=V.getUTCDate()+(F.w+6)%7):(V=Lp(Ls(F.y,0,1)),ce=V.getDay(),V=ce>4||ce===0?Dd.ceil(V):Dd(V),V=Ou.offset(V,(F.V-1)*7),F.y=V.getFullYear(),F.m=V.getMonth(),F.d=V.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),ce="Z"in F?Up(Ls(F.y,0,1)).getUTCDay():Lp(Ls(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(ce+5)%7:F.w+F.U*7-(ce+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,Up(F)):Lp(F)}}function C(z,Z,ne,F){for(var Te=0,V=Z.length,ce=ne.length,ye,Re;Te<V;){if(F>=ce)return-1;if(ye=Z.charCodeAt(Te++),ye===37){if(ye=Z.charAt(Te++),Re=S[ye in k_?Z.charAt(Te++):ye],!Re||(F=Re(z,ne,F))<0)return-1}else if(ye!=ne.charCodeAt(F++))return-1}return F}function k(z,Z,ne){var F=u.exec(Z.slice(ne));return F?(z.p=c.get(F[0].toLowerCase()),ne+F[0].length):-1}function P(z,Z,ne){var F=g.exec(Z.slice(ne));return F?(z.w=y.get(F[0].toLowerCase()),ne+F[0].length):-1}function O(z,Z,ne){var F=d.exec(Z.slice(ne));return F?(z.w=h.get(F[0].toLowerCase()),ne+F[0].length):-1}function R(z,Z,ne){var F=w.exec(Z.slice(ne));return F?(z.m=b.get(F[0].toLowerCase()),ne+F[0].length):-1}function j(z,Z,ne){var F=v.exec(Z.slice(ne));return F?(z.m=x.get(F[0].toLowerCase()),ne+F[0].length):-1}function B(z,Z,ne){return C(z,e,Z,ne)}function D(z,Z,ne){return C(z,n,Z,ne)}function M(z,Z,ne){return C(z,r,Z,ne)}function L(z){return a[z.getDay()]}function $(z){return o[z.getDay()]}function U(z){return l[z.getMonth()]}function H(z){return s[z.getMonth()]}function Y(z){return i[+(z.getHours()>=12)]}function W(z){return 1+~~(z.getMonth()/3)}function te(z){return a[z.getUTCDay()]}function ve(z){return o[z.getUTCDay()]}function xe(z){return l[z.getUTCMonth()]}function Ie(z){return s[z.getUTCMonth()]}function tt(z){return i[+(z.getUTCHours()>=12)]}function Ne(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var Z=E(z+="",_);return Z.toString=function(){return z},Z},parse:function(z){var Z=A(z+="",!1);return Z.toString=function(){return z},Z},utcFormat:function(z){var Z=E(z+="",T);return Z.toString=function(){return z},Z},utcParse:function(z){var Z=A(z+="",!0);return Z.toString=function(){return z},Z}}}var k_={"-":"",_:" ",0:"0"},Pt=/^\s*\d+/,nH=/^%/,rH=/[\\^$*+?|[\]().{}]/g;function ke(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function iH(t){return t.replace(rH,"\\$&")}function Us(t){return new RegExp("^(?:"+t.map(iH).join("|")+")","i")}function Bs(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function oH(t,e,n){var r=Pt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function aH(t,e,n){var r=Pt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function sH(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lH(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uH(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function P_(t,e,n){var r=Pt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function I_(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cH(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function dH(t,e,n){var r=Pt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function fH(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function N_(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function hH(t,e,n){var r=Pt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function O_(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pH(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function mH(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gH(t,e,n){var r=Pt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vH(t,e,n){var r=Pt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yH(t,e,n){var r=nH.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function wH(t,e,n){var r=Pt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function bH(t,e,n){var r=Pt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function M_(t,e){return ke(t.getDate(),e,2)}function xH(t,e){return ke(t.getHours(),e,2)}function _H(t,e){return ke(t.getHours()%12||12,e,2)}function SH(t,e){return ke(1+Ou.count(Br(t),t),e,3)}function zP(t,e){return ke(t.getMilliseconds(),e,3)}function EH(t,e){return zP(t,e)+"000"}function TH(t,e){return ke(t.getMonth()+1,e,2)}function AH(t,e){return ke(t.getMinutes(),e,2)}function CH(t,e){return ke(t.getSeconds(),e,2)}function kH(t){var e=t.getDay();return e===0?7:e}function PH(t,e){return ke(dh.count(Br(t)-1,t),e,2)}function qP(t){var e=t.getDay();return e>=4||e===0?Ra(t):Ra.ceil(t)}function IH(t,e){return t=qP(t),ke(Ra.count(Br(t),t)+(Br(t).getDay()===4),e,2)}function NH(t){return t.getDay()}function OH(t,e){return ke(Dd.count(Br(t)-1,t),e,2)}function MH(t,e){return ke(t.getFullYear()%100,e,2)}function RH(t,e){return t=qP(t),ke(t.getFullYear()%100,e,2)}function $H(t,e){return ke(t.getFullYear()%1e4,e,4)}function DH(t,e){var n=t.getDay();return t=n>=4||n===0?Ra(t):Ra.ceil(t),ke(t.getFullYear()%1e4,e,4)}function jH(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ke(e/60|0,"0",2)+ke(e%60,"0",2)}function R_(t,e){return ke(t.getUTCDate(),e,2)}function LH(t,e){return ke(t.getUTCHours(),e,2)}function UH(t,e){return ke(t.getUTCHours()%12||12,e,2)}function BH(t,e){return ke(1+ch.count(Fr(t),t),e,3)}function GP(t,e){return ke(t.getUTCMilliseconds(),e,3)}function FH(t,e){return GP(t,e)+"000"}function VH(t,e){return ke(t.getUTCMonth()+1,e,2)}function zH(t,e){return ke(t.getUTCMinutes(),e,2)}function qH(t,e){return ke(t.getUTCSeconds(),e,2)}function GH(t){var e=t.getUTCDay();return e===0?7:e}function HH(t,e){return ke(fh.count(Fr(t)-1,t),e,2)}function HP(t){var e=t.getUTCDay();return e>=4||e===0?$a(t):$a.ceil(t)}function WH(t,e){return t=HP(t),ke($a.count(Fr(t),t)+(Fr(t).getUTCDay()===4),e,2)}function KH(t){return t.getUTCDay()}function JH(t,e){return ke(jd.count(Fr(t)-1,t),e,2)}function YH(t,e){return ke(t.getUTCFullYear()%100,e,2)}function XH(t,e){return t=HP(t),ke(t.getUTCFullYear()%100,e,2)}function QH(t,e){return ke(t.getUTCFullYear()%1e4,e,4)}function ZH(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$a(t):$a.ceil(t),ke(t.getUTCFullYear()%1e4,e,4)}function e9(){return"+0000"}function $_(){return"%"}function D_(t){return+t}function j_(t){return Math.floor(+t/1e3)}var Mo,WP,KP;t9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function t9(t){return Mo=tH(t),WP=Mo.format,Mo.parse,KP=Mo.utcFormat,Mo.utcParse,Mo}function n9(t){return new Date(t)}function r9(t){return t instanceof Date?+t:+new Date(+t)}function M0(t,e,n,r,i,o,a,s,l,u){var c=w0(),d=c.invert,h=c.domain,g=u(".%L"),y=u(":%S"),v=u("%I:%M"),x=u("%I %p"),w=u("%a %d"),b=u("%b %d"),_=u("%B"),T=u("%Y");function S(E){return(l(E)<E?g:s(E)<E?y:a(E)<E?v:o(E)<E?x:r(E)<E?i(E)<E?w:b:n(E)<E?_:T)(E)}return c.invert=function(E){return new Date(d(E))},c.domain=function(E){return arguments.length?h(Array.from(E,r9)):h().map(n9)},c.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},c.tickFormat=function(E,A){return A==null?S:u(A)},c.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(RP(A,E)):c},c.copy=function(){return Nu(c,M0(t,e,n,r,i,o,a,s,l,u))},c}function i9(){return zn.apply(M0(ZG,eH,Br,N0,dh,Ou,P0,C0,ro,WP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function o9(){return zn.apply(M0(XG,QG,Fr,O0,fh,ch,I0,k0,ro,KP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hh(){var t=0,e=1,n,r,i,o,a=Jt,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var g,y;return arguments.length?([g,y]=h,a=d(g,y),u):[a(0),a(1)]}}return u.range=c(hs),u.rangeRound=c(y0),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function Pi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function JP(){var t=ki(hh()(Jt));return t.copy=function(){return Pi(t,JP())},Hr.apply(t,arguments)}function YP(){var t=_0(hh()).domain([1,10]);return t.copy=function(){return Pi(t,YP()).base(t.base())},Hr.apply(t,arguments)}function XP(){var t=S0(hh());return t.copy=function(){return Pi(t,XP()).constant(t.constant())},Hr.apply(t,arguments)}function R0(){var t=E0(hh());return t.copy=function(){return Pi(t,R0()).exponent(t.exponent())},Hr.apply(t,arguments)}function a9(){return R0.apply(null,arguments).exponent(.5)}function QP(){var t=[],e=Jt;function n(r){if(r!=null&&!isNaN(r=+r))return e((Pu(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(xi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Hq(t,o/r))},n.copy=function(){return QP(e).domain(t)},Hr.apply(n,arguments)}function ph(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Jt,c,d=!1,h;function g(v){return isNaN(v=+v)?h:(v=.5+((v=+c(v))-o)*(r*v<r*o?s:l),u(d?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,e,n]=v,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(v){return arguments.length?(d=!!v,g):d},g.interpolator=function(v){return arguments.length?(u=v,g):u};function y(v){return function(x){var w,b,_;return arguments.length?([w,b,_]=x,u=yG(v,[w,b,_]),g):[u(0),u(.5),u(1)]}}return g.range=y(hs),g.rangeRound=y(y0),g.unknown=function(v){return arguments.length?(h=v,g):h},function(v){return c=v,i=v(t),o=v(e),a=v(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g}}function ZP(){var t=ki(ph()(Jt));return t.copy=function(){return Pi(t,ZP())},Hr.apply(t,arguments)}function eI(){var t=_0(ph()).domain([.1,1,10]);return t.copy=function(){return Pi(t,eI()).base(t.base())},Hr.apply(t,arguments)}function tI(){var t=S0(ph());return t.copy=function(){return Pi(t,tI()).constant(t.constant())},Hr.apply(t,arguments)}function $0(){var t=E0(ph());return t.copy=function(){return Pi(t,$0()).exponent(t.exponent())},Hr.apply(t,arguments)}function s9(){return $0.apply(null,arguments).exponent(.5)}const L_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ql,scaleDiverging:ZP,scaleDivergingLog:eI,scaleDivergingPow:$0,scaleDivergingSqrt:s9,scaleDivergingSymlog:tI,scaleIdentity:MP,scaleImplicit:kg,scaleLinear:Rd,scaleLog:$P,scaleOrdinal:m0,scalePoint:dl,scalePow:T0,scaleQuantile:LP,scaleQuantize:UP,scaleRadial:jP,scaleSequential:JP,scaleSequentialLog:YP,scaleSequentialPow:R0,scaleSequentialQuantile:QP,scaleSequentialSqrt:a9,scaleSequentialSymlog:XP,scaleSqrt:FG,scaleSymlog:DP,scaleThreshold:BP,scaleTime:i9,scaleUtc:o9,tickFormat:OP},Symbol.toStringTag,{value:"Module"}));var l9=is;function u9(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!l9(a):n(a,s)))var s=a,l=o}return l}var mh=u9;function c9(t,e){return t>e}var nI=c9,d9=mh,f9=nI,h9=fs;function p9(t){return t&&t.length?d9(t,h9,f9):void 0}var m9=p9;const gh=De(m9);function g9(t,e){return t<e}var rI=g9,v9=mh,y9=rI,w9=fs;function b9(t){return t&&t.length?v9(t,w9,y9):void 0}var x9=b9;const vh=De(x9);var _9=Ky,S9=br,E9=dP,T9=sn;function A9(t,e){var n=T9(t)?_9:E9;return n(t,S9(e))}var C9=A9,k9=uP,P9=C9;function I9(t,e){return k9(P9(t,e),1)}var N9=I9;const O9=De(N9);var M9=u0;function R9(t,e){return M9(t,e)}var $9=R9;const Mu=De($9);var ps=1e9,D9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},j0,et=!0,Fn="[DecimalError] ",uo=Fn+"Invalid argument: ",D0=Fn+"Exponent out of range: ",ms=Math.floor,Gi=Math.pow,j9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pn,Tt=1e7,Xe=7,iI=9007199254740991,Ld=ms(iI/Xe),ie={};ie.absoluteValue=ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ie.comparedTo=ie.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Xe;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ie.dividedBy=ie.div=function(t){return Mr(this,new this.constructor(t))};ie.dividedToIntegerBy=ie.idiv=function(t){var e=this,n=e.constructor;return Ue(Mr(e,new n(t),0,1),n.precision)};ie.equals=ie.eq=function(t){return!this.cmp(t)};ie.exponent=function(){return mt(this)};ie.greaterThan=ie.gt=function(t){return this.cmp(t)>0};ie.greaterThanOrEqualTo=ie.gte=function(t){return this.cmp(t)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(t){return this.cmp(t)<0};ie.lessThanOrEqualTo=ie.lte=function(t){return this.cmp(t)<1};ie.logarithm=ie.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(pn))throw Error(Fn+"NaN");if(n.s<1)throw Error(Fn+(n.s?"NaN":"-Infinity"));return n.eq(pn)?new r(0):(et=!1,e=Mr(Jl(n,o),Jl(t,o),o),et=!0,Ue(e,i))};ie.minus=ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sI(e,t):oI(e,(t.s=-t.s,t))};ie.modulo=ie.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Fn+"NaN");return n.s?(et=!1,e=Mr(n,t,0,1).times(t),et=!0,n.minus(e)):Ue(new r(n),i)};ie.naturalExponential=ie.exp=function(){return aI(this)};ie.naturalLogarithm=ie.ln=function(){return Jl(this)};ie.negated=ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ie.plus=ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oI(e,t):sI(e,(t.s=-t.s,t))};ie.precision=ie.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(uo+t);if(e=mt(i)+1,r=i.d.length-1,n=r*Xe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ie.squareRoot=ie.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Fn+"NaN")}for(t=mt(s),et=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=fr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ms((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Mr(s,o,a+2)).times(.5),fr(o.d).slice(0,a)===(e=fr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ue(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return et=!0,Ue(r,n)};ie.times=ie.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,g=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+g[r]*h[i-r-1]+e,o[i--]=s%Tt|0,e=s/Tt|0;o[i]=(o[i]+e)%Tt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,et?Ue(t,d.precision):t};ie.toDecimalPlaces=ie.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(vr(t,0,ps),e===void 0?e=r.rounding:vr(e,0,8),Ue(n,t+mt(n)+1,e))};ie.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=wo(r,!0):(vr(t,0,ps),e===void 0?e=i.rounding:vr(e,0,8),r=Ue(new i(r),t+1,e),n=wo(r,!0,t+1)),n};ie.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?wo(i):(vr(t,0,ps),e===void 0?e=o.rounding:vr(e,0,8),r=Ue(new o(i),t+mt(i)+1,e),n=wo(r.abs(),!1,t+mt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ie.toInteger=ie.toint=function(){var t=this,e=t.constructor;return Ue(new e(t),mt(t)+1,e.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(pn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Fn+"Infinity");return s}if(s.eq(pn))return s;if(r=l.precision,t.eq(pn))return Ue(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=iI){for(i=new l(pn),e=Math.ceil(r/Xe+4),et=!1;n%2&&(i=i.times(s),B_(i.d,e)),n=ms(n/2),n!==0;)s=s.times(s),B_(s.d,e);return et=!0,t.s<0?new l(pn).div(i):Ue(i,r)}}else if(o<0)throw Error(Fn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,et=!1,i=t.times(Jl(s,r+u)),et=!0,i=aI(i),i.s=o,i};ie.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=mt(i),r=wo(i,n<=o.toExpNeg||n>=o.toExpPos)):(vr(t,1,ps),e===void 0?e=o.rounding:vr(e,0,8),i=Ue(new o(i),t,e),n=mt(i),r=wo(i,t<=n||n<=o.toExpNeg,t)),r};ie.toSignificantDigits=ie.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(vr(t,1,ps),e===void 0?e=r.rounding:vr(e,0,8)),Ue(new r(n),t,e)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=mt(t),n=t.constructor;return wo(t,e<=n.toExpNeg||e>=n.toExpPos)};function oI(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),et?Ue(e,d):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/Xe),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Tt|0,l[o]%=Tt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,et?Ue(e,d):e}function vr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(uo+t)}function fr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Xe-r.length,n&&(o+=ni(n)),o+=r;a=t[e],r=a+"",n=Xe-r.length,n&&(o+=ni(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Mr=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Tt|0,a=o/Tt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Tt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,h,g,y,v,x,w,b,_,T,S,E,A,C,k=r.constructor,P=r.s==i.s?1:-1,O=r.d,R=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Fn+"Division by zero");for(l=r.e-i.e,A=R.length,S=O.length,g=new k(P),y=g.d=[],u=0;R[u]==(O[u]||0);)++u;if(R[u]>(O[u]||0)&&--l,o==null?b=o=k.precision:a?b=o+(mt(r)-mt(i))+1:b=o,b<0)return new k(0);if(b=b/Xe+2|0,u=0,A==1)for(c=0,R=R[0],b++;(u<S||c)&&b--;u++)_=c*Tt+(O[u]||0),y[u]=_/R|0,c=_%R|0;else{for(c=Tt/(R[0]+1)|0,c>1&&(R=t(R,c),O=t(O,c),A=R.length,S=O.length),T=A,v=O.slice(0,A),x=v.length;x<A;)v[x++]=0;C=R.slice(),C.unshift(0),E=R[0],R[1]>=Tt/2&&++E;do c=0,s=e(R,v,A,x),s<0?(w=v[0],A!=x&&(w=w*Tt+(v[1]||0)),c=w/E|0,c>1?(c>=Tt&&(c=Tt-1),d=t(R,c),h=d.length,x=v.length,s=e(d,v,h,x),s==1&&(c--,n(d,A<h?C:R,h))):(c==0&&(s=c=1),d=R.slice()),h=d.length,h<x&&d.unshift(0),n(v,d,x),s==-1&&(x=v.length,s=e(R,v,A,x),s<1&&(c++,n(v,A<x?C:R,x))),x=v.length):s===0&&(c++,v=[0]),y[u++]=c,s&&v[0]?v[x++]=O[T]||0:(v=[O[T]],x=1);while((T++<S||v[0]!==void 0)&&b--)}return y[0]||y.shift(),g.e=l,Ue(g,a?o+mt(g)+1:o)}}();function aI(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,d=c.precision;if(mt(t)>16)throw Error(D0+mt(t));if(!t.s)return new c(pn);for(et=!1,s=d,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Gi(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(pn),c.precision=s;;){if(i=Ue(i.times(t),s),n=n.times(++l),a=o.plus(Mr(i,n,s)),fr(a.d).slice(0,s)===fr(o.d).slice(0,s)){for(;u--;)o=Ue(o.times(o),s);return c.precision=d,e==null?(et=!0,Ue(o,d)):o}o=a}}function mt(t){for(var e=t.e*Xe,n=t.d[0];n>=10;n/=10)e++;return e}function Bp(t,e,n){if(e>t.LN10.sd())throw et=!0,n&&(t.precision=n),Error(Fn+"LN10 precision limit exceeded");return Ue(new t(t.LN10),e)}function ni(t){for(var e="";t--;)e+="0";return e}function Jl(t,e){var n,r,i,o,a,s,l,u,c,d=1,h=10,g=t,y=g.d,v=g.constructor,x=v.precision;if(g.s<1)throw Error(Fn+(g.s?"NaN":"-Infinity"));if(g.eq(pn))return new v(0);if(e==null?(et=!1,u=x):u=e,g.eq(10))return e==null&&(et=!0),Bp(v,u);if(u+=h,v.precision=u,n=fr(y),r=n.charAt(0),o=mt(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=fr(g.d),r=n.charAt(0),d++;o=mt(g),r>1?(g=new v("0."+n),o++):g=new v(r+"."+n.slice(1))}else return l=Bp(v,u+2,x).times(o+""),g=Jl(new v(r+"."+n.slice(1)),u-h).plus(l),v.precision=x,e==null?(et=!0,Ue(g,x)):g;for(s=a=g=Mr(g.minus(pn),g.plus(pn),u),c=Ue(g.times(g),u),i=3;;){if(a=Ue(a.times(c),u),l=s.plus(Mr(a,new v(i),u)),fr(l.d).slice(0,u)===fr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Bp(v,u+2,x).times(o+""))),s=Mr(s,new v(d),u),v.precision=x,e==null?(et=!0,Ue(s,x)):s;s=l,i+=2}}function U_(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ms(n/Xe),t.d=[],r=(n+1)%Xe,n<0&&(r+=Xe),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Xe;r<i;)t.d.push(+e.slice(r,r+=Xe));e=e.slice(r),r=Xe-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),et&&(t.e>Ld||t.e<-Ld))throw Error(D0+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ue(t,e,n){var r,i,o,a,s,l,u,c,d=t.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Xe,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/Xe),o=d.length,c>=o)return t;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=Xe,i=r-Xe+a}if(n!==void 0&&(o=Gi(10,a-i-1),s=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Gi(10,a-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=mt(t),d.length=1,e=e-o-1,d[0]=Gi(10,(Xe-e%Xe)%Xe),t.e=ms(-e/Xe)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=Gi(10,Xe-r),d[c]=i>0?(u/Gi(10,a-i)%Gi(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==Tt&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=Tt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(et&&(t.e>Ld||t.e<-Ld))throw Error(D0+mt(t));return t}function sI(t,e){var n,r,i,o,a,s,l,u,c,d,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),et?Ue(e,g):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(g/Xe),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=Tt-1;--l[o],l[i]+=Tt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,et?Ue(e,g):e):new h(0)}function wo(t,e,n){var r,i=mt(t),o=fr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+ni(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ni(-i-1)+o,n&&(r=n-a)>0&&(o+=ni(r))):i>=a?(o+=ni(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+ni(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=ni(r))),t.s<0?"-"+o:o}function B_(t,e){if(t.length>e)return t.length=e,!0}function lI(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(uo+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return U_(a,o.toString())}else if(typeof o!="string")throw Error(uo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,j9.test(o))U_(a,o);else throw Error(uo+o)}if(i.prototype=ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lI,i.config=i.set=L9,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function L9(t){if(!t||typeof t!="object")throw Error(Fn+"Object expected");var e,n,r,i=["precision",1,ps,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ms(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(uo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(uo+n+": "+r);return this}var j0=lI(D9);pn=new j0(1);const Le=j0;function U9(t){return z9(t)||V9(t)||F9(t)||B9()}function B9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F9(t,e){if(t){if(typeof t=="string")return Og(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Og(t,e)}}function V9(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function z9(t){if(Array.isArray(t))return Og(t)}function Og(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var q9=function(e){return e},uI={},cI=function(e){return e===uI},F_=function(e){return function n(){return arguments.length===0||arguments.length===1&&cI(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},G9=function t(e,n){return e===1?n:F_(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==uI}).length;return a>=e?n.apply(void 0,i):t(e-a,F_(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return cI(d)?l.shift():d});return n.apply(void 0,U9(c).concat(l))}))})},yh=function(e){return G9(e.length,e)},Mg=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},H9=yh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),W9=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return q9;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Rg=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},dI=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function K9(t){var e;return t===0?e=1:e=Math.floor(new Le(t).abs().log(10).toNumber())+1,e}function J9(t,e,n){for(var r=new Le(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Y9=yh(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),X9=yh(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Q9=yh(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const wh={rangeStep:J9,getDigitCount:K9,interpolateNumber:Y9,uninterpolateNumber:X9,uninterpolateTruncation:Q9};function $g(t){return tW(t)||eW(t)||fI(t)||Z9()}function Z9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eW(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function tW(t){if(Array.isArray(t))return Dg(t)}function Yl(t,e){return iW(t)||rW(t,e)||fI(t,e)||nW()}function nW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fI(t,e){if(t){if(typeof t=="string")return Dg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dg(t,e)}}function Dg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rW(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function iW(t){if(Array.isArray(t))return t}function hI(t){var e=Yl(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function pI(t,e,n){if(t.lte(0))return new Le(0);var r=wh.getDigitCount(t.toNumber()),i=new Le(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Le(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Le(Math.ceil(l))}function oW(t,e,n){var r=1,i=new Le(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Le(10).pow(wh.getDigitCount(t)-1),i=new Le(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Le(Math.floor(t)))}else t===0?i=new Le(Math.floor((e-1)/2)):n||(i=new Le(Math.floor(t)));var a=Math.floor((e-1)/2),s=W9(H9(function(l){return i.add(new Le(l-a).mul(r)).toNumber()}),Mg);return s(0,e)}function mI(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Le(0),tickMin:new Le(0),tickMax:new Le(0)};var o=pI(new Le(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Le(0):(a=new Le(t).add(e).div(2),a=a.sub(new Le(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Le(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?mI(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Le(s).mul(o)),tickMax:a.add(new Le(l).mul(o))})}function aW(t){var e=Yl(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=hI([n,r]),l=Yl(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat($g(Mg(0,i-1).map(function(){return 1/0}))):[].concat($g(Mg(0,i-1).map(function(){return-1/0})),[c]);return n>r?Rg(d):d}if(u===c)return oW(u,i,o);var h=mI(u,c,a,o),g=h.step,y=h.tickMin,v=h.tickMax,x=wh.rangeStep(y,v.add(new Le(.1).mul(g)),g);return n>r?Rg(x):x}function sW(t,e){var n=Yl(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=hI([r,i]),s=Yl(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=pI(new Le(u).sub(l).div(c-1),o,0),h=[].concat($g(wh.rangeStep(new Le(l),new Le(u).sub(new Le(.99).mul(d)),d)),[u]);return r>i?Rg(h):h}var lW=dI(aW),uW=dI(sW),cW="Invariant failed";function bo(t,e){throw new Error(cW)}var dW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Da(t){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(t)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ud.apply(this,arguments)}function fW(t,e){return gW(t)||mW(t,e)||pW(t,e)||hW()}function hW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pW(t,e){if(t){if(typeof t=="string")return V_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V_(t,e)}}function V_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function gW(t){if(Array.isArray(t))return t}function vW(t,e){if(t==null)return{};var n=yW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yI(r.key),r)}}function xW(t,e,n){return e&&bW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _W(t,e,n){return e=Bd(e),SW(t,gI()?Reflect.construct(e,n||[],Bd(t).constructor):e.apply(t,n))}function SW(t,e){if(e&&(Da(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EW(t)}function EW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gI=function(){return!!t})()}function Bd(t){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bd(t)}function TW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jg(t,e)}function jg(t,e){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jg(t,e)}function vI(t,e,n){return e=yI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yI(t){var e=AW(t,"string");return Da(e)=="symbol"?e:e+""}function AW(t,e){if(Da(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Da(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ru=function(t){function e(){return wW(this,e),_W(this,e,arguments)}return TW(e,t),xW(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=vW(r,dW),g=pe(h,!1);this.props.direction==="x"&&c.type!=="number"&&bo();var y=l.map(function(v){var x=u(v,s),w=x.x,b=x.y,_=x.value,T=x.errorVal;if(!T)return null;var S=[],E,A;if(Array.isArray(T)){var C=fW(T,2);E=C[0],A=C[1]}else E=A=T;if(o==="vertical"){var k=c.scale,P=b+i,O=P+a,R=P-a,j=k(_-E),B=k(_+A);S.push({x1:B,y1:O,x2:B,y2:R}),S.push({x1:j,y1:P,x2:B,y2:P}),S.push({x1:j,y1:O,x2:j,y2:R})}else if(o==="horizontal"){var D=d.scale,M=w+i,L=M-a,$=M+a,U=D(_-E),H=D(_+A);S.push({x1:L,y1:H,x2:$,y2:H}),S.push({x1:M,y1:U,x2:M,y2:H}),S.push({x1:L,y1:U,x2:$,y2:U})}return I.createElement(Ce,Ud({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},g),S.map(function(Y){return I.createElement("line",Ud({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return I.createElement(Ce,{className:"recharts-errorBars"},y)}}])}(I.Component);vI(Ru,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});vI(Ru,"displayName","ErrorBar");function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function z_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z_(Object(n),!0).forEach(function(r){CW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CW(t,e,n){return e=kW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kW(t){var e=PW(t,"string");return Xl(e)=="symbol"?e:e+""}function PW(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wI=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=fn(n,bi);if(!a)return null;var s=bi.defaultProps,l=s!==void 0?Di(Di({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,g=d.props,y=g.sectors||g.data||[];return c.concat(y.map(function(v){return{type:a.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,g=h!==void 0?Di(Di({},h),d.props):{},y=g.dataKey,v=g.name,x=g.legendType,w=g.hide;return{inactive:w,dataKey:y,type:l.iconType||x||"square",color:L0(d),value:v||y,payload:g}}),Di(Di(Di({},l),bi.getWithHeight(a,i)),{},{payload:u,item:a})};function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function q_(t){return MW(t)||OW(t)||NW(t)||IW()}function IW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NW(t,e){if(t){if(typeof t=="string")return Lg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lg(t,e)}}function OW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MW(t){if(Array.isArray(t))return Lg(t)}function Lg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(n),!0).forEach(function(r){ga(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ga(t,e,n){return e=RW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RW(t){var e=$W(t,"string");return Ql(e)=="symbol"?e:e+""}function $W(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bt(t,e,n){return _e(t)||_e(e)?n:_t(e)?wn(t,e,n):be(e)?e(t):n}function fl(t,e,n,r){var i=O9(t,function(s){return bt(s,e)});if(n==="number"){var o=i.filter(function(s){return X(s)||parseFloat(s)});return o.length?[vh(o),gh(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!_e(s)}):i;return a.map(function(s){return _t(s)||s instanceof Date?s:""})}var DW=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Wt(d-c)!==Wt(h-d)){var y=[];if(Wt(h-d)===Wt(l[1]-l[0])){g=h;var v=d+l[1]-l[0];y[0]=Math.min(v,(v+c)/2),y[1]=Math.max(v,(v+c)/2)}else{g=c;var x=h+l[1]-l[0];y[0]=Math.min(d,(x+d)/2),y[1]=Math.max(d,(x+d)/2)}var w=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(e>w[0]&&e<=w[1]||e>=y[0]&&e<=y[1]){a=i[u].index;break}}else{var b=Math.min(c,h),_=Math.max(c,h);if(e>(b+d)/2&&e<=(_+d)/2){a=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},L0=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ut(ut({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},jW=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,d=Object.keys(c),h=0,g=d.length;h<g;h++){var y=c[d[h]],v=y.items,x=y.cateAxisId,w=v.filter(function(A){return Or(A.type).indexOf("Bar")>=0});if(w&&w.length){var b=w[0].type.defaultProps,_=b!==void 0?ut(ut({},b),w[0].props):w[0].props,T=_.barSize,S=_[x];a[S]||(a[S]=[]);var E=_e(T)?n:T;a[S].push({item:w[0],stackList:w.slice(1),barSize:_e(E)?void 0:Kt(E,r,0)})}}return a},LW=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Kt(n,i,0,!0),c,d=[];if(a[0].barSize===+a[0].barSize){var h=!1,g=i/l,y=a.reduce(function(T,S){return T+S.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&g>0&&(h=!0,g*=.9,y=l*g);var v=(i-y)/2>>0,x={offset:v-u,size:0};c=a.reduce(function(T,S){var E={item:S.item,position:{offset:x.offset+x.size+u,size:h?g:S.barSize}},A=[].concat(q_(T),[E]);return x=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:x})}),A},d)}else{var w=Kt(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var b=(i-2*w-(l-1)*u)/l;b>1&&(b>>=0);var _=s===+s?Math.min(b,s):b;c=a.reduce(function(T,S,E){var A=[].concat(q_(T),[{item:S.item,position:{offset:w+(b+u)*E+(b-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:A[A.length-1].position})}),A},d)}return c},UW=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=wI({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,g=u.align,y=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&y==="middle")&&g!=="center"&&X(e[g]))return ut(ut({},e),{},ga({},g,e[g]+(d||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&y!=="middle"&&X(e[y]))return ut(ut({},e),{},ga({},y,e[y]+(h||0)))}return e},BW=function(e,n,r){return _e(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},bI=function(e,n,r,i,o){var a=n.props.children,s=bn(a,Ru).filter(function(u){return BW(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=bt(c,r);if(_e(d))return u;var h=Array.isArray(d)?[vh(d),gh(d)]:[d,d],g=l.reduce(function(y,v){var x=bt(c,v,0),w=h[0]-Math.abs(Array.isArray(x)?x[0]:x),b=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(w,y[0]),Math.max(b,y[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},FW=function(e,n,r,i,o){var a=n.map(function(s){return bI(e,s,r,o,i)}).filter(function(s){return!_e(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},xI=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&bI(e,l,u,i)||fl(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},_I=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},SI=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Ir=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Wt(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!Cu(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},Fp=new WeakMap,fc=function(e,n){if(typeof n!="function")return e;Fp.has(e)||Fp.set(e,new WeakMap);var r=Fp.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},EI=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:ql(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Rd(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:dl(),realScaleType:"point"}:o==="category"?{scale:ql(),realScaleType:"band"}:{scale:Rd(),realScaleType:"linear"};if(go(i)){var l="scale".concat(th(i));return{scale:(L_[l]||dl)(),realScaleType:L_[l]?l:"point"}}return be(i)?{scale:i}:{scale:dl(),realScaleType:"point"}},H_=1e-4,TI=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-H_,a=Math.max(i[0],i[1])+H_,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},VW=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},zW=function(e,n){if(!n||n.length!==2||!X(n[0])||!X(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!X(e[0])||e[0]<r)&&(o[0]=r),(!X(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},qW=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Cu(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},GW=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Cu(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},HW={sign:qW,expand:dU,none:ka,silhouette:fU,wiggle:hU,positive:GW},WW=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=HW[r],a=cU().keys(i).value(function(s,l){return+bt(s,l,0)}).order(ug).offset(o);return a(e)},KW=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(d,h){var g,y=(g=h.type)!==null&&g!==void 0&&g.defaultProps?ut(ut({},h.type.defaultProps),h.props):h.props,v=y.stackId,x=y.hide;if(x)return d;var w=y[r],b=d[w]||{hasStack:!1,stackGroups:{}};if(_t(v)){var _=b.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),b.hasStack=!0,b.stackGroups[v]=_}else b.stackGroups[us("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return ut(ut({},d),{},ga({},w,b))},l),c={};return Object.keys(u).reduce(function(d,h){var g=u[h];if(g.hasStack){var y={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,x){var w=g.stackGroups[x];return ut(ut({},v),{},ga({},x,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:WW(e,w.items,o)}))},y)}return ut(ut({},d),{},ga({},h,g))},c)},AI=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=lW(u,o,s);return e.domain([vh(c),gh(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=uW(d,o,s);return{niceTicks:h}}return null};function W_(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_e(i[e.dataKey])){var s=hd(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=bt(i,_e(a)?e.dataKey:a);return _e(l)?null:e.scale(l)}var K_=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=bt(a,n.dataKey,n.domain[s]);return _e(l)?null:n.scale(l)-o/2+i},JW=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},YW=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ut(ut({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(_t(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},XW=function(e){return e.reduce(function(n,r){return[vh(r.concat([n[0]]).filter(X)),gh(r.concat([n[1]]).filter(X))]},[1/0,-1/0])},CI=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var d=XW(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},J_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ug=function(e,n,r){if(be(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(X(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(J_.test(e[0])){var o=+J_.exec(e[0])[1];i[0]=n[0]-o}else be(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(X(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Y_.test(e[1])){var a=+Y_.exec(e[1])[1];i[1]=n[1]+a}else be(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Fd=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=d0(n,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},X_=function(e,n,r){return!e||!e.length||Mu(e,wn(r,"type.defaultProps.domain"))?n:e},kI=function(e,n){var r=e.type.defaultProps?ut(ut({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return ut(ut({},pe(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:L0(e),value:bt(n,i),type:l,payload:n,chartType:u,hide:c})};function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function Q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q_(Object(n),!0).forEach(function(r){PI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PI(t,e,n){return e=QW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QW(t){var e=ZW(t,"string");return Zl(e)=="symbol"?e:e+""}function ZW(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eK(t,e){return iK(t)||rK(t,e)||nK(t,e)||tK()}function tK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nK(t,e){if(t){if(typeof t=="string")return Z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(t,e)}}function Z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function iK(t){if(Array.isArray(t))return t}var Vd=Math.PI/180,oK=function(e){return e*180/Math.PI},qe=function(e,n,r,i){return{x:e+Math.cos(-Vd*i)*r,y:n+Math.sin(-Vd*i)*r}},II=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},aK=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=Kt(e.cx,a,a/2),d=Kt(e.cy,s,s/2),h=II(a,s,r),g=Kt(e.innerRadius,h,0),y=Kt(e.outerRadius,h,h*.8),v=Object.keys(n);return v.reduce(function(x,w){var b=n[w],_=b.domain,T=b.reversed,S;if(_e(b.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[g,y]),T&&(S=[S[1],S[0]]);else{S=b.range;var E=S,A=eK(E,2);l=A[0],u=A[1]}var C=EI(b,o),k=C.realScaleType,P=C.scale;P.domain(_).range(S),TI(P);var O=AI(P,Sr(Sr({},b),{},{realScaleType:k})),R=Sr(Sr(Sr({},b),O),{},{range:S,radius:y,realScaleType:k,scale:P,cx:c,cy:d,innerRadius:g,outerRadius:y,startAngle:l,endAngle:u});return Sr(Sr({},x),{},PI({},w,R))},{})},sK=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},lK=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=sK({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:oK(u),angleInRadian:u}},uK=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},cK=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},eS=function(e,n){var r=e.x,i=e.y,o=lK({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=uK(n),d=c.startAngle,h=c.endAngle,g=s,y;if(d<=h){for(;g>h;)g-=360;for(;g<d;)g+=360;y=g>=d&&g<=h}else{for(;g>d;)g-=360;for(;g<h;)g+=360;y=g>=h&&g<=d}return y?Sr(Sr({},n),{},{radius:a,angle:cK(g,n)}):null},NI=function(e){return!N.isValidElement(e)&&!be(e)&&typeof e!="boolean"?e.className:""};function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}var dK=["offset"];function fK(t){return gK(t)||mK(t)||pK(t)||hK()}function hK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pK(t,e){if(t){if(typeof t=="string")return Bg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bg(t,e)}}function mK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gK(t){if(Array.isArray(t))return Bg(t)}function Bg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vK(t,e){if(t==null)return{};var n=yK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(n),!0).forEach(function(r){wK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wK(t,e,n){return e=bK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bK(t){var e=xK(t,"string");return eu(e)=="symbol"?e:e+""}function xK(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tu.apply(this,arguments)}var _K=function(e){var n=e.value,r=e.formatter,i=_e(e.children)?n:e.children;return be(r)?r(i):i},SK=function(e,n){var r=Wt(n-e),i=Math.min(Math.abs(n-e),360);return r*i},EK=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,g=l.startAngle,y=l.endAngle,v=l.clockWise,x=(d+h)/2,w=SK(g,y),b=w>=0?1:-1,_,T;i==="insideStart"?(_=g+b*a,T=v):i==="insideEnd"?(_=y-b*a,T=!v):i==="end"&&(_=y+b*a,T=v),T=w<=0?T:!T;var S=qe(u,c,x,_),E=qe(u,c,x,_+(T?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(T?0:1,`,
    `).concat(E.x,",").concat(E.y),C=_e(e.id)?us("recharts-radial-line-"):e.id;return I.createElement("text",tu({},r,{dominantBaseline:"central",className:Se("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:C,d:A})),I.createElement("textPath",{xlinkHref:"#".concat(C)},n))},TK=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var g=qe(a,s,u+r,h),y=g.x,v=g.y;return{x:y,y:v,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,w=qe(a,s,x,h),b=w.x,_=w.y;return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},AK=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,d=c>=0?1:-1,h=d*i,g=d>0?"end":"start",y=d>0?"start":"end",v=u>=0?1:-1,x=v*i,w=v>0?"end":"start",b=v>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:g};return vt(vt({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:y};return vt(vt({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:s-x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return vt(vt({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var E={x:s+u+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return vt(vt({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return o==="insideLeft"?vt({x:s+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},A):o==="insideRight"?vt({x:s+u-x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},A):o==="insideTop"?vt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:y},A):o==="insideBottom"?vt({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:g},A):o==="insideTopLeft"?vt({x:s+x,y:l+h,textAnchor:b,verticalAnchor:y},A):o==="insideTopRight"?vt({x:s+u-x,y:l+h,textAnchor:w,verticalAnchor:y},A):o==="insideBottomLeft"?vt({x:s+x,y:l+c-h,textAnchor:b,verticalAnchor:g},A):o==="insideBottomRight"?vt({x:s+u-x,y:l+c-h,textAnchor:w,verticalAnchor:g},A):os(o)&&(X(o.x)||to(o.x))&&(X(o.y)||to(o.y))?vt({x:s+Kt(o.x,u),y:l+Kt(o.y,c),textAnchor:"end",verticalAnchor:"end"},A):vt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},CK=function(e){return"cx"in e&&X(e.cx)};function Ct(t){var e=t.offset,n=e===void 0?5:e,r=vK(t,dK),i=vt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||_e(s)&&_e(l)&&!N.isValidElement(u)&&!be(u))return null;if(N.isValidElement(u))return N.cloneElement(u,i);var g;if(be(u)){if(g=N.createElement(u,i),N.isValidElement(g))return g}else g=_K(i);var y=CK(o),v=pe(i,!0);if(y&&(a==="insideStart"||a==="insideEnd"||a==="end"))return EK(i,g,v);var x=y?TK(i):AK(i);return I.createElement(yo,tu({className:Se("recharts-label",d)},v,x,{breakAll:h}),g)}Ct.displayName="Label";var OI=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,g=e.top,y=e.left,v=e.width,x=e.height,w=e.clockWise,b=e.labelViewBox;if(b)return b;if(X(v)&&X(x)){if(X(d)&&X(h))return{x:d,y:h,width:v,height:x};if(X(g)&&X(y))return{x:g,y,width:v,height:x}}return X(d)&&X(h)?{x:d,y:h,width:0,height:0}:X(n)&&X(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},kK=function(e,n){return e?e===!0?I.createElement(Ct,{key:"label-implicit",viewBox:n}):_t(e)?I.createElement(Ct,{key:"label-implicit",viewBox:n,value:e}):N.isValidElement(e)?e.type===Ct?N.cloneElement(e,{key:"label-implicit",viewBox:n}):I.createElement(Ct,{key:"label-implicit",content:e,viewBox:n}):be(e)?I.createElement(Ct,{key:"label-implicit",content:e,viewBox:n}):os(e)?I.createElement(Ct,tu({viewBox:n},e,{key:"label-implicit"})):null:null},PK=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=OI(e),a=bn(i,Ct).map(function(l,u){return N.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=kK(e.label,n||o);return[s].concat(fK(a))};Ct.parseViewBox=OI;Ct.renderCallByParent=PK;function IK(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var NK=IK;const OK=De(NK);function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}var MK=["valueAccessor"],RK=["data","dataKey","clockWise","id","textBreakAll"];function $K(t){return UK(t)||LK(t)||jK(t)||DK()}function DK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jK(t,e){if(t){if(typeof t=="string")return Fg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fg(t,e)}}function LK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UK(t){if(Array.isArray(t))return Fg(t)}function Fg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zd(){return zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zd.apply(this,arguments)}function nS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(n),!0).forEach(function(r){BK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BK(t,e,n){return e=FK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FK(t){var e=VK(t,"string");return nu(e)=="symbol"?e:e+""}function VK(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iS(t,e){if(t==null)return{};var n=zK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qK=function(e){return Array.isArray(e.value)?OK(e.value):e.value};function Rr(t){var e=t.valueAccessor,n=e===void 0?qK:e,r=iS(t,MK),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=iS(r,RK);return!i||!i.length?null:I.createElement(Ce,{className:"recharts-label-list"},i.map(function(c,d){var h=_e(o)?n(c,d):bt(c&&c.payload,o),g=_e(s)?{}:{id:"".concat(s,"-").concat(d)};return I.createElement(Ct,zd({},pe(c,!0),u,g,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Ct.parseViewBox(_e(a)?c:rS(rS({},c),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Rr.displayName="LabelList";function GK(t,e){return t?t===!0?I.createElement(Rr,{key:"labelList-implicit",data:e}):I.isValidElement(t)||be(t)?I.createElement(Rr,{key:"labelList-implicit",data:e,content:t}):os(t)?I.createElement(Rr,zd({data:e},t,{key:"labelList-implicit"})):null:null}function HK(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=bn(r,Rr).map(function(a,s){return N.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=GK(t.label,e);return[o].concat($K(i))}Rr.renderCallByParent=HK;function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(this,arguments)}function oS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oS(Object(n),!0).forEach(function(r){WK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WK(t,e,n){return e=KK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KK(t){var e=JK(t,"string");return ru(e)=="symbol"?e:e+""}function JK(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YK=function(e,n){var r=Wt(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},hc=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/Vd,h=u?o:o+a*d,g=qe(n,r,c,h),y=qe(n,r,i,h),v=u?o-a*d:o,x=qe(n,r,c*Math.cos(d*Vd),v);return{center:g,circleTangency:y,lineTangency:x,theta:d}},MI=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=YK(a,s),u=a+l,c=qe(n,r,o,a),d=qe(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=qe(n,r,i,a),y=qe(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},XK=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Wt(c-u),h=hc({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),g=h.circleTangency,y=h.lineTangency,v=h.theta,x=hc({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),w=x.circleTangency,b=x.lineTangency,_=x.theta,T=l?Math.abs(u-c):Math.abs(u-c)-v-_;if(T<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):MI({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var E=hc({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=E.circleTangency,C=E.lineTangency,k=E.theta,P=hc({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=P.circleTangency,R=P.lineTangency,j=P.theta,B=l?Math.abs(u-c):Math.abs(u-c)-k-j;if(B<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},QK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RI=function(e){var n=aS(aS({},QK),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(a<o||c===d)return null;var g=Se("recharts-sector",h),y=a-o,v=Kt(s,y,0,!0),x;return v>0&&Math.abs(c-d)<360?x=XK({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(v,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):x=MI({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:d}),I.createElement("path",Vg({},pe(n,!0),{className:g,d:x,role:"img"}))};function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(this,arguments)}function sS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sS(Object(n),!0).forEach(function(r){ZK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZK(t,e,n){return e=eJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eJ(t){var e=tJ(t,"string");return iu(e)=="symbol"?e:e+""}function tJ(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uS={curveBasisClosed:Z3,curveBasisOpen:eU,curveBasis:Q3,curveBumpX:L3,curveBumpY:U3,curveLinearClosed:tU,curveLinear:rh,curveMonotoneX:nU,curveMonotoneY:rU,curveNatural:iU,curveStep:oU,curveStepAfter:sU,curveStepBefore:aU},pc=function(e){return e.x===+e.x&&e.y===+e.y},Fs=function(e){return e.x},Vs=function(e){return e.y},nJ=function(e,n){if(be(e))return e;var r="curve".concat(th(e));return(r==="curveMonotone"||r==="curveBump")&&n?uS["".concat(r).concat(n==="vertical"?"Y":"X")]:uS[r]||rh},rJ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=nJ(r,s),d=u?o.filter(function(v){return pc(v)}):o,h;if(Array.isArray(a)){var g=u?a.filter(function(v){return pc(v)}):a,y=d.map(function(v,x){return lS(lS({},v),{},{base:g[x]})});return s==="vertical"?h=ic().y(Vs).x1(Fs).x0(function(v){return v.base.x}):h=ic().x(Fs).y1(Vs).y0(function(v){return v.base.y}),h.defined(pc).curve(c),h(y)}return s==="vertical"&&X(a)?h=ic().y(Vs).x1(Fs).x0(a):X(a)?h=ic().x(Fs).y1(Vs).y0(a):h=kk().x(Fs).y(Vs),h.defined(pc).curve(c),h(d)},qd=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?rJ(e):i;return N.createElement("path",zg({},pe(e,!1),pd(e),{className:Se("recharts-curve",n),d:a,ref:o}))},$I={exports:{}},iJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oJ=iJ,aJ=oJ;function DI(){}function jI(){}jI.resetWarningCache=DI;var sJ=function(){function t(r,i,o,a,s,l){if(l!==aJ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:jI,resetWarningCache:DI};return n.PropTypes=n,n};$I.exports=sJ();var lJ=$I.exports;const Me=De(lJ);var uJ=Object.getOwnPropertyNames,cJ=Object.getOwnPropertySymbols,dJ=Object.prototype.hasOwnProperty;function cS(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function mc(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function fJ(t){return t!=null?t[Symbol.toStringTag]:void 0}function dS(t){return uJ(t).concat(cJ(t))}var hJ=Object.hasOwn||function(t,e){return dJ.call(t,e)};function ko(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var pJ="__v",mJ="__o",gJ="_owner",fS=Object.getOwnPropertyDescriptor,hS=Object.keys;function vJ(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function yJ(t,e){return ko(t.getTime(),e.getTime())}function wJ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function bJ(t,e){return t===e}function pS(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),c=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var h=a.value,g=s.value;if(n.equals(h[0],g[0],l,d,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}var xJ=ko;function _J(t,e,n){var r=hS(t),i=r.length;if(hS(e).length!==i)return!1;for(;i-- >0;)if(!LI(t,e,n,r[i]))return!1;return!0}function zs(t,e,n){var r=dS(t),i=r.length;if(dS(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!LI(t,e,n,o)||(a=fS(t,o),s=fS(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function SJ(t,e){return ko(t.valueOf(),e.valueOf())}function EJ(t,e){return t.source===e.source&&t.flags===e.flags}function mS(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function TJ(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function AJ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function LI(t,e,n,r){return(r===gJ||r===mJ||r===pJ)&&(t.$$typeof||e.$$typeof)?!0:hJ(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var CJ="[object Arguments]",kJ="[object Boolean]",PJ="[object Date]",IJ="[object Error]",NJ="[object Map]",OJ="[object Number]",MJ="[object Object]",RJ="[object RegExp]",$J="[object Set]",DJ="[object String]",jJ="[object URL]",LJ=Array.isArray,gS=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,vS=Object.assign,UJ=Object.prototype.toString.call.bind(Object.prototype.toString);function BJ(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual,g=t.unknownTagComparators;return function(v,x,w){if(v===x)return!0;if(v==null||x==null)return!1;var b=typeof v;if(b!==typeof x)return!1;if(b!=="object")return b==="number"?a(v,x,w):b==="function"?i(v,x,w):!1;var _=v.constructor;if(_!==x.constructor)return!1;if(_===Object)return s(v,x,w);if(LJ(v))return e(v,x,w);if(gS!=null&&gS(v))return d(v,x,w);if(_===Date)return n(v,x,w);if(_===RegExp)return u(v,x,w);if(_===Map)return o(v,x,w);if(_===Set)return c(v,x,w);var T=UJ(v);if(T===PJ)return n(v,x,w);if(T===RJ)return u(v,x,w);if(T===NJ)return o(v,x,w);if(T===$J)return c(v,x,w);if(T===MJ)return typeof v.then!="function"&&typeof x.then!="function"&&s(v,x,w);if(T===jJ)return h(v,x,w);if(T===IJ)return r(v,x,w);if(T===CJ)return s(v,x,w);if(T===kJ||T===OJ||T===DJ)return l(v,x,w);if(g){var S=g[T];if(!S){var E=fJ(v);E&&(S=g[E])}if(S)return S(v,x,w)}return!1}}function FJ(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?zs:vJ,areDatesEqual:yJ,areErrorsEqual:wJ,areFunctionsEqual:bJ,areMapsEqual:r?cS(pS,zs):pS,areNumbersEqual:xJ,areObjectsEqual:r?zs:_J,arePrimitiveWrappersEqual:SJ,areRegExpsEqual:EJ,areSetsEqual:r?cS(mS,zs):mS,areTypedArraysEqual:r?zs:TJ,areUrlsEqual:AJ,unknownTagComparators:void 0};if(n&&(i=vS({},i,n(i))),e){var o=mc(i.areArraysEqual),a=mc(i.areMapsEqual),s=mc(i.areObjectsEqual),l=mc(i.areSetsEqual);i=vS({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function VJ(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function zJ(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),d=c.cache,h=d===void 0?e?new WeakMap:void 0:d,g=c.meta;return n(l,u,{cache:h,equals:i,meta:g,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var qJ=Ii();Ii({strict:!0});Ii({circular:!0});Ii({circular:!0,strict:!0});Ii({createInternalComparator:function(){return ko}});Ii({strict:!0,createInternalComparator:function(){return ko}});Ii({circular:!0,createInternalComparator:function(){return ko}});Ii({circular:!0,createInternalComparator:function(){return ko},strict:!0});function Ii(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=FJ(t),l=BJ(s),u=r?r(l):VJ(l);return zJ({circular:n,comparator:l,createState:i,equals:u,strict:a})}function GJ(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function yS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):GJ(i)};requestAnimationFrame(r)}function qg(t){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}function HJ(t){return YJ(t)||JJ(t)||KJ(t)||WJ()}function WJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KJ(t,e){if(t){if(typeof t=="string")return wS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wS(t,e)}}function wS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YJ(t){if(Array.isArray(t))return t}function XJ(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=HJ(a),l=s[0],u=s.slice(1);if(typeof l=="number"){yS(i.bind(null,u),l);return}i(l),yS(i.bind(null,u));return}qg(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function bS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bS(Object(n),!0).forEach(function(r){UI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UI(t,e,n){return e=QJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QJ(t){var e=ZJ(t,"string");return ou(e)==="symbol"?e:String(e)}function ZJ(t,e){if(ou(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eY=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},tY=function(e){return e},nY=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},hl=function(e,n){return Object.keys(n).reduce(function(r,i){return xS(xS({},r),{},UI({},i,e(i,n[i])))},{})},_S=function(e,n,r){return e.map(function(i){return"".concat(nY(i)," ").concat(n,"ms ").concat(r)}).join(",")};function rY(t,e){return aY(t)||oY(t,e)||BI(t,e)||iY()}function iY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function aY(t){if(Array.isArray(t))return t}function sY(t){return cY(t)||uY(t)||BI(t)||lY()}function lY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BI(t,e){if(t){if(typeof t=="string")return Gg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gg(t,e)}}function uY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cY(t){if(Array.isArray(t))return Gg(t)}function Gg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Gd=1e-4,FI=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},VI=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},SS=function(e,n){return function(r){var i=FI(e,n);return VI(i,r)}},dY=function(e,n){return function(r){var i=FI(e,n),o=[].concat(sY(i.map(function(a,s){return a*s}).slice(1)),[0]);return VI(o,r)}},ES=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=rY(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var d=SS(i,a),h=SS(o,s),g=dY(i,a),y=function(w){return w>1?1:w<0?0:w},v=function(w){for(var b=w>1?1:w,_=b,T=0;T<8;++T){var S=d(_)-b,E=g(_);if(Math.abs(S-b)<Gd||E<Gd)return h(_);_=y(_-S/E)}return h(_)};return v.isStepper=!1,v},fY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,d,h){var g=-(c-d)*r,y=h*o,v=h+(g-y)*s/1e3,x=h*s/1e3+c;return Math.abs(x-d)<Gd&&Math.abs(v)<Gd?[d,0]:[x,v]};return l.isStepper=!0,l.dt=s,l},hY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ES(i);case"spring":return fY();default:if(i.split("(")[0]==="cubic-bezier")return ES(i)}return typeof i=="function"?i:null};function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function TS(t){return gY(t)||mY(t)||zI(t)||pY()}function pY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gY(t){if(Array.isArray(t))return Wg(t)}function AS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AS(Object(n),!0).forEach(function(r){Hg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hg(t,e,n){return e=vY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vY(t){var e=yY(t,"string");return au(e)==="symbol"?e:String(e)}function yY(t,e){if(au(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wY(t,e){return _Y(t)||xY(t,e)||zI(t,e)||bY()}function bY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zI(t,e){if(t){if(typeof t=="string")return Wg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wg(t,e)}}function Wg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _Y(t){if(Array.isArray(t))return t}var Hd=function(e,n,r){return e+(n-e)*r},Kg=function(e){var n=e.from,r=e.to;return n!==r},SY=function t(e,n,r){var i=hl(function(o,a){if(Kg(a)){var s=e(a.from,a.to,a.velocity),l=wY(s,2),u=l[0],c=l[1];return Mt(Mt({},a),{},{from:u,velocity:c})}return a},n);return r<1?hl(function(o,a){return Kg(a)?Mt(Mt({},a),{},{velocity:Hd(a.velocity,i[o].velocity,r),from:Hd(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const EY=function(t,e,n,r,i){var o=eY(t,e),a=o.reduce(function(x,w){return Mt(Mt({},x),{},Hg({},w,[t[w],e[w]]))},{}),s=o.reduce(function(x,w){return Mt(Mt({},x),{},Hg({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return hl(function(w,b){return b.from},s)},g=function(){return!Object.values(s).filter(Kg).length},y=function(w){u||(u=w);var b=w-u,_=b/n.dt;s=SY(n,s,_),i(Mt(Mt(Mt({},t),e),h())),u=w,g()||(l=requestAnimationFrame(d))},v=function(w){c||(c=w);var b=(w-c)/r,_=hl(function(S,E){return Hd.apply(void 0,TS(E).concat([n(b)]))},a);if(i(Mt(Mt(Mt({},t),e),_)),b<1)l=requestAnimationFrame(d);else{var T=hl(function(S,E){return Hd.apply(void 0,TS(E).concat([n(1)]))},a);i(Mt(Mt(Mt({},t),e),T))}};return d=n.isStepper?y:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function ja(t){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(t)}var TY=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function AY(t,e){if(t==null)return{};var n=CY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Vp(t){return NY(t)||IY(t)||PY(t)||kY()}function kY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PY(t,e){if(t){if(typeof t=="string")return Jg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jg(t,e)}}function IY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NY(t){if(Array.isArray(t))return Jg(t)}function Jg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CS(Object(n),!0).forEach(function(r){Zs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zs(t,e,n){return e=qI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qI(r.key),r)}}function RY(t,e,n){return e&&MY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qI(t){var e=$Y(t,"string");return ja(e)==="symbol"?e:String(e)}function $Y(t,e){if(ja(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ja(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yg(t,e)}function Yg(t,e){return Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yg(t,e)}function jY(t){var e=LY();return function(){var r=Wd(t),i;if(e){var o=Wd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Xg(this,i)}}function Xg(t,e){if(e&&(ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qg(t)}function Qg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wd(t)}var yr=function(t){DY(n,t);var e=jY(n);function n(r,i){var o;OY(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,d=a.steps,h=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Qg(o)),o.changeStyle=o.changeStyle.bind(Qg(o)),!s||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),Xg(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Xg(o);o.state={style:l?Zs({},l,u):u}}else o.state={style:{}};return o}return RY(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(s){if(!a){var g={style:l?Zs({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(g);return}if(!(qJ(i.to,c)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=y||u?d:i.to;if(this.state&&h){var x={style:l?Zs({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(x)}this.runAnimation(Hn(Hn({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,g=EY(a,s,hY(u),l,this.changeStyle),y=function(){o.stopJSAnimation=g()};this.manager.start([h,c,y,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,d=u.duration,h=d===void 0?0:d,g=function(v,x,w){if(w===0)return v;var b=x.duration,_=x.easing,T=_===void 0?"ease":_,S=x.style,E=x.properties,A=x.onAnimationEnd,C=w>0?a[w-1]:x,k=E||Object.keys(S);if(typeof T=="function"||T==="spring")return[].concat(Vp(v),[o.runJSAnimation.bind(o,{from:C.style,to:S,duration:b,easing:T}),b]);var P=_S(k,b,T),O=Hn(Hn(Hn({},C.style),S),{},{transition:P});return[].concat(Vp(v),[O,b,A]).filter(tY)};return this.manager.start([l].concat(Vp(a.reduce(g,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=XJ());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,g=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=s?Zs({},s,l):l,x=_S(Object.keys(v),a,u);y.start([c,o,Hn(Hn({},v),{},{transition:x}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=AY(i,TY),u=N.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var d=function(g){var y=g.props,v=y.style,x=v===void 0?{}:v,w=y.className,b=N.cloneElement(g,Hn(Hn({},l),{},{style:Hn(Hn({},x),c),className:w}));return b};return u===1?d(N.Children.only(o)):I.createElement("div",null,N.Children.map(o,function(h){return d(h)}))}}]),n}(N.PureComponent);yr.displayName="Animate";yr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};yr.propTypes={from:Me.oneOfType([Me.object,Me.string]),to:Me.oneOfType([Me.object,Me.string]),attributeName:Me.string,duration:Me.number,begin:Me.number,easing:Me.oneOfType([Me.string,Me.func]),steps:Me.arrayOf(Me.shape({duration:Me.number.isRequired,style:Me.object.isRequired,easing:Me.oneOfType([Me.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Me.func]),properties:Me.arrayOf("string"),onAnimationEnd:Me.func})),children:Me.oneOfType([Me.node,Me.func]),isActive:Me.bool,canBegin:Me.bool,onAnimationEnd:Me.func,shouldReAnimate:Me.bool,onAnimationStart:Me.func,onAnimationReStart:Me.func};function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function Kd(){return Kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kd.apply(this,arguments)}function UY(t,e){return zY(t)||VY(t,e)||FY(t,e)||BY()}function BY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FY(t,e){if(t){if(typeof t=="string")return kS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kS(t,e)}}function kS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function zY(t){if(Array.isArray(t))return t}function PS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PS(Object(n),!0).forEach(function(r){qY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qY(t,e,n){return e=GY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GY(t){var e=HY(t,"string");return su(e)=="symbol"?e:e+""}function HY(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NS=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*d[1])),c+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*d[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var y=Math.min(a,o);c="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*y," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},WY=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),d=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},KY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},U0=function(e){var n=IS(IS({},KY),e),r=N.useRef(),i=N.useState(-1),o=UY(i,2),a=o[0],s=o[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,g=n.className,y=n.animationEasing,v=n.animationDuration,x=n.animationBegin,w=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var _=Se("recharts-rectangle",g);return b?I.createElement(yr,{canBegin:a>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:v,animationEasing:y,isActive:b},function(T){var S=T.width,E=T.height,A=T.x,C=T.y;return I.createElement(yr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:w,easing:y},I.createElement("path",Kd({},pe(n,!0),{className:_,d:NS(A,C,S,E,h),ref:r})))}):I.createElement("path",Kd({},pe(n,!0),{className:_,d:NS(l,u,c,d,h)}))},JY=["points","className","baseLinePoints","connectNulls"];function ra(){return ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ra.apply(this,arguments)}function YY(t,e){if(t==null)return{};var n=XY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OS(t){return tX(t)||eX(t)||ZY(t)||QY()}function QY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZY(t,e){if(t){if(typeof t=="string")return Zg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zg(t,e)}}function eX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tX(t){if(Array.isArray(t))return Zg(t)}function Zg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var MS=function(e){return e&&e.x===+e.x&&e.y===+e.y},nX=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){MS(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),MS(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},pl=function(e,n){var r=nX(e);n&&(r=[r.reduce(function(o,a){return[].concat(OS(o),OS(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},rX=function(e,n,r){var i=pl(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(pl(n.reverse(),r).slice(1))},iX=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=YY(e,JY);if(!n||!n.length)return null;var s=Se("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=rX(n,i,o);return I.createElement("g",{className:s},I.createElement("path",ra({},pe(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?I.createElement("path",ra({},pe(a,!0),{fill:"none",d:pl(n,o)})):null,l?I.createElement("path",ra({},pe(a,!0),{fill:"none",d:pl(i,o)})):null)}var c=pl(n,o);return I.createElement("path",ra({},pe(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(this,arguments)}var bh=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Se("recharts-dot",o);return n===+n&&r===+r&&i===+i?N.createElement("circle",ev({},pe(e,!1),pd(e),{className:a,cx:n,cy:r,r:i})):null};function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}var oX=["x","y","top","left","width","height","className"];function tv(){return tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tv.apply(this,arguments)}function RS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(n),!0).forEach(function(r){sX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sX(t,e,n){return e=lX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lX(t){var e=uX(t,"string");return lu(e)=="symbol"?e:e+""}function uX(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cX(t,e){if(t==null)return{};var n=dX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fX=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},hX=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,g=h===void 0?0:h,y=e.className,v=cX(e,oX),x=aX({x:r,y:o,top:s,left:u,width:d,height:g},v);return!X(r)||!X(o)||!X(d)||!X(g)||!X(s)||!X(u)?null:I.createElement("path",tv({},pe(x,!0),{className:Se("recharts-cross",y),d:fX(r,o,d,g,s,u)}))},pX=mh,mX=nI,gX=br;function vX(t,e){return t&&t.length?pX(t,gX(e),mX):void 0}var yX=vX;const wX=De(yX);var bX=mh,xX=br,_X=rI;function SX(t,e){return t&&t.length?bX(t,xX(e),_X):void 0}var EX=SX;const TX=De(EX);var AX=["cx","cy","angle","ticks","axisLine"],CX=["ticks","tick","angle","tickFormatter","stroke"];function La(t){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(t)}function ml(){return ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ml.apply(this,arguments)}function $S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$S(Object(n),!0).forEach(function(r){xh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DS(t,e){if(t==null)return{};var n=kX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HI(r.key),r)}}function IX(t,e,n){return e&&jS(t.prototype,e),n&&jS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NX(t,e,n){return e=Jd(e),OX(t,GI()?Reflect.construct(e,n||[],Jd(t).constructor):e.apply(t,n))}function OX(t,e){if(e&&(La(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MX(t)}function MX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GI=function(){return!!t})()}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jd(t)}function RX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nv(t,e)}function nv(t,e){return nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nv(t,e)}function xh(t,e,n){return e=HI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HI(t){var e=$X(t,"string");return La(e)=="symbol"?e:e+""}function $X(t,e){if(La(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(La(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _h=function(t){function e(){return PX(this,e),NX(this,e,arguments)}return RX(e,t),IX(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return qe(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=wX(s,function(c){return c.coordinate||0}),u=TX(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=DS(r,AX),c=s.reduce(function(y,v){return[Math.min(y[0],v.coordinate),Math.max(y[1],v.coordinate)]},[1/0,-1/0]),d=qe(i,o,c[0],a),h=qe(i,o,c[1],a),g=ji(ji(ji({},pe(u,!1)),{},{fill:"none"},pe(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return I.createElement("line",ml({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=DS(i,CX),d=this.getTickTextAnchor(),h=pe(c,!1),g=pe(a,!1),y=o.map(function(v,x){var w=r.getTickValueCoord(v),b=ji(ji(ji(ji({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},g),{},{index:x},w),{},{payload:v});return I.createElement(Ce,ml({className:Se("recharts-polar-radius-axis-tick",NI(a)),key:"tick-".concat(v.coordinate)},vo(r.props,v,x)),e.renderTickItem(a,b,l?l(v.value,x):v.value))});return I.createElement(Ce,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:I.createElement(Ce,{className:Se("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),Ct.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):be(r)?a=r(i):a=I.createElement(yo,ml({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(N.PureComponent);xh(_h,"displayName","PolarRadiusAxis");xh(_h,"axisType","radiusAxis");xh(_h,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ua(t){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(t)}function Wi(){return Wi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wi.apply(this,arguments)}function LS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(n),!0).forEach(function(r){Sh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function US(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KI(r.key),r)}}function jX(t,e,n){return e&&US(t.prototype,e),n&&US(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LX(t,e,n){return e=Yd(e),UX(t,WI()?Reflect.construct(e,n||[],Yd(t).constructor):e.apply(t,n))}function UX(t,e){if(e&&(Ua(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BX(t)}function BX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WI=function(){return!!t})()}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yd(t)}function FX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rv(t,e)}function rv(t,e){return rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rv(t,e)}function Sh(t,e,n){return e=KI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KI(t){var e=VX(t,"string");return Ua(e)=="symbol"?e:e+""}function VX(t,e){if(Ua(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ua(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zX=Math.PI/180,BS=1e-5,Eh=function(t){function e(){return DX(this,e),LX(this,e,arguments)}return FX(e,t),jX(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,d=qe(o,a,s,r.coordinate),h=qe(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*zX),a;return o>BS?a=i==="outer"?"start":"end":o<-BS?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=Li(Li({},pe(this.props,!1)),{},{fill:"none"},pe(s,!1));if(l==="circle")return I.createElement(bh,Wi({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,d=c.map(function(h){return qe(i,o,a,h.coordinate)});return I.createElement(iX,Wi({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=pe(this.props,!1),d=pe(a,!1),h=Li(Li({},c),{},{fill:"none"},pe(s,!1)),g=o.map(function(y,v){var x=r.getTickLineCoord(y),w=r.getTickTextAnchor(y),b=Li(Li(Li({textAnchor:w},c),{},{stroke:"none",fill:u},d),{},{index:v,payload:y,x:x.x2,y:x.y2});return I.createElement(Ce,Wi({className:Se("recharts-polar-angle-axis-tick",NI(a)),key:"tick-".concat(y.coordinate)},vo(r.props,y,v)),s&&I.createElement("line",Wi({className:"recharts-polar-angle-axis-tick-line"},h,x)),a&&e.renderTickItem(a,b,l?l(y.value,v):y.value))});return I.createElement(Ce,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:I.createElement(Ce,{className:Se("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):be(r)?a=r(i):a=I.createElement(yo,Wi({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(N.PureComponent);Sh(Eh,"displayName","PolarAngleAxis");Sh(Eh,"axisType","angleAxis");Sh(Eh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var qX=Qk,GX=qX(Object.getPrototypeOf,Object),HX=GX,WX=qr,KX=HX,JX=Gr,YX="[object Object]",XX=Function.prototype,QX=Object.prototype,JI=XX.toString,ZX=QX.hasOwnProperty,eQ=JI.call(Object);function tQ(t){if(!JX(t)||WX(t)!=YX)return!1;var e=KX(t);if(e===null)return!0;var n=ZX.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&JI.call(n)==eQ}var nQ=tQ;const rQ=De(nQ);var iQ=qr,oQ=Gr,aQ="[object Boolean]";function sQ(t){return t===!0||t===!1||oQ(t)&&iQ(t)==aQ}var lQ=sQ;const uQ=De(lQ);function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xd.apply(this,arguments)}function cQ(t,e){return pQ(t)||hQ(t,e)||fQ(t,e)||dQ()}function dQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fQ(t,e){if(t){if(typeof t=="string")return FS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FS(t,e)}}function FS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function pQ(t){if(Array.isArray(t))return t}function VS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VS(Object(n),!0).forEach(function(r){mQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mQ(t,e,n){return e=gQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gQ(t){var e=vQ(t,"string");return uu(e)=="symbol"?e:e+""}function vQ(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qS=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},yQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wQ=function(e){var n=zS(zS({},yQ),e),r=N.useRef(),i=N.useState(-1),o=cQ(i,2),a=o[0],s=o[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,g=n.className,y=n.animationEasing,v=n.animationDuration,x=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var b=Se("recharts-trapezoid",g);return w?I.createElement(yr,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:v,animationEasing:y,isActive:w},function(_){var T=_.upperWidth,S=_.lowerWidth,E=_.height,A=_.x,C=_.y;return I.createElement(yr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:y},I.createElement("path",Xd({},pe(n,!0),{className:b,d:qS(A,C,T,S,E),ref:r})))}):I.createElement("g",null,I.createElement("path",Xd({},pe(n,!0),{className:b,d:qS(l,u,c,d,h)})))},bQ=["option","shapeType","propTransformer","activeClassName","isActive"];function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function xQ(t,e){if(t==null)return{};var n=_Q(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Q(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(n),!0).forEach(function(r){SQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SQ(t,e,n){return e=EQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EQ(t){var e=TQ(t,"string");return cu(e)=="symbol"?e:e+""}function TQ(t,e){if(cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AQ(t,e){return Qd(Qd({},e),t)}function CQ(t,e){return t==="symbols"}function HS(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return I.createElement(U0,n);case"trapezoid":return I.createElement(wQ,n);case"sector":return I.createElement(RI,n);case"symbols":if(CQ(e))return I.createElement(r0,n);break;default:return null}}function kQ(t){return N.isValidElement(t)?t.props:t}function YI(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?AQ:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=xQ(t,bQ),u;if(N.isValidElement(e))u=N.cloneElement(e,Qd(Qd({},l),kQ(e)));else if(be(e))u=e(l);else if(rQ(e)&&!uQ(e)){var c=i(e,l);u=I.createElement(HS,{shapeType:n,elementProps:c})}else{var d=l;u=I.createElement(HS,{shapeType:n,elementProps:d})}return s?I.createElement(Ce,{className:a},u):u}function Th(t,e){return e!=null&&"trapezoids"in t.props}function Ah(t,e){return e!=null&&"sectors"in t.props}function du(t,e){return e!=null&&"points"in t.props}function PQ(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function IQ(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function NQ(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function OQ(t,e){var n;return Th(t,e)?n=PQ:Ah(t,e)?n=IQ:du(t,e)&&(n=NQ),n}function MQ(t,e){var n;return Th(t,e)?n="trapezoids":Ah(t,e)?n="sectors":du(t,e)&&(n="points"),n}function RQ(t,e){if(Th(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Ah(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return du(t,e)?e.payload:{}}function $Q(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=MQ(n,e),o=RQ(n,e),a=r.filter(function(l,u){var c=Mu(o,l),d=n.props[i].filter(function(y){var v=OQ(n,e);return v(y,e)}),h=n.props[i].indexOf(d[d.length-1]),g=u===h;return c&&g}),s=r.indexOf(a[a.length-1]);return s}var Uc;function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}function ia(){return ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ia.apply(this,arguments)}function WS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WS(Object(n),!0).forEach(function(r){Rn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QI(r.key),r)}}function jQ(t,e,n){return e&&KS(t.prototype,e),n&&KS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LQ(t,e,n){return e=Zd(e),UQ(t,XI()?Reflect.construct(e,n||[],Zd(t).constructor):e.apply(t,n))}function UQ(t,e){if(e&&(Ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BQ(t)}function BQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XI=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(t)}function FQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iv(t,e)}function iv(t,e){return iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iv(t,e)}function Rn(t,e,n){return e=QI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QI(t){var e=VQ(t,"string");return Ba(e)=="symbol"?e:e+""}function VQ(t,e){if(Ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wr=function(t){function e(n){var r;return DQ(this,e),r=LQ(this,e,[n]),Rn(r,"pieRef",null),Rn(r,"sectorRefs",[]),Rn(r,"id",us("recharts-pie-")),Rn(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),be(i)&&i()}),Rn(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),be(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return FQ(e,t),jQ(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=pe(this.props,!1),d=pe(a,!1),h=pe(s,!1),g=a&&a.offsetRadius||20,y=r.map(function(v,x){var w=(v.startAngle+v.endAngle)/2,b=qe(v.cx,v.cy,v.outerRadius+g,w),_=Fe(Fe(Fe(Fe({},c),v),{},{stroke:"none"},d),{},{index:x,textAnchor:e.getTextAnchor(b.x,v.cx)},b),T=Fe(Fe(Fe(Fe({},c),v),{},{fill:"none",stroke:v.fill},h),{},{index:x,points:[qe(v.cx,v.cy,v.outerRadius,w),b]}),S=l;return _e(l)&&_e(u)?S="value":_e(l)&&(S=u),I.createElement(Ce,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(x)},s&&e.renderLabelLineItem(s,T,"line"),e.renderLabelItem(a,_,bt(v,S)))});return I.createElement(Ce,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,g=d?a:h,y=Fe(Fe({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return I.createElement(Ce,ia({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},vo(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),I.createElement(YI,ia({option:g,isActive:d,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state,h=d.prevSectors,g=d.prevIsAnimationActive;return I.createElement(yr,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var v=y.t,x=[],w=o&&o[0],b=w.startAngle;return o.forEach(function(_,T){var S=h&&h[T],E=T>0?wn(_,"paddingAngle",0):0;if(S){var A=hn(S.endAngle-S.startAngle,_.endAngle-_.startAngle),C=Fe(Fe({},_),{},{startAngle:b+E,endAngle:b+A(v)+E});x.push(C),b=C.endAngle}else{var k=_.endAngle,P=_.startAngle,O=hn(0,k-P),R=O(v),j=Fe(Fe({},_),{},{startAngle:b+E,endAngle:b+R+E});x.push(j),b=j.endAngle}}),I.createElement(Ce,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Mu(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,d=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,y=this.state.isAnimationFinished;if(o||!a||!a.length||!X(u)||!X(c)||!X(d)||!X(h))return null;var v=Se("recharts-pie",s);return I.createElement(Ce,{tabIndex:this.props.rootTabIndex,className:v,ref:function(w){r.pieRef=w}},this.renderSectors(),l&&this.renderLabels(a),Ct.renderCallByParent(this.props,null,!1),(!g||y)&&Rr.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);if(be(r))return r(i);var a=Se("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return I.createElement(qd,ia({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);var a=o;if(be(r)&&(a=r(i),I.isValidElement(a)))return a;var s=Se("recharts-pie-label-text",typeof r!="boolean"&&!be(r)?r.className:"");return I.createElement(yo,ia({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(N.PureComponent);Uc=Wr;Rn(Wr,"displayName","Pie");Rn(Wr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!To.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Rn(Wr,"parseDeltaAngle",function(t,e){var n=Wt(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Rn(Wr,"getRealPieData",function(t){var e=t.data,n=t.children,r=pe(t,!1),i=bn(n,lh);return e&&e.length?e.map(function(o,a){return Fe(Fe(Fe({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Fe(Fe({},r),o.props)}):[]});Rn(Wr,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=II(i,o),s=r+Kt(t.cx,i,i/2),l=n+Kt(t.cy,o,o/2),u=Kt(t.innerRadius,a,0),c=Kt(t.outerRadius,a,a*.8),d=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:d}});Rn(Wr,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Fe(Fe({},e.type.defaultProps),e.props):e.props,i=Uc.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,d=r.valueKey,h=r.tooltipType,g=Math.abs(r.minAngle),y=Uc.parseCoordinateOfPie(r,n),v=Uc.parseDeltaAngle(a,s),x=Math.abs(v),w=u;_e(u)&&_e(d)?(rr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):_e(u)&&(rr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=d);var b=i.filter(function(C){return bt(C,w,0)!==0}).length,_=(x>=360?b:b-1)*l,T=x-b*g-_,S=i.reduce(function(C,k){var P=bt(k,w,0);return C+(X(P)?P:0)},0),E;if(S>0){var A;E=i.map(function(C,k){var P=bt(C,w,0),O=bt(C,c,k),R=(X(P)?P:0)/S,j;k?j=A.endAngle+Wt(v)*l*(P!==0?1:0):j=a;var B=j+Wt(v)*((P!==0?g:0)+R*T),D=(j+B)/2,M=(y.innerRadius+y.outerRadius)/2,L=[{name:O,value:P,payload:C,dataKey:w,type:h}],$=qe(y.cx,y.cy,M,D);return A=Fe(Fe(Fe({percent:R,cornerRadius:o,name:O,tooltipPayload:L,midAngle:D,middleRadius:M,tooltipPosition:$},C),y),{},{value:bt(C,w),startAngle:j,endAngle:B,payload:C,paddingAngle:Wt(v)*l}),A})}return Fe(Fe({},y),{},{sectors:E,data:i})});var zQ=Math.ceil,qQ=Math.max;function GQ(t,e,n,r){for(var i=-1,o=qQ(zQ((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var HQ=GQ,WQ=vP,JS=1/0,KQ=17976931348623157e292;function JQ(t){if(!t)return t===0?t:0;if(t=WQ(t),t===JS||t===-JS){var e=t<0?-1:1;return e*KQ}return t===t?t:0}var ZI=JQ,YQ=HQ,XQ=sh,zp=ZI;function QQ(t){return function(e,n,r){return r&&typeof r!="number"&&XQ(e,n,r)&&(n=r=void 0),e=zp(e),n===void 0?(n=e,e=0):n=zp(n),r=r===void 0?e<n?1:-1:zp(r),YQ(e,n,r,t)}}var ZQ=QQ,eZ=ZQ,tZ=eZ(),nZ=tZ;const ef=De(nZ);function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function YS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YS(Object(n),!0).forEach(function(r){e2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e2(t,e,n){return e=rZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rZ(t){var e=iZ(t,"string");return fu(e)=="symbol"?e:e+""}function iZ(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oZ=["Webkit","Moz","O","ms"],aZ=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=oZ.reduce(function(o,a){return XS(XS({},o),{},e2({},a+r,n))},{});return i[e]=n,i};function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}function tf(){return tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tf.apply(this,arguments)}function QS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QS(Object(n),!0).forEach(function(r){cn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n2(r.key),r)}}function lZ(t,e,n){return e&&ZS(t.prototype,e),n&&ZS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uZ(t,e,n){return e=nf(e),cZ(t,t2()?Reflect.construct(e,n||[],nf(t).constructor):e.apply(t,n))}function cZ(t,e){if(e&&(Fa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dZ(t)}function dZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t2=function(){return!!t})()}function nf(t){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nf(t)}function fZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ov(t,e)}function ov(t,e){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ov(t,e)}function cn(t,e,n){return e=n2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n2(t){var e=hZ(t,"string");return Fa(e)=="symbol"?e:e+""}function hZ(t,e){if(Fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pZ=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=dl().domain(ef(0,l)).range([o,o+a-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},e1=function(e){return e.changedTouches&&!!e.changedTouches.length},Va=function(t){function e(n){var r;return sZ(this,e),r=uZ(this,e,[n]),cn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),cn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),cn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),cn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),cn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),cn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),cn(r,"handleSlideDragStart",function(i){var o=e1(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return fZ(e,t),lZ(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(a,d),y=e.getIndexInRange(a,h);return{startIndex:g-g%l,endIndex:y===c?c:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=bt(o[r],s,r);return be(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,g=l.endIndex,y=l.onChange,v=r.pageX-o;v>0?v=Math.min(v,u+c-d-s,u+c-d-a):v<0&&(v=Math.max(v,u-a,u-s));var x=this.getIndex({startX:a+v,endX:s+v});(x.startIndex!==h||x.endIndex!==g)&&y&&y(x),this.setState({startX:a+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=e1(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,d=c.x,h=c.width,g=c.travellerWidth,y=c.onChange,v=c.gap,x=c.data,w={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,d+h-g-u):b<0&&(b=Math.max(b,d-u)),w[a]=u+b;var _=this.getIndex(w),T=_.startIndex,S=_.endIndex,E=function(){var C=x.length-1;return a==="startX"&&(s>l?T%v===0:S%v===0)||s<l&&S===C||a==="endX"&&(s>l?S%v===0:T%v===0)||s>l&&S===C};this.setState(cn(cn({},a,u+b),"brushMoveStartX",r.pageX),function(){y&&E()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(cn({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return I.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=N.Children.only(u);return d?I.cloneElement(d,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,g=l.ariaLabel,y=l.data,v=l.startIndex,x=l.endIndex,w=Math.max(r,this.props.x),b=qp(qp({},pe(this.props,!1)),{},{x:w,y:u,width:c,height:d}),_=g||"Min value: ".concat((o=y[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=y[x])===null||a===void 0?void 0:a.name);return I.createElement(Ce,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,g=5,y={pointerEvents:"none",fill:u};return I.createElement(Ce,{className:"recharts-brush-texts"},I.createElement(yo,tf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-g,y:a+s/2},y),this.getTextOfTick(i)),I.createElement(yo,tf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+g,y:a+s/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,g=h.startX,y=h.endX,v=h.isTextActive,x=h.isSlideMoving,w=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!X(s)||!X(l)||!X(u)||!X(c)||u<=0||c<=0)return null;var _=Se("recharts-brush",o),T=I.Children.count(a)===1,S=aZ("userSelect","none");return I.createElement(Ce,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(g,y),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(y,"endX"),(v||x||w||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return I.isValidElement(r)?o=I.cloneElement(r,i):be(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return qp({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?pZ({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(N.PureComponent);cn(Va,"displayName","Brush");cn(Va,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var mZ=c0;function gZ(t,e){var n;return mZ(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var vZ=gZ,yZ=qk,wZ=br,bZ=vZ,xZ=sn,_Z=sh;function SZ(t,e,n){var r=xZ(t)?yZ:bZ;return n&&_Z(t,e,n)&&(e=void 0),r(t,wZ(e))}var EZ=SZ;const TZ=De(EZ);var gr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},t1=fP;function AZ(t,e,n){e=="__proto__"&&t1?t1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var CZ=AZ,kZ=CZ,PZ=cP,IZ=br;function NZ(t,e){var n={};return e=IZ(e),PZ(t,function(r,i,o){kZ(n,i,e(r,i,o))}),n}var OZ=NZ;const MZ=De(OZ);function RZ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var $Z=RZ,DZ=c0;function jZ(t,e){var n=!0;return DZ(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var LZ=jZ,UZ=$Z,BZ=LZ,FZ=br,VZ=sn,zZ=sh;function qZ(t,e,n){var r=VZ(t)?UZ:BZ;return n&&zZ(t,e,n)&&(e=void 0),r(t,FZ(e))}var GZ=qZ;const r2=De(GZ);var HZ=["x","y"];function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(this,arguments)}function n1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(n),!0).forEach(function(r){WZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WZ(t,e,n){return e=KZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KZ(t){var e=JZ(t,"string");return hu(e)=="symbol"?e:e+""}function JZ(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YZ(t,e){if(t==null)return{};var n=XZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QZ(t,e){var n=t.x,r=t.y,i=YZ(t,HZ),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return qs(qs(qs(qs(qs({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function r1(t){return I.createElement(YI,av({shapeType:"rectangle",propTransformer:QZ,activeClassName:"recharts-active-bar"},t))}var ZZ=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=X(r)||SL(r);return o?e(r,i):(o||bo(),n)}},eee=["value","background"],i2;function za(t){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(t)}function tee(t,e){if(t==null)return{};var n=nee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rf(){return rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rf.apply(this,arguments)}function i1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i1(Object(n),!0).forEach(function(r){ci(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ree(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a2(r.key),r)}}function iee(t,e,n){return e&&o1(t.prototype,e),n&&o1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oee(t,e,n){return e=of(e),aee(t,o2()?Reflect.construct(e,n||[],of(t).constructor):e.apply(t,n))}function aee(t,e){if(e&&(za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return see(t)}function see(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o2=function(){return!!t})()}function of(t){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},of(t)}function lee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sv(t,e)}function sv(t,e){return sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sv(t,e)}function ci(t,e,n){return e=a2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a2(t){var e=uee(t,"string");return za(e)=="symbol"?e:e+""}function uee(t,e){if(za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Po=function(t){function e(){var n;ree(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=oee(this,e,[].concat(i)),ci(n,"state",{isAnimationFinished:!1}),ci(n,"id",us("recharts-bar-")),ci(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),ci(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return lee(e,t),iee(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=pe(this.props,!1);return r&&r.map(function(d,h){var g=h===l,y=g?u:a,v=ft(ft(ft({},c),d),{},{isActive:g,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(Ce,rf({className:"recharts-bar-rectangle"},vo(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),I.createElement(r1,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return I.createElement(yr,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,v=o.map(function(x,w){var b=h&&h[w];if(b){var _=hn(b.x,x.x),T=hn(b.y,x.y),S=hn(b.width,x.width),E=hn(b.height,x.height);return ft(ft({},x),{},{x:_(y),y:T(y),width:S(y),height:E(y)})}if(a==="horizontal"){var A=hn(0,x.height),C=A(y);return ft(ft({},x),{},{y:x.y+x.height-C,height:C})}var k=hn(0,x.width),P=k(y);return ft(ft({},x),{},{width:P})});return I.createElement(Ce,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Mu(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=pe(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=tee(u,eee);if(!d)return null;var g=ft(ft(ft(ft(ft({},h),{},{fill:"#eee"},d),l),vo(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return I.createElement(r1,rf({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=bn(c,Ru);if(!d)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,g=function(x,w){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:bt(x,w)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return I.createElement(Ce,y,d.map(function(v){return I.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,g=r.isAnimationActive,y=r.background,v=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,w=Se("recharts-bar",a),b=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,T=b||_,S=_e(v)?this.id:v;return I.createElement(Ce,{className:w},b||_?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(S)},I.createElement("rect",{x:b?u:u-d/2,y:_?c:c-h/2,width:b?d:d*2,height:_?h:h*2}))):null,I.createElement(Ce,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,S),(!g||x)&&Rr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(N.PureComponent);i2=Po;ci(Po,"displayName","Bar");ci(Po,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!To.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ci(Po,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,g=VW(r,n);if(!g)return null;var y=e.layout,v=n.type.defaultProps,x=v!==void 0?ft(ft({},v),n.props):n.props,w=x.dataKey,b=x.children,_=x.minPointSize,T=y==="horizontal"?a:o,S=u?T.scale.domain():null,E=JW({numericAxis:T}),A=bn(b,lh),C=d.map(function(k,P){var O,R,j,B,D,M;u?O=zW(u[c+P],S):(O=bt(k,w),Array.isArray(O)||(O=[E,O]));var L=ZZ(_,i2.defaultProps.minPointSize)(O[1],P);if(y==="horizontal"){var $,U=[a.scale(O[0]),a.scale(O[1])],H=U[0],Y=U[1];R=K_({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:k,index:P}),j=($=Y??H)!==null&&$!==void 0?$:void 0,B=g.size;var W=H-Y;if(D=Number.isNaN(W)?0:W,M={x:R,y:a.y,width:B,height:a.height},Math.abs(L)>0&&Math.abs(D)<Math.abs(L)){var te=Wt(D||L)*(Math.abs(L)-Math.abs(D));j-=te,D+=te}}else{var ve=[o.scale(O[0]),o.scale(O[1])],xe=ve[0],Ie=ve[1];if(R=xe,j=K_({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:k,index:P}),B=Ie-xe,D=g.size,M={x:o.x,y:j,width:o.width,height:D},Math.abs(L)>0&&Math.abs(B)<Math.abs(L)){var tt=Wt(B||L)*(Math.abs(L)-Math.abs(B));B+=tt}}return ft(ft(ft({},k),{},{x:R,y:j,width:B,height:D,value:u?O:O[1],payload:k,background:M},A&&A[P]&&A[P].props),{},{tooltipPayload:[kI(n,k)],tooltipPosition:{x:R+B/2,y:j+D/2}})});return ft({data:C,layout:y},h)});function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function cee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s2(r.key),r)}}function dee(t,e,n){return e&&a1(t.prototype,e),n&&a1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s1(Object(n),!0).forEach(function(r){Ch(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ch(t,e,n){return e=s2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s2(t){var e=fee(t,"string");return pu(e)=="symbol"?e:e+""}function fee(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l2=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!fn(u,Po);return c.reduce(function(g,y){var v=n[y],x=v.orientation,w=v.domain,b=v.padding,_=b===void 0?{}:b,T=v.mirror,S=v.reversed,E="".concat(x).concat(T?"Mirror":""),A,C,k,P,O;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var R=w[1]-w[0],j=1/0,B=v.categoricalDomain.sort(AL);if(B.forEach(function(ve,xe){xe>0&&(j=Math.min((ve||0)-(B[xe-1]||0),j))}),Number.isFinite(j)){var D=j/R,M=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(A=D*M/2),v.padding==="no-gap"){var L=Kt(e.barCategoryGap,D*M),$=D*M/2;A=$-L-($-L)/M*L}}}i==="xAxis"?C=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:C=v.range,S&&(C=[C[1],C[0]]);var U=EI(v,o,h),H=U.scale,Y=U.realScaleType;H.domain(w).range(C),TI(H);var W=AI(H,Xn(Xn({},v),{},{realScaleType:Y}));i==="xAxis"?(O=x==="top"&&!T||x==="bottom"&&T,k=r.left,P=d[E]-O*v.height):i==="yAxis"&&(O=x==="left"&&!T||x==="right"&&T,k=d[E]-O*v.width,P=r.top);var te=Xn(Xn(Xn({},v),W),{},{realScaleType:Y,x:k,y:P,scale:H,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return te.bandSize=Fd(te,W),!v.hide&&i==="xAxis"?d[E]+=(O?-1:1)*te.height:v.hide||(d[E]+=(O?-1:1)*te.width),Xn(Xn({},g),{},Ch({},y,te))},{})},u2=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},hee=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return u2({x:n,y:r},{x:i,y:o})},c2=function(){function t(e){cee(this,t),this.scale=e}return dee(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Ch(c2,"EPS",1e-4);var B0=function(e){var n=Object.keys(e).reduce(function(r,i){return Xn(Xn({},r),{},Ch({},i,c2.create(e[i])))},{});return Xn(Xn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return MZ(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return r2(i,function(o,a){return n[a].isInRange(o)})}})};function pee(t){return(t%180+180)%180}var mee=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=pee(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},gee=br,vee=ku,yee=oh;function wee(t){return function(e,n,r){var i=Object(e);if(!vee(e)){var o=gee(n);e=yee(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var bee=wee,xee=ZI;function _ee(t){var e=xee(t),n=e%1;return e===e?n?e-n:e:0}var See=_ee,Eee=iP,Tee=br,Aee=See,Cee=Math.max;function kee(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Aee(n);return i<0&&(i=Cee(r+i,0)),Eee(t,Tee(e),i)}var Pee=kee,Iee=bee,Nee=Pee,Oee=Iee(Nee),Mee=Oee;const Ree=De(Mee);var $ee=Pj(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),F0=N.createContext(void 0),V0=N.createContext(void 0),d2=N.createContext(void 0),f2=N.createContext({}),h2=N.createContext(void 0),p2=N.createContext(0),m2=N.createContext(0),l1=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=$ee(o);return I.createElement(F0.Provider,{value:r},I.createElement(V0.Provider,{value:i},I.createElement(f2.Provider,{value:o},I.createElement(d2.Provider,{value:c},I.createElement(h2.Provider,{value:a},I.createElement(p2.Provider,{value:u},I.createElement(m2.Provider,{value:l},s)))))))},Dee=function(){return N.useContext(h2)},g2=function(e){var n=N.useContext(F0);n==null&&bo();var r=n[e];return r==null&&bo(),r},jee=function(){var e=N.useContext(F0);return ai(e)},Lee=function(){var e=N.useContext(V0),n=Ree(e,function(r){return r2(r.domain,Number.isFinite)});return n||ai(e)},v2=function(e){var n=N.useContext(V0);n==null&&bo();var r=n[e];return r==null&&bo(),r},Uee=function(){var e=N.useContext(d2);return e},Bee=function(){return N.useContext(f2)},z0=function(){return N.useContext(m2)},q0=function(){return N.useContext(p2)};function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}function Fee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w2(r.key),r)}}function zee(t,e,n){return e&&Vee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qee(t,e,n){return e=af(e),Gee(t,y2()?Reflect.construct(e,n||[],af(t).constructor):e.apply(t,n))}function Gee(t,e){if(e&&(qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hee(t)}function Hee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y2=function(){return!!t})()}function af(t){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},af(t)}function Wee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lv(t,e)}function lv(t,e){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lv(t,e)}function u1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u1(Object(n),!0).forEach(function(r){G0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G0(t,e,n){return e=w2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w2(t){var e=Kee(t,"string");return qa(e)=="symbol"?e:e+""}function Kee(t,e){if(qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Jee(t,e){return Zee(t)||Qee(t,e)||Xee(t,e)||Yee()}function Yee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xee(t,e){if(t){if(typeof t=="string")return d1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d1(t,e)}}function d1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Zee(t){if(Array.isArray(t))return t}function uv(){return uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uv.apply(this,arguments)}var ete=function(e,n){var r;return I.isValidElement(e)?r=I.cloneElement(e,n):be(e)?r=e(n):r=I.createElement("line",uv({},n,{className:"recharts-reference-line-line"})),r},tte=function(e,n,r,i,o,a,s,l,u){var c=o.x,d=o.y,h=o.width,g=o.height;if(r){var y=u.y,v=e.y.apply(y,{position:a});if(gr(u,"discard")&&!e.y.isInRange(v))return null;var x=[{x:c+h,y:v},{x:c,y:v}];return l==="left"?x.reverse():x}if(n){var w=u.x,b=e.x.apply(w,{position:a});if(gr(u,"discard")&&!e.x.isInRange(b))return null;var _=[{x:b,y:d+g},{x:b,y:d}];return s==="top"?_.reverse():_}if(i){var T=u.segment,S=T.map(function(E){return e.apply(E,{position:a})});return gr(u,"discard")&&TZ(S,function(E){return!e.isInRange(E)})?null:S}return null};function nte(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Dee(),c=g2(i),d=v2(o),h=Uee();if(!u||!h)return null;rr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=B0({x:c.scale,y:d.scale}),y=_t(e),v=_t(n),x=r&&r.length===2,w=tte(g,y,v,x,h,t.position,c.orientation,d.orientation,t);if(!w)return null;var b=Jee(w,2),_=b[0],T=_.x,S=_.y,E=b[1],A=E.x,C=E.y,k=gr(t,"hidden")?"url(#".concat(u,")"):void 0,P=c1(c1({clipPath:k},pe(t,!0)),{},{x1:T,y1:S,x2:A,y2:C});return I.createElement(Ce,{className:Se("recharts-reference-line",s)},ete(a,P),Ct.renderCallByParent(t,hee({x1:T,y1:S,x2:A,y2:C})))}var H0=function(t){function e(){return Fee(this,e),qee(this,e,arguments)}return Wee(e,t),zee(e,[{key:"render",value:function(){return I.createElement(nte,this.props)}}])}(I.Component);G0(H0,"displayName","ReferenceLine");G0(H0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function cv(){return cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cv.apply(this,arguments)}function Ga(t){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ga(t)}function f1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f1(Object(n),!0).forEach(function(r){kh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ite(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x2(r.key),r)}}function ote(t,e,n){return e&&ite(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ate(t,e,n){return e=sf(e),ste(t,b2()?Reflect.construct(e,n||[],sf(t).constructor):e.apply(t,n))}function ste(t,e){if(e&&(Ga(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lte(t)}function lte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b2=function(){return!!t})()}function sf(t){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sf(t)}function ute(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dv(t,e)}function dv(t,e){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dv(t,e)}function kh(t,e,n){return e=x2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x2(t){var e=cte(t,"string");return Ga(e)=="symbol"?e:e+""}function cte(t,e){if(Ga(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dte=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=B0({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return gr(e,"discard")&&!a.isInRange(s)?null:s},Ph=function(t){function e(){return rte(this,e),ate(this,e,arguments)}return ute(e,t),ote(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=_t(i),c=_t(o);if(rr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=dte(this.props);if(!d)return null;var h=d.x,g=d.y,y=this.props,v=y.shape,x=y.className,w=gr(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=h1(h1({clipPath:w},pe(this.props,!0)),{},{cx:h,cy:g});return I.createElement(Ce,{className:Se("recharts-reference-dot",x)},e.renderDot(v,b),Ct.renderCallByParent(this.props,{x:h-a,y:g-a,width:2*a,height:2*a}))}}])}(I.Component);kh(Ph,"displayName","ReferenceDot");kh(Ph,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});kh(Ph,"renderDot",function(t,e){var n;return I.isValidElement(t)?n=I.cloneElement(t,e):be(t)?n=t(e):n=I.createElement(bh,cv({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fv.apply(this,arguments)}function Ha(t){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(t)}function p1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p1(Object(n),!0).forEach(function(r){Ih(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S2(r.key),r)}}function pte(t,e,n){return e&&hte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mte(t,e,n){return e=lf(e),gte(t,_2()?Reflect.construct(e,n||[],lf(t).constructor):e.apply(t,n))}function gte(t,e){if(e&&(Ha(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vte(t)}function vte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_2=function(){return!!t})()}function lf(t){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lf(t)}function yte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hv(t,e)}function hv(t,e){return hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hv(t,e)}function Ih(t,e,n){return e=S2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S2(t){var e=wte(t,"string");return Ha(e)=="symbol"?e:e+""}function wte(t,e){if(Ha(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ha(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bte=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=B0({x:c.scale,y:d.scale}),g={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return gr(o,"discard")&&(!h.isInRange(g)||!h.isInRange(y))?null:u2(g,y)},Nh=function(t){function e(){return fte(this,e),mte(this,e,arguments)}return yte(e,t),pte(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;rr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=_t(i),h=_t(o),g=_t(a),y=_t(s),v=this.props.shape;if(!d&&!h&&!g&&!y&&!v)return null;var x=bte(d,h,g,y,this.props);if(!x&&!v)return null;var w=gr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return I.createElement(Ce,{className:Se("recharts-reference-area",l)},e.renderRect(v,m1(m1({clipPath:w},pe(this.props,!0)),x)),Ct.renderCallByParent(this.props,x))}}])}(I.Component);Ih(Nh,"displayName","ReferenceArea");Ih(Nh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ih(Nh,"renderRect",function(t,e){var n;return I.isValidElement(t)?n=I.cloneElement(t,e):be(t)?n=t(e):n=I.createElement(U0,fv({},e,{className:"recharts-reference-area-rect"})),n});function E2(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function xte(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return mee(r,n)}function _te(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function uf(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Ste(t,e){return E2(t,e+1)}function Ete(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,d=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:E2(r,u)};var v=l,x,w=function(){return x===void 0&&(x=n(y,v)),x},b=y.coordinate,_=l===0||uf(t,b,w,c,s);_||(l=0,c=a,u+=1),_&&(c=b+t*(w()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function g1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g1(Object(n),!0).forEach(function(r){Tte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tte(t,e,n){return e=Ate(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ate(t){var e=Cte(t,"string");return mu(e)=="symbol"?e:e+""}function Cte(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kte(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var g=o[h],y,v=function(){return y===void 0&&(y=n(g,h)),y};if(h===a-1){var x=t*(g.coordinate+t*v()/2-l);o[h]=g=Bt(Bt({},g),{},{tickCoord:x>0?g.coordinate-x*t:g.coordinate})}else o[h]=g=Bt(Bt({},g),{},{tickCoord:g.coordinate});var w=uf(t,g.tickCoord,v,s,l);w&&(l=g.tickCoord-t*(v()/2+i),o[h]=Bt(Bt({},g),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Pte(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],d=n(c,s-1),h=t*(c.coordinate+t*d/2-u);a[s-1]=c=Bt(Bt({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var g=uf(t,c.tickCoord,function(){return d},l,u);g&&(u=c.tickCoord-t*(d/2+i),a[s-1]=Bt(Bt({},c),{},{isShow:!0}))}for(var y=o?s-1:s,v=function(b){var _=a[b],T,S=function(){return T===void 0&&(T=n(_,b)),T};if(b===0){var E=t*(_.coordinate-t*S()/2-l);a[b]=_=Bt(Bt({},_),{},{tickCoord:E<0?_.coordinate-E*t:_.coordinate})}else a[b]=_=Bt(Bt({},_),{},{tickCoord:_.coordinate});var A=uf(t,_.tickCoord,S,l,u);A&&(l=_.tickCoord+t*(S()/2+i),a[b]=Bt(Bt({},_),{},{isShow:!0}))},x=0;x<y;x++)v(x);return a}function W0(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(X(l)||To.isSsr)return Ste(i,typeof l=="number"&&X(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",y=c&&g==="width"?cl(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(_,T){var S=be(u)?u(_.value,T):_.value;return g==="width"?xte(cl(S,{fontSize:e,letterSpacing:n}),y,d):cl(S,{fontSize:e,letterSpacing:n})[g]},x=i.length>=2?Wt(i[1].coordinate-i[0].coordinate):1,w=_te(o,x,g);return l==="equidistantPreserveStart"?Ete(x,w,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Pte(x,w,v,i,a,l==="preserveStartEnd"):h=kte(x,w,v,i,a),h.filter(function(b){return b.isShow}))}var Ite=["viewBox"],Nte=["viewBox"],Ote=["ticks"];function Wa(t){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wa(t)}function oa(){return oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oa.apply(this,arguments)}function v1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v1(Object(n),!0).forEach(function(r){K0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gp(t,e){if(t==null)return{};var n=Mte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A2(r.key),r)}}function $te(t,e,n){return e&&y1(t.prototype,e),n&&y1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dte(t,e,n){return e=cf(e),jte(t,T2()?Reflect.construct(e,n||[],cf(t).constructor):e.apply(t,n))}function jte(t,e){if(e&&(Wa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lte(t)}function Lte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T2=function(){return!!t})()}function cf(t){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cf(t)}function Ute(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pv(t,e)}function pv(t,e){return pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pv(t,e)}function K0(t,e,n){return e=A2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A2(t){var e=Bte(t,"string");return Wa(e)=="symbol"?e:e+""}function Bte(t,e){if(Wa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gs=function(t){function e(n){var r;return Rte(this,e),r=Dte(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Ute(e,t),$te(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Gp(r,Ite),s=this.props,l=s.viewBox,u=Gp(s,Nte);return!pa(o,l)||!pa(a,u)||!pa(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,g,y,v,x,w,b,_=d?-1:1,T=r.tickSize||c,S=X(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=y=r.coordinate,x=a+ +!d*l,v=x-_*T,b=v-_*h,w=S;break;case"left":v=x=r.coordinate,y=o+ +!d*s,g=y-_*T,w=g-_*h,b=S;break;case"right":v=x=r.coordinate,y=o+ +d*s,g=y+_*T,w=g+_*h,b=S;break;default:g=y=r.coordinate,x=a+ +d*l,v=x+_*T,b=v+_*h,w=S;break}return{line:{x1:g,y1:v,x2:y,y2:x},tick:{x:w,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=gt(gt(gt({},pe(this.props,!1)),pe(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=gt(gt({},d),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var g=+(l==="left"&&!u||l==="right"&&u);d=gt(gt({},d),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return I.createElement("line",oa({},d,{className:Se("recharts-cartesian-axis-line",wn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,h=s.unit,g=W0(gt(gt({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=pe(this.props,!1),w=pe(c,!1),b=gt(gt({},x),{},{fill:"none"},pe(l,!1)),_=g.map(function(T,S){var E=a.getTickLineCoord(T),A=E.line,C=E.tick,k=gt(gt(gt(gt({textAnchor:y,verticalAnchor:v},x),{},{stroke:"none",fill:u},w),C),{},{index:S,payload:T,visibleTicksCount:g.length,tickFormatter:d});return I.createElement(Ce,oa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},vo(a.props,T,S)),l&&I.createElement("line",oa({},b,A,{className:Se("recharts-cartesian-axis-tick-line",wn(l,"className"))})),c&&e.renderTickItem(c,k,"".concat(be(d)?d(T.value,S):T.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,g=Gp(d,Ote),y=h;return be(l)&&(y=h&&h.length>0?l(this.props):l(g)),a<=0||s<=0||!y||!y.length?null:I.createElement(Ce,{className:Se("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Ct.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Se(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(r)?a=I.cloneElement(r,gt(gt({},i),{},{className:s})):be(r)?a=r(gt(gt({},i),{},{className:s})):a=I.createElement(yo,oa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(N.Component);K0(gs,"displayName","CartesianAxis");K0(gs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Fte=["x1","y1","x2","y2","key"],Vte=["offset"];function xo(t){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo(t)}function w1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w1(Object(n),!0).forEach(function(r){zte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zte(t,e,n){return e=qte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qte(t){var e=Gte(t,"string");return xo(e)=="symbol"?e:e+""}function Gte(t,e){if(xo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function io(){return io=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},io.apply(this,arguments)}function b1(t,e){if(t==null)return{};var n=Hte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Wte=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return I.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function C2(t,e){var n;if(I.isValidElement(t))n=I.cloneElement(t,e);else if(be(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=b1(e,Fte),u=pe(l,!1);u.offset;var c=b1(u,Vte);n=I.createElement("line",io({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Kte(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Vt(Vt({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return C2(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Jte(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Vt(Vt({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return C2(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Yte(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var y=!c[g+1],v=y?i+a-h:c[g+1]-h;if(v<=0)return null;var x=g%e.length;return I.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:v,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Xte(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,g){return h-g});o!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var y=!c[g+1],v=y?o+s-h:c[g+1]-h;if(v<=0)return null;var x=g%r.length;return I.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:v,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Qte=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return SI(W0(Vt(Vt(Vt({},gs.defaultProps),r),{},{ticks:Ir(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Zte=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return SI(W0(Vt(Vt(Vt({},gs.defaultProps),r),{},{ticks:Ir(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Ro={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function J0(t){var e,n,r,i,o,a,s=z0(),l=q0(),u=Bee(),c=Vt(Vt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ro.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ro.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ro.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ro.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ro.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Ro.verticalFill,x:X(t.x)?t.x:u.left,y:X(t.y)?t.y:u.top,width:X(t.width)?t.width:u.width,height:X(t.height)?t.height:u.height}),d=c.x,h=c.y,g=c.width,y=c.height,v=c.syncWithTicks,x=c.horizontalValues,w=c.verticalValues,b=jee(),_=Lee();if(!X(g)||g<=0||!X(y)||y<=0||!X(d)||d!==+d||!X(h)||h!==+h)return null;var T=c.verticalCoordinatesGenerator||Qte,S=c.horizontalCoordinatesGenerator||Zte,E=c.horizontalPoints,A=c.verticalPoints;if((!E||!E.length)&&be(S)){var C=x&&x.length,k=S({yAxis:_?Vt(Vt({},_),{},{ticks:C?x:_.ticks}):void 0,width:s,height:l,offset:u},C?!0:v);rr(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xo(k),"]")),Array.isArray(k)&&(E=k)}if((!A||!A.length)&&be(T)){var P=w&&w.length,O=T({xAxis:b?Vt(Vt({},b),{},{ticks:P?w:b.ticks}):void 0,width:s,height:l,offset:u},P?!0:v);rr(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xo(O),"]")),Array.isArray(O)&&(A=O)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Wte,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),I.createElement(Kte,io({},c,{offset:u,horizontalPoints:E,xAxis:b,yAxis:_})),I.createElement(Jte,io({},c,{offset:u,verticalPoints:A,xAxis:b,yAxis:_})),I.createElement(Yte,io({},c,{horizontalPoints:E})),I.createElement(Xte,io({},c,{verticalPoints:A})))}J0.displayName="CartesianGrid";var ene=["type","layout","connectNulls","ref"],tne=["key"];function Ka(t){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka(t)}function x1(t,e){if(t==null)return{};var n=nne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(this,arguments)}function _1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_1(Object(n),!0).forEach(function(r){Qn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $o(t){return ane(t)||one(t)||ine(t)||rne()}function rne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ine(t,e){if(t){if(typeof t=="string")return mv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mv(t,e)}}function one(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ane(t){if(Array.isArray(t))return mv(t)}function mv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P2(r.key),r)}}function lne(t,e,n){return e&&S1(t.prototype,e),n&&S1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function une(t,e,n){return e=df(e),cne(t,k2()?Reflect.construct(e,n||[],df(t).constructor):e.apply(t,n))}function cne(t,e){if(e&&(Ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dne(t)}function dne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k2=function(){return!!t})()}function df(t){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},df(t)}function fne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gv(t,e)}function gv(t,e){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gv(t,e)}function Qn(t,e,n){return e=P2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P2(t){var e=hne(t,"string");return Ka(e)=="symbol"?e:e+""}function hne(t,e){if(Ka(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ka(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $u=function(t){function e(){var n;sne(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=une(this,e,[].concat(i)),Qn(n,"state",{isAnimationFinished:!0,totalLength:0}),Qn(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Qn(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(w,b){return w+b});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),d=a%u,h=s-a,g=[],y=0,v=0;y<l.length;v+=l[y],++y)if(v+l[y]>d){g=[].concat($o(l.slice(0,y)),[d-v]);break}var x=g.length%2===0?[0,h]:[h];return[].concat($o(e.repeat(l,c)),$o(g),x).map(function(w){return"".concat(w,"px")}).join(", ")}),Qn(n,"id",us("recharts-line-")),Qn(n,"pathRef",function(a){n.mainCurve=a}),Qn(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Qn(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return fne(e,t),lne(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=bn(c,Ru);if(!d)return null;var h=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:bt(v.payload,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return I.createElement(Ce,g,d.map(function(y){return I.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,d=pe(this.props,!1),h=pe(l,!0),g=u.map(function(v,x){var w=ln(ln(ln({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:c,payload:v.payload,points:u});return e.renderDotItem(l,w)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return I.createElement(Ce,gl({className:"recharts-line-dots",key:"dots"},y),g)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var d=x1(s,ene),h=ln(ln(ln({},pe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return I.createElement(qd,gl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,g=a.animationId,y=a.animateNewValues,v=a.width,x=a.height,w=this.state,b=w.prevPoints,_=w.totalLength;return I.createElement(yr,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var S=T.t;if(b){var E=b.length/s.length,A=s.map(function(R,j){var B=Math.floor(j*E);if(b[B]){var D=b[B],M=hn(D.x,R.x),L=hn(D.y,R.y);return ln(ln({},R),{},{x:M(S),y:L(S)})}if(y){var $=hn(v*2,R.x),U=hn(x/2,R.y);return ln(ln({},R),{},{x:$(S),y:U(S)})}return ln(ln({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(A,r,i)}var C=hn(0,_),k=C(S),P;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});P=o.getStrokeDasharray(k,_,O)}else P=o.generateSimpleStrokeDasharray(_,k);return o.renderCurveStatically(s,r,i,{strokeDasharray:P})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!Mu(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,h=i.left,g=i.width,y=i.height,v=i.isAnimationActive,x=i.id;if(o||!s||!s.length)return null;var w=this.state.isAnimationFinished,b=s.length===1,_=Se("recharts-line",l),T=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,E=T||S,A=_e(x)?this.id:x,C=(r=pe(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=C.r,P=k===void 0?3:k,O=C.strokeWidth,R=O===void 0?2:O,j=$L(a)?a:{},B=j.clipDot,D=B===void 0?!0:B,M=P*2+R;return I.createElement(Ce,{className:_},T||S?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(A)},I.createElement("rect",{x:T?h:h-g/2,y:S?d:d-y/2,width:T?g:g*2,height:S?y:y*2})),!D&&I.createElement("clipPath",{id:"clipPath-dots-".concat(A)},I.createElement("rect",{x:h-M/2,y:d-M/2,width:g+M,height:y+M}))):null,!b&&this.renderCurve(E,A),this.renderErrorBar(E,A),(b||a)&&this.renderDots(E,D,A),(!v||w)&&Rr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat($o(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat($o(a),$o(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(I.isValidElement(r))o=I.cloneElement(r,i);else if(be(r))o=r(i);else{var a=i.key,s=x1(i,tne),l=Se("recharts-line-dot",typeof r!="boolean"?r.className:"");o=I.createElement(bh,gl({key:a},s,{className:l}))}return o}}])}(N.PureComponent);Qn($u,"displayName","Line");Qn($u,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!To.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Qn($u,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(h,g){var y=bt(h,a);return c==="horizontal"?{x:W_({axis:n,ticks:i,bandSize:s,entry:h,index:g}),y:_e(y)?null:r.scale(y),value:y,payload:h}:{x:_e(y)?null:n.scale(y),y:W_({axis:r,ticks:o,bandSize:s,entry:h,index:g}),value:y,payload:h}});return ln({points:d,layout:c},u)});function Ja(t){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}function pne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O2(r.key),r)}}function gne(t,e,n){return e&&mne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vne(t,e,n){return e=ff(e),yne(t,I2()?Reflect.construct(e,n||[],ff(t).constructor):e.apply(t,n))}function yne(t,e){if(e&&(Ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wne(t)}function wne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I2=function(){return!!t})()}function ff(t){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ff(t)}function bne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vv(t,e)}function vv(t,e){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vv(t,e)}function N2(t,e,n){return e=O2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O2(t){var e=xne(t,"string");return Ja(e)=="symbol"?e:e+""}function xne(t,e){if(Ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yv(){return yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yv.apply(this,arguments)}function _ne(t){var e=t.xAxisId,n=z0(),r=q0(),i=g2(e);return i==null?null:N.createElement(gs,yv({},i,{className:Se("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Ir(a,!0)}}))}var vs=function(t){function e(){return pne(this,e),vne(this,e,arguments)}return bne(e,t),gne(e,[{key:"render",value:function(){return N.createElement(_ne,this.props)}}])}(N.Component);N2(vs,"displayName","XAxis");N2(vs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ya(t){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(t)}function Sne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ene(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$2(r.key),r)}}function Tne(t,e,n){return e&&Ene(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ane(t,e,n){return e=hf(e),Cne(t,M2()?Reflect.construct(e,n||[],hf(t).constructor):e.apply(t,n))}function Cne(t,e){if(e&&(Ya(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kne(t)}function kne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M2=function(){return!!t})()}function hf(t){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hf(t)}function Pne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wv(t,e)}function wv(t,e){return wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wv(t,e)}function R2(t,e,n){return e=$2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $2(t){var e=Ine(t,"string");return Ya(e)=="symbol"?e:e+""}function Ine(t,e){if(Ya(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(this,arguments)}var Nne=function(e){var n=e.yAxisId,r=z0(),i=q0(),o=v2(n);return o==null?null:N.createElement(gs,bv({},o,{className:Se("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Ir(s,!0)}}))},ys=function(t){function e(){return Sne(this,e),Ane(this,e,arguments)}return Pne(e,t),Tne(e,[{key:"render",value:function(){return N.createElement(Nne,this.props)}}])}(N.Component);R2(ys,"displayName","YAxis");R2(ys,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function E1(t){return $ne(t)||Rne(t)||Mne(t)||One()}function One(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mne(t,e){if(t){if(typeof t=="string")return xv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xv(t,e)}}function Rne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ne(t){if(Array.isArray(t))return xv(t)}function xv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _v=function(e,n,r,i,o){var a=bn(e,H0),s=bn(e,Ph),l=[].concat(E1(a),E1(s)),u=bn(e,Nh),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(v,x){if(x.props[c]===r&&gr(x.props,"extendDomain")&&X(x.props[d])){var w=x.props[d];return[Math.min(v[0],w),Math.max(v[1],w)]}return v},h)),u.length){var g="".concat(d,"1"),y="".concat(d,"2");h=u.reduce(function(v,x){if(x.props[c]===r&&gr(x.props,"extendDomain")&&X(x.props[g])&&X(x.props[y])){var w=x.props[g],b=x.props[y];return[Math.min(v[0],w,b),Math.max(v[1],w,b)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,x){return X(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},h)),h},D2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,d||l,h),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],g]:l._events[y].push(g):(l._events[y]=g,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,g=d.length,y=new Array(g);h<g;h++)y[h]=d[h].fn;return y},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,g,y){var v=n?n+u:u;if(!this._events[v])return!1;var x=this._events[v],w=arguments.length,b,_;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,d),!0;case 4:return x.fn.call(x.context,c,d,h),!0;case 5:return x.fn.call(x.context,c,d,h,g),!0;case 6:return x.fn.call(x.context,c,d,h,g,y),!0}for(_=1,b=new Array(w-1);_<w;_++)b[_-1]=arguments[_];x.fn.apply(x.context,b)}else{var T=x.length,S;for(_=0;_<T;_++)switch(x[_].once&&this.removeListener(u,x[_].fn,void 0,!0),w){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,c);break;case 3:x[_].fn.call(x[_].context,c,d);break;case 4:x[_].fn.call(x[_].context,c,d,h);break;default:if(!b)for(S=1,b=new Array(w-1);S<w;S++)b[S-1]=arguments[S];x[_].fn.apply(x[_].context,b)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var g=n?n+u:u;if(!this._events[g])return this;if(!c)return a(this,g),this;var y=this._events[g];if(y.fn)y.fn===c&&(!h||y.once)&&(!d||y.context===d)&&a(this,g);else{for(var v=0,x=[],w=y.length;v<w;v++)(y[v].fn!==c||h&&!y[v].once||d&&y[v].context!==d)&&x.push(y[v]);x.length?this._events[g]=x.length===1?x[0]:x:a(this,g)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(D2);var Dne=D2.exports;const jne=De(Dne);var Hp=new jne,Wp="recharts.syncMouseEvents";function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function Lne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Une(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j2(r.key),r)}}function Bne(t,e,n){return e&&Une(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kp(t,e,n){return e=j2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j2(t){var e=Fne(t,"string");return gu(e)=="symbol"?e:e+""}function Fne(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vne=function(){function t(){Lne(this,t),Kp(this,"activeIndex",0),Kp(this,"coordinateList",[]),Kp(this,"layout","horizontal")}return Bne(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function zne(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&X(r)&&X(i))return!0}return!1}function qne(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function L2(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=qe(e,n,r,i),s=qe(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Gne(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=qe(s,l,u,d),g=qe(s,l,c,d);r=h.x,i=h.y,o=g.x,a=g.y}else return L2(e);return[{x:r,y:i},{x:o,y:a}]}function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function T1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T1(Object(n),!0).forEach(function(r){Hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hne(t,e,n){return e=Wne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wne(t){var e=Kne(t,"string");return vu(e)=="symbol"?e:e+""}function Kne(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jne(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var y,v=qd;if(h==="ScatterChart")y=a,v=hX;else if(h==="BarChart")y=qne(d,a,l,c),v=U0;else if(d==="radial"){var x=L2(a),w=x.cx,b=x.cy,_=x.radius,T=x.startAngle,S=x.endAngle;y={cx:w,cy:b,startAngle:T,endAngle:S,innerRadius:_,outerRadius:_},v=RI}else y={points:Gne(d,a,l)},v=qd;var E=gc(gc(gc(gc({stroke:"#ccc",pointerEvents:"none"},l),y),pe(g,!1)),{},{payload:s,payloadIndex:u,className:Se("recharts-tooltip-cursor",g.className)});return N.isValidElement(g)?N.cloneElement(g,E):N.createElement(v,E)}var Yne=["item"],Xne=["children","className","width","height","style","compact","title","desc"];function Xa(t){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(t)}function aa(){return aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aa.apply(this,arguments)}function A1(t,e){return ere(t)||Zne(t,e)||B2(t,e)||Qne()}function Qne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ere(t){if(Array.isArray(t))return t}function C1(t,e){if(t==null)return{};var n=tre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F2(r.key),r)}}function ire(t,e,n){return e&&rre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ore(t,e,n){return e=pf(e),are(t,U2()?Reflect.construct(e,n||[],pf(t).constructor):e.apply(t,n))}function are(t,e){if(e&&(Xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sre(t)}function sre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U2=function(){return!!t})()}function pf(t){return pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pf(t)}function lre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sv(t,e)}function Sv(t,e){return Sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sv(t,e)}function Qa(t){return dre(t)||cre(t)||B2(t)||ure()}function ure(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B2(t,e){if(t){if(typeof t=="string")return Ev(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ev(t,e)}}function cre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dre(t){if(Array.isArray(t))return Ev(t)}function Ev(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k1(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function me(t,e,n){return e=F2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F2(t){var e=fre(t,"string");return Xa(e)=="symbol"?e:e+""}function fre(t,e){if(Xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hre={xAxis:["bottom","top"],yAxis:["left","right"]},pre={width:"100%",height:"100%"},V2={x:0,y:0};function vc(t){return t}var mre=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},gre=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return q(q(q({},i),qe(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return q(q(q({},i),qe(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return V2},Oh=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Qa(s),Qa(u)):s},[]);return a.length>0?a:e&&e.length&&X(i)&&X(o)?e.slice(i,o+1):[]};function z2(t){return t==="number"?[0,"auto"]:void 0}var Tv=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Oh(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var g=d===void 0?s:d;h=hd(g,a.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(Qa(l),[kI(u,h)]):l},[])},P1=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=mre(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=DW(a,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=Tv(e,n,c,d),g=gre(r,s,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:g}}return null},vre=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,g=_I(c,o);return r.reduce(function(y,v){var x,w=v.type.defaultProps!==void 0?q(q({},v.type.defaultProps),v.props):v.props,b=w.type,_=w.dataKey,T=w.allowDataOverflow,S=w.allowDuplicatedCategory,E=w.scale,A=w.ticks,C=w.includeHidden,k=w[a];if(y[k])return y;var P=Oh(e.data,{graphicalItems:i.filter(function(W){var te,ve=a in W.props?W.props[a]:(te=W.type.defaultProps)===null||te===void 0?void 0:te[a];return ve===k}),dataStartIndex:l,dataEndIndex:u}),O=P.length,R,j,B;zne(w.domain,T,b)&&(R=Ug(w.domain,null,T),g&&(b==="number"||E!=="auto")&&(B=fl(P,_,"category")));var D=z2(b);if(!R||R.length===0){var M,L=(M=w.domain)!==null&&M!==void 0?M:D;if(_){if(R=fl(P,_,b),b==="category"&&g){var $=TL(R);S&&$?(j=R,R=ef(0,O)):S||(R=X_(L,R,v).reduce(function(W,te){return W.indexOf(te)>=0?W:[].concat(Qa(W),[te])},[]))}else if(b==="category")S?R=R.filter(function(W){return W!==""&&!_e(W)}):R=X_(L,R,v).reduce(function(W,te){return W.indexOf(te)>=0||te===""||_e(te)?W:[].concat(Qa(W),[te])},[]);else if(b==="number"){var U=FW(P,i.filter(function(W){var te,ve,xe=a in W.props?W.props[a]:(te=W.type.defaultProps)===null||te===void 0?void 0:te[a],Ie="hide"in W.props?W.props.hide:(ve=W.type.defaultProps)===null||ve===void 0?void 0:ve.hide;return xe===k&&(C||!Ie)}),_,o,c);U&&(R=U)}g&&(b==="number"||E!=="auto")&&(B=fl(P,_,"category"))}else g?R=ef(0,O):s&&s[k]&&s[k].hasStack&&b==="number"?R=h==="expand"?[0,1]:CI(s[k].stackGroups,l,u):R=xI(P,i.filter(function(W){var te=a in W.props?W.props[a]:W.type.defaultProps[a],ve="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return te===k&&(C||!ve)}),b,c,!0);if(b==="number")R=_v(d,R,k,o,A),L&&(R=Ug(L,R,T));else if(b==="category"&&L){var H=L,Y=R.every(function(W){return H.indexOf(W)>=0});Y&&(R=H)}}return q(q({},y),{},me({},k,q(q({},w),{},{axisType:o,domain:R,categoricalDomain:B,duplicateDomain:j,originalDomain:(x=w.domain)!==null&&x!==void 0?x:D,isCategorical:g,layout:c})))},{})},yre=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=Oh(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,y=_I(c,o),v=-1;return r.reduce(function(x,w){var b=w.type.defaultProps!==void 0?q(q({},w.type.defaultProps),w.props):w.props,_=b[a],T=z2("number");if(!x[_]){v++;var S;return y?S=ef(0,g):s&&s[_]&&s[_].hasStack?(S=CI(s[_].stackGroups,l,u),S=_v(d,S,_,o)):(S=Ug(T,xI(h,r.filter(function(E){var A,C,k=a in E.props?E.props[a]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[a],P="hide"in E.props?E.props.hide:(C=E.type.defaultProps)===null||C===void 0?void 0:C.hide;return k===_&&!P}),"number",c),i.defaultProps.allowDataOverflow),S=_v(d,S,_,o)),q(q({},x),{},me({},_,q(q({axisType:o},i.defaultProps),{},{hide:!0,orientation:wn(hre,"".concat(o,".").concat(v%2),null),domain:S,originalDomain:T,isCategorical:y,layout:c})))}return x},{})},wre=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=bn(c,o),g={};return h&&h.length?g=vre(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(g=yre(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},bre=function(e){var n=ai(e),r=Ir(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:d0(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Fd(n,r)}},I1=function(e){var n=e.children,r=e.defaultShowTooltip,i=fn(n,Va),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},xre=function(e){return!e||!e.length?!1:e.some(function(n){var r=Or(n&&n.type);return r&&r.indexOf("Bar")>=0})},N1=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},_re=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,h=r.margin||{},g=fn(d,Va),y=fn(d,bi),v=Object.keys(l).reduce(function(S,E){var A=l[E],C=A.orientation;return!A.mirror&&!A.hide?q(q({},S),{},me({},C,S[C]+A.width)):S},{left:h.left||0,right:h.right||0}),x=Object.keys(a).reduce(function(S,E){var A=a[E],C=A.orientation;return!A.mirror&&!A.hide?q(q({},S),{},me({},C,wn(S,"".concat(C))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),w=q(q({},x),v),b=w.bottom;g&&(w.bottom+=g.props.height||Va.defaultProps.height),y&&n&&(w=UW(w,i,r,n));var _=u-w.left-w.right,T=c-w.top-w.bottom;return q(q({brushBottom:b},w),{},{width:Math.max(_,0),height:Math.max(T,0)})},Sre=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Y0=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(w,b){var _=b.graphicalItems,T=b.stackGroups,S=b.offset,E=b.updateId,A=b.dataStartIndex,C=b.dataEndIndex,k=w.barSize,P=w.layout,O=w.barGap,R=w.barCategoryGap,j=w.maxBarSize,B=N1(P),D=B.numericAxisName,M=B.cateAxisName,L=xre(_),$=[];return _.forEach(function(U,H){var Y=Oh(w.data,{graphicalItems:[U],dataStartIndex:A,dataEndIndex:C}),W=U.type.defaultProps!==void 0?q(q({},U.type.defaultProps),U.props):U.props,te=W.dataKey,ve=W.maxBarSize,xe=W["".concat(D,"Id")],Ie=W["".concat(M,"Id")],tt={},Ne=l.reduce(function(Et,Zt){var En=b["".concat(Zt.axisType,"Map")],ct=W["".concat(Zt.axisType,"Id")];En&&En[ct]||Zt.axisType==="zAxis"||bo();var Tn=En[ct];return q(q({},Et),{},me(me({},Zt.axisType,Tn),"".concat(Zt.axisType,"Ticks"),Ir(Tn)))},tt),z=Ne[M],Z=Ne["".concat(M,"Ticks")],ne=T&&T[xe]&&T[xe].hasStack&&YW(U,T[xe].stackGroups),F=Or(U.type).indexOf("Bar")>=0,Te=Fd(z,Z),V=[],ce=L&&jW({barSize:k,stackGroups:T,totalSize:Sre(Ne,M)});if(F){var ye,Re,nt=_e(ve)?j:ve,It=(ye=(Re=Fd(z,Z,!0))!==null&&Re!==void 0?Re:nt)!==null&&ye!==void 0?ye:0;V=LW({barGap:O,barCategoryGap:R,bandSize:It!==Te?It:Te,sizeList:ce[Ie],maxBarSize:nt}),It!==Te&&(V=V.map(function(Et){return q(q({},Et),{},{position:q(q({},Et.position),{},{offset:Et.position.offset-It/2})})}))}var jt=U&&U.type&&U.type.getComposedData;jt&&$.push({props:q(q({},jt(q(q({},Ne),{},{displayedData:Y,props:w,dataKey:te,item:U,bandSize:Te,barPosition:V,offset:S,stackedData:ne,layout:P,dataStartIndex:A,dataEndIndex:C}))),{},me(me(me({key:U.key||"item-".concat(H)},D,Ne[D]),M,Ne[M]),"animationId",E)),childIndex:LL(U,w.children),item:U})}),$},g=function(w,b){var _=w.props,T=w.dataStartIndex,S=w.dataEndIndex,E=w.updateId;if(!qb({props:_}))return null;var A=_.children,C=_.layout,k=_.stackOffset,P=_.data,O=_.reverseStackOrder,R=N1(C),j=R.numericAxisName,B=R.cateAxisName,D=bn(A,r),M=KW(P,D,"".concat(j,"Id"),"".concat(B,"Id"),k,O),L=l.reduce(function(W,te){var ve="".concat(te.axisType,"Map");return q(q({},W),{},me({},ve,wre(_,q(q({},te),{},{graphicalItems:D,stackGroups:te.axisType===j&&M,dataStartIndex:T,dataEndIndex:S}))))},{}),$=_re(q(q({},L),{},{props:_,graphicalItems:D}),b==null?void 0:b.legendBBox);Object.keys(L).forEach(function(W){L[W]=c(_,L[W],$,W.replace("Map",""),n)});var U=L["".concat(B,"Map")],H=bre(U),Y=h(_,q(q({},L),{},{dataStartIndex:T,dataEndIndex:S,updateId:E,graphicalItems:D,stackGroups:M,offset:$}));return q(q({formattedGraphicalItems:Y,graphicalItems:D,offset:$,stackGroups:M},H),L)},y=function(x){function w(b){var _,T,S;return nre(this,w),S=ore(this,w,[b]),me(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),me(S,"accessibilityManager",new Vne),me(S,"handleLegendBBoxUpdate",function(E){if(E){var A=S.state,C=A.dataStartIndex,k=A.dataEndIndex,P=A.updateId;S.setState(q({legendBBox:E},g({props:S.props,dataStartIndex:C,dataEndIndex:k,updateId:P},q(q({},S.state),{},{legendBBox:E}))))}}),me(S,"handleReceiveSyncEvent",function(E,A,C){if(S.props.syncId===E){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),me(S,"handleBrushChange",function(E){var A=E.startIndex,C=E.endIndex;if(A!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var k=S.state.updateId;S.setState(function(){return q({dataStartIndex:A,dataEndIndex:C},g({props:S.props,dataStartIndex:A,dataEndIndex:C,updateId:k},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:C})}}),me(S,"handleMouseEnter",function(E){var A=S.getMouseInfo(E);if(A){var C=q(q({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var k=S.props.onMouseEnter;be(k)&&k(C,E)}}),me(S,"triggeredAfterMouseMove",function(E){var A=S.getMouseInfo(E),C=A?q(q({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var k=S.props.onMouseMove;be(k)&&k(C,E)}),me(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),me(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),me(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),me(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseLeave;be(C)&&C(A,E)}),me(S,"handleOuterEvent",function(E){var A=jL(E),C=wn(S.props,"".concat(A));if(A&&be(C)){var k,P;/.*touch.*/i.test(A)?P=S.getMouseInfo(E.changedTouches[0]):P=S.getMouseInfo(E),C((k=P)!==null&&k!==void 0?k:{},E)}}),me(S,"handleClick",function(E){var A=S.getMouseInfo(E);if(A){var C=q(q({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var k=S.props.onClick;be(k)&&k(C,E)}}),me(S,"handleMouseDown",function(E){var A=S.props.onMouseDown;if(be(A)){var C=S.getMouseInfo(E);A(C,E)}}),me(S,"handleMouseUp",function(E){var A=S.props.onMouseUp;if(be(A)){var C=S.getMouseInfo(E);A(C,E)}}),me(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),me(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),me(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),me(S,"handleDoubleClick",function(E){var A=S.props.onDoubleClick;if(be(A)){var C=S.getMouseInfo(E);A(C,E)}}),me(S,"handleContextMenu",function(E){var A=S.props.onContextMenu;if(be(A)){var C=S.getMouseInfo(E);A(C,E)}}),me(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&Hp.emit(Wp,S.props.syncId,E,S.eventEmitterSymbol)}),me(S,"applySyncEvent",function(E){var A=S.props,C=A.layout,k=A.syncMethod,P=S.state.updateId,O=E.dataStartIndex,R=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(q({dataStartIndex:O,dataEndIndex:R},g({props:S.props,dataStartIndex:O,dataEndIndex:R,updateId:P},S.state)));else if(E.activeTooltipIndex!==void 0){var j=E.chartX,B=E.chartY,D=E.activeTooltipIndex,M=S.state,L=M.offset,$=M.tooltipTicks;if(!L)return;if(typeof k=="function")D=k($,E);else if(k==="value"){D=-1;for(var U=0;U<$.length;U++)if($[U].value===E.activeLabel){D=U;break}}var H=q(q({},L),{},{x:L.left,y:L.top}),Y=Math.min(j,H.x+H.width),W=Math.min(B,H.y+H.height),te=$[D]&&$[D].value,ve=Tv(S.state,S.props.data,D),xe=$[D]?{x:C==="horizontal"?$[D].coordinate:Y,y:C==="horizontal"?W:$[D].coordinate}:V2;S.setState(q(q({},E),{},{activeLabel:te,activeCoordinate:xe,activePayload:ve,activeTooltipIndex:D}))}else S.setState(E)}),me(S,"renderCursor",function(E){var A,C=S.state,k=C.isTooltipActive,P=C.activeCoordinate,O=C.activePayload,R=C.offset,j=C.activeTooltipIndex,B=C.tooltipAxisBandSize,D=S.getTooltipEventType(),M=(A=E.props.active)!==null&&A!==void 0?A:k,L=S.props.layout,$=E.key||"_recharts-cursor";return I.createElement(Jne,{key:$,activeCoordinate:P,activePayload:O,activeTooltipIndex:j,chartName:n,element:E,isActive:M,layout:L,offset:R,tooltipAxisBandSize:B,tooltipEventType:D})}),me(S,"renderPolarAxis",function(E,A,C){var k=wn(E,"type.axisType"),P=wn(S.state,"".concat(k,"Map")),O=E.type.defaultProps,R=O!==void 0?q(q({},O),E.props):E.props,j=P&&P[R["".concat(k,"Id")]];return N.cloneElement(E,q(q({},j),{},{className:Se(k,j.className),key:E.key||"".concat(A,"-").concat(C),ticks:Ir(j,!0)}))}),me(S,"renderPolarGrid",function(E){var A=E.props,C=A.radialLines,k=A.polarAngles,P=A.polarRadius,O=S.state,R=O.radiusAxisMap,j=O.angleAxisMap,B=ai(R),D=ai(j),M=D.cx,L=D.cy,$=D.innerRadius,U=D.outerRadius;return N.cloneElement(E,{polarAngles:Array.isArray(k)?k:Ir(D,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(P)?P:Ir(B,!0).map(function(H){return H.coordinate}),cx:M,cy:L,innerRadius:$,outerRadius:U,key:E.key||"polar-grid",radialLines:C})}),me(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,A=S.props,C=A.children,k=A.width,P=A.height,O=S.props.margin||{},R=k-(O.left||0)-(O.right||0),j=wI({children:C,formattedGraphicalItems:E,legendWidth:R,legendContent:u});if(!j)return null;var B=j.item,D=C1(j,Yne);return N.cloneElement(B,q(q({},D),{},{chartWidth:k,chartHeight:P,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),me(S,"renderTooltip",function(){var E,A=S.props,C=A.children,k=A.accessibilityLayer,P=fn(C,In);if(!P)return null;var O=S.state,R=O.isTooltipActive,j=O.activeCoordinate,B=O.activePayload,D=O.activeLabel,M=O.offset,L=(E=P.props.active)!==null&&E!==void 0?E:R;return N.cloneElement(P,{viewBox:q(q({},M),{},{x:M.left,y:M.top}),active:L,label:D,payload:L?B:[],coordinate:j,accessibilityLayer:k})}),me(S,"renderBrush",function(E){var A=S.props,C=A.margin,k=A.data,P=S.state,O=P.offset,R=P.dataStartIndex,j=P.dataEndIndex,B=P.updateId;return N.cloneElement(E,{key:E.key||"_recharts-brush",onChange:fc(S.handleBrushChange,E.props.onChange),data:k,x:X(E.props.x)?E.props.x:O.left,y:X(E.props.y)?E.props.y:O.top+O.height+O.brushBottom-(C.bottom||0),width:X(E.props.width)?E.props.width:O.width,startIndex:R,endIndex:j,updateId:"brush-".concat(B)})}),me(S,"renderReferenceElement",function(E,A,C){if(!E)return null;var k=S,P=k.clipPathId,O=S.state,R=O.xAxisMap,j=O.yAxisMap,B=O.offset,D=E.type.defaultProps||{},M=E.props,L=M.xAxisId,$=L===void 0?D.xAxisId:L,U=M.yAxisId,H=U===void 0?D.yAxisId:U;return N.cloneElement(E,{key:E.key||"".concat(A,"-").concat(C),xAxis:R[$],yAxis:j[H],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:P})}),me(S,"renderActivePoints",function(E){var A=E.item,C=E.activePoint,k=E.basePoint,P=E.childIndex,O=E.isRange,R=[],j=A.props.key,B=A.item.type.defaultProps!==void 0?q(q({},A.item.type.defaultProps),A.item.props):A.item.props,D=B.activeDot,M=B.dataKey,L=q(q({index:P,dataKey:M,cx:C.x,cy:C.y,r:4,fill:L0(A.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},pe(D,!1)),pd(D));return R.push(w.renderActiveDot(D,L,"".concat(j,"-activePoint-").concat(P))),k?R.push(w.renderActiveDot(D,q(q({},L),{},{cx:k.x,cy:k.y}),"".concat(j,"-basePoint-").concat(P))):O&&R.push(null),R}),me(S,"renderGraphicChild",function(E,A,C){var k=S.filterFormatItem(E,A,C);if(!k)return null;var P=S.getTooltipEventType(),O=S.state,R=O.isTooltipActive,j=O.tooltipAxis,B=O.activeTooltipIndex,D=O.activeLabel,M=S.props.children,L=fn(M,In),$=k.props,U=$.points,H=$.isRange,Y=$.baseLine,W=k.item.type.defaultProps!==void 0?q(q({},k.item.type.defaultProps),k.item.props):k.item.props,te=W.activeDot,ve=W.hide,xe=W.activeBar,Ie=W.activeShape,tt=!!(!ve&&R&&L&&(te||xe||Ie)),Ne={};P!=="axis"&&L&&L.props.trigger==="click"?Ne={onClick:fc(S.handleItemMouseEnter,E.props.onClick)}:P!=="axis"&&(Ne={onMouseLeave:fc(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:fc(S.handleItemMouseEnter,E.props.onMouseEnter)});var z=N.cloneElement(E,q(q({},k.props),Ne));function Z(Zt){return typeof j.dataKey=="function"?j.dataKey(Zt.payload):null}if(tt)if(B>=0){var ne,F;if(j.dataKey&&!j.allowDuplicatedCategory){var Te=typeof j.dataKey=="function"?Z:"payload.".concat(j.dataKey.toString());ne=hd(U,Te,D),F=H&&Y&&hd(Y,Te,D)}else ne=U==null?void 0:U[B],F=H&&Y&&Y[B];if(Ie||xe){var V=E.props.activeIndex!==void 0?E.props.activeIndex:B;return[N.cloneElement(E,q(q(q({},k.props),Ne),{},{activeIndex:V})),null,null]}if(!_e(ne))return[z].concat(Qa(S.renderActivePoints({item:k,activePoint:ne,basePoint:F,childIndex:B,isRange:H})))}else{var ce,ye=(ce=S.getItemByXY(S.state.activeCoordinate))!==null&&ce!==void 0?ce:{graphicalItem:z},Re=ye.graphicalItem,nt=Re.item,It=nt===void 0?E:nt,jt=Re.childIndex,Et=q(q(q({},k.props),Ne),{},{activeIndex:jt});return[N.cloneElement(It,Et),null,null]}return H?[z,null,null]:[z,null]}),me(S,"renderCustomized",function(E,A,C){return N.cloneElement(E,q(q({key:"recharts-customized-".concat(C)},S.props),S.state))}),me(S,"renderMap",{CartesianGrid:{handler:vc,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:vc},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:vc},YAxis:{handler:vc},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=b.id)!==null&&_!==void 0?_:us("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=yP(S.triggeredAfterMouseMove,(T=b.throttleDelay)!==null&&T!==void 0?T:1e3/60),S.state={},S}return lre(w,x),ire(w,[{key:"componentDidMount",value:function(){var _,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,T=_.children,S=_.data,E=_.height,A=_.layout,C=fn(T,In);if(C){var k=C.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,O=Tv(this.state,S,k,P),R=this.state.tooltipTicks[k].coordinate,j=(this.state.offset.top+E)/2,B=A==="horizontal",D=B?{x:R,y:j}:{y:R,x:j},M=this.state.formattedGraphicalItems.find(function($){var U=$.item;return U.type.name==="Scatter"});M&&(D=q(q({},D),M.props.points[k].tooltipPosition),O=M.props.points[k].tooltipPayload);var L={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:P,activePayload:O,activeCoordinate:D};this.setState(L),this.renderCursor(C),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(_){eg([fn(_.children,In)],[fn(this.props.children,In)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=fn(this.props.children,In);if(_&&typeof _.props.shared=="boolean"){var T=_.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var T=this.container,S=T.getBoundingClientRect(),E=cq(S),A={chartX:Math.round(_.pageX-E.left),chartY:Math.round(_.pageY-E.top)},C=S.width/T.offsetWidth||1,k=this.inRange(A.chartX,A.chartY,C);if(!k)return null;var P=this.state,O=P.xAxisMap,R=P.yAxisMap,j=this.getTooltipEventType(),B=P1(this.state,this.props.data,this.props.layout,k);if(j!=="axis"&&O&&R){var D=ai(O).scale,M=ai(R).scale,L=D&&D.invert?D.invert(A.chartX):null,$=M&&M.invert?M.invert(A.chartY):null;return q(q({},A),{},{xValue:L,yValue:$},B)}return B?q(q({},A),B):null}},{key:"inRange",value:function(_,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,A=_/S,C=T/S;if(E==="horizontal"||E==="vertical"){var k=this.state.offset,P=A>=k.left&&A<=k.left+k.width&&C>=k.top&&C<=k.top+k.height;return P?{x:A,y:C}:null}var O=this.state,R=O.angleAxisMap,j=O.radiusAxisMap;if(R&&j){var B=ai(R);return eS({x:A,y:C},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,T=this.getTooltipEventType(),S=fn(_,In),E={};S&&T==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=pd(this.props,this.handleOuterEvent);return q(q({},A),E)}},{key:"addListener",value:function(){Hp.on(Wp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Hp.removeListener(Wp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,T,S){for(var E=this.state.formattedGraphicalItems,A=0,C=E.length;A<C;A++){var k=E[A];if(k.item===_||k.props.key===_.key||T===Or(k.item.type)&&S===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,T=this.state.offset,S=T.left,E=T.top,A=T.height,C=T.width;return I.createElement("defs",null,I.createElement("clipPath",{id:_},I.createElement("rect",{x:S,y:E,height:A,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=A1(S,2),A=E[0],C=E[1];return q(q({},T),{},me({},A,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=A1(S,2),A=E[0],C=E[1];return q(q({},T),{},me({},A,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(_){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(_){var T=this.state,S=T.formattedGraphicalItems,E=T.activeItem;if(S&&S.length)for(var A=0,C=S.length;A<C;A++){var k=S[A],P=k.props,O=k.item,R=O.type.defaultProps!==void 0?q(q({},O.type.defaultProps),O.props):O.props,j=Or(O.type);if(j==="Bar"){var B=(P.data||[]).find(function($){return WY(_,$)});if(B)return{graphicalItem:k,payload:B}}else if(j==="RadialBar"){var D=(P.data||[]).find(function($){return eS(_,$)});if(D)return{graphicalItem:k,payload:D}}else if(Th(k,E)||Ah(k,E)||du(k,E)){var M=$Q({graphicalItem:k,activeTooltipItem:E,itemData:R.data}),L=R.activeIndex===void 0?M:R.activeIndex;return{graphicalItem:q(q({},k),{},{childIndex:L}),payload:du(k,E)?R.data[M]:k.props.data[M]}}}return null}},{key:"render",value:function(){var _=this;if(!qb(this))return null;var T=this.props,S=T.children,E=T.className,A=T.width,C=T.height,k=T.style,P=T.compact,O=T.title,R=T.desc,j=C1(T,Xne),B=pe(j,!1);if(P)return I.createElement(l1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(ng,aa({},B,{width:A,height:C,title:O,desc:R}),this.renderClipPath(),Hb(S,this.renderMap)));if(this.props.accessibilityLayer){var D,M;B.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,B.role=(M=this.props.role)!==null&&M!==void 0?M:"application",B.onKeyDown=function($){_.accessibilityManager.keyboardEvent($)},B.onFocus=function(){_.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return I.createElement(l1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",aa({className:Se("recharts-wrapper",E),style:q({position:"relative",cursor:"default",width:A,height:C},k)},L,{ref:function(U){_.container=U}}),I.createElement(ng,aa({},B,{width:A,height:C,title:O,desc:R,style:pre}),this.renderClipPath(),Hb(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);me(y,"displayName",n),me(y,"defaultProps",q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),me(y,"getDerivedStateFromProps",function(x,w){var b=x.dataKey,_=x.data,T=x.children,S=x.width,E=x.height,A=x.layout,C=x.stackOffset,k=x.margin,P=w.dataStartIndex,O=w.dataEndIndex;if(w.updateId===void 0){var R=I1(x);return q(q(q({},R),{},{updateId:0},g(q(q({props:x},R),{},{updateId:0}),w)),{},{prevDataKey:b,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:k,prevChildren:T})}if(b!==w.prevDataKey||_!==w.prevData||S!==w.prevWidth||E!==w.prevHeight||A!==w.prevLayout||C!==w.prevStackOffset||!pa(k,w.prevMargin)){var j=I1(x),B={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},D=q(q({},P1(w,_,A)),{},{updateId:w.updateId+1}),M=q(q(q({},j),B),D);return q(q(q({},M),g(q({props:x},M),w)),{},{prevDataKey:b,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:k,prevChildren:T})}if(!eg(T,w.prevChildren)){var L,$,U,H,Y=fn(T,Va),W=Y&&(L=($=Y.props)===null||$===void 0?void 0:$.startIndex)!==null&&L!==void 0?L:P,te=Y&&(U=(H=Y.props)===null||H===void 0?void 0:H.endIndex)!==null&&U!==void 0?U:O,ve=W!==P||te!==O,xe=!_e(_),Ie=xe&&!ve?w.updateId:w.updateId+1;return q(q({updateId:Ie},g(q(q({props:x},w),{},{updateId:Ie,dataStartIndex:W,dataEndIndex:te}),w)),{},{prevChildren:T,dataStartIndex:W,dataEndIndex:te})}return null}),me(y,"renderActiveDot",function(x,w,b){var _;return N.isValidElement(x)?_=N.cloneElement(x,w):be(x)?_=x(w):_=I.createElement(bh,w),I.createElement(Ce,{className:"recharts-active-dot",key:b},_)});var v=N.forwardRef(function(w,b){return I.createElement(y,aa({},w,{ref:b}))});return v.displayName=y.displayName,v},Ere=Y0({chartName:"LineChart",GraphicalChild:$u,axisComponents:[{axisType:"xAxis",AxisComp:vs},{axisType:"yAxis",AxisComp:ys}],formatAxisMap:l2}),Tre=Y0({chartName:"BarChart",GraphicalChild:Po,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:vs},{axisType:"yAxis",AxisComp:ys}],formatAxisMap:l2}),Are=Y0({chartName:"PieChart",GraphicalChild:Wr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Eh},{axisType:"radiusAxis",AxisComp:_h}],formatAxisMap:aK,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Cre,kre;function Pre(){return{geminiUrl:Cre,vertexUrl:kre}}function Ire(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=Pre();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kr{}function ee(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,e.slice(o+1),n[u])}else for(const u of l)p(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];p(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>f(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Nre(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}Av(t,i,o,0,a)}}function Av(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])Av(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);p(a,d,c)}for(const u of s)delete a[u]}}else{const a=t;o in a&&Av(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X0(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ore(t){const e={},n=f(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=f(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function Mre(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],$re(a)),e}function Rre(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],Dre(a)),e}function $re(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>jre(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function Dre(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Lre(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function jre(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],qre(n)),e}function Lre(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],Gre(n)),e}function Ure(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function Bre(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function Fre(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],Vre(a)),e}function Vre(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function q2(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],zre(a)),e}function zre(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function qre(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],X0(r));const i=f(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function Gre(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],X0(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var O1;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(O1||(O1={}));var M1;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(M1||(M1={}));var R1;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(R1||(R1={}));var di;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(di||(di={}));var $1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})($1||($1={}));var D1;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(D1||(D1={}));var j1;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(j1||(j1={}));var L1;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(L1||(L1={}));var U1;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(U1||(U1={}));var B1;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(B1||(B1={}));var F1;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(F1||(F1={}));var V1;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(V1||(V1={}));var z1;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(z1||(z1={}));var q1;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(q1||(q1={}));var G1;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(G1||(G1={}));var H1;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(H1||(H1={}));var W1;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(W1||(W1={}));var K1;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(K1||(K1={}));var J1;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(J1||(J1={}));var mf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(mf||(mf={}));var Y1;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Y1||(Y1={}));var X1;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(X1||(X1={}));var Q1;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Q1||(Q1={}));var Cv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Cv||(Cv={}));var Z1;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Z1||(Z1={}));var eE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(eE||(eE={}));var tE;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(tE||(tE={}));var nE;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(nE||(nE={}));var rE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(rE||(rE={}));var iE;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(iE||(iE={}));var oE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(oE||(oE={}));var aE;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(aE||(aE={}));var sE;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(sE||(sE={}));var lE;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(lE||(lE={}));var uE;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(uE||(uE={}));var cE;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(cE||(cE={}));var dE;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(dE||(dE={}));var fE;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(fE||(fE={}));var hE;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(hE||(hE={}));var pE;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(pE||(pE={}));var mE;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(mE||(mE={}));var gE;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(gE||(gE={}));var vE;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(vE||(vE={}));var yE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(yE||(yE={}));var wE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(wE||(wE={}));var bE;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(bE||(bE={}));var xE;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(xE||(xE={}));var _E;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(_E||(_E={}));var SE;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(SE||(SE={}));var EE;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(EE||(EE={}));var TE;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(TE||(TE={}));var AE;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(AE||(AE={}));var CE;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(CE||(CE={}));var kE;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(kE||(kE={}));var sa;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(sa||(sa={}));class kv{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Gs{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(y!==null||y!==void 0)&&d.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(d))h!=="inlineData"&&(g!==null||g!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class PE{}class IE{}class Hre{}class Wre{}class Kre{}class Jre{}class NE{}class OE{}class ME{}class Yre{}class gf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new gf;let i;const o=e;return n?i=Rre(o):i=Mre(o),Object.assign(r,i),r}}class RE{}class $E{}class DE{}class Xre{}class Qre{}class Zre{}class Q0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Q0,o=Fre(e);return Object.assign(r,o),r}}class eie{}class tie{}class nie{}class jE{}class rie{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class iie{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Z0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Z0,o=q2(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function G2(t,e){const n=Pe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function H2(t){return Array.isArray(t)?t.map(e=>vf(e)):[vf(t)]}function vf(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function W2(t){const e=vf(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function K2(t){const e=vf(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function LE(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function J2(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>LE(e)):[LE(t)]}function Pv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function UE(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function BE(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function zt(t){if(t==null)throw new Error("ContentUnion is required");return Pv(t)?t:{role:"user",parts:J2(t)}}function ew(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=zt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=zt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>zt(n)):[zt(e)]}function Ln(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(UE(t)||BE(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[zt(t)]}const e=[],n=[],r=Pv(t[0]);for(const i of t){const o=Pv(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(UE(i)||BE(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:J2(n)}),e}function oie(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(di).includes(n[0].toUpperCase())?n[0].toUpperCase():di.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(di).includes(r.toUpperCase())?r.toUpperCase():di.TYPE_UNSPECIFIED})}}function va(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&oie(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(di).includes(s.toUpperCase())?s.toUpperCase():di.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=va(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(va(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=va(c);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function tw(t){return va(t)}function nw(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function rw(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ws(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=va(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=va(e.response));return t}function bs(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function aie(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Jr(t,e){if(typeof e!="string")throw new Error("name must be a string");return aie(t,e,"cachedContents")}function Y2(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ni(t){return X0(t)}function sie(t){return t!=null&&typeof t=="object"&&"name"in t}function lie(t){return t!=null&&typeof t=="object"&&"video"in t}function uie(t){return t!=null&&typeof t=="object"&&"uri"in t}function X2(t){var e;let n;if(sie(t)&&(n=t.name),!(uie(t)&&(n=t.uri,n===void 0))&&!(lie(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Q2(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Z2(t){for(const e of["models","tunedModels","publisherModels"])if(cie(t,e))return t[e];return[]}function cie(t,e){return t!==null&&typeof t=="object"&&e in t}function die(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function fie(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=die(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function eN(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function hie(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function tN(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function xs(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function nN(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pie(t){const e={},n=f(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=f(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Kie(a))),p(e,["inlinedResponses"],o)}const i=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["inlinedEmbedContentResponses"],o)}return e}function mie(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function gie(t){const e={},n=f(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Bc(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["metadata","state"]);i!=null&&p(e,["state"],nN(i));const o=f(t,["metadata","createTime"]);o!=null&&p(e,["createTime"],o);const a=f(t,["metadata","endTime"]);a!=null&&p(e,["endTime"],a);const s=f(t,["metadata","updateTime"]);s!=null&&p(e,["updateTime"],s);const l=f(t,["metadata","model"]);l!=null&&p(e,["model"],l);const u=f(t,["metadata","output"]);return u!=null&&p(e,["dest"],pie(tN(u))),e}function Iv(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["state"]);i!=null&&p(e,["state"],nN(i));const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["createTime"]);a!=null&&p(e,["createTime"],a);const s=f(t,["startTime"]);s!=null&&p(e,["startTime"],s);const l=f(t,["endTime"]);l!=null&&p(e,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const c=f(t,["model"]);c!=null&&p(e,["model"],c);const d=f(t,["inputConfig"]);d!=null&&p(e,["src"],vie(d));const h=f(t,["outputConfig"]);h!=null&&p(e,["dest"],mie(tN(h)));const g=f(t,["completionStats"]);return g!=null&&p(e,["completionStats"],g),e}function vie(t){const e={},n=f(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function yie(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=f(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Wie(t,a))),p(n,["requests","requests"],o)}return n}function wie(t){const e={},n=f(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function bie(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function xie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],xs(t,r)),n}function _ie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],xs(t,r)),n}function Sie(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],Eie(r));const i=f(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&p(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),p(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&p(e,["urlContextMetadata"],d),e}function Eie(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function rN(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>toe(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function Tie(t,e){const n={},r=f(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Aie(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],gie(hie(i))),n}function FE(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],yie(t,eN(t,i)));const o=f(e,["config"]);return o!=null&&Tie(o,n),n}function Cie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],Pe(t,r));const i=f(e,["src"]);i!=null&&p(n,["inputConfig"],wie(eN(t,i)));const o=f(e,["config"]);return o!=null&&Aie(o,n),n}function kie(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function Pie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],Die(t,i));const o=f(e,["config"]);return o!=null&&kie(o,n),n}function Iie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],xs(t,r)),n}function Nie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],xs(t,r)),n}function Oie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function Mie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function Rie(t,e){const n={},r=f(e,["contents"]);if(r!=null){let o=ew(t,r);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["requests[]","request","content"],o)}const i=f(e,["config"]);return i!=null&&(p(n,["_self"],$ie(i,n)),Nre(n,{"requests[].*":"requests[].request.*"})),n}function $ie(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Die(t,e){const n={},r=f(e,["fileName"]);r!=null&&p(n,["file_name"],r);const i=f(e,["inlinedRequests"]);return i!=null&&p(n,["requests"],Rie(t,i)),n}function jie(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Lie(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Uie(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Bie(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],rN(zt(i)));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const y=f(e,["frequencyPenalty"]);y!=null&&p(r,["frequencyPenalty"],y);const v=f(e,["seed"]);v!=null&&p(r,["seed"],v);const x=f(e,["responseMimeType"]);x!=null&&p(r,["responseMimeType"],x);const w=f(e,["responseSchema"]);w!=null&&p(r,["responseSchema"],tw(w));const b=f(e,["responseJsonSchema"]);if(b!=null&&p(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let R=_;Array.isArray(R)&&(R=R.map(j=>noe(j))),p(n,["safetySettings"],R)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let R=bs(T);Array.isArray(R)&&(R=R.map(j=>ioe(ws(j)))),p(n,["tools"],R)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],roe(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],Jr(t,E));const A=f(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const C=f(e,["mediaResolution"]);C!=null&&p(r,["mediaResolution"],C);const k=f(e,["speechConfig"]);if(k!=null&&p(r,["speechConfig"],nw(k)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=f(e,["thinkingConfig"]);P!=null&&p(r,["thinkingConfig"],P);const O=f(e,["imageConfig"]);return O!=null&&p(r,["imageConfig"],Hie(O)),r}function Fie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Sie(u))),p(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function Vie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],xs(t,r)),n}function zie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],xs(t,r)),n}function qie(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Gie(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Hie(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Wie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["request","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let s=Ln(i);Array.isArray(s)&&(s=s.map(l=>rN(l))),p(n,["request","contents"],s)}const o=f(e,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(e,["config"]);return a!=null&&p(n,["request","generationConfig"],Bie(t,a,f(n,["request"],{}))),n}function Kie(t){const e={},n=f(t,["response"]);n!=null&&p(e,["response"],Fie(n));const r=f(t,["error"]);return r!=null&&p(e,["error"],r),e}function Jie(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Yie(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=f(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function Xie(t){const e={},n=f(t,["config"]);return n!=null&&Jie(n,e),e}function Qie(t){const e={},n=f(t,["config"]);return n!=null&&Yie(n,e),e}function Zie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Bc(a))),p(e,["batchJobs"],o)}return e}function eoe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Iv(a))),p(e,["batchJobs"],o)}return e}function toe(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],jie(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],Lie(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],bie(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function noe(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function roe(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],Uie(n));const r=f(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function ioe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],qie(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],Gie(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Vr||(Vr={}));class Io{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ooe extends Kr{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Io(Vr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=FE(this.apiClient,e),r=n._url,i=ee("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const g=d.request;g.systemInstruction=h,d.request=g}u.push(d)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Cie(this.apiClient,e);return s=ee("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Iv(c))}else{const u=FE(this.apiClient,e);return s=ee("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Bc(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Pie(this.apiClient,e);return o=ee("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Bc(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=zie(this.apiClient,e);return s=ee("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Iv(c))}else{const u=Vie(this.apiClient,e);return s=ee("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Bc(c))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=_ie(this.apiClient,e);a=ee("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=xie(this.apiClient,e);a=ee("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Qie(e);return s=ee("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=eoe(c),h=new jE;return Object.assign(h,d),h})}else{const u=Xie(e);return s=ee("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Zie(c),h=new jE;return Object.assign(h,d),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Nie(this.apiClient,e);return s=ee("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Mie(c))}else{const u=Iie(this.apiClient,e);return s=ee("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Oie(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aoe(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function VE(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Poe(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function soe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let c=Ln(a);Array.isArray(c)&&(c=c.map(d=>VE(d))),p(e,["contents"],c)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],VE(zt(s)));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Noe(d))),p(e,["tools"],c)}const u=f(t,["toolConfig"]);if(e!==void 0&&u!=null&&p(e,["toolConfig"],Ioe(u)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function loe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let d=Ln(a);Array.isArray(d)&&(d=d.map(h=>h)),p(e,["contents"],d)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],zt(s));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Ooe(h))),p(e,["tools"],d)}const u=f(t,["toolConfig"]);e!==void 0&&u!=null&&p(e,["toolConfig"],u);const c=f(t,["kmsKeyName"]);return e!==void 0&&c!=null&&p(e,["encryption_spec","kmsKeyName"],c),n}function uoe(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],G2(t,r));const i=f(e,["config"]);return i!=null&&soe(i,n),n}function coe(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],G2(t,r));const i=f(e,["config"]);return i!=null&&loe(i,n),n}function doe(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Jr(t,r)),n}function foe(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Jr(t,r)),n}function hoe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function poe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function moe(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function goe(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function voe(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function yoe(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function woe(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Jr(t,r)),n}function boe(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Jr(t,r)),n}function xoe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function _oe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Soe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function Eoe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function Toe(t){const e={},n=f(t,["config"]);return n!=null&&Soe(n,e),e}function Aoe(t){const e={},n=f(t,["config"]);return n!=null&&Eoe(n,e),e}function Coe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function koe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function Poe(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],moe(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],goe(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],aoe(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Ioe(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],voe(n));const r=f(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function Noe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],xoe(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],_oe(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function Ooe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>yoe(h))),p(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&p(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function Moe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function Roe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function $oe(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],Jr(t,r));const i=f(e,["config"]);return i!=null&&Moe(i,n),n}function Doe(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],Jr(t,r));const i=f(e,["config"]);return i!=null&&Roe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class joe extends Kr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Io(Vr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=coe(this.apiClient,e);return s=ee("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=uoe(this.apiClient,e);return s=ee("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=boe(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=woe(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=foe(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=poe(c),h=new $E;return Object.assign(h,d),h})}else{const u=doe(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=hoe(c),h=new $E;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Doe(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=$oe(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Aoe(e);return s=ee("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=koe(c),h=new DE;return Object.assign(h,d),h})}else{const u=Toe(e);return s=ee("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Coe(c),h=new DE;return Object.assign(h,d),h})}}}function zE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ye(t){return this instanceof Ye?(this.v=t,this):new Ye(t)}function ya(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(y){return Promise.resolve(y).then(g,d)}}function s(g,y){r[g]&&(i[g]=function(v){return new Promise(function(x,w){o.push([g,v,x,w])>1||l(g,v)})},y&&(i[g]=y(i[g])))}function l(g,y){try{u(r[g](y))}catch(v){h(o[0][3],v)}}function u(g){g.value instanceof Ye?Promise.resolve(g.value.v).then(c,d):h(o[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function h(g,y){g(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function vl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof zE=="function"?zE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Loe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:iN(n)}function iN(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Uoe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function qE(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!iN(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class Boe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Foe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Foe{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Uoe(o)}async sendMessage(e){var n;await this.sendPromise;const r=zt(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(d))!==null&&s!==void 0?s:[]);const g=u?[u]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=zt(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?qE(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return ya(this,arguments,function*(){var a,s,l,u;const c=[];try{for(var d=!0,h=vl(e),g;g=yield Ye(h.next()),a=g.done,!a;d=!0){u=g.value,d=!1;const y=u;if(Loe(y)){const v=(i=(r=y.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;v!==void 0&&c.push(v)}yield yield Ye(y)}}catch(y){s={error:y}}finally{try{!d&&!a&&(l=h.return)&&(yield Ye(l.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...qE(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Mh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Voe(t){const e={},n=f(t,["file"]);return n!=null&&p(e,["file"],n),e}function zoe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function qoe(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],X2(n)),e}function Goe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Hoe(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],X2(n)),e}function Woe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function Koe(t){const e={},n=f(t,["config"]);return n!=null&&Woe(n,e),e}function Joe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yoe extends Kr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Io(Vr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Koe(e);return o=ee("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Joe(l),c=new eie;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Voe(e);return o=ee("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=zoe(l),c=new tie;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Hoe(e);return o=ee("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=qoe(e);return o=ee("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Goe(l),c=new nie;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fc(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Xoe(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hae(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function Qoe(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Zoe(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function eae(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function tae(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&p(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const g=f(t,["responseMimeType"]);g!=null&&p(e,["responseMimeType"],g);const y=f(t,["responseModalities"]);y!=null&&p(e,["responseModalities"],y);const v=f(t,["responseSchema"]);v!=null&&p(e,["responseSchema"],v);const x=f(t,["routingConfig"]);x!=null&&p(e,["routingConfig"],x);const w=f(t,["seed"]);w!=null&&p(e,["seed"],w);const b=f(t,["speechConfig"]);b!=null&&p(e,["speechConfig"],oN(b));const _=f(t,["stopSequences"]);_!=null&&p(e,["stopSequences"],_);const T=f(t,["temperature"]);T!=null&&p(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&p(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&p(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function nae(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function rae(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function iae(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],rw(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],Xoe(zt(y)));const v=f(t,["tools"]);if(e!==void 0&&v!=null){let E=bs(v);Array.isArray(E)&&(E=E.map(A=>mae(ws(A)))),p(e,["setup","tools"],E)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&p(e,["setup","sessionResumption"],pae(x));const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&p(e,["setup","inputAudioTranscription"],w);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),n}function oae(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],tae(r));const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],oN(rw(d)));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],zt(y));const v=f(t,["tools"]);if(e!==void 0&&v!=null){let E=bs(v);Array.isArray(E)&&(E=E.map(A=>gae(ws(A)))),p(e,["setup","tools"],E)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&p(e,["setup","sessionResumption"],x);const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&p(e,["setup","inputAudioTranscription"],w);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),n}function aae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],Pe(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],iae(i,n)),n}function sae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],Pe(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],oae(i,n)),n}function lae(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function uae(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["weightedPrompts"],r)}return e}function cae(t){const e={},n=f(t,["media"]);if(n!=null){let u=H2(n);Array.isArray(u)&&(u=u.map(c=>Fc(c))),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],Fc(K2(r)));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],Fc(W2(o)));const a=f(t,["text"]);a!=null&&p(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function dae(t){const e={},n=f(t,["media"]);if(n!=null){let u=H2(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],K2(r));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],W2(o));const a=f(t,["text"]);a!=null&&p(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function fae(t){const e={},n=f(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const r=f(t,["serverContent"]);r!=null&&p(e,["serverContent"],r);const i=f(t,["toolCall"]);i!=null&&p(e,["toolCall"],i);const o=f(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],o);const a=f(t,["usageMetadata"]);a!=null&&p(e,["usageMetadata"],vae(a));const s=f(t,["goAway"]);s!=null&&p(e,["goAway"],s);const l=f(t,["sessionResumptionUpdate"]);return l!=null&&p(e,["sessionResumptionUpdate"],l),e}function hae(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],Qoe(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],Zoe(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],Fc(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function pae(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function oN(t){const e={},n=f(t,["languageCode"]);n!=null&&p(e,["languageCode"],n);const r=f(t,["voiceConfig"]);if(r!=null&&p(e,["voiceConfig"],r),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function mae(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],nae(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],rae(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function gae(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>eae(h))),p(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&p(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function vae(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=f(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=f(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const a=f(t,["thoughtsTokenCount"]);a!=null&&p(e,["thoughtsTokenCount"],a);const s=f(t,["totalTokenCount"]);s!=null&&p(e,["totalTokenCount"],s);const l=f(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>y)),p(e,["promptTokensDetails"],g)}const u=f(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(y=>y)),p(e,["cacheTokensDetails"],g)}const c=f(t,["candidatesTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),p(e,["responseTokensDetails"],g)}const d=f(t,["toolUsePromptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),p(e,["toolUsePromptTokensDetails"],g)}const h=f(t,["trafficType"]);return h!=null&&p(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yae(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function wae(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],bae(r));const i=f(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&p(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),p(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&p(e,["urlContextMetadata"],d),e}function bae(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function xae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let o=Ln(i);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["contents"],o)}return n}function _ae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["tokensInfo"],i)}return e}function Sae(t){const e={},n=f(t,["values"]);n!=null&&p(e,["values"],n);const r=f(t,["statistics"]);return r!=null&&p(e,["statistics"],Eae(r)),e}function Eae(t){const e={},n=f(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=f(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function Rh(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Mse(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function Tae(t){const e={},n=f(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=f(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function Aae(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Cae(t,e){const n={},r=f(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],zt(r));const i=f(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>cN(s))),p(e,["tools"],a)}const o=f(t,["generationConfig"]);return e!==void 0&&o!=null&&p(e,["generationConfig"],yse(o)),n}function kae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let a=Ln(i);Array.isArray(a)&&(a=a.map(s=>Rh(s))),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&Aae(o),n}function Pae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let a=Ln(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&Cae(o,n),n}function Iae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const i=f(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function Nae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function Oae(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],Pe(t,r)),n}function Mae(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],Pe(t,r)),n}function Rae(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function $ae(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Dae(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&p(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const g=f(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const y=f(t,["outputMimeType"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","mimeType"],y);const v=f(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","compressionQuality"],v);const x=f(t,["addWatermark"]);e!==void 0&&x!=null&&p(e,["parameters","addWatermark"],x);const w=f(t,["labels"]);e!==void 0&&w!=null&&p(e,["labels"],w);const b=f(t,["editMode"]);e!==void 0&&b!=null&&p(e,["parameters","editMode"],b);const _=f(t,["baseSteps"]);return e!==void 0&&_!=null&&p(e,["parameters","editConfig","baseSteps"],_),n}function jae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Use(l))),p(n,["instances[0]","referenceImages"],s)}const a=f(e,["config"]);return a!=null&&Dae(a,n),n}function Lae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>$h(o))),p(e,["generatedImages"],i)}return e}function Uae(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Bae(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["instances[]","title"],i);const o=f(t,["outputDimensionality"]);e!==void 0&&o!=null&&p(e,["parameters","outputDimensionality"],o);const a=f(t,["mimeType"]);e!==void 0&&a!=null&&p(e,["instances[]","mimeType"],a);const s=f(t,["autoTruncate"]);return e!==void 0&&s!=null&&p(e,["parameters","autoTruncate"],s),n}function Fae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let s=ew(t,i);Array.isArray(s)&&(s=s.map(l=>l)),p(n,["requests[]","content"],s)}const o=f(e,["config"]);o!=null&&Uae(o,n);const a=f(e,["model"]);return a!==void 0&&p(n,["requests[]","model"],Pe(t,a)),n}function Vae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let a=ew(t,i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["instances[]","content"],a)}const o=f(e,["config"]);return o!=null&&Bae(o,n),n}function zae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function qae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Sae(a))),p(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function Gae(t){const e={},n=f(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=f(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function Hae(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Wae(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Kae(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Jae(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function Yae(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],Rh(zt(i)));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const y=f(e,["frequencyPenalty"]);y!=null&&p(r,["frequencyPenalty"],y);const v=f(e,["seed"]);v!=null&&p(r,["seed"],v);const x=f(e,["responseMimeType"]);x!=null&&p(r,["responseMimeType"],x);const w=f(e,["responseSchema"]);w!=null&&p(r,["responseSchema"],tw(w));const b=f(e,["responseJsonSchema"]);if(b!=null&&p(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let R=_;Array.isArray(R)&&(R=R.map(j=>Bse(j))),p(n,["safetySettings"],R)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let R=bs(T);Array.isArray(R)&&(R=R.map(j=>Wse(ws(j)))),p(n,["tools"],R)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],Hse(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],Jr(t,E));const A=f(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const C=f(e,["mediaResolution"]);C!=null&&p(r,["mediaResolution"],C);const k=f(e,["speechConfig"]);if(k!=null&&p(r,["speechConfig"],nw(k)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=f(e,["thinkingConfig"]);P!=null&&p(r,["thinkingConfig"],P);const O=f(e,["imageConfig"]);return O!=null&&p(r,["imageConfig"],Sse(O)),r}function Xae(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],zt(i));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const y=f(e,["frequencyPenalty"]);y!=null&&p(r,["frequencyPenalty"],y);const v=f(e,["seed"]);v!=null&&p(r,["seed"],v);const x=f(e,["responseMimeType"]);x!=null&&p(r,["responseMimeType"],x);const w=f(e,["responseSchema"]);w!=null&&p(r,["responseSchema"],tw(w));const b=f(e,["responseJsonSchema"]);b!=null&&p(r,["responseJsonSchema"],b);const _=f(e,["routingConfig"]);_!=null&&p(r,["routingConfig"],_);const T=f(e,["modelSelectionConfig"]);T!=null&&p(r,["modelConfig"],T);const S=f(e,["safetySettings"]);if(n!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(L=>L)),p(n,["safetySettings"],M)}const E=f(e,["tools"]);if(n!==void 0&&E!=null){let M=bs(E);Array.isArray(M)&&(M=M.map(L=>cN(ws(L)))),p(n,["tools"],M)}const A=f(e,["toolConfig"]);n!==void 0&&A!=null&&p(n,["toolConfig"],A);const C=f(e,["labels"]);n!==void 0&&C!=null&&p(n,["labels"],C);const k=f(e,["cachedContent"]);n!==void 0&&k!=null&&p(n,["cachedContent"],Jr(t,k));const P=f(e,["responseModalities"]);P!=null&&p(r,["responseModalities"],P);const O=f(e,["mediaResolution"]);O!=null&&p(r,["mediaResolution"],O);const R=f(e,["speechConfig"]);R!=null&&p(r,["speechConfig"],uN(nw(R)));const j=f(e,["audioTimestamp"]);j!=null&&p(r,["audioTimestamp"],j);const B=f(e,["thinkingConfig"]);B!=null&&p(r,["thinkingConfig"],B);const D=f(e,["imageConfig"]);return D!=null&&p(r,["imageConfig"],Ese(D)),r}function GE(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let a=Ln(i);Array.isArray(a)&&(a=a.map(s=>Rh(s))),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],Yae(t,o,n)),n}function HE(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let a=Ln(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],Xae(t,o,n)),n}function WE(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>wae(u))),p(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function KE(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["candidates"],u)}const i=f(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=f(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const a=f(t,["promptFeedback"]);a!=null&&p(e,["promptFeedback"],a);const s=f(t,["responseId"]);s!=null&&p(e,["responseId"],s);const l=f(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function Qae(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["aspectRatio"]);e!==void 0&&i!=null&&p(e,["parameters","aspectRatio"],i);const o=f(t,["guidanceScale"]);if(e!==void 0&&o!=null&&p(e,["parameters","guidanceScale"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&p(e,["parameters","safetySetting"],a);const s=f(t,["personGeneration"]);e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s);const l=f(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&p(e,["parameters","includeSafetyAttributes"],l);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const c=f(t,["language"]);e!==void 0&&c!=null&&p(e,["parameters","language"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=f(t,["imageSize"]);if(e!==void 0&&g!=null&&p(e,["parameters","sampleImageSize"],g),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Zae(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&p(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const g=f(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const y=f(t,["outputMimeType"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","mimeType"],y);const v=f(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","compressionQuality"],v);const x=f(t,["addWatermark"]);e!==void 0&&x!=null&&p(e,["parameters","addWatermark"],x);const w=f(t,["labels"]);e!==void 0&&w!=null&&p(e,["labels"],w);const b=f(t,["imageSize"]);e!==void 0&&b!=null&&p(e,["parameters","sampleImageSize"],b);const _=f(t,["enhancePrompt"]);return e!==void 0&&_!=null&&p(e,["parameters","enhancePrompt"],_),n}function ese(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&Qae(o,n),n}function tse(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&Zae(o,n),n}function nse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>pse(a))),p(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],sN(i)),e}function rse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>$h(a))),p(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],lN(i)),e}function ise(t,e){const n={},r=f(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=f(t,["durationSeconds"]);if(e!==void 0&&i!=null&&p(e,["parameters","durationSeconds"],i),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const a=f(t,["resolution"]);e!==void 0&&a!=null&&p(e,["parameters","resolution"],a);const s=f(t,["personGeneration"]);if(e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const u=f(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&p(e,["parameters","enhancePrompt"],u),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=f(t,["lastFrame"]);e!==void 0&&c!=null&&p(e,["instances[0]","lastFrame"],Dh(c));const d=f(t,["referenceImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>ale(g))),p(e,["instances[0]","referenceImages"],h)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function ose(t,e){const n={},r=f(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=f(t,["fps"]);e!==void 0&&o!=null&&p(e,["parameters","fps"],o);const a=f(t,["durationSeconds"]);e!==void 0&&a!=null&&p(e,["parameters","durationSeconds"],a);const s=f(t,["seed"]);e!==void 0&&s!=null&&p(e,["parameters","seed"],s);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const u=f(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["pubsubTopic"]);e!==void 0&&d!=null&&p(e,["parameters","pubsubTopic"],d);const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const g=f(t,["enhancePrompt"]);e!==void 0&&g!=null&&p(e,["parameters","enhancePrompt"],g);const y=f(t,["generateAudio"]);e!==void 0&&y!=null&&p(e,["parameters","generateAudio"],y);const v=f(t,["lastFrame"]);e!==void 0&&v!=null&&p(e,["instances[0]","lastFrame"],ar(v));const x=f(t,["referenceImages"]);if(e!==void 0&&x!=null){let _=x;Array.isArray(_)&&(_=_.map(T=>sle(T))),p(e,["instances[0]","referenceImages"],_)}const w=f(t,["mask"]);e!==void 0&&w!=null&&p(e,["instances[0]","mask"],ole(w));const b=f(t,["compressionQuality"]);return e!==void 0&&b!=null&&p(e,["parameters","compressionQuality"],b),n}function ase(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],cse(a)),e}function sse(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],dse(a)),e}function lse(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],Dh(o));const a=f(e,["video"]);a!=null&&p(n,["instances[0]","video"],dN(a));const s=f(e,["source"]);s!=null&&fse(s,n);const l=f(e,["config"]);return l!=null&&ise(l,n),n}function use(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],ar(o));const a=f(e,["video"]);a!=null&&p(n,["instances[0]","video"],fN(a));const s=f(e,["source"]);s!=null&&hse(s,n);const l=f(e,["config"]);return l!=null&&ose(l,n),n}function cse(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>gse(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function dse(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>vse(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function fse(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Dh(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],dN(o)),n}function hse(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],ar(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],fN(o)),n}function pse(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],Tse(n));const r=f(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=f(t,["_self"]);return i!=null&&p(e,["safetyAttributes"],sN(i)),e}function $h(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],aN(n));const r=f(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=f(t,["_self"]);i!=null&&p(e,["safetyAttributes"],lN(i));const o=f(t,["prompt"]);return o!=null&&p(e,["enhancedPrompt"],o),e}function mse(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["mask"],aN(n));const r=f(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["labels"],i)}return e}function gse(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],rle(n)),e}function vse(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],ile(n)),e}function yse(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&p(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const g=f(t,["responseMimeType"]);g!=null&&p(e,["responseMimeType"],g);const y=f(t,["responseModalities"]);y!=null&&p(e,["responseModalities"],y);const v=f(t,["responseSchema"]);v!=null&&p(e,["responseSchema"],v);const x=f(t,["routingConfig"]);x!=null&&p(e,["routingConfig"],x);const w=f(t,["seed"]);w!=null&&p(e,["seed"],w);const b=f(t,["speechConfig"]);b!=null&&p(e,["speechConfig"],uN(b));const _=f(t,["stopSequences"]);_!=null&&p(e,["stopSequences"],_);const T=f(t,["temperature"]);T!=null&&p(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&p(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&p(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function wse(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],Pe(t,r)),n}function bse(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],Pe(t,r)),n}function xse(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function _se(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Sse(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Ese(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);r!=null&&p(e,["imageSize"],r);const i=f(t,["outputMimeType"]);i!=null&&p(e,["imageOutputOptions","mimeType"],i);const o=f(t,["outputCompressionQuality"]);return o!=null&&p(e,["imageOutputOptions","compressionQuality"],o),e}function Tse(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],Ni(n));const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function aN(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],Ni(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Dh(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],Ni(n));const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function ar(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Ni(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Ase(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],Q2(t,s)),r}function Cse(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],Q2(t,s)),r}function kse(t,e){const n={},r=f(e,["config"]);return r!=null&&Ase(t,r,n),n}function Pse(t,e){const n={},r=f(e,["config"]);return r!=null&&Cse(t,r,n),n}function Ise(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=Z2(i);Array.isArray(o)&&(o=o.map(a=>Nv(a))),p(e,["models"],o)}return e}function Nse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=Z2(i);Array.isArray(o)&&(o=o.map(a=>Ov(a))),p(e,["models"],o)}return e}function Ose(t){const e={},n=f(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=f(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const i=f(t,["maskDilation"]);return i!=null&&p(e,["dilation"],i),e}function Nv(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const o=f(t,["version"]);o!=null&&p(e,["version"],o);const a=f(t,["_self"]);a!=null&&p(e,["tunedModelInfo"],Kse(a));const s=f(t,["inputTokenLimit"]);s!=null&&p(e,["inputTokenLimit"],s);const l=f(t,["outputTokenLimit"]);l!=null&&p(e,["outputTokenLimit"],l);const u=f(t,["supportedGenerationMethods"]);u!=null&&p(e,["supportedActions"],u);const c=f(t,["temperature"]);c!=null&&p(e,["temperature"],c);const d=f(t,["maxTemperature"]);d!=null&&p(e,["maxTemperature"],d);const h=f(t,["topP"]);h!=null&&p(e,["topP"],h);const g=f(t,["topK"]);g!=null&&p(e,["topK"],g);const y=f(t,["thinking"]);return y!=null&&p(e,["thinking"],y),e}function Ov(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const o=f(t,["versionId"]);o!=null&&p(e,["version"],o);const a=f(t,["deployedModels"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>Gae(h))),p(e,["endpoints"],d)}const s=f(t,["labels"]);s!=null&&p(e,["labels"],s);const l=f(t,["_self"]);l!=null&&p(e,["tunedModelInfo"],Jse(l));const u=f(t,["defaultCheckpointId"]);u!=null&&p(e,["defaultCheckpointId"],u);const c=f(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),p(e,["checkpoints"],d)}return e}function Mse(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],Hae(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],Wae(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],yae(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Rse(t){const e={},n=f(t,["productImage"]);return n!=null&&p(e,["image"],ar(n)),e}function $se(t,e){const n={},r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["baseSteps"]);e!==void 0&&i!=null&&p(e,["parameters","baseSteps"],i);const o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const a=f(t,["seed"]);e!==void 0&&a!=null&&p(e,["parameters","seed"],a);const s=f(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&p(e,["parameters","safetySetting"],s);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const u=f(t,["addWatermark"]);e!==void 0&&u!=null&&p(e,["parameters","addWatermark"],u);const c=f(t,["outputMimeType"]);e!==void 0&&c!=null&&p(e,["parameters","outputOptions","mimeType"],c);const d=f(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","compressionQuality"],d);const h=f(t,["enhancePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h);const g=f(t,["labels"]);return e!==void 0&&g!=null&&p(e,["labels"],g),n}function Dse(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["source"]);i!=null&&Lse(i,n);const o=f(e,["config"]);return o!=null&&$se(o,n),n}function jse(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$h(i))),p(e,["generatedImages"],r)}return e}function Lse(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["personImage"]);e!==void 0&&i!=null&&p(e,["instances[0]","personImage","image"],ar(i));const o=f(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Rse(s))),p(e,["instances[0]","productImages"],a)}return n}function Use(t){const e={},n=f(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],ar(n));const r=f(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const i=f(t,["referenceType"]);i!=null&&p(e,["referenceType"],i);const o=f(t,["maskImageConfig"]);o!=null&&p(e,["maskImageConfig"],Ose(o));const a=f(t,["controlImageConfig"]);a!=null&&p(e,["controlImageConfig"],Tae(a));const s=f(t,["styleImageConfig"]);s!=null&&p(e,["styleImageConfig"],s);const l=f(t,["subjectImageConfig"]);return l!=null&&p(e,["subjectImageConfig"],l),e}function sN(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function lN(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function Bse(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function Fse(t){const e={},n=f(t,["image"]);return n!=null&&p(e,["image"],ar(n)),e}function Vse(t,e){const n={},r=f(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const i=f(t,["maxPredictions"]);e!==void 0&&i!=null&&p(e,["parameters","maxPredictions"],i);const o=f(t,["confidenceThreshold"]);e!==void 0&&o!=null&&p(e,["parameters","confidenceThreshold"],o);const a=f(t,["maskDilation"]);e!==void 0&&a!=null&&p(e,["parameters","maskDilation"],a);const s=f(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&p(e,["parameters","binaryColorThreshold"],s);const l=f(t,["labels"]);return e!==void 0&&l!=null&&p(e,["labels"],l),n}function zse(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["source"]);i!=null&&Gse(i,n);const o=f(e,["config"]);return o!=null&&Vse(o,n),n}function qse(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>mse(i))),p(e,["generatedMasks"],r)}return e}function Gse(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],ar(i));const o=f(t,["scribbleImage"]);return e!==void 0&&o!=null&&p(e,["instances[0]","scribble"],Fse(o)),n}function uN(t){const e={},n=f(t,["languageCode"]);n!=null&&p(e,["languageCode"],n);const r=f(t,["voiceConfig"]);if(r!=null&&p(e,["voiceConfig"],r),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Hse(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],Kae(n));const r=f(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function Wse(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],xse(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],_se(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function cN(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>Jae(h))),p(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&p(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function Kse(t){const e={},n=f(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function Jse(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function Yse(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function Xse(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function Qse(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","name"],Pe(t,r));const i=f(e,["config"]);return i!=null&&Yse(i,n),n}function Zse(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["config"]);return i!=null&&Xse(i,n),n}function ele(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&p(e,["parameters","safetySetting"],i);const o=f(t,["personGeneration"]);e!==void 0&&o!=null&&p(e,["parameters","personGeneration"],o);const a=f(t,["includeRaiReason"]);e!==void 0&&a!=null&&p(e,["parameters","includeRaiReason"],a);const s=f(t,["outputMimeType"]);e!==void 0&&s!=null&&p(e,["parameters","outputOptions","mimeType"],s);const l=f(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&p(e,["parameters","outputOptions","compressionQuality"],l);const u=f(t,["enhanceInputImage"]);e!==void 0&&u!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=f(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=f(t,["labels"]);e!==void 0&&d!=null&&p(e,["labels"],d);const h=f(t,["numberOfImages"]);e!==void 0&&h!=null&&p(e,["parameters","sampleCount"],h);const g=f(t,["mode"]);return e!==void 0&&g!=null&&p(e,["parameters","mode"],g),n}function tle(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["image"]);i!=null&&p(n,["instances[0]","image"],ar(i));const o=f(e,["upscaleFactor"]);o!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=f(e,["config"]);return a!=null&&ele(a,n),n}function nle(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>$h(o))),p(e,["generatedImages"],i)}return e}function rle(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],Ni(r));const i=f(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function ile(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],Ni(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function ole(t){const e={},n=f(t,["image"]);n!=null&&p(e,["_self"],ar(n));const r=f(t,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function ale(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],Dh(n));const r=f(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function sle(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],ar(n));const r=f(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function dN(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["videoBytes"]);r!=null&&p(e,["encodedVideo"],Ni(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["encoding"],i),e}function fN(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Ni(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lle="Content-Type",ule="X-Server-Timeout",cle="User-Agent",Mv="x-goog-api-client",dle="1.30.0",fle=`google-genai-sdk/${dle}`,hle="v1beta1",ple="v1beta",JE=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class mle{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:hle,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:ple,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&gle(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await YE(i),new kv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await YE(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return ya(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:s,value:l}=yield Ye(i.read());if(s){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(l,{stream:!0});try{const d=JSON.parse(u);if("error"in d){const h=JSON.parse(JSON.stringify(d.error)),g=h.status,y=h.code,v=`got status: ${g}. ${JSON.stringify(d)}`;if(y>=400&&y<600)throw new Mh({message:v,status:y})}}catch(d){if(d.name==="ApiError")throw d}a+=u;let c=a.match(JE);for(;c;){const d=c[1];try{const h=new Response(d,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ye(new kv(h)),a=a.slice(c[0].length),c=a.match(JE)}catch(h){throw new Error(`exception parsing stream chunk ${d}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=fle+" "+this.clientOptions.userAgentExtra;return e[cle]=n,e[Mv]=n,e[lle]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(ule,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),c=ee("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&r.customMetadata&&(d.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(d.chunkingConfig=r.chunkingConfig);const h=await this.fetchUploadUrl(u,s,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function YE(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Mh({message:i,status:n}):new Error(i)}}function gle(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vle="mcp_used/unknown";let yle=!1;function hN(t){for(const e of t)if(wle(e)||typeof e=="object"&&"inputSchema"in e)return!0;return yle}function pN(t){var e;const n=(e=t[Mv])!==null&&e!==void 0?e:"";t[Mv]=(n+` ${vle}`).trimStart()}function wle(t){return t!==null&&typeof t=="object"&&t instanceof iw}function ble(t,e=100){return ya(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield Ye(t.listTools({cursor:r}));for(const a of o.tools)yield yield Ye(a),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class iw{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new iw(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,vl(ble(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;a.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),fie(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function xle(t,e,n){const r=new iie;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class _le{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=Tle(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(_=>{u=_}),d=e.callbacks,h=function(){u({})},g=this.apiClient,y={onopen:h,onmessage:_=>{xle(g,d.onmessage,_)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(_){}},v=this.webSocketFactory.create(l,Ele(a),y);v.connect(),await c;const b={setup:{model:Pe(this.apiClient,e.model)}};return v.send(JSON.stringify(b)),new Sle(v,this.apiClient)}}class Sle{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=uae(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=lae(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(sa.PLAY)}pause(){this.sendPlaybackControl(sa.PAUSE)}stop(){this.sendPlaybackControl(sa.STOP)}resetContext(){this.sendPlaybackControl(sa.RESET_CONTEXT)}close(){this.conn.close()}}function Ele(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Tle(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ale="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Cle(t,e,n){const r=new rie;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=fae(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class kle{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new _le(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&hN(e.config.tools)&&pN(d);const h=Ole(d);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c);else{const k=this.apiClient.getApiKey();let P="BidiGenerateContent",O="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),P="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${P}?${O}=${k}`}let g=()=>{};const y=new Promise(k=>{g=k}),v=e.callbacks,x=function(){var k;(k=v==null?void 0:v.onopen)===null||k===void 0||k.call(v),g({})},w=this.apiClient,b={onopen:x,onmessage:k=>{Cle(w,v.onmessage,k)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=v==null?void 0:v.onclose)!==null&&r!==void 0?r:function(k){}},_=this.webSocketFactory.create(c,Nle(h),b);_.connect(),await y;let T=Pe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const k=this.apiClient.getProject(),P=this.apiClient.getLocation();T=`projects/${k}/locations/${P}/`+T}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[mf.AUDIO]}:e.config.responseModalities=[mf.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],A=[];for(const k of E)if(this.isCallableTool(k)){const P=k;A.push(await P.tool())}else A.push(k);A.length>0&&(e.config.tools=A);const C={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=sae(this.apiClient,C):S=aae(this.apiClient,C),delete S.config,_.send(JSON.stringify(S)),new Ile(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Ple={turnComplete:!0};class Ile{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ln(n.turns),e.isVertexAI()||(r=r.map(i=>Rh(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Ale)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Ple),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:dae(e)}:n={realtimeInput:cae(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Nle(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Ole(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XE=10;function QE(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(wa(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function wa(t){return"callTool"in t&&typeof t.callTool=="function"}function Mle(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>wa(i)))!==null&&r!==void 0?r:!1}function ZE(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(wa(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function eT(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rle extends Kr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Mle(n)||QE(n.config))return await this.generateContentInternal(l);const u=ZE(n);if(u.length>0){const v=u.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${v}.`)}let c,d;const h=Ln(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:XE;let y=0;for(;y<g&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const v=c.candidates[0].content,x=[];for(const w of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(wa(w)){const _=await w.callTool(c.functionCalls);x.push(..._)}y++,d={role:"user",parts:x},l.contents=Ln(l.contents),l.contents.push(v),l.contents.push(d),eT(l.config)&&(h.push(v),h.push(d))}return eT(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),QE(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=ZE(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Io(Vr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>wa(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&hN(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),pN(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(wa(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:XE;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){var h,g;return ya(this,arguments,function*(){for(var y,v,x,w;s<o;){a&&(s++,a=!1);const S=yield Ye(u.processParamsMaybeAddMcpUsage(d)),E=yield Ye(u.generateContentStreamInternal(S)),A=[],C=[];try{for(var b=!0,_=(v=void 0,vl(E)),T;T=yield Ye(_.next()),y=T.done,!y;b=!0){w=T.value,b=!1;const k=w;if(yield yield Ye(k),k.candidates&&(!((h=k.candidates[0])===null||h===void 0)&&h.content)){C.push(k.candidates[0].content);for(const P of(g=k.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(s<o&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(P.functionCall.name)){const O=yield Ye(c.get(P.functionCall.name).callTool([P.functionCall]));A.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(k){v={error:k}}finally{try{!b&&!y&&(x=_.return)&&(yield Ye(x.call(_)))}finally{if(v)throw v.error}}if(A.length>0){a=!0;const k=new Gs;k.candidates=[{content:{role:"user",parts:A}}],yield yield Ye(k);const P=[];P.push(...C),P.push({role:"user",parts:A});const O=Ln(d.contents).concat(P);d.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=HE(this.apiClient,e);return s=ee("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=KE(c),h=new Gs;return Object.assign(h,d),h})}else{const u=GE(this.apiClient,e);return s=ee("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=WE(c),h=new Gs;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=HE(this.apiClient,e);return s=ee("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(d){return ya(this,arguments,function*(){var h,g,y,v;try{for(var x=!0,w=vl(d),b;b=yield Ye(w.next()),h=b.done,!h;x=!0){v=b.value,x=!1;const _=v,T=KE(yield Ye(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new Gs;Object.assign(S,T),yield yield Ye(S)}}catch(_){g={error:_}}finally{try{!x&&!h&&(y=w.return)&&(yield Ye(y.call(w)))}finally{if(g)throw g.error}}})})}else{const u=GE(this.apiClient,e);return s=ee("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(d){return ya(this,arguments,function*(){var h,g,y,v;try{for(var x=!0,w=vl(d),b;b=yield Ye(w.next()),h=b.done,!h;x=!0){v=b.value,x=!1;const _=v,T=WE(yield Ye(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new Gs;Object.assign(S,T),yield yield Ye(S)}}catch(_){g={error:_}}finally{try{!x&&!h&&(y=w.return)&&(yield Ye(y.call(w)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Vae(this.apiClient,e);return s=ee("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=qae(c),h=new PE;return Object.assign(h,d),h})}else{const u=Fae(this.apiClient,e);return s=ee("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=zae(c),h=new PE;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=tse(this.apiClient,e);return s=ee("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=rse(c),h=new IE;return Object.assign(h,d),h})}else{const u=ese(this.apiClient,e);return s=ee("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=nse(c),h=new IE;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=jae(this.apiClient,e);return o=ee("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Lae(l),c=new Hre;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=tle(this.apiClient,e);return o=ee("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=nle(l),c=new Wre;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Dse(this.apiClient,e);return o=ee("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=jse(l),c=new Kre;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=zse(this.apiClient,e);return o=ee("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=qse(l),c=new Jre;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=bse(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Ov(c))}else{const u=wse(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Nv(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Pse(this.apiClient,e);return s=ee("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Nse(c),h=new NE;return Object.assign(h,d),h})}else{const u=kse(this.apiClient,e);return s=ee("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Ise(c),h=new NE;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Zse(this.apiClient,e);return s=ee("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Ov(c))}else{const u=Qse(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Nv(c))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Mae(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=$ae(c),h=new OE;return Object.assign(h,d),h})}else{const u=Oae(this.apiClient,e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Rae(c),h=new OE;return Object.assign(h,d),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Pae(this.apiClient,e);return s=ee("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Nae(c),h=new ME;return Object.assign(h,d),h})}else{const u=kae(this.apiClient,e);return s=ee("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Iae(c),h=new ME;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=xae(this.apiClient,e);return o=ee("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=_ae(l),c=new Yre;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=use(this.apiClient,e);return s=ee("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=sse(c),h=new gf;return Object.assign(h,d),h})}else{const u=lse(this.apiClient,e);return s=ee("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const d=ase(c),h=new gf;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $le extends Kr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Bre(e);return s=ee("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=Ure(e);return s=ee("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Ore(e);return o=ee("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dle(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function jle(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Hle(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function Lle(t,e,n){const r={},i=f(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=f(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const a=f(e,["uses"]);n!==void 0&&a!=null&&p(n,["uses"],a);const s=f(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],Gle(t,s));const l=f(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function Ule(t,e){const n={},r=f(e,["config"]);return r!=null&&p(n,["config"],Lle(t,r,n)),n}function Ble(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Fle(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Vle(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function zle(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function qle(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],rw(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],jle(zt(y)));const v=f(t,["tools"]);if(e!==void 0&&v!=null){let E=bs(v);Array.isArray(E)&&(E=E.map(A=>Kle(ws(A)))),p(e,["setup","tools"],E)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&p(e,["setup","sessionResumption"],Wle(x));const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&p(e,["setup","inputAudioTranscription"],w);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),n}function Gle(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],Pe(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],qle(i,n)),n}function Hle(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],Ble(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],Fle(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],Dle(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Wle(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Kle(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],Vle(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],zle(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jle(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Yle(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Jle(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Xle extends Kr{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=Ule(this.apiClient,e);o=ee("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=Yle(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qle(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["displayName"],r),n}function Zle(t){const e={},n=f(t,["config"]);return n!=null&&Qle(n,e),e}function eue(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function tue(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&eue(r,e),e}function nue(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function rue(t,e){const n={},r=f(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["customMetadata"],o)}const i=f(t,["chunkingConfig"]);return e!==void 0&&i!=null&&p(e,["chunkingConfig"],i),n}function iue(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],aue(a)),e}function oue(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["fileName"]);r!=null&&p(e,["fileName"],r);const i=f(t,["config"]);return i!=null&&rue(i,e),e}function aue(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function sue(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function lue(t){const e={},n=f(t,["config"]);return n!=null&&sue(n,e),e}function uue(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["fileSearchStores"],o)}return e}function cue(t,e){const n={},r=f(t,["mimeType"]);e!==void 0&&r!=null&&p(e,["mimeType"],r);const i=f(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(e,["customMetadata"],s)}const a=f(t,["chunkingConfig"]);return e!==void 0&&a!=null&&p(e,["chunkingConfig"],a),n}function due(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["config"]);return r!=null&&cue(r,e),e}function fue(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hue(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function pue(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&hue(r,e),e}function mue(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function gue(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function vue(t){const e={},n=f(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const r=f(t,["config"]);return r!=null&&gue(r,e),e}function yue(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wue extends Kr{constructor(e){super(),this.apiClient=e,this.list=async n=>new Io(Vr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=mue(e);return o=ee("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=pue(e);i=ee("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=vue(e);return o=ee("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=yue(l),c=new Xre;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bue extends Kr{constructor(e,n=new wue(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Io(Vr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Zle(e);return o=ee("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=nue(e);return o=ee("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=tue(e);i=ee("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=lue(e);return o=ee("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=uue(l),c=new Qre;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=due(e);return o=ee("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=fue(l),c=new Zre;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=oue(e);return o=ee("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=iue(l),c=new Q0;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xue(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function _ue(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function Sue(t,e,n){const r={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&p(e,["displayName"],i),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(t,["epochCount"]);e!==void 0&&o!=null&&p(e,["tuningTask","hyperparameters","epochCount"],o);const a=f(t,["learningRateMultiplier"]);if(a!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=f(t,["batchSize"]);e!==void 0&&s!=null&&p(e,["tuningTask","hyperparameters","batchSize"],s);const l=f(t,["learningRate"]);if(e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","learningRate"],l),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Eue(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=f(t,["validationDataset"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec"],tT(g))}else if(i==="PREFERENCE_TUNING"){const g=f(t,["validationDataset"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec"],tT(g))}const o=f(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&p(e,["tunedModelDisplayName"],o);const a=f(t,["description"]);e!==void 0&&a!=null&&p(e,["description"],a);let s=f(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const g=f(t,["epochCount"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(s==="PREFERENCE_TUNING"){const g=f(t,["epochCount"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=f(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=f(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=f(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=f(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=f(t,["adapterSize"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(c==="PREFERENCE_TUNING"){const g=f(t,["adapterSize"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=f(t,["labels"]);e!==void 0&&d!=null&&p(e,["labels"],d);const h=f(t,["beta"]);return e!==void 0&&h!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function Tue(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&Due(o);const a=f(t,["config"]);return a!=null&&Sue(a,n),n}function Aue(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&jue(o,n,e);const a=f(t,["config"]);return a!=null&&Eue(a,n,e),n}function Cue(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function kue(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function Pue(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function Iue(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function Nue(t,e){const n={},r=f(t,["config"]);return r!=null&&Pue(r,n),n}function Oue(t,e){const n={},r=f(t,["config"]);return r!=null&&Iue(r,n),n}function Mue(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>mN(s))),p(n,["tuningJobs"],a)}return n}function Rue(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Rv(s))),p(n,["tuningJobs"],a)}return n}function $ue(t,e){const n={},r=f(t,["name"]);r!=null&&p(n,["model"],r);const i=f(t,["name"]);return i!=null&&p(n,["endpoint"],i),n}function Due(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function jue(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function mN(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],Y2(o));const a=f(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(t,["tuningTask","startTime"]);s!=null&&p(n,["startTime"],s);const l=f(t,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["description"]);c!=null&&p(n,["description"],c);const d=f(t,["baseModel"]);d!=null&&p(n,["baseModel"],d);const h=f(t,["_self"]);return h!=null&&p(n,["tunedModel"],$ue(h)),n}function Rv(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],Y2(o));const a=f(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(t,["startTime"]);s!=null&&p(n,["startTime"],s);const l=f(t,["endTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["error"]);c!=null&&p(n,["error"],c);const d=f(t,["description"]);d!=null&&p(n,["description"],d);const h=f(t,["baseModel"]);h!=null&&p(n,["baseModel"],h);const g=f(t,["tunedModel"]);g!=null&&p(n,["tunedModel"],g);const y=f(t,["preTunedModel"]);y!=null&&p(n,["preTunedModel"],y);const v=f(t,["supervisedTuningSpec"]);v!=null&&p(n,["supervisedTuningSpec"],v);const x=f(t,["preferenceOptimizationSpec"]);x!=null&&p(n,["preferenceOptimizationSpec"],x);const w=f(t,["tuningDataStats"]);w!=null&&p(n,["tuningDataStats"],w);const b=f(t,["encryptionSpec"]);b!=null&&p(n,["encryptionSpec"],b);const _=f(t,["partnerModelTuningSpec"]);_!=null&&p(n,["partnerModelTuningSpec"],_);const T=f(t,["customBaseModel"]);T!=null&&p(n,["customBaseModel"],T);const S=f(t,["experiment"]);S!=null&&p(n,["experiment"],S);const E=f(t,["labels"]);E!=null&&p(n,["labels"],E);const A=f(t,["outputUri"]);A!=null&&p(n,["outputUri"],A);const C=f(t,["pipelineJob"]);C!=null&&p(n,["pipelineJob"],C);const k=f(t,["serviceAccount"]);k!=null&&p(n,["serviceAccount"],k);const P=f(t,["tunedModelDisplayName"]);P!=null&&p(n,["tunedModelDisplayName"],P);const O=f(t,["veoTuningSpec"]);return O!=null&&p(n,["veoTuningSpec"],O),n}function Lue(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(t,["done"]);a!=null&&p(n,["done"],a);const s=f(t,["error"]);return s!=null&&p(n,["error"],s),n}function tT(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=f(t,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uue extends Kr{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Io(Vr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Cv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=kue(e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Rv(c))}else{const u=Cue(e);return s=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>mN(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Oue(e);return s=ee("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Rue(c),h=new RE;return Object.assign(h,d),h})}else{const u=Nue(e);return s=ee("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Mue(c),h=new RE;return Object.assign(h,d),h})}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=_ue(e);a=ee("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=xue(e);a=ee("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Aue(e,e);return o=ee("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Rv(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Tue(e);return o=ee("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Lue(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bue{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Fue=1024*1024*8,Vue=3,zue=1e3,que=2,yf="x-goog-upload-status";async function Gue(t,e,n){var r;const i=await gN(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[yf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Hue(t,e,n){var r;const i=await gN(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[yf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=q2(o),s=new Z0;return Object.assign(s,a),s}async function gN(t,e,n){var r,i;let o=0,a=0,s=new kv(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min(Fue,o-a),c=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let d=0,h=zue;for(;d<Vue&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[yf]));)d++,await Kue(h),h=h*que;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[yf])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function Wue(t){return{size:t.size,type:t.type}}function Kue(t){return new Promise(e=>setTimeout(e,t))}class Jue{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Gue(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Hue(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Wue(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yue{create(e,n,r){return new Xue(e,n,r)}}class Xue{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nT="x-goog-api-key";class Que{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(nT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(nT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zue="gl-node/";class ece{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Ire(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Que(this.apiKey);this.apiClient=new mle({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Zue+"web",uploader:new Jue,downloader:new Bue}),this.models=new Rle(this.apiClient),this.live=new kle(this.apiClient,i,new Yue),this.batches=new ooe(this.apiClient),this.chats=new Boe(this.models,this.apiClient),this.caches=new joe(this.apiClient),this.files=new Yoe(this.apiClient),this.operations=new $le(this.apiClient),this.authTokens=new Xle(this.apiClient),this.tunings=new Uue(this.apiClient),this.fileSearchStores=new bue(this.apiClient)}}var rT={};const tce=async t=>{if(!rT.API_KEY)return"API key not configured. Please set the API_KEY environment variable.";try{return(await new ece({apiKey:rT.API_KEY}).models.generateContent({model:"gemini-2.5-flash",contents:t,config:{systemInstruction:"You are an expert business analyst for a POS system. Provide concise, data-driven insights based on the user's query. Format your response as clean markdown."}})).text}catch(e){return console.error("Gemini API error:",e),"Sorry, I couldn't fetch insights at the moment. Please try again later."}},nce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5L12 3m0 0l7.5 7.5M12 3v18"})}),rce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5L12 21m0 0l-7.5-7.5M12 21V3"})}),Hs=({title:t,value:e,change:n,changeType:r,icon:i})=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-neutral-500 dark:text-neutral-400",children:t}),m.jsx("p",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100 mt-2",children:e}),m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsxs("span",{className:`flex items-center text-xs font-semibold ${r==="increase"?"text-green-500":"text-red-500"}`,children:[r==="increase"?m.jsx(nce,{className:"w-3 h-3 mr-1"}):m.jsx(rce,{className:"w-3 h-3 mr-1"}),n]}),m.jsx("span",{className:"text-xs text-neutral-400 ml-1",children:"vs last month"})]})]}),m.jsx("div",{className:"bg-primary-100 dark:bg-primary-900/50 text-primary-600 dark:text-primary-400 p-3 rounded-full",children:i})]}),ice=()=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Sales Overview"}),m.jsx("div",{style:{width:"100%",height:300},children:m.jsx(h0,{children:m.jsxs(Ere,{data:k$,children:[m.jsx(J0,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.2)"}),m.jsx(vs,{dataKey:"name",tick:{fill:"#94a3b8"}}),m.jsx(ys,{tick:{fill:"#94a3b8"}}),m.jsx(In,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"0.5rem"}}),m.jsx(bi,{wrapperStyle:{color:"#94a3b8"}}),m.jsx($u,{type:"monotone",dataKey:"sales",stroke:"#4f46e5",strokeWidth:2,activeDot:{r:8}})]})})})]}),oce=()=>{const t=["#4f46e5","#6366f1","#818cf8","#a5b4fc"];return m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Top Selling Products"}),m.jsx("div",{style:{width:"100%",height:300},className:"flex items-center justify-center",children:m.jsx(h0,{children:m.jsxs(Are,{children:[m.jsx(Wr,{data:Ab,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:Ab.map((e,n)=>m.jsx(lh,{fill:t[n%t.length]},`cell-${n}`))}),m.jsx(In,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"0.5rem"}}),m.jsx(bi,{wrapperStyle:{color:"#94a3b8"}})]})})})]})},ace=()=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Recent Activity"}),m.jsx("ul",{className:"space-y-4",children:P$.map(t=>m.jsxs("li",{className:"flex items-center",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/50 flex items-center justify-center mr-4",children:m.jsx("span",{className:"text-sm font-bold text-primary-600 dark:text-primary-300",children:t.user.charAt(0)})}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-sm text-neutral-700 dark:text-neutral-200",children:[m.jsx("span",{className:"font-semibold",children:t.user})," ",t.action.toLowerCase()]}),m.jsx("p",{className:"text-xs text-neutral-400",children:new Date(t.timestamp).toLocaleTimeString()})]})]},t.id))})]}),sce=({products:t,sales:e})=>{const[n,r]=I.useState(""),[i,o]=I.useState(""),[a,s]=I.useState(!1),l=async()=>{if(!n.trim())return;s(!0);const c=`${`Context: ${t.length} products in inventory, ${e.length} total sales records.`}
${n}`,d=await tce(c);o(d),s(!1)};return m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsxs("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4 flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 mr-2 text-primary-500",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.553L16.5 21.75l-.398-1.197a3.375 3.375 0 00-2.456-2.456L12.75 18l1.197-.398a3.375 3.375 0 002.456-2.456L17.25 14.25l.398 1.197a3.375 3.375 0 002.456 2.456L21 18l-1.197.398a3.375 3.375 0 00-2.456 2.456z"})}),"AI-Powered Insights"]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),placeholder:"e.g., 'Summarize today's performance'",className:"flex-grow bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:outline-none",disabled:a}),m.jsx("button",{onClick:l,disabled:a,className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 disabled:bg-primary-400 disabled:cursor-not-allowed transition-colors",children:a?"Thinking...":"Ask"})]}),i&&m.jsx("div",{className:"mt-4 p-4 bg-neutral-50 dark:bg-neutral-900 rounded-lg prose prose-sm dark:prose-invert max-w-none",children:m.jsx("p",{children:i})})]})},lce=({products:t})=>{const e=t.filter(r=>typeof r.lowStockThreshold<"u"&&r.stock<=r.lowStockThreshold).sort((r,i)=>r.stock-i.stock),n=r=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...r,children:m.jsx("path",{fillRule:"evenodd",d:"M8.485 3.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 3.495zM10 6a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 6zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})});return m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md h-full",children:[m.jsxs("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4 flex items-center",children:[m.jsx(n,{className:"h-6 w-6 mr-2 text-yellow-500"}),"Low Stock Alerts"]}),e.length>0?m.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:e.map(r=>m.jsxs("li",{className:"flex justify-between items-center text-sm p-2 rounded-md bg-neutral-50 dark:bg-neutral-700/50",children:[m.jsx("span",{className:"text-neutral-700 dark:text-neutral-200 font-medium",children:r.name}),m.jsxs("span",{className:"font-semibold text-red-500",children:[r.stock," ",r.unit||"items"," left"]})]},r.id))}):m.jsxs("div",{className:"text-center text-neutral-500 dark:text-neutral-400 py-8 flex flex-col items-center justify-center h-full",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mb-2 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("p",{children:"All stock levels are healthy."})]})]})},{ChartBarIcon:uce,UsersIcon:cce,CubeIcon:dce,ShoppingCartIcon:fce,KeyIcon:hce}=rs,pce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0"})}),mce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),gce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z",clipRule:"evenodd"})}),vce=({isOpen:t,onClose:e,userWidgets:n,onWidgetChange:r,t:i})=>t?m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-md",children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700",children:[m.jsx("h3",{className:"text-lg font-semibold",children:"Customize Dashboard"}),m.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:m.jsx(mce,{className:"w-6 h-6"})})]}),m.jsx("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto",children:S$.map(o=>m.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-neutral-50 dark:bg-neutral-700/50",children:[m.jsx("span",{className:"font-medium text-neutral-800 dark:text-neutral-100",children:i(o.name)}),m.jsx("input",{type:"checkbox",checked:!!n[o.id],onChange:a=>r(o.id,a.target.checked),className:"h-5 w-5 rounded border-neutral-300 text-primary-600 focus:ring-primary-500"})]},o.id))}),m.jsx("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700",children:m.jsx("button",{onClick:e,className:"bg-primary-600 text-white font-semibold px-5 py-2.5 rounded-lg hover:bg-primary-700 transition-colors",children:"Done"})})]})}):null,yce=({featureName:t})=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md h-full flex flex-col items-center justify-center text-center relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-neutral-50 dark:bg-neutral-700/30 opacity-50"}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("div",{className:"w-12 h-12 bg-neutral-200 dark:bg-neutral-700 text-neutral-400 dark:text-neutral-500 rounded-full flex items-center justify-center mx-auto mb-3",children:m.jsx(gce,{className:"w-6 h-6"})}),m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-1",children:t}),m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"This feature is available in Premium & Enterprise plans."}),m.jsx("button",{className:"mt-4 text-sm font-semibold bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Upgrade Now"})]})]}),wce=({products:t,sales:e,user:n,onWidgetChange:r,formatCurrency:i,t:o,activeLicense:a,licenseKeys:s})=>{var y;const[l,u]=N.useState(!1),{dashboardWidgets:c}=n,d=Object.values(c).filter(Boolean).length,h=s.length,g=s.filter(v=>v.status==="Active").length;return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:o("Dashboard")}),m.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-white dark:bg-neutral-700/80 border border-neutral-200 dark:border-neutral-600 text-neutral-700 dark:text-neutral-200 font-semibold px-4 py-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-600 transition-colors",children:[m.jsx(pce,{className:"w-5 h-5"}),"Customize"]})]}),d===0&&m.jsxs("div",{className:"text-center py-20 bg-white dark:bg-neutral-800 rounded-lg shadow-md",children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Your dashboard is empty!"}),m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 mt-2",children:'Click the "Customize" button to add widgets.'})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.totalRevenue&&m.jsx(Hs,{title:o("Total Revenue"),value:i(75231.89),change:"+12.5%",changeType:"increase",icon:m.jsx(uce,{className:"w-6 h-6"})}),c.newCustomers&&m.jsx(Hs,{title:o("New Customers"),value:"1,204",change:"+8.2%",changeType:"increase",icon:m.jsx(cce,{className:"w-6 h-6"})}),c.productsSold&&m.jsx(Hs,{title:o("Products Sold"),value:"5,890",change:"-1.7%",changeType:"decrease",icon:m.jsx(dce,{className:"w-6 h-6"})}),c.todaysTransactions&&m.jsx(Hs,{title:o("Todays Transactions"),value:"23",change:"+5",changeType:"increase",icon:m.jsx(fce,{className:"w-6 h-6"})}),c.licenseActivations&&m.jsx(Hs,{title:o("License Activations"),value:`${g} / ${h}`,change:`${h>0?(g/h*100).toFixed(0):0}% Active`,changeType:"increase",icon:m.jsx(hce,{className:"w-6 h-6"})})]}),(c.salesOverview||c.topProducts)&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.salesOverview&&m.jsx("div",{className:"lg:col-span-2",children:m.jsx(ice,{})}),c.topProducts&&m.jsx("div",{className:c.salesOverview?"":"lg:col-span-3",children:m.jsx(oce,{})})]}),(c.recentActivity||c.lowStockAlerts||c.aiInsights)&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(c.recentActivity||c.lowStockAlerts)&&m.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.recentActivity&&m.jsx(ace,{}),c.lowStockAlerts&&m.jsx(lce,{products:t})]}),c.aiInsights&&m.jsx("div",{className:c.recentActivity||c.lowStockAlerts?"lg:col-span-2":"lg:col-span-3",children:(y=a==null?void 0:a.enabledFeatures)!=null&&y.includes("AI_INSIGHTS")?m.jsx(sce,{products:t,sales:e}):m.jsx(yce,{featureName:"AI-Powered Insights"})})]}),m.jsx(vce,{isOpen:l,onClose:()=>u(!1),userWidgets:c,onWidgetChange:r,t:o})]})},{BanknotesIcon:bce,TagIcon:xce,UserGroupIcon:iT,ChatBubbleLeftRightIcon:_ce,PrinterIcon:Sce,ShoppingCartIcon:Ece,CubeIcon:oT}=rs,Tce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),aT=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m6-6H6"})}),Ace=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12H6"})}),sT=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Cce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),kce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Pce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})}),Ice=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),Nce=({user:t,customers:e,products:n,onAddSale:r,onAddCustomer:i,heldCarts:o,setHeldCarts:a,formatCurrency:s,t:l,businessName:u,activeStoreId:c})=>{const[d,h]=N.useState([]),[g,y]=N.useState(""),[v,x]=N.useState(null),[w,b]=N.useState(!1),[_,T]=N.useState(!1),[S,E]=N.useState(!1),[A,C]=N.useState(!1),[k,P]=N.useState(!1),[O,R]=N.useState(!1),[j,B]=N.useState(null),[D,M]=N.useState(""),[L,$]=N.useState("Cash"),[U,H]=N.useState(""),[Y,W]=N.useState(""),[te,ve]=N.useState(!1),[xe,Ie]=N.useState(null),[tt,Ne]=N.useState("percentage"),[z,Z]=N.useState(""),[ne,F]=N.useState(""),[Te,V]=N.useState(!1),[ce,ye]=N.useState({name:"",phone:"",email:""}),Re=N.useMemo(()=>n.filter(G=>G.name.toLowerCase().includes(g.toLowerCase())||G.sku.toLowerCase().includes(g.toLowerCase())),[n,g]),nt=N.useMemo(()=>ne?e.filter(G=>G.name.toLowerCase().includes(ne.toLowerCase())||G.phone.includes(ne)):[],[e,ne]),It=G=>{let se=G.price;return G.discountType==="percentage"&&G.discountValue?se=se-se*(G.discountValue/100):G.discountType==="amount"&&G.discountValue&&(se=se-G.discountValue),Math.max(0,se)},jt=N.useMemo(()=>d.reduce((G,se)=>G+It(se)*se.quantity,0),[d]),Et=N.useMemo(()=>{if(te&&v){const G=v.loyaltyPoints*kb;return Math.min(G,jt)}return 0},[te,v,jt]),En=(jt-Et)*.08,ct=jt-Et+En,Tn=G=>{if(G.stock<=0){alert(l("Out of Stock"));return}h(se=>{const Oe=se.find(He=>He.id===G.id);return Oe?Oe.quantity>=G.stock?(alert(l("Stock Limit Exceeded")),se):se.map(He=>He.id===G.id?{...He,quantity:He.quantity+1}:He):[...se,{...G,quantity:1}]})},ju=(G,se)=>{h(Oe=>Oe.map(He=>{if(He.id===G){const sr=He.quantity+se,Mi=n.find(Yr=>Yr.id===G);return Mi&&se>0&&sr>Mi.stock?(alert(l("Stock Limit Exceeded")),He):{...He,quantity:Math.max(1,sr)}}return He}))},Uh=G=>{h(se=>se.filter(Oe=>Oe.id!==G))},Ts=()=>{h([]),x(null),F(""),ve(!1)},Bh=G=>{var Oe;Ie(G);const se=d[G];Ne(se.discountType||"percentage"),Z(((Oe=se.discountValue)==null?void 0:Oe.toString())||""),R(!0)},Lu=()=>{if(xe!==null){const G=parseFloat(z);h(se=>se.map((Oe,He)=>He===xe?{...Oe,discountType:tt,discountValue:isNaN(G)?0:G}:Oe)),R(!1),Ie(null)}},Uu=G=>{x(G),F(G.name),W(G.phone),V(!1)},Fh=G=>{G.preventDefault();const se=i({...ce,loyaltyPoints:0,dueAmount:0,creditLimit:500,storeId:c});x(se),F(se.name),W(se.phone),P(!1),ye({name:"",phone:"",email:""})},st=()=>{if(d.length===0)return;const G={id:`hc${Date.now()}`,items:d,customer:v,timestamp:new Date().toISOString(),note:U};a(se=>[G,...se]),Ts(),E(!1),H("")},Vh=G=>{h(G.items),x(G.customer),G.customer&&F(G.customer.name),a(se=>se.filter(Oe=>Oe.id!==G.id)),C(!1)},zh=G=>{a(se=>se.filter(Oe=>Oe.id!==G))},qh=()=>{if(c==="global"){alert("Please select a specific store before making a sale.");return}M(ct.toFixed(2)),b(!0)},Ge=()=>{const G=parseFloat(D),se=L==="Credit",Oe=!se&&G<ct;if(se){if(!v){alert("Cannot process credit sale without a customer.");return}const Yr=v.dueAmount+ct;if(v.creditLimit&&Yr>v.creditLimit){alert(`Credit limit exceeded! Limit: ${s(v.creditLimit)}, Current Due: ${s(v.dueAmount)}, New Total Due would be: ${s(Yr)}`);return}}const He=se?"Credit":Oe?"Partial":L,Mi={id:`s${Date.now()}`,total:ct,date:new Date().toISOString(),cashier:t.name,cashierId:t.id,items:d.reduce((Yr,qn)=>Yr+qn.quantity,0),customerId:(v==null?void 0:v.id)||"guest",customerName:(v==null?void 0:v.name)||"Guest",amountPaid:se?0:G,paymentMethod:He,organizationId:t.organizationId,storeId:c};r(Mi,d),B(Mi),b(!1),T(!0),Ts()},Gh=()=>{if(!j)return;const G=d.map(Oe=>`${Oe.quantity}x ${Oe.name} (${s(It(Oe))})`).join("%0a"),se=`*Invoice from ${u}*%0aDate: ${new Date().toLocaleDateString()}%0a%0a${G}%0a%0a*Total: ${s(j.total)}*%0aThank you for your business!`;window.open(`https://wa.me/${Y}?text=${se}`,"_blank")},Hh=()=>{window.print()},As=G=>{if(G.key==="Enter"){const se=g.trim().toLowerCase();if(!se)return;const Oe=n.find(sr=>sr.sku.toLowerCase()===se);if(Oe){Tn(Oe),y("");return}const He=n.find(sr=>sr.name.toLowerCase()===se);if(He){Tn(He),y("");return}Re.length===1&&(Tn(Re[0]),y(""))}};return m.jsxs("div",{className:"flex flex-col h-full md:flex-row gap-6 overflow-hidden",children:[m.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white dark:bg-neutral-800 rounded-xl shadow-md",children:[m.jsx("div",{className:"p-4 border-b dark:border-neutral-700 flex flex-col gap-3",children:m.jsxs("div",{className:"relative",children:[m.jsx(Tce,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),m.jsx("input",{type:"text",placeholder:l("Search"),value:g,onChange:G=>y(G.target.value),onKeyDown:As,autoFocus:!0,className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg pl-10 pr-4 py-3 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:m.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[Re.map(G=>{const se=G.stock<=0;return m.jsxs("div",{onClick:()=>!se&&Tn(G),className:`bg-neutral-50 dark:bg-neutral-700/50 p-3 rounded-lg border border-neutral-200 dark:border-neutral-700 transition-all flex flex-col items-center text-center group ${se?"opacity-60 cursor-not-allowed bg-neutral-200 dark:bg-neutral-800":"cursor-pointer hover:shadow-md hover:border-primary-300"}`,children:[m.jsx("div",{className:"w-20 h-20 mb-3 rounded-md bg-white dark:bg-neutral-600 flex items-center justify-center overflow-hidden",children:G.imageUrl?m.jsx("img",{src:G.imageUrl,alt:G.name,className:`w-full h-full object-cover ${se?"grayscale":""}`}):m.jsx(oT,{className:"w-8 h-8 text-neutral-300 group-hover:text-primary-500 transition-colors"})}),m.jsx("h3",{className:"font-semibold text-sm text-neutral-800 dark:text-neutral-100 line-clamp-2",children:G.name}),m.jsx("p",{className:"text-primary-600 dark:text-primary-400 font-bold mt-1",children:s(G.price)}),m.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:[G.stock," in stock"]}),se&&m.jsx("span",{className:"text-xs font-bold text-red-500 mt-1",children:l("Out of Stock")})]},G.id)}),Re.length===0&&m.jsx("div",{className:"col-span-full text-center py-10 text-neutral-500",children:"No products found."})]})})]}),m.jsxs("div",{className:"w-full md:w-96 flex flex-col bg-white dark:bg-neutral-800 rounded-xl shadow-md h-full overflow-hidden",children:[m.jsxs("div",{className:"p-4 border-b dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-700/30",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h2",{className:"font-bold text-lg",children:l("Current Order")}),m.jsxs("div",{className:"flex gap-1",children:[o.length>0&&m.jsxs("button",{onClick:()=>C(!0),className:"relative p-2 text-primary-600 hover:bg-primary-50 rounded-full",title:"View Held Orders",children:[m.jsx(kce,{className:"w-5 h-5"}),m.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 rounded-full"})]}),m.jsx("button",{onClick:()=>d.length>0&&E(!0),disabled:d.length===0,className:"text-xs font-medium bg-amber-100 text-amber-800 px-2 py-1 rounded hover:bg-amber-200 disabled:opacity-50",children:l("Hold")}),m.jsx("button",{onClick:Ts,className:"text-xs font-medium bg-red-100 text-red-800 px-2 py-1 rounded hover:bg-red-200",children:l("Clear Cart")})]})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"relative flex-grow",children:[m.jsx(iT,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400"}),m.jsx("input",{type:"text",placeholder:"Walk-in Customer",value:ne,onChange:G=>{F(G.target.value),V(!0),G.target.value===""&&x(null)},className:"w-full text-sm bg-white dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded-lg pl-9 pr-8 py-2 focus:ring-1 focus:ring-primary-500 focus:outline-none"}),v&&m.jsx("button",{onClick:()=>{x(null),F("")},className:"absolute right-2 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-red-500",children:m.jsx(Cce,{className:"w-4 h-4"})})]}),m.jsx("button",{onClick:()=>P(!0),className:"bg-primary-600 text-white p-2 rounded-lg hover:bg-primary-700",children:m.jsx(aT,{className:"w-5 h-5"})})]}),Te&&nt.length>0&&m.jsx("div",{className:"absolute top-full left-0 right-0 z-20 mt-1 bg-white dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:nt.map(G=>m.jsxs("div",{onClick:()=>Uu(G),className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-600 cursor-pointer border-b border-neutral-100 dark:border-neutral-600 last:border-0",children:[m.jsx("p",{className:"font-semibold text-sm text-neutral-800 dark:text-neutral-200",children:G.name}),m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:G.phone})]},G.id))})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:d.length===0?m.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-neutral-400",children:[m.jsx(Ece,{className:"w-12 h-12 mb-2 opacity-50"}),m.jsx("p",{children:"Cart is empty"})]}):d.map((G,se)=>{const Oe=It(G),He=Oe<G.price;return m.jsxs("div",{className:"flex items-center gap-3 bg-neutral-50 dark:bg-neutral-700/30 p-2 rounded-lg border border-neutral-100 dark:border-neutral-700/50",children:[m.jsx("div",{className:"w-12 h-12 bg-white dark:bg-neutral-600 rounded-md flex items-center justify-center flex-shrink-0 overflow-hidden border border-neutral-200 dark:border-neutral-600",children:G.imageUrl?m.jsx("img",{src:G.imageUrl,alt:G.name,className:"w-full h-full object-cover"}):m.jsx(oT,{className:"w-6 h-6 text-neutral-300"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"text-sm font-medium truncate text-neutral-800 dark:text-neutral-100",children:G.name}),m.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[He&&m.jsx("span",{className:"text-neutral-400 line-through",children:s(G.price)}),m.jsx("span",{className:"font-semibold text-primary-600 dark:text-primary-400",children:s(Oe)}),He&&m.jsx("span",{className:"text-green-600 bg-green-100 dark:bg-green-900/50 px-1 rounded text-[10px]",children:G.discountType==="percentage"?`-${G.discountValue}%`:`-${s(G.discountValue||0)}`})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"flex items-center bg-white dark:bg-neutral-700 rounded border border-neutral-300 dark:border-neutral-600",children:[m.jsx("button",{onClick:()=>G.quantity>1?ju(G.id,-1):Uh(G.id),className:"p-1 hover:bg-neutral-100 dark:hover:bg-neutral-600 text-neutral-600 dark:text-neutral-300",children:m.jsx(Ace,{className:"w-3 h-3"})}),m.jsx("span",{className:"w-6 text-center text-sm font-medium",children:G.quantity}),m.jsx("button",{onClick:()=>ju(G.id,1),className:"p-1 hover:bg-neutral-100 dark:hover:bg-neutral-600 text-neutral-600 dark:text-neutral-300",children:m.jsx(aT,{className:"w-3 h-3"})})]}),m.jsx("button",{onClick:()=>Bh(se),className:`p-1.5 rounded ${He?"bg-green-100 text-green-700":"bg-neutral-200 text-neutral-600"} hover:opacity-80`,title:"Apply Discount",children:m.jsx(xce,{className:"w-4 h-4"})})]})]},`${G.id}-${se}`)})}),m.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-700/30 border-t dark:border-neutral-700 space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm text-neutral-600 dark:text-neutral-400",children:[m.jsx("span",{children:l("Subtotal")}),m.jsx("span",{children:s(jt)})]}),te&&Et>0&&m.jsxs("div",{className:"flex justify-between text-sm text-green-600 font-medium",children:[m.jsx("span",{children:"Loyalty Discount"}),m.jsxs("span",{children:["-",s(Et)]})]}),m.jsxs("div",{className:"flex justify-between text-sm text-neutral-600 dark:text-neutral-400",children:[m.jsxs("span",{children:[l("Tax")," (8%)"]}),m.jsx("span",{children:s(En)})]}),m.jsxs("div",{className:"flex justify-between text-xl font-bold text-neutral-900 dark:text-neutral-100 pt-2 border-t border-neutral-200 dark:border-neutral-700",children:[m.jsx("span",{children:l("Total")}),m.jsx("span",{children:s(ct)})]}),m.jsxs("button",{onClick:qh,disabled:d.length===0,className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:[l("Charge")," ",s(ct)]})]})]}),w&&m.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center p-4 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-2xl w-full max-w-md overflow-hidden",children:[m.jsxs("div",{className:"bg-primary-600 p-4 flex justify-between items-center",children:[m.jsx("h3",{className:"text-white font-bold text-lg",children:"Payment"}),m.jsx("button",{onClick:()=>b(!1),className:"text-primary-200 hover:text-white",children:m.jsx(sT,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:"Total Amount Due"}),m.jsx("p",{className:"text-4xl font-bold text-neutral-800 dark:text-neutral-100",children:s(ct)})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[m.jsxs("button",{onClick:()=>$("Cash"),className:`flex flex-col items-center justify-center p-3 rounded-lg border ${L==="Cash"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"}`,children:[m.jsx(bce,{className:"w-6 h-6 mb-1"}),m.jsx("span",{className:"text-xs font-semibold",children:"Cash"})]}),m.jsxs("button",{onClick:()=>$("Card"),className:`flex flex-col items-center justify-center p-3 rounded-lg border ${L==="Card"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"}`,children:[m.jsx(Pce,{className:"w-6 h-6 mb-1"}),m.jsx("span",{className:"text-xs font-semibold",children:"Card"})]}),m.jsxs("button",{onClick:()=>$("Credit"),disabled:!v,className:`flex flex-col items-center justify-center p-3 rounded-lg border ${L==="Credit"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"} ${v?"":"opacity-50 cursor-not-allowed"}`,children:[m.jsx(iT,{className:"w-6 h-6 mb-1"}),m.jsx("span",{className:"text-xs font-semibold",children:"Credit"})]})]}),v&&v.loyaltyPoints>0&&m.jsxs("div",{className:"mb-4 p-3 bg-neutral-50 dark:bg-neutral-700 rounded-lg flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"flex items-center justify-center w-6 h-6 bg-yellow-100 text-yellow-600 rounded-full text-xs font-bold",children:""}),m.jsxs("div",{className:"text-sm",children:[m.jsxs("p",{className:"font-semibold",children:[v.loyaltyPoints," Points"]}),m.jsxs("p",{className:"text-xs text-neutral-500",children:["Value: ",s(v.loyaltyPoints*kb)]})]})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:te,onChange:G=>ve(G.target.checked),className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-neutral-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-primary-600"})]})]}),L==="Cash"&&m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount Received"}),m.jsx("input",{type:"number",value:D,onChange:G=>M(G.target.value),className:"w-full text-xl p-3 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:outline-none",autoFocus:!0}),parseFloat(D)>ct&&m.jsxs("div",{className:"mt-2 text-right text-green-600 font-bold",children:["Change: ",s(parseFloat(D)-ct)]})]}),m.jsx("button",{onClick:Ge,className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors text-lg",children:"Confirm Payment"})]})]})}),_&&j&&m.jsxs("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center p-4 backdrop-blur-sm print:hidden",children:[m.jsx("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-2xl w-full max-w-sm overflow-hidden",children:m.jsxs("div",{className:"p-6 text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(Ice,{className:"w-8 h-8"})}),m.jsx("h3",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100 mb-1",children:l("Payment Success")}),m.jsxs("div",{className:"mb-4",children:[m.jsx("h4",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:u}),m.jsxs("p",{className:"text-neutral-500 text-xs",children:["Invoice #",j.id]})]}),m.jsxs("div",{className:"my-6 py-4 border-y border-dashed border-neutral-300 dark:border-neutral-600",children:[m.jsxs("div",{className:"flex justify-between mb-2 text-sm",children:[m.jsx("span",{children:"Amount Paid"}),m.jsx("span",{className:"font-bold",children:s(j.amountPaid)})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{children:"Change"}),m.jsx("span",{className:"font-bold",children:s(Math.max(0,parseFloat(D||"0")-j.total))})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("button",{onClick:Hh,className:"w-full flex items-center justify-center gap-2 bg-neutral-800 text-white py-3 rounded-lg hover:bg-neutral-900 font-semibold",children:[m.jsx(Sce,{className:"w-5 h-5"}),"Print Receipt"]}),m.jsxs("button",{onClick:Gh,className:"w-full flex items-center justify-center gap-2 bg-green-500 text-white py-3 rounded-lg hover:bg-green-600 font-semibold",children:[m.jsx(_ce,{className:"w-5 h-5"}),"WhatsApp Invoice"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>T(!1),className:"flex-1 py-3 bg-neutral-200 dark:bg-neutral-700 text-neutral-800 dark:text-neutral-200 rounded-lg font-bold hover:opacity-80",children:"OK"}),m.jsx("button",{onClick:()=>T(!1),className:"flex-1 py-3 bg-primary-100 text-primary-800 dark:bg-primary-900/40 dark:text-primary-300 rounded-lg font-bold hover:bg-primary-200",children:"New Sale"})]})]})]})}),m.jsx("div",{className:"hidden print:block print:fixed print:inset-0 print:bg-white print:p-4 text-black",children:m.jsxs("div",{className:"text-center font-mono text-sm",children:[m.jsx("h1",{className:"text-xl font-bold mb-2",children:u}),m.jsxs("p",{children:["Date: ",new Date().toLocaleString()]}),m.jsxs("p",{children:["Sale ID: ",j.id]}),m.jsxs("p",{children:["Cashier: ",j.cashier]}),m.jsx("div",{className:"border-b border-black my-2"}),m.jsx("div",{className:"text-left",children:m.jsxs("p",{children:["Total Items: ",j.items]})}),m.jsx("div",{className:"border-b border-black my-2"}),m.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[m.jsx("span",{children:"Total"}),m.jsx("span",{children:s(j.total)})]}),m.jsx("p",{className:"mt-4",children:"Thank you!"})]})})]}),O&&xe!==null&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-xs shadow-xl",children:[m.jsx("h3",{className:"font-bold text-lg mb-4",children:"Apply Discount"}),m.jsxs("div",{className:"flex gap-2 mb-4",children:[m.jsx("button",{onClick:()=>Ne("percentage"),className:`flex-1 py-2 rounded text-sm font-medium ${tt==="percentage"?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600"}`,children:"Percentage (%)"}),m.jsx("button",{onClick:()=>Ne("amount"),className:`flex-1 py-2 rounded text-sm font-medium ${tt==="amount"?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600"}`,children:"Fixed ($)"})]}),m.jsx("input",{type:"number",value:z,onChange:G=>Z(G.target.value),placeholder:"Value",className:"w-full border border-neutral-300 rounded-lg p-2 mb-4",autoFocus:!0}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),m.jsx("button",{onClick:Lu,className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Apply"})]})]})}),S&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-sm shadow-xl",children:[m.jsx("h3",{className:"font-bold text-lg mb-4",children:"Hold Order"}),m.jsx("textarea",{value:U,onChange:G=>H(G.target.value),placeholder:"Optional note (e.g. Customer forgot wallet)",className:"w-full border border-neutral-300 dark:border-neutral-600 dark:bg-neutral-700 rounded-lg p-3 mb-4 h-24 resize-none"}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),m.jsx("button",{onClick:st,className:"px-4 py-2 bg-amber-500 text-white rounded hover:bg-amber-600",children:"Hold Order"})]})]})}),A&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-md shadow-xl h-[80vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"font-bold text-lg",children:"Held Orders"}),m.jsx("button",{onClick:()=>C(!1),children:m.jsx(sT,{className:"w-6 h-6"})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:o.length===0?m.jsx("p",{className:"text-center text-neutral-500 mt-10",children:"No held orders."}):o.map(G=>{var se;return m.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-700 p-3 rounded-lg border border-neutral-200 dark:border-neutral-600",children:[m.jsxs("div",{className:"flex justify-between mb-2",children:[m.jsx("span",{className:"font-bold",children:((se=G.customer)==null?void 0:se.name)||"Walk-in"}),m.jsx("span",{className:"text-xs text-neutral-500",children:new Date(G.timestamp).toLocaleTimeString()})]}),m.jsxs("p",{className:"text-xs text-neutral-600 dark:text-neutral-300 mb-2",children:[G.items.length," items  Note: ",G.note||"None"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>Vh(G),className:"flex-1 bg-primary-600 text-white py-1.5 rounded text-sm hover:bg-primary-700",children:"Resume"}),m.jsx("button",{onClick:()=>zh(G.id),className:"px-3 bg-red-100 text-red-600 rounded text-sm hover:bg-red-200",children:"Discard"})]})]},G.id)})})]})}),k&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-sm shadow-xl",children:[m.jsx("h3",{className:"font-bold text-lg mb-4",children:"Add New Customer"}),m.jsxs("form",{onSubmit:Fh,className:"space-y-3",children:[m.jsx("input",{type:"text",required:!0,placeholder:"Name",value:ce.name,onChange:G=>ye({...ce,name:G.target.value}),className:"w-full border p-2 rounded"}),m.jsx("input",{type:"text",placeholder:"Phone",value:ce.phone,onChange:G=>ye({...ce,phone:G.target.value}),className:"w-full border p-2 rounded"}),m.jsx("input",{type:"email",placeholder:"Email",value:ce.email,onChange:G=>ye({...ce,email:G.target.value}),className:"w-full border p-2 rounded"}),m.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[m.jsx("button",{type:"button",onClick:()=>P(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Create"})]})]})]})})]})},Oce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),Mce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),lT=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),Rce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),{BanknotesIcon:$ce,ArrowUpTrayIcon:Dce,QrCodeIcon:jce}=rs,Vc=({children:t,title:e,onClose:n})=>m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-md max-h-full overflow-y-auto",children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700 sticky top-0 bg-white dark:bg-neutral-800",children:[m.jsx("h3",{className:"text-lg font-semibold",children:e}),m.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:m.jsx(Rce,{className:"w-6 h-6"})})]}),t]})}),Lce=({items:t,onClose:e})=>{const n=()=>{const r=document.getElementById("label-sheet"),i="about:blank",a="Print"+new Date().getTime(),s=window.open(i,a,"width=800,height=600");s&&r&&(s.document.write(`
                <html>
                    <head>
                        <title>Print Labels</title>
                        <style>
                            body { font-family: sans-serif; padding: 20px; }
                            .label-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
                            .label { border: 1px dashed #ccc; padding: 10px; text-align: center; border-radius: 5px; }
                            .sku { font-family: monospace; letter-spacing: 2px; font-weight: bold; margin-top: 5px; display: block;}
                            @media print {
                                body { padding: 0; }
                                .label { break-inside: avoid; }
                            }
                        </style>
                    </head>
                    <body>${r.innerHTML}</body>
                </html>
            `),s.document.close(),s.focus(),s.print(),s.close())};return m.jsx(Vc,{title:"Print Barcode Labels",onClose:e,children:m.jsxs("div",{className:"p-6",children:[m.jsxs("p",{className:"mb-4 text-sm text-neutral-500",children:["Preview of labels for ",t.length," selected items."]}),m.jsx("div",{id:"label-sheet",className:"max-h-60 overflow-y-auto bg-neutral-100 p-4 rounded border mb-4",children:m.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.map(r=>m.jsxs("div",{className:"bg-white p-2 text-center border border-neutral-300 rounded text-xs",children:[m.jsx("div",{className:"font-bold truncate",children:r.name}),m.jsxs("div",{children:["$",r.price]}),m.jsx("div",{className:"font-mono font-bold mt-1 tracking-widest text-sm",children:r.sku})]},r.id))})}),m.jsx("button",{onClick:n,className:"w-full bg-primary-600 text-white py-2 rounded hover:bg-primary-700",children:"Print Now"})]})})},Do=({dataType:t,data:e,columns:n,formFields:r,onAdd:i,onUpdate:o,onDelete:a,customActions:s,t:l,formatCurrency:u,canAddNew:c=!0,addNewDisabledTooltip:d=""})=>{const[h,g]=N.useState(""),[y,v]=N.useState(!1),[x,w]=N.useState(!1),[b,_]=N.useState(!1),[T,S]=N.useState(!1),[E,A]=N.useState(null),[C,k]=N.useState({}),[P,O]=N.useState([]),[R,j]=N.useState(""),B=I.useRef(null),D=l(`Manage ${t.charAt(0).toUpperCase()+t.slice(1)}`),M=N.useMemo(()=>e.filter(V=>Object.values(V).some(ce=>String(ce).toLowerCase().includes(h.toLowerCase()))),[e,h]),L=V=>{V.target.checked?O(M.map(ce=>ce.id)):O([])},$=V=>{O(ce=>ce.includes(V)?ce.filter(ye=>ye!==V):[...ce,V])},U=(V=null)=>{A(V),k(V||{}),v(!0)},H=()=>{v(!1),A(null),k({})},Y=V=>{A(V),w(!0)},W=()=>{w(!1),A(null)},te=V=>{A(V),j(""),_(!0)},ve=()=>{_(!1),A(null)},xe=V=>{const{name:ce,value:ye,type:Re}=V.target,nt=Re==="number";k(It=>({...It,[ce]:nt?Number(ye):ye}))},Ie=(V,ce)=>{var Re;const ye=(Re=V.target.files)==null?void 0:Re[0];if(ye){const nt=new FileReader;nt.onloadend=()=>{k(It=>({...It,[ce]:nt.result}))},nt.readAsDataURL(ye)}},tt=V=>{V.preventDefault(),E?o({...E,...C}):i(C),H()},Ne=()=>{E&&a([E.id]),W()},z=()=>{a(P),O([])},Z=()=>{const V=parseFloat(R);E&&V>0&&(s!=null&&s.onRecordPayment)&&s.onRecordPayment(E.id,V),ve()},ne=()=>{var V;(V=B.current)==null||V.click()},F=V=>{var Re;const ce=(Re=V.target.files)==null?void 0:Re[0];if(!ce)return;const ye=new FileReader;ye.onload=nt=>{var Et;const jt=((Et=nt.target)==null?void 0:Et.result).split(`
`);for(let Zt=1;Zt<jt.length;Zt++){const En=jt[Zt].trim();if(!En)continue;const ct=En.split(",");if(ct.length>=5){const Tn={name:ct[0],price:parseFloat(ct[1])||0,stock:parseInt(ct[2])||0,category:ct[3],sku:ct[4],imageUrl:"",brand:""};i(Tn)}}alert(`Import process completed for ${jt.length-1} rows.`)},ye.readAsText(ce),V.target.value=""},Te=()=>{S(!0)};return m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold",children:D}),m.jsxs("div",{className:"w-full sm:w-auto flex items-center gap-2",children:[m.jsxs("div",{className:"relative flex-grow",children:[m.jsx(Oce,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),m.jsx("input",{type:"text",placeholder:l("Search"),value:h,onChange:V=>g(V.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg pl-10 pr-4 py-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),t==="products"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:ne,className:"bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200 px-3 py-2 rounded-lg hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors flex items-center gap-1",children:[m.jsx(Dce,{className:"w-5 h-5"}),m.jsx("span",{className:"hidden sm:inline",children:l("Import CSV")})]}),m.jsx("input",{type:"file",accept:".csv",ref:B,className:"hidden",onChange:F})]}),m.jsx("button",{onClick:()=>U(),disabled:!c,title:c?"":d,className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:l("Add New")})]})]}),P.length>0&&m.jsxs("div",{className:"mb-4 flex items-center justify-between p-3 bg-primary-50 dark:bg-primary-900/40 rounded-lg",children:[m.jsxs("span",{className:"font-semibold text-primary-700 dark:text-primary-200",children:[P.length," item(s) selected"]}),m.jsxs("div",{className:"flex gap-2",children:[t==="products"&&m.jsxs("button",{onClick:Te,className:"flex items-center gap-2 bg-purple-600 text-white text-sm font-semibold px-3 py-1.5 rounded-lg hover:bg-purple-700 transition-colors",children:[m.jsx(jce,{className:"w-4 h-4"}),l("Print Labels")]}),m.jsxs("button",{onClick:z,className:"flex items-center gap-2 bg-red-600 text-white text-sm font-semibold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors",children:[m.jsx(lT,{className:"w-4 h-4"}),"Delete Selected"]})]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left text-neutral-500 dark:text-neutral-400",children:[m.jsx("thead",{className:"text-xs text-neutral-700 dark:text-neutral-300 uppercase bg-neutral-50 dark:bg-neutral-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"p-4",children:m.jsx("input",{type:"checkbox",onChange:L,checked:P.length>0&&P.length===M.length,className:"w-4 h-4 text-primary-600 bg-neutral-100 border-neutral-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-neutral-800 focus:ring-2 dark:bg-neutral-700 dark:border-neutral-600"})}),n.map(V=>m.jsx("th",{scope:"col",className:"px-6 py-3",children:V.header},String(V.key))),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Actions"})]})}),m.jsx("tbody",{children:M.map(V=>m.jsxs("tr",{className:"bg-white dark:bg-neutral-800 border-b dark:border-neutral-700 hover:bg-neutral-50 dark:hover:bg-neutral-700/50",children:[m.jsx("td",{className:"p-4",children:m.jsx("input",{type:"checkbox",checked:P.includes(V.id),onChange:()=>$(V.id),className:"w-4 h-4 text-primary-600 bg-neutral-100 border-neutral-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-neutral-800 focus:ring-2 dark:bg-neutral-700 dark:border-neutral-600"})}),n.map(ce=>m.jsx("td",{className:"px-6 py-4 font-medium text-neutral-900 dark:text-white whitespace-nowrap",children:ce.render?ce.render(V):V[ce.key]},`${V.id}-${String(ce.key)}`)),m.jsxs("td",{className:"px-6 py-4 flex justify-end items-center gap-4",children:[t==="customers"&&V.dueAmount>0&&(s==null?void 0:s.onRecordPayment)&&m.jsx("button",{onClick:()=>te(V),className:"text-green-600 dark:text-green-400 hover:underline",title:"Record Payment",children:m.jsx($ce,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>U(V),className:"text-primary-600 dark:text-primary-400 hover:underline",children:m.jsx(Mce,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>Y(V),className:"text-red-600 dark:text-red-400 hover:underline",children:m.jsx(lT,{className:"w-5 h-5"})})]})]},V.id))})]})}),y&&m.jsx(Vc,{title:E?`Edit ${t.slice(0,-1)}`:`Add ${t.slice(0,-1)}`,onClose:H,children:m.jsxs("form",{onSubmit:tt,children:[m.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map(V=>{var ce;return m.jsxs("div",{className:["select","image"].includes(V.type)?"sm:col-span-2":"",children:[m.jsx("label",{htmlFor:String(V.key),className:"block mb-2 text-sm font-medium",children:V.label}),V.type==="select"?m.jsxs("select",{id:String(V.key),name:String(V.key),value:C[V.key]||"",onChange:xe,required:V.required,className:"bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5",children:[m.jsx("option",{value:"",children:"Select an option"}),(ce=V.options)==null?void 0:ce.map(ye=>m.jsx("option",{value:ye.value,children:ye.label},ye.value))]}):V.type==="image"?m.jsxs("div",{className:"flex items-center gap-4",children:[C[V.key]&&m.jsx("img",{src:C[V.key],alt:"preview",className:"w-16 h-16 rounded-full object-cover bg-neutral-200"}),m.jsx("input",{type:"file",id:String(V.key),name:String(V.key),onChange:ye=>Ie(ye,V.key),accept:"image/*",className:"block w-full text-sm text-neutral-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})]}):m.jsx("input",{type:V.type,id:String(V.key),name:String(V.key),value:C[V.key]||"",onChange:xe,required:V.required,className:"bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"})]},String(V.key))})}),m.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2 sticky bottom-0 bg-white dark:bg-neutral-800",children:[m.jsx("button",{type:"button",onClick:H,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),m.jsx("button",{type:"submit",className:"text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Save"})]})]})}),x&&E&&m.jsxs(Vc,{title:"Confirm Deletion",onClose:W,children:[m.jsx("div",{className:"p-6",children:m.jsxs("p",{children:["Are you sure you want to delete ",m.jsx("span",{className:"font-semibold",children:E.name||"this item"}),"? This action cannot be undone."]})}),m.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2",children:[m.jsx("button",{onClick:W,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),m.jsx("button",{onClick:Ne,className:"text-white bg-red-600 hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800",children:"Delete"})]})]}),b&&E&&m.jsxs(Vc,{title:`Record Payment for ${E.name}`,onClose:ve,children:[m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"p-3 bg-neutral-100 dark:bg-neutral-700/50 rounded-lg text-center",children:[m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Current Due Amount"}),m.jsx("p",{className:"text-2xl font-bold",children:u(E.dueAmount)})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"payment-amount",className:"block text-sm font-medium mb-1",children:"Payment Amount"}),m.jsx("input",{id:"payment-amount",type:"number",value:R,onChange:V=>j(V.target.value),className:"w-full text-lg bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",autoFocus:!0})]})]}),m.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2",children:[m.jsx("button",{onClick:ve,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),m.jsx("button",{onClick:Z,className:"text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",children:"Record Payment"})]})]}),T&&m.jsx(Lce,{items:M.filter(V=>P.includes(V.id)),onClose:()=>S(!1)})]})},Uce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),Bce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),Fce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Jp=({title:t,value:e})=>m.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-700/50 p-4 rounded-lg",children:[m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:t}),m.jsx("p",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:e})]}),Vce=({sales:t,users:e,customers:n,formatCurrency:r})=>{const[i,o]=N.useState(""),[a,s]=N.useState(""),[l,u]=N.useState("all"),[c,d]=N.useState("all"),[h,g]=N.useState("csv"),[y,v]=N.useState(!1),x=N.useRef(null),[w,b]=N.useState(""),[_,T]=N.useState(!1),S=N.useRef(null),E=N.useMemo(()=>e.filter(M=>[we.Admin,we.Manager,we.Cashier].includes(M.role)),[e]);N.useEffect(()=>{const M=L=>{S.current&&!S.current.contains(L.target)&&T(!1),x.current&&!x.current.contains(L.target)&&v(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const A=N.useMemo(()=>w?n.filter(M=>M.name.toLowerCase().includes(w.toLowerCase())):n,[n,w]),C=M=>{d(M);const L=n.find($=>$.id===M);b(L?L.name:""),T(!1)},k=()=>{d("all"),b("")},P=N.useMemo(()=>t.filter(M=>{const L=new Date(M.date),$=i?new Date(i):null,U=a?new Date(a):null;$&&$.setHours(0,0,0,0),U&&U.setHours(23,59,59,999);const H=(!$||L>=$)&&(!U||L<=U),Y=l==="all"||M.cashierId===l,W=c==="all"||M.customerId===c;return H&&Y&&W}),[t,i,a,l,c]),O=N.useMemo(()=>{const M=P.reduce((U,H)=>U+H.total,0),L=P.length,$=L>0?M/L:0;return{totalSales:r(M),totalTransactions:L,avgSaleValue:r($)}},[P,r]),R=N.useMemo(()=>{if(P.length===0)return[];const M=P.reduce((L,$)=>{const U=new Date($.date).toISOString().split("T")[0];return L[U]||(L[U]=0),L[U]+=$.total,L},{});return Object.entries(M).map(([L,$])=>({rawDate:L,date:new Date(L+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"}),total:$})).sort((L,$)=>new Date(L.rawDate).getTime()-new Date($.rawDate).getTime())},[P]),j=()=>{o(""),s(""),u("all"),k()},B=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),D=()=>{if(P.length===0){alert("No data to export for the current filters.");return}const M=["Sale ID","Date","Customer","Cashier","Items","Total","Amount Paid","Amount Due","Payment Method"],L=P.map($=>({"Sale ID":$.id,Date:new Date($.date).toISOString(),Customer:$.customerName,Cashier:$.cashier,Items:$.items,Total:$.total,"Amount Paid":$.amountPaid,"Amount Due":$.total-$.amountPaid,"Payment Method":$.paymentMethod}));if(h==="csv"){const U=[M.join(","),...L.map(te=>Object.values(te).map(ve=>{const xe=String(ve);return xe.includes(",")||xe.includes('"')?`"${xe.replace(/"/g,'""')}"`:xe}).join(","))].join(`
`),H=new Blob([U],{type:"text/csv;charset=utf-8;"}),Y=document.createElement("a"),W=URL.createObjectURL(H);Y.setAttribute("href",W),Y.setAttribute("download","sales_report.csv"),Y.style.visibility="hidden",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)}else if(h==="xlsx"&&typeof XLSX<"u"){const $=XLSX.utils.json_to_sheet(L),U=XLSX.utils.book_new();XLSX.utils.book_append_sheet(U,$,"Sales"),XLSX.writeFile(U,"sales_report.xlsx")}else h==="xlsx"&&alert("XLSX export not available (library not loaded).")};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[m.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:"Sales Reports"}),m.jsxs("div",{className:"flex rounded-lg shadow-sm",children:[m.jsxs("button",{onClick:D,className:"relative inline-flex items-center gap-2 bg-secondary-600 px-4 py-2 text-sm font-semibold text-white hover:bg-secondary-700 focus:z-10 rounded-l-lg",children:[m.jsx(Uce,{className:"w-5 h-5"}),"Export Data"]}),m.jsxs("div",{ref:x,className:"relative -ml-px block",children:[m.jsxs("button",{onClick:()=>v(!y),type:"button",className:"relative inline-flex items-center bg-secondary-600 px-2 py-2 text-white hover:bg-secondary-700 focus:z-10 rounded-r-lg","aria-expanded":"true","aria-haspopup":"true",children:[m.jsx("span",{className:"text-xs uppercase mr-1",children:h}),m.jsx(Bce,{className:"h-5 w-5","aria-hidden":"true"})]}),y&&m.jsx("div",{className:"absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-white dark:bg-neutral-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabIndex:-1,children:m.jsxs("div",{className:"py-1",role:"none",children:[m.jsx("a",{href:"#",onClick:M=>{M.preventDefault(),g("csv"),v(!1)},className:`block px-4 py-2 text-sm ${h==="csv"?"font-bold text-primary-600":"text-neutral-700 dark:text-neutral-200"} hover:bg-neutral-100 dark:hover:bg-neutral-700`,role:"menuitem",tabIndex:-1,id:"menu-item-0",children:"Export as .csv"}),m.jsx("a",{href:"#",onClick:M=>{M.preventDefault(),g("xlsx"),v(!1)},className:`block px-4 py-2 text-sm ${h==="xlsx"?"font-bold text-primary-600":"text-neutral-700 dark:text-neutral-200"} hover:bg-neutral-100 dark:hover:bg-neutral-700`,role:"menuitem",tabIndex:-1,id:"menu-item-1",children:"Export as .xlsx"})]})})]})]})]}),m.jsx("div",{className:"bg-white dark:bg-neutral-800 p-4 rounded-xl shadow-md space-y-4",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[m.jsxs("div",{className:"lg:col-span-2 grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"start-date",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Start Date"}),m.jsx("input",{type:"date",id:"start-date",value:i,onChange:M=>o(M.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"end-date",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"End Date"}),m.jsx("input",{type:"date",id:"end-date",value:a,onChange:M=>s(M.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"cashier",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Cashier"}),m.jsxs("select",{id:"cashier",value:l,onChange:M=>u(M.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",children:[m.jsx("option",{value:"all",children:"All Cashiers"}),E.map(M=>m.jsx("option",{value:M.id,children:M.name},M.id))]})]}),m.jsxs("div",{ref:S,children:[m.jsx("label",{htmlFor:"customer",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Customer"}),m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"text",id:"customer",value:w,onChange:M=>{b(M.target.value),d("all"),_||T(!0)},onFocus:()=>T(!0),placeholder:"All Customers",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"}),c!=="all"&&m.jsx("button",{onClick:k,className:"absolute right-2 text-neutral-500 hover:text-red-500",children:m.jsx(Fce,{className:"w-5 h-5"})})]}),_&&m.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white dark:bg-neutral-700 rounded-md shadow-lg max-h-60 overflow-auto border dark:border-neutral-600",children:m.jsxs("ul",{children:[m.jsx("li",{onClick:()=>C("all"),className:"px-4 py-2 text-sm hover:bg-primary-50 dark:hover:bg-neutral-600 cursor-pointer text-neutral-700 dark:text-neutral-200",children:"All Customers"}),A.map(M=>m.jsx("li",{onClick:()=>C(M.id),className:"px-4 py-2 text-sm hover:bg-primary-50 dark:hover:bg-neutral-600 cursor-pointer text-neutral-700 dark:text-neutral-200",children:M.name},M.id))]})})]})]}),m.jsx("div",{className:"lg:col-span-5 flex justify-end",children:m.jsx("button",{onClick:j,className:"text-sm text-primary-600 hover:underline",children:"Reset Filters"})})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx(Jp,{title:"Total Revenue",value:O.totalSales}),m.jsx(Jp,{title:"Transactions",value:O.totalTransactions.toString()}),m.jsx(Jp,{title:"Avg. Sale Value",value:O.avgSaleValue})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold mb-4 text-neutral-800 dark:text-neutral-100",children:"Sales Trend"}),m.jsx("div",{className:"h-80 w-full",children:m.jsx(h0,{width:"100%",height:"100%",children:m.jsxs(Tre,{data:R,children:[m.jsx(J0,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(128,128,128,0.2)"}),m.jsx(vs,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},dy:10}),m.jsx(ys,{axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},tickFormatter:M=>`$${M}`}),m.jsx(In,{cursor:{fill:"rgba(128,128,128,0.1)"},contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.5rem",color:"#F3F4F6"},itemStyle:{color:"#F3F4F6"},formatter:M=>[`$${M.toFixed(2)}`,"Sales"]}),m.jsx(Po,{dataKey:"total",fill:"#4F46E5",radius:[4,4,0,0]})]})})})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b dark:border-neutral-700",children:m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100",children:"Recent Transactions"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left text-neutral-500 dark:text-neutral-400",children:[m.jsx("thead",{className:"text-xs text-neutral-700 dark:text-neutral-300 uppercase bg-neutral-50 dark:bg-neutral-700/50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"Date"}),m.jsx("th",{className:"px-6 py-3",children:"Sale ID"}),m.jsx("th",{className:"px-6 py-3",children:"Customer"}),m.jsx("th",{className:"px-6 py-3",children:"Cashier"}),m.jsx("th",{className:"px-6 py-3 text-right",children:"Total"}),m.jsx("th",{className:"px-6 py-3",children:"Method"})]})}),m.jsx("tbody",{className:"divide-y divide-neutral-100 dark:divide-neutral-700",children:P.length>0?P.map(M=>m.jsxs("tr",{className:"bg-white dark:bg-neutral-800 hover:bg-neutral-50 dark:hover:bg-neutral-700/50",children:[m.jsxs("td",{className:"px-6 py-4",children:[B(M.date)," ",m.jsx("span",{className:"text-xs text-neutral-400 ml-1",children:new Date(M.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),m.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:M.id}),m.jsx("td",{className:"px-6 py-4 font-medium text-neutral-900 dark:text-neutral-100",children:M.customerName}),m.jsx("td",{className:"px-6 py-4",children:M.cashier}),m.jsx("td",{className:"px-6 py-4 text-right font-semibold text-neutral-900 dark:text-neutral-100",children:r(M.total)}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M.paymentMethod==="Cash"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":M.paymentMethod==="Card"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"}`,children:M.paymentMethod})})]},M.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-neutral-500 dark:text-neutral-400",children:"No transactions found matching current filters."})})})]})})]})]})},zce=({title:t})=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-8 rounded-xl shadow-md text-center h-full flex flex-col justify-center items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:t}),m.jsx("p",{className:"mt-4 text-neutral-500 dark:text-neutral-400",children:"This feature is under construction."}),m.jsx("div",{className:"mt-6 text-6xl text-neutral-200 dark:text-neutral-700",children:""})]}),qce="ZENITH_POS_SECRET_KEY_2025_V2",Gce=(t,e)=>{const n=t+e;let r=5381;for(let i=0;i<n.length;i++)r=r*33^n.charCodeAt(i);return(r>>>0).toString(16).toUpperCase().padStart(8,"0").slice(-5)},Hce={A:"AI_INSIGHTS",R:"ADVANCED_REPORTS",M:"MULTI_LANGUAGE",C:"CLOUD_SYNC"},uT={STD:["M"],PREM:["M","A"],ENT:["M","A","R","C"]},Wce=(t,e,n,r,i)=>{const o=Math.random().toString(36).substring(2,8).toUpperCase(),a=`${e.getFullYear()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}`,s=`ZENITH-${t}-${o}-${n}-${a}`;let l=s;const u=r==null?void 0:r.trim().toUpperCase().replace(/\s+/g,"");u&&(l+=`-${u}`);const c=i==null?void 0:i.trim().toLowerCase();c&&(l+=`-${c}`);const d=Gce(l,qce),h=`${s}-${d}`,g={STD:"Standard",PREM:"Premium",ENT:"Enterprise"};return{key:h,validUntil:e.toISOString(),planType:g[t],status:"Generated",maxShops:t==="ENT"?1/0:1,enabledFeatures:n.split("").map(y=>Hce[y]).filter(Boolean),businessNameLock:(r==null?void 0:r.trim())||void 0,emailLock:(i==null?void 0:i.trim())||void 0}},Kce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),Jce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0"})}),{GlobeAltIcon:Yce,ShieldCheckIcon:vN,XMarkIcon:yN,BanknotesIcon:Xce,KeyIcon:Qce,BuildingStorefrontIcon:Zce,TrashIcon:ede}=rs,wN=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),tde=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),ri=({title:t,icon:e,children:n})=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md",children:[m.jsx("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-700",children:m.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-3",children:[e,t]})}),m.jsx("div",{className:"p-6",children:n})]}),nde=({type:t,message:e,onClose:n})=>{const r="p-4 rounded-md flex items-center justify-between shadow-md mb-6",i=t==="success"?"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-200";return m.jsxs("div",{className:`${r} ${i}`,children:[m.jsx("p",{className:"text-sm font-medium",children:e}),m.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-black/10",children:m.jsx(yN,{className:"w-5 h-5"})})]})},rde=({title:t,children:e})=>{const[n,r]=N.useState(!1);return m.jsxs("div",{className:"border-b dark:border-neutral-700",children:[m.jsxs("button",{onClick:()=>r(!n),className:"w-full flex justify-between items-center text-left py-4 px-1",children:[m.jsx("span",{className:"font-semibold text-neutral-800 dark:text-neutral-100",children:t}),m.jsx(tde,{className:`w-5 h-5 transition-transform ${n?"rotate-180":""}`})]}),n&&m.jsx("div",{className:"pb-4 px-1 text-neutral-600 dark:text-neutral-300 prose prose-sm dark:prose-invert max-w-none whitespace-pre-line",children:e})]})},ide=({isOpen:t,onClose:e,t:n})=>{if(!t)return null;const r=Array.from({length:8},(i,o)=>({title:n(`guide_title_${o+1}`),content:n(`guide_content_${o+1}`)}));return m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-start p-4 pt-16",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700",children:[m.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[m.jsx(wN,{className:"w-6 h-6 text-primary-500"}),n("System User Guide")]}),m.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:m.jsx(yN,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"p-6 overflow-y-auto",children:[m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-4",children:n("Guide Intro")}),r.map((i,o)=>m.jsx(rde,{title:i.title,children:i.content},o))]}),m.jsx("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700",children:m.jsx("button",{onClick:e,className:"bg-primary-600 text-white font-semibold px-5 py-2.5 rounded-lg hover:bg-primary-700 transition-colors",children:n("Close Guide")})})]})})},ode=t=>{var Ne;const{user:e,onUpdateUser:n,isDarkMode:r,toggleDarkMode:i,businessName:o,setBusinessName:a,businessLogo:s,setBusinessLogo:l,licenseKeys:u,setLicenseKeys:c,licenseDatabase:d,setLicenseDatabase:h,language:g,setLanguage:y,currency:v,setCurrency:x,t:w,activeStoreId:b,onAddStore:_,onDeleteStore:T,organizationStores:S}=t,[E,A]=N.useState(8),[C,k]=N.useState(null),[P,O]=N.useState(!1),R=I.useRef(null),j=N.useRef(null),[B,D]=N.useState(""),[M,L]=N.useState({name:e.name,email:e.email,avatarUrl:e.avatarUrl,phone:e.phone||""});N.useEffect(()=>{if(C){const z=setTimeout(()=>k(null),5e3);return()=>clearTimeout(z)}},[C]);const $=z=>L(Z=>({...Z,[z.target.name]:z.target.value})),U=z=>{var ne;const Z=(ne=z.target.files)==null?void 0:ne[0];if(Z){const F=new FileReader;F.onloadend=()=>L(Te=>({...Te,avatarUrl:F.result})),F.readAsDataURL(Z)}},H=z=>{n({name:M.name,avatarUrl:M.avatarUrl,phone:M.phone}),k({type:"success",message:`${z} settings saved successfully!`})},Y=z=>{z.preventDefault();const Z=new FormData(z.currentTarget),ne=Z.get("currentPassword"),F=Z.get("newPassword"),Te=Z.get("confirmPassword");if(F!==Te){k({type:"error",message:"New passwords do not match."});return}if(e.password!==ne){k({type:"error",message:"Current password is incorrect."});return}n({password:F}),k({type:"success",message:"Password updated successfully!"}),z.currentTarget.reset()},W=z=>{var ne;const Z=(ne=z.target.files)==null?void 0:ne[0];if(Z){const F=new FileReader;F.onloadend=()=>l(F.result),F.readAsDataURL(Z)}},te=()=>{const z={zenith_users:localStorage.getItem("zenith_users"),zenith_products:localStorage.getItem("zenith_products"),zenith_customers:localStorage.getItem("zenith_customers"),zenith_sales:localStorage.getItem("zenith_sales"),zenith_license_database:localStorage.getItem("zenith_license_database")},Z=new Blob([JSON.stringify(z,null,2)],{type:"application/json"}),ne=URL.createObjectURL(Z),F=document.createElement("a");F.href=ne,F.download=`zenith_backup_${new Date().toISOString().split("T")[0]}.json`,F.click(),k({type:"success",message:"Backup downloaded successfully!"})},ve=()=>{var z;return(z=R.current)==null?void 0:z.click()},xe=z=>{var F;const Z=(F=z.target.files)==null?void 0:F[0];if(!Z)return;const ne=new FileReader;ne.onload=Te=>{var V;try{const ce=JSON.parse((V=Te.target)==null?void 0:V.result);Object.keys(ce).forEach(ye=>{ce[ye]&&localStorage.setItem(ye,ce[ye])}),k({type:"success",message:"Data restored! Please reload the page."}),setTimeout(()=>window.location.reload(),2e3)}catch{k({type:"error",message:"Invalid backup file."})}},ne.readAsText(Z)},Ie=z=>{if(z.preventDefault(),!B.trim()){k({type:"error",message:"Please enter a license key."});return}t.onUpdateLicense(B)?(D(""),k({type:"success",message:"License updated successfully!"})):k({type:"error",message:"The provided license key is invalid or could not be applied."})},tt=z=>{z.preventDefault(),B&&t.onActivateTrialLicense(B)};return m.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto pb-10",children:[m.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:w("Settings")}),C&&m.jsx(nde,{type:C.type,message:C.message,onClose:()=>k(null)}),e.email==="superadmin@zenith.com"&&m.jsx(ade,{licenseDatabase:d,setLicenseDatabase:h,setNotification:k}),e.role===we.Admin&&m.jsx(sde,{...t,newLicenseKey:B,setNewLicenseKey:D,onActivateFromTrialSubmit:tt,onUpdateLicenseSubmit:Ie,setNotification:k}),m.jsx(ide,{isOpen:P,onClose:()=>O(!1),t:w}),m.jsx("button",{onClick:()=>O(!0),className:"fixed bottom-6 right-6 bg-primary-600 text-white p-4 rounded-full shadow-lg hover:bg-primary-700 transition-transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 z-40","aria-label":"Open settings guide",children:m.jsx(wN,{className:"w-8 h-8"})}),m.jsxs(ri,{title:"Profile",icon:m.jsx(Kce,{className:"w-6 h-6 text-primary-500"}),children:[m.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[m.jsxs("div",{className:"relative w-20 h-20 group flex-shrink-0",children:[m.jsx("img",{src:M.avatarUrl,alt:"Profile Avatar",className:"w-20 h-20 rounded-full object-cover"}),m.jsx("button",{onClick:()=>{var z;return(z=j.current)==null?void 0:z.click()},className:"absolute inset-0 bg-black/60 rounded-full flex items-center justify-center text-white opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:m.jsx("span",{className:"text-xs font-semibold",children:"Change"})}),m.jsx("input",{type:"file",ref:j,onChange:U,className:"hidden",accept:"image/png, image/jpeg"})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-xl font-bold",children:M.name}),m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:e.role})]})]}),m.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 my-6"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Full Name"}),m.jsx("input",{type:"text",name:"name",value:M.name,onChange:$,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Email Address"}),m.jsx("input",{type:"email",value:M.email,disabled:!0,className:"mt-1 w-full bg-neutral-200 dark:bg-neutral-800 border-transparent rounded-lg p-2.5 text-neutral-500 dark:text-neutral-400 cursor-not-allowed"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Phone Number"}),m.jsx("input",{type:"tel",name:"phone",value:M.phone||"",onChange:$,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"}),m.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Used for password recovery and notifications."})]})]}),m.jsx("div",{className:"mt-6 text-right",children:m.jsx("button",{onClick:()=>H("Profile"),className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Save Changes"})})]}),m.jsxs(ri,{title:"Password & Security",icon:m.jsx(vN,{className:"w-6 h-6 text-primary-500"}),children:[m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-6",children:"Your registered Email and Phone number will be used for verification during password reset."}),m.jsxs("form",{onSubmit:Y,children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Current Password"}),m.jsx("input",{type:"password",name:"currentPassword",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"New Password"}),m.jsx("input",{type:"password",name:"newPassword",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Confirm New Password"}),m.jsx("input",{type:"password",name:"confirmPassword",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})]}),m.jsx("div",{className:"mt-6 text-right",children:m.jsx("button",{type:"submit",className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Change Password"})})]})]}),e.role===we.Admin&&((Ne=t.activeLicense)==null?void 0:Ne.planType)==="Enterprise"&&m.jsxs(ri,{title:"Store Management",icon:m.jsx(Zce,{className:"w-6 h-6 text-primary-500"}),children:[m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-4",children:"Manage your business branches. This feature is available on the Enterprise plan."}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h4",{className:"font-semibold text-neutral-800 dark:text-neutral-100",children:"Current Stores"}),S.length>0?m.jsx("ul",{className:"divide-y divide-neutral-200 dark:divide-neutral-700",children:S.map(z=>m.jsxs("li",{className:"py-2 flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:z.name}),m.jsx("p",{className:"text-xs text-neutral-500",children:z.location})]}),m.jsx("button",{onClick:()=>T(z.id),className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:"Delete Store",children:m.jsx(ede,{className:"w-4 h-4"})})]},z.id))}):m.jsx("p",{className:"text-sm text-neutral-500",children:"No stores added yet."}),m.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-700 pt-4",children:[m.jsx("h4",{className:"font-semibold text-neutral-800 dark:text-neutral-100 mb-2",children:"Add New Store"}),m.jsxs("form",{onSubmit:z=>{z.preventDefault();const Z=new FormData(z.currentTarget),ne=Z.get("storeName"),F=Z.get("storeLocation");ne&&F&&(_({name:ne,location:F}),z.target.reset())},className:"flex flex-col md:flex-row gap-4 items-end",children:[m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"block text-xs font-medium text-neutral-600 dark:text-neutral-300",children:"Store Name"}),m.jsx("input",{type:"text",name:"storeName",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"block text-xs font-medium text-neutral-600 dark:text-neutral-300",children:"Location"}),m.jsx("input",{type:"text",name:"storeLocation",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsx("button",{type:"submit",className:"w-full md:w-auto bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Add Store"})]})]})]})]}),m.jsx(ri,{title:"Localization",icon:m.jsx(Yce,{className:"w-6 h-6 text-primary-500"}),children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-2",children:"Language"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>y("en"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-semibold border ${g==="en"?"bg-primary-600 text-white border-primary-600":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 border-neutral-300 dark:border-neutral-600"}`,children:"English"}),m.jsx("button",{onClick:()=>y("bn"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-semibold border ${g==="bn"?"bg-primary-600 text-white border-primary-600":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 border-neutral-300 dark:border-neutral-600"}`,children:"Bangla"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-2",children:"Currency"}),m.jsx("select",{value:v,onChange:z=>x(z.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",children:Object.entries(nk).map(([z,Z])=>m.jsxs("option",{value:z,children:[z," - ",Z.symbol]},z))})]})]})}),m.jsxs(ri,{title:"Business Configuration",icon:m.jsx(Xce,{className:"w-6 h-6 text-primary-500"}),children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Business Name"}),m.jsx("input",{type:"text",value:o,onChange:z=>a(z.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Default Tax Rate (%)"}),m.jsx("input",{type:"number",value:E,onChange:z=>A(Number(z.target.value)),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("p",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-2",children:"Business Logo"}),m.jsxs("div",{className:"flex items-center gap-4",children:[s&&m.jsx("img",{src:s,alt:"Logo",className:"w-16 h-16 object-contain border border-neutral-200 rounded p-1"}),m.jsx("input",{type:"file",accept:"image/*",onChange:W,className:"text-sm text-neutral-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})]})]})]}),m.jsx(ri,{title:"System",icon:m.jsx(Jce,{className:"w-6 h-6 text-primary-500"}),children:m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium",children:"Data Management"}),m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Backup or restore your application data."})]}),m.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[m.jsx("button",{onClick:te,className:"bg-secondary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-secondary-700 transition-colors",children:"Backup Data"}),m.jsx("button",{onClick:ve,className:"bg-neutral-200 dark:bg-neutral-600 text-neutral-800 dark:text-neutral-100 font-semibold px-4 py-2 rounded-lg hover:bg-neutral-300 dark:hover:bg-neutral-500 transition-colors",children:"Restore Data"}),m.jsx("input",{type:"file",accept:".json",ref:R,className:"hidden",onChange:xe})]})]})})]})},ade=({licenseDatabase:t,setLicenseDatabase:e,setNotification:n})=>{const[r,i]=N.useState(""),[o,a]=N.useState(""),[s,l]=N.useState("PREM"),[u,c]=N.useState(""),[d,h]=N.useState(uT[s]);N.useEffect(()=>{const w=new Date;w.setFullYear(w.getFullYear()+1),c(w.toISOString().split("T")[0])},[]),N.useEffect(()=>{h(uT[s])},[s]);const g=w=>{const{value:b,checked:_}=w.target;h(T=>_?[...T,b]:T.filter(S=>S!==b))},y=()=>{if(!u){alert("Please select an expiry date.");return}if(!o){alert("Please provide an email address to assign this license.");return}const w=Wce(s,new Date(u),d.join(""),r,o);e(b=>[...b,w]),n({type:"success",message:`License key ${w.key.slice(0,15)}... generated successfully!`})},v=w=>{e(b=>b.map(_=>_.key===w?{..._,status:"Revoked"}:_)),n({type:"success",message:"License has been revoked."})},x=w=>{switch(w){case"Generated":return"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300";case"Activated":return"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300";case"Revoked":return"bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-300";case"Expired":return"bg-neutral-100 text-neutral-700 dark:bg-neutral-900/50 dark:text-neutral-300"}};return m.jsxs(ri,{title:"Super Admin: Master License Generator",icon:m.jsx(vN,{className:"w-6 h-6 text-amber-500"}),children:[m.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/30 rounded-lg text-amber-800 dark:text-amber-200 text-sm mb-6",children:"This panel is visible to Super Admins only. Generate keys locked to specific client emails."}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 border-b dark:border-neutral-700 pb-6 mb-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{type:"email",value:o,onChange:w=>a(w.target.value),placeholder:"Assign to Email (Required)",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5"}),m.jsx("input",{type:"text",value:r,onChange:w=>i(w.target.value),placeholder:"Business Name (Optional)",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5"}),m.jsx("input",{type:"date",value:u,onChange:w=>c(w.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"grid grid-cols-3 gap-2",children:["STD","PREM","ENT"].map(w=>m.jsxs("label",{className:`text-center p-2 rounded-lg cursor-pointer border ${s===w?"bg-primary-50 border-primary-400":"dark:border-neutral-600"}`,children:[m.jsx("input",{type:"radio",name:"plan",value:w,checked:s===w,onChange:b=>l(b.target.value),className:"sr-only"})," ",w]},w))}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:["A","R","M","C"].map(w=>m.jsxs("label",{className:"flex items-center text-sm",children:[m.jsx("input",{type:"checkbox",value:w,checked:d.includes(w),onChange:g,className:"h-4 w-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500 mr-2"}),w==="A"?"AI":w==="R"?"Reports":w==="M"?"Multi-Lang":"Cloud"]},w))})]}),m.jsx("div",{className:"md:col-span-2 text-center",children:m.jsx("button",{onClick:y,className:"bg-primary-600 text-white font-semibold px-5 py-2.5 rounded-lg hover:bg-primary-700",children:"Generate New License"})})]}),m.jsx("h4",{className:"font-semibold mb-2",children:"License Database"}),m.jsx("div",{className:"overflow-x-auto max-h-96",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"text-left p-2",children:"Key"}),m.jsx("th",{className:"text-left p-2",children:"Email Lock"}),m.jsx("th",{className:"text-left p-2",children:"Status"}),m.jsx("th",{className:"text-right p-2",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y dark:divide-neutral-700",children:t.map(w=>m.jsxs("tr",{children:[m.jsx("td",{className:"p-2 font-mono text-xs",children:w.key}),m.jsx("td",{className:"p-2 text-xs",children:w.emailLock||"None"}),m.jsx("td",{className:"p-2",children:m.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${x(w.status)}`,children:w.status})}),m.jsx("td",{className:"p-2 text-right",children:w.status!=="Revoked"&&m.jsx("button",{onClick:()=>v(w.key),className:"text-red-500 hover:underline text-xs",children:"Revoke"})})]},w.key))})]})})]})},sde=t=>{const{user:e,licenseKeys:n,setLicenseKeys:r,activeStoreId:i,setNotification:o,newLicenseKey:a,setNewLicenseKey:s,onUpdateLicenseSubmit:l,onActivateFromTrialSubmit:u,employees:c}=t,[d,h]=N.useState(""),[g,y]=N.useState(""),v=()=>{if(i==="global"){alert("Please select a specific store before generating a device key.");return}if(!d)return alert("Please enter a device name.");const w=c.find(_=>_.id===g),b={id:`dk_${Date.now()}`,key:`DEV-${Math.random().toString(36).substr(2,6).toUpperCase()}`,assignedToUserId:w?w.id:"",assignedToUserName:w?`${w.name} (${w.role})`:"Unassigned",status:"Active",validity:"Lifetime",deviceName:d,organizationId:e.organizationId,storeId:i};r(_=>[..._,b]),o({type:"success",message:`Device key for "${d}" generated successfully!`}),h(""),y("")},x=w=>{r(b=>b.map(_=>_.id===w?{..._,status:"Revoked"}:_)),o({type:"success",message:"Device key revoked."})};return m.jsxs(ri,{title:"License & Device Management",icon:m.jsx(Qce,{className:"w-6 h-6 text-green-500"}),children:[m.jsxs("div",{className:"border-b dark:border-neutral-700 pb-6 mb-6",children:[m.jsx("h4",{className:"font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Master License"}),t.isInTrial&&t.activeLicense?m.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/30 rounded-lg text-amber-800 dark:text-amber-200 text-sm",children:[m.jsx("p",{className:"font-bold",children:"You are in Trial Mode."}),m.jsxs("p",{children:["Your trial expires on ",new Date(t.activeLicense.validUntil).toLocaleDateString(),". Enter a license key below to activate."]}),m.jsxs("form",{onSubmit:u,className:"mt-4 flex flex-col sm:flex-row gap-2",children:[m.jsx("input",{type:"text",value:a,onChange:w=>s(w.target.value),placeholder:"Enter full license key",className:"flex-1 bg-white dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded-lg p-2 text-sm"}),m.jsx("button",{type:"submit",className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700",children:"Activate"})]})]}):t.activeLicense?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-neutral-500",children:"Plan"}),m.jsx("p",{className:"font-semibold",children:t.activeLicense.planType})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-neutral-500",children:"Status"}),m.jsx("p",{className:"font-semibold text-green-600",children:t.activeLicense.status})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-neutral-500",children:"Valid Until"}),m.jsx("p",{className:"font-semibold",children:new Date(t.activeLicense.validUntil).toLocaleDateString()})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-neutral-500",children:"Registered Email"}),m.jsx("p",{className:"font-semibold truncate",children:t.activeLicense.emailLock})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Update or Renew License"}),m.jsxs("form",{onSubmit:l,className:"flex flex-col sm:flex-row gap-2",children:[m.jsx("input",{type:"text",value:a,onChange:w=>s(w.target.value),placeholder:"Enter new license key",className:"flex-1 bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"}),m.jsx("button",{type:"submit",className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700",children:"Update License"})]})]}),m.jsxs("div",{className:"pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[m.jsx("button",{onClick:t.onDeactivateLicense,className:"w-full md:w-auto text-sm text-red-600 dark:text-red-400 font-semibold py-2 px-4 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/40 border border-red-200 dark:border-red-800",children:"Deactivate License on This Device"}),m.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"This will log you out and require re-activation. Your data will be preserved."})]})]}):null]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-semibold text-neutral-800 dark:text-neutral-100 mb-2",children:"Device & Terminal Keys"}),m.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg text-blue-800 dark:text-blue-200 text-sm mb-6",children:"Generate access keys for your shop's terminals or employee devices."}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 items-end",children:[m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"block text-xs text-neutral-500 mb-1",children:"Device Name"}),m.jsx("input",{type:"text",value:d,onChange:w=>h(w.target.value),placeholder:"e.g., Main Counter",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5"})]}),m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"block text-xs text-neutral-500 mb-1",children:"Assign to Employee (Optional)"}),m.jsxs("select",{value:g,onChange:w=>y(w.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5",children:[m.jsx("option",{value:"",children:"Select Employee"}),c.map(w=>m.jsxs("option",{value:w.id,children:[w.name," (",w.role,")"]},w.id))]})]}),m.jsx("button",{onClick:v,disabled:i==="global",title:i==="global"?"Select a specific store first":"",className:"w-full sm:w-auto bg-primary-600 text-white font-semibold px-4 py-2.5 rounded-lg hover:bg-primary-700 whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Generate Key"})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"text-left p-2",children:"Device Name"}),m.jsx("th",{className:"text-left p-2",children:"Assigned To"}),m.jsx("th",{className:"text-left p-2",children:"Key"}),m.jsx("th",{className:"text-left p-2",children:"Status"}),m.jsx("th",{className:"text-right p-2",children:"Actions"})]})}),m.jsxs("tbody",{className:"divide-y dark:divide-neutral-700",children:[n.map(w=>m.jsxs("tr",{children:[m.jsx("td",{className:"p-2 font-medium",children:w.deviceName}),m.jsxs("td",{className:"p-2 text-neutral-600 dark:text-neutral-400",children:[w.assignedToUserName||"Unassigned",w.assignedToUserId&&!w.assignedToUserName.includes("(")&&(()=>{const b=c.find(_=>_.id===w.assignedToUserId);return b?` (${b.role})`:""})()]}),m.jsx("td",{className:"p-2 font-mono text-xs",children:w.key}),m.jsx("td",{className:"p-2",children:m.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${w.status==="Active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:w.status})}),m.jsx("td",{className:"p-2 text-right",children:w.status==="Active"&&m.jsx("button",{onClick:()=>x(w.id),className:"text-red-500 hover:underline text-xs",children:"Revoke"})})]},w.id)),n.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"p-4 text-center text-neutral-500",children:"No device keys generated yet."})})]})]})})]})]})},lde=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})}),ude=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})}),cde=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),dde=({onSuccess:t,onStartTrial:e,licenseDatabase:n})=>{const[r,i]=N.useState(""),[o,a]=N.useState(""),[s,l]=N.useState(""),[u,c]=N.useState(null),[d,h]=N.useState(!1),g=async v=>{v.preventDefault(),c(null),h(!0),await new Promise(T=>setTimeout(T,800));const x=r.trim(),w=o.trim().toLowerCase(),b=s.trim(),_=n.find(T=>T.key===x);if(!_){c("Invalid license key. Please check the key provided by your vendor."),h(!1);return}if(_.status==="Activated"&&_.emailLock&&_.emailLock.toLowerCase()!==w){c("This license key has already been activated for a different user."),h(!1);return}if(_.status==="Revoked"){c("This license key has been revoked. Please contact support."),h(!1);return}if(new Date(_.validUntil)<new Date){c("This license key has expired."),h(!1);return}if(_.emailLock){if(_.emailLock.toLowerCase()!==w){c("This license key is locked to a different email address."),h(!1);return}}else if(!w){c("Please enter your email address."),h(!1);return}h(!1),t({..._,businessNameLock:b||_.businessNameLock,emailLock:w})},y=()=>{confirm("Factory Reset: This will delete ALL data (products, sales, users) on this device and reset the license. This cannot be undone. Are you sure?")&&(localStorage.clear(),window.location.reload())};return m.jsxs("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-900 flex flex-col justify-center items-center p-4",children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-8 rounded-2xl shadow-xl w-full max-w-md",children:[m.jsx("div",{className:"flex justify-center mb-6",children:m.jsx("div",{className:"w-16 h-16 bg-primary-100 dark:bg-primary-900/50 rounded-full flex items-center justify-center text-primary-600 dark:text-primary-400",children:m.jsx(lde,{className:"w-8 h-8"})})}),m.jsx("h1",{className:"text-2xl font-bold text-center text-neutral-800 dark:text-neutral-100 mb-2",children:"Activate Zenith POS"}),m.jsx("p",{className:"text-center text-neutral-500 dark:text-neutral-400 mb-8 text-sm",children:"Enter your license details to activate the software."}),u&&m.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-3",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0",children:m.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),m.jsx("p",{className:"text-sm text-red-600 dark:text-red-300",children:u})]}),m.jsxs("form",{onSubmit:g,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email Address"}),m.jsxs("div",{className:"relative",children:[m.jsx(cde,{className:"absolute left-3 top-3 w-5 h-5 text-neutral-400"}),m.jsx("input",{type:"email",required:!0,value:o,onChange:v=>a(v.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 focus:ring-2 focus:ring-primary-500 outline-none transition-all dark:text-white",placeholder:"registered@email.com"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"License Key"}),m.jsx("input",{type:"text",required:!0,value:r,onChange:v=>i(v.target.value),className:"w-full px-4 py-3 rounded-lg bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 focus:ring-2 focus:ring-primary-500 outline-none transition-all font-mono text-sm dark:text-white",placeholder:"ZENITH-XXXX-XXXX-XXXX"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Business Name"}),m.jsx("input",{type:"text",value:s,onChange:v=>l(v.target.value),className:"w-full px-4 py-3 rounded-lg bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 focus:ring-2 focus:ring-primary-500 outline-none transition-all dark:text-white",placeholder:"e.g. My Awesome Shop"}),m.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Leave blank if not specified by vendor."})]}),m.jsx("button",{type:"submit",disabled:d,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 rounded-lg transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center",children:d?m.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:["Activate License",m.jsx(ude,{className:"w-5 h-5 ml-2"})]})})]}),m.jsxs("div",{className:"mt-6 pt-6 border-t border-neutral-200 dark:border-neutral-700 flex flex-col items-center gap-3",children:[m.jsx("button",{onClick:e,className:"text-primary-600 dark:text-primary-400 font-semibold text-sm hover:underline",children:"Start 7-Day Free Trial"}),m.jsx("button",{onClick:y,className:"text-red-500 text-xs hover:underline",children:"Trouble logging in? Factory Reset"})]})]}),m.jsxs("div",{className:"mt-8 text-center text-neutral-500 dark:text-neutral-400 text-sm",children:[m.jsx("p",{children:"Need a license? Contact Sales"}),m.jsx("p",{className:"mt-1 font-medium",children:"ziauddin537000@gmail.com"})]})]})},{BuildingStorefrontIcon:fde}=rs,hde=({onLogin:t,onInitiateRegister:e,onInitiateForgotPassword:n,error:r,onClearError:i,noUsersFound:o,activeLicense:a,onDeactivateLicense:s})=>{const[l,u]=N.useState("login"),[c,d]=N.useState(""),[h,g]=N.useState(""),[y,v]=N.useState(""),[x,w]=N.useState("");N.useEffect(()=>{o&&u("register")},[o]);const b=E=>{u(E),i==null||i(),E==="login"&&g("")},_=E=>{switch(E.preventDefault(),l){case"login":t(c,h);break;case"register":if(h!==x){alert("Passwords do not match!");return}e(y,c,h);break;case"forgot_password":n(c);break}},T=()=>{if(o&&l==="register")return"Setup Admin Account";switch(l){case"login":return"Welcome Back";case"register":return"Create Account";case"forgot_password":return"Forgot Password"}},S=()=>{if(o&&l==="register")return"Create the first admin account for this shop.";switch(l){case"login":return"Please login to your account";case"register":return"Register your admin account";case"forgot_password":return"Enter your email to receive a reset link"}};return m.jsx("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-900 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 max-w-md w-full rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row max-w-4xl",children:[m.jsxs("div",{className:"bg-primary-600 p-8 md:w-1/2 flex flex-col justify-center items-center text-center text-white",children:[m.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-6 shadow-lg",children:m.jsx(fde,{className:"w-10 h-10 text-primary-600"})}),m.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Zenith POS"}),m.jsx("p",{className:"text-primary-100 mb-8",children:"Smart Business Management"}),m.jsxs("ul",{className:"text-left space-y-3 text-sm text-primary-50 hidden md:block",children:[m.jsx("li",{className:"flex items-center gap-2",children:" Real-time Inventory Tracking"}),m.jsx("li",{className:"flex items-center gap-2",children:" Offline Mode Support"}),m.jsx("li",{className:"flex items-center gap-2",children:" Multi-Shop Management"}),m.jsx("li",{className:"flex items-center gap-2",children:" AI-Powered Insights"})]})]}),m.jsxs("div",{className:"p-8 md:w-1/2 flex flex-col justify-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100 mb-1",children:T()}),m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-6",children:S()}),(a==null?void 0:a.emailLock)&&m.jsxs("div",{className:"mb-4 p-2 bg-blue-50 text-blue-800 rounded border border-blue-200 text-xs text-center",children:["Licensed to: ",m.jsx("strong",{children:a.emailLock})]}),r&&m.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm border border-red-200",children:r}),o&&l==="login"&&m.jsxs("div",{className:"mb-4 p-3 bg-amber-100 text-amber-800 rounded-lg text-sm border border-amber-200",children:["Fresh Install? Please ",m.jsx("button",{onClick:()=>b("register"),className:"font-bold underline",children:"Register"})," first."]}),m.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l==="register"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Full Name"}),m.jsx("input",{type:"text",required:!0,value:y,onChange:E=>v(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:"John Doe"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email Address"}),m.jsx("input",{type:"email",required:!0,value:c,onChange:E=>d(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:"name@company.com"})]}),["login","register"].includes(l)&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Password"}),m.jsx("input",{type:"password",required:!0,value:h,onChange:E=>g(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:""}),l==="login"&&m.jsx("div",{className:"text-right mt-1",children:m.jsx("button",{type:"button",onClick:()=>b("forgot_password"),className:"text-xs text-primary-600 hover:underline",children:"Forgot Password?"})})]}),l==="register"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Confirm Password"}),m.jsx("input",{type:"password",required:!0,value:x,onChange:E=>w(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:""})]}),m.jsxs("button",{type:"submit",className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors mt-2",children:[l==="login"&&"Sign In",l==="register"&&"Register Admin",l==="forgot_password"&&"Send Reset Link"]})]}),m.jsxs("div",{className:"mt-6 text-center text-sm text-neutral-500",children:[l==="login"&&m.jsxs(m.Fragment,{children:["Don't have an account?"," ",m.jsx("button",{onClick:()=>b("register"),className:"text-primary-600 font-semibold hover:underline",children:"Register"})]}),l==="register"&&!o&&m.jsxs(m.Fragment,{children:["Already have an account?"," ",m.jsx("button",{onClick:()=>b("login"),className:"text-primary-600 font-semibold hover:underline",children:"Login"})]}),l==="register"&&o&&m.jsx("p",{className:"text-xs italic",children:"Registration required for first use."}),l==="forgot_password"&&m.jsx("button",{onClick:()=>b("login"),className:"text-neutral-500 hover:text-neutral-800 font-medium",children:" Back to Login"})]}),s&&m.jsx("div",{className:"mt-8 pt-4 border-t border-neutral-100 text-center",children:m.jsx("button",{onClick:s,className:"text-red-500 text-xs hover:underline",children:"Wrong License? Deactivate & Change Key"})})]})]})})},pde=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),cT=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,mde=[["1","2","3","4","5","6","7","8","9","0","Backspace"],["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M",",",".","Enter"],["Space"]],gde=()=>{const[t,e]=N.useState(!1),[n,r]=N.useState(null),i=N.useRef(null);N.useEffect(()=>{if(!cT())return;const a=l=>{const u=l.target;(u.tagName==="INPUT"||u.tagName==="TEXTAREA")&&!u.getAttribute("readonly")&&(r(u),e(!0))},s=l=>{i.current&&i.current.contains(l.target)||n&&l.target===n||(e(!1),r(null))};return document.addEventListener("focusin",a),document.addEventListener("mousedown",s),()=>{document.removeEventListener("focusin",a),document.removeEventListener("mousedown",s)}},[n]);const o=a=>{var y;if(!n)return;const s=n.selectionStart||0,l=n.selectionEnd||0,u=n.value;let c=u,d=s;if(a==="Backspace")s===l&&s>0?(c=u.slice(0,s-1)+u.slice(s),d=s-1):(c=u.slice(0,s)+u.slice(l),d=s);else if(a==="Enter")if(n.tagName==="TEXTAREA")c=u.slice(0,s)+`
`+u.slice(l),d=s+1;else{e(!1);return}else if(a==="Space")c=u.slice(0,s)+" "+u.slice(l),d=s+1;else{const v=a;c=u.slice(0,s)+v+u.slice(l),d=s+1}const h=(y=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:y.set;h?h.call(n,c):n.value=c;const g=new Event("input",{bubbles:!0});n.dispatchEvent(g),n.focus(),n.setSelectionRange(d,d)};return!cT()||!t?null:m.jsxs("div",{ref:i,className:"fixed bottom-0 left-0 right-0 bg-neutral-200 dark:bg-neutral-900 border-t border-neutral-300 dark:border-neutral-700 p-2 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-[9999]",children:[m.jsx("div",{className:"flex justify-end mb-1",children:m.jsx("button",{onClick:()=>e(!1),className:"p-1 bg-red-500 text-white rounded hover:bg-red-600",children:m.jsx(pde,{className:"w-5 h-5"})})}),m.jsx("div",{className:"flex flex-col gap-1 max-w-5xl mx-auto",children:mde.map((a,s)=>m.jsx("div",{className:"flex justify-center gap-1",children:a.map(l=>{let u="w-10 sm:w-14";return l==="Space"&&(u="w-64 sm:w-80"),(l==="Backspace"||l==="Enter")&&(u="w-16 sm:w-24 bg-neutral-300 dark:bg-neutral-600"),m.jsx("button",{onMouseDown:c=>{c.preventDefault(),o(l)},className:`${u} h-10 sm:h-12 rounded bg-white dark:bg-neutral-700 text-neutral-800 dark:text-neutral-100 shadow-sm hover:bg-neutral-100 dark:hover:bg-neutral-600 active:bg-neutral-300 dark:active:bg-neutral-500 font-semibold text-sm sm:text-base transition-colors select-none`,children:l==="Backspace"?"":l},l)})},s))})]})};var $v=function(t,e){return $v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},$v(t,e)};function bN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$v(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var wf=function(){return wf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},wf.apply(this,arguments)};function _s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xN(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function _N(t,e){return function(n,r){e(n,r,t)}}function SN(t,e,n,r,i,o){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var s=r.kind,l=s==="getter"?"get":s==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,h=!1,g=n.length-1;g>=0;g--){var y={};for(var v in r)y[v]=v==="access"?{}:r[v];for(var v in r.access)y.access[v]=r.access[v];y.addInitializer=function(w){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(w||null))};var x=(0,n[g])(s==="accessor"?{get:c.get,set:c.set}:c[l],y);if(s==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(d=a(x.get))&&(c.get=d),(d=a(x.set))&&(c.set=d),(d=a(x.init))&&i.unshift(d)}else(d=a(x))&&(s==="field"?i.unshift(d):c[l]=d)}u&&Object.defineProperty(u,r.name,c),h=!0}function EN(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function TN(t){return typeof t=="symbol"?t:"".concat(t)}function AN(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function CN(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function le(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}function kN(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var jh=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function PN(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&jh(e,t,n)}function bf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ow(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function IN(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ow(arguments[e]));return t}function NN(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function ON(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Za(t){return this instanceof Za?(this.v=t,this):new Za(t)}function MN(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(y){return Promise.resolve(y).then(g,d)}}function s(g,y){r[g]&&(i[g]=function(v){return new Promise(function(x,w){o.push([g,v,x,w])>1||l(g,v)})},y&&(i[g]=y(i[g])))}function l(g,y){try{u(r[g](y))}catch(v){h(o[0][3],v)}}function u(g){g.value instanceof Za?Promise.resolve(g.value.v).then(c,d):h(o[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function h(g,y){g(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function RN(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(a){return(n=!n)?{value:Za(t[i](a)),done:!1}:o?o(a):a}:o}}function $N(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof bf=="function"?bf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}function DN(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var vde=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Dv=function(t){return Dv=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Dv(t)};function jN(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Dv(t),r=0;r<n.length;r++)n[r]!=="default"&&jh(e,t,n[r]);return vde(e,t),e}function LN(t){return t&&t.__esModule?t:{default:t}}function UN(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function BN(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function FN(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function VN(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var yde=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function zN(t){function e(o){t.error=t.hasError?new yde(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(a){return e(a),i()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function qN(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,a){return r?e?".jsx":".js":i&&(!o||!a)?n:i+o+"."+a.toLowerCase()+"js"}):t}const wde={__extends:bN,__assign:wf,__rest:_s,__decorate:xN,__param:_N,__esDecorate:SN,__runInitializers:EN,__propKey:TN,__setFunctionName:AN,__metadata:CN,__awaiter:le,__generator:kN,__createBinding:jh,__exportStar:PN,__values:bf,__read:ow,__spread:IN,__spreadArrays:NN,__spreadArray:ON,__await:Za,__asyncGenerator:MN,__asyncDelegator:RN,__asyncValues:$N,__makeTemplateObject:DN,__importStar:jN,__importDefault:LN,__classPrivateFieldGet:UN,__classPrivateFieldSet:BN,__classPrivateFieldIn:FN,__addDisposableResource:VN,__disposeResources:zN,__rewriteRelativeImportExtension:qN},bde=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:VN,get __assign(){return wf},__asyncDelegator:RN,__asyncGenerator:MN,__asyncValues:$N,__await:Za,__awaiter:le,__classPrivateFieldGet:UN,__classPrivateFieldIn:FN,__classPrivateFieldSet:BN,__createBinding:jh,__decorate:xN,__disposeResources:zN,__esDecorate:SN,__exportStar:PN,__extends:bN,__generator:kN,__importDefault:LN,__importStar:jN,__makeTemplateObject:DN,__metadata:CN,__param:_N,__propKey:TN,__read:ow,__rest:_s,__rewriteRelativeImportExtension:qN,__runInitializers:EN,__setFunctionName:AN,__spread:IN,__spreadArray:ON,__spreadArrays:NN,__values:bf,default:wde},Symbol.toStringTag,{value:"Module"})),xde=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class aw extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class _de extends aw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class dT extends aw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class fT extends aw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var jv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(jv||(jv={}));class Sde{constructor(e,{headers:n={},customFetch:r,region:i=jv.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=xde(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return le(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:g}=r;g||(g=this.region);const y=new URL(`${this.url}/${n}`);g&&g!=="any"&&(h["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let v;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(h["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(h["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;let x=c;d&&(a=new AbortController,o=setTimeout(()=>a.abort(),d),c?(x=a.signal,c.addEventListener("abort",()=>a.abort())):x=a.signal);const w=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:v,signal:x}).catch(S=>{throw new _de(S)}),b=w.headers.get("x-relay-error");if(b&&b==="true")throw new dT(w);if(!w.ok)throw new fT(w);let _=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return _==="application/json"?T=yield w.json():_==="application/octet-stream"||_==="application/pdf"?T=yield w.blob():_==="text/event-stream"?T=w:_==="multipart/form-data"?T=yield w.formData():T=yield w.text(),{data:T,error:null,response:w}}catch(s){return{data:null,error:s,response:s instanceof fT||s instanceof dT?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var Ht={};const Ss=RO(bde);var yc={},wc={},bc={},xc={},_c={},Sc={},hT;function GN(){if(hT)return Sc;hT=1,Object.defineProperty(Sc,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Sc.default=t,Sc}var pT;function HN(){if(pT)return _c;pT=1,Object.defineProperty(_c,"__esModule",{value:!0});const e=Ss.__importDefault(GN());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let s=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,d,h;let g=null,y=null,v=null,x=l.status,w=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=S:y=JSON.parse(S))}const _=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),T=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");_&&T&&T.length>1&&(v=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(g={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,v=null,x=406,w="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await l.text();try{g=JSON.parse(_),Array.isArray(g)&&l.status===404&&(y=[],g=null,x=200,w="OK")}catch{l.status===404&&_===""?(x=204,w="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((h=g==null?void 0:g.details)===null||h===void 0)&&h.includes("0 rows"))&&(g=null,x=200,w="OK"),g&&this.shouldThrowOnError)throw new e.default(g)}return{error:g,data:y,count:v,status:x,statusText:w}});return this.shouldThrowOnError||(s=s.catch(l=>{var u,c,d,h,g,y;let v="";const x=l==null?void 0:l.cause;if(x){const w=(u=x==null?void 0:x.message)!==null&&u!==void 0?u:"",b=(c=x==null?void 0:x.code)!==null&&c!==void 0?c:"";v=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,v+=`

Caused by: ${(h=x==null?void 0:x.name)!==null&&h!==void 0?h:"Error"}: ${w}`,b&&(v+=` (${b})`),x!=null&&x.stack&&(v+=`
${x.stack}`)}else v=(g=l==null?void 0:l.stack)!==null&&g!==void 0?g:"";return{error:{message:`${(y=l==null?void 0:l.name)!==null&&y!==void 0?y:"FetchError"}: ${l==null?void 0:l.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,o)}returns(){return this}overrideTypes(){return this}}return _c.default=n,_c}var mT;function WN(){if(mT)return xc;mT=1,Object.defineProperty(xc,"__esModule",{value:!0});const e=Ss.__importDefault(HN());class n extends e.default{select(i){let o=!1;const a=(i??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:a,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${o?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:a=o}={}){const s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,o,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:a=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var c;const d=[i?"analyze":null,o?"verbose":null,a?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return xc.default=n,xc}var gT;function sw(){if(gT)return bc;gT=1,Object.defineProperty(bc,"__esModule",{value:!0});const e=Ss.__importDefault(WN()),n=new RegExp("[,()]");class r extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const s=Array.from(new Set(a)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(o,`in.(${s})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:s,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(o,`${u}fts${c}.${a}`),this}match(o){return Object.entries(o).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(o,a,s){return this.url.searchParams.append(o,`not.${a}.${s}`),this}or(o,{foreignTable:a,referencedTable:s=a}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${o})`),this}filter(o,a,s){return this.url.searchParams.append(o,`${a}.${s}`),this}}return bc.default=r,bc}var vT;function KN(){if(vT)return wc;vT=1,Object.defineProperty(wc,"__esModule",{value:!0});const e=Ss.__importDefault(sw());class n{constructor(i,{headers:o={},schema:a,fetch:s}){this.url=i,this.headers=new Headers(o),this.schema=a,this.fetch=s}select(i,o){const{head:a=!1,count:s}=o??{},l=a?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:a=!0}={}){var s;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:a=!1,count:s,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:o}={}){var a;const s="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var o;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return wc.default=n,wc}var yT;function Ede(){if(yT)return yc;yT=1,Object.defineProperty(yc,"__esModule",{value:!0});const t=Ss,e=t.__importDefault(KN()),n=t.__importDefault(sw());class r{constructor(o,{headers:a={},schema:s,fetch:l}={}){this.url=o,this.headers=new Headers(a),this.schemaName=s,this.fetch=l}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:s=!1,get:l=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${o}`);let g;s||l?(d=s?"HEAD":"GET",Object.entries(a).filter(([v,x])=>x!==void 0).map(([v,x])=>[v,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([v,x])=>{h.searchParams.append(v,x)})):(d="POST",g=a);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new n.default({method:d,url:h,headers:y,schema:this.schemaName,body:g,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return yc.default=r,yc}Object.defineProperty(Ht,"__esModule",{value:!0});var JN=Ht.PostgrestError=oO=Ht.PostgrestBuilder=rO=Ht.PostgrestTransformBuilder=tO=Ht.PostgrestFilterBuilder=ZN=Ht.PostgrestQueryBuilder=XN=Ht.PostgrestClient=void 0;const Es=Ss,YN=Es.__importDefault(Ede());var XN=Ht.PostgrestClient=YN.default;const QN=Es.__importDefault(KN());var ZN=Ht.PostgrestQueryBuilder=QN.default;const eO=Es.__importDefault(sw());var tO=Ht.PostgrestFilterBuilder=eO.default;const nO=Es.__importDefault(WN());var rO=Ht.PostgrestTransformBuilder=nO.default;const iO=Es.__importDefault(HN());var oO=Ht.PostgrestBuilder=iO.default;const aO=Es.__importDefault(GN());JN=Ht.PostgrestError=aO.default;var sO=Ht.default={PostgrestClient:YN.default,PostgrestQueryBuilder:QN.default,PostgrestFilterBuilder:eO.default,PostgrestTransformBuilder:nO.default,PostgrestBuilder:iO.default,PostgrestError:aO.default};const Tde=MO({__proto__:null,get PostgrestBuilder(){return oO},get PostgrestClient(){return XN},get PostgrestError(){return JN},get PostgrestFilterBuilder(){return tO},get PostgrestQueryBuilder(){return ZN},get PostgrestTransformBuilder(){return rO},default:sO},[Ht]),{PostgrestClient:Ade,PostgrestQueryBuilder:Vhe,PostgrestFilterBuilder:zhe,PostgrestTransformBuilder:qhe,PostgrestBuilder:Ghe,PostgrestError:Hhe}=sO||Tde;class Cde{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const kde="2.83.0",Pde=`realtime-js/${kde}`,lO="1.0.0",Ide="2.0.0",wT=lO,Lv=1e4,Nde=1e3,Ode=100;var Ki;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ki||(Ki={}));var yt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(yt||(yt={}));var Nn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Nn||(Nn={}));var Uv;(function(t){t.websocket="websocket"})(Uv||(Uv={}));var Ji;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ji||(Ji={}));class Mde{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodePush(e){var n,r;const{event:i,topic:o,payload:a}=e,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=this.META_LENGTH+l.length+s.length+o.length+i.length,c=new ArrayBuffer(this.HEADER_LENGTH+u);let d=new DataView(c),h=0;d.setUint8(h++,this.KINDS.push),d.setUint8(h++,l.length),d.setUint8(h++,s.length),d.setUint8(h++,o.length),d.setUint8(h++,i.length),Array.from(l,y=>d.setUint8(h++,y.charCodeAt(0))),Array.from(s,y=>d.setUint8(h++,y.charCodeAt(0))),Array.from(o,y=>d.setUint8(h++,y.charCodeAt(0))),Array.from(i,y=>d.setUint8(h++,y.charCodeAt(0)));var g=new Uint8Array(c.byteLength+a.byteLength);return g.set(new Uint8Array(c),0),g.set(new Uint8Array(a),c.byteLength),g.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r,i,o;const a=e.topic,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,c=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let g=new DataView(h),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,l.length),g.setUint8(y++,s.length),g.setUint8(y++,a.length),g.setUint8(y++,u.length),g.setUint8(y++,this.BINARY_ENCODING),Array.from(l,x=>g.setUint8(y++,x.charCodeAt(0))),Array.from(s,x=>g.setUint8(y++,x.charCodeAt(0))),Array.from(a,x=>g.setUint8(y++,x.charCodeAt(0))),Array.from(u,x=>g.setUint8(y++,x.charCodeAt(0)));var v=new Uint8Array(h.byteLength+c.byteLength);return v.set(new Uint8Array(h),0),v.set(new Uint8Array(c),h.byteLength),v.buffer}_encodeJsonUserBroadcastPush(e){var n,r,i,o;const a=e.topic,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,c=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer,g=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length,y=new ArrayBuffer(this.HEADER_LENGTH+g);let v=new DataView(y),x=0;v.setUint8(x++,this.KINDS.userBroadcastPush),v.setUint8(x++,l.length),v.setUint8(x++,s.length),v.setUint8(x++,a.length),v.setUint8(x++,u.length),v.setUint8(x++,this.JSON_ENCODING),Array.from(l,b=>v.setUint8(x++,b.charCodeAt(0))),Array.from(s,b=>v.setUint8(x++,b.charCodeAt(0))),Array.from(a,b=>v.setUint8(x++,b.charCodeAt(0))),Array.from(u,b=>v.setUint8(x++,b.charCodeAt(0)));var w=new Uint8Array(y.byteLength+h.byteLength);return w.set(new Uint8Array(y),0),w.set(new Uint8Array(h),y.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,n,i);case this.KINDS.reply:return this._decodeReply(e,n,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodePush(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3);let s=this.HEADER_LENGTH+this.META_LENGTH-1;const l=r.decode(e.slice(s,s+i));s=s+i;const u=r.decode(e.slice(s,s+o));s=s+o;const c=r.decode(e.slice(s,s+a));s=s+a;const d=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{join_ref:l,ref:null,topic:u,event:c,payload:d}}_decodeReply(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const h=r.decode(e.slice(l,l+s));l=l+s;const g=JSON.parse(r.decode(e.slice(l,e.byteLength))),y={status:h,response:g};return{join_ref:u,ref:c,topic:d,event:Nn.reply,payload:y}}_decodeBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const s=r.decode(e.slice(a,a+i));a=a+i;const l=r.decode(e.slice(a,a+o));a=a+o;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{join_ref:null,ref:null,topic:s,event:l,payload:u}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),g=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,y={type:this.BROADCAST,event:c,payload:g};return a>0&&(y.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class uO{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Be||(Be={}));const bT=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=Rde(a,t,e,i),o),{}):{}},Rde=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?cO(o,a):Bv(a)},cO=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Lde(e,n)}switch(t){case Be.bool:return $de(e);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return Dde(e);case Be.json:case Be.jsonb:return jde(e);case Be.timestamp:return Ude(e);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Bv(e);default:return Bv(e)}},Bv=t=>t,$de=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Dde=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},jde=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Lde=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>cO(e,s))}return t},Ude=t=>typeof t=="string"?t.replace(" ","T"):t,dO=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Yp{constructor(e,n,r={},i=Lv){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xT;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(xT||(xT={}));class yl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yl.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=yl.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=yl.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=o[u];if(d){const h=c.map(x=>x.presence_ref),g=d.map(x=>x.presence_ref),y=c.filter(x=>g.indexOf(x.presence_ref)<0),v=d.filter(x=>h.indexOf(x.presence_ref)<0);y.length>0&&(s[u]=y),v.length>0&&(l[u]=v)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const d=e[s].map(g=>g.presence_ref),h=c.filter(g=>d.indexOf(g.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _T;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(_T||(_T={}));var wl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(wl||(wl={}));var Er;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Er||(Er={}));class lw{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Yp(this,Nn.join,this.params,this.timeout),this.rejoinTimer=new uO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new yl(this),this.broadcastEndpointURL=dO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==yt.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[wl.PRESENCE]&&this.bindings[wl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Er.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Er.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){e==null||e(Er.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,w=[];for(let b=0;b<x;b++){const _=v[b],{filter:{event:T,schema:S,table:E,filter:A}}=_,C=g&&g[b];if(C&&C.event===T&&C.schema===S&&C.table===E&&C.filter===A)w.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=yt.errored,e==null||e(Er.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Er.SUBSCRIBED);return}}).receive("error",g=>{this.state=yt.errored,e==null||e(Er.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Er.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===yt.joined&&e===wl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Yp(this,Nn.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Yp(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ode){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Nn;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var y,v,x;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(v=g.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(g=>g.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var y,v,x,w,b,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const T=g.id,S=(y=g.filter)===null||y===void 0?void 0:y.event;return T&&((v=n.ids)===null||v===void 0?void 0:v.includes(T))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const T=(b=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return T==="*"||T===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:v,table:x,commit_timestamp:w,type:b,errors:_}=y;h=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:w,eventType:b,new:{},old:{},errors:_}),this._getPayloadRecords(y))}g.callback(h,r)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&lw.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Nn.close,{},e)}_onError(e){this._on(Nn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=bT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=bT(e.columns,e.old_record)),n}}const Xp=()=>{},Ec={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Bde=[1e3,2e3,5e3,1e4],Fde=1e4,Vde=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zde{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lv,this.transport=null,this.heartbeatIntervalMs=Ec.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xp,this.ref=0,this.reconnectTimer=null,this.vsn=wT,this.logger=Xp,this.conn=null,this.sendBuffer=[],this.serializer=new Mde,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Uv.websocket}`,this.httpEndpoint=dO(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Cde.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ki.connecting:return Ji.Connecting;case Ki.open:return Ji.Open;case Ki.closing:return Ji.Closing;default:return Ji.Closed}}isConnected(){return this.connectionState()===Ji.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new lw(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Nde,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ec.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ki.open||this.conn.readyState===Ki.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Nn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Vde],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Pde};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Nn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new uO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ec.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,u,c,d,h,g;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Lv,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Ec.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Xp,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:wT,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>Bde[y-1]||Fde,this.vsn){case lO:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(y,v)=>v(JSON.stringify(y)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(y,v)=>v(JSON.parse(y));break;case Ide:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class uw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function rt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class qde extends uw{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fv extends uw{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const cw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Gde=()=>Response,Vv=t=>{if(Array.isArray(t))return t.map(n=>Vv(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Vv(r)}),e},Hde=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Qp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Wde=(t,e,n)=>le(void 0,void 0,void 0,function*(){const r=yield Gde();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const o=t.status||500,a=(i==null?void 0:i.statusCode)||o+"";e(new qde(Qp(i),o,a))}).catch(i=>{e(new Fv(Qp(i),i))}):e(new Fv(Qp(t),t))}),Kde=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(Hde(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Du(t,e,n,r,i,o){return le(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(n,Kde(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>Wde(l,s,r))})})}function yu(t,e,n,r){return le(this,void 0,void 0,function*(){return Du(t,"GET",e,n,r)})}function Jn(t,e,n,r,i){return le(this,void 0,void 0,function*(){return Du(t,"POST",e,r,i,n)})}function zv(t,e,n,r,i){return le(this,void 0,void 0,function*(){return Du(t,"PUT",e,r,i,n)})}function Jde(t,e,n,r){return le(this,void 0,void 0,function*(){return Du(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function dw(t,e,n,r,i){return le(this,void 0,void 0,function*(){return Du(t,"DELETE",e,r,i,n)})}class Yde{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rt(e))return{data:null,error:e};throw e}})}}var fO;class Xde{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[fO]="BlobDownloadBuilder",this.promise=null}asStream(){return new Yde(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rt(e))return{data:null,error:e};throw e}})}}fO=Symbol.toStringTag;const Qde={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ST={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zde{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=cw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return le(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},ST),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(e=="PUT"?zv:Jn)(this.fetch,`${this.url}/object/${c}`,o,Object.assign({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(rt(o))return{data:null,error:o};throw o}})}upload(e,n,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return le(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),a=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:ST.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield zv(this.fetch,s.toString(),l,{headers:c});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(rt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return le(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Jn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new uw("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}update(e,n,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return le(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}copy(e,n,r){return le(this,void 0,void 0,function*(){try{return{data:{path:(yield Jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return le(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Jn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return le(this,void 0,void 0,function*(){try{const i=yield Jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"",s=this._getFinalPath(e),l=()=>yu(this.fetch,`${this.url}/${i}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new Xde(l,this.shouldThrowOnError)}info(e){return le(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield yu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Vv(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}exists(e){return le(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Jde(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r)&&r instanceof Fv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(e){return le(this,void 0,void 0,function*(){try{return{data:yield dw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}list(e,n,r){return le(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Qde),n),{prefix:e||""});return{data:yield Jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}listV2(e,n){return le(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Jn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const hO="2.83.0",pO={"X-Client-Info":`storage-js/${hO}`};class efe{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pO),n),this.fetch=cw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return le(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield yu(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}getBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield yu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}createBucket(e){return le(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Jn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return le(this,void 0,void 0,function*(){try{return{data:yield zv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield dw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class tfe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pO),n),this.fetch=cw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}listBuckets(e){return le(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield yu(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield dw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}}const fw={"X-Client-Info":`storage-js/${hO}`,"Content-Type":"application/json"};class mO extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function mn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Zp extends mO{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nfe extends mO{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var ET;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(ET||(ET={}));const hw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rfe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},TT=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ife=(t,e,n)=>le(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new Zp(TT(a),i,s))}).catch(()=>{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new Zp(s,i,a))});else{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new Zp(s,i,a))}}else e(new nfe(TT(t),t))}),ofe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(rfe(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function afe(t,e,n,r,i,o){return le(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(n,ofe(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>ife(l,s,r))})})}function gn(t,e,n,r,i){return le(this,void 0,void 0,function*(){return afe(t,"POST",e,r,i,n)})}class sfe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fw),n),this.fetch=hw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return le(this,void 0,void 0,function*(){try{return{data:(yield gn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return le(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}})}listIndexes(e){return le(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return le(this,void 0,void 0,function*(){try{return{data:(yield gn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}})}}class lfe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fw),n),this.fetch=hw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return le(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield gn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mn(n))return{data:null,error:n};throw n}})}getVectors(e){return le(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mn(n))return{data:null,error:n};throw n}})}listVectors(e){return le(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield gn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mn(n))return{data:null,error:n};throw n}})}queryVectors(e){return le(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return le(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield gn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mn(n))return{data:null,error:n};throw n}})}}class ufe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fw),n),this.fetch=hw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return le(this,void 0,void 0,function*(){try{return{data:(yield gn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mn(n))return{data:null,error:n};throw n}})}getBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mn(n))return{data:null,error:n};throw n}})}listBuckets(){return le(this,arguments,void 0,function*(e={}){try{return{data:yield gn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:(yield gn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mn(n))return{data:null,error:n};throw n}})}}class cfe extends ufe{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new dfe(this.url,this.headers,e,this.fetch)}}class dfe extends sfe{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return le(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return le(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return le(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return le(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new ffe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class ffe extends lfe{constructor(e,n,r,i,o){super(e,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return le(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return le(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return le(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return le(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return le(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class hfe extends efe{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new Zde(this.url,this.headers,e,this.fetch)}get vectors(){return new cfe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tfe(this.url+"/iceberg",this.headers,this.fetch)}}const pfe="2.83.0";let el="";typeof Deno<"u"?el="deno":typeof document<"u"?el="web":typeof navigator<"u"&&navigator.product==="ReactNative"?el="react-native":el="node";const mfe={"X-Client-Info":`supabase-js-${el}/${pfe}`},gfe={headers:mfe},vfe={schema:"public"},yfe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wfe={},bfe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),xfe=()=>Headers,_fe=(t,e,n)=>{const r=bfe(n),i=xfe();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},a),{headers:u}))}};function Sfe(t){return t.endsWith("/")?t:t+"/"}function Efe(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},c),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Tfe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Sfe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const gO="2.83.0",Vo=30*1e3,qv=3,em=qv*Vo,Afe="http://localhost:9999",Cfe="supabase.auth.token",kfe={"X-Client-Info":`gotrue-js/${gO}`},Gv="X-Supabase-Api-Version",vO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Pfe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ife=10*60*1e3;class wu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function de(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Nfe extends wu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Ofe(t){return de(t)&&t.name==="AuthApiError"}class Yi extends wu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Oi extends wu{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class un extends Oi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mfe(t){return de(t)&&t.name==="AuthSessionMissingError"}class jo extends Oi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tc extends Oi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ac extends Oi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Rfe(t){return de(t)&&t.name==="AuthImplicitGrantRedirectError"}class AT extends Oi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hv extends Oi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function tm(t){return de(t)&&t.name==="AuthRetryableFetchError"}class CT extends Oi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Wv extends Oi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const xf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kT=` 	
\r=`.split(""),$fe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<kT.length;e+=1)t[kT[e].charCodeAt(0)]=-2;for(let e=0;e<xf.length;e+=1)t[xf[e].charCodeAt(0)]=e;return t})();function PT(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(xf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(xf[r]),e.queuedBits-=6}}function yO(t,e,n){const r=$fe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function IT(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{Lfe(a,r,n)};for(let a=0;a<t.length;a+=1)yO(t.charCodeAt(a),i,o);return e.join("")}function Dfe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function jfe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Dfe(r,e)}}function Lfe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ba(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)yO(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Ufe(t){const e=[];return jfe(t,n=>e.push(n)),new Uint8Array(e)}function oo(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>PT(i,n,r)),PT(null,n,r),e.join("")}function Bfe(t){return Math.round(Date.now()/1e3)+t}function Ffe(){return Symbol("auth-callback")}const Ot=()=>typeof window<"u"&&typeof document<"u",Ui={tested:!1,writable:!1},wO=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ui.tested)return Ui.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ui.tested=!0,Ui.writable=!0}catch{Ui.tested=!0,Ui.writable=!1}return Ui.writable};function Vfe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const bO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),zfe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",zo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Bi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Zr=async(t,e)=>{await t.removeItem(e)};class Lh{constructor(){this.promise=new Lh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Lh.promiseConstructor=Promise;function nm(t){const e=t.split(".");if(e.length!==3)throw new Wv("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Pfe.test(e[r]))throw new Wv("JWT not in base64url format");return{header:JSON.parse(IT(e[0])),payload:JSON.parse(IT(e[1])),signature:ba(e[2]),raw:{header:e[0],payload:e[1]}}}async function qfe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Gfe(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function Hfe(t){return("0"+t.toString(16)).substr(-2)}function Wfe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Hfe).join("")}async function Kfe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Jfe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Kfe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lo(t,e,n=!1){const r=Wfe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await zo(t,`${e}-code-verifier`,i);const o=await Jfe(r);return[o,r===o?"plain":"s256"]}const Yfe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xfe(t){const e=t.headers.get(Gv);if(!e||!e.match(Yfe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Qfe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Zfe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ehe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Uo(t){if(!ehe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rm(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function the(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function NT(t){return JSON.parse(JSON.stringify(t))}const Hi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nhe=[502,503,504];async function OT(t){var e;if(!zfe(t))throw new Hv(Hi(t),0);if(nhe.includes(t.status))throw new Hv(Hi(t),t.status);let n;try{n=await t.json()}catch(o){throw new Yi(Hi(o),o)}let r;const i=Xfe(t);if(i&&i.getTime()>=vO["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new CT(Hi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new un}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new CT(Hi(n),t.status,n.weak_password.reasons);throw new Nfe(Hi(n),t.status||500,r)}const rhe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ge(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Gv]||(o[Gv]=vO["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await ihe(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function ihe(t,e,n,r,i,o){const a=rhe(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new Hv(Hi(l),0)}if(s.ok||await OT(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await OT(l)}}function Wn(t){var e;let n=null;she(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Bfe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function MT(t){const e=Wn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function si(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ohe(t){return{data:t,error:null}}function ahe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=_s(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function RT(t){return t}function she(t){return t.access_token&&t.refresh_token&&t.expires_in}const im=["global","local","others"];class lhe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=bO(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=im[0]){if(im.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${im.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:si})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=_s(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ahe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(de(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:si})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:RT});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(de(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Uo(e);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:si})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Uo(e);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:si})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Uo(e);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:si})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Uo(e.userId);try{const{data:n,error:r}=await ge(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Uo(e.userId),Uo(e.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:RT});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(de(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}}function $T(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Bo={debug:!!(globalThis&&wO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class uhe extends xO{}async function che(t,e,n){Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new uhe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Bo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function dhe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _O(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function fhe(t){return parseInt(t,16)}function hhe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function phe(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=_O(t.address),y=c?`${c}://${r}`:r,v=t.statement?`${t.statement}
`:"",x=`${y} wants you to sign in with your Ethereum account:
${g}

${v}`;let w=`URI: ${d}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),s&&(w+=`
Not Before: ${s.toISOString()}`),l&&(w+=`
Request ID: ${l}`),u){let b=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);b+=`
- ${_}`}w+=b}return`${x}
${w}`}class ht extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class _f extends ht{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function mhe({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ht({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(SO(a)){if(o.rp.id!==a)return new ht({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ghe({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ht({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(SO(r)){if(n.rpId!==r)return new ht({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class vhe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const yhe=new vhe;function whe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=_s(t,["challenge","user","excludeCredentials"]),o=ba(e).buffer,a=Object.assign(Object.assign({},n),{id:ba(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ba(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function bhe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=_s(t,["challenge","allowCredentials"]),i=ba(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:ba(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function xhe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:oo(new Uint8Array(t.response.attestationObject)),clientDataJSON:oo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _he(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:oo(new Uint8Array(i.authenticatorData)),clientDataJSON:oo(new Uint8Array(i.clientDataJSON)),signature:oo(new Uint8Array(i.signature)),userHandle:i.userHandle?oo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function SO(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function DT(){var t,e;return!!(Ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function She(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new _f("Browser returned unexpected credential type",e)}:{data:null,error:new _f("Empty credential response",e)}}catch(e){return{data:null,error:mhe({error:e,options:t})}}}async function Ehe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new _f("Browser returned unexpected credential type",e)}:{data:null,error:new _f("Empty credential response",e)}}catch(e){return{data:null,error:ghe({error:e,options:t})}}}const The={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ahe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=Sf(s,a):r[o]=Sf(a)}else r[o]=a}return r}function Che(t,e){return Sf(The,t,e||{})}function khe(t,e){return Sf(Ahe,t,e||{})}class Phe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??yhe.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Che(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:c,error:d}=await She({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=khe(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:c,error:d}=await Ehe(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(a){return de(a)?{data:null,error:a}:{data:null,error:new Yi("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new wu("rpId is required for WebAuthn authentication")};try{if(!DT())return{data:null,error:new Yi("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return de(a)?{data:null,error:a}:{data:null,error:new Yi("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new wu("rpId is required for WebAuthn registration")};try{if(!DT())return{data:null,error:new Yi("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return de(a)?{data:null,error:a}:{data:null,error:new Yi("Unexpected error in register",a)}}}}dhe();const Ihe={url:Afe,storageKey:Cfe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kfe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function jT(t,e,n){return await n()}const Fo={};class bu{get jwks(){var e,n;return(n=(e=Fo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Fo[this.storageKey]=Object.assign(Object.assign({},Fo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Fo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Fo[this.storageKey]=Object.assign(Object.assign({},Fo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Ihe),e);if(this.storageKey=o.storageKey,this.instanceID=(n=bu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,bu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Ot()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new lhe({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=bO(o.fetch),this.lock=o.lock||jT,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Ot()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=che:this.lock=jT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Phe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:wO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$T(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=$T(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gO}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Ot()&&(n=Vfe(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ot()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Rfe(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return de(n)?this._returnResult({error:n}):this._returnResult({error:new Yi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Wn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(de(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:c,password:d,options:h}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Lo(this.storage,this.storageKey)),o=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:y},xform:Wn})}else if("phone"in e){const{phone:c,password:d,options:h}=e;o=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Wn})}else throw new Tc("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(de(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:MT})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:MT})}else throw new Tc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new jo;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,u,c,d,h;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:v,wallet:x,statement:w,options:b}=e;let _;if(Ot())if(typeof x=="object")_=x;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")_=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const T=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=_O(S[0]);let A=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const k=await _.request({method:"eth_chainId"});A=fhe(k)}const C={domain:T.host,address:E,statement:w,uri:T.href,version:"1",chainId:A,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.resources};g=phe(C),y=await _.request({method:"personal_sign",params:[hhe(g),E]})}try{const{data:v,error:x}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:y},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Wn});if(x)throw x;if(!v||!v.session||!v.user){const w=new jo;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(de(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var n,r,i,o,a,s,l,u,c,d,h,g;let y,v;if("message"in e)y=e.message,v=e.signature;else{const{chain:x,wallet:w,statement:b,options:_}=e;let T;if(Ot())if(typeof w=="object")T=w;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))T=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=w}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const E=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)y=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),v=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await T.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=E}}try{const{data:x,error:w}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:oo(v)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Wn});if(w)throw w;if(!x||!x.session||!x.user){const b=new jo;return this._returnResult({data:{user:null,session:null},error:b})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(de(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const n=await Bi(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:a}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Wn});if(await Zr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new jo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(de(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Wn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new jo;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Lo(this.storage,this.storageKey));const{error:d}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Tc("You must provide either an email or phone number.")}catch(s){if(de(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Wn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(de(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Lo(this.storage,this.storageKey));const u=await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:ohe});return!((o=u.data)===null||o===void 0)&&o.url&&Ot()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new un;const{error:i}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(de(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new Tc("You must provide either an email or phone number and a type")}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Bi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<em:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Bi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=rm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=the(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:si}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new un}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:si})})}catch(n){if(de(n))return Mfe(n)&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new un;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await Lo(this.storage,this.storageKey));const{data:u,error:c}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:si});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(de(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new un;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=nm(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(de(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new un;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Ot())throw new Ac("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ac(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new AT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ac("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new AT("No code detected.");const{data:b,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=e;if(!o||!s||!a||!u)throw new Ac("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let h=c+d;l&&(h=parseInt(l));const g=h-c;g*1e3<=Vo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const y=h-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:v,error:x}=await this._getUser(o);if(x)throw x;const w={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(r){if(de(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Bi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(Ofe(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Ffe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Lo(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(de(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:d,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Ot()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(de(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=e,d=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Wn}),{data:h,error:g}=d;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new jo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(de(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Gfe(async i=>(i>0&&await qfe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&tm(o)&&Date.now()+a-r<Vo})}catch(r){if(this._debug(n,"error",r),de(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ot()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Bi(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Bi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await zo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:rm()}else if(i&&!i.user&&!i.user){const a=await Bi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Zr(this.storage,this.storageKey+"-user"),await zo(this.storage,this.storageKey,i)):i.user=rm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<em;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${em}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),tm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Lh;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new un;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),de(o)){const a={data:null,error:o};return tm(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await zo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=NT(i);await zo(this.storage,this.storageKey,o)}else{const i=NT(n);await zo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Zr(this.storage,this.storageKey),await Zr(this.storage,this.storageKey+"-code-verifier"),await Zr(this.storage,this.storageKey+"-user"),this.userStorage&&await Zr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Vo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Vo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Vo}ms, refresh threshold is ${qv} ticks`),i<=qv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await Lo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await ge(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?xhe(e.webauthn.credential_response):_he(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:whe(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:bhe(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=nm(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new un})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new un});const a=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Ot()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new un});const a=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Ot()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new un})})}catch(e){if(de(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new un})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+Ife>i)return r;const{data:o,error:a}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:y}=await this.getSession();if(y||!g.session)return this._returnResult({data:null,error:y});r=g.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=nm(r);n!=null&&n.allowExpired||Qfe(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:i,signature:a},error:null}}const c=Zfe(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,Ufe(`${s}.${l}`)))throw new Wv("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}}bu.nextInstanceID={};const Nhe=bu;class Ohe extends Nhe{constructor(e){super(e)}}class Mhe{constructor(e,n,r){var i,o,a;this.supabaseUrl=e,this.supabaseKey=n;const s=Tfe(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:vfe,realtime:wfe,auth:Object.assign(Object.assign({},yfe),{storageKey:l}),global:gfe},c=Efe(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=c.global.headers)!==null&&o!==void 0?o:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=c.auth)!==null&&a!==void 0?a:{},this.headers,c.global.fetch),this.fetch=_fe(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Ade(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new hfe(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Sde(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:a,flowType:s,lock:l,debug:u,throwOnError:c},d,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ohe({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:s,lock:l,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new zde(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Rhe=(t,e,n)=>new Mhe(t,e,n);function $he(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}$he()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Dhe={VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3d3R4Y2NndGtmYXhhbWRlc2FwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1MzExNzQsImV4cCI6MjA3OTEwNzE3NH0.9k0oqOZDctqpI22FhLsq-Y2Rz2Ak51bzYkb46nRQizQ",VITE_SUPABASE_URL:"https://twwtxccgtkfaxamdesap.supabase.co"},EO=Dhe||{},TO=EO.VITE_SUPABASE_URL,AO=EO.VITE_SUPABASE_ANON_KEY,Ws=!!TO&&!!AO,jhe=TO||"https://placeholder.supabase.co",Lhe=AO||"placeholder",Ks=Rhe(jhe,Lhe);function ur(t,e){try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.error(`Error loading ${t} from storage`,n),e}}const Uhe=({message:t,type:e,onClose:n})=>m.jsxs("div",{className:`fixed bottom-6 right-6 z-50 px-6 py-4 rounded-lg shadow-xl text-white font-semibold flex items-center gap-3 transition-all transform duration-300 ${e==="success"?"bg-green-600":"bg-neutral-800"}`,children:[e==="success"?m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-13a.75.75 0 00-1.5 0v5a.75.75 0 001.5 0V5zm-.75 9.75a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),m.jsx("span",{children:t}),m.jsx("button",{onClick:n,className:"ml-2 hover:text-neutral-300",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]});function Bhe(){const[t,e]=N.useState(null),[n,r]=N.useState(!0),[i,o]=N.useState(!1),[a,s]=N.useState(()=>ur("zenith_license_database",[])),[l,u]=N.useState(null),[c,d]=N.useState(null),[h,g]=N.useState(!0),[y,v]=N.useState(()=>ur("zenith_stores",E$)),[x,w]=N.useState(()=>ur("zenith_users",Tb)),[b,_]=N.useState(()=>ur("zenith_products",T$)),[T,S]=N.useState(()=>ur("zenith_customers",A$)),[E,A]=N.useState(()=>ur("zenith_suppliers",O$)),[C,k]=N.useState(()=>ur("zenith_pos",M$)),[P,O]=N.useState(()=>ur("zenith_sales",C$)),[R,j]=N.useState(()=>ur("zenith_expenses",R$)),[B,D]=N.useState(()=>ur("zenith_licenses",I$)),[M,L]=N.useState(N$),[$,U]=N.useState(null),[H,Y]=N.useState([]),[W,te]=N.useState(null),[ve,xe]=N.useState("dashboard"),[Ie,tt]=N.useState(!1),[Ne,z]=N.useState(!1),[Z,ne]=N.useState("Zenith POS"),[F,Te]=N.useState(null),[V,ce]=N.useState("global"),[ye,Re]=N.useState("en"),[nt,It]=N.useState("USD"),[jt,Et]=N.useState(navigator.onLine);N.useEffect(()=>localStorage.setItem("zenith_stores",JSON.stringify(y)),[y]),N.useEffect(()=>localStorage.setItem("zenith_users",JSON.stringify(x)),[x]),N.useEffect(()=>localStorage.setItem("zenith_products",JSON.stringify(b)),[b]),N.useEffect(()=>localStorage.setItem("zenith_customers",JSON.stringify(T)),[T]),N.useEffect(()=>localStorage.setItem("zenith_suppliers",JSON.stringify(E)),[E]),N.useEffect(()=>localStorage.setItem("zenith_pos",JSON.stringify(C)),[C]),N.useEffect(()=>localStorage.setItem("zenith_sales",JSON.stringify(P)),[P]),N.useEffect(()=>localStorage.setItem("zenith_expenses",JSON.stringify(R)),[R]),N.useEffect(()=>localStorage.setItem("zenith_licenses",JSON.stringify(B)),[B]),N.useEffect(()=>localStorage.setItem("zenith_license_database",JSON.stringify(a)),[a]),N.useEffect(()=>{l?localStorage.setItem("zenith_current_user",JSON.stringify(l)):localStorage.removeItem("zenith_current_user")},[l]),N.useEffect(()=>{if(W){const J=setTimeout(()=>te(null),3e3);return()=>clearTimeout(J)}},[W]),N.useEffect(()=>{const J=()=>{Et(!0),L(ae=>[{id:`n-net-${Date.now()}`,title:"Back Online",message:"Connection restored. Syncing data...",timestamp:new Date().toISOString(),read:!1},...ae])},oe=()=>{Et(!1),L(ae=>[{id:`n-net-${Date.now()}`,title:"Offline Mode",message:"You are offline. Changes will be saved locally.",timestamp:new Date().toISOString(),read:!1},...ae])};return window.addEventListener("online",J),window.addEventListener("offline",oe),()=>{window.removeEventListener("online",J),window.removeEventListener("offline",oe)}},[]),N.useEffect(()=>{(async()=>{const oe=localStorage.getItem("zenith_master_license");let ae=null;if(oe)try{const ue=JSON.parse(oe);ue&&ue.key&&ue.validUntil&&(new Date(ue.validUntil)>new Date?(ae=ue,e(ue),o(!1)):localStorage.removeItem("zenith_master_license"))}catch{localStorage.removeItem("zenith_master_license")}if(ae){const ue=localStorage.getItem("zenith_current_user");if(ue)try{const Q=JSON.parse(ue);ae.emailLock&&Q.email.trim().toLowerCase()!==ae.emailLock.trim().toLowerCase()?localStorage.removeItem("zenith_current_user"):u(Q)}catch{localStorage.removeItem("zenith_current_user")}}r(!1),g(!1)})()},[]);const Zt=async()=>{if(Ws)try{await Ks.auth.signOut()}catch{console.warn("Supabase signout failed (likely offline)")}u(null),localStorage.removeItem("zenith_current_user"),xe("dashboard")},En=()=>{confirm("Are you sure you want to deactivate the license on this device? You will need to enter the license key again.")&&(e(null),u(null),localStorage.removeItem("zenith_master_license"),localStorage.removeItem("zenith_current_user"),localStorage.removeItem("zenith_trial_start"),window.location.reload())},ct=J=>{const oe=a.find(ue=>ue.key===J.trim());if(!oe)return alert("Invalid License Key"),!1;const ae={...oe,status:"Activated",activationDate:new Date().toISOString(),organizationId:t==null?void 0:t.organizationId};return e(ae),localStorage.setItem("zenith_master_license",JSON.stringify(ae)),o(!1),!0},Tn=(J,oe)=>{const ae=a.find(ue=>ue.key===J.trim());return ae?oe?(Uu(ae),!0):ct(J):(alert("Invalid License Key."),!1)},ju=async(J,oe)=>{var Q,fe,he,Nt;d(null);const ae=J.trim().toLowerCase();if(J==="superadmin@zenith.com"&&oe==="superadmin123!"){const We=Tb.find(Xr=>Xr.email==="superadmin@zenith.com");if(We){u(We),xe("settings");return}}if(t&&t.emailLock&&ae!==t.emailLock.trim().toLowerCase()){d(`This device is licensed to ${t.emailLock}. Please log in with that email.`);return}if(x.length===0){d("No users found. Please Register a new account first.");return}const ue=x.find(We=>We.email.toLowerCase()===ae&&We.password===oe);if(ue){if(t&&!t.emailLock){const We={...t,emailLock:ae};e(We),localStorage.setItem("zenith_master_license",JSON.stringify(We)),s(Xr=>Xr.map(Ri=>Ri.key===We.key?{...Ri,emailLock:ae}:Ri)),console.log("Legacy license auto-healed and locked to:",ae)}u(ue),xe("dashboard");return}if(Ws)try{const{data:We,error:Xr}=await Ks.auth.signInWithPassword({email:J,password:oe,options:{captchaToken:void 0}});if(Xr)d(Xr.message);else if(We.user){const Ri={id:We.user.id,email:We.user.email||J,name:((Q=We.user.user_metadata)==null?void 0:Q.name)||J.split("@")[0],password:oe,role:((fe=We.user.user_metadata)==null?void 0:fe.role)||we.Admin,avatarUrl:((he=We.user.user_metadata)==null?void 0:he.avatarUrl)||`https://i.pravatar.cc/150?u=${We.user.id}`,dashboardWidgets:eo(we.Admin),organizationId:t==null?void 0:t.organizationId,storeAccess:((Nt=We.user.user_metadata)==null?void 0:Nt.storeAccess)||["all"]};if(w($i=>$i.find(Wh=>Wh.id===Ri.id)?$i:[...$i,Ri]),t&&!t.emailLock){const $i={...t,emailLock:ae};e($i),localStorage.setItem("zenith_master_license",JSON.stringify($i)),s(Wh=>Wh.map(Kh=>Kh.key===$i.key?{...Kh,emailLock:ae}:Kh))}u(Ri),xe("dashboard");return}}catch{}d("Invalid email or password.")},Uh=async(J,oe,ae)=>{if(!t||!t.organizationId){d("Cannot register without an active license.");return}const ue=oe.trim().toLowerCase();if(t.emailLock&&ue!==t.emailLock.trim().toLowerCase()){d(`This software is already activated for ${t.emailLock}. You cannot register a new account.`);return}if(x.find(fe=>fe.email.toLowerCase()===ue)){d("This email is already registered locally. Please Login.");return}d(null);const Q={id:`u${Date.now()}`,name:J,email:oe,password:ae,role:we.Admin,avatarUrl:`https://i.pravatar.cc/150?u=${oe}`,dashboardWidgets:eo(we.Admin),organizationId:t.organizationId,isVerified:!0,storeAccess:["all"]};if(w(fe=>[...fe,Q]),t&&!t.emailLock){const fe={...t,emailLock:ue};e(fe),localStorage.setItem("zenith_master_license",JSON.stringify(fe)),s(he=>he.map(Nt=>Nt.key===fe.key?{...Nt,emailLock:ue}:Nt))}if(Ws)try{Ks.auth.signUp({email:oe,password:ae,options:{data:{name:J,role:we.Admin,organizationId:t.organizationId}}})}catch{console.warn("Cloud registration skipped.")}u(Q),xe("dashboard"),alert("Account created successfully! You are now logged in.")},Ts=async J=>{if(!Ws){d("Password reset is not available in offline/demo mode.");return}const{error:oe}=await Ks.auth.resetPasswordForEmail(J,{redirectTo:window.location.origin});oe?d(oe.message):alert("Password reset link sent to your email.")},Bh=async J=>{if(!Ws)return;const{error:oe}=await Ks.auth.updateUser({password:J});alert(oe?oe.message:"Password updated successfully!")},Lu=J=>{if(!l)return;const oe={...l,...J};u(oe),w(ae=>ae.map(ue=>ue.id===l.id?{...ue,...J}:ue))},Uu=J=>{const oe=`org_${J.key.split("-")[2].toLowerCase()}`,ae={...J,status:"Activated",activationDate:new Date().toISOString(),organizationId:oe};s(ue=>ue.map(Q=>Q.key===ae.key?ae:Q)),localStorage.setItem("zenith_master_license",JSON.stringify(ae)),localStorage.removeItem("zenith_trial_start"),v([]),_([]),S([]),A([]),k([]),O([]),j([]),D([]),w([]),localStorage.removeItem("zenith_stores"),localStorage.removeItem("zenith_products"),localStorage.removeItem("zenith_customers"),localStorage.removeItem("zenith_suppliers"),localStorage.removeItem("zenith_pos"),localStorage.removeItem("zenith_sales"),localStorage.removeItem("zenith_expenses"),localStorage.removeItem("zenith_licenses"),localStorage.removeItem("zenith_users"),e(ae),o(!1),u(null),localStorage.removeItem("zenith_current_user")},Fh=()=>{let J=localStorage.getItem("zenith_trial_start");J||(J=new Date().toISOString(),localStorage.setItem("zenith_trial_start",J));const oe=new Date(J);if(Math.ceil(Math.abs(new Date().getTime()-oe.getTime())/(1e3*60*60*24))>Cb){alert("Your trial period has expired. Please enter a valid license key to continue.");return}o(!0);const ue={key:"TRIAL",organizationId:"org_trial",validUntil:new Date(oe.getTime()+Cb*864e5).toISOString(),planType:"Premium",status:"Activated",activationDate:new Date().toISOString(),maxShops:1,enabledFeatures:["AI_INSIGHTS","MULTI_LANGUAGE"]};e(ue)},st=I.useCallback(J=>{var oe;return((oe=$$[ye])==null?void 0:oe[J])||J},[ye]),Vh=()=>{if(!l)return;const J=new Date;if($){U(null);const oe=`${st("Shift Ended Notification")} (${J.toLocaleTimeString()})`,ae={id:`n-shift-${Date.now()}`,title:st("Shift Update"),message:oe,timestamp:J.toISOString(),read:!1};L(ue=>[ae,...ue]),te({message:st("Shift Ended Notification"),type:"info"})}else{const oe={id:`sh${Date.now()}`,userId:l.id,userName:l.name,startTime:J.toISOString(),endTime:null};U(oe);const ae=`${st("Shift Started Notification")} (${J.toLocaleTimeString()})`,ue={id:`n-shift-${Date.now()}`,title:st("Shift Update"),message:ae,timestamp:J.toISOString(),read:!1};L(Q=>[ue,...Q]),te({message:st("Shift Started Notification"),type:"success"})}},zh=J=>{if(!Ge||!t){alert("Cannot add a store without an active organization and license.");return}const oe=y.filter(ue=>ue.organizationId===Ge);if(t.planType!=="Enterprise"&&oe.length>=1){alert("Your current license plan does not support multiple stores. Please upgrade to the Enterprise plan to add more branches.");return}const ae={...J,id:`store_${Date.now()}`,organizationId:Ge};v(ue=>[...ue,ae])},qh=J=>{if(!Ge)return;if(x.some(ae=>ae.organizationId===Ge&&ae.storeAccess.length===1&&ae.storeAccess[0]===J)){alert("Cannot delete this store. One or more employees are exclusively assigned to it. Please reassign their store access before deleting.");return}confirm("Are you sure you want to delete this store? This will also remove associated data. This action cannot be undone.")&&(v(ae=>ae.filter(ue=>ue.id!==J)),V===J&&ce("global"))},Ge=l==null?void 0:l.organizationId,Gh=N.useMemo(()=>Ge?y.filter(J=>J.organizationId===Ge):[],[y,Ge]),Hh=N.useMemo(()=>!l||!Ge?[]:l.storeAccess.includes("all")?y.filter(J=>J.organizationId===Ge):y.filter(J=>l.storeAccess.includes(J.id)&&J.organizationId===Ge),[l,Ge,y]),{employees:As,products:G,customers:se,suppliers:Oe,purchaseOrders:He,sales:sr,expenses:Mi,licenseKeys:Yr}=N.useMemo(()=>{if(!Ge)return{employees:[],products:[],customers:[],suppliers:[],purchaseOrders:[],sales:[],expenses:[],licenseKeys:[]};const J=ue=>{const Q=ue.filter(fe=>fe.organizationId===Ge);return V==="global"||l!=null&&l.storeAccess.includes("all")?Q:Q.filter(fe=>fe.storeId===V)},oe=x.filter(ue=>ue.organizationId===Ge);return{employees:V==="global"?oe:oe.filter(ue=>ue.storeAccess.includes(V)),products:J(b),customers:J(T),suppliers:J(E),purchaseOrders:J(C),sales:J(P),expenses:J(R),licenseKeys:J(B)}},[Ge,V,y,x,b,T,E,C,P,R,B,l]);N.useEffect(()=>{Ge&&ne(`Shop (${Ge.substring(4,10).toUpperCase()})`)},[Ge]),N.useEffect(()=>{Ne?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[Ne]);const qn=I.useCallback(J=>{const oe=nk[nt];return oe?`${oe.symbol}${(J*oe.rate).toFixed(2)}`:`$${J.toFixed(2)}`},[nt]),kO=(J,oe)=>{if(!l)return;const ae={...l.dashboardWidgets,[J]:oe},ue={...l,dashboardWidgets:ae};u(ue),Lu({dashboardWidgets:ae})},PO=(J,oe)=>{if(!l||V==="global")return;const ae=J.total-J.amountPaid,ue={...J,date:new Date().toISOString(),cashier:l.name,cashierId:l.id,organizationId:Ge,storeId:V};O(fe=>[ue,...fe]),ae>0&&J.customerId!=="guest"&&S(fe=>fe.map(he=>he.id===J.customerId?{...he,dueAmount:he.dueAmount+ae}:he));let Q=[];_(fe=>fe.map(he=>{const Nt=oe.find(We=>We.id===he.id);if(Nt){const We=Math.max(0,he.stock-Nt.quantity);if(he.lowStockThreshold!==void 0&&We<=he.lowStockThreshold){const Xr=`n-low-${he.id}-${Date.now()}`;Q.push({id:Xr,title:st("Low Stock Alert"),message:`${he.name} ${st("is running low")} (${We} ${he.unit||""}).`,timestamp:new Date().toISOString(),read:!1,link:"products"})}return{...he,stock:We}}return he})),Q.length>0&&(L(fe=>[...Q,...fe]),te({message:st("Low Stock Alert"),type:"info"}))},IO=(J,oe)=>{S(ae=>ae.map(ue=>ue.id===J?{...ue,dueAmount:Math.max(0,ue.dueAmount-oe)}:ue))},pw=J=>{const oe={...J,id:`c${Date.now()}`,organizationId:Ge,storeId:V==="global"?"":V};return S(ae=>[...ae,oe]),oe},NO=(J,oe,ae)=>{_(ue=>ue.map(Q=>Q.id===J?{...Q,stock:oe}:Q))};if(n||h)return m.jsx("div",{className:"flex h-screen items-center justify-center dark:bg-neutral-900",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!t)return m.jsx(dde,{onSuccess:Uu,onStartTrial:Fh,licenseDatabase:a});if(!l)return m.jsx(hde,{onLogin:ju,onInitiateRegister:Uh,onInitiateForgotPassword:Ts,onVerifyEmail:J=>console.log("Verify email",J),onVerifyResetCode:J=>console.log("Verify reset code",J),onResetPassword:Bh,error:c,onClearError:()=>d(null),noUsersFound:x.length===0,activeLicense:t,onDeactivateLicense:En});const OO=()=>{if(!l)return null;const J=V!=="global",oe={...An.purchases,formFields:An.purchases.formFields.map(Q=>Q.key==="supplierId"?{...Q,options:Oe.map(fe=>({value:fe.id,label:fe.name}))}:Q)},ae=(Q,fe)=>{if(V==="global"&&Q!=="employees"){alert("Please select a specific store before adding new items.");return}const he={...fe,id:`${Q.slice(0,1)}${Date.now()}`,organizationId:Ge,storeId:V};switch(Q){case"products":_(Nt=>[...Nt,he]);break;case"suppliers":A(Nt=>[...Nt,he]);break;case"purchases":k(Nt=>[...Nt,{...he,createdBy:l.name,createdAt:new Date().toISOString()}]);break;case"expenses":j(Nt=>[...Nt,{...he,recordedBy:l.name}]);break}},ue=Q=>{J&&w(fe=>[...fe,{...Q,id:`u${Date.now()}`,organizationId:Ge,dashboardWidgets:eo(Q.role),storeAccess:[V]}])};switch(ve){case"dashboard":return m.jsx(wce,{products:G,sales:sr,user:l,onWidgetChange:kO,formatCurrency:qn,t:st,activeLicense:t,licenseKeys:Yr});case"pos":return m.jsx(Nce,{user:l,customers:se,products:G,onAddSale:PO,onAddCustomer:pw,heldCarts:H,setHeldCarts:Y,formatCurrency:qn,t:st,businessName:Z,activeStoreId:V});case"products":return m.jsx(Do,{dataType:"products",data:G,columns:An.products.columns,formFields:An.products.formFields,onAdd:Q=>ae("products",Q),onUpdate:Q=>_(fe=>fe.map(he=>he.id===Q.id?Q:he)),onDelete:Q=>_(fe=>fe.filter(he=>!Q.includes(he.id))),customActions:{onAdjustStock:NO},t:st,formatCurrency:qn});case"customers":return m.jsx(Do,{dataType:"customers",data:se,columns:An.customers.columns,formFields:An.customers.formFields,onAdd:Q=>pw(Q),onUpdate:Q=>S(fe=>fe.map(he=>he.id===Q.id?Q:he)),onDelete:Q=>S(fe=>fe.filter(he=>!Q.includes(he.id))),customActions:{onRecordPayment:IO},t:st,formatCurrency:qn});case"employees":return m.jsx(Do,{dataType:"employees",data:As,columns:An.employees.columns,formFields:An.employees.formFields,onAdd:Q=>ue(Q),onUpdate:Q=>w(fe=>fe.map(he=>he.id===Q.id?Q:he)),onDelete:Q=>w(fe=>fe.filter(he=>!Q.includes(he.id))),t:st,formatCurrency:qn,canAddNew:J,addNewDisabledTooltip:"Select a store to add an employee"});case"suppliers":return m.jsx(Do,{dataType:"suppliers",data:Oe,columns:An.suppliers.columns,formFields:An.suppliers.formFields,onAdd:Q=>ae("suppliers",Q),onUpdate:Q=>A(fe=>fe.map(he=>he.id===Q.id?Q:he)),onDelete:Q=>A(fe=>fe.filter(he=>!Q.includes(he.id))),t:st,formatCurrency:qn});case"purchases":return m.jsx(Do,{dataType:"purchases",data:He,columns:oe.columns,formFields:oe.formFields,onAdd:Q=>ae("purchases",Q),onUpdate:Q=>k(fe=>fe.map(he=>he.id===Q.id?Q:he)),onDelete:Q=>k(fe=>fe.filter(he=>!Q.includes(he.id))),t:st,formatCurrency:qn});case"expenses":return m.jsx(Do,{dataType:"expenses",data:Mi,columns:An.expenses.columns,formFields:An.expenses.formFields,onAdd:Q=>ae("expenses",Q),onUpdate:Q=>j(fe=>fe.map(he=>he.id===Q.id?Q:he)),onDelete:Q=>j(fe=>fe.filter(he=>!Q.includes(he.id))),t:st,formatCurrency:qn});case"reports":return m.jsx(Vce,{sales:sr,users:As,customers:se,formatCurrency:qn});case"settings":return m.jsx(ode,{user:l,onUpdateUser:Lu,employees:As,isDarkMode:Ne,toggleDarkMode:()=>z(!Ne),businessName:Z,setBusinessName:ne,businessLogo:F,setBusinessLogo:Te,licenseKeys:B,setLicenseKeys:D,language:ye,setLanguage:Re,currency:nt,setCurrency:It,t:st,licenseDatabase:a,setLicenseDatabase:s,activeLicense:t,onDeactivateLicense:En,onUpdateLicense:Q=>Tn(Q,!1),isInTrial:i,onActivateTrialLicense:Q=>Tn(Q,!0),activeStoreId:V,onAddStore:zh,onDeleteStore:qh,organizationStores:Gh});default:return m.jsx(zce,{title:ve})}};return m.jsxs("div",{className:`flex h-screen bg-neutral-100 dark:bg-neutral-900 text-neutral-800 dark:text-neutral-100 antialiased ${Ne?"dark":""}`,children:[m.jsx(H$,{userRole:l.role,activeView:ve,setActiveView:xe,isOpen:Ie,setIsOpen:tt,businessName:Z,businessLogo:F,t:st}),m.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[m.jsx(z$,{user:l,onLogout:Zt,toggleSidebar:()=>tt(!Ie),isDarkMode:Ne,toggleDarkMode:()=>z(!Ne),businessName:Z,businessLogo:F,activeView:ve,setActiveView:xe,notifications:M,setNotifications:L,activeShift:$,onToggleShift:Vh,isOnline:jt,t:st,isInTrial:i,activeStoreId:V,setActiveStoreId:ce,accessibleStores:Hh,allStores:y}),m.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-neutral-100 dark:bg-neutral-900 p-6",children:OO()}),W&&m.jsx(Uhe,{message:W.message,type:W.type,onClose:()=>te(null)})]}),m.jsx(gde,{})]})}const CO=document.getElementById("root");if(!CO)throw new Error("Could not find root element to mount to");const Fhe=om.createRoot(CO);Fhe.render(m.jsx(I.StrictMode,{children:m.jsx(Bhe,{})}));
