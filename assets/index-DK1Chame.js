function gO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ne(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var TT={exports:{}},mf={},AT={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var du=Symbol.for("react.element"),yO=Symbol.for("react.portal"),wO=Symbol.for("react.fragment"),bO=Symbol.for("react.strict_mode"),xO=Symbol.for("react.profiler"),_O=Symbol.for("react.provider"),SO=Symbol.for("react.context"),EO=Symbol.for("react.forward_ref"),TO=Symbol.for("react.suspense"),AO=Symbol.for("react.memo"),CO=Symbol.for("react.lazy"),ow=Symbol.iterator;function PO(t){return t===null||typeof t!="object"?null:(t=ow&&t[ow]||t["@@iterator"],typeof t=="function"?t:null)}var CT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PT=Object.assign,kT={};function Ga(t,e,n){this.props=t,this.context=e,this.refs=kT,this.updater=n||CT}Ga.prototype.isReactComponent={};Ga.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ga.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function IT(){}IT.prototype=Ga.prototype;function Lv(t,e,n){this.props=t,this.context=e,this.refs=kT,this.updater=n||CT}var Uv=Lv.prototype=new IT;Uv.constructor=Lv;PT(Uv,Ga.prototype);Uv.isPureReactComponent=!0;var aw=Array.isArray,NT=Object.prototype.hasOwnProperty,Bv={current:null},OT={key:!0,ref:!0,__self:!0,__source:!0};function RT(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)NT.call(e,r)&&!OT.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:du,type:t,key:o,ref:a,props:i,_owner:Bv.current}}function kO(t,e){return{$$typeof:du,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fv(t){return typeof t=="object"&&t!==null&&t.$$typeof===du}function IO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sw=/\/+/g;function Lh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IO(""+t.key):e.toString(36)}function yc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case du:case yO:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Lh(a,0):r,aw(i)?(n="",t!=null&&(n=t.replace(sw,"$&/")+"/"),yc(i,e,n,"",function(u){return u})):i!=null&&(Fv(i)&&(i=kO(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(sw,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",aw(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Lh(o,s);a+=yc(o,e,n,l,i)}else if(l=PO(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Lh(o,s++),a+=yc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ou(t,e,n){if(t==null)return t;var r=[],i=0;return yc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function NO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},wc={transition:null},OO={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:wc,ReactCurrentOwner:Bv};function MT(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Ou,forEach:function(t,e,n){Ou(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ou(t,function(){e++}),e},toArray:function(t){return Ou(t,function(e){return e})||[]},only:function(t){if(!Fv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=Ga;xe.Fragment=wO;xe.Profiler=xO;xe.PureComponent=Lv;xe.StrictMode=bO;xe.Suspense=TO;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OO;xe.act=MT;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=PT({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Bv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)NT.call(e,l)&&!OT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:du,type:t.type,key:i,ref:o,props:r,_owner:a}};xe.createContext=function(t){return t={$$typeof:SO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_O,_context:t},t.Consumer=t};xe.createElement=RT;xe.createFactory=function(t){var e=RT.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:EO,render:t}};xe.isValidElement=Fv;xe.lazy=function(t){return{$$typeof:CO,_payload:{_status:-1,_result:t},_init:NO}};xe.memo=function(t,e){return{$$typeof:AO,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=wc.transition;wc.transition={};try{t()}finally{wc.transition=e}};xe.unstable_act=MT;xe.useCallback=function(t,e){return qt.current.useCallback(t,e)};xe.useContext=function(t){return qt.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};xe.useEffect=function(t,e){return qt.current.useEffect(t,e)};xe.useId=function(){return qt.current.useId()};xe.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return qt.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};xe.useRef=function(t){return qt.current.useRef(t)};xe.useState=function(t){return qt.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return qt.current.useTransition()};xe.version="18.3.1";AT.exports=xe;var O=AT.exports;const I=Ne(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RO=O,MO=Symbol.for("react.element"),$O=Symbol.for("react.fragment"),DO=Object.prototype.hasOwnProperty,jO=RO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LO={key:!0,ref:!0,__self:!0,__source:!0};function $T(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)DO.call(e,r)&&!LO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:MO,type:t,key:o,ref:a,props:i,_owner:jO.current}}mf.Fragment=$O;mf.jsx=$T;mf.jsxs=$T;TT.exports=mf;var m=TT.exports,Jp={},DT={exports:{}},vn={},jT={exports:{}},LT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,U){var B=$.length;$.push(U);e:for(;0<B;){var W=B-1>>>1,H=$[W];if(0<i(H,U))$[W]=U,$[B]=H,B=W;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var U=$[0],B=$.pop();if(B!==U){$[0]=B;e:for(var W=0,H=$.length,X=H>>>1;W<X;){var le=2*(W+1)-1,we=$[le],be=le+1,Be=$[be];if(0>i(we,B))be<H&&0>i(Be,we)?($[W]=Be,$[be]=B,W=be):($[W]=we,$[le]=B,W=le);else if(be<H&&0>i(Be,B))$[W]=Be,$[be]=B,W=be;else break e}}return U}function i($,U){var B=$.sortIndex-U.sortIndex;return B!==0?B:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,g=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=$)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function E($){if(y=!1,_($),!v)if(n(l)!==null)v=!0,M(S);else{var U=n(u);U!==null&&L(E,U.startTime-$)}}function S($,U){v=!1,y&&(y=!1,w(C),C=-1),g=!0;var B=h;try{for(_(U),d=n(l);d!==null&&(!(d.expirationTime>U)||$&&!k());){var W=d.callback;if(typeof W=="function"){d.callback=null,h=d.priorityLevel;var H=W(d.expirationTime<=U);U=t.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),_(U)}else r(l);d=n(l)}if(d!==null)var X=!0;else{var le=n(u);le!==null&&L(E,le.startTime-U),X=!1}return X}finally{d=null,h=B,g=!1}}var T=!1,A=null,C=-1,P=5,N=-1;function k(){return!(t.unstable_now()-N<P)}function R(){if(A!==null){var $=t.unstable_now();N=$;var U=!0;try{U=A(!0,$)}finally{U?j():(T=!1,A=null)}}else T=!1}var j;if(typeof b=="function")j=function(){b(R)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,F=V.port2;V.port1.onmessage=R,j=function(){F.postMessage(null)}}else j=function(){x(R,0)};function M($){A=$,T||(T=!0,j())}function L($,U){C=x(function(){$(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,M(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var B=h;h=U;try{return $()}finally{h=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var B=h;h=$;try{return U()}finally{h=B}},t.unstable_scheduleCallback=function($,U,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=B+H,$={id:c++,callback:U,priorityLevel:$,startTime:B,expirationTime:H,sortIndex:-1},B>W?($.sortIndex=B,e(u,$),n(l)===null&&$===n(u)&&(y?(w(C),C=-1):y=!0,L(E,B-W))):($.sortIndex=H,e(l,$),v||g||(v=!0,M(S))),$},t.unstable_shouldYield=k,t.unstable_wrapCallback=function($){var U=h;return function(){var B=h;h=U;try{return $.apply(this,arguments)}finally{h=B}}}})(LT);jT.exports=LT;var UO=jT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BO=O,gn=UO;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UT=new Set,cl={};function co(t,e){fa(t,e),fa(t+"Capture",e)}function fa(t,e){for(cl[t]=e,t=0;t<e.length;t++)UT.add(e[t])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yp=Object.prototype.hasOwnProperty,FO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lw={},uw={};function VO(t){return Yp.call(uw,t)?!0:Yp.call(lw,t)?!1:FO.test(t)?uw[t]=!0:(lw[t]=!0,!1)}function zO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qO(t,e,n,r){if(e===null||typeof e>"u"||zO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gt(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new Gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new Gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new Gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new Gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new Gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new Gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new Gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new Gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new Gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vv=/[\-:]([a-z])/g;function zv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vv,zv);kt[e]=new Gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vv,zv);kt[e]=new Gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vv,zv);kt[e]=new Gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new Gt(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new Gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function qv(t,e,n,r){var i=kt.hasOwnProperty(e)?kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qO(e,n,i,r)&&(n=null),r||i===null?VO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jr=BO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ru=Symbol.for("react.element"),Ro=Symbol.for("react.portal"),Mo=Symbol.for("react.fragment"),Gv=Symbol.for("react.strict_mode"),Xp=Symbol.for("react.profiler"),BT=Symbol.for("react.provider"),FT=Symbol.for("react.context"),Hv=Symbol.for("react.forward_ref"),Qp=Symbol.for("react.suspense"),Zp=Symbol.for("react.suspense_list"),Wv=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy"),VT=Symbol.for("react.offscreen"),cw=Symbol.iterator;function vs(t){return t===null||typeof t!="object"?null:(t=cw&&t[cw]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,Uh;function Us(t){if(Uh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uh=e&&e[1]||""}return`
`+Uh+t}var Bh=!1;function Fh(t,e){if(!t||Bh)return"";Bh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Bh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Us(t):""}function GO(t){switch(t.tag){case 5:return Us(t.type);case 16:return Us("Lazy");case 13:return Us("Suspense");case 19:return Us("SuspenseList");case 0:case 2:case 15:return t=Fh(t.type,!1),t;case 11:return t=Fh(t.type.render,!1),t;case 1:return t=Fh(t.type,!0),t;default:return""}}function em(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mo:return"Fragment";case Ro:return"Portal";case Xp:return"Profiler";case Gv:return"StrictMode";case Qp:return"Suspense";case Zp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case FT:return(t.displayName||"Context")+".Consumer";case BT:return(t._context.displayName||"Context")+".Provider";case Hv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wv:return e=t.displayName||null,e!==null?e:em(t.type)||"Memo";case Hr:e=t._payload,t=t._init;try{return em(t(e))}catch{}}return null}function HO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return em(e);case 8:return e===Gv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WO(t){var e=zT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mu(t){t._valueTracker||(t._valueTracker=WO(t))}function qT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tm(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function GT(t,e){e=e.checked,e!=null&&qv(t,"checked",e,!1)}function nm(t,e){GT(t,e);var n=hi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rm(t,e.type,n):e.hasOwnProperty("defaultValue")&&rm(t,e.type,hi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rm(t,e,n){(e!=="number"||Mc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bs=Array.isArray;function Qo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function im(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Bs(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hi(n)}}function HT(t,e){var n=hi(e.value),r=hi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function WT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function om(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?WT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $u,KT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($u=$u||document.createElement("div"),$u.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$u.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KO=["Webkit","ms","Moz","O"];Object.keys(Gs).forEach(function(t){KO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gs[e]=Gs[t]})});function JT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gs.hasOwnProperty(t)&&Gs[t]?(""+e).trim():e+"px"}function YT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var JO=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function am(t,e){if(e){if(JO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function sm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lm=null;function Kv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var um=null,Zo=null,ea=null;function mw(t){if(t=pu(t)){if(typeof um!="function")throw Error(J(280));var e=t.stateNode;e&&(e=bf(e),um(t.stateNode,t.type,e))}}function XT(t){Zo?ea?ea.push(t):ea=[t]:Zo=t}function QT(){if(Zo){var t=Zo,e=ea;if(ea=Zo=null,mw(t),e)for(t=0;t<e.length;t++)mw(e[t])}}function ZT(t,e){return t(e)}function eA(){}var Vh=!1;function tA(t,e,n){if(Vh)return t(e,n);Vh=!0;try{return ZT(t,e,n)}finally{Vh=!1,(Zo!==null||ea!==null)&&(eA(),QT())}}function fl(t,e){var n=t.stateNode;if(n===null)return null;var r=bf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var cm=!1;if(kr)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){cm=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{cm=!1}function YO(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Hs=!1,$c=null,Dc=!1,dm=null,XO={onError:function(t){Hs=!0,$c=t}};function QO(t,e,n,r,i,o,a,s,l){Hs=!1,$c=null,YO.apply(XO,arguments)}function ZO(t,e,n,r,i,o,a,s,l){if(QO.apply(this,arguments),Hs){if(Hs){var u=$c;Hs=!1,$c=null}else throw Error(J(198));Dc||(Dc=!0,dm=u)}}function fo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gw(t){if(fo(t)!==t)throw Error(J(188))}function eR(t){var e=t.alternate;if(!e){if(e=fo(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return gw(i),t;if(o===r)return gw(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function rA(t){return t=eR(t),t!==null?iA(t):null}function iA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iA(t);if(e!==null)return e;t=t.sibling}return null}var oA=gn.unstable_scheduleCallback,vw=gn.unstable_cancelCallback,tR=gn.unstable_shouldYield,nR=gn.unstable_requestPaint,rt=gn.unstable_now,rR=gn.unstable_getCurrentPriorityLevel,Jv=gn.unstable_ImmediatePriority,aA=gn.unstable_UserBlockingPriority,jc=gn.unstable_NormalPriority,iR=gn.unstable_LowPriority,sA=gn.unstable_IdlePriority,gf=null,ir=null;function oR(t){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(gf,t,void 0,(t.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:lR,aR=Math.log,sR=Math.LN2;function lR(t){return t>>>=0,t===0?32:31-(aR(t)/sR|0)|0}var Du=64,ju=4194304;function Fs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Fs(s):(o&=a,o!==0&&(r=Fs(o)))}else a=n&~i,a!==0?r=Fs(a):o!==0&&(r=Fs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kn(e),i=1<<n,r|=t[n],e&=~i;return r}function uR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Kn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=uR(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function fm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lA(){var t=Du;return Du<<=1,!(Du&4194240)&&(Du=64),t}function zh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kn(e),t[e]=n}function dR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Kn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Yv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ie=0;function uA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cA,Xv,dA,fA,hA,hm=!1,Lu=[],ri=null,ii=null,oi=null,hl=new Map,pl=new Map,Jr=[],fR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yw(t,e){switch(t){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function ws(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=pu(e),e!==null&&Xv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hR(t,e,n,r,i){switch(e){case"focusin":return ri=ws(ri,t,e,n,r,i),!0;case"dragenter":return ii=ws(ii,t,e,n,r,i),!0;case"mouseover":return oi=ws(oi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return hl.set(o,ws(hl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,pl.set(o,ws(pl.get(o)||null,t,e,n,r,i)),!0}return!1}function pA(t){var e=Fi(t.target);if(e!==null){var n=fo(e);if(n!==null){if(e=n.tag,e===13){if(e=nA(n),e!==null){t.blockedOn=e,hA(t.priority,function(){dA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lm=r,n.target.dispatchEvent(r),lm=null}else return e=pu(n),e!==null&&Xv(e),t.blockedOn=n,!1;e.shift()}return!0}function ww(t,e,n){bc(t)&&n.delete(e)}function pR(){hm=!1,ri!==null&&bc(ri)&&(ri=null),ii!==null&&bc(ii)&&(ii=null),oi!==null&&bc(oi)&&(oi=null),hl.forEach(ww),pl.forEach(ww)}function bs(t,e){t.blockedOn===e&&(t.blockedOn=null,hm||(hm=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,pR)))}function ml(t){function e(i){return bs(i,t)}if(0<Lu.length){bs(Lu[0],t);for(var n=1;n<Lu.length;n++){var r=Lu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ri!==null&&bs(ri,t),ii!==null&&bs(ii,t),oi!==null&&bs(oi,t),hl.forEach(e),pl.forEach(e),n=0;n<Jr.length;n++)r=Jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)pA(n),n.blockedOn===null&&Jr.shift()}var ta=jr.ReactCurrentBatchConfig,Uc=!0;function mR(t,e,n,r){var i=Ie,o=ta.transition;ta.transition=null;try{Ie=1,Qv(t,e,n,r)}finally{Ie=i,ta.transition=o}}function gR(t,e,n,r){var i=Ie,o=ta.transition;ta.transition=null;try{Ie=4,Qv(t,e,n,r)}finally{Ie=i,ta.transition=o}}function Qv(t,e,n,r){if(Uc){var i=pm(t,e,n,r);if(i===null)Zh(t,e,r,Bc,n),yw(t,r);else if(hR(i,t,e,n,r))r.stopPropagation();else if(yw(t,r),e&4&&-1<fR.indexOf(t)){for(;i!==null;){var o=pu(i);if(o!==null&&cA(o),o=pm(t,e,n,r),o===null&&Zh(t,e,r,Bc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Zh(t,e,r,null,n)}}var Bc=null;function pm(t,e,n,r){if(Bc=null,t=Kv(r),t=Fi(t),t!==null)if(e=fo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bc=t,null}function mA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rR()){case Jv:return 1;case aA:return 4;case jc:case iR:return 16;case sA:return 536870912;default:return 16}default:return 16}}var Zr=null,Zv=null,xc=null;function gA(){if(xc)return xc;var t,e=Zv,n=e.length,r,i="value"in Zr?Zr.value:Zr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return xc=i.slice(t,1<r?1-r:void 0)}function _c(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Uu(){return!0}function bw(){return!1}function yn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Uu:bw,this.isPropagationStopped=bw,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uu)},persist:function(){},isPersistent:Uu}),e}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ey=yn(Ha),hu=et({},Ha,{view:0,detail:0}),vR=yn(hu),qh,Gh,xs,vf=et({},hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ty,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xs&&(xs&&t.type==="mousemove"?(qh=t.screenX-xs.screenX,Gh=t.screenY-xs.screenY):Gh=qh=0,xs=t),qh)},movementY:function(t){return"movementY"in t?t.movementY:Gh}}),xw=yn(vf),yR=et({},vf,{dataTransfer:0}),wR=yn(yR),bR=et({},hu,{relatedTarget:0}),Hh=yn(bR),xR=et({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),_R=yn(xR),SR=et({},Ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ER=yn(SR),TR=et({},Ha,{data:0}),_w=yn(TR),AR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=PR[t])?!!e[t]:!1}function ty(){return kR}var IR=et({},hu,{key:function(t){if(t.key){var e=AR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_c(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ty,charCode:function(t){return t.type==="keypress"?_c(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_c(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NR=yn(IR),OR=et({},vf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sw=yn(OR),RR=et({},hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ty}),MR=yn(RR),$R=et({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),DR=yn($R),jR=et({},vf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LR=yn(jR),UR=[9,13,27,32],ny=kr&&"CompositionEvent"in window,Ws=null;kr&&"documentMode"in document&&(Ws=document.documentMode);var BR=kr&&"TextEvent"in window&&!Ws,vA=kr&&(!ny||Ws&&8<Ws&&11>=Ws),Ew=" ",Tw=!1;function yA(t,e){switch(t){case"keyup":return UR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $o=!1;function FR(t,e){switch(t){case"compositionend":return wA(e);case"keypress":return e.which!==32?null:(Tw=!0,Ew);case"textInput":return t=e.data,t===Ew&&Tw?null:t;default:return null}}function VR(t,e){if($o)return t==="compositionend"||!ny&&yA(t,e)?(t=gA(),xc=Zv=Zr=null,$o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vA&&e.locale!=="ko"?null:e.data;default:return null}}var zR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Aw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zR[t.type]:e==="textarea"}function bA(t,e,n,r){XT(r),e=Fc(e,"onChange"),0<e.length&&(n=new ey("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ks=null,gl=null;function qR(t){NA(t,0)}function yf(t){var e=Lo(t);if(qT(e))return t}function GR(t,e){if(t==="change")return e}var xA=!1;if(kr){var Wh;if(kr){var Kh="oninput"in document;if(!Kh){var Cw=document.createElement("div");Cw.setAttribute("oninput","return;"),Kh=typeof Cw.oninput=="function"}Wh=Kh}else Wh=!1;xA=Wh&&(!document.documentMode||9<document.documentMode)}function Pw(){Ks&&(Ks.detachEvent("onpropertychange",_A),gl=Ks=null)}function _A(t){if(t.propertyName==="value"&&yf(gl)){var e=[];bA(e,gl,t,Kv(t)),tA(qR,e)}}function HR(t,e,n){t==="focusin"?(Pw(),Ks=e,gl=n,Ks.attachEvent("onpropertychange",_A)):t==="focusout"&&Pw()}function WR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yf(gl)}function KR(t,e){if(t==="click")return yf(e)}function JR(t,e){if(t==="input"||t==="change")return yf(e)}function YR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xn=typeof Object.is=="function"?Object.is:YR;function vl(t,e){if(Xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yp.call(e,i)||!Xn(t[i],e[i]))return!1}return!0}function kw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Iw(t,e){var n=kw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kw(n)}}function SA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?SA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function EA(){for(var t=window,e=Mc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mc(t.document)}return e}function ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XR(t){var e=EA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&SA(n.ownerDocument.documentElement,n)){if(r!==null&&ry(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Iw(n,o);var a=Iw(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QR=kr&&"documentMode"in document&&11>=document.documentMode,Do=null,mm=null,Js=null,gm=!1;function Nw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gm||Do==null||Do!==Mc(r)||(r=Do,"selectionStart"in r&&ry(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Js&&vl(Js,r)||(Js=r,r=Fc(mm,"onSelect"),0<r.length&&(e=new ey("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Do)))}function Bu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var jo={animationend:Bu("Animation","AnimationEnd"),animationiteration:Bu("Animation","AnimationIteration"),animationstart:Bu("Animation","AnimationStart"),transitionend:Bu("Transition","TransitionEnd")},Jh={},TA={};kr&&(TA=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function wf(t){if(Jh[t])return Jh[t];if(!jo[t])return t;var e=jo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in TA)return Jh[t]=e[n];return t}var AA=wf("animationend"),CA=wf("animationiteration"),PA=wf("animationstart"),kA=wf("transitionend"),IA=new Map,Ow="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(t,e){IA.set(t,e),co(e,[t])}for(var Yh=0;Yh<Ow.length;Yh++){var Xh=Ow[Yh],ZR=Xh.toLowerCase(),eM=Xh[0].toUpperCase()+Xh.slice(1);mi(ZR,"on"+eM)}mi(AA,"onAnimationEnd");mi(CA,"onAnimationIteration");mi(PA,"onAnimationStart");mi("dblclick","onDoubleClick");mi("focusin","onFocus");mi("focusout","onBlur");mi(kA,"onTransitionEnd");fa("onMouseEnter",["mouseout","mouseover"]);fa("onMouseLeave",["mouseout","mouseover"]);fa("onPointerEnter",["pointerout","pointerover"]);fa("onPointerLeave",["pointerout","pointerover"]);co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));co("onBeforeInput",["compositionend","keypress","textInput","paste"]);co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function Rw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZO(r,e,void 0,t),t.currentTarget=null}function NA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Rw(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Rw(i,s,u),o=l}}}if(Dc)throw t=dm,Dc=!1,dm=null,t}function Ve(t,e){var n=e[xm];n===void 0&&(n=e[xm]=new Set);var r=t+"__bubble";n.has(r)||(OA(e,t,2,!1),n.add(r))}function Qh(t,e,n){var r=0;e&&(r|=4),OA(n,t,r,e)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function yl(t){if(!t[Fu]){t[Fu]=!0,UT.forEach(function(n){n!=="selectionchange"&&(tM.has(n)||Qh(n,!1,t),Qh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fu]||(e[Fu]=!0,Qh("selectionchange",!1,e))}}function OA(t,e,n,r){switch(mA(e)){case 1:var i=mR;break;case 4:i=gR;break;default:i=Qv}n=i.bind(null,e,n,t),i=void 0,!cm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Fi(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}tA(function(){var u=o,c=Kv(n),d=[];e:{var h=IA.get(t);if(h!==void 0){var g=ey,v=t;switch(t){case"keypress":if(_c(n)===0)break e;case"keydown":case"keyup":g=NR;break;case"focusin":v="focus",g=Hh;break;case"focusout":v="blur",g=Hh;break;case"beforeblur":case"afterblur":g=Hh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=xw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=wR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=MR;break;case AA:case CA:case PA:g=_R;break;case kA:g=DR;break;case"scroll":g=vR;break;case"wheel":g=LR;break;case"copy":case"cut":case"paste":g=ER;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Sw}var y=(e&4)!==0,x=!y&&t==="scroll",w=y?h!==null?h+"Capture":null:h;y=[];for(var b=u,_;b!==null;){_=b;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,w!==null&&(E=fl(b,w),E!=null&&y.push(wl(b,E,_)))),x)break;b=b.return}0<y.length&&(h=new g(h,v,null,n,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==lm&&(v=n.relatedTarget||n.fromElement)&&(Fi(v)||v[Ir]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Fi(v):null,v!==null&&(x=fo(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=xw,E="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=Sw,E="onPointerLeave",w="onPointerEnter",b="pointer"),x=g==null?h:Lo(g),_=v==null?h:Lo(v),h=new y(E,b+"leave",g,n,c),h.target=x,h.relatedTarget=_,E=null,Fi(c)===u&&(y=new y(w,b+"enter",v,n,c),y.target=_,y.relatedTarget=x,E=y),x=E,g&&v)t:{for(y=g,w=v,b=0,_=y;_;_=bo(_))b++;for(_=0,E=w;E;E=bo(E))_++;for(;0<b-_;)y=bo(y),b--;for(;0<_-b;)w=bo(w),_--;for(;b--;){if(y===w||w!==null&&y===w.alternate)break t;y=bo(y),w=bo(w)}y=null}else y=null;g!==null&&Mw(d,h,g,y,!1),v!==null&&x!==null&&Mw(d,x,v,y,!0)}}e:{if(h=u?Lo(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=GR;else if(Aw(h))if(xA)S=JR;else{S=WR;var T=HR}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=KR);if(S&&(S=S(t,u))){bA(d,S,n,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&rm(h,"number",h.value)}switch(T=u?Lo(u):window,t){case"focusin":(Aw(T)||T.contentEditable==="true")&&(Do=T,mm=u,Js=null);break;case"focusout":Js=mm=Do=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,Nw(d,n,c);break;case"selectionchange":if(QR)break;case"keydown":case"keyup":Nw(d,n,c)}var A;if(ny)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else $o?yA(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(vA&&n.locale!=="ko"&&($o||C!=="onCompositionStart"?C==="onCompositionEnd"&&$o&&(A=gA()):(Zr=c,Zv="value"in Zr?Zr.value:Zr.textContent,$o=!0)),T=Fc(u,C),0<T.length&&(C=new _w(C,t,null,n,c),d.push({event:C,listeners:T}),A?C.data=A:(A=wA(n),A!==null&&(C.data=A)))),(A=BR?FR(t,n):VR(t,n))&&(u=Fc(u,"onBeforeInput"),0<u.length&&(c=new _w("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=A))}NA(d,e)})}function wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=fl(t,n),o!=null&&r.unshift(wl(t,o,i)),o=fl(t,e),o!=null&&r.push(wl(t,o,i))),t=t.return}return r}function bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Mw(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=fl(n,o),l!=null&&a.unshift(wl(n,l,s))):i||(l=fl(n,o),l!=null&&a.push(wl(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var nM=/\r\n?/g,rM=/\u0000|\uFFFD/g;function $w(t){return(typeof t=="string"?t:""+t).replace(nM,`
`).replace(rM,"")}function Vu(t,e,n){if(e=$w(e),$w(t)!==e&&n)throw Error(J(425))}function Vc(){}var vm=null,ym=null;function wm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bm=typeof setTimeout=="function"?setTimeout:void 0,iM=typeof clearTimeout=="function"?clearTimeout:void 0,Dw=typeof Promise=="function"?Promise:void 0,oM=typeof queueMicrotask=="function"?queueMicrotask:typeof Dw<"u"?function(t){return Dw.resolve(null).then(t).catch(aM)}:bm;function aM(t){setTimeout(function(){throw t})}function ep(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ml(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ml(e)}function ai(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wa=Math.random().toString(36).slice(2),nr="__reactFiber$"+Wa,bl="__reactProps$"+Wa,Ir="__reactContainer$"+Wa,xm="__reactEvents$"+Wa,sM="__reactListeners$"+Wa,lM="__reactHandles$"+Wa;function Fi(t){var e=t[nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ir]||n[nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jw(t);t!==null;){if(n=t[nr])return n;t=jw(t)}return e}t=n,n=t.parentNode}return null}function pu(t){return t=t[nr]||t[Ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function bf(t){return t[bl]||null}var _m=[],Uo=-1;function gi(t){return{current:t}}function He(t){0>Uo||(t.current=_m[Uo],_m[Uo]=null,Uo--)}function Le(t,e){Uo++,_m[Uo]=t.current,t.current=e}var pi={},Dt=gi(pi),Xt=gi(!1),Zi=pi;function ha(t,e){var n=t.type.contextTypes;if(!n)return pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qt(t){return t=t.childContextTypes,t!=null}function zc(){He(Xt),He(Dt)}function Lw(t,e,n){if(Dt.current!==pi)throw Error(J(168));Le(Dt,e),Le(Xt,n)}function RA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,HO(t)||"Unknown",i));return et({},n,r)}function qc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pi,Zi=Dt.current,Le(Dt,t),Le(Xt,Xt.current),!0}function Uw(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=RA(t,e,Zi),r.__reactInternalMemoizedMergedChildContext=t,He(Xt),He(Dt),Le(Dt,t)):He(Xt),Le(Xt,n)}var wr=null,xf=!1,tp=!1;function MA(t){wr===null?wr=[t]:wr.push(t)}function uM(t){xf=!0,MA(t)}function vi(){if(!tp&&wr!==null){tp=!0;var t=0,e=Ie;try{var n=wr;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wr=null,xf=!1}catch(i){throw wr!==null&&(wr=wr.slice(t+1)),oA(Jv,vi),i}finally{Ie=e,tp=!1}}return null}var Bo=[],Fo=0,Gc=null,Hc=0,Tn=[],An=0,eo=null,br=1,xr="";function Ni(t,e){Bo[Fo++]=Hc,Bo[Fo++]=Gc,Gc=t,Hc=e}function $A(t,e,n){Tn[An++]=br,Tn[An++]=xr,Tn[An++]=eo,eo=t;var r=br;t=xr;var i=32-Kn(r)-1;r&=~(1<<i),n+=1;var o=32-Kn(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,br=1<<32-Kn(e)+i|n<<i|r,xr=o+t}else br=1<<o|n<<i|r,xr=t}function iy(t){t.return!==null&&(Ni(t,1),$A(t,1,0))}function oy(t){for(;t===Gc;)Gc=Bo[--Fo],Bo[Fo]=null,Hc=Bo[--Fo],Bo[Fo]=null;for(;t===eo;)eo=Tn[--An],Tn[An]=null,xr=Tn[--An],Tn[An]=null,br=Tn[--An],Tn[An]=null}var hn=null,fn=null,Ke=!1,Hn=null;function DA(t,e){var n=Pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Bw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hn=t,fn=ai(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=eo!==null?{id:br,overflow:xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hn=t,fn=null,!0):!1;default:return!1}}function Sm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Em(t){if(Ke){var e=fn;if(e){var n=e;if(!Bw(t,e)){if(Sm(t))throw Error(J(418));e=ai(n.nextSibling);var r=hn;e&&Bw(t,e)?DA(r,n):(t.flags=t.flags&-4097|2,Ke=!1,hn=t)}}else{if(Sm(t))throw Error(J(418));t.flags=t.flags&-4097|2,Ke=!1,hn=t}}}function Fw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function zu(t){if(t!==hn)return!1;if(!Ke)return Fw(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wm(t.type,t.memoizedProps)),e&&(e=fn)){if(Sm(t))throw jA(),Error(J(418));for(;e;)DA(t,e),e=ai(e.nextSibling)}if(Fw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fn=ai(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=hn?ai(t.stateNode.nextSibling):null;return!0}function jA(){for(var t=fn;t;)t=ai(t.nextSibling)}function pa(){fn=hn=null,Ke=!1}function ay(t){Hn===null?Hn=[t]:Hn.push(t)}var cM=jr.ReactCurrentBatchConfig;function _s(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function qu(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vw(t){var e=t._init;return e(t._payload)}function LA(t){function e(w,b){if(t){var _=w.deletions;_===null?(w.deletions=[b],w.flags|=16):_.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=ci(w,b),w.index=0,w.sibling=null,w}function o(w,b,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<b?(w.flags|=2,b):_):(w.flags|=2,b)):(w.flags|=1048576,b)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function s(w,b,_,E){return b===null||b.tag!==6?(b=lp(_,w.mode,E),b.return=w,b):(b=i(b,_),b.return=w,b)}function l(w,b,_,E){var S=_.type;return S===Mo?c(w,b,_.props.children,E,_.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hr&&Vw(S)===b.type)?(E=i(b,_.props),E.ref=_s(w,b,_),E.return=w,E):(E=kc(_.type,_.key,_.props,null,w.mode,E),E.ref=_s(w,b,_),E.return=w,E)}function u(w,b,_,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=up(_,w.mode,E),b.return=w,b):(b=i(b,_.children||[]),b.return=w,b)}function c(w,b,_,E,S){return b===null||b.tag!==7?(b=Yi(_,w.mode,E,S),b.return=w,b):(b=i(b,_),b.return=w,b)}function d(w,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=lp(""+b,w.mode,_),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ru:return _=kc(b.type,b.key,b.props,null,w.mode,_),_.ref=_s(w,null,b),_.return=w,_;case Ro:return b=up(b,w.mode,_),b.return=w,b;case Hr:var E=b._init;return d(w,E(b._payload),_)}if(Bs(b)||vs(b))return b=Yi(b,w.mode,_,null),b.return=w,b;qu(w,b)}return null}function h(w,b,_,E){var S=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(w,b,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ru:return _.key===S?l(w,b,_,E):null;case Ro:return _.key===S?u(w,b,_,E):null;case Hr:return S=_._init,h(w,b,S(_._payload),E)}if(Bs(_)||vs(_))return S!==null?null:c(w,b,_,E,null);qu(w,_)}return null}function g(w,b,_,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(_)||null,s(b,w,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ru:return w=w.get(E.key===null?_:E.key)||null,l(b,w,E,S);case Ro:return w=w.get(E.key===null?_:E.key)||null,u(b,w,E,S);case Hr:var T=E._init;return g(w,b,_,T(E._payload),S)}if(Bs(E)||vs(E))return w=w.get(_)||null,c(b,w,E,S,null);qu(b,E)}return null}function v(w,b,_,E){for(var S=null,T=null,A=b,C=b=0,P=null;A!==null&&C<_.length;C++){A.index>C?(P=A,A=null):P=A.sibling;var N=h(w,A,_[C],E);if(N===null){A===null&&(A=P);break}t&&A&&N.alternate===null&&e(w,A),b=o(N,b,C),T===null?S=N:T.sibling=N,T=N,A=P}if(C===_.length)return n(w,A),Ke&&Ni(w,C),S;if(A===null){for(;C<_.length;C++)A=d(w,_[C],E),A!==null&&(b=o(A,b,C),T===null?S=A:T.sibling=A,T=A);return Ke&&Ni(w,C),S}for(A=r(w,A);C<_.length;C++)P=g(A,w,C,_[C],E),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?C:P.key),b=o(P,b,C),T===null?S=P:T.sibling=P,T=P);return t&&A.forEach(function(k){return e(w,k)}),Ke&&Ni(w,C),S}function y(w,b,_,E){var S=vs(_);if(typeof S!="function")throw Error(J(150));if(_=S.call(_),_==null)throw Error(J(151));for(var T=S=null,A=b,C=b=0,P=null,N=_.next();A!==null&&!N.done;C++,N=_.next()){A.index>C?(P=A,A=null):P=A.sibling;var k=h(w,A,N.value,E);if(k===null){A===null&&(A=P);break}t&&A&&k.alternate===null&&e(w,A),b=o(k,b,C),T===null?S=k:T.sibling=k,T=k,A=P}if(N.done)return n(w,A),Ke&&Ni(w,C),S;if(A===null){for(;!N.done;C++,N=_.next())N=d(w,N.value,E),N!==null&&(b=o(N,b,C),T===null?S=N:T.sibling=N,T=N);return Ke&&Ni(w,C),S}for(A=r(w,A);!N.done;C++,N=_.next())N=g(A,w,C,N.value,E),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?C:N.key),b=o(N,b,C),T===null?S=N:T.sibling=N,T=N);return t&&A.forEach(function(R){return e(w,R)}),Ke&&Ni(w,C),S}function x(w,b,_,E){if(typeof _=="object"&&_!==null&&_.type===Mo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ru:e:{for(var S=_.key,T=b;T!==null;){if(T.key===S){if(S=_.type,S===Mo){if(T.tag===7){n(w,T.sibling),b=i(T,_.props.children),b.return=w,w=b;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hr&&Vw(S)===T.type){n(w,T.sibling),b=i(T,_.props),b.ref=_s(w,T,_),b.return=w,w=b;break e}n(w,T);break}else e(w,T);T=T.sibling}_.type===Mo?(b=Yi(_.props.children,w.mode,E,_.key),b.return=w,w=b):(E=kc(_.type,_.key,_.props,null,w.mode,E),E.ref=_s(w,b,_),E.return=w,w=E)}return a(w);case Ro:e:{for(T=_.key;b!==null;){if(b.key===T)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(w,b.sibling),b=i(b,_.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=up(_,w.mode,E),b.return=w,w=b}return a(w);case Hr:return T=_._init,x(w,b,T(_._payload),E)}if(Bs(_))return v(w,b,_,E);if(vs(_))return y(w,b,_,E);qu(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(w,b.sibling),b=i(b,_),b.return=w,w=b):(n(w,b),b=lp(_,w.mode,E),b.return=w,w=b),a(w)):n(w,b)}return x}var ma=LA(!0),UA=LA(!1),Wc=gi(null),Kc=null,Vo=null,sy=null;function ly(){sy=Vo=Kc=null}function uy(t){var e=Wc.current;He(Wc),t._currentValue=e}function Tm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function na(t,e){Kc=t,sy=Vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(sy!==t)if(t={context:t,memoizedValue:e,next:null},Vo===null){if(Kc===null)throw Error(J(308));Vo=t,Kc.dependencies={lanes:0,firstContext:t}}else Vo=Vo.next=t;return e}var Vi=null;function cy(t){Vi===null?Vi=[t]:Vi.push(t)}function BA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,cy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Nr(t,r)}function Nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wr=!1;function dy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function si(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Nr(t,n)}return i=r.interleaved,i===null?(e.next=e,cy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Nr(t,n)}function Sc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yv(t,n)}}function zw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jc(t,e,n,r){var i=t.updateQueue;Wr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,y=s;switch(h=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(g,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(g,d,h):v,h==null)break e;d=et({},d,h);break e;case 2:Wr=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);no|=a,t.lanes=a,t.memoizedState=d}}function qw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var mu={},or=gi(mu),xl=gi(mu),_l=gi(mu);function zi(t){if(t===mu)throw Error(J(174));return t}function fy(t,e){switch(Le(_l,e),Le(xl,t),Le(or,mu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:om(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=om(e,t)}He(or),Le(or,e)}function ga(){He(or),He(xl),He(_l)}function VA(t){zi(_l.current);var e=zi(or.current),n=om(e,t.type);e!==n&&(Le(xl,t),Le(or,n))}function hy(t){xl.current===t&&(He(or),He(xl))}var Qe=gi(0);function Yc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var np=[];function py(){for(var t=0;t<np.length;t++)np[t]._workInProgressVersionPrimary=null;np.length=0}var Ec=jr.ReactCurrentDispatcher,rp=jr.ReactCurrentBatchConfig,to=0,Ze=null,ft=null,wt=null,Xc=!1,Ys=!1,Sl=0,dM=0;function It(){throw Error(J(321))}function my(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xn(t[n],e[n]))return!1;return!0}function gy(t,e,n,r,i,o){if(to=o,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ec.current=t===null||t.memoizedState===null?mM:gM,t=n(r,i),Ys){o=0;do{if(Ys=!1,Sl=0,25<=o)throw Error(J(301));o+=1,wt=ft=null,e.updateQueue=null,Ec.current=vM,t=n(r,i)}while(Ys)}if(Ec.current=Qc,e=ft!==null&&ft.next!==null,to=0,wt=ft=Ze=null,Xc=!1,e)throw Error(J(300));return t}function vy(){var t=Sl!==0;return Sl=0,t}function tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ze.memoizedState=wt=t:wt=wt.next=t,wt}function Rn(){if(ft===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=wt===null?Ze.memoizedState:wt.next;if(e!==null)wt=e,ft=t;else{if(t===null)throw Error(J(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},wt===null?Ze.memoizedState=wt=t:wt=wt.next=t}return wt}function El(t,e){return typeof e=="function"?e(t):e}function ip(t){var e=Rn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=ft,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((to&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,Ze.lanes|=c,no|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Xn(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ze.lanes|=o,no|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function op(t){var e=Rn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Xn(o,e.memoizedState)||(Jt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function zA(){}function qA(t,e){var n=Ze,r=Rn(),i=e(),o=!Xn(r.memoizedState,i);if(o&&(r.memoizedState=i,Jt=!0),r=r.queue,yy(WA.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Tl(9,HA.bind(null,n,r,i,e),void 0,null),xt===null)throw Error(J(349));to&30||GA(n,e,i)}return i}function GA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HA(t,e,n,r){e.value=n,e.getSnapshot=r,KA(e)&&JA(t)}function WA(t,e,n){return n(function(){KA(e)&&JA(t)})}function KA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xn(t,n)}catch{return!0}}function JA(t){var e=Nr(t,1);e!==null&&Jn(e,t,1,-1)}function Gw(t){var e=tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:t},e.queue=t,t=t.dispatch=pM.bind(null,Ze,t),[e.memoizedState,t]}function Tl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function YA(){return Rn().memoizedState}function Tc(t,e,n,r){var i=tr();Ze.flags|=t,i.memoizedState=Tl(1|e,n,void 0,r===void 0?null:r)}function _f(t,e,n,r){var i=Rn();r=r===void 0?null:r;var o=void 0;if(ft!==null){var a=ft.memoizedState;if(o=a.destroy,r!==null&&my(r,a.deps)){i.memoizedState=Tl(e,n,o,r);return}}Ze.flags|=t,i.memoizedState=Tl(1|e,n,o,r)}function Hw(t,e){return Tc(8390656,8,t,e)}function yy(t,e){return _f(2048,8,t,e)}function XA(t,e){return _f(4,2,t,e)}function QA(t,e){return _f(4,4,t,e)}function ZA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eC(t,e,n){return n=n!=null?n.concat([t]):null,_f(4,4,ZA.bind(null,e,t),n)}function wy(){}function tC(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&my(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nC(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&my(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rC(t,e,n){return to&21?(Xn(n,e)||(n=lA(),Ze.lanes|=n,no|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function fM(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=rp.transition;rp.transition={};try{t(!1),e()}finally{Ie=n,rp.transition=r}}function iC(){return Rn().memoizedState}function hM(t,e,n){var r=ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oC(t))aC(e,n);else if(n=BA(t,e,n,r),n!==null){var i=zt();Jn(n,t,r,i),sC(n,e,r)}}function pM(t,e,n){var r=ui(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oC(t))aC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Xn(s,a)){var l=e.interleaved;l===null?(i.next=i,cy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=BA(t,e,i,r),n!==null&&(i=zt(),Jn(n,t,r,i),sC(n,e,r))}}function oC(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function aC(t,e){Ys=Xc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yv(t,n)}}var Qc={readContext:On,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},mM={readContext:On,useCallback:function(t,e){return tr().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:Hw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tc(4194308,4,ZA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tc(4,2,t,e)},useMemo:function(t,e){var n=tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hM.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=tr();return t={current:t},e.memoizedState=t},useState:Gw,useDebugValue:wy,useDeferredValue:function(t){return tr().memoizedState=t},useTransition:function(){var t=Gw(!1),e=t[0];return t=fM.bind(null,t[1]),tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,i=tr();if(Ke){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),xt===null)throw Error(J(349));to&30||GA(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Hw(WA.bind(null,r,o,t),[t]),r.flags|=2048,Tl(9,HA.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=tr(),e=xt.identifierPrefix;if(Ke){var n=xr,r=br;n=(r&~(1<<32-Kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gM={readContext:On,useCallback:tC,useContext:On,useEffect:yy,useImperativeHandle:eC,useInsertionEffect:XA,useLayoutEffect:QA,useMemo:nC,useReducer:ip,useRef:YA,useState:function(){return ip(El)},useDebugValue:wy,useDeferredValue:function(t){var e=Rn();return rC(e,ft.memoizedState,t)},useTransition:function(){var t=ip(El)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:zA,useSyncExternalStore:qA,useId:iC,unstable_isNewReconciler:!1},vM={readContext:On,useCallback:tC,useContext:On,useEffect:yy,useImperativeHandle:eC,useInsertionEffect:XA,useLayoutEffect:QA,useMemo:nC,useReducer:op,useRef:YA,useState:function(){return op(El)},useDebugValue:wy,useDeferredValue:function(t){var e=Rn();return ft===null?e.memoizedState=t:rC(e,ft.memoizedState,t)},useTransition:function(){var t=op(El)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:zA,useSyncExternalStore:qA,useId:iC,unstable_isNewReconciler:!1};function Fn(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Am(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sf={isMounted:function(t){return(t=t._reactInternals)?fo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zt(),i=ui(t),o=Tr(r,i);o.payload=e,n!=null&&(o.callback=n),e=si(t,o,i),e!==null&&(Jn(e,t,i,r),Sc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zt(),i=ui(t),o=Tr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=si(t,o,i),e!==null&&(Jn(e,t,i,r),Sc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zt(),r=ui(t),i=Tr(n,r);i.tag=2,e!=null&&(i.callback=e),e=si(t,i,r),e!==null&&(Jn(e,t,r,n),Sc(e,t,r))}};function Ww(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!vl(n,r)||!vl(i,o):!0}function lC(t,e,n){var r=!1,i=pi,o=e.contextType;return typeof o=="object"&&o!==null?o=On(o):(i=Qt(e)?Zi:Dt.current,r=e.contextTypes,o=(r=r!=null)?ha(t,i):pi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Kw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sf.enqueueReplaceState(e,e.state,null)}function Cm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},dy(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=On(o):(o=Qt(e)?Zi:Dt.current,i.context=ha(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Am(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sf.enqueueReplaceState(i,i.state,null),Jc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function va(t,e){try{var n="",r=e;do n+=GO(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function ap(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Pm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yM=typeof WeakMap=="function"?WeakMap:Map;function uC(t,e,n){n=Tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ed||(ed=!0,Lm=r),Pm(t,e)},n}function cC(t,e,n){n=Tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Pm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Pm(t,e),typeof r!="function"&&(li===null?li=new Set([this]):li.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Jw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=OM.bind(null,t,e,n),e.then(t,t))}function Yw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Tr(-1,1),e.tag=2,si(n,e,1))),n.lanes|=1),t)}var wM=jr.ReactCurrentOwner,Jt=!1;function Lt(t,e,n,r){e.child=t===null?UA(e,null,n,r):ma(e,t.child,n,r)}function Qw(t,e,n,r,i){n=n.render;var o=e.ref;return na(e,i),r=gy(t,e,n,r,o,i),n=vy(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Or(t,e,i)):(Ke&&n&&iy(e),e.flags|=1,Lt(t,e,r,i),e.child)}function Zw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Cy(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,dC(t,e,o,r,i)):(t=kc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:vl,n(a,r)&&t.ref===e.ref)return Or(t,e,i)}return e.flags|=1,t=ci(o,r),t.ref=e.ref,t.return=e,e.child=t}function dC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(vl(o,r)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,Or(t,e,i)}return km(t,e,n,r,i)}function fC(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(qo,an),an|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(qo,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Le(qo,an),an|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Le(qo,an),an|=r;return Lt(t,e,i,n),e.child}function hC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function km(t,e,n,r,i){var o=Qt(n)?Zi:Dt.current;return o=ha(e,o),na(e,i),n=gy(t,e,n,r,o,i),r=vy(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Or(t,e,i)):(Ke&&r&&iy(e),e.flags|=1,Lt(t,e,n,i),e.child)}function eb(t,e,n,r,i){if(Qt(n)){var o=!0;qc(e)}else o=!1;if(na(e,i),e.stateNode===null)Ac(t,e),lC(e,n,r),Cm(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=On(u):(u=Qt(n)?Zi:Dt.current,u=ha(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Kw(e,a,r,u),Wr=!1;var h=e.memoizedState;a.state=h,Jc(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Xt.current||Wr?(typeof c=="function"&&(Am(e,n,c,r),l=e.memoizedState),(s=Wr||Ww(e,n,s,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,FA(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Fn(e.type,s),a.props=u,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=Qt(n)?Zi:Dt.current,l=ha(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&Kw(e,a,r,l),Wr=!1,h=e.memoizedState,a.state=h,Jc(e,r,a,i);var v=e.memoizedState;s!==d||h!==v||Xt.current||Wr?(typeof g=="function"&&(Am(e,n,g,r),v=e.memoizedState),(u=Wr||Ww(e,n,u,r,h,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Im(t,e,n,r,o,i)}function Im(t,e,n,r,i,o){hC(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Uw(e,n,!1),Or(t,e,o);r=e.stateNode,wM.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ma(e,t.child,null,o),e.child=ma(e,null,s,o)):Lt(t,e,s,o),e.memoizedState=r.state,i&&Uw(e,n,!0),e.child}function pC(t){var e=t.stateNode;e.pendingContext?Lw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Lw(t,e.context,!1),fy(t,e.containerInfo)}function tb(t,e,n,r,i){return pa(),ay(i),e.flags|=256,Lt(t,e,n,r),e.child}var Nm={dehydrated:null,treeContext:null,retryLane:0};function Om(t){return{baseLanes:t,cachePool:null,transitions:null}}function mC(t,e,n){var r=e.pendingProps,i=Qe.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Le(Qe,i&1),t===null)return Em(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Af(a,r,0,null),t=Yi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Om(n),e.memoizedState=Nm,t):by(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return bM(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ci(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=ci(s,o):(o=Yi(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Om(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Nm,r}return o=t.child,t=o.sibling,r=ci(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function by(t,e){return e=Af({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gu(t,e,n,r){return r!==null&&ay(r),ma(e,t.child,null,n),t=by(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bM(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=ap(Error(J(422))),Gu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Af({mode:"visible",children:r.children},i,0,null),o=Yi(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ma(e,t.child,null,a),e.child.memoizedState=Om(a),e.memoizedState=Nm,o);if(!(e.mode&1))return Gu(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(J(419)),r=ap(o,r,void 0),Gu(t,e,a,r)}if(s=(a&t.childLanes)!==0,Jt||s){if(r=xt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Nr(t,i),Jn(r,t,i,-1))}return Ay(),r=ap(Error(J(421))),Gu(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=RM.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,fn=ai(i.nextSibling),hn=e,Ke=!0,Hn=null,t!==null&&(Tn[An++]=br,Tn[An++]=xr,Tn[An++]=eo,br=t.id,xr=t.overflow,eo=e),e=by(e,r.children),e.flags|=4096,e)}function nb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tm(t.return,e,n)}function sp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function gC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Lt(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nb(t,n,e);else if(t.tag===19)nb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Yc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),sp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}sp(e,!0,n,null,o);break;case"together":sp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ac(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Or(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),no|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xM(t,e,n){switch(e.tag){case 3:pC(e),pa();break;case 5:VA(e);break;case 1:Qt(e.type)&&qc(e);break;case 4:fy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Le(Wc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?mC(t,e,n):(Le(Qe,Qe.current&1),t=Or(t,e,n),t!==null?t.sibling:null);Le(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,fC(t,e,n)}return Or(t,e,n)}var vC,Rm,yC,wC;vC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rm=function(){};yC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,zi(or.current);var o=null;switch(n){case"input":i=tm(t,i),r=tm(t,r),o=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),o=[];break;case"textarea":i=im(t,i),r=im(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vc)}am(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};wC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ss(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _M(t,e,n){var r=e.pendingProps;switch(oy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return Qt(e.type)&&zc(),Nt(e),null;case 3:return r=e.stateNode,ga(),He(Xt),He(Dt),py(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hn!==null&&(Fm(Hn),Hn=null))),Rm(t,e),Nt(e),null;case 5:hy(e);var i=zi(_l.current);if(n=e.type,t!==null&&e.stateNode!=null)yC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Nt(e),null}if(t=zi(or.current),zu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[nr]=e,r[bl]=o,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<Vs.length;i++)Ve(Vs[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":dw(r,o),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ve("invalid",r);break;case"textarea":hw(r,o),Ve("invalid",r)}am(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Vu(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Vu(r.textContent,s,t),i=["children",""+s]):cl.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Mu(r),fw(r,o,!0);break;case"textarea":Mu(r),pw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=WT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[nr]=e,t[bl]=r,vC(t,e,!1,!1),e.stateNode=t;e:{switch(a=sm(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<Vs.length;i++)Ve(Vs[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":dw(t,r),i=tm(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":hw(t,r),i=im(t,r),Ve("invalid",t);break;default:i=r}am(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?YT(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&KT(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&dl(t,l):typeof l=="number"&&dl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(cl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ve("scroll",t):l!=null&&qv(t,o,l,a))}switch(n){case"input":Mu(t),fw(t,r,!1);break;case"textarea":Mu(t),pw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Qo(t,!!r.multiple,o,!1):r.defaultValue!=null&&Qo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(t&&e.stateNode!=null)wC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=zi(_l.current),zi(or.current),zu(e)){if(r=e.stateNode,n=e.memoizedProps,r[nr]=e,(o=r.nodeValue!==n)&&(t=hn,t!==null))switch(t.tag){case 3:Vu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nr]=e,e.stateNode=r}return Nt(e),null;case 13:if(He(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&fn!==null&&e.mode&1&&!(e.flags&128))jA(),pa(),e.flags|=98560,o=!1;else if(o=zu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[nr]=e}else pa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),o=!1}else Hn!==null&&(Fm(Hn),Hn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?pt===0&&(pt=3):Ay())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return ga(),Rm(t,e),t===null&&yl(e.stateNode.containerInfo),Nt(e),null;case 10:return uy(e.type._context),Nt(e),null;case 17:return Qt(e.type)&&zc(),Nt(e),null;case 19:if(He(Qe),o=e.memoizedState,o===null)return Nt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Ss(o,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Yc(t),a!==null){for(e.flags|=128,Ss(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Qe,Qe.current&1|2),e.child}t=t.sibling}o.tail!==null&&rt()>ya&&(e.flags|=128,r=!0,Ss(o,!1),e.lanes=4194304)}else{if(!r)if(t=Yc(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ss(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ke)return Nt(e),null}else 2*rt()-o.renderingStartTime>ya&&n!==1073741824&&(e.flags|=128,r=!0,Ss(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=rt(),e.sibling=null,n=Qe.current,Le(Qe,r?n&1|2:n&1),e):(Nt(e),null);case 22:case 23:return Ty(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?an&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function SM(t,e){switch(oy(e),e.tag){case 1:return Qt(e.type)&&zc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ga(),He(Xt),He(Dt),py(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hy(e),null;case 13:if(He(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));pa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Qe),null;case 4:return ga(),null;case 10:return uy(e.type._context),null;case 22:case 23:return Ty(),null;case 24:return null;default:return null}}var Hu=!1,Rt=!1,EM=typeof WeakSet=="function"?WeakSet:Set,ne=null;function zo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function Mm(t,e,n){try{n()}catch(r){tt(t,e,r)}}var rb=!1;function TM(t,e){if(vm=Uc,t=EA(),ry(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ym={focusedElem:t,selectionRange:n},Uc=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:Fn(e.type,y),x);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(E){tt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return v=rb,rb=!1,v}function Xs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Mm(e,n,o)}i=i.next}while(i!==r)}}function Ef(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $m(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bC(t){var e=t.alternate;e!==null&&(t.alternate=null,bC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nr],delete e[bl],delete e[xm],delete e[sM],delete e[lM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xC(t){return t.tag===5||t.tag===3||t.tag===4}function ib(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vc));else if(r!==4&&(t=t.child,t!==null))for(Dm(t,e,n),t=t.sibling;t!==null;)Dm(t,e,n),t=t.sibling}function jm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(jm(t,e,n),t=t.sibling;t!==null;)jm(t,e,n),t=t.sibling}var Ct=null,zn=!1;function qr(t,e,n){for(n=n.child;n!==null;)_C(t,e,n),n=n.sibling}function _C(t,e,n){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(gf,n)}catch{}switch(n.tag){case 5:Rt||zo(n,e);case 6:var r=Ct,i=zn;Ct=null,qr(t,e,n),Ct=r,zn=i,Ct!==null&&(zn?(t=Ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(zn?(t=Ct,n=n.stateNode,t.nodeType===8?ep(t.parentNode,n):t.nodeType===1&&ep(t,n),ml(t)):ep(Ct,n.stateNode));break;case 4:r=Ct,i=zn,Ct=n.stateNode.containerInfo,zn=!0,qr(t,e,n),Ct=r,zn=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Mm(n,e,a),i=i.next}while(i!==r)}qr(t,e,n);break;case 1:if(!Rt&&(zo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){tt(n,e,s)}qr(t,e,n);break;case 21:qr(t,e,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,qr(t,e,n),Rt=r):qr(t,e,n);break;default:qr(t,e,n)}}function ob(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new EM),e.forEach(function(r){var i=MM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ct=s.stateNode,zn=!1;break e;case 3:Ct=s.stateNode.containerInfo,zn=!0;break e;case 4:Ct=s.stateNode.containerInfo,zn=!0;break e}s=s.return}if(Ct===null)throw Error(J(160));_C(o,a,i),Ct=null,zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){tt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SC(e,t),e=e.sibling}function SC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),er(t),r&4){try{Xs(3,t,t.return),Ef(3,t)}catch(y){tt(t,t.return,y)}try{Xs(5,t,t.return)}catch(y){tt(t,t.return,y)}}break;case 1:Ln(e,t),er(t),r&512&&n!==null&&zo(n,n.return);break;case 5:if(Ln(e,t),er(t),r&512&&n!==null&&zo(n,n.return),t.flags&32){var i=t.stateNode;try{dl(i,"")}catch(y){tt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&GT(i,o),sm(s,a);var u=sm(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?YT(i,d):c==="dangerouslySetInnerHTML"?KT(i,d):c==="children"?dl(i,d):qv(i,c,d,u)}switch(s){case"input":nm(i,o);break;case"textarea":HT(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Qo(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?Qo(i,!!o.multiple,o.defaultValue,!0):Qo(i,!!o.multiple,o.multiple?[]:"",!1))}i[bl]=o}catch(y){tt(t,t.return,y)}}break;case 6:if(Ln(e,t),er(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){tt(t,t.return,y)}}break;case 3:if(Ln(e,t),er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ml(e.containerInfo)}catch(y){tt(t,t.return,y)}break;case 4:Ln(e,t),er(t);break;case 13:Ln(e,t),er(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Sy=rt())),r&4&&ob(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Rt=(u=Rt)||c,Ln(e,t),Rt=u):Ln(e,t),er(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ne=t,c=t.child;c!==null;){for(d=ne=c;ne!==null;){switch(h=ne,g=h.child,h.tag){case 0:case 11:case 14:case 15:Xs(4,h,h.return);break;case 1:zo(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){tt(r,n,y)}}break;case 5:zo(h,h.return);break;case 22:if(h.memoizedState!==null){sb(d);continue}}g!==null?(g.return=h,ne=g):sb(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=JT("display",a))}catch(y){tt(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){tt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ln(e,t),er(t),r&4&&ob(t);break;case 21:break;default:Ln(e,t),er(t)}}function er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xC(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(dl(i,""),r.flags&=-33);var o=ib(t);jm(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=ib(t);Dm(t,s,a);break;default:throw Error(J(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AM(t,e,n){ne=t,EC(t)}function EC(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Hu;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Rt;s=Hu;var u=Rt;if(Hu=a,(Rt=l)&&!u)for(ne=i;ne!==null;)a=ne,l=a.child,a.tag===22&&a.memoizedState!==null?lb(i):l!==null?(l.return=a,ne=l):lb(i);for(;o!==null;)ne=o,EC(o),o=o.sibling;ne=i,Hu=s,Rt=u}ab(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ne=o):ab(t)}}function ab(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rt||Ef(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Fn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&qw(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qw(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ml(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Rt||e.flags&512&&$m(e)}catch(h){tt(e,e.return,h)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function sb(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function lb(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ef(4,e)}catch(l){tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){tt(e,i,l)}}var o=e.return;try{$m(e)}catch(l){tt(e,o,l)}break;case 5:var a=e.return;try{$m(e)}catch(l){tt(e,a,l)}}}catch(l){tt(e,e.return,l)}if(e===t){ne=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ne=s;break}ne=e.return}}var CM=Math.ceil,Zc=jr.ReactCurrentDispatcher,xy=jr.ReactCurrentOwner,In=jr.ReactCurrentBatchConfig,Ee=0,xt=null,at=null,Pt=0,an=0,qo=gi(0),pt=0,Al=null,no=0,Tf=0,_y=0,Qs=null,Kt=null,Sy=0,ya=1/0,gr=null,ed=!1,Lm=null,li=null,Wu=!1,ei=null,td=0,Zs=0,Um=null,Cc=-1,Pc=0;function zt(){return Ee&6?rt():Cc!==-1?Cc:Cc=rt()}function ui(t){return t.mode&1?Ee&2&&Pt!==0?Pt&-Pt:cM.transition!==null?(Pc===0&&(Pc=lA()),Pc):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:mA(t.type)),t):1}function Jn(t,e,n,r){if(50<Zs)throw Zs=0,Um=null,Error(J(185));fu(t,n,r),(!(Ee&2)||t!==xt)&&(t===xt&&(!(Ee&2)&&(Tf|=n),pt===4&&Yr(t,Pt)),Zt(t,r),n===1&&Ee===0&&!(e.mode&1)&&(ya=rt()+500,xf&&vi()))}function Zt(t,e){var n=t.callbackNode;cR(t,e);var r=Lc(t,t===xt?Pt:0);if(r===0)n!==null&&vw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vw(n),e===1)t.tag===0?uM(ub.bind(null,t)):MA(ub.bind(null,t)),oM(function(){!(Ee&6)&&vi()}),n=null;else{switch(uA(r)){case 1:n=Jv;break;case 4:n=aA;break;case 16:n=jc;break;case 536870912:n=sA;break;default:n=jc}n=OC(n,TC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TC(t,e){if(Cc=-1,Pc=0,Ee&6)throw Error(J(327));var n=t.callbackNode;if(ra()&&t.callbackNode!==n)return null;var r=Lc(t,t===xt?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nd(t,r);else{e=r;var i=Ee;Ee|=2;var o=CC();(xt!==t||Pt!==e)&&(gr=null,ya=rt()+500,Ji(t,e));do try{IM();break}catch(s){AC(t,s)}while(!0);ly(),Zc.current=o,Ee=i,at!==null?e=0:(xt=null,Pt=0,e=pt)}if(e!==0){if(e===2&&(i=fm(t),i!==0&&(r=i,e=Bm(t,i))),e===1)throw n=Al,Ji(t,0),Yr(t,r),Zt(t,rt()),n;if(e===6)Yr(t,r);else{if(i=t.current.alternate,!(r&30)&&!PM(i)&&(e=nd(t,r),e===2&&(o=fm(t),o!==0&&(r=o,e=Bm(t,o))),e===1))throw n=Al,Ji(t,0),Yr(t,r),Zt(t,rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Oi(t,Kt,gr);break;case 3:if(Yr(t,r),(r&130023424)===r&&(e=Sy+500-rt(),10<e)){if(Lc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=bm(Oi.bind(null,t,Kt,gr),e);break}Oi(t,Kt,gr);break;case 4:if(Yr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Kn(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CM(r/1960))-r,10<r){t.timeoutHandle=bm(Oi.bind(null,t,Kt,gr),r);break}Oi(t,Kt,gr);break;case 5:Oi(t,Kt,gr);break;default:throw Error(J(329))}}}return Zt(t,rt()),t.callbackNode===n?TC.bind(null,t):null}function Bm(t,e){var n=Qs;return t.current.memoizedState.isDehydrated&&(Ji(t,e).flags|=256),t=nd(t,e),t!==2&&(e=Kt,Kt=n,e!==null&&Fm(e)),t}function Fm(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function PM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Xn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yr(t,e){for(e&=~_y,e&=~Tf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kn(e),r=1<<n;t[n]=-1,e&=~r}}function ub(t){if(Ee&6)throw Error(J(327));ra();var e=Lc(t,0);if(!(e&1))return Zt(t,rt()),null;var n=nd(t,e);if(t.tag!==0&&n===2){var r=fm(t);r!==0&&(e=r,n=Bm(t,r))}if(n===1)throw n=Al,Ji(t,0),Yr(t,e),Zt(t,rt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oi(t,Kt,gr),Zt(t,rt()),null}function Ey(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(ya=rt()+500,xf&&vi())}}function ro(t){ei!==null&&ei.tag===0&&!(Ee&6)&&ra();var e=Ee;Ee|=1;var n=In.transition,r=Ie;try{if(In.transition=null,Ie=1,t)return t()}finally{Ie=r,In.transition=n,Ee=e,!(Ee&6)&&vi()}}function Ty(){an=qo.current,He(qo)}function Ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iM(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(oy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zc();break;case 3:ga(),He(Xt),He(Dt),py();break;case 5:hy(r);break;case 4:ga();break;case 13:He(Qe);break;case 19:He(Qe);break;case 10:uy(r.type._context);break;case 22:case 23:Ty()}n=n.return}if(xt=t,at=t=ci(t.current,null),Pt=an=e,pt=0,Al=null,_y=Tf=no=0,Kt=Qs=null,Vi!==null){for(e=0;e<Vi.length;e++)if(n=Vi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Vi=null}return t}function AC(t,e){do{var n=at;try{if(ly(),Ec.current=Qc,Xc){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xc=!1}if(to=0,wt=ft=Ze=null,Ys=!1,Sl=0,xy.current=null,n===null||n.return===null){pt=1,Al=e,at=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Pt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Yw(a);if(g!==null){g.flags&=-257,Xw(g,a,s,o,e),g.mode&1&&Jw(o,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){Jw(o,u,e),Ay();break e}l=Error(J(426))}}else if(Ke&&s.mode&1){var x=Yw(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Xw(x,a,s,o,e),ay(va(l,s));break e}}o=l=va(l,s),pt!==4&&(pt=2),Qs===null?Qs=[o]:Qs.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=uC(o,l,e);zw(o,w);break e;case 1:s=l;var b=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(li===null||!li.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=cC(o,s,e);zw(o,E);break e}}o=o.return}while(o!==null)}kC(n)}catch(S){e=S,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function CC(){var t=Zc.current;return Zc.current=Qc,t===null?Qc:t}function Ay(){(pt===0||pt===3||pt===2)&&(pt=4),xt===null||!(no&268435455)&&!(Tf&268435455)||Yr(xt,Pt)}function nd(t,e){var n=Ee;Ee|=2;var r=CC();(xt!==t||Pt!==e)&&(gr=null,Ji(t,e));do try{kM();break}catch(i){AC(t,i)}while(!0);if(ly(),Ee=n,Zc.current=r,at!==null)throw Error(J(261));return xt=null,Pt=0,pt}function kM(){for(;at!==null;)PC(at)}function IM(){for(;at!==null&&!tR();)PC(at)}function PC(t){var e=NC(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?kC(t):at=e,xy.current=null}function kC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SM(n,e),n!==null){n.flags&=32767,at=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,at=null;return}}else if(n=_M(n,e,an),n!==null){at=n;return}if(e=e.sibling,e!==null){at=e;return}at=e=t}while(e!==null);pt===0&&(pt=5)}function Oi(t,e,n){var r=Ie,i=In.transition;try{In.transition=null,Ie=1,NM(t,e,n,r)}finally{In.transition=i,Ie=r}return null}function NM(t,e,n,r){do ra();while(ei!==null);if(Ee&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(dR(t,o),t===xt&&(at=xt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wu||(Wu=!0,OC(jc,function(){return ra(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=In.transition,In.transition=null;var a=Ie;Ie=1;var s=Ee;Ee|=4,xy.current=null,TM(t,n),SC(n,t),XR(ym),Uc=!!vm,ym=vm=null,t.current=n,AM(n),nR(),Ee=s,Ie=a,In.transition=o}else t.current=n;if(Wu&&(Wu=!1,ei=t,td=i),o=t.pendingLanes,o===0&&(li=null),oR(n.stateNode),Zt(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ed)throw ed=!1,t=Lm,Lm=null,t;return td&1&&t.tag!==0&&ra(),o=t.pendingLanes,o&1?t===Um?Zs++:(Zs=0,Um=t):Zs=0,vi(),null}function ra(){if(ei!==null){var t=uA(td),e=In.transition,n=Ie;try{if(In.transition=null,Ie=16>t?16:t,ei===null)var r=!1;else{if(t=ei,ei=null,td=0,Ee&6)throw Error(J(331));var i=Ee;for(Ee|=4,ne=t.current;ne!==null;){var o=ne,a=o.child;if(ne.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ne=u;ne!==null;){var c=ne;switch(c.tag){case 0:case 11:case 15:Xs(8,c,o)}var d=c.child;if(d!==null)d.return=c,ne=d;else for(;ne!==null;){c=ne;var h=c.sibling,g=c.return;if(bC(c),c===u){ne=null;break}if(h!==null){h.return=g,ne=h;break}ne=g}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ne=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ne=a;else e:for(;ne!==null;){if(o=ne,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Xs(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,ne=w;break e}ne=o.return}}var b=t.current;for(ne=b;ne!==null;){a=ne;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,ne=_;else e:for(a=b;ne!==null;){if(s=ne,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ef(9,s)}}catch(S){tt(s,s.return,S)}if(s===a){ne=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,ne=E;break e}ne=s.return}}if(Ee=i,vi(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(gf,t)}catch{}r=!0}return r}finally{Ie=n,In.transition=e}}return!1}function cb(t,e,n){e=va(n,e),e=uC(t,e,1),t=si(t,e,1),e=zt(),t!==null&&(fu(t,1,e),Zt(t,e))}function tt(t,e,n){if(t.tag===3)cb(t,t,n);else for(;e!==null;){if(e.tag===3){cb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(li===null||!li.has(r))){t=va(n,t),t=cC(e,t,1),e=si(e,t,1),t=zt(),e!==null&&(fu(e,1,t),Zt(e,t));break}}e=e.return}}function OM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(Pt&n)===n&&(pt===4||pt===3&&(Pt&130023424)===Pt&&500>rt()-Sy?Ji(t,0):_y|=n),Zt(t,e)}function IC(t,e){e===0&&(t.mode&1?(e=ju,ju<<=1,!(ju&130023424)&&(ju=4194304)):e=1);var n=zt();t=Nr(t,e),t!==null&&(fu(t,e,n),Zt(t,n))}function RM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),IC(t,n)}function MM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),IC(t,n)}var NC;NC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xt.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,xM(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,Ke&&e.flags&1048576&&$A(e,Hc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ac(t,e),t=e.pendingProps;var i=ha(e,Dt.current);na(e,n),i=gy(null,e,r,t,i,n);var o=vy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(r)?(o=!0,qc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dy(e),i.updater=Sf,e.stateNode=i,i._reactInternals=e,Cm(e,r,t,n),e=Im(null,e,r,!0,o,n)):(e.tag=0,Ke&&o&&iy(e),Lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ac(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=DM(r),t=Fn(r,t),i){case 0:e=km(null,e,r,t,n);break e;case 1:e=eb(null,e,r,t,n);break e;case 11:e=Qw(null,e,r,t,n);break e;case 14:e=Zw(null,e,r,Fn(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),km(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),eb(t,e,r,i,n);case 3:e:{if(pC(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,FA(t,e),Jc(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=va(Error(J(423)),e),e=tb(t,e,r,n,i);break e}else if(r!==i){i=va(Error(J(424)),e),e=tb(t,e,r,n,i);break e}else for(fn=ai(e.stateNode.containerInfo.firstChild),hn=e,Ke=!0,Hn=null,n=UA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pa(),r===i){e=Or(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return VA(e),t===null&&Em(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,wm(r,i)?a=null:o!==null&&wm(r,o)&&(e.flags|=32),hC(t,e),Lt(t,e,a,n),e.child;case 6:return t===null&&Em(e),null;case 13:return mC(t,e,n);case 4:return fy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ma(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),Qw(t,e,r,i,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Le(Wc,r._currentValue),r._currentValue=a,o!==null)if(Xn(o.value,a)){if(o.children===i.children&&!Xt.current){e=Or(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Tr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Tm(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Tm(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,na(e,n),i=On(i),r=r(i),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,i=Fn(r,e.pendingProps),i=Fn(r.type,i),Zw(t,e,r,i,n);case 15:return dC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),Ac(t,e),e.tag=1,Qt(r)?(t=!0,qc(e)):t=!1,na(e,n),lC(e,r,i),Cm(e,r,i,n),Im(null,e,r,!0,t,n);case 19:return gC(t,e,n);case 22:return fC(t,e,n)}throw Error(J(156,e.tag))};function OC(t,e){return oA(t,e)}function $M(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,n,r){return new $M(t,e,n,r)}function Cy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DM(t){if(typeof t=="function")return Cy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hv)return 11;if(t===Wv)return 14}return 2}function ci(t,e){var n=t.alternate;return n===null?(n=Pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kc(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Cy(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Mo:return Yi(n.children,i,o,e);case Gv:a=8,i|=8;break;case Xp:return t=Pn(12,n,e,i|2),t.elementType=Xp,t.lanes=o,t;case Qp:return t=Pn(13,n,e,i),t.elementType=Qp,t.lanes=o,t;case Zp:return t=Pn(19,n,e,i),t.elementType=Zp,t.lanes=o,t;case VT:return Af(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BT:a=10;break e;case FT:a=9;break e;case Hv:a=11;break e;case Wv:a=14;break e;case Hr:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Pn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Yi(t,e,n,r){return t=Pn(7,t,r,e),t.lanes=n,t}function Af(t,e,n,r){return t=Pn(22,t,r,e),t.elementType=VT,t.lanes=n,t.stateNode={isHidden:!1},t}function lp(t,e,n){return t=Pn(6,t,null,e),t.lanes=n,t}function up(t,e,n){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zh(0),this.expirationTimes=zh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Py(t,e,n,r,i,o,a,s,l){return t=new jM(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Pn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dy(o),t}function LM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ro,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function RC(t){if(!t)return pi;t=t._reactInternals;e:{if(fo(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Qt(n))return RA(t,n,e)}return e}function MC(t,e,n,r,i,o,a,s,l){return t=Py(n,r,!0,t,i,o,a,s,l),t.context=RC(null),n=t.current,r=zt(),i=ui(n),o=Tr(r,i),o.callback=e??null,si(n,o,i),t.current.lanes=i,fu(t,i,r),Zt(t,r),t}function Cf(t,e,n,r){var i=e.current,o=zt(),a=ui(i);return n=RC(n),e.context===null?e.context=n:e.pendingContext=n,e=Tr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=si(i,e,a),t!==null&&(Jn(t,i,a,o),Sc(t,i,a)),a}function rd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function db(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ky(t,e){db(t,e),(t=t.alternate)&&db(t,e)}function UM(){return null}var $C=typeof reportError=="function"?reportError:function(t){console.error(t)};function Iy(t){this._internalRoot=t}Pf.prototype.render=Iy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Cf(t,e,null,null)};Pf.prototype.unmount=Iy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ro(function(){Cf(null,t,null,null)}),e[Ir]=null}};function Pf(t){this._internalRoot=t}Pf.prototype.unstable_scheduleHydration=function(t){if(t){var e=fA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jr.length&&e!==0&&e<Jr[n].priority;n++);Jr.splice(n,0,t),n===0&&pA(t)}};function Ny(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fb(){}function BM(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=rd(a);o.call(u)}}var a=MC(e,r,t,0,null,!1,!1,"",fb);return t._reactRootContainer=a,t[Ir]=a.current,yl(t.nodeType===8?t.parentNode:t),ro(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=rd(l);s.call(u)}}var l=Py(t,0,!1,null,null,!1,!1,"",fb);return t._reactRootContainer=l,t[Ir]=l.current,yl(t.nodeType===8?t.parentNode:t),ro(function(){Cf(e,l,n,r)}),l}function If(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=rd(a);s.call(l)}}Cf(e,a,t,i)}else a=BM(n,e,t,i,r);return rd(a)}cA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fs(e.pendingLanes);n!==0&&(Yv(e,n|1),Zt(e,rt()),!(Ee&6)&&(ya=rt()+500,vi()))}break;case 13:ro(function(){var r=Nr(t,1);if(r!==null){var i=zt();Jn(r,t,1,i)}}),ky(t,1)}};Xv=function(t){if(t.tag===13){var e=Nr(t,134217728);if(e!==null){var n=zt();Jn(e,t,134217728,n)}ky(t,134217728)}};dA=function(t){if(t.tag===13){var e=ui(t),n=Nr(t,e);if(n!==null){var r=zt();Jn(n,t,e,r)}ky(t,e)}};fA=function(){return Ie};hA=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};um=function(t,e,n){switch(e){case"input":if(nm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=bf(r);if(!i)throw Error(J(90));qT(r),nm(r,i)}}}break;case"textarea":HT(t,n);break;case"select":e=n.value,e!=null&&Qo(t,!!n.multiple,e,!1)}};ZT=Ey;eA=ro;var FM={usingClientEntryPoint:!1,Events:[pu,Lo,bf,XT,QT,Ey]},Es={findFiberByHostInstance:Fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VM={bundleType:Es.bundleType,version:Es.version,rendererPackageName:Es.rendererPackageName,rendererConfig:Es.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rA(t),t===null?null:t.stateNode},findFiberByHostInstance:Es.findFiberByHostInstance||UM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{gf=Ku.inject(VM),ir=Ku}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FM;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ny(e))throw Error(J(200));return LM(t,e,null,n)};vn.createRoot=function(t,e){if(!Ny(t))throw Error(J(299));var n=!1,r="",i=$C;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Py(t,1,!1,null,null,n,!1,r,i),t[Ir]=e.current,yl(t.nodeType===8?t.parentNode:t),new Iy(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=rA(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return ro(t)};vn.hydrate=function(t,e,n){if(!kf(e))throw Error(J(200));return If(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!Ny(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=$C;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=MC(e,null,t,1,n??null,i,!1,o,a),t[Ir]=e.current,yl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Pf(e)};vn.render=function(t,e,n){if(!kf(e))throw Error(J(200));return If(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!kf(t))throw Error(J(40));return t._reactRootContainer?(ro(function(){If(null,null,t,!1,function(){t._reactRootContainer=null,t[Ir]=null})}),!0):!1};vn.unstable_batchedUpdates=Ey;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kf(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return If(t,e,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function DC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DC)}catch(t){console.error(t)}}DC(),DT.exports=vn;var zM=DT.exports,hb=zM;Jp.createRoot=hb.createRoot,Jp.hydrateRoot=hb.hydrateRoot;var me=(t=>(t.Admin="Admin",t.Manager="Manager",t.Cashier="Cashier",t.Viewer="Viewer",t))(me||{});const jC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),LC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})}),UC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962c.513-.96 1.487-1.591 2.571-1.591h1.69c1.084 0 2.058.631 2.571 1.591m-1.5-4.87c.966-.054 1.932.026 2.867.231m-8.686.461a9.083 9.083 0 01-2.233-1.527m-5.145-2.747a6.75 6.75 0 01-1.025-2.185m-2.522-3.238a6.75 6.75 0 00-1.025 2.185m8.686 4.61a9.083 9.083 0 01-2.233 1.527m5.145 2.747a6.75 6.75 0 001.025 2.185m2.522 3.238a6.75 6.75 0 011.025-2.185m-8.686-4.61a9.083 9.083 0 002.233-1.527m-5.145-2.747a6.75 6.75 0 01-1.025-2.185m-2.522-3.238a6.75 6.75 0 00-1.025 2.185"})}),BC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.003c0 1.113.285 2.16.786 3.07M15 19.128c.331.149.661.296.992.443m-7.007-4.668a2.25 2.25 0 01-.02-3.956 2.25 2.25 0 013.976.02 2.25 2.25 0 01-.02 3.956 2.25 2.25 0 01-3.976-.02zM12 15.75l-4.243 4.243M12 15.75l4.243 4.243m-8.486-4.243L12 15.75l-4.243-4.243m4.243-4.243L12 11.25l-4.243 4.243M12 3v.01M16.5 4.5l.01.01M21 8.25v.01M21 12v.01M21 15.75v.01M16.5 19.5l.01.01M12 21v.01M7.5 19.5l-.01.01M3 15.75v.01M3 12v.01M3 8.25v.01M7.5 4.5l-.01.01"})}),qM=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-1.007 1.11-1.226.55-.22 1.156-.169 1.664.13a4.902 4.902 0 012.016 3.033h.003c.184 1.487.054 3.023-.384 4.484.09.09.182.178.27.264.47.442.823.979 1.05 1.58.227.602.268 1.25.122 1.867-.146.617-.458 1.18-.9 1.637a4.902 4.902 0 01-6.108 2.368c-1.897-.732-3.56-2.22-4.32-4.13a4.893 4.893 0 01.164-5.32c.532-.733 1.28-1.343 2.146-1.757.513-.246 1.06-.401 1.617-.464.089-.006.177-.013.266-.02zM12 9a3 3 0 100 6 3 3 0 000-6z"})}),pb=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125v-12.75a1.125 1.125 0 011.125-1.125h17.25a1.125 1.125 0 011.125 1.125v12.75a1.125 1.125 0 01-1.125 1.125m-17.25 0h.009v.008h-.009v-.008zm1.688 0h.009v.008h-.009v-.008zm1.687 0h.009v.008h-.009v-.008zm1.688 0h.009v.008h-.009v-.008zm1.687 0h.009v.008h-.009v-.008zM8.25 6h7.5M8.25 9h7.5m-7.5 3h7.5"})}),FC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c.51 0 .962-.343 1.087-.835l1.823-6.423a.75.75 0 00-.674-.928H5.216c-.464 0-.893.261-.928.704L3.63 10.25l-1.38-4.853A.75.75 0 001.5 5.25H2.25"})}),GM=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.516.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})}),HM=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125v-4.25m16 4.25a1.5 1.5 0 003 0m-3 0a1.5 1.5 0 01-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})}),VC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})}),WM=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.593l6.002-4.591c.828-.426.828-1.506 0-1.932l-6.002-4.591a2.02 2.02 0 00-1.607-.24L9.568 3z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),KM=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})}),JM=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"})}),YM=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"})}),XM=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),QM=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 013.75 9.375v-4.5zM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 01-1.125-1.125v-4.5zM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0113.5 9.375v-4.5z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75zM6.75 16.5h.75v.75h-.75v-.75zM16.5 6.75h.75v.75h-.75v-.75zM13.5 13.5h.75v.75h-.75v-.75zM13.5 19.5h.75v.75h-.75v-.75zM19.5 13.5h.75v.75h-.75v-.75zM19.5 19.5h.75v.75h-.75v-.75zM16.5 16.5h.75v.75h-.75v-.75z"})]}),ZM=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 017.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 011.06 0z"})}),e$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 004.5 4.5H18a3.75 3.75 0 001.332-7.257 3 3 0 00-3.758-3.848 5.25 5.25 0 00-10.233 2.33A4.502 4.502 0 002.25 15z"})}),t$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),n$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z"})}),r$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),cr={ChartBarIcon:jC,CubeIcon:LC,UserGroupIcon:UC,UsersIcon:BC,ShoppingCartIcon:FC,KeyIcon:GM,BanknotesIcon:VC,TagIcon:WM,ChatBubbleLeftRightIcon:KM,PrinterIcon:JM,GlobeAltIcon:YM,ArrowUpTrayIcon:XM,QrCodeIcon:QM,WifiIcon:ZM,CloudIcon:e$,BuildingStorefrontIcon:t$,ShieldCheckIcon:n$,XMarkIcon:r$},mb=.01,gb=7,ia=t=>t===me.Admin?{totalRevenue:!0,newCustomers:!0,productsSold:!0,todaysTransactions:!0,salesOverview:!0,topProducts:!0,recentActivity:!0,lowStockAlerts:!0,aiInsights:!0,licenseActivations:!0}:t===me.Manager?{totalRevenue:!0,productsSold:!0,salesOverview:!0,topProducts:!0,lowStockAlerts:!0,aiInsights:!0}:t===me.Cashier?{todaysTransactions:!0,productsSold:!0,lowStockAlerts:!0}:{},zC=[{name:"Dashboard",path:"dashboard",icon:jC,roles:[me.Admin,me.Manager,me.Cashier,me.Viewer]},{name:"Point of Sale",path:"pos",icon:FC,roles:[me.Admin,me.Manager,me.Cashier]},{name:"Products",path:"products",icon:LC,roles:[me.Admin,me.Manager]},{name:"Customers",path:"customers",icon:UC,roles:[me.Admin,me.Manager,me.Cashier]},{name:"Employees",path:"employees",icon:BC,roles:[me.Admin]},{name:"Suppliers",path:"suppliers",icon:HM,roles:[me.Admin,me.Manager]},{name:"Purchases",path:"purchases",icon:pb,roles:[me.Admin,me.Manager]},{name:"Expenses",path:"expenses",icon:VC,roles:[me.Admin,me.Manager]},{name:"Reports",path:"reports",icon:pb,roles:[me.Admin,me.Manager]},{name:"Settings",path:"settings",icon:qM,roles:[me.Admin,me.Manager,me.Cashier,me.Viewer]}],i$=[{id:"totalRevenue",name:"Total Revenue"},{id:"newCustomers",name:"New Customers"},{id:"productsSold",name:"Products Sold"},{id:"todaysTransactions",name:"Todays Transactions"},{id:"salesOverview",name:"Sales Overview"},{id:"topProducts",name:"Top Products"},{id:"recentActivity",name:"Recent Activity"},{id:"lowStockAlerts",name:"Low Stock Alerts"},{id:"aiInsights",name:"AI-Powered Insights"},{id:"licenseActivations",name:"License Activations"}],vb=[{id:"u1",name:"Super Admin",email:"superadmin@zenith.com",password:"superadmin123!",role:me.Admin,avatarUrl:"https://i.pravatar.cc/150?u=u1",dashboardWidgets:ia(me.Admin),organizationId:"org_admin"},{id:"u2",name:"Jane Smith",email:"manager@zenith.com",password:"123",role:me.Manager,avatarUrl:"https://i.pravatar.cc/150?u=u2",dashboardWidgets:ia(me.Manager),organizationId:"org_tech"},{id:"u3",name:"Bob Jones",email:"cashier@zenith.com",password:"123",role:me.Cashier,avatarUrl:"https://i.pravatar.cc/150?u=u3",dashboardWidgets:ia(me.Cashier),organizationId:"org_tech"}],o$=[{id:"p1",name:"Wireless Headphones",category:"Electronics",price:99.99,stock:45,sku:"WH-001",imageUrl:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=200&q=80",organizationId:"org_tech",lowStockThreshold:10},{id:"p2",name:"Smartphone Stand",category:"Accessories",price:19.99,stock:120,sku:"SS-002",imageUrl:"https://images.unsplash.com/photo-1586495777744-4413f21062fa?w=200&q=80",organizationId:"org_tech",lowStockThreshold:20},{id:"p3",name:"Mechanical Keyboard",category:"Electronics",price:149.5,stock:8,sku:"MK-003",imageUrl:"https://images.unsplash.com/photo-1587829741301-dc798b91a603?w=200&q=80",organizationId:"org_tech",lowStockThreshold:5},{id:"p4",name:"USB-C Cable",category:"Accessories",price:9.99,stock:200,sku:"UC-004",organizationId:"org_tech",lowStockThreshold:50},{id:"p5",name:"Espresso Blend",category:"Coffee",price:15,stock:50,sku:"CF-001",organizationId:"org_coffee",lowStockThreshold:10},{id:"p6",name:"Cappuccino",category:"Beverage",price:4.5,stock:500,sku:"BV-001",organizationId:"org_coffee"}],a$=[{id:"c1",name:"Alice Johnson",phone:"555-0101",email:"alice@example.com",loyaltyPoints:150,dueAmount:0,organizationId:"org_tech",creditLimit:500},{id:"c2",name:"Michael Brown",phone:"555-0102",email:"michael@example.com",loyaltyPoints:40,dueAmount:50,organizationId:"org_tech",creditLimit:200},{id:"c3",name:"Coffee Lover",phone:"555-0201",email:"coffee@example.com",loyaltyPoints:200,dueAmount:0,organizationId:"org_coffee"}],s$=[{id:"sup1",name:"Tech Distro Inc.",contactPerson:"John Sales",phone:"555-9999",email:"sales@techdistro.com",organizationId:"org_tech"},{id:"sup2",name:"Global Gadgets",contactPerson:"Sarah Supply",phone:"555-8888",email:"sarah@globalgadgets.com",organizationId:"org_tech"},{id:"sup3",name:"Bean Farmers Co.",contactPerson:"Juan Valdez",phone:"555-7777",email:"juan@beans.com",organizationId:"org_coffee"}],l$=[{id:"po1",supplierId:"sup1",supplierName:"Tech Distro Inc.",status:"Completed",items:[{productId:"p1",productName:"Wireless Headphones",quantity:10,cost:500}],total:500,createdAt:"2023-10-25T10:00:00Z",createdBy:"Admin",organizationId:"org_tech"}],u$=[{id:"e1",category:"Rent",description:"Monthly shop rent",amount:1500,date:"2023-11-01T09:00:00Z",recordedBy:"Admin",organizationId:"org_tech"},{id:"e2",category:"Utilities",description:"Electric bill",amount:200,date:"2023-11-05T14:30:00Z",recordedBy:"Manager",organizationId:"org_tech"}],c$=[{id:"s1001",date:"2023-11-20T10:30:00",total:119.98,cashier:"Bob Jones",cashierId:"u3",items:2,customerId:"c1",customerName:"Alice Johnson",amountPaid:119.98,paymentMethod:"Card",organizationId:"org_tech"},{id:"s1002",date:"2023-11-20T11:15:00",total:19.99,cashier:"Bob Jones",cashierId:"u3",items:1,customerId:"guest",customerName:"Guest",amountPaid:20,paymentMethod:"Cash",organizationId:"org_tech"},{id:"s1003",date:"2023-11-21T09:45:00",total:299,cashier:"Jane Smith",cashierId:"u2",items:2,customerId:"c2",customerName:"Michael Brown",amountPaid:299,paymentMethod:"Credit",organizationId:"org_tech"},{id:"s1004",date:"2023-11-21T14:20:00",total:9.99,cashier:"Bob Jones",cashierId:"u3",items:1,customerId:"guest",customerName:"Guest",amountPaid:9.99,paymentMethod:"Cash",organizationId:"org_tech"},{id:"s1005",date:"2023-11-22T16:00:00",total:15,cashier:"Barista",cashierId:"u4",items:1,customerId:"c3",customerName:"Coffee Lover",amountPaid:15,paymentMethod:"Cash",organizationId:"org_coffee"}],d$=[{name:"Mon",sales:4e3},{name:"Tue",sales:3e3},{name:"Wed",sales:2e3},{name:"Thu",sales:2780},{name:"Fri",sales:1890},{name:"Sat",sales:2390},{name:"Sun",sales:3490}],yb=[{name:"Headphones",value:400},{name:"Phone Stand",value:300},{name:"Keyboard",value:300},{name:"USB Cable",value:200}],f$=[{id:"l1",user:"Admin",action:'Updated inventory for "Headphones"',timestamp:"2023-11-21T10:00:00"},{id:"l2",user:"Jane Smith",action:"Processed refund for Order #s1003",timestamp:"2023-11-21T11:30:00"},{id:"l3",user:"Bob Jones",action:"Logged in",timestamp:"2023-11-22T08:55:00"}],h$=[{id:"lk1",key:"DEV-001",assignedToUserId:"u2",assignedToUserName:"Jane Smith",status:"Active",validity:"Lifetime",deviceName:"Counter 1",organizationId:"org_tech"},{id:"lk2",key:"DEV-002",assignedToUserId:"u3",assignedToUserName:"Bob Jones",status:"Active",validity:"2024-12-31",deviceName:"Counter 2",organizationId:"org_tech"},{id:"lk3",key:"DEV-003",assignedToUserId:"u4",assignedToUserName:"Barista",status:"Active",validity:"Lifetime",deviceName:"Main Register",organizationId:"org_coffee"}],p$=[{id:"n1",title:"Low Stock Alert",message:"Wireless Headphones stock is below 10.",timestamp:"2023-11-22T09:00:00Z",read:!1,link:"products"},{id:"n2",title:"New Update",message:"Zenith POS v2.0 is now available.",timestamp:"2023-11-21T10:00:00Z",read:!0},{id:"n3",title:"Daily Report",message:"Yesterday's sales report is ready.",timestamp:"2023-11-21T08:00:00Z",read:!1,link:"reports"}],wn={products:{columns:[{key:"name",header:"Name",render:t=>m.jsxs("div",{className:"flex items-center gap-3",children:[t.imageUrl&&m.jsx("img",{src:t.imageUrl,alt:"",className:"w-8 h-8 rounded object-cover"}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-neutral-800 dark:text-neutral-200",children:t.name}),m.jsx("div",{className:"text-xs text-neutral-500",children:t.sku})]})]})},{key:"category",header:"Category"},{key:"price",header:"Price",render:t=>`$${t.price.toFixed(2)}`},{key:"stock",header:"Stock",render:t=>m.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${t.stock<=(t.lowStockThreshold||5)?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:[t.stock," units"]})}],formFields:[{key:"name",label:"Product Name",type:"text",required:!0},{key:"sku",label:"SKU / Barcode",type:"text",required:!0},{key:"category",label:"Category",type:"text",required:!0},{key:"price",label:"Price",type:"number",required:!0},{key:"stock",label:"Initial Stock",type:"number",required:!0},{key:"lowStockThreshold",label:"Low Stock Alert Level",type:"number"},{key:"imageUrl",label:"Product Image",type:"image"}]},customers:{columns:[{key:"name",header:"Name"},{key:"phone",header:"Phone"},{key:"loyaltyPoints",header:"Points",render:t=>m.jsx("span",{className:"font-mono text-amber-600 font-bold",children:t.loyaltyPoints})},{key:"dueAmount",header:"Due",render:t=>m.jsxs("span",{className:t.dueAmount>0?"text-red-600 font-bold":"text-green-600",children:["$",t.dueAmount.toFixed(2)]})}],formFields:[{key:"name",label:"Full Name",type:"text",required:!0},{key:"phone",label:"Phone Number",type:"text",required:!0},{key:"email",label:"Email",type:"email"},{key:"creditLimit",label:"Credit Limit",type:"number"}]},employees:{columns:[{key:"name",header:"Name",render:t=>m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("img",{src:t.avatarUrl,alt:"",className:"w-6 h-6 rounded-full"}),m.jsx("span",{children:t.name})]})},{key:"email",header:"Email"},{key:"role",header:"Role",render:t=>m.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-semibold
                    ${t.role===me.Admin?"bg-purple-100 text-purple-800":t.role===me.Manager?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:t.role})}],formFields:[{key:"name",label:"Name",type:"text",required:!0},{key:"email",label:"Email",type:"email",required:!0},{key:"password",label:"Password",type:"text",required:!0},{key:"role",label:"Role",type:"select",options:Object.values(me).map(t=>({value:t,label:t})),required:!0}]},suppliers:{columns:[{key:"name",header:"Company Name"},{key:"contactPerson",header:"Contact Person"},{key:"phone",header:"Phone"},{key:"email",header:"Email"}],formFields:[{key:"name",label:"Company Name",type:"text",required:!0},{key:"contactPerson",label:"Contact Person",type:"text",required:!0},{key:"phone",label:"Phone",type:"text",required:!0},{key:"email",label:"Email",type:"email",required:!0}]},purchases:{columns:[{key:"id",header:"PO ID",render:t=>m.jsxs("span",{className:"font-mono text-xs",children:["#",t.id]})},{key:"supplierName",header:"Supplier"},{key:"status",header:"Status",render:t=>m.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${t.status==="Completed"?"bg-green-100 text-green-800":t.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:t.status})},{key:"total",header:"Total Cost",render:t=>`$${t.total.toFixed(2)}`},{key:"createdAt",header:"Date",render:t=>new Date(t.createdAt).toLocaleDateString()}],formFields:[{key:"supplierId",label:"Supplier",type:"select",options:[],required:!0},{key:"status",label:"Status",type:"select",options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],required:!0}]},expenses:{columns:[{key:"category",header:"Category"},{key:"description",header:"Description"},{key:"amount",header:"Amount",render:t=>`$${t.amount.toFixed(2)}`},{key:"date",header:"Date",render:t=>new Date(t.date).toLocaleDateString()},{key:"recordedBy",header:"Recorded By"}],formFields:[{key:"category",label:"Category",type:"text",required:!0},{key:"description",label:"Description",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0},{key:"date",label:"Date",type:"text"}]}},m$={en:{Dashboard:"Dashboard","Point of Sale":"Point of Sale",Products:"Products",Customers:"Customers",Employees:"Employees",Settings:"Settings",Reports:"Reports",Suppliers:"Suppliers",Purchases:"Purchases",Expenses:"Expenses","Total Revenue":"Total Revenue","New Customers":"New Customers","Products Sold":"Products Sold","Todays Transactions":"Today's Transactions",Search:"Search products...",Charge:"Charge",Subtotal:"Subtotal",Tax:"Tax",Total:"Total","Add New":"Add New","Import CSV":"Import CSV","Print Labels":"Print Labels"},bn:{Dashboard:"","Point of Sale":" ",Products:" ",Customers:" ",Employees:"",Settings:"",Reports:"",Suppliers:"",Purchases:"",Expenses:"","Total Revenue":" ","New Customers":" ","Products Sold":" ","Todays Transactions":" ",Search:" ...",Charge:" ",Subtotal:"",Tax:"",Total:"","Add New":"  ","Import CSV":"CSV ","Print Labels":" "}},qC={USD:{symbol:"$",rate:1},BDT:{symbol:"",rate:110},EUR:{symbol:"",rate:.92},INR:{symbol:"",rate:83}},g$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.95-4.243l-1.591 1.591M5.25 12H3m4.243-4.95l1.591-1.591M12 9a3 3 0 100 6 3 3 0 000-6z"})}),v$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25c0 5.385 4.365 9.75 9.75 9.75 2.572 0 4.92-.99 6.697-2.648z"})}),y$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),w$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),b$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),{WifiIcon:x$,CloudIcon:_$}=cr,S$=({user:t,onLogout:e,toggleSidebar:n,isDarkMode:r,toggleDarkMode:i,businessName:o,businessLogo:a,activeView:s,setActiveView:l,notifications:u,setNotifications:c,activeShift:d,onToggleShift:h,isOnline:g,t:v,isInTrial:y})=>{const[x,w]=I.useState(!1),[b,_]=I.useState(!1),E=I.useRef(null),S=I.useRef(null),T=u.filter(k=>!k.read).length,A=k=>{k.link&&l(k.link),c(R=>R.map(j=>j.id===k.id?{...j,read:!0}:j)),_(!1)},C=()=>{c(k=>k.map(R=>({...R,read:!0})))},P=()=>{l("settings"),w(!1)},N=I.useMemo(()=>{if(s==="dashboard")return o;const k=zC.find(j=>j.path===s),R=k?k.name:s.charAt(0).toUpperCase()+s.slice(1);return v(R)},[s,o,v]);return I.useEffect(()=>{const k=R=>{E.current&&!E.current.contains(R.target)&&_(!1),S.current&&!S.current.contains(R.target)&&w(!1)};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[]),m.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-sm shadow-sm flex flex-col",children:[y&&m.jsxs("div",{className:"bg-amber-500 text-white text-xs font-bold text-center py-1 flex justify-center items-center gap-2",children:[m.jsx("span",{children:" 7-DAY FREE TRIAL MODE"}),m.jsx("span",{className:"hidden sm:inline",children:" - Full features available."}),m.jsx("button",{onClick:()=>l("settings"),className:"underline hover:text-amber-100 ml-2",children:"Activate Now"})]}),m.jsxs("div",{className:"grid grid-cols-3 items-center h-16 px-4 md:px-6 w-full",children:[m.jsxs("div",{className:"flex items-center justify-start gap-4",children:[m.jsx("button",{onClick:n,className:"lg:hidden text-neutral-600 dark:text-neutral-300",children:m.jsx(w$,{className:"w-6 h-6"})}),d&&m.jsxs("div",{className:"hidden sm:flex items-center gap-2 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 text-xs font-semibold px-3 py-1.5 rounded-full",children:[m.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),m.jsxs("span",{children:[v("Shift Started"),": ",new Date(d.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a?m.jsx("img",{src:a,alt:"Business Logo",className:"h-8 w-8 object-contain"}):m.jsx(b$,{className:"h-8 w-8 text-primary-600"}),m.jsx("h1",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-100 truncate",children:N})]}),m.jsxs("div",{className:"flex items-center justify-end space-x-2 md:space-x-4",children:[m.jsxs("div",{className:`hidden md:flex items-center gap-1.5 px-2 py-1 rounded-full border ${g?"border-green-200 bg-green-50 text-green-700 dark:border-green-900 dark:bg-green-900/20 dark:text-green-400":"border-neutral-200 bg-neutral-50 text-neutral-500 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-400"}`,children:[g?m.jsx(x$,{className:"w-4 h-4"}):m.jsx(_$,{className:"w-4 h-4"}),m.jsx("span",{className:"text-xs font-semibold",children:v(g?"Online":"Offline")})]}),m.jsx("button",{onClick:h,className:`hidden md:block text-sm font-semibold px-4 py-2 rounded-lg transition-colors ${d?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 hover:bg-red-200":"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 hover:bg-green-200"}`,children:v(d?"Clock Out":"Clock In")}),m.jsx("button",{onClick:i,className:"p-2 rounded-full text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:r?m.jsx(g$,{className:"w-5 h-5"}):m.jsx(v$,{className:"w-5 h-5"})}),m.jsxs("div",{className:"relative",ref:E,children:[m.jsxs("button",{onClick:()=>_(!b),className:"p-2 rounded-full text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:[m.jsx(y$,{className:"w-6 h-6"}),T>0&&m.jsx("span",{className:"absolute top-1 right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-white text-xs ring-2 ring-white dark:ring-neutral-900",children:T})]}),b&&m.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-neutral-800 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 z-40",children:[m.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-neutral-200 dark:border-neutral-700",children:[m.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),m.jsx("button",{onClick:C,className:"text-xs text-primary-600 dark:text-primary-400 hover:underline",children:"Mark all as read"})]}),m.jsx("ul",{className:"max-h-80 overflow-y-auto",children:u.map(k=>m.jsx("li",{onClick:()=>A(k),className:`p-3 border-b border-neutral-100 dark:border-neutral-700/50 hover:bg-neutral-50 dark:hover:bg-neutral-700/50 ${k.link?"cursor-pointer":""}`,children:m.jsxs("div",{className:"flex items-start gap-3",children:[!k.read&&m.jsx("div",{className:"mt-1.5 w-2 h-2 rounded-full bg-primary-500 flex-shrink-0"}),m.jsxs("div",{className:k.read?"pl-5":"",children:[m.jsx("p",{className:"font-semibold text-sm",children:k.title}),m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:k.message}),m.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:new Date(k.timestamp).toLocaleString()})]})]})},k.id))}),m.jsx("div",{className:"p-2 text-center border-t border-neutral-200 dark:border-neutral-700",children:m.jsx("button",{className:"text-sm font-medium text-primary-600 dark:text-primary-400 hover:underline",children:"View all notifications"})})]})]}),m.jsxs("div",{className:"relative",ref:S,children:[m.jsxs("button",{onClick:()=>w(!x),className:"flex items-center space-x-2",children:[m.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-9 h-9 rounded-full object-cover"}),m.jsxs("div",{className:"hidden md:block text-left",children:[m.jsx("p",{className:"text-sm font-semibold text-neutral-800 dark:text-neutral-100",children:t.name}),m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:t.role})]})]}),x&&m.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-neutral-800 rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5 z-40",children:[m.jsx("button",{onClick:P,className:"w-full text-left block px-4 py-2 text-sm text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:"Profile"}),m.jsx("button",{onClick:e,className:"w-full text-left block px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:"Logout"})]})]})]})]})]})},E$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),T$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),A$=({userRole:t,activeView:e,setActiveView:n,isOpen:r,setIsOpen:i,businessName:o,businessLogo:a,t:s})=>{const l=zC.filter(c=>c.roles.includes(t)),u=m.jsx("nav",{className:"flex-1 px-2 py-4 space-y-2",children:l.map(c=>m.jsxs("a",{href:"#",onClick:d=>{d.preventDefault(),n(c.path),window.innerWidth<1024&&i(!1)},className:`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 ${e===c.path?"bg-primary-600 text-white shadow-md":"text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700"}`,children:[m.jsx(c.icon,{className:"w-5 h-5 mr-3"}),m.jsx("span",{children:s(c.name)})]},c.name))});return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`fixed inset-0 bg-black/30 z-40 lg:hidden transition-opacity ${r?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>i(!1)}),m.jsxs("aside",{className:`fixed lg:relative inset-y-0 left-0 z-50 flex flex-col w-64 bg-white dark:bg-neutral-800 border-r border-neutral-200 dark:border-neutral-700 transition-transform duration-300 ease-in-out ${r?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[m.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-neutral-200 dark:border-neutral-700",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[a?m.jsx("img",{src:a,alt:"Business Logo",className:"h-10 w-10 object-contain"}):m.jsx(T$,{className:"h-9 w-9 text-primary-600"}),m.jsx("span",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-100",children:o})]}),m.jsx("button",{onClick:()=>i(!1),className:"p-2 rounded-md text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700 lg:hidden",children:m.jsx(E$,{className:"w-6 h-6"})})]}),u]})]})};function GC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=GC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ye(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=GC(t))&&(r&&(r+=" "),r+=e);return r}var C$=Array.isArray,en=C$,P$=typeof Nu=="object"&&Nu&&Nu.Object===Object&&Nu,HC=P$,k$=HC,I$=typeof self=="object"&&self&&self.Object===Object&&self,N$=k$||I$||Function("return this")(),dr=N$,O$=dr,R$=O$.Symbol,gu=R$,wb=gu,WC=Object.prototype,M$=WC.hasOwnProperty,$$=WC.toString,Ts=wb?wb.toStringTag:void 0;function D$(t){var e=M$.call(t,Ts),n=t[Ts];try{t[Ts]=void 0;var r=!0}catch{}var i=$$.call(t);return r&&(e?t[Ts]=n:delete t[Ts]),i}var j$=D$,L$=Object.prototype,U$=L$.toString;function B$(t){return U$.call(t)}var F$=B$,bb=gu,V$=j$,z$=F$,q$="[object Null]",G$="[object Undefined]",xb=bb?bb.toStringTag:void 0;function H$(t){return t==null?t===void 0?G$:q$:xb&&xb in Object(t)?V$(t):z$(t)}var Lr=H$;function W$(t){return t!=null&&typeof t=="object"}var Ur=W$,K$=Lr,J$=Ur,Y$="[object Symbol]";function X$(t){return typeof t=="symbol"||J$(t)&&K$(t)==Y$}var Ka=X$,Q$=en,Z$=Ka,e5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,t5=/^\w*$/;function n5(t,e){if(Q$(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Z$(t)?!0:t5.test(t)||!e5.test(t)||e!=null&&t in Object(e)}var Oy=n5;function r5(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var yi=r5;const Ja=Ne(yi);var i5=Lr,o5=yi,a5="[object AsyncFunction]",s5="[object Function]",l5="[object GeneratorFunction]",u5="[object Proxy]";function c5(t){if(!o5(t))return!1;var e=i5(t);return e==s5||e==l5||e==a5||e==u5}var Ry=c5;const ge=Ne(Ry);var d5=dr,f5=d5["__core-js_shared__"],h5=f5,cp=h5,_b=function(){var t=/[^.]+$/.exec(cp&&cp.keys&&cp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function p5(t){return!!_b&&_b in t}var m5=p5,g5=Function.prototype,v5=g5.toString;function y5(t){if(t!=null){try{return v5.call(t)}catch{}try{return t+""}catch{}}return""}var KC=y5,w5=Ry,b5=m5,x5=yi,_5=KC,S5=/[\\^$.*+?()[\]{}|]/g,E5=/^\[object .+?Constructor\]$/,T5=Function.prototype,A5=Object.prototype,C5=T5.toString,P5=A5.hasOwnProperty,k5=RegExp("^"+C5.call(P5).replace(S5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function I5(t){if(!x5(t)||b5(t))return!1;var e=w5(t)?k5:E5;return e.test(_5(t))}var N5=I5;function O5(t,e){return t==null?void 0:t[e]}var R5=O5,M5=N5,$5=R5;function D5(t,e){var n=$5(t,e);return M5(n)?n:void 0}var ho=D5,j5=ho,L5=j5(Object,"create"),Nf=L5,Sb=Nf;function U5(){this.__data__=Sb?Sb(null):{},this.size=0}var B5=U5;function F5(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var V5=F5,z5=Nf,q5="__lodash_hash_undefined__",G5=Object.prototype,H5=G5.hasOwnProperty;function W5(t){var e=this.__data__;if(z5){var n=e[t];return n===q5?void 0:n}return H5.call(e,t)?e[t]:void 0}var K5=W5,J5=Nf,Y5=Object.prototype,X5=Y5.hasOwnProperty;function Q5(t){var e=this.__data__;return J5?e[t]!==void 0:X5.call(e,t)}var Z5=Q5,eD=Nf,tD="__lodash_hash_undefined__";function nD(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=eD&&e===void 0?tD:e,this}var rD=nD,iD=B5,oD=V5,aD=K5,sD=Z5,lD=rD;function Ya(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ya.prototype.clear=iD;Ya.prototype.delete=oD;Ya.prototype.get=aD;Ya.prototype.has=sD;Ya.prototype.set=lD;var uD=Ya;function cD(){this.__data__=[],this.size=0}var dD=cD;function fD(t,e){return t===e||t!==t&&e!==e}var My=fD,hD=My;function pD(t,e){for(var n=t.length;n--;)if(hD(t[n][0],e))return n;return-1}var Of=pD,mD=Of,gD=Array.prototype,vD=gD.splice;function yD(t){var e=this.__data__,n=mD(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():vD.call(e,n,1),--this.size,!0}var wD=yD,bD=Of;function xD(t){var e=this.__data__,n=bD(e,t);return n<0?void 0:e[n][1]}var _D=xD,SD=Of;function ED(t){return SD(this.__data__,t)>-1}var TD=ED,AD=Of;function CD(t,e){var n=this.__data__,r=AD(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var PD=CD,kD=dD,ID=wD,ND=_D,OD=TD,RD=PD;function Xa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xa.prototype.clear=kD;Xa.prototype.delete=ID;Xa.prototype.get=ND;Xa.prototype.has=OD;Xa.prototype.set=RD;var Rf=Xa,MD=ho,$D=dr,DD=MD($D,"Map"),$y=DD,Eb=uD,jD=Rf,LD=$y;function UD(){this.size=0,this.__data__={hash:new Eb,map:new(LD||jD),string:new Eb}}var BD=UD;function FD(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var VD=FD,zD=VD;function qD(t,e){var n=t.__data__;return zD(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Mf=qD,GD=Mf;function HD(t){var e=GD(this,t).delete(t);return this.size-=e?1:0,e}var WD=HD,KD=Mf;function JD(t){return KD(this,t).get(t)}var YD=JD,XD=Mf;function QD(t){return XD(this,t).has(t)}var ZD=QD,ej=Mf;function tj(t,e){var n=ej(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var nj=tj,rj=BD,ij=WD,oj=YD,aj=ZD,sj=nj;function Qa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qa.prototype.clear=rj;Qa.prototype.delete=ij;Qa.prototype.get=oj;Qa.prototype.has=aj;Qa.prototype.set=sj;var Dy=Qa,JC=Dy,lj="Expected a function";function jy(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(lj);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(jy.Cache||JC),n}jy.Cache=JC;var YC=jy;const uj=Ne(YC);var cj=YC,dj=500;function fj(t){var e=cj(t,function(r){return n.size===dj&&n.clear(),r}),n=e.cache;return e}var hj=fj,pj=hj,mj=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gj=/\\(\\)?/g,vj=pj(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(mj,function(n,r,i,o){e.push(i?o.replace(gj,"$1"):r||n)}),e}),yj=vj;function wj(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Ly=wj,Tb=gu,bj=Ly,xj=en,_j=Ka,Ab=Tb?Tb.prototype:void 0,Cb=Ab?Ab.toString:void 0;function XC(t){if(typeof t=="string")return t;if(xj(t))return bj(t,XC)+"";if(_j(t))return Cb?Cb.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Sj=XC,Ej=Sj;function Tj(t){return t==null?"":Ej(t)}var QC=Tj,Aj=en,Cj=Oy,Pj=yj,kj=QC;function Ij(t,e){return Aj(t)?t:Cj(t,e)?[t]:Pj(kj(t))}var ZC=Ij,Nj=Ka;function Oj(t){if(typeof t=="string"||Nj(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var $f=Oj,Rj=ZC,Mj=$f;function $j(t,e){e=Rj(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Mj(e[n++])];return n&&n==r?t:void 0}var Uy=$j,Dj=Uy;function jj(t,e,n){var r=t==null?void 0:Dj(t,e);return r===void 0?n:r}var eP=jj;const pn=Ne(eP);function Lj(t){return t==null}var Uj=Lj;const ve=Ne(Uj);var Bj=Lr,Fj=en,Vj=Ur,zj="[object String]";function qj(t){return typeof t=="string"||!Fj(t)&&Vj(t)&&Bj(t)==zj}var Gj=qj;const io=Ne(Gj);var tP={exports:{}},Oe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By=Symbol.for("react.element"),Fy=Symbol.for("react.portal"),Df=Symbol.for("react.fragment"),jf=Symbol.for("react.strict_mode"),Lf=Symbol.for("react.profiler"),Uf=Symbol.for("react.provider"),Bf=Symbol.for("react.context"),Hj=Symbol.for("react.server_context"),Ff=Symbol.for("react.forward_ref"),Vf=Symbol.for("react.suspense"),zf=Symbol.for("react.suspense_list"),qf=Symbol.for("react.memo"),Gf=Symbol.for("react.lazy"),Wj=Symbol.for("react.offscreen"),nP;nP=Symbol.for("react.module.reference");function $n(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case By:switch(t=t.type,t){case Df:case Lf:case jf:case Vf:case zf:return t;default:switch(t=t&&t.$$typeof,t){case Hj:case Bf:case Ff:case Gf:case qf:case Uf:return t;default:return e}}case Fy:return e}}}Oe.ContextConsumer=Bf;Oe.ContextProvider=Uf;Oe.Element=By;Oe.ForwardRef=Ff;Oe.Fragment=Df;Oe.Lazy=Gf;Oe.Memo=qf;Oe.Portal=Fy;Oe.Profiler=Lf;Oe.StrictMode=jf;Oe.Suspense=Vf;Oe.SuspenseList=zf;Oe.isAsyncMode=function(){return!1};Oe.isConcurrentMode=function(){return!1};Oe.isContextConsumer=function(t){return $n(t)===Bf};Oe.isContextProvider=function(t){return $n(t)===Uf};Oe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===By};Oe.isForwardRef=function(t){return $n(t)===Ff};Oe.isFragment=function(t){return $n(t)===Df};Oe.isLazy=function(t){return $n(t)===Gf};Oe.isMemo=function(t){return $n(t)===qf};Oe.isPortal=function(t){return $n(t)===Fy};Oe.isProfiler=function(t){return $n(t)===Lf};Oe.isStrictMode=function(t){return $n(t)===jf};Oe.isSuspense=function(t){return $n(t)===Vf};Oe.isSuspenseList=function(t){return $n(t)===zf};Oe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Df||t===Lf||t===jf||t===Vf||t===zf||t===Wj||typeof t=="object"&&t!==null&&(t.$$typeof===Gf||t.$$typeof===qf||t.$$typeof===Uf||t.$$typeof===Bf||t.$$typeof===Ff||t.$$typeof===nP||t.getModuleId!==void 0)};Oe.typeOf=$n;tP.exports=Oe;var Kj=tP.exports,Jj=Lr,Yj=Ur,Xj="[object Number]";function Qj(t){return typeof t=="number"||Yj(t)&&Jj(t)==Xj}var rP=Qj;const Zj=Ne(rP);var eL=rP;function tL(t){return eL(t)&&t!=+t}var nL=tL;const vu=Ne(nL);var Bt=function(e){return e===0?0:e>0?1:-1},qi=function(e){return io(e)&&e.indexOf("%")===e.length-1},Y=function(e){return Zj(e)&&!vu(e)},rL=function(e){return ve(e)},mt=function(e){return Y(e)||io(e)},iL=0,Za=function(e){var n=++iL;return"".concat(e||"").concat(n)},Ft=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Y(e)&&!io(e))return r;var o;if(qi(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return vu(o)&&(o=r),i&&o>n&&(o=n),o},Xr=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},oL=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ln=function(e,n){return Y(e)&&Y(n)?function(r){return e+r*(n-e)}:function(){return n}};function id(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):pn(r,e))===n})}var aL=function(e,n){return Y(e)&&Y(n)?e-n:io(e)&&io(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function oa(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}var sL=["viewBox","children"],lL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Pb=["points","pathLength"],dp={svg:sL,polygon:Pb,polyline:Pb},Vy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],od=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(O.isValidElement(e)&&(r=e.props),!Ja(r))return null;var i={};return Object.keys(r).forEach(function(o){Vy.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},uL=function(e,n,r){return function(i){return e(n,r,i),null}},oo=function(e,n,r){if(!Ja(e)||Vm(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];Vy.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=uL(a,n,r))}),i},cL=["children"],dL=["children"];function kb(t,e){if(t==null)return{};var n=fL(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}var Ib={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ar=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Nb=null,fp=null,zy=function t(e){if(e===Nb&&Array.isArray(fp))return fp;var n=[];return O.Children.forEach(e,function(r){ve(r)||(Kj.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),fp=n,Nb=e,n};function mn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ar(i)}):r=[Ar(e)],zy(t).forEach(function(i){var o=pn(i,"type.displayName")||pn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function sn(t,e){var n=mn(t,e);return n&&n[0]}var Ob=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Y(r)||r<=0||!Y(i)||i<=0)},hL=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pL=function(e){return e&&e.type&&io(e.type)&&hL.indexOf(e.type)>=0},mL=function(e){return e&&zm(e)==="object"&&"clipDot"in e},gL=function(e,n,r,i){var o,a=(o=dp==null?void 0:dp[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ge(e)&&(i&&a.includes(n)||lL.includes(n))||r&&Vy.includes(n)},ce=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(O.isValidElement(e)&&(i=e.props),!Ja(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;gL((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},qm=function t(e,n){if(e===n)return!0;var r=O.Children.count(e);if(r!==O.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Rb(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!Rb(o,a))return!1}return!0},Rb=function(e,n){if(ve(e)&&ve(n))return!0;if(!ve(e)&&!ve(n)){var r=e.props||{},i=r.children,o=kb(r,cL),a=n.props||{},s=a.children,l=kb(a,dL);return i&&s?oa(o,l)&&qm(i,s):!i&&!s?oa(o,l):!1}return!1},Mb=function(e,n){var r=[],i={};return zy(e).forEach(function(o,a){if(pL(o))r.push(o);else if(o){var s=Ar(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(o,s,a);r.push(d),i[s]=!0}}}),r},vL=function(e){var n=e&&e.type;return n&&Ib[n]?Ib[n]:null},yL=function(e,n){return zy(n).indexOf(e)},wL=["children","width","height","viewBox","className","style","title","desc"];function Gm(){return Gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gm.apply(this,arguments)}function bL(t,e){if(t==null)return{};var n=xL(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hm(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=bL(t,wL),c=i||{width:n,height:r,x:0,y:0},d=ye("recharts-surface",o);return I.createElement("svg",Gm({},ce(u,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),e)}var _L=["children","className"];function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wm.apply(this,arguments)}function SL(t,e){if(t==null)return{};var n=EL(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ae=I.forwardRef(function(t,e){var n=t.children,r=t.className,i=SL(t,_L),o=ye("recharts-layer",r);return I.createElement("g",Wm({className:o},ce(i,!0),{ref:e}),n)}),Yn=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function TL(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var AL=TL,CL=AL;function PL(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:CL(t,e,n)}var kL=PL,IL="\\ud800-\\udfff",NL="\\u0300-\\u036f",OL="\\ufe20-\\ufe2f",RL="\\u20d0-\\u20ff",ML=NL+OL+RL,$L="\\ufe0e\\ufe0f",DL="\\u200d",jL=RegExp("["+DL+IL+ML+$L+"]");function LL(t){return jL.test(t)}var iP=LL;function UL(t){return t.split("")}var BL=UL,oP="\\ud800-\\udfff",FL="\\u0300-\\u036f",VL="\\ufe20-\\ufe2f",zL="\\u20d0-\\u20ff",qL=FL+VL+zL,GL="\\ufe0e\\ufe0f",HL="["+oP+"]",Km="["+qL+"]",Jm="\\ud83c[\\udffb-\\udfff]",WL="(?:"+Km+"|"+Jm+")",aP="[^"+oP+"]",sP="(?:\\ud83c[\\udde6-\\uddff]){2}",lP="[\\ud800-\\udbff][\\udc00-\\udfff]",KL="\\u200d",uP=WL+"?",cP="["+GL+"]?",JL="(?:"+KL+"(?:"+[aP,sP,lP].join("|")+")"+cP+uP+")*",YL=cP+uP+JL,XL="(?:"+[aP+Km+"?",Km,sP,lP,HL].join("|")+")",QL=RegExp(Jm+"(?="+Jm+")|"+XL+YL,"g");function ZL(t){return t.match(QL)||[]}var e3=ZL,t3=BL,n3=iP,r3=e3;function i3(t){return n3(t)?r3(t):t3(t)}var o3=i3,a3=kL,s3=iP,l3=o3,u3=QC;function c3(t){return function(e){e=u3(e);var n=s3(e)?l3(e):void 0,r=n?n[0]:e.charAt(0),i=n?a3(n,1).join(""):e.slice(1);return r[t]()+i}}var d3=c3,f3=d3,h3=f3("toUpperCase"),p3=h3;const Hf=Ne(p3);function je(t){return function(){return t}}const dP=Math.cos,ad=Math.sin,Qn=Math.sqrt,sd=Math.PI,Wf=2*sd,Ym=Math.PI,Xm=2*Ym,Ri=1e-6,m3=Xm-Ri;function fP(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function g3(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return fP;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class v3{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?fP:g3(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ri)if(!(Math.abs(d*l-u*c)>Ri)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,v=i-s,y=l*l+u*u,x=g*g+v*v,w=Math.sqrt(y),b=Math.sqrt(h),_=o*Math.tan((Ym-Math.acos((y+h-x)/(2*w*b)))/2),E=_/b,S=_/w;Math.abs(E-1)>Ri&&this._append`L${e+E*c},${n+E*d}`,this._append`A${o},${o},0,0,${+(d*g>c*v)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ri||Math.abs(this._y1-c)>Ri)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Xm+Xm),h>m3?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Ri&&this._append`A${r},${r},0,${+(h>=Ym)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function qy(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new v3(e)}function Gy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hP(t){this._context=t}hP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Kf(t){return new hP(t)}function pP(t){return t[0]}function mP(t){return t[1]}function gP(t,e){var n=je(!0),r=null,i=Kf,o=null,a=qy(s);t=typeof t=="function"?t:t===void 0?pP:je(t),e=typeof e=="function"?e:e===void 0?mP:je(e);function s(l){var u,c=(l=Gy(l)).length,d,h=!1,g;for(r==null&&(o=i(g=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:je(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:je(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:je(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Ju(t,e,n){var r=null,i=je(!0),o=null,a=Kf,s=null,l=qy(u);t=typeof t=="function"?t:t===void 0?pP:je(+t),e=typeof e=="function"?e:je(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?mP:je(+n);function u(d){var h,g,v,y=(d=Gy(d)).length,x,w=!1,b,_=new Array(y),E=new Array(y);for(o==null&&(s=a(b=l())),h=0;h<=y;++h){if(!(h<y&&i(x=d[h],h,d))===w)if(w=!w)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=g;--v)s.point(_[v],E[v]);s.lineEnd(),s.areaEnd()}w&&(_[h]=+t(x,h,d),E[h]=+e(x,h,d),s.point(r?+r(x,h,d):_[h],n?+n(x,h,d):E[h]))}if(b)return s=null,b+""||null}function c(){return gP().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:je(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:je(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:je(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:je(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:je(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:je(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:je(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class vP{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function y3(t){return new vP(t,!0)}function w3(t){return new vP(t,!1)}const Hy={draw(t,e){const n=Qn(e/sd);t.moveTo(n,0),t.arc(0,0,n,0,Wf)}},b3={draw(t,e){const n=Qn(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},yP=Qn(1/3),x3=yP*2,_3={draw(t,e){const n=Qn(e/x3),r=n*yP;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},S3={draw(t,e){const n=Qn(e),r=-n/2;t.rect(r,r,n,n)}},E3=.8908130915292852,wP=ad(sd/10)/ad(7*sd/10),T3=ad(Wf/10)*wP,A3=-dP(Wf/10)*wP,C3={draw(t,e){const n=Qn(e*E3),r=T3*n,i=A3*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Wf*o/5,s=dP(a),l=ad(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},hp=Qn(3),P3={draw(t,e){const n=-Qn(e/(hp*3));t.moveTo(0,n*2),t.lineTo(-hp*n,-n),t.lineTo(hp*n,-n),t.closePath()}},bn=-.5,xn=Qn(3)/2,Qm=1/Qn(12),k3=(Qm/2+1)*3,I3={draw(t,e){const n=Qn(e/k3),r=n/2,i=n*Qm,o=r,a=n*Qm+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(bn*r-xn*i,xn*r+bn*i),t.lineTo(bn*o-xn*a,xn*o+bn*a),t.lineTo(bn*s-xn*l,xn*s+bn*l),t.lineTo(bn*r+xn*i,bn*i-xn*r),t.lineTo(bn*o+xn*a,bn*a-xn*o),t.lineTo(bn*s+xn*l,bn*l-xn*s),t.closePath()}};function N3(t,e){let n=null,r=qy(i);t=typeof t=="function"?t:je(t||Hy),e=typeof e=="function"?e:je(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:je(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:je(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function ld(){}function ud(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function bP(t){this._context=t}bP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ud(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ud(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function O3(t){return new bP(t)}function xP(t){this._context=t}xP.prototype={areaStart:ld,areaEnd:ld,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ud(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function R3(t){return new xP(t)}function _P(t){this._context=t}_P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ud(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function M3(t){return new _P(t)}function SP(t){this._context=t}SP.prototype={areaStart:ld,areaEnd:ld,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function $3(t){return new SP(t)}function $b(t){return t<0?-1:1}function Db(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return($b(o)+$b(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function jb(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function pp(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function cd(t){this._context=t}cd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pp(this,this._t0,jb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,pp(this,jb(this,n=Db(this,t,e)),n);break;default:pp(this,this._t0,n=Db(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function EP(t){this._context=new TP(t)}(EP.prototype=Object.create(cd.prototype)).point=function(t,e){cd.prototype.point.call(this,e,t)};function TP(t){this._context=t}TP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function D3(t){return new cd(t)}function j3(t){return new EP(t)}function AP(t){this._context=t}AP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Lb(t),i=Lb(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Lb(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function L3(t){return new AP(t)}function Jf(t,e){this._context=t,this._t=e}Jf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function U3(t){return new Jf(t,.5)}function B3(t){return new Jf(t,0)}function F3(t){return new Jf(t,1)}function wa(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Zm(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function V3(t,e){return t[e]}function z3(t){const e=[];return e.key=t,e}function q3(){var t=je([]),e=Zm,n=wa,r=V3;function i(o){var a=Array.from(t.apply(this,arguments),z3),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=Gy(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:je(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:je(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Zm:typeof o=="function"?o:je(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??wa,i):n},i}function G3(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}wa(t,e)}}function H3(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}wa(t,e)}}function W3(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],d=c[r][1]||0,h=c[r-1][1]||0,g=(d-h)/2,v=0;v<s;++v){var y=t[e[v]],x=y[r][1]||0,w=y[r-1][1]||0;g+=x-w}l+=d,u+=g*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,wa(t,e)}}function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}var K3=["type","size","sizeType"];function eg(){return eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eg.apply(this,arguments)}function Ub(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ub(Object(n),!0).forEach(function(r){J3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ub(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J3(t,e,n){return e=Y3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y3(t){var e=X3(t,"string");return Cl(e)=="symbol"?e:e+""}function X3(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q3(t,e){if(t==null)return{};var n=Z3(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Z3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var CP={symbolCircle:Hy,symbolCross:b3,symbolDiamond:_3,symbolSquare:S3,symbolStar:C3,symbolTriangle:P3,symbolWye:I3},eU=Math.PI/180,tU=function(e){var n="symbol".concat(Hf(e));return CP[n]||Hy},nU=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*eU;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rU=function(e,n){CP["symbol".concat(Hf(e))]=n},Wy=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=Q3(e,K3),u=Bb(Bb({},l),{},{type:r,size:o,sizeType:s}),c=function(){var x=tU(r),w=N3().type(x).size(nU(o,s,r));return w()},d=u.className,h=u.cx,g=u.cy,v=ce(u,!0);return h===+h&&g===+g&&o===+o?I.createElement("path",eg({},v,{className:ye("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(g,")"),d:c()})):null};Wy.registerSymbol=rU;function ba(t){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(t)}function tg(){return tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tg.apply(this,arguments)}function Fb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fb(Object(n),!0).forEach(function(r){Pl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kP(r.key),r)}}function sU(t,e,n){return e&&aU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lU(t,e,n){return e=dd(e),uU(t,PP()?Reflect.construct(e,n||[],dd(t).constructor):e.apply(t,n))}function uU(t,e){if(e&&(ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cU(t)}function cU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PP=function(){return!!t})()}function dd(t){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dd(t)}function dU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ng(t,e)}function ng(t,e){return ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ng(t,e)}function Pl(t,e,n){return e=kP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kP(t){var e=fU(t,"string");return ba(e)=="symbol"?e:e+""}function fU(t,e){if(ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _n=32,Ky=function(t){function e(){return oU(this,e),lU(this,e,arguments)}return dU(e,t),sU(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=_n/2,a=_n/6,s=_n/3,l=r.inactive?i:r.color;if(r.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:_n,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(_n,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(_n/8,"h").concat(_n,"v").concat(_n*3/4,"h").concat(-_n,"z"),className:"recharts-legend-icon"});if(I.isValidElement(r.legendIcon)){var u=iU({},r);return delete u.legendIcon,I.cloneElement(r.legendIcon,u)}return I.createElement(Wy,{fill:l,cx:o,cy:o,size:_n,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:_n,height:_n},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,v){var y=g.formatter||l,x=ye(Pl(Pl({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=ge(g.value)?null:g.value;Yn(!ge(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=g.inactive?u:g.color;return I.createElement("li",tg({className:x,style:d,key:"legend-item-".concat(v)},oo(r.props,g,v)),I.createElement(Hm,{width:a,height:a,viewBox:c,style:h},r.renderIcon(g)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(w,g,v):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);Pl(Ky,"displayName","Legend");Pl(Ky,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hU=Rf;function pU(){this.__data__=new hU,this.size=0}var mU=pU;function gU(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var vU=gU;function yU(t){return this.__data__.get(t)}var wU=yU;function bU(t){return this.__data__.has(t)}var xU=bU,_U=Rf,SU=$y,EU=Dy,TU=200;function AU(t,e){var n=this.__data__;if(n instanceof _U){var r=n.__data__;if(!SU||r.length<TU-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new EU(r)}return n.set(t,e),this.size=n.size,this}var CU=AU,PU=Rf,kU=mU,IU=vU,NU=wU,OU=xU,RU=CU;function es(t){var e=this.__data__=new PU(t);this.size=e.size}es.prototype.clear=kU;es.prototype.delete=IU;es.prototype.get=NU;es.prototype.has=OU;es.prototype.set=RU;var IP=es,MU="__lodash_hash_undefined__";function $U(t){return this.__data__.set(t,MU),this}var DU=$U;function jU(t){return this.__data__.has(t)}var LU=jU,UU=Dy,BU=DU,FU=LU;function fd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new UU;++e<n;)this.add(t[e])}fd.prototype.add=fd.prototype.push=BU;fd.prototype.has=FU;var NP=fd;function VU(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var OP=VU;function zU(t,e){return t.has(e)}var RP=zU,qU=NP,GU=OP,HU=RP,WU=1,KU=2;function JU(t,e,n,r,i,o){var a=n&WU,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,g=n&KU?new qU:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var v=t[d],y=e[d];if(r)var x=a?r(y,v,d,e,t,o):r(v,y,d,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(g){if(!GU(e,function(w,b){if(!HU(g,b)&&(v===w||i(v,w,n,r,o)))return g.push(b)})){h=!1;break}}else if(!(v===y||i(v,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var MP=JU,YU=dr,XU=YU.Uint8Array,QU=XU;function ZU(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var e4=ZU;function t4(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Jy=t4,Vb=gu,zb=QU,n4=My,r4=MP,i4=e4,o4=Jy,a4=1,s4=2,l4="[object Boolean]",u4="[object Date]",c4="[object Error]",d4="[object Map]",f4="[object Number]",h4="[object RegExp]",p4="[object Set]",m4="[object String]",g4="[object Symbol]",v4="[object ArrayBuffer]",y4="[object DataView]",qb=Vb?Vb.prototype:void 0,mp=qb?qb.valueOf:void 0;function w4(t,e,n,r,i,o,a){switch(n){case y4:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case v4:return!(t.byteLength!=e.byteLength||!o(new zb(t),new zb(e)));case l4:case u4:case f4:return n4(+t,+e);case c4:return t.name==e.name&&t.message==e.message;case h4:case m4:return t==e+"";case d4:var s=i4;case p4:var l=r&a4;if(s||(s=o4),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=s4,a.set(t,e);var c=r4(s(t),s(e),r,i,o,a);return a.delete(t),c;case g4:if(mp)return mp.call(t)==mp.call(e)}return!1}var b4=w4;function x4(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var $P=x4,_4=$P,S4=en;function E4(t,e,n){var r=e(t);return S4(t)?r:_4(r,n(t))}var T4=E4;function A4(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var C4=A4;function P4(){return[]}var k4=P4,I4=C4,N4=k4,O4=Object.prototype,R4=O4.propertyIsEnumerable,Gb=Object.getOwnPropertySymbols,M4=Gb?function(t){return t==null?[]:(t=Object(t),I4(Gb(t),function(e){return R4.call(t,e)}))}:N4,$4=M4;function D4(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var j4=D4,L4=Lr,U4=Ur,B4="[object Arguments]";function F4(t){return U4(t)&&L4(t)==B4}var V4=F4,Hb=V4,z4=Ur,DP=Object.prototype,q4=DP.hasOwnProperty,G4=DP.propertyIsEnumerable,H4=Hb(function(){return arguments}())?Hb:function(t){return z4(t)&&q4.call(t,"callee")&&!G4.call(t,"callee")},Yy=H4,hd={exports:{}};function W4(){return!1}var K4=W4;hd.exports;(function(t,e){var n=dr,r=K4,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(hd,hd.exports);var jP=hd.exports,J4=9007199254740991,Y4=/^(?:0|[1-9]\d*)$/;function X4(t,e){var n=typeof t;return e=e??J4,!!e&&(n=="number"||n!="symbol"&&Y4.test(t))&&t>-1&&t%1==0&&t<e}var Xy=X4,Q4=9007199254740991;function Z4(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Q4}var Qy=Z4,e6=Lr,t6=Qy,n6=Ur,r6="[object Arguments]",i6="[object Array]",o6="[object Boolean]",a6="[object Date]",s6="[object Error]",l6="[object Function]",u6="[object Map]",c6="[object Number]",d6="[object Object]",f6="[object RegExp]",h6="[object Set]",p6="[object String]",m6="[object WeakMap]",g6="[object ArrayBuffer]",v6="[object DataView]",y6="[object Float32Array]",w6="[object Float64Array]",b6="[object Int8Array]",x6="[object Int16Array]",_6="[object Int32Array]",S6="[object Uint8Array]",E6="[object Uint8ClampedArray]",T6="[object Uint16Array]",A6="[object Uint32Array]",ze={};ze[y6]=ze[w6]=ze[b6]=ze[x6]=ze[_6]=ze[S6]=ze[E6]=ze[T6]=ze[A6]=!0;ze[r6]=ze[i6]=ze[g6]=ze[o6]=ze[v6]=ze[a6]=ze[s6]=ze[l6]=ze[u6]=ze[c6]=ze[d6]=ze[f6]=ze[h6]=ze[p6]=ze[m6]=!1;function C6(t){return n6(t)&&t6(t.length)&&!!ze[e6(t)]}var P6=C6;function k6(t){return function(e){return t(e)}}var LP=k6,pd={exports:{}};pd.exports;(function(t,e){var n=HC,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(pd,pd.exports);var I6=pd.exports,N6=P6,O6=LP,Wb=I6,Kb=Wb&&Wb.isTypedArray,R6=Kb?O6(Kb):N6,UP=R6,M6=j4,$6=Yy,D6=en,j6=jP,L6=Xy,U6=UP,B6=Object.prototype,F6=B6.hasOwnProperty;function V6(t,e){var n=D6(t),r=!n&&$6(t),i=!n&&!r&&j6(t),o=!n&&!r&&!i&&U6(t),a=n||r||i||o,s=a?M6(t.length,String):[],l=s.length;for(var u in t)(e||F6.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||L6(u,l)))&&s.push(u);return s}var z6=V6,q6=Object.prototype;function G6(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||q6;return t===n}var H6=G6;function W6(t,e){return function(n){return t(e(n))}}var BP=W6,K6=BP,J6=K6(Object.keys,Object),Y6=J6,X6=H6,Q6=Y6,Z6=Object.prototype,eB=Z6.hasOwnProperty;function tB(t){if(!X6(t))return Q6(t);var e=[];for(var n in Object(t))eB.call(t,n)&&n!="constructor"&&e.push(n);return e}var nB=tB,rB=Ry,iB=Qy;function oB(t){return t!=null&&iB(t.length)&&!rB(t)}var yu=oB,aB=z6,sB=nB,lB=yu;function uB(t){return lB(t)?aB(t):sB(t)}var Yf=uB,cB=T4,dB=$4,fB=Yf;function hB(t){return cB(t,fB,dB)}var pB=hB,Jb=pB,mB=1,gB=Object.prototype,vB=gB.hasOwnProperty;function yB(t,e,n,r,i,o){var a=n&mB,s=Jb(t),l=s.length,u=Jb(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in e:vB.call(e,h)))return!1}var g=o.get(t),v=o.get(e);if(g&&v)return g==e&&v==t;var y=!0;o.set(t,e),o.set(e,t);for(var x=a;++d<l;){h=s[d];var w=t[h],b=e[h];if(r)var _=a?r(b,w,h,e,t,o):r(w,b,h,t,e,o);if(!(_===void 0?w===b||i(w,b,n,r,o):_)){y=!1;break}x||(x=h=="constructor")}if(y&&!x){var E=t.constructor,S=e.constructor;E!=S&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(y=!1)}return o.delete(t),o.delete(e),y}var wB=yB,bB=ho,xB=dr,_B=bB(xB,"DataView"),SB=_B,EB=ho,TB=dr,AB=EB(TB,"Promise"),CB=AB,PB=ho,kB=dr,IB=PB(kB,"Set"),FP=IB,NB=ho,OB=dr,RB=NB(OB,"WeakMap"),MB=RB,rg=SB,ig=$y,og=CB,ag=FP,sg=MB,VP=Lr,ts=KC,Yb="[object Map]",$B="[object Object]",Xb="[object Promise]",Qb="[object Set]",Zb="[object WeakMap]",ex="[object DataView]",DB=ts(rg),jB=ts(ig),LB=ts(og),UB=ts(ag),BB=ts(sg),Mi=VP;(rg&&Mi(new rg(new ArrayBuffer(1)))!=ex||ig&&Mi(new ig)!=Yb||og&&Mi(og.resolve())!=Xb||ag&&Mi(new ag)!=Qb||sg&&Mi(new sg)!=Zb)&&(Mi=function(t){var e=VP(t),n=e==$B?t.constructor:void 0,r=n?ts(n):"";if(r)switch(r){case DB:return ex;case jB:return Yb;case LB:return Xb;case UB:return Qb;case BB:return Zb}return e});var FB=Mi,gp=IP,VB=MP,zB=b4,qB=wB,tx=FB,nx=en,rx=jP,GB=UP,HB=1,ix="[object Arguments]",ox="[object Array]",Yu="[object Object]",WB=Object.prototype,ax=WB.hasOwnProperty;function KB(t,e,n,r,i,o){var a=nx(t),s=nx(e),l=a?ox:tx(t),u=s?ox:tx(e);l=l==ix?Yu:l,u=u==ix?Yu:u;var c=l==Yu,d=u==Yu,h=l==u;if(h&&rx(t)){if(!rx(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new gp),a||GB(t)?VB(t,e,n,r,i,o):zB(t,e,l,n,r,i,o);if(!(n&HB)){var g=c&&ax.call(t,"__wrapped__"),v=d&&ax.call(e,"__wrapped__");if(g||v){var y=g?t.value():t,x=v?e.value():e;return o||(o=new gp),i(y,x,n,r,o)}}return h?(o||(o=new gp),qB(t,e,n,r,i,o)):!1}var JB=KB,YB=JB,sx=Ur;function zP(t,e,n,r,i){return t===e?!0:t==null||e==null||!sx(t)&&!sx(e)?t!==t&&e!==e:YB(t,e,n,r,zP,i)}var Zy=zP,XB=IP,QB=Zy,ZB=1,eF=2;function tF(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new XB;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?QB(c,u,ZB|eF,r,d):h))return!1}}return!0}var nF=tF,rF=yi;function iF(t){return t===t&&!rF(t)}var qP=iF,oF=qP,aF=Yf;function sF(t){for(var e=aF(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,oF(i)]}return e}var lF=sF;function uF(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var GP=uF,cF=nF,dF=lF,fF=GP;function hF(t){var e=dF(t);return e.length==1&&e[0][2]?fF(e[0][0],e[0][1]):function(n){return n===t||cF(n,t,e)}}var pF=hF;function mF(t,e){return t!=null&&e in Object(t)}var gF=mF,vF=ZC,yF=Yy,wF=en,bF=Xy,xF=Qy,_F=$f;function SF(t,e,n){e=vF(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=_F(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&xF(i)&&bF(a,i)&&(wF(t)||yF(t)))}var EF=SF,TF=gF,AF=EF;function CF(t,e){return t!=null&&AF(t,e,TF)}var PF=CF,kF=Zy,IF=eP,NF=PF,OF=Oy,RF=qP,MF=GP,$F=$f,DF=1,jF=2;function LF(t,e){return OF(t)&&RF(e)?MF($F(t),e):function(n){var r=IF(n,t);return r===void 0&&r===e?NF(n,t):kF(e,r,DF|jF)}}var UF=LF;function BF(t){return t}var ns=BF;function FF(t){return function(e){return e==null?void 0:e[t]}}var VF=FF,zF=Uy;function qF(t){return function(e){return zF(e,t)}}var GF=qF,HF=VF,WF=GF,KF=Oy,JF=$f;function YF(t){return KF(t)?HF(JF(t)):WF(t)}var XF=YF,QF=pF,ZF=UF,e8=ns,t8=en,n8=XF;function r8(t){return typeof t=="function"?t:t==null?e8:typeof t=="object"?t8(t)?ZF(t[0],t[1]):QF(t):n8(t)}var fr=r8;function i8(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var HP=i8;function o8(t){return t!==t}var a8=o8;function s8(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var l8=s8,u8=HP,c8=a8,d8=l8;function f8(t,e,n){return e===e?d8(t,e,n):u8(t,c8,n)}var h8=f8,p8=h8;function m8(t,e){var n=t==null?0:t.length;return!!n&&p8(t,e,0)>-1}var g8=m8;function v8(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var y8=v8;function w8(){}var b8=w8,vp=FP,x8=b8,_8=Jy,S8=1/0,E8=vp&&1/_8(new vp([,-0]))[1]==S8?function(t){return new vp(t)}:x8,T8=E8,A8=NP,C8=g8,P8=y8,k8=RP,I8=T8,N8=Jy,O8=200;function R8(t,e,n){var r=-1,i=C8,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=P8;else if(o>=O8){var u=e?null:I8(t);if(u)return N8(u);a=!1,i=k8,l=new A8}else l=e?[]:s;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var M8=R8,$8=fr,D8=M8;function j8(t,e){return t&&t.length?D8(t,$8(e)):[]}var L8=j8;const lx=Ne(L8);function WP(t,e,n){return e===!0?lx(t,n):ge(e)?lx(t,e):t}function xa(t){"@babel/helpers - typeof";return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(t)}var U8=["ref"];function ux(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ux(Object(n),!0).forEach(function(r){Xf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ux(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JP(r.key),r)}}function F8(t,e,n){return e&&cx(t.prototype,e),n&&cx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function V8(t,e,n){return e=md(e),z8(t,KP()?Reflect.construct(e,n||[],md(t).constructor):e.apply(t,n))}function z8(t,e){if(e&&(xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q8(t)}function q8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KP=function(){return!!t})()}function md(t){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},md(t)}function G8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lg(t,e)}function lg(t,e){return lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lg(t,e)}function Xf(t,e,n){return e=JP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JP(t){var e=H8(t,"string");return xa(e)=="symbol"?e:e+""}function H8(t,e){if(xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function W8(t,e){if(t==null)return{};var n=K8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function K8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function J8(t){return t.value}function Y8(t,e){if(I.isValidElement(t))return I.cloneElement(t,e);if(typeof t=="function")return I.createElement(t,e);e.ref;var n=W8(e,U8);return I.createElement(Ky,n)}var dx=1,di=function(t){function e(){var n;B8(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=V8(this,e,[].concat(i)),Xf(n,"lastBoundingBox",{width:-1,height:-1}),n}return G8(e,t),F8(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>dx||Math.abs(i.height-this.lastBoundingBox.height)>dx)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?pr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();d={left:((u||0)-g.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return pr(pr({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=pr(pr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(g){r.wrapperNode=g}},Y8(o,pr(pr({},this.props),{},{payload:WP(c,u,J8)})))}}],[{key:"getWithHeight",value:function(r,i){var o=pr(pr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Y(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(O.PureComponent);Xf(di,"displayName","Legend");Xf(di,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var fx=gu,X8=Yy,Q8=en,hx=fx?fx.isConcatSpreadable:void 0;function Z8(t){return Q8(t)||X8(t)||!!(hx&&t&&t[hx])}var e7=Z8,t7=$P,n7=e7;function YP(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=n7),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?YP(s,e-1,n,r,i):t7(i,s):r||(i[i.length]=s)}return i}var XP=YP;function r7(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var i7=r7,o7=i7,a7=o7(),s7=a7,l7=s7,u7=Yf;function c7(t,e){return t&&l7(t,e,u7)}var QP=c7,d7=yu;function f7(t,e){return function(n,r){if(n==null)return n;if(!d7(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var h7=f7,p7=QP,m7=h7,g7=m7(p7),e0=g7,v7=e0,y7=yu;function w7(t,e){var n=-1,r=y7(t)?Array(t.length):[];return v7(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var ZP=w7;function b7(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var x7=b7,px=Ka;function _7(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=px(t),a=e!==void 0,s=e===null,l=e===e,u=px(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var S7=_7,E7=S7;function T7(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=E7(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var A7=T7,yp=Ly,C7=Uy,P7=fr,k7=ZP,I7=x7,N7=LP,O7=A7,R7=ns,M7=en;function $7(t,e,n){e.length?e=yp(e,function(o){return M7(o)?function(a){return C7(a,o.length===1?o[0]:o)}:o}):e=[R7];var r=-1;e=yp(e,N7(P7));var i=k7(t,function(o,a,s){var l=yp(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return I7(i,function(o,a){return O7(o,a,n)})}var D7=$7;function j7(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var L7=j7,U7=L7,mx=Math.max;function B7(t,e,n){return e=mx(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=mx(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),U7(t,this,s)}}var F7=B7;function V7(t){return function(){return t}}var z7=V7,q7=ho,G7=function(){try{var t=q7(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ek=G7,H7=z7,gx=ek,W7=ns,K7=gx?function(t,e){return gx(t,"toString",{configurable:!0,enumerable:!1,value:H7(e),writable:!0})}:W7,J7=K7,Y7=800,X7=16,Q7=Date.now;function Z7(t){var e=0,n=0;return function(){var r=Q7(),i=X7-(r-n);if(n=r,i>0){if(++e>=Y7)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var eV=Z7,tV=J7,nV=eV,rV=nV(tV),iV=rV,oV=ns,aV=F7,sV=iV;function lV(t,e){return sV(aV(t,e,oV),t+"")}var uV=lV,cV=My,dV=yu,fV=Xy,hV=yi;function pV(t,e,n){if(!hV(n))return!1;var r=typeof e;return(r=="number"?dV(n)&&fV(e,n.length):r=="string"&&e in n)?cV(n[e],t):!1}var Qf=pV,mV=XP,gV=D7,vV=uV,vx=Qf,yV=vV(function(t,e){if(t==null)return[];var n=e.length;return n>1&&vx(t,e[0],e[1])?e=[]:n>2&&vx(e[0],e[1],e[2])&&(e=[e[0]]),gV(t,mV(e,1),[])}),wV=yV;const t0=Ne(wV);function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ug.apply(this,arguments)}function bV(t,e){return EV(t)||SV(t,e)||_V(t,e)||xV()}function xV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _V(t,e){if(t){if(typeof t=="string")return yx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yx(t,e)}}function yx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function EV(t){if(Array.isArray(t))return t}function wx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wx(Object(n),!0).forEach(function(r){TV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TV(t,e,n){return e=AV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AV(t){var e=CV(t,"string");return kl(e)=="symbol"?e:e+""}function CV(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PV(t){return Array.isArray(t)&&mt(t[0])&&mt(t[1])?t.join(" ~ "):t}var kV=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,g=e.wrapperClassName,v=e.labelClassName,y=e.label,x=e.labelFormatter,w=e.accessibilityLayer,b=w===void 0?!1:w,_=function(){if(c&&c.length){var R={padding:0,margin:0},j=(h?t0(c,h):c).map(function(V,F){if(V.type==="none")return null;var M=wp({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},s),L=V.formatter||d||PV,$=V.value,U=V.name,B=$,W=U;if(L&&B!=null&&W!=null){var H=L($,U,V,F,c);if(Array.isArray(H)){var X=bV(H,2);B=X[0],W=X[1]}else B=H}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:M},mt(W)?I.createElement("span",{className:"recharts-tooltip-item-name"},W):null,mt(W)?I.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,I.createElement("span",{className:"recharts-tooltip-item-value"},B),I.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:R},j)}return null},E=wp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=wp({margin:0},u),T=!ve(y),A=T?y:"",C=ye("recharts-default-tooltip",g),P=ye("recharts-tooltip-label",v);T&&x&&c!==void 0&&c!==null&&(A=x(y,c));var N=b?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",ug({className:C,style:E},N),I.createElement("p",{className:P,style:S},I.isValidElement(A)?A:"".concat(A)),_())};function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function Xu(t,e,n){return e=IV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IV(t){var e=NV(t,"string");return Il(e)=="symbol"?e:e+""}function NV(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var As="recharts-tooltip-wrapper",OV={visibility:"hidden"};function RV(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ye(As,Xu(Xu(Xu(Xu({},"".concat(As,"-right"),Y(n)&&e&&Y(e.x)&&n>=e.x),"".concat(As,"-left"),Y(n)&&e&&Y(e.x)&&n<e.x),"".concat(As,"-bottom"),Y(r)&&e&&Y(e.y)&&r>=e.y),"".concat(As,"-top"),Y(r)&&e&&Y(e.y)&&r<e.y))}function bx(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&Y(o[r]))return o[r];var c=n[r]-s-i,d=n[r]+i;if(e[r])return a[r]?c:d;if(a[r]){var h=c,g=l[r];return h<g?Math.max(d,l[r]):Math.max(c,l[r])}var v=d+s,y=l[r]+u;return v>y?Math.max(c,l[r]):Math.max(d,l[r])}function MV(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function $V(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return a.height>0&&a.width>0&&n?(c=bx({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=bx({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=MV({translateX:c,translateY:d,useTranslate3d:s})):u=OV,{cssProperties:u,cssClasses:RV({translateX:c,translateY:d,coordinate:n})}}function _a(t){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_a(t)}function xx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xx(Object(n),!0).forEach(function(r){dg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nk(r.key),r)}}function LV(t,e,n){return e&&jV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UV(t,e,n){return e=gd(e),BV(t,tk()?Reflect.construct(e,n||[],gd(t).constructor):e.apply(t,n))}function BV(t,e){if(e&&(_a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FV(t)}function FV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tk=function(){return!!t})()}function gd(t){return gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gd(t)}function VV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cg(t,e)}function cg(t,e){return cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cg(t,e)}function dg(t,e,n){return e=nk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nk(t){var e=zV(t,"string");return _a(e)=="symbol"?e:e+""}function zV(t,e){if(_a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sx=1,qV=function(t){function e(){var n;DV(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=UV(this,e,[].concat(i)),dg(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),dg(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return VV(e,t),LV(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Sx||Math.abs(r.height-this.state.lastBoundingBox.height)>Sx)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,g=i.offset,v=i.position,y=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,b=i.wrapperStyle,_=$V({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:g,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:w}),E=_.cssClasses,S=_.cssProperties,T=_x(_x({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return I.createElement("div",{tabIndex:-1,className:E,style:T,ref:function(C){r.wrapperNode=C}},u)}}])}(O.PureComponent),GV=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},po={isSsr:GV()};function Sa(t){"@babel/helpers - typeof";return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(t)}function Ex(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ex(Object(n),!0).forEach(function(r){n0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ex(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ik(r.key),r)}}function KV(t,e,n){return e&&WV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JV(t,e,n){return e=vd(e),YV(t,rk()?Reflect.construct(e,n||[],vd(t).constructor):e.apply(t,n))}function YV(t,e){if(e&&(Sa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XV(t)}function XV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rk=function(){return!!t})()}function vd(t){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vd(t)}function QV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fg(t,e)}function fg(t,e){return fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fg(t,e)}function n0(t,e,n){return e=ik(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ik(t){var e=ZV(t,"string");return Sa(e)=="symbol"?e:e+""}function ZV(t,e){if(Sa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ez(t){return t.dataKey}function tz(t,e){return I.isValidElement(t)?I.cloneElement(t,e):typeof t=="function"?I.createElement(t,e):I.createElement(kV,e)}var Sn=function(t){function e(){return HV(this,e),JV(this,e,arguments)}return QV(e,t),KV(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,g=i.offset,v=i.payload,y=i.payloadUniqBy,x=i.position,w=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,E=i.wrapperStyle,S=v??[];d&&S.length&&(S=WP(v.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),y,ez));var T=S.length>0;return I.createElement(qV,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:T,offset:g,position:x,reverseDirection:w,useTranslate3d:b,viewBox:_,wrapperStyle:E},tz(u,Tx(Tx({},this.props),{},{payload:S})))}}])}(O.PureComponent);n0(Sn,"displayName","Tooltip");n0(Sn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!po.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nz=dr,rz=function(){return nz.Date.now()},iz=rz,oz=/\s/;function az(t){for(var e=t.length;e--&&oz.test(t.charAt(e)););return e}var sz=az,lz=sz,uz=/^\s+/;function cz(t){return t&&t.slice(0,lz(t)+1).replace(uz,"")}var dz=cz,fz=dz,Ax=yi,hz=Ka,Cx=NaN,pz=/^[-+]0x[0-9a-f]+$/i,mz=/^0b[01]+$/i,gz=/^0o[0-7]+$/i,vz=parseInt;function yz(t){if(typeof t=="number")return t;if(hz(t))return Cx;if(Ax(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ax(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=fz(t);var n=mz.test(t);return n||gz.test(t)?vz(t.slice(2),n?2:8):pz.test(t)?Cx:+t}var ok=yz,wz=yi,bp=iz,Px=ok,bz="Expected a function",xz=Math.max,_z=Math.min;function Sz(t,e,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(bz);e=Px(e)||0,wz(n)&&(c=!!n.leading,d="maxWait"in n,o=d?xz(Px(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function g(T){var A=r,C=i;return r=i=void 0,u=T,a=t.apply(C,A),a}function v(T){return u=T,s=setTimeout(w,e),c?g(T):a}function y(T){var A=T-l,C=T-u,P=e-A;return d?_z(P,o-C):P}function x(T){var A=T-l,C=T-u;return l===void 0||A>=e||A<0||d&&C>=o}function w(){var T=bp();if(x(T))return b(T);s=setTimeout(w,y(T))}function b(T){return s=void 0,h&&r?g(T):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function E(){return s===void 0?a:b(bp())}function S(){var T=bp(),A=x(T);if(r=arguments,i=this,l=T,A){if(s===void 0)return v(l);if(d)return clearTimeout(s),s=setTimeout(w,e),g(l)}return s===void 0&&(s=setTimeout(w,e)),a}return S.cancel=_,S.flush=E,S}var Ez=Sz,Tz=Ez,Az=yi,Cz="Expected a function";function Pz(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Cz);return Az(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Tz(t,e,{leading:r,maxWait:e,trailing:i})}var kz=Pz;const ak=Ne(kz);function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function kx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kx(Object(n),!0).forEach(function(r){Iz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iz(t,e,n){return e=Nz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nz(t){var e=Oz(t,"string");return Nl(e)=="symbol"?e:e+""}function Oz(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rz(t,e){return jz(t)||Dz(t,e)||$z(t,e)||Mz()}function Mz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $z(t,e){if(t){if(typeof t=="string")return Ix(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ix(t,e)}}function Ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function jz(t){if(Array.isArray(t))return t}var r0=O.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,g=t.children,v=t.debounce,y=v===void 0?0:v,x=t.id,w=t.className,b=t.onResize,_=t.style,E=_===void 0?{}:_,S=O.useRef(null),T=O.useRef();T.current=b,O.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=O.useState({containerWidth:i.width,containerHeight:i.height}),C=Rz(A,2),P=C[0],N=C[1],k=O.useCallback(function(j,V){N(function(F){var M=Math.round(j),L=Math.round(V);return F.containerWidth===M&&F.containerHeight===L?F:{containerWidth:M,containerHeight:L}})},[]);O.useEffect(function(){var j=function(U){var B,W=U[0].contentRect,H=W.width,X=W.height;k(H,X),(B=T.current)===null||B===void 0||B.call(T,H,X)};y>0&&(j=ak(j,y,{trailing:!0,leading:!1}));var V=new ResizeObserver(j),F=S.current.getBoundingClientRect(),M=F.width,L=F.height;return k(M,L),V.observe(S.current),function(){V.disconnect()}},[k,y]);var R=O.useMemo(function(){var j=P.containerWidth,V=P.containerHeight;if(j<0||V<0)return null;Yn(qi(a)||qi(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Yn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=qi(a)?j:a,M=qi(l)?V:l;n&&n>0&&(F?M=F/n:M&&(F=M*n),h&&M>h&&(M=h)),Yn(F>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,M,a,l,c,d,n);var L=!Array.isArray(g)&&Ar(g.type).endsWith("Chart");return I.Children.map(g,function($){return I.isValidElement($)?O.cloneElement($,Qu({width:F,height:M},L?{style:Qu({height:"100%",width:"100%",maxHeight:M,maxWidth:F},$.props.style)}:{})):$})},[n,g,l,h,d,c,P,a]);return I.createElement("div",{id:x?"".concat(x):void 0,className:ye("recharts-responsive-container",w),style:Qu(Qu({},E),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:S},R)}),Zf=function(e){return null};Zf.displayName="Cell";function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function Nx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nx(Object(n),!0).forEach(function(r){Lz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lz(t,e,n){return e=Uz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uz(t){var e=Bz(t,"string");return Ol(e)=="symbol"?e:e+""}function Bz(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xo={widthCache:{},cacheCount:0},Fz=2e3,Vz={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ox="recharts_measurement_span";function zz(t){var e=hg({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var el=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||po.isSsr)return{width:0,height:0};var r=zz(n),i=JSON.stringify({text:e,copyStyle:r});if(xo.widthCache[i])return xo.widthCache[i];try{var o=document.getElementById(Ox);o||(o=document.createElement("span"),o.setAttribute("id",Ox),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=hg(hg({},Vz),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return xo.widthCache[i]=l,++xo.cacheCount>Fz&&(xo.cacheCount=0,xo.widthCache={}),l}catch{return{width:0,height:0}}},qz=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function yd(t,e){return Kz(t)||Wz(t,e)||Hz(t,e)||Gz()}function Gz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hz(t,e){if(t){if(typeof t=="string")return Rx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rx(t,e)}}function Rx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Kz(t){if(Array.isArray(t))return t}function Jz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xz(r.key),r)}}function Yz(t,e,n){return e&&Mx(t.prototype,e),n&&Mx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xz(t){var e=Qz(t,"string");return Rl(e)=="symbol"?e:e+""}function Qz(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $x=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zz=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tq=Object.keys(sk),Go="NaN";function nq(t,e){return t*sk[e]}var Zu=function(){function t(e,n){Jz(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Zz.test(n)&&(this.num=NaN,this.unit=""),tq.includes(n)&&(this.num=nq(e,n),this.unit="px")}return Yz(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=eq.exec(n))!==null&&r!==void 0?r:[],o=yd(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function lk(t){if(t.includes(Go))return Go;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=$x.exec(e))!==null&&n!==void 0?n:[],i=yd(r,4),o=i[1],a=i[2],s=i[3],l=Zu.parse(o??""),u=Zu.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Go;e=e.replace($x,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=Dx.exec(e))!==null&&d!==void 0?d:[],g=yd(h,4),v=g[1],y=g[2],x=g[3],w=Zu.parse(v??""),b=Zu.parse(x??""),_=y==="+"?w.add(b):w.subtract(b);if(_.isNaN())return Go;e=e.replace(Dx,_.toString())}return e}var jx=/\(([^()]*)\)/;function rq(t){for(var e=t;e.includes("(");){var n=jx.exec(e),r=yd(n,2),i=r[1];e=e.replace(jx,lk(i))}return e}function iq(t){var e=t.replace(/\s+/g,"");return e=rq(e),e=lk(e),e}function oq(t){try{return iq(t)}catch{return Go}}function xp(t){var e=oq(t.slice(5,-1));return e===Go?"":e}var aq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],sq=["dx","dy","angle","className","breakAll"];function pg(){return pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pg.apply(this,arguments)}function Lx(t,e){if(t==null)return{};var n=lq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ux(t,e){return fq(t)||dq(t,e)||cq(t,e)||uq()}function uq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cq(t,e){if(t){if(typeof t=="string")return Bx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bx(t,e)}}function Bx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function fq(t){if(Array.isArray(t))return t}var uk=/[ \f\n\r\t\v\u2028\u2029]+/,ck=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ve(n)||(r?o=n.toString().split(""):o=n.toString().split(uk));var a=o.map(function(l){return{word:l,width:el(l,i).width}}),s=r?0:el("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},hq=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Y(a),d=s,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(M,L){var $=L.word,U=L.width,B=M[M.length-1];if(B&&(i==null||o||B.width+U+r<Number(i)))B.words.push($),B.width+=U+r;else{var W={words:[$],width:U};M.push(W)}return M},[])},g=h(n),v=function(F){return F.reduce(function(M,L){return M.width>L.width?M:L})};if(!c)return g;for(var y="",x=function(F){var M=d.slice(0,F),L=ck({breakAll:u,style:l,children:M+y}).wordsWithComputedWidth,$=h(L),U=$.length>a||v($).width>Number(i);return[U,$]},w=0,b=d.length-1,_=0,E;w<=b&&_<=d.length-1;){var S=Math.floor((w+b)/2),T=S-1,A=x(T),C=Ux(A,2),P=C[0],N=C[1],k=x(S),R=Ux(k,1),j=R[0];if(!P&&!j&&(w=S+1),P&&j&&(b=S-1),!P&&j){E=N;break}_++}return E||g},Fx=function(e){var n=ve(e)?[]:e.toString().split(uk);return[{words:n}]},pq=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!po.isSsr){var l,u,c=ck({breakAll:a,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return Fx(i);return hq({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return Fx(i)},Vx="#808080",ao=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,g=h===void 0?"start":h,v=e.verticalAnchor,y=v===void 0?"end":v,x=e.fill,w=x===void 0?Vx:x,b=Lx(e,aq),_=O.useMemo(function(){return pq({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),E=b.dx,S=b.dy,T=b.angle,A=b.className,C=b.breakAll,P=Lx(b,sq);if(!mt(r)||!mt(o))return null;var N=r+(Y(E)?E:0),k=o+(Y(S)?S:0),R;switch(y){case"start":R=xp("calc(".concat(u,")"));break;case"middle":R=xp("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=xp("calc(".concat(_.length-1," * -").concat(s,")"));break}var j=[];if(d){var V=_[0].width,F=b.width;j.push("scale(".concat((Y(F)?F/V:1)/V,")"))}return T&&j.push("rotate(".concat(T,", ").concat(N,", ").concat(k,")")),j.length&&(P.transform=j.join(" ")),I.createElement("text",pg({},ce(P,!0),{x:N,y:k,className:ye("recharts-text",A),textAnchor:g,fill:w.includes("url")?Vx:w}),_.map(function(M,L){var $=M.words.join(C?"":" ");return I.createElement("tspan",{x:N,dy:L===0?R:s,key:"".concat($,"-").concat(L)},$)}))};function fi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mq(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function i0(t){let e,n,r;t.length!==2?(e=fi,n=(s,l)=>fi(t(s),l),r=(s,l)=>t(s)-l):(e=t===fi||t===mq?t:gq,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function gq(){return 0}function dk(t){return t===null?NaN:+t}function*vq(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const yq=i0(fi),wu=yq.right;i0(dk).center;class zx extends Map{constructor(e,n=xq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(qx(this,e))}has(e){return super.has(qx(this,e))}set(e,n){return super.set(wq(this,e),n)}delete(e){return super.delete(bq(this,e))}}function qx({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function wq({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function bq({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function xq(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _q(t=fi){if(t===fi)return fk;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function fk(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Sq=Math.sqrt(50),Eq=Math.sqrt(10),Tq=Math.sqrt(2);function wd(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Sq?10:o>=Eq?5:o>=Tq?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?wd(t,e,n*2):[s,l,u]}function mg(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?wd(e,t,n):wd(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function gg(t,e,n){return e=+e,t=+t,n=+n,wd(t,e,n)[2]}function vg(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?gg(e,t,n):gg(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Gx(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Hx(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function hk(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?fk:_q(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*d/l+h)),v=Math.min(r,Math.floor(e+(l-u)*d/l+h));hk(t,e,g,v,i)}const o=t[e];let a=n,s=r;for(Cs(t,n,e),i(t[r],o)>0&&Cs(t,n,r);a<s;){for(Cs(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Cs(t,n,s):(++s,Cs(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Cs(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Aq(t,e,n){if(t=Float64Array.from(vq(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Hx(t);if(e>=1)return Gx(t);var r,i=(r-1)*e,o=Math.floor(i),a=Gx(hk(t,o).subarray(0,o+1)),s=Hx(t.subarray(o+1));return a+(s-a)*(i-o)}}function Cq(t,e,n=dk){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Pq(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Dn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Br(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const yg=Symbol("implicit");function o0(){var t=new zx,e=[],n=[],r=yg;function i(o){let a=t.get(o);if(a===void 0){if(r!==yg)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new zx;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return o0(e,n).unknown(r)},Dn.apply(i,arguments),i}function Ml(){var t=o0().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,g=i<r,v=g?i:r,y=g?r:i;o=(y-v)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),v+=(y-v-o*(h-l))*c,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var x=Pq(h).map(function(w){return v+o*w});return n(g?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Ml(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Dn.apply(d(),arguments)}function pk(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pk(e())},t}function tl(){return pk(Ml.apply(null,arguments).paddingInner(1))}function a0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mk(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function bu(){}var $l=.7,bd=1/$l,aa="\\s*([+-]?\\d+)\\s*",Dl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ar="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kq=/^#([0-9a-f]{3,8})$/,Iq=new RegExp(`^rgb\\(${aa},${aa},${aa}\\)$`),Nq=new RegExp(`^rgb\\(${ar},${ar},${ar}\\)$`),Oq=new RegExp(`^rgba\\(${aa},${aa},${aa},${Dl}\\)$`),Rq=new RegExp(`^rgba\\(${ar},${ar},${ar},${Dl}\\)$`),Mq=new RegExp(`^hsl\\(${Dl},${ar},${ar}\\)$`),$q=new RegExp(`^hsla\\(${Dl},${ar},${ar},${Dl}\\)$`),Wx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};a0(bu,jl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Kx,formatHex:Kx,formatHex8:Dq,formatHsl:jq,formatRgb:Jx,toString:Jx});function Kx(){return this.rgb().formatHex()}function Dq(){return this.rgb().formatHex8()}function jq(){return gk(this).formatHsl()}function Jx(){return this.rgb().formatRgb()}function jl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kq.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Yx(e):n===3?new Yt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ec(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ec(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Iq.exec(t))?new Yt(e[1],e[2],e[3],1):(e=Nq.exec(t))?new Yt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Oq.exec(t))?ec(e[1],e[2],e[3],e[4]):(e=Rq.exec(t))?ec(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Mq.exec(t))?Zx(e[1],e[2]/100,e[3]/100,1):(e=$q.exec(t))?Zx(e[1],e[2]/100,e[3]/100,e[4]):Wx.hasOwnProperty(t)?Yx(Wx[t]):t==="transparent"?new Yt(NaN,NaN,NaN,0):null}function Yx(t){return new Yt(t>>16&255,t>>8&255,t&255,1)}function ec(t,e,n,r){return r<=0&&(t=e=n=NaN),new Yt(t,e,n,r)}function Lq(t){return t instanceof bu||(t=jl(t)),t?(t=t.rgb(),new Yt(t.r,t.g,t.b,t.opacity)):new Yt}function wg(t,e,n,r){return arguments.length===1?Lq(t):new Yt(t,e,n,r??1)}function Yt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}a0(Yt,wg,mk(bu,{brighter(t){return t=t==null?bd:Math.pow(bd,t),new Yt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$l:Math.pow($l,t),new Yt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Yt(Xi(this.r),Xi(this.g),Xi(this.b),xd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xx,formatHex:Xx,formatHex8:Uq,formatRgb:Qx,toString:Qx}));function Xx(){return`#${Gi(this.r)}${Gi(this.g)}${Gi(this.b)}`}function Uq(){return`#${Gi(this.r)}${Gi(this.g)}${Gi(this.b)}${Gi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qx(){const t=xd(this.opacity);return`${t===1?"rgb(":"rgba("}${Xi(this.r)}, ${Xi(this.g)}, ${Xi(this.b)}${t===1?")":`, ${t})`}`}function xd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gi(t){return t=Xi(t),(t<16?"0":"")+t.toString(16)}function Zx(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wn(t,e,n,r)}function gk(t){if(t instanceof Wn)return new Wn(t.h,t.s,t.l,t.opacity);if(t instanceof bu||(t=jl(t)),!t)return new Wn;if(t instanceof Wn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Wn(a,s,l,t.opacity)}function Bq(t,e,n,r){return arguments.length===1?gk(t):new Wn(t,e,n,r??1)}function Wn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}a0(Wn,Bq,mk(bu,{brighter(t){return t=t==null?bd:Math.pow(bd,t),new Wn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$l:Math.pow($l,t),new Wn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Yt(_p(t>=240?t-240:t+120,i,r),_p(t,i,r),_p(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Wn(e_(this.h),tc(this.s),tc(this.l),xd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xd(this.opacity);return`${t===1?"hsl(":"hsla("}${e_(this.h)}, ${tc(this.s)*100}%, ${tc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function e_(t){return t=(t||0)%360,t<0?t+360:t}function tc(t){return Math.max(0,Math.min(1,t||0))}function _p(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const s0=t=>()=>t;function Fq(t,e){return function(n){return t+n*e}}function Vq(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function zq(t){return(t=+t)==1?vk:function(e,n){return n-e?Vq(e,n,t):s0(isNaN(e)?n:e)}}function vk(t,e){var n=e-t;return n?Fq(t,n):s0(isNaN(t)?e:t)}const t_=function t(e){var n=zq(e);function r(i,o){var a=n((i=wg(i)).r,(o=wg(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=vk(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function qq(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Gq(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Hq(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=rs(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Wq(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _d(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Kq(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=rs(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var bg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sp=new RegExp(bg.source,"g");function Jq(t){return function(){return t}}function Yq(t){return function(e){return t(e)+""}}function Xq(t,e){var n=bg.lastIndex=Sp.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=bg.exec(t))&&(i=Sp.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:_d(r,i)})),n=Sp.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Yq(l[0].x):Jq(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function rs(t,e){var n=typeof e,r;return e==null||n==="boolean"?s0(e):(n==="number"?_d:n==="string"?(r=jl(e))?(e=r,t_):Xq:e instanceof jl?t_:e instanceof Date?Wq:Gq(e)?qq:Array.isArray(e)?Hq:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Kq:_d)(t,e)}function l0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Qq(t,e){e===void 0&&(e=t,t=rs);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Zq(t){return function(){return t}}function Sd(t){return+t}var n_=[0,1];function Vt(t){return t}function xg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Zq(isNaN(e)?NaN:.5)}function eG(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function tG(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=xg(i,r),o=n(a,o)):(r=xg(r,i),o=n(o,a)),function(s){return o(r(s))}}function nG(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=xg(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=wu(t,s,1,r)-1;return o[l](i[l](s))}}function xu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function eh(){var t=n_,e=n_,n=rs,r,i,o,a=Vt,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==Vt&&(a=eG(t[0],t[h-1])),s=h>2?nG:tG,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=s(e,t.map(r),_d)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Sd),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=l0,c()},d.clamp=function(h){return arguments.length?(a=h?!0:Vt,c()):a!==Vt},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,g){return r=h,i=g,c()}}function u0(){return eh()(Vt,Vt)}function rG(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ed(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ea(t){return t=Ed(Math.abs(t)),t?t[1]:NaN}function iG(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function oG(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var aG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ll(t){if(!(e=aG.exec(t)))throw new Error("invalid format: "+t);var e;return new c0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ll.prototype=c0.prototype;function c0(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}c0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sG(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var yk;function lG(t,e){var n=Ed(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(yk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ed(t,Math.max(0,e+o-1))[0]}function r_(t,e){var n=Ed(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const i_={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:rG,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>r_(t*100,e),r:r_,s:lG,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function o_(t){return t}var a_=Array.prototype.map,s_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uG(t){var e=t.grouping===void 0||t.thousands===void 0?o_:iG(a_.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?o_:oG(a_.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Ll(d);var h=d.fill,g=d.align,v=d.sign,y=d.symbol,x=d.zero,w=d.width,b=d.comma,_=d.precision,E=d.trim,S=d.type;S==="n"?(b=!0,S="g"):i_[S]||(_===void 0&&(_=12),E=!0,S="g"),(x||h==="0"&&g==="=")&&(x=!0,h="0",g="=");var T=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=y==="$"?r:/[%p]/.test(S)?a:"",C=i_[S],P=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N(k){var R=T,j=A,V,F,M;if(S==="c")j=C(k)+j,k="";else{k=+k;var L=k<0||1/k<0;if(k=isNaN(k)?l:C(Math.abs(k),_),E&&(k=sG(k)),L&&+k==0&&v!=="+"&&(L=!1),R=(L?v==="("?v:s:v==="-"||v==="("?"":v)+R,j=(S==="s"?s_[8+yk/3]:"")+j+(L&&v==="("?")":""),P){for(V=-1,F=k.length;++V<F;)if(M=k.charCodeAt(V),48>M||M>57){j=(M===46?i+k.slice(V+1):k.slice(V))+j,k=k.slice(0,V);break}}}b&&!x&&(k=e(k,1/0));var $=R.length+k.length+j.length,U=$<w?new Array(w-$+1).join(h):"";switch(b&&x&&(k=e(U+k,U.length?w-j.length:1/0),U=""),g){case"<":k=R+k+j+U;break;case"=":k=R+U+k+j;break;case"^":k=U.slice(0,$=U.length>>1)+R+k+j+U.slice($);break;default:k=U+R+k+j;break}return o(k)}return N.toString=function(){return d+""},N}function c(d,h){var g=u((d=Ll(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Ea(h)/3)))*3,y=Math.pow(10,-v),x=s_[8+v/3];return function(w){return g(y*w)+x}}return{format:u,formatPrefix:c}}var nc,d0,wk;cG({thousands:",",grouping:[3],currency:["$",""]});function cG(t){return nc=uG(t),d0=nc.format,wk=nc.formatPrefix,nc}function dG(t){return Math.max(0,-Ea(Math.abs(t)))}function fG(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ea(e)/3)))*3-Ea(Math.abs(t)))}function hG(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ea(e)-Ea(t))+1}function bk(t,e,n,r){var i=vg(t,e,n),o;switch(r=Ll(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=fG(i,a))&&(r.precision=o),wk(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=hG(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=dG(i))&&(r.precision=o-(r.type==="%")*2);break}}return d0(r)}function wi(t){var e=t.domain;return t.ticks=function(n){var r=e();return mg(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return bk(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=gg(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Td(){var t=u0();return t.copy=function(){return xu(t,Td())},Dn.apply(t,arguments),wi(t)}function xk(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Sd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return xk(t).unknown(e)},t=arguments.length?Array.from(t,Sd):[0,1],wi(n)}function _k(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function l_(t){return Math.log(t)}function u_(t){return Math.exp(t)}function pG(t){return-Math.log(-t)}function mG(t){return-Math.exp(-t)}function gG(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vG(t){return t===10?gG:t===Math.E?Math.exp:e=>Math.pow(t,e)}function yG(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function c_(t){return(e,n)=>-t(-e,n)}function f0(t){const e=t(l_,u_),n=e.domain;let r=10,i,o;function a(){return i=yG(r),o=vG(r),n()[0]<0?(i=c_(i),o=c_(o),t(pG,mG)):t(l_,u_),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),g=i(c),v,y;const x=s==null?10:+s;let w=[];if(!(r%1)&&g-h<x){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(v=1;v<r;++v)if(y=h<0?v/o(-h):v*o(h),!(y<u)){if(y>c)break;w.push(y)}}else for(;h<=g;++h)for(v=r-1;v>=1;--v)if(y=h>0?v/o(-h):v*o(h),!(y<u)){if(y>c)break;w.push(y)}w.length*2<x&&(w=mg(u,c,x))}else w=mg(h,g,Math.min(g-h,x)).map(o);return d?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ll(l)).precision==null&&(l.trim=!0),l=d0(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(_k(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function Sk(){const t=f0(eh()).domain([1,10]);return t.copy=()=>xu(t,Sk()).base(t.base()),Dn.apply(t,arguments),t}function d_(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function f_(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function h0(t){var e=1,n=t(d_(e),f_(e));return n.constant=function(r){return arguments.length?t(d_(e=+r),f_(e)):e},wi(n)}function Ek(){var t=h0(eh());return t.copy=function(){return xu(t,Ek()).constant(t.constant())},Dn.apply(t,arguments)}function h_(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function wG(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function bG(t){return t<0?-t*t:t*t}function p0(t){var e=t(Vt,Vt),n=1;function r(){return n===1?t(Vt,Vt):n===.5?t(wG,bG):t(h_(n),h_(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},wi(e)}function m0(){var t=p0(eh());return t.copy=function(){return xu(t,m0()).exponent(t.exponent())},Dn.apply(t,arguments),t}function xG(){return m0.apply(null,arguments).exponent(.5)}function p_(t){return Math.sign(t)*t*t}function _G(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Tk(){var t=u0(),e=[0,1],n=!1,r;function i(o){var a=_G(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(p_(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Sd)).map(p_)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Tk(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Dn.apply(i,arguments),wi(i)}function Ak(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Cq(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[wu(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(fi),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Ak().domain(t).range(e).unknown(r)},Dn.apply(o,arguments)}function Ck(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[wu(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Ck().domain([t,e]).range(i).unknown(o)},Dn.apply(wi(a),arguments)}function Pk(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[wu(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Pk().domain(t).range(e).unknown(n)},Dn.apply(i,arguments)}const Ep=new Date,Tp=new Date;function gt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>gt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Ep.setTime(+o),Tp.setTime(+a),t(Ep),t(Tp),Math.floor(n(Ep,Tp))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Ad=gt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ad.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ad);Ad.range;const _r=1e3,kn=_r*60,Sr=kn*60,Rr=Sr*24,g0=Rr*7,m_=Rr*30,Ap=Rr*365,Hi=gt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*_r)},(t,e)=>(e-t)/_r,t=>t.getUTCSeconds());Hi.range;const v0=gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_r)},(t,e)=>{t.setTime(+t+e*kn)},(t,e)=>(e-t)/kn,t=>t.getMinutes());v0.range;const y0=gt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*kn)},(t,e)=>(e-t)/kn,t=>t.getUTCMinutes());y0.range;const w0=gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_r-t.getMinutes()*kn)},(t,e)=>{t.setTime(+t+e*Sr)},(t,e)=>(e-t)/Sr,t=>t.getHours());w0.range;const b0=gt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Sr)},(t,e)=>(e-t)/Sr,t=>t.getUTCHours());b0.range;const _u=gt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*kn)/Rr,t=>t.getDate()-1);_u.range;const th=gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rr,t=>t.getUTCDate()-1);th.range;const kk=gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rr,t=>Math.floor(t/Rr));kk.range;function mo(t){return gt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*kn)/g0)}const nh=mo(0),Cd=mo(1),SG=mo(2),EG=mo(3),Ta=mo(4),TG=mo(5),AG=mo(6);nh.range;Cd.range;SG.range;EG.range;Ta.range;TG.range;AG.range;function go(t){return gt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/g0)}const rh=go(0),Pd=go(1),CG=go(2),PG=go(3),Aa=go(4),kG=go(5),IG=go(6);rh.range;Pd.range;CG.range;PG.range;Aa.range;kG.range;IG.range;const x0=gt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());x0.range;const _0=gt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_0.range;const Mr=gt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Mr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Mr.range;const $r=gt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());$r.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});$r.range;function Ik(t,e,n,r,i,o){const a=[[Hi,1,_r],[Hi,5,5*_r],[Hi,15,15*_r],[Hi,30,30*_r],[o,1,kn],[o,5,5*kn],[o,15,15*kn],[o,30,30*kn],[i,1,Sr],[i,3,3*Sr],[i,6,6*Sr],[i,12,12*Sr],[r,1,Rr],[r,2,2*Rr],[n,1,g0],[e,1,m_],[e,3,3*m_],[t,1,Ap]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const g=d&&typeof d.range=="function"?d:l(u,c,d),v=g?g.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,d){const h=Math.abs(c-u)/d,g=i0(([,,x])=>x).right(a,h);if(g===a.length)return t.every(vg(u/Ap,c/Ap,d));if(g===0)return Ad.every(Math.max(vg(u,c,d),1));const[v,y]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return v.every(y)}return[s,l]}const[NG,OG]=Ik($r,_0,rh,kk,b0,y0),[RG,MG]=Ik(Mr,x0,nh,_u,w0,v0);function Cp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Pp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ps(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function $G(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=ks(i),c=Is(i),d=ks(o),h=Is(o),g=ks(a),v=Is(a),y=ks(s),x=Is(s),w=ks(l),b=Is(l),_={a:L,A:$,b:U,B,c:null,d:x_,e:x_,f:iH,g:pH,G:gH,H:tH,I:nH,j:rH,L:Nk,m:oH,M:aH,p:W,q:H,Q:E_,s:T_,S:sH,u:lH,U:uH,V:cH,w:dH,W:fH,x:null,X:null,y:hH,Y:mH,Z:vH,"%":S_},E={a:X,A:le,b:we,B:be,c:null,d:__,e:__,f:xH,g:NH,G:RH,H:yH,I:wH,j:bH,L:Rk,m:_H,M:SH,p:Be,q:Ye,Q:E_,s:T_,S:EH,u:TH,U:AH,V:CH,w:PH,W:kH,x:null,X:null,y:IH,Y:OH,Z:MH,"%":S_},S={a:N,A:k,b:R,B:j,c:V,d:w_,e:w_,f:XG,g:y_,G:v_,H:b_,I:b_,j:WG,L:YG,m:HG,M:KG,p:P,q:GG,Q:ZG,s:eH,S:JG,u:BG,U:FG,V:VG,w:UG,W:zG,x:F,X:M,y:y_,Y:v_,Z:qG,"%":QG};_.x=T(n,_),_.X=T(r,_),_.c=T(e,_),E.x=T(n,E),E.X=T(r,E),E.c=T(e,E);function T(Z,ue){return function(de){var D=[],fe=-1,ie=0,_e=Z.length,Se,We,vt;for(de instanceof Date||(de=new Date(+de));++fe<_e;)Z.charCodeAt(fe)===37&&(D.push(Z.slice(ie,fe)),(We=g_[Se=Z.charAt(++fe)])!=null?Se=Z.charAt(++fe):We=Se==="e"?" ":"0",(vt=ue[Se])&&(Se=vt(de,We)),D.push(Se),ie=fe+1);return D.push(Z.slice(ie,fe)),D.join("")}}function A(Z,ue){return function(de){var D=Ps(1900,void 0,1),fe=C(D,Z,de+="",0),ie,_e;if(fe!=de.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(ue&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(ie=Pp(Ps(D.y,0,1)),_e=ie.getUTCDay(),ie=_e>4||_e===0?Pd.ceil(ie):Pd(ie),ie=th.offset(ie,(D.V-1)*7),D.y=ie.getUTCFullYear(),D.m=ie.getUTCMonth(),D.d=ie.getUTCDate()+(D.w+6)%7):(ie=Cp(Ps(D.y,0,1)),_e=ie.getDay(),ie=_e>4||_e===0?Cd.ceil(ie):Cd(ie),ie=_u.offset(ie,(D.V-1)*7),D.y=ie.getFullYear(),D.m=ie.getMonth(),D.d=ie.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),_e="Z"in D?Pp(Ps(D.y,0,1)).getUTCDay():Cp(Ps(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(_e+5)%7:D.w+D.U*7-(_e+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,Pp(D)):Cp(D)}}function C(Z,ue,de,D){for(var fe=0,ie=ue.length,_e=de.length,Se,We;fe<ie;){if(D>=_e)return-1;if(Se=ue.charCodeAt(fe++),Se===37){if(Se=ue.charAt(fe++),We=S[Se in g_?ue.charAt(fe++):Se],!We||(D=We(Z,de,D))<0)return-1}else if(Se!=de.charCodeAt(D++))return-1}return D}function P(Z,ue,de){var D=u.exec(ue.slice(de));return D?(Z.p=c.get(D[0].toLowerCase()),de+D[0].length):-1}function N(Z,ue,de){var D=g.exec(ue.slice(de));return D?(Z.w=v.get(D[0].toLowerCase()),de+D[0].length):-1}function k(Z,ue,de){var D=d.exec(ue.slice(de));return D?(Z.w=h.get(D[0].toLowerCase()),de+D[0].length):-1}function R(Z,ue,de){var D=w.exec(ue.slice(de));return D?(Z.m=b.get(D[0].toLowerCase()),de+D[0].length):-1}function j(Z,ue,de){var D=y.exec(ue.slice(de));return D?(Z.m=x.get(D[0].toLowerCase()),de+D[0].length):-1}function V(Z,ue,de){return C(Z,e,ue,de)}function F(Z,ue,de){return C(Z,n,ue,de)}function M(Z,ue,de){return C(Z,r,ue,de)}function L(Z){return a[Z.getDay()]}function $(Z){return o[Z.getDay()]}function U(Z){return l[Z.getMonth()]}function B(Z){return s[Z.getMonth()]}function W(Z){return i[+(Z.getHours()>=12)]}function H(Z){return 1+~~(Z.getMonth()/3)}function X(Z){return a[Z.getUTCDay()]}function le(Z){return o[Z.getUTCDay()]}function we(Z){return l[Z.getUTCMonth()]}function be(Z){return s[Z.getUTCMonth()]}function Be(Z){return i[+(Z.getUTCHours()>=12)]}function Ye(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ue=T(Z+="",_);return ue.toString=function(){return Z},ue},parse:function(Z){var ue=A(Z+="",!1);return ue.toString=function(){return Z},ue},utcFormat:function(Z){var ue=T(Z+="",E);return ue.toString=function(){return Z},ue},utcParse:function(Z){var ue=A(Z+="",!0);return ue.toString=function(){return Z},ue}}}var g_={"-":"",_:" ",0:"0"},_t=/^\s*\d+/,DG=/^%/,jG=/[\\^$*+?|[\]().{}]/g;function Ce(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function LG(t){return t.replace(jG,"\\$&")}function ks(t){return new RegExp("^(?:"+t.map(LG).join("|")+")","i")}function Is(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function UG(t,e,n){var r=_t.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function BG(t,e,n){var r=_t.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function FG(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function VG(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function zG(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function v_(t,e,n){var r=_t.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function y_(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qG(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function GG(t,e,n){var r=_t.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function HG(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function w_(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function WG(t,e,n){var r=_t.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function b_(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function KG(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function JG(t,e,n){var r=_t.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function YG(t,e,n){var r=_t.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function XG(t,e,n){var r=_t.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function QG(t,e,n){var r=DG.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ZG(t,e,n){var r=_t.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function eH(t,e,n){var r=_t.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function x_(t,e){return Ce(t.getDate(),e,2)}function tH(t,e){return Ce(t.getHours(),e,2)}function nH(t,e){return Ce(t.getHours()%12||12,e,2)}function rH(t,e){return Ce(1+_u.count(Mr(t),t),e,3)}function Nk(t,e){return Ce(t.getMilliseconds(),e,3)}function iH(t,e){return Nk(t,e)+"000"}function oH(t,e){return Ce(t.getMonth()+1,e,2)}function aH(t,e){return Ce(t.getMinutes(),e,2)}function sH(t,e){return Ce(t.getSeconds(),e,2)}function lH(t){var e=t.getDay();return e===0?7:e}function uH(t,e){return Ce(nh.count(Mr(t)-1,t),e,2)}function Ok(t){var e=t.getDay();return e>=4||e===0?Ta(t):Ta.ceil(t)}function cH(t,e){return t=Ok(t),Ce(Ta.count(Mr(t),t)+(Mr(t).getDay()===4),e,2)}function dH(t){return t.getDay()}function fH(t,e){return Ce(Cd.count(Mr(t)-1,t),e,2)}function hH(t,e){return Ce(t.getFullYear()%100,e,2)}function pH(t,e){return t=Ok(t),Ce(t.getFullYear()%100,e,2)}function mH(t,e){return Ce(t.getFullYear()%1e4,e,4)}function gH(t,e){var n=t.getDay();return t=n>=4||n===0?Ta(t):Ta.ceil(t),Ce(t.getFullYear()%1e4,e,4)}function vH(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ce(e/60|0,"0",2)+Ce(e%60,"0",2)}function __(t,e){return Ce(t.getUTCDate(),e,2)}function yH(t,e){return Ce(t.getUTCHours(),e,2)}function wH(t,e){return Ce(t.getUTCHours()%12||12,e,2)}function bH(t,e){return Ce(1+th.count($r(t),t),e,3)}function Rk(t,e){return Ce(t.getUTCMilliseconds(),e,3)}function xH(t,e){return Rk(t,e)+"000"}function _H(t,e){return Ce(t.getUTCMonth()+1,e,2)}function SH(t,e){return Ce(t.getUTCMinutes(),e,2)}function EH(t,e){return Ce(t.getUTCSeconds(),e,2)}function TH(t){var e=t.getUTCDay();return e===0?7:e}function AH(t,e){return Ce(rh.count($r(t)-1,t),e,2)}function Mk(t){var e=t.getUTCDay();return e>=4||e===0?Aa(t):Aa.ceil(t)}function CH(t,e){return t=Mk(t),Ce(Aa.count($r(t),t)+($r(t).getUTCDay()===4),e,2)}function PH(t){return t.getUTCDay()}function kH(t,e){return Ce(Pd.count($r(t)-1,t),e,2)}function IH(t,e){return Ce(t.getUTCFullYear()%100,e,2)}function NH(t,e){return t=Mk(t),Ce(t.getUTCFullYear()%100,e,2)}function OH(t,e){return Ce(t.getUTCFullYear()%1e4,e,4)}function RH(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Aa(t):Aa.ceil(t),Ce(t.getUTCFullYear()%1e4,e,4)}function MH(){return"+0000"}function S_(){return"%"}function E_(t){return+t}function T_(t){return Math.floor(+t/1e3)}var _o,$k,Dk;$H({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $H(t){return _o=$G(t),$k=_o.format,_o.parse,Dk=_o.utcFormat,_o.utcParse,_o}function DH(t){return new Date(t)}function jH(t){return t instanceof Date?+t:+new Date(+t)}function S0(t,e,n,r,i,o,a,s,l,u){var c=u0(),d=c.invert,h=c.domain,g=u(".%L"),v=u(":%S"),y=u("%I:%M"),x=u("%I %p"),w=u("%a %d"),b=u("%b %d"),_=u("%B"),E=u("%Y");function S(T){return(l(T)<T?g:s(T)<T?v:a(T)<T?y:o(T)<T?x:r(T)<T?i(T)<T?w:b:n(T)<T?_:E)(T)}return c.invert=function(T){return new Date(d(T))},c.domain=function(T){return arguments.length?h(Array.from(T,jH)):h().map(DH)},c.ticks=function(T){var A=h();return t(A[0],A[A.length-1],T??10)},c.tickFormat=function(T,A){return A==null?S:u(A)},c.nice=function(T){var A=h();return(!T||typeof T.range!="function")&&(T=e(A[0],A[A.length-1],T??10)),T?h(_k(A,T)):c},c.copy=function(){return xu(c,S0(t,e,n,r,i,o,a,s,l,u))},c}function LH(){return Dn.apply(S0(RG,MG,Mr,x0,nh,_u,w0,v0,Hi,$k).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function UH(){return Dn.apply(S0(NG,OG,$r,_0,rh,th,b0,y0,Hi,Dk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ih(){var t=0,e=1,n,r,i,o,a=Vt,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var g,v;return arguments.length?([g,v]=h,a=d(g,v),u):[a(0),a(1)]}}return u.range=c(rs),u.rangeRound=c(l0),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function bi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function jk(){var t=wi(ih()(Vt));return t.copy=function(){return bi(t,jk())},Br.apply(t,arguments)}function Lk(){var t=f0(ih()).domain([1,10]);return t.copy=function(){return bi(t,Lk()).base(t.base())},Br.apply(t,arguments)}function Uk(){var t=h0(ih());return t.copy=function(){return bi(t,Uk()).constant(t.constant())},Br.apply(t,arguments)}function E0(){var t=p0(ih());return t.copy=function(){return bi(t,E0()).exponent(t.exponent())},Br.apply(t,arguments)}function BH(){return E0.apply(null,arguments).exponent(.5)}function Bk(){var t=[],e=Vt;function n(r){if(r!=null&&!isNaN(r=+r))return e((wu(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(fi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Aq(t,o/r))},n.copy=function(){return Bk(e).domain(t)},Br.apply(n,arguments)}function oh(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Vt,c,d=!1,h;function g(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-o)*(r*y<r*o?s:l),u(d?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(y){return arguments.length?(d=!!y,g):d},g.interpolator=function(y){return arguments.length?(u=y,g):u};function v(y){return function(x){var w,b,_;return arguments.length?([w,b,_]=x,u=Qq(y,[w,b,_]),g):[u(0),u(.5),u(1)]}}return g.range=v(rs),g.rangeRound=v(l0),g.unknown=function(y){return arguments.length?(h=y,g):h},function(y){return c=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g}}function Fk(){var t=wi(oh()(Vt));return t.copy=function(){return bi(t,Fk())},Br.apply(t,arguments)}function Vk(){var t=f0(oh()).domain([.1,1,10]);return t.copy=function(){return bi(t,Vk()).base(t.base())},Br.apply(t,arguments)}function zk(){var t=h0(oh());return t.copy=function(){return bi(t,zk()).constant(t.constant())},Br.apply(t,arguments)}function T0(){var t=p0(oh());return t.copy=function(){return bi(t,T0()).exponent(t.exponent())},Br.apply(t,arguments)}function FH(){return T0.apply(null,arguments).exponent(.5)}const A_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ml,scaleDiverging:Fk,scaleDivergingLog:Vk,scaleDivergingPow:T0,scaleDivergingSqrt:FH,scaleDivergingSymlog:zk,scaleIdentity:xk,scaleImplicit:yg,scaleLinear:Td,scaleLog:Sk,scaleOrdinal:o0,scalePoint:tl,scalePow:m0,scaleQuantile:Ak,scaleQuantize:Ck,scaleRadial:Tk,scaleSequential:jk,scaleSequentialLog:Lk,scaleSequentialPow:E0,scaleSequentialQuantile:Bk,scaleSequentialSqrt:BH,scaleSequentialSymlog:Uk,scaleSqrt:xG,scaleSymlog:Ek,scaleThreshold:Pk,scaleTime:LH,scaleUtc:UH,tickFormat:bk},Symbol.toStringTag,{value:"Module"}));var VH=Ka;function zH(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!VH(a):n(a,s)))var s=a,l=o}return l}var ah=zH;function qH(t,e){return t>e}var qk=qH,GH=ah,HH=qk,WH=ns;function KH(t){return t&&t.length?GH(t,WH,HH):void 0}var JH=KH;const sh=Ne(JH);function YH(t,e){return t<e}var Gk=YH,XH=ah,QH=Gk,ZH=ns;function e9(t){return t&&t.length?XH(t,ZH,QH):void 0}var t9=e9;const lh=Ne(t9);var n9=Ly,r9=fr,i9=ZP,o9=en;function a9(t,e){var n=o9(t)?n9:i9;return n(t,r9(e))}var s9=a9,l9=XP,u9=s9;function c9(t,e){return l9(u9(t,e),1)}var d9=c9;const f9=Ne(d9);var h9=Zy;function p9(t,e){return h9(t,e)}var m9=p9;const Su=Ne(m9);var is=1e9,g9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},C0,Je=!0,Mn="[DecimalError] ",Qi=Mn+"Invalid argument: ",A0=Mn+"Exponent out of range: ",os=Math.floor,$i=Math.pow,v9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,un,yt=1e7,Ge=7,Hk=9007199254740991,kd=os(Hk/Ge),re={};re.absoluteValue=re.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};re.comparedTo=re.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};re.decimalPlaces=re.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ge;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};re.dividedBy=re.div=function(t){return Cr(this,new this.constructor(t))};re.dividedToIntegerBy=re.idiv=function(t){var e=this,n=e.constructor;return Me(Cr(e,new n(t),0,1),n.precision)};re.equals=re.eq=function(t){return!this.cmp(t)};re.exponent=function(){return st(this)};re.greaterThan=re.gt=function(t){return this.cmp(t)>0};re.greaterThanOrEqualTo=re.gte=function(t){return this.cmp(t)>=0};re.isInteger=re.isint=function(){return this.e>this.d.length-2};re.isNegative=re.isneg=function(){return this.s<0};re.isPositive=re.ispos=function(){return this.s>0};re.isZero=function(){return this.s===0};re.lessThan=re.lt=function(t){return this.cmp(t)<0};re.lessThanOrEqualTo=re.lte=function(t){return this.cmp(t)<1};re.logarithm=re.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(un))throw Error(Mn+"NaN");if(n.s<1)throw Error(Mn+(n.s?"NaN":"-Infinity"));return n.eq(un)?new r(0):(Je=!1,e=Cr(Ul(n,o),Ul(t,o),o),Je=!0,Me(e,i))};re.minus=re.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Jk(e,t):Wk(e,(t.s=-t.s,t))};re.modulo=re.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Mn+"NaN");return n.s?(Je=!1,e=Cr(n,t,0,1).times(t),Je=!0,n.minus(e)):Me(new r(n),i)};re.naturalExponential=re.exp=function(){return Kk(this)};re.naturalLogarithm=re.ln=function(){return Ul(this)};re.negated=re.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};re.plus=re.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Wk(e,t):Jk(e,(t.s=-t.s,t))};re.precision=re.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Qi+t);if(e=st(i)+1,r=i.d.length-1,n=r*Ge+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};re.squareRoot=re.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Mn+"NaN")}for(t=st(s),Je=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=rr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=os((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Cr(s,o,a+2)).times(.5),rr(o.d).slice(0,a)===(e=rr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Me(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Je=!0,Me(r,n)};re.times=re.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,g=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+g[r]*h[i-r-1]+e,o[i--]=s%yt|0,e=s/yt|0;o[i]=(o[i]+e)%yt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Je?Me(t,d.precision):t};re.toDecimalPlaces=re.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(lr(t,0,is),e===void 0?e=r.rounding:lr(e,0,8),Me(n,t+st(n)+1,e))};re.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=so(r,!0):(lr(t,0,is),e===void 0?e=i.rounding:lr(e,0,8),r=Me(new i(r),t+1,e),n=so(r,!0,t+1)),n};re.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?so(i):(lr(t,0,is),e===void 0?e=o.rounding:lr(e,0,8),r=Me(new o(i),t+st(i)+1,e),n=so(r.abs(),!1,t+st(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};re.toInteger=re.toint=function(){var t=this,e=t.constructor;return Me(new e(t),st(t)+1,e.rounding)};re.toNumber=function(){return+this};re.toPower=re.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(un);if(s=new l(s),!s.s){if(t.s<1)throw Error(Mn+"Infinity");return s}if(s.eq(un))return s;if(r=l.precision,t.eq(un))return Me(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=Hk){for(i=new l(un),e=Math.ceil(r/Ge+4),Je=!1;n%2&&(i=i.times(s),P_(i.d,e)),n=os(n/2),n!==0;)s=s.times(s),P_(s.d,e);return Je=!0,t.s<0?new l(un).div(i):Me(i,r)}}else if(o<0)throw Error(Mn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Je=!1,i=t.times(Ul(s,r+u)),Je=!0,i=Kk(i),i.s=o,i};re.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=st(i),r=so(i,n<=o.toExpNeg||n>=o.toExpPos)):(lr(t,1,is),e===void 0?e=o.rounding:lr(e,0,8),i=Me(new o(i),t,e),n=st(i),r=so(i,t<=n||n<=o.toExpNeg,t)),r};re.toSignificantDigits=re.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(lr(t,1,is),e===void 0?e=r.rounding:lr(e,0,8)),Me(new r(n),t,e)};re.toString=re.valueOf=re.val=re.toJSON=re[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=st(t),n=t.constructor;return so(t,e<=n.toExpNeg||e>=n.toExpPos)};function Wk(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Je?Me(e,d):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/Ge),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/yt|0,l[o]%=yt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Je?Me(e,d):e}function lr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Qi+t)}function rr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Ge-r.length,n&&(o+=Kr(n)),o+=r;a=t[e],r=a+"",n=Ge-r.length,n&&(o+=Kr(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Cr=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%yt|0,a=o/yt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*yt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,h,g,v,y,x,w,b,_,E,S,T,A,C,P=r.constructor,N=r.s==i.s?1:-1,k=r.d,R=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Mn+"Division by zero");for(l=r.e-i.e,A=R.length,S=k.length,g=new P(N),v=g.d=[],u=0;R[u]==(k[u]||0);)++u;if(R[u]>(k[u]||0)&&--l,o==null?b=o=P.precision:a?b=o+(st(r)-st(i))+1:b=o,b<0)return new P(0);if(b=b/Ge+2|0,u=0,A==1)for(c=0,R=R[0],b++;(u<S||c)&&b--;u++)_=c*yt+(k[u]||0),v[u]=_/R|0,c=_%R|0;else{for(c=yt/(R[0]+1)|0,c>1&&(R=t(R,c),k=t(k,c),A=R.length,S=k.length),E=A,y=k.slice(0,A),x=y.length;x<A;)y[x++]=0;C=R.slice(),C.unshift(0),T=R[0],R[1]>=yt/2&&++T;do c=0,s=e(R,y,A,x),s<0?(w=y[0],A!=x&&(w=w*yt+(y[1]||0)),c=w/T|0,c>1?(c>=yt&&(c=yt-1),d=t(R,c),h=d.length,x=y.length,s=e(d,y,h,x),s==1&&(c--,n(d,A<h?C:R,h))):(c==0&&(s=c=1),d=R.slice()),h=d.length,h<x&&d.unshift(0),n(y,d,x),s==-1&&(x=y.length,s=e(R,y,A,x),s<1&&(c++,n(y,A<x?C:R,x))),x=y.length):s===0&&(c++,y=[0]),v[u++]=c,s&&y[0]?y[x++]=k[E]||0:(y=[k[E]],x=1);while((E++<S||y[0]!==void 0)&&b--)}return v[0]||v.shift(),g.e=l,Me(g,a?o+st(g)+1:o)}}();function Kk(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,d=c.precision;if(st(t)>16)throw Error(A0+st(t));if(!t.s)return new c(un);for(Je=!1,s=d,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log($i(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(un),c.precision=s;;){if(i=Me(i.times(t),s),n=n.times(++l),a=o.plus(Cr(i,n,s)),rr(a.d).slice(0,s)===rr(o.d).slice(0,s)){for(;u--;)o=Me(o.times(o),s);return c.precision=d,e==null?(Je=!0,Me(o,d)):o}o=a}}function st(t){for(var e=t.e*Ge,n=t.d[0];n>=10;n/=10)e++;return e}function kp(t,e,n){if(e>t.LN10.sd())throw Je=!0,n&&(t.precision=n),Error(Mn+"LN10 precision limit exceeded");return Me(new t(t.LN10),e)}function Kr(t){for(var e="";t--;)e+="0";return e}function Ul(t,e){var n,r,i,o,a,s,l,u,c,d=1,h=10,g=t,v=g.d,y=g.constructor,x=y.precision;if(g.s<1)throw Error(Mn+(g.s?"NaN":"-Infinity"));if(g.eq(un))return new y(0);if(e==null?(Je=!1,u=x):u=e,g.eq(10))return e==null&&(Je=!0),kp(y,u);if(u+=h,y.precision=u,n=rr(v),r=n.charAt(0),o=st(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=rr(g.d),r=n.charAt(0),d++;o=st(g),r>1?(g=new y("0."+n),o++):g=new y(r+"."+n.slice(1))}else return l=kp(y,u+2,x).times(o+""),g=Ul(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=x,e==null?(Je=!0,Me(g,x)):g;for(s=a=g=Cr(g.minus(un),g.plus(un),u),c=Me(g.times(g),u),i=3;;){if(a=Me(a.times(c),u),l=s.plus(Cr(a,new y(i),u)),rr(l.d).slice(0,u)===rr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(kp(y,u+2,x).times(o+""))),s=Cr(s,new y(d),u),y.precision=x,e==null?(Je=!0,Me(s,x)):s;s=l,i+=2}}function C_(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=os(n/Ge),t.d=[],r=(n+1)%Ge,n<0&&(r+=Ge),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ge;r<i;)t.d.push(+e.slice(r,r+=Ge));e=e.slice(r),r=Ge-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Je&&(t.e>kd||t.e<-kd))throw Error(A0+n)}else t.s=0,t.e=0,t.d=[0];return t}function Me(t,e,n){var r,i,o,a,s,l,u,c,d=t.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Ge,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/Ge),o=d.length,c>=o)return t;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=Ge,i=r-Ge+a}if(n!==void 0&&(o=$i(10,a-i-1),s=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/$i(10,a-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=st(t),d.length=1,e=e-o-1,d[0]=$i(10,(Ge-e%Ge)%Ge),t.e=os(-e/Ge)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=$i(10,Ge-r),d[c]=i>0?(u/$i(10,a-i)%$i(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==yt&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=yt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(Je&&(t.e>kd||t.e<-kd))throw Error(A0+st(t));return t}function Jk(t,e){var n,r,i,o,a,s,l,u,c,d,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Je?Me(e,g):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(g/Ge),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=yt-1;--l[o],l[i]+=yt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Je?Me(e,g):e):new h(0)}function so(t,e,n){var r,i=st(t),o=rr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Kr(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Kr(-i-1)+o,n&&(r=n-a)>0&&(o+=Kr(r))):i>=a?(o+=Kr(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Kr(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Kr(r))),t.s<0?"-"+o:o}function P_(t,e){if(t.length>e)return t.length=e,!0}function Yk(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Qi+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return C_(a,o.toString())}else if(typeof o!="string")throw Error(Qi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,v9.test(o))C_(a,o);else throw Error(Qi+o)}if(i.prototype=re,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Yk,i.config=i.set=y9,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function y9(t){if(!t||typeof t!="object")throw Error(Mn+"Object expected");var e,n,r,i=["precision",1,is,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(os(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Qi+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Qi+n+": "+r);return this}var C0=Yk(g9);un=new C0(1);const Re=C0;function w9(t){return S9(t)||_9(t)||x9(t)||b9()}function b9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x9(t,e){if(t){if(typeof t=="string")return _g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _g(t,e)}}function _9(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function S9(t){if(Array.isArray(t))return _g(t)}function _g(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var E9=function(e){return e},Xk={},Qk=function(e){return e===Xk},k_=function(e){return function n(){return arguments.length===0||arguments.length===1&&Qk(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},T9=function t(e,n){return e===1?n:k_(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==Xk}).length;return a>=e?n.apply(void 0,i):t(e-a,k_(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return Qk(d)?l.shift():d});return n.apply(void 0,w9(c).concat(l))}))})},uh=function(e){return T9(e.length,e)},Sg=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},A9=uh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),C9=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return E9;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Eg=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Zk=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function P9(t){var e;return t===0?e=1:e=Math.floor(new Re(t).abs().log(10).toNumber())+1,e}function k9(t,e,n){for(var r=new Re(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var I9=uh(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),N9=uh(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),O9=uh(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const ch={rangeStep:k9,getDigitCount:P9,interpolateNumber:I9,uninterpolateNumber:N9,uninterpolateTruncation:O9};function Tg(t){return $9(t)||M9(t)||eI(t)||R9()}function R9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M9(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function $9(t){if(Array.isArray(t))return Ag(t)}function Bl(t,e){return L9(t)||j9(t,e)||eI(t,e)||D9()}function D9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eI(t,e){if(t){if(typeof t=="string")return Ag(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ag(t,e)}}function Ag(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j9(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function L9(t){if(Array.isArray(t))return t}function tI(t){var e=Bl(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function nI(t,e,n){if(t.lte(0))return new Re(0);var r=ch.getDigitCount(t.toNumber()),i=new Re(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Re(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Re(Math.ceil(l))}function U9(t,e,n){var r=1,i=new Re(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Re(10).pow(ch.getDigitCount(t)-1),i=new Re(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Re(Math.floor(t)))}else t===0?i=new Re(Math.floor((e-1)/2)):n||(i=new Re(Math.floor(t)));var a=Math.floor((e-1)/2),s=C9(A9(function(l){return i.add(new Re(l-a).mul(r)).toNumber()}),Sg);return s(0,e)}function rI(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Re(0),tickMin:new Re(0),tickMax:new Re(0)};var o=nI(new Re(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Re(0):(a=new Re(t).add(e).div(2),a=a.sub(new Re(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Re(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?rI(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Re(s).mul(o)),tickMax:a.add(new Re(l).mul(o))})}function B9(t){var e=Bl(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=tI([n,r]),l=Bl(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(Tg(Sg(0,i-1).map(function(){return 1/0}))):[].concat(Tg(Sg(0,i-1).map(function(){return-1/0})),[c]);return n>r?Eg(d):d}if(u===c)return U9(u,i,o);var h=rI(u,c,a,o),g=h.step,v=h.tickMin,y=h.tickMax,x=ch.rangeStep(v,y.add(new Re(.1).mul(g)),g);return n>r?Eg(x):x}function F9(t,e){var n=Bl(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=tI([r,i]),s=Bl(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=nI(new Re(u).sub(l).div(c-1),o,0),h=[].concat(Tg(ch.rangeStep(new Re(l),new Re(u).sub(new Re(.99).mul(d)),d)),[u]);return r>i?Eg(h):h}var V9=Zk(B9),z9=Zk(F9),q9="Invariant failed";function lo(t,e){throw new Error(q9)}var G9=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ca(t){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(t)}function Id(){return Id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Id.apply(this,arguments)}function H9(t,e){return Y9(t)||J9(t,e)||K9(t,e)||W9()}function W9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K9(t,e){if(t){if(typeof t=="string")return I_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I_(t,e)}}function I_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Y9(t){if(Array.isArray(t))return t}function X9(t,e){if(t==null)return{};var n=Q9(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Q9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aI(r.key),r)}}function tW(t,e,n){return e&&eW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nW(t,e,n){return e=Nd(e),rW(t,iI()?Reflect.construct(e,n||[],Nd(t).constructor):e.apply(t,n))}function rW(t,e){if(e&&(Ca(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iW(t)}function iW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iI=function(){return!!t})()}function Nd(t){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nd(t)}function oW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cg(t,e)}function Cg(t,e){return Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cg(t,e)}function oI(t,e,n){return e=aI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aI(t){var e=aW(t,"string");return Ca(e)=="symbol"?e:e+""}function aW(t,e){if(Ca(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ca(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Eu=function(t){function e(){return Z9(this,e),nW(this,e,arguments)}return oW(e,t),tW(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=X9(r,G9),g=ce(h,!1);this.props.direction==="x"&&c.type!=="number"&&lo();var v=l.map(function(y){var x=u(y,s),w=x.x,b=x.y,_=x.value,E=x.errorVal;if(!E)return null;var S=[],T,A;if(Array.isArray(E)){var C=H9(E,2);T=C[0],A=C[1]}else T=A=E;if(o==="vertical"){var P=c.scale,N=b+i,k=N+a,R=N-a,j=P(_-T),V=P(_+A);S.push({x1:V,y1:k,x2:V,y2:R}),S.push({x1:j,y1:N,x2:V,y2:N}),S.push({x1:j,y1:k,x2:j,y2:R})}else if(o==="horizontal"){var F=d.scale,M=w+i,L=M-a,$=M+a,U=F(_-T),B=F(_+A);S.push({x1:L,y1:B,x2:$,y2:B}),S.push({x1:M,y1:U,x2:M,y2:B}),S.push({x1:L,y1:U,x2:$,y2:U})}return I.createElement(Ae,Id({className:"recharts-errorBar",key:"bar-".concat(S.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},g),S.map(function(W){return I.createElement("line",Id({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return I.createElement(Ae,{className:"recharts-errorBars"},v)}}])}(I.Component);oI(Eu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});oI(Eu,"displayName","ErrorBar");function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function N_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N_(Object(n),!0).forEach(function(r){sW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sW(t,e,n){return e=lW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lW(t){var e=uW(t,"string");return Fl(e)=="symbol"?e:e+""}function uW(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sI=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=sn(n,di);if(!a)return null;var s=di.defaultProps,l=s!==void 0?Ai(Ai({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,g=d.props,v=g.sectors||g.data||[];return c.concat(v.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,g=h!==void 0?Ai(Ai({},h),d.props):{},v=g.dataKey,y=g.name,x=g.legendType,w=g.hide;return{inactive:w,dataKey:v,type:l.iconType||x||"square",color:P0(d),value:y||v,payload:g}}),Ai(Ai(Ai({},l),di.getWithHeight(a,i)),{},{payload:u,item:a})};function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function O_(t){return hW(t)||fW(t)||dW(t)||cW()}function cW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dW(t,e){if(t){if(typeof t=="string")return Pg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pg(t,e)}}function fW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hW(t){if(Array.isArray(t))return Pg(t)}function Pg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R_(Object(n),!0).forEach(function(r){sa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sa(t,e,n){return e=pW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pW(t){var e=mW(t,"string");return Vl(e)=="symbol"?e:e+""}function mW(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ht(t,e,n){return ve(t)||ve(e)?n:mt(e)?pn(t,e,n):ge(e)?e(t):n}function nl(t,e,n,r){var i=f9(t,function(s){return ht(s,e)});if(n==="number"){var o=i.filter(function(s){return Y(s)||parseFloat(s)});return o.length?[lh(o),sh(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!ve(s)}):i;return a.map(function(s){return mt(s)||s instanceof Date?s:""})}var gW=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Bt(d-c)!==Bt(h-d)){var v=[];if(Bt(h-d)===Bt(l[1]-l[0])){g=h;var y=d+l[1]-l[0];v[0]=Math.min(y,(y+c)/2),v[1]=Math.max(y,(y+c)/2)}else{g=c;var x=h+l[1]-l[0];v[0]=Math.min(d,(x+d)/2),v[1]=Math.max(d,(x+d)/2)}var w=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){a=i[u].index;break}}else{var b=Math.min(c,h),_=Math.max(c,h);if(e>(b+d)/2&&e<=(_+d)/2){a=i[u].index;break}}}else for(var E=0;E<s;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){a=r[E].index;break}return a},P0=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?nt(nt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},vW=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,d=Object.keys(c),h=0,g=d.length;h<g;h++){var v=c[d[h]],y=v.items,x=v.cateAxisId,w=y.filter(function(A){return Ar(A.type).indexOf("Bar")>=0});if(w&&w.length){var b=w[0].type.defaultProps,_=b!==void 0?nt(nt({},b),w[0].props):w[0].props,E=_.barSize,S=_[x];a[S]||(a[S]=[]);var T=ve(E)?n:E;a[S].push({item:w[0],stackList:w.slice(1),barSize:ve(T)?void 0:Ft(T,r,0)})}}return a},yW=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Ft(n,i,0,!0),c,d=[];if(a[0].barSize===+a[0].barSize){var h=!1,g=i/l,v=a.reduce(function(E,S){return E+S.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&g>0&&(h=!0,g*=.9,v=l*g);var y=(i-v)/2>>0,x={offset:y-u,size:0};c=a.reduce(function(E,S){var T={item:S.item,position:{offset:x.offset+x.size+u,size:h?g:S.barSize}},A=[].concat(O_(E),[T]);return x=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:x})}),A},d)}else{var w=Ft(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var b=(i-2*w-(l-1)*u)/l;b>1&&(b>>=0);var _=s===+s?Math.min(b,s):b;c=a.reduce(function(E,S,T){var A=[].concat(O_(E),[{item:S.item,position:{offset:w+(b+u)*T+(b-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:A[A.length-1].position})}),A},d)}return c},wW=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=sI({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,g=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&g!=="center"&&Y(e[g]))return nt(nt({},e),{},sa({},g,e[g]+(d||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&v!=="middle"&&Y(e[v]))return nt(nt({},e),{},sa({},v,e[v]+(h||0)))}return e},bW=function(e,n,r){return ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},lI=function(e,n,r,i,o){var a=n.props.children,s=mn(a,Eu).filter(function(u){return bW(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=ht(c,r);if(ve(d))return u;var h=Array.isArray(d)?[lh(d),sh(d)]:[d,d],g=l.reduce(function(v,y){var x=ht(c,y,0),w=h[0]-Math.abs(Array.isArray(x)?x[0]:x),b=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(w,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},xW=function(e,n,r,i,o){var a=n.map(function(s){return lI(e,s,r,o,i)}).filter(function(s){return!ve(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},uI=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&lI(e,l,u,i)||nl(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},cI=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},dI=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Er=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Bt(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!vu(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},Ip=new WeakMap,rc=function(e,n){if(typeof n!="function")return e;Ip.has(e)||Ip.set(e,new WeakMap);var r=Ip.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},fI=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Ml(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Td(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:tl(),realScaleType:"point"}:o==="category"?{scale:Ml(),realScaleType:"band"}:{scale:Td(),realScaleType:"linear"};if(io(i)){var l="scale".concat(Hf(i));return{scale:(A_[l]||tl)(),realScaleType:A_[l]?l:"point"}}return ge(i)?{scale:i}:{scale:tl(),realScaleType:"point"}},M_=1e-4,hI=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-M_,a=Math.max(i[0],i[1])+M_,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},_W=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},SW=function(e,n){if(!n||n.length!==2||!Y(n[0])||!Y(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Y(e[0])||e[0]<r)&&(o[0]=r),(!Y(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},EW=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=vu(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},TW=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=vu(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},AW={sign:EW,expand:G3,none:wa,silhouette:H3,wiggle:W3,positive:TW},CW=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=AW[r],a=q3().keys(i).value(function(s,l){return+ht(s,l,0)}).order(Zm).offset(o);return a(e)},PW=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(d,h){var g,v=(g=h.type)!==null&&g!==void 0&&g.defaultProps?nt(nt({},h.type.defaultProps),h.props):h.props,y=v.stackId,x=v.hide;if(x)return d;var w=v[r],b=d[w]||{hasStack:!1,stackGroups:{}};if(mt(y)){var _=b.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),b.hasStack=!0,b.stackGroups[y]=_}else b.stackGroups[Za("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return nt(nt({},d),{},sa({},w,b))},l),c={};return Object.keys(u).reduce(function(d,h){var g=u[h];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,x){var w=g.stackGroups[x];return nt(nt({},y),{},sa({},x,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:CW(e,w.items,o)}))},v)}return nt(nt({},d),{},sa({},h,g))},c)},pI=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=V9(u,o,s);return e.domain([lh(c),sh(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=z9(d,o,s);return{niceTicks:h}}return null};function $_(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ve(i[e.dataKey])){var s=id(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=ht(i,ve(a)?e.dataKey:a);return ve(l)?null:e.scale(l)}var D_=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=ht(a,n.dataKey,n.domain[s]);return ve(l)?null:n.scale(l)-o/2+i},kW=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},IW=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?nt(nt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(mt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},NW=function(e){return e.reduce(function(n,r){return[lh(r.concat([n[0]]).filter(Y)),sh(r.concat([n[1]]).filter(Y))]},[1/0,-1/0])},mI=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var d=NW(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},j_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,L_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kg=function(e,n,r){if(ge(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Y(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(j_.test(e[0])){var o=+j_.exec(e[0])[1];i[0]=n[0]-o}else ge(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Y(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(L_.test(e[1])){var a=+L_.exec(e[1])[1];i[1]=n[1]+a}else ge(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Od=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=t0(n,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},U_=function(e,n,r){return!e||!e.length||Su(e,pn(r,"type.defaultProps.domain"))?n:e},gI=function(e,n){var r=e.type.defaultProps?nt(nt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return nt(nt({},ce(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:P0(e),value:ht(n,i),type:l,payload:n,chartType:u,hide:c})};function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function B_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B_(Object(n),!0).forEach(function(r){vI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vI(t,e,n){return e=OW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OW(t){var e=RW(t,"string");return zl(e)=="symbol"?e:e+""}function RW(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MW(t,e){return LW(t)||jW(t,e)||DW(t,e)||$W()}function $W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DW(t,e){if(t){if(typeof t=="string")return F_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(t,e)}}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function LW(t){if(Array.isArray(t))return t}var Rd=Math.PI/180,UW=function(e){return e*180/Math.PI},Ue=function(e,n,r,i){return{x:e+Math.cos(-Rd*i)*r,y:n+Math.sin(-Rd*i)*r}},yI=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},BW=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=Ft(e.cx,a,a/2),d=Ft(e.cy,s,s/2),h=yI(a,s,r),g=Ft(e.innerRadius,h,0),v=Ft(e.outerRadius,h,h*.8),y=Object.keys(n);return y.reduce(function(x,w){var b=n[w],_=b.domain,E=b.reversed,S;if(ve(b.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[g,v]),E&&(S=[S[1],S[0]]);else{S=b.range;var T=S,A=MW(T,2);l=A[0],u=A[1]}var C=fI(b,o),P=C.realScaleType,N=C.scale;N.domain(_).range(S),hI(N);var k=pI(N,vr(vr({},b),{},{realScaleType:P})),R=vr(vr(vr({},b),k),{},{range:S,radius:v,realScaleType:P,scale:N,cx:c,cy:d,innerRadius:g,outerRadius:v,startAngle:l,endAngle:u});return vr(vr({},x),{},vI({},w,R))},{})},FW=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},VW=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=FW({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:UW(u),angleInRadian:u}},zW=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},qW=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},V_=function(e,n){var r=e.x,i=e.y,o=VW({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=zW(n),d=c.startAngle,h=c.endAngle,g=s,v;if(d<=h){for(;g>h;)g-=360;for(;g<d;)g+=360;v=g>=d&&g<=h}else{for(;g>d;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=d}return v?vr(vr({},n),{},{radius:a,angle:qW(g,n)}):null},wI=function(e){return!O.isValidElement(e)&&!ge(e)&&typeof e!="boolean"?e.className:""};function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}var GW=["offset"];function HW(t){return YW(t)||JW(t)||KW(t)||WW()}function WW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KW(t,e){if(t){if(typeof t=="string")return Ig(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ig(t,e)}}function JW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YW(t){if(Array.isArray(t))return Ig(t)}function Ig(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XW(t,e){if(t==null)return{};var n=QW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function z_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z_(Object(n),!0).forEach(function(r){ZW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZW(t,e,n){return e=eK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eK(t){var e=tK(t,"string");return ql(e)=="symbol"?e:e+""}function tK(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(this,arguments)}var nK=function(e){var n=e.value,r=e.formatter,i=ve(e.children)?n:e.children;return ge(r)?r(i):i},rK=function(e,n){var r=Bt(n-e),i=Math.min(Math.abs(n-e),360);return r*i},iK=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,g=l.startAngle,v=l.endAngle,y=l.clockWise,x=(d+h)/2,w=rK(g,v),b=w>=0?1:-1,_,E;i==="insideStart"?(_=g+b*a,E=y):i==="insideEnd"?(_=v-b*a,E=!y):i==="end"&&(_=v+b*a,E=y),E=w<=0?E:!E;var S=Ue(u,c,x,_),T=Ue(u,c,x,_+(E?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(E?0:1,`,
    `).concat(T.x,",").concat(T.y),C=ve(e.id)?Za("recharts-radial-line-"):e.id;return I.createElement("text",Gl({},r,{dominantBaseline:"central",className:ye("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:C,d:A})),I.createElement("textPath",{xlinkHref:"#".concat(C)},n))},oK=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var g=Ue(a,s,u+r,h),v=g.x,y=g.y;return{x:v,y,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,w=Ue(a,s,x,h),b=w.x,_=w.y;return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},aK=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,d=c>=0?1:-1,h=d*i,g=d>0?"end":"start",v=d>0?"start":"end",y=u>=0?1:-1,x=y*i,w=y>0?"end":"start",b=y>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:g};return ct(ct({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var E={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return ct(ct({},E),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:s-x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return ct(ct({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var T={x:s+u+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return ct(ct({},T),r?{width:Math.max(r.x+r.width-T.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return o==="insideLeft"?ct({x:s+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},A):o==="insideRight"?ct({x:s+u-x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},A):o==="insideTop"?ct({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},A):o==="insideBottom"?ct({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:g},A):o==="insideTopLeft"?ct({x:s+x,y:l+h,textAnchor:b,verticalAnchor:v},A):o==="insideTopRight"?ct({x:s+u-x,y:l+h,textAnchor:w,verticalAnchor:v},A):o==="insideBottomLeft"?ct({x:s+x,y:l+c-h,textAnchor:b,verticalAnchor:g},A):o==="insideBottomRight"?ct({x:s+u-x,y:l+c-h,textAnchor:w,verticalAnchor:g},A):Ja(o)&&(Y(o.x)||qi(o.x))&&(Y(o.y)||qi(o.y))?ct({x:s+Ft(o.x,u),y:l+Ft(o.y,c),textAnchor:"end",verticalAnchor:"end"},A):ct({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},sK=function(e){return"cx"in e&&Y(e.cx)};function bt(t){var e=t.offset,n=e===void 0?5:e,r=XW(t,GW),i=ct({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||ve(s)&&ve(l)&&!O.isValidElement(u)&&!ge(u))return null;if(O.isValidElement(u))return O.cloneElement(u,i);var g;if(ge(u)){if(g=O.createElement(u,i),O.isValidElement(g))return g}else g=nK(i);var v=sK(o),y=ce(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return iK(i,g,y);var x=v?oK(i):aK(i);return I.createElement(ao,Gl({className:ye("recharts-label",d)},y,x,{breakAll:h}),g)}bt.displayName="Label";var bI=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,g=e.top,v=e.left,y=e.width,x=e.height,w=e.clockWise,b=e.labelViewBox;if(b)return b;if(Y(y)&&Y(x)){if(Y(d)&&Y(h))return{x:d,y:h,width:y,height:x};if(Y(g)&&Y(v))return{x:g,y:v,width:y,height:x}}return Y(d)&&Y(h)?{x:d,y:h,width:0,height:0}:Y(n)&&Y(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},lK=function(e,n){return e?e===!0?I.createElement(bt,{key:"label-implicit",viewBox:n}):mt(e)?I.createElement(bt,{key:"label-implicit",viewBox:n,value:e}):O.isValidElement(e)?e.type===bt?O.cloneElement(e,{key:"label-implicit",viewBox:n}):I.createElement(bt,{key:"label-implicit",content:e,viewBox:n}):ge(e)?I.createElement(bt,{key:"label-implicit",content:e,viewBox:n}):Ja(e)?I.createElement(bt,Gl({viewBox:n},e,{key:"label-implicit"})):null:null},uK=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=bI(e),a=mn(i,bt).map(function(l,u){return O.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=lK(e.label,n||o);return[s].concat(HW(a))};bt.parseViewBox=bI;bt.renderCallByParent=uK;function cK(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var dK=cK;const fK=Ne(dK);function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}var hK=["valueAccessor"],pK=["data","dataKey","clockWise","id","textBreakAll"];function mK(t){return wK(t)||yK(t)||vK(t)||gK()}function gK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vK(t,e){if(t){if(typeof t=="string")return Ng(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ng(t,e)}}function yK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wK(t){if(Array.isArray(t))return Ng(t)}function Ng(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Md.apply(this,arguments)}function q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q_(Object(n),!0).forEach(function(r){bK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bK(t,e,n){return e=xK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xK(t){var e=_K(t,"string");return Hl(e)=="symbol"?e:e+""}function _K(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H_(t,e){if(t==null)return{};var n=SK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var EK=function(e){return Array.isArray(e.value)?fK(e.value):e.value};function Pr(t){var e=t.valueAccessor,n=e===void 0?EK:e,r=H_(t,hK),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=H_(r,pK);return!i||!i.length?null:I.createElement(Ae,{className:"recharts-label-list"},i.map(function(c,d){var h=ve(o)?n(c,d):ht(c&&c.payload,o),g=ve(s)?{}:{id:"".concat(s,"-").concat(d)};return I.createElement(bt,Md({},ce(c,!0),u,g,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:bt.parseViewBox(ve(a)?c:G_(G_({},c),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Pr.displayName="LabelList";function TK(t,e){return t?t===!0?I.createElement(Pr,{key:"labelList-implicit",data:e}):I.isValidElement(t)||ge(t)?I.createElement(Pr,{key:"labelList-implicit",data:e,content:t}):Ja(t)?I.createElement(Pr,Md({data:e},t,{key:"labelList-implicit"})):null:null}function AK(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=mn(r,Pr).map(function(a,s){return O.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=TK(t.label,e);return[o].concat(mK(i))}Pr.renderCallByParent=AK;function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(this,arguments)}function W_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W_(Object(n),!0).forEach(function(r){CK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CK(t,e,n){return e=PK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PK(t){var e=kK(t,"string");return Wl(e)=="symbol"?e:e+""}function kK(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IK=function(e,n){var r=Bt(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},ic=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/Rd,h=u?o:o+a*d,g=Ue(n,r,c,h),v=Ue(n,r,i,h),y=u?o-a*d:o,x=Ue(n,r,c*Math.cos(d*Rd),y);return{center:g,circleTangency:v,lineTangency:x,theta:d}},xI=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=IK(a,s),u=a+l,c=Ue(n,r,o,a),d=Ue(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=Ue(n,r,i,a),v=Ue(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},NK=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Bt(c-u),h=ic({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),g=h.circleTangency,v=h.lineTangency,y=h.theta,x=ic({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),w=x.circleTangency,b=x.lineTangency,_=x.theta,E=l?Math.abs(u-c):Math.abs(u-c)-y-_;if(E<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):xI({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(E>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var T=ic({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=T.circleTangency,C=T.lineTangency,P=T.theta,N=ic({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=N.circleTangency,R=N.lineTangency,j=N.theta,V=l?Math.abs(u-c):Math.abs(u-c)-P-j;if(V<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},OK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_I=function(e){var n=K_(K_({},OK),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(a<o||c===d)return null;var g=ye("recharts-sector",h),v=a-o,y=Ft(s,v,0,!0),x;return y>0&&Math.abs(c-d)<360?x=NK({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):x=xI({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:d}),I.createElement("path",Og({},ce(n,!0),{className:g,d:x,role:"img"}))};function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function Rg(){return Rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rg.apply(this,arguments)}function J_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J_(Object(n),!0).forEach(function(r){RK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RK(t,e,n){return e=MK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MK(t){var e=$K(t,"string");return Kl(e)=="symbol"?e:e+""}function $K(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X_={curveBasisClosed:R3,curveBasisOpen:M3,curveBasis:O3,curveBumpX:y3,curveBumpY:w3,curveLinearClosed:$3,curveLinear:Kf,curveMonotoneX:D3,curveMonotoneY:j3,curveNatural:L3,curveStep:U3,curveStepAfter:F3,curveStepBefore:B3},oc=function(e){return e.x===+e.x&&e.y===+e.y},Ns=function(e){return e.x},Os=function(e){return e.y},DK=function(e,n){if(ge(e))return e;var r="curve".concat(Hf(e));return(r==="curveMonotone"||r==="curveBump")&&n?X_["".concat(r).concat(n==="vertical"?"Y":"X")]:X_[r]||Kf},jK=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=DK(r,s),d=u?o.filter(function(y){return oc(y)}):o,h;if(Array.isArray(a)){var g=u?a.filter(function(y){return oc(y)}):a,v=d.map(function(y,x){return Y_(Y_({},y),{},{base:g[x]})});return s==="vertical"?h=Ju().y(Os).x1(Ns).x0(function(y){return y.base.x}):h=Ju().x(Ns).y1(Os).y0(function(y){return y.base.y}),h.defined(oc).curve(c),h(v)}return s==="vertical"&&Y(a)?h=Ju().y(Os).x1(Ns).x0(a):Y(a)?h=Ju().x(Ns).y1(Os).y0(a):h=gP().x(Ns).y(Os),h.defined(oc).curve(c),h(d)},$d=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?jK(e):i;return O.createElement("path",Rg({},ce(e,!1),od(e),{className:ye("recharts-curve",n),d:a,ref:o}))},SI={exports:{}},LK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",UK=LK,BK=UK;function EI(){}function TI(){}TI.resetWarningCache=EI;var FK=function(){function t(r,i,o,a,s,l){if(l!==BK){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:TI,resetWarningCache:EI};return n.PropTypes=n,n};SI.exports=FK();var VK=SI.exports;const ke=Ne(VK);var zK=Object.getOwnPropertyNames,qK=Object.getOwnPropertySymbols,GK=Object.prototype.hasOwnProperty;function Q_(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function ac(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function HK(t){return t!=null?t[Symbol.toStringTag]:void 0}function Z_(t){return zK(t).concat(qK(t))}var WK=Object.hasOwn||function(t,e){return GK.call(t,e)};function vo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var KK="__v",JK="__o",YK="_owner",e1=Object.getOwnPropertyDescriptor,t1=Object.keys;function XK(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function QK(t,e){return vo(t.getTime(),e.getTime())}function ZK(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function eJ(t,e){return t===e}function n1(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),c=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var h=a.value,g=s.value;if(n.equals(h[0],g[0],l,d,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}var tJ=vo;function nJ(t,e,n){var r=t1(t),i=r.length;if(t1(e).length!==i)return!1;for(;i-- >0;)if(!AI(t,e,n,r[i]))return!1;return!0}function Rs(t,e,n){var r=Z_(t),i=r.length;if(Z_(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!AI(t,e,n,o)||(a=e1(t,o),s=e1(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function rJ(t,e){return vo(t.valueOf(),e.valueOf())}function iJ(t,e){return t.source===e.source&&t.flags===e.flags}function r1(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function oJ(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function aJ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function AI(t,e,n,r){return(r===YK||r===JK||r===KK)&&(t.$$typeof||e.$$typeof)?!0:WK(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var sJ="[object Arguments]",lJ="[object Boolean]",uJ="[object Date]",cJ="[object Error]",dJ="[object Map]",fJ="[object Number]",hJ="[object Object]",pJ="[object RegExp]",mJ="[object Set]",gJ="[object String]",vJ="[object URL]",yJ=Array.isArray,i1=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,o1=Object.assign,wJ=Object.prototype.toString.call.bind(Object.prototype.toString);function bJ(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual,g=t.unknownTagComparators;return function(y,x,w){if(y===x)return!0;if(y==null||x==null)return!1;var b=typeof y;if(b!==typeof x)return!1;if(b!=="object")return b==="number"?a(y,x,w):b==="function"?i(y,x,w):!1;var _=y.constructor;if(_!==x.constructor)return!1;if(_===Object)return s(y,x,w);if(yJ(y))return e(y,x,w);if(i1!=null&&i1(y))return d(y,x,w);if(_===Date)return n(y,x,w);if(_===RegExp)return u(y,x,w);if(_===Map)return o(y,x,w);if(_===Set)return c(y,x,w);var E=wJ(y);if(E===uJ)return n(y,x,w);if(E===pJ)return u(y,x,w);if(E===dJ)return o(y,x,w);if(E===mJ)return c(y,x,w);if(E===hJ)return typeof y.then!="function"&&typeof x.then!="function"&&s(y,x,w);if(E===vJ)return h(y,x,w);if(E===cJ)return r(y,x,w);if(E===sJ)return s(y,x,w);if(E===lJ||E===fJ||E===gJ)return l(y,x,w);if(g){var S=g[E];if(!S){var T=HK(y);T&&(S=g[T])}if(S)return S(y,x,w)}return!1}}function xJ(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Rs:XK,areDatesEqual:QK,areErrorsEqual:ZK,areFunctionsEqual:eJ,areMapsEqual:r?Q_(n1,Rs):n1,areNumbersEqual:tJ,areObjectsEqual:r?Rs:nJ,arePrimitiveWrappersEqual:rJ,areRegExpsEqual:iJ,areSetsEqual:r?Q_(r1,Rs):r1,areTypedArraysEqual:r?Rs:oJ,areUrlsEqual:aJ,unknownTagComparators:void 0};if(n&&(i=o1({},i,n(i))),e){var o=ac(i.areArraysEqual),a=ac(i.areMapsEqual),s=ac(i.areObjectsEqual),l=ac(i.areSetsEqual);i=o1({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function _J(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function SJ(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),d=c.cache,h=d===void 0?e?new WeakMap:void 0:d,g=c.meta;return n(l,u,{cache:h,equals:i,meta:g,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var EJ=xi();xi({strict:!0});xi({circular:!0});xi({circular:!0,strict:!0});xi({createInternalComparator:function(){return vo}});xi({strict:!0,createInternalComparator:function(){return vo}});xi({circular:!0,createInternalComparator:function(){return vo}});xi({circular:!0,createInternalComparator:function(){return vo},strict:!0});function xi(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=xJ(t),l=bJ(s),u=r?r(l):_J(l);return SJ({circular:n,comparator:l,createState:i,equals:u,strict:a})}function TJ(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function a1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):TJ(i)};requestAnimationFrame(r)}function Mg(t){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(t)}function AJ(t){return IJ(t)||kJ(t)||PJ(t)||CJ()}function CJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PJ(t,e){if(t){if(typeof t=="string")return s1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s1(t,e)}}function s1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IJ(t){if(Array.isArray(t))return t}function NJ(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=AJ(a),l=s[0],u=s.slice(1);if(typeof l=="number"){a1(i.bind(null,u),l);return}i(l),a1(i.bind(null,u));return}Mg(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function l1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l1(Object(n),!0).forEach(function(r){CI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CI(t,e,n){return e=OJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OJ(t){var e=RJ(t,"string");return Jl(e)==="symbol"?e:String(e)}function RJ(t,e){if(Jl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MJ=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},$J=function(e){return e},DJ=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},rl=function(e,n){return Object.keys(n).reduce(function(r,i){return u1(u1({},r),{},CI({},i,e(i,n[i])))},{})},c1=function(e,n,r){return e.map(function(i){return"".concat(DJ(i)," ").concat(n,"ms ").concat(r)}).join(",")};function jJ(t,e){return BJ(t)||UJ(t,e)||PI(t,e)||LJ()}function LJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function BJ(t){if(Array.isArray(t))return t}function FJ(t){return qJ(t)||zJ(t)||PI(t)||VJ()}function VJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PI(t,e){if(t){if(typeof t=="string")return $g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $g(t,e)}}function zJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qJ(t){if(Array.isArray(t))return $g(t)}function $g(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Dd=1e-4,kI=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},II=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},d1=function(e,n){return function(r){var i=kI(e,n);return II(i,r)}},GJ=function(e,n){return function(r){var i=kI(e,n),o=[].concat(FJ(i.map(function(a,s){return a*s}).slice(1)),[0]);return II(o,r)}},f1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=jJ(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var d=d1(i,a),h=d1(o,s),g=GJ(i,a),v=function(w){return w>1?1:w<0?0:w},y=function(w){for(var b=w>1?1:w,_=b,E=0;E<8;++E){var S=d(_)-b,T=g(_);if(Math.abs(S-b)<Dd||T<Dd)return h(_);_=v(_-S/T)}return h(_)};return y.isStepper=!1,y},HJ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,d,h){var g=-(c-d)*r,v=h*o,y=h+(g-v)*s/1e3,x=h*s/1e3+c;return Math.abs(x-d)<Dd&&Math.abs(y)<Dd?[d,0]:[x,y]};return l.isStepper=!0,l.dt=s,l},WJ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return f1(i);case"spring":return HJ();default:if(i.split("(")[0]==="cubic-bezier")return f1(i)}return typeof i=="function"?i:null};function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function h1(t){return YJ(t)||JJ(t)||NI(t)||KJ()}function KJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YJ(t){if(Array.isArray(t))return jg(t)}function p1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p1(Object(n),!0).forEach(function(r){Dg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dg(t,e,n){return e=XJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XJ(t){var e=QJ(t,"string");return Yl(e)==="symbol"?e:String(e)}function QJ(t,e){if(Yl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZJ(t,e){return nY(t)||tY(t,e)||NI(t,e)||eY()}function eY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NI(t,e){if(t){if(typeof t=="string")return jg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jg(t,e)}}function jg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function nY(t){if(Array.isArray(t))return t}var jd=function(e,n,r){return e+(n-e)*r},Lg=function(e){var n=e.from,r=e.to;return n!==r},rY=function t(e,n,r){var i=rl(function(o,a){if(Lg(a)){var s=e(a.from,a.to,a.velocity),l=ZJ(s,2),u=l[0],c=l[1];return At(At({},a),{},{from:u,velocity:c})}return a},n);return r<1?rl(function(o,a){return Lg(a)?At(At({},a),{},{velocity:jd(a.velocity,i[o].velocity,r),from:jd(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const iY=function(t,e,n,r,i){var o=MJ(t,e),a=o.reduce(function(x,w){return At(At({},x),{},Dg({},w,[t[w],e[w]]))},{}),s=o.reduce(function(x,w){return At(At({},x),{},Dg({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return rl(function(w,b){return b.from},s)},g=function(){return!Object.values(s).filter(Lg).length},v=function(w){u||(u=w);var b=w-u,_=b/n.dt;s=rY(n,s,_),i(At(At(At({},t),e),h())),u=w,g()||(l=requestAnimationFrame(d))},y=function(w){c||(c=w);var b=(w-c)/r,_=rl(function(S,T){return jd.apply(void 0,h1(T).concat([n(b)]))},a);if(i(At(At(At({},t),e),_)),b<1)l=requestAnimationFrame(d);else{var E=rl(function(S,T){return jd.apply(void 0,h1(T).concat([n(1)]))},a);i(At(At(At({},t),e),E))}};return d=n.isStepper?v:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Pa(t){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(t)}var oY=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function aY(t,e){if(t==null)return{};var n=sY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Np(t){return dY(t)||cY(t)||uY(t)||lY()}function lY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uY(t,e){if(t){if(typeof t=="string")return Ug(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ug(t,e)}}function cY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dY(t){if(Array.isArray(t))return Ug(t)}function Ug(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m1(Object(n),!0).forEach(function(r){zs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zs(t,e,n){return e=OI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OI(r.key),r)}}function pY(t,e,n){return e&&hY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OI(t){var e=mY(t,"string");return Pa(e)==="symbol"?e:String(e)}function mY(t,e){if(Pa(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pa(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bg(t,e)}function Bg(t,e){return Bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bg(t,e)}function vY(t){var e=yY();return function(){var r=Ld(t),i;if(e){var o=Ld(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Fg(this,i)}}function Fg(t,e){if(e&&(Pa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vg(t)}function Vg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ld(t){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ld(t)}var ur=function(t){gY(n,t);var e=vY(n);function n(r,i){var o;fY(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,d=a.steps,h=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Vg(o)),o.changeStyle=o.changeStyle.bind(Vg(o)),!s||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),Fg(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Fg(o);o.state={style:l?zs({},l,u):u}}else o.state={style:{}};return o}return pY(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(s){if(!a){var g={style:l?zs({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(g);return}if(!(EJ(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?d:i.to;if(this.state&&h){var x={style:l?zs({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(x)}this.runAnimation(Un(Un({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,g=iY(a,s,WJ(u),l,this.changeStyle),v=function(){o.stopJSAnimation=g()};this.manager.start([h,c,v,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,d=u.duration,h=d===void 0?0:d,g=function(y,x,w){if(w===0)return y;var b=x.duration,_=x.easing,E=_===void 0?"ease":_,S=x.style,T=x.properties,A=x.onAnimationEnd,C=w>0?a[w-1]:x,P=T||Object.keys(S);if(typeof E=="function"||E==="spring")return[].concat(Np(y),[o.runJSAnimation.bind(o,{from:C.style,to:S,duration:b,easing:E}),b]);var N=c1(P,b,E),k=Un(Un(Un({},C.style),S),{},{transition:N});return[].concat(Np(y),[k,b,A]).filter($J)};return this.manager.start([l].concat(Np(a.reduce(g,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=NJ());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?zs({},s,l):l,x=c1(Object.keys(y),a,u);v.start([c,o,Un(Un({},y),{},{transition:x}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=aY(i,oY),u=O.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var d=function(g){var v=g.props,y=v.style,x=y===void 0?{}:y,w=v.className,b=O.cloneElement(g,Un(Un({},l),{},{style:Un(Un({},x),c),className:w}));return b};return u===1?d(O.Children.only(o)):I.createElement("div",null,O.Children.map(o,function(h){return d(h)}))}}]),n}(O.PureComponent);ur.displayName="Animate";ur.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ur.propTypes={from:ke.oneOfType([ke.object,ke.string]),to:ke.oneOfType([ke.object,ke.string]),attributeName:ke.string,duration:ke.number,begin:ke.number,easing:ke.oneOfType([ke.string,ke.func]),steps:ke.arrayOf(ke.shape({duration:ke.number.isRequired,style:ke.object.isRequired,easing:ke.oneOfType([ke.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ke.func]),properties:ke.arrayOf("string"),onAnimationEnd:ke.func})),children:ke.oneOfType([ke.node,ke.func]),isActive:ke.bool,canBegin:ke.bool,onAnimationEnd:ke.func,shouldReAnimate:ke.bool,onAnimationStart:ke.func,onAnimationReStart:ke.func};function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ud.apply(this,arguments)}function wY(t,e){return SY(t)||_Y(t,e)||xY(t,e)||bY()}function bY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xY(t,e){if(t){if(typeof t=="string")return g1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g1(t,e)}}function g1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Y(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function SY(t){if(Array.isArray(t))return t}function v1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v1(Object(n),!0).forEach(function(r){EY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EY(t,e,n){return e=TY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TY(t){var e=AY(t,"string");return Xl(e)=="symbol"?e:e+""}function AY(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w1=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*d[1])),c+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*d[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);c="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},CY=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),d=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},PY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},k0=function(e){var n=y1(y1({},PY),e),r=O.useRef(),i=O.useState(-1),o=wY(i,2),a=o[0],s=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&s(E)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,g=n.className,v=n.animationEasing,y=n.animationDuration,x=n.animationBegin,w=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var _=ye("recharts-rectangle",g);return b?I.createElement(ur,{canBegin:a>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:y,animationEasing:v,isActive:b},function(E){var S=E.width,T=E.height,A=E.x,C=E.y;return I.createElement(ur,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,isActive:w,easing:v},I.createElement("path",Ud({},ce(n,!0),{className:_,d:w1(A,C,S,T,h),ref:r})))}):I.createElement("path",Ud({},ce(n,!0),{className:_,d:w1(l,u,c,d,h)}))},kY=["points","className","baseLinePoints","connectNulls"];function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ho.apply(this,arguments)}function IY(t,e){if(t==null)return{};var n=NY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function b1(t){return $Y(t)||MY(t)||RY(t)||OY()}function OY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RY(t,e){if(t){if(typeof t=="string")return zg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zg(t,e)}}function MY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Y(t){if(Array.isArray(t))return zg(t)}function zg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var x1=function(e){return e&&e.x===+e.x&&e.y===+e.y},DY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){x1(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),x1(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},il=function(e,n){var r=DY(e);n&&(r=[r.reduce(function(o,a){return[].concat(b1(o),b1(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},jY=function(e,n,r){var i=il(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(il(n.reverse(),r).slice(1))},LY=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=IY(e,kY);if(!n||!n.length)return null;var s=ye("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=jY(n,i,o);return I.createElement("g",{className:s},I.createElement("path",Ho({},ce(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?I.createElement("path",Ho({},ce(a,!0),{fill:"none",d:il(n,o)})):null,l?I.createElement("path",Ho({},ce(a,!0),{fill:"none",d:il(i,o)})):null)}var c=il(n,o);return I.createElement("path",Ho({},ce(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function qg(){return qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qg.apply(this,arguments)}var dh=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=ye("recharts-dot",o);return n===+n&&r===+r&&i===+i?O.createElement("circle",qg({},ce(e,!1),od(e),{className:a,cx:n,cy:r,r:i})):null};function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}var UY=["x","y","top","left","width","height","className"];function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(this,arguments)}function _1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_1(Object(n),!0).forEach(function(r){FY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FY(t,e,n){return e=VY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VY(t){var e=zY(t,"string");return Ql(e)=="symbol"?e:e+""}function zY(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qY(t,e){if(t==null)return{};var n=GY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var HY=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},WY=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,g=h===void 0?0:h,v=e.className,y=qY(e,UY),x=BY({x:r,y:o,top:s,left:u,width:d,height:g},y);return!Y(r)||!Y(o)||!Y(d)||!Y(g)||!Y(s)||!Y(u)?null:I.createElement("path",Gg({},ce(x,!0),{className:ye("recharts-cross",v),d:HY(r,o,d,g,s,u)}))},KY=ah,JY=qk,YY=fr;function XY(t,e){return t&&t.length?KY(t,YY(e),JY):void 0}var QY=XY;const ZY=Ne(QY);var eX=ah,tX=fr,nX=Gk;function rX(t,e){return t&&t.length?eX(t,tX(e),nX):void 0}var iX=rX;const oX=Ne(iX);var aX=["cx","cy","angle","ticks","axisLine"],sX=["ticks","tick","angle","tickFormatter","stroke"];function ka(t){"@babel/helpers - typeof";return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ka(t)}function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(this,arguments)}function S1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S1(Object(n),!0).forEach(function(r){fh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E1(t,e){if(t==null)return{};var n=lX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MI(r.key),r)}}function cX(t,e,n){return e&&T1(t.prototype,e),n&&T1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dX(t,e,n){return e=Bd(e),fX(t,RI()?Reflect.construct(e,n||[],Bd(t).constructor):e.apply(t,n))}function fX(t,e){if(e&&(ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hX(t)}function hX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RI=function(){return!!t})()}function Bd(t){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bd(t)}function pX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hg(t,e)}function Hg(t,e){return Hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hg(t,e)}function fh(t,e,n){return e=MI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MI(t){var e=mX(t,"string");return ka(e)=="symbol"?e:e+""}function mX(t,e){if(ka(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ka(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hh=function(t){function e(){return uX(this,e),dX(this,e,arguments)}return pX(e,t),cX(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Ue(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=ZY(s,function(c){return c.coordinate||0}),u=oX(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=E1(r,aX),c=s.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),d=Ue(i,o,c[0],a),h=Ue(i,o,c[1],a),g=Ci(Ci(Ci({},ce(u,!1)),{},{fill:"none"},ce(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return I.createElement("line",ol({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=E1(i,sX),d=this.getTickTextAnchor(),h=ce(c,!1),g=ce(a,!1),v=o.map(function(y,x){var w=r.getTickValueCoord(y),b=Ci(Ci(Ci(Ci({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},g),{},{index:x},w),{},{payload:y});return I.createElement(Ae,ol({className:ye("recharts-polar-radius-axis-tick",wI(a)),key:"tick-".concat(y.coordinate)},oo(r.props,y,x)),e.renderTickItem(a,b,l?l(y.value,x):y.value))});return I.createElement(Ae,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:I.createElement(Ae,{className:ye("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),bt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):ge(r)?a=r(i):a=I.createElement(ao,ol({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(O.PureComponent);fh(hh,"displayName","PolarRadiusAxis");fh(hh,"axisType","radiusAxis");fh(hh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ia(t){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(t)}function ji(){return ji=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ji.apply(this,arguments)}function A1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A1(Object(n),!0).forEach(function(r){ph(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DI(r.key),r)}}function vX(t,e,n){return e&&C1(t.prototype,e),n&&C1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yX(t,e,n){return e=Fd(e),wX(t,$I()?Reflect.construct(e,n||[],Fd(t).constructor):e.apply(t,n))}function wX(t,e){if(e&&(Ia(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bX(t)}function bX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($I=function(){return!!t})()}function Fd(t){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fd(t)}function xX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wg(t,e)}function Wg(t,e){return Wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wg(t,e)}function ph(t,e,n){return e=DI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DI(t){var e=_X(t,"string");return Ia(e)=="symbol"?e:e+""}function _X(t,e){if(Ia(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ia(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SX=Math.PI/180,P1=1e-5,mh=function(t){function e(){return gX(this,e),yX(this,e,arguments)}return xX(e,t),vX(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,d=Ue(o,a,s,r.coordinate),h=Ue(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*SX),a;return o>P1?a=i==="outer"?"start":"end":o<-P1?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=Pi(Pi({},ce(this.props,!1)),{},{fill:"none"},ce(s,!1));if(l==="circle")return I.createElement(dh,ji({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,d=c.map(function(h){return Ue(i,o,a,h.coordinate)});return I.createElement(LY,ji({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=ce(this.props,!1),d=ce(a,!1),h=Pi(Pi({},c),{},{fill:"none"},ce(s,!1)),g=o.map(function(v,y){var x=r.getTickLineCoord(v),w=r.getTickTextAnchor(v),b=Pi(Pi(Pi({textAnchor:w},c),{},{stroke:"none",fill:u},d),{},{index:y,payload:v,x:x.x2,y:x.y2});return I.createElement(Ae,ji({className:ye("recharts-polar-angle-axis-tick",wI(a)),key:"tick-".concat(v.coordinate)},oo(r.props,v,y)),s&&I.createElement("line",ji({className:"recharts-polar-angle-axis-tick-line"},h,x)),a&&e.renderTickItem(a,b,l?l(v.value,y):v.value))});return I.createElement(Ae,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:I.createElement(Ae,{className:ye("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):ge(r)?a=r(i):a=I.createElement(ao,ji({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(O.PureComponent);ph(mh,"displayName","PolarAngleAxis");ph(mh,"axisType","angleAxis");ph(mh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var EX=BP,TX=EX(Object.getPrototypeOf,Object),AX=TX,CX=Lr,PX=AX,kX=Ur,IX="[object Object]",NX=Function.prototype,OX=Object.prototype,jI=NX.toString,RX=OX.hasOwnProperty,MX=jI.call(Object);function $X(t){if(!kX(t)||CX(t)!=IX)return!1;var e=PX(t);if(e===null)return!0;var n=RX.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&jI.call(n)==MX}var DX=$X;const jX=Ne(DX);var LX=Lr,UX=Ur,BX="[object Boolean]";function FX(t){return t===!0||t===!1||UX(t)&&LX(t)==BX}var VX=FX;const zX=Ne(VX);function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vd.apply(this,arguments)}function qX(t,e){return KX(t)||WX(t,e)||HX(t,e)||GX()}function GX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(t,e){if(t){if(typeof t=="string")return k1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k1(t,e)}}function k1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function KX(t){if(Array.isArray(t))return t}function I1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I1(Object(n),!0).forEach(function(r){JX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JX(t,e,n){return e=YX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YX(t){var e=XX(t,"string");return Zl(e)=="symbol"?e:e+""}function XX(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O1=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},QX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZX=function(e){var n=N1(N1({},QX),e),r=O.useRef(),i=O.useState(-1),o=qX(i,2),a=o[0],s=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,g=n.className,v=n.animationEasing,y=n.animationDuration,x=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var b=ye("recharts-trapezoid",g);return w?I.createElement(ur,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:y,animationEasing:v,isActive:w},function(_){var E=_.upperWidth,S=_.lowerWidth,T=_.height,A=_.x,C=_.y;return I.createElement(ur,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,easing:v},I.createElement("path",Vd({},ce(n,!0),{className:b,d:O1(A,C,E,S,T),ref:r})))}):I.createElement("g",null,I.createElement("path",Vd({},ce(n,!0),{className:b,d:O1(l,u,c,d,h)})))},eQ=["option","shapeType","propTransformer","activeClassName","isActive"];function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function tQ(t,e){if(t==null)return{};var n=nQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function R1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R1(Object(n),!0).forEach(function(r){rQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rQ(t,e,n){return e=iQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iQ(t){var e=oQ(t,"string");return eu(e)=="symbol"?e:e+""}function oQ(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aQ(t,e){return zd(zd({},e),t)}function sQ(t,e){return t==="symbols"}function M1(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return I.createElement(k0,n);case"trapezoid":return I.createElement(ZX,n);case"sector":return I.createElement(_I,n);case"symbols":if(sQ(e))return I.createElement(Wy,n);break;default:return null}}function lQ(t){return O.isValidElement(t)?t.props:t}function LI(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?aQ:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=tQ(t,eQ),u;if(O.isValidElement(e))u=O.cloneElement(e,zd(zd({},l),lQ(e)));else if(ge(e))u=e(l);else if(jX(e)&&!zX(e)){var c=i(e,l);u=I.createElement(M1,{shapeType:n,elementProps:c})}else{var d=l;u=I.createElement(M1,{shapeType:n,elementProps:d})}return s?I.createElement(Ae,{className:a},u):u}function gh(t,e){return e!=null&&"trapezoids"in t.props}function vh(t,e){return e!=null&&"sectors"in t.props}function tu(t,e){return e!=null&&"points"in t.props}function uQ(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function cQ(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function dQ(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function fQ(t,e){var n;return gh(t,e)?n=uQ:vh(t,e)?n=cQ:tu(t,e)&&(n=dQ),n}function hQ(t,e){var n;return gh(t,e)?n="trapezoids":vh(t,e)?n="sectors":tu(t,e)&&(n="points"),n}function pQ(t,e){if(gh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(vh(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return tu(t,e)?e.payload:{}}function mQ(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=hQ(n,e),o=pQ(n,e),a=r.filter(function(l,u){var c=Su(o,l),d=n.props[i].filter(function(v){var y=fQ(n,e);return y(v,e)}),h=n.props[i].indexOf(d[d.length-1]),g=u===h;return c&&g}),s=r.indexOf(a[a.length-1]);return s}var Ic;function Na(t){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Na(t)}function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wo.apply(this,arguments)}function $1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$1(Object(n),!0).forEach(function(r){Cn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BI(r.key),r)}}function vQ(t,e,n){return e&&D1(t.prototype,e),n&&D1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yQ(t,e,n){return e=qd(e),wQ(t,UI()?Reflect.construct(e,n||[],qd(t).constructor):e.apply(t,n))}function wQ(t,e){if(e&&(Na(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bQ(t)}function bQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UI=function(){return!!t})()}function qd(t){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qd(t)}function xQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kg(t,e)}function Kg(t,e){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kg(t,e)}function Cn(t,e,n){return e=BI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BI(t){var e=_Q(t,"string");return Na(e)=="symbol"?e:e+""}function _Q(t,e){if(Na(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Na(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fr=function(t){function e(n){var r;return gQ(this,e),r=yQ(this,e,[n]),Cn(r,"pieRef",null),Cn(r,"sectorRefs",[]),Cn(r,"id",Za("recharts-pie-")),Cn(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ge(i)&&i()}),Cn(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ge(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return xQ(e,t),vQ(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=ce(this.props,!1),d=ce(a,!1),h=ce(s,!1),g=a&&a.offsetRadius||20,v=r.map(function(y,x){var w=(y.startAngle+y.endAngle)/2,b=Ue(y.cx,y.cy,y.outerRadius+g,w),_=De(De(De(De({},c),y),{},{stroke:"none"},d),{},{index:x,textAnchor:e.getTextAnchor(b.x,y.cx)},b),E=De(De(De(De({},c),y),{},{fill:"none",stroke:y.fill},h),{},{index:x,points:[Ue(y.cx,y.cy,y.outerRadius,w),b]}),S=l;return ve(l)&&ve(u)?S="value":ve(l)&&(S=u),I.createElement(Ae,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(x)},s&&e.renderLabelLineItem(s,E,"line"),e.renderLabelItem(a,_,ht(y,S)))});return I.createElement(Ae,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,g=d?a:h,v=De(De({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return I.createElement(Ae,Wo({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},oo(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),I.createElement(LI,Wo({option:g,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state,h=d.prevSectors,g=d.prevIsAnimationActive;return I.createElement(ur,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,x=[],w=o&&o[0],b=w.startAngle;return o.forEach(function(_,E){var S=h&&h[E],T=E>0?pn(_,"paddingAngle",0):0;if(S){var A=ln(S.endAngle-S.startAngle,_.endAngle-_.startAngle),C=De(De({},_),{},{startAngle:b+T,endAngle:b+A(y)+T});x.push(C),b=C.endAngle}else{var P=_.endAngle,N=_.startAngle,k=ln(0,P-N),R=k(y),j=De(De({},_),{},{startAngle:b+T,endAngle:b+R+T});x.push(j),b=j.endAngle}}),I.createElement(Ae,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Su(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,d=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!a||!a.length||!Y(u)||!Y(c)||!Y(d)||!Y(h))return null;var y=ye("recharts-pie",s);return I.createElement(Ae,{tabIndex:this.props.rootTabIndex,className:y,ref:function(w){r.pieRef=w}},this.renderSectors(),l&&this.renderLabels(a),bt.renderCallByParent(this.props,null,!1),(!g||v)&&Pr.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);if(ge(r))return r(i);var a=ye("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return I.createElement($d,Wo({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);var a=o;if(ge(r)&&(a=r(i),I.isValidElement(a)))return a;var s=ye("recharts-pie-label-text",typeof r!="boolean"&&!ge(r)?r.className:"");return I.createElement(ao,Wo({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(O.PureComponent);Ic=Fr;Cn(Fr,"displayName","Pie");Cn(Fr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!po.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Cn(Fr,"parseDeltaAngle",function(t,e){var n=Bt(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Cn(Fr,"getRealPieData",function(t){var e=t.data,n=t.children,r=ce(t,!1),i=mn(n,Zf);return e&&e.length?e.map(function(o,a){return De(De(De({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return De(De({},r),o.props)}):[]});Cn(Fr,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=yI(i,o),s=r+Ft(t.cx,i,i/2),l=n+Ft(t.cy,o,o/2),u=Ft(t.innerRadius,a,0),c=Ft(t.outerRadius,a,a*.8),d=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:d}});Cn(Fr,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?De(De({},e.type.defaultProps),e.props):e.props,i=Ic.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,d=r.valueKey,h=r.tooltipType,g=Math.abs(r.minAngle),v=Ic.parseCoordinateOfPie(r,n),y=Ic.parseDeltaAngle(a,s),x=Math.abs(y),w=u;ve(u)&&ve(d)?(Yn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):ve(u)&&(Yn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=d);var b=i.filter(function(C){return ht(C,w,0)!==0}).length,_=(x>=360?b:b-1)*l,E=x-b*g-_,S=i.reduce(function(C,P){var N=ht(P,w,0);return C+(Y(N)?N:0)},0),T;if(S>0){var A;T=i.map(function(C,P){var N=ht(C,w,0),k=ht(C,c,P),R=(Y(N)?N:0)/S,j;P?j=A.endAngle+Bt(y)*l*(N!==0?1:0):j=a;var V=j+Bt(y)*((N!==0?g:0)+R*E),F=(j+V)/2,M=(v.innerRadius+v.outerRadius)/2,L=[{name:k,value:N,payload:C,dataKey:w,type:h}],$=Ue(v.cx,v.cy,M,F);return A=De(De(De({percent:R,cornerRadius:o,name:k,tooltipPayload:L,midAngle:F,middleRadius:M,tooltipPosition:$},C),v),{},{value:ht(C,w),startAngle:j,endAngle:V,payload:C,paddingAngle:Bt(y)*l}),A})}return De(De({},v),{},{sectors:T,data:i})});var SQ=Math.ceil,EQ=Math.max;function TQ(t,e,n,r){for(var i=-1,o=EQ(SQ((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var AQ=TQ,CQ=ok,j1=1/0,PQ=17976931348623157e292;function kQ(t){if(!t)return t===0?t:0;if(t=CQ(t),t===j1||t===-j1){var e=t<0?-1:1;return e*PQ}return t===t?t:0}var FI=kQ,IQ=AQ,NQ=Qf,Op=FI;function OQ(t){return function(e,n,r){return r&&typeof r!="number"&&NQ(e,n,r)&&(n=r=void 0),e=Op(e),n===void 0?(n=e,e=0):n=Op(n),r=r===void 0?e<n?1:-1:Op(r),IQ(e,n,r,t)}}var RQ=OQ,MQ=RQ,$Q=MQ(),DQ=$Q;const Gd=Ne(DQ);function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function L1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L1(Object(n),!0).forEach(function(r){VI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VI(t,e,n){return e=jQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jQ(t){var e=LQ(t,"string");return nu(e)=="symbol"?e:e+""}function LQ(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UQ=["Webkit","Moz","O","ms"],BQ=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=UQ.reduce(function(o,a){return U1(U1({},o),{},VI({},a+r,n))},{});return i[e]=n,i};function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hd.apply(this,arguments)}function B1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B1(Object(n),!0).forEach(function(r){on(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qI(r.key),r)}}function VQ(t,e,n){return e&&F1(t.prototype,e),n&&F1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zQ(t,e,n){return e=Wd(e),qQ(t,zI()?Reflect.construct(e,n||[],Wd(t).constructor):e.apply(t,n))}function qQ(t,e){if(e&&(Oa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GQ(t)}function GQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zI=function(){return!!t})()}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wd(t)}function HQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jg(t,e)}function Jg(t,e){return Jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jg(t,e)}function on(t,e,n){return e=qI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qI(t){var e=WQ(t,"string");return Oa(e)=="symbol"?e:e+""}function WQ(t,e){if(Oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KQ=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=tl().domain(Gd(0,l)).range([o,o+a-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},V1=function(e){return e.changedTouches&&!!e.changedTouches.length},Ra=function(t){function e(n){var r;return FQ(this,e),r=zQ(this,e,[n]),on(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),on(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),on(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),on(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),on(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),on(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),on(r,"handleSlideDragStart",function(i){var o=V1(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return HQ(e,t),VQ(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(a,d),v=e.getIndexInRange(a,h);return{startIndex:g-g%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=ht(o[r],s,r);return ge(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,g=l.endIndex,v=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+c-d-s,u+c-d-a):y<0&&(y=Math.max(y,u-a,u-s));var x=this.getIndex({startX:a+y,endX:s+y});(x.startIndex!==h||x.endIndex!==g)&&v&&v(x),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=V1(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,d=c.x,h=c.width,g=c.travellerWidth,v=c.onChange,y=c.gap,x=c.data,w={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,d+h-g-u):b<0&&(b=Math.max(b,d-u)),w[a]=u+b;var _=this.getIndex(w),E=_.startIndex,S=_.endIndex,T=function(){var C=x.length-1;return a==="startX"&&(s>l?E%y===0:S%y===0)||s<l&&S===C||a==="endX"&&(s>l?S%y===0:E%y===0)||s>l&&S===C};this.setState(on(on({},a,u+b),"brushMoveStartX",r.pageX),function(){v&&T()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(on({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return I.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=O.Children.only(u);return d?I.cloneElement(d,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,g=l.ariaLabel,v=l.data,y=l.startIndex,x=l.endIndex,w=Math.max(r,this.props.x),b=Rp(Rp({},ce(this.props,!1)),{},{x:w,y:u,width:c,height:d}),_=g||"Min value: ".concat((o=v[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[x])===null||a===void 0?void 0:a.name);return I.createElement(Ae,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,g=5,v={pointerEvents:"none",fill:u};return I.createElement(Ae,{className:"recharts-brush-texts"},I.createElement(ao,Hd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-g,y:a+s/2},v),this.getTextOfTick(i)),I.createElement(ao,Hd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+g,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,g=h.startX,v=h.endX,y=h.isTextActive,x=h.isSlideMoving,w=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!Y(s)||!Y(l)||!Y(u)||!Y(c)||u<=0||c<=0)return null;var _=ye("recharts-brush",o),E=I.Children.count(a)===1,S=BQ("userSelect","none");return I.createElement(Ae,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(y||x||w||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return I.isValidElement(r)?o=I.cloneElement(r,i):ge(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Rp({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?KQ({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(O.PureComponent);on(Ra,"displayName","Brush");on(Ra,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var JQ=e0;function YQ(t,e){var n;return JQ(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var XQ=YQ,QQ=OP,ZQ=fr,eZ=XQ,tZ=en,nZ=Qf;function rZ(t,e,n){var r=tZ(t)?QQ:eZ;return n&&nZ(t,e,n)&&(e=void 0),r(t,ZQ(e))}var iZ=rZ;const oZ=Ne(iZ);var sr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},z1=ek;function aZ(t,e,n){e=="__proto__"&&z1?z1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var sZ=aZ,lZ=sZ,uZ=QP,cZ=fr;function dZ(t,e){var n={};return e=cZ(e),uZ(t,function(r,i,o){lZ(n,i,e(r,i,o))}),n}var fZ=dZ;const hZ=Ne(fZ);function pZ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var mZ=pZ,gZ=e0;function vZ(t,e){var n=!0;return gZ(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var yZ=vZ,wZ=mZ,bZ=yZ,xZ=fr,_Z=en,SZ=Qf;function EZ(t,e,n){var r=_Z(t)?wZ:bZ;return n&&SZ(t,e,n)&&(e=void 0),r(t,xZ(e))}var TZ=EZ;const GI=Ne(TZ);var AZ=["x","y"];function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yg.apply(this,arguments)}function q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q1(Object(n),!0).forEach(function(r){CZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CZ(t,e,n){return e=PZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PZ(t){var e=kZ(t,"string");return ru(e)=="symbol"?e:e+""}function kZ(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IZ(t,e){if(t==null)return{};var n=NZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OZ(t,e){var n=t.x,r=t.y,i=IZ(t,AZ),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Ms(Ms(Ms(Ms(Ms({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function G1(t){return I.createElement(LI,Yg({shapeType:"rectangle",propTransformer:OZ,activeClassName:"recharts-active-bar"},t))}var RZ=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Y(r)||rL(r);return o?e(r,i):(o||lo(),n)}},MZ=["value","background"],HI;function Ma(t){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(t)}function $Z(t,e){if(t==null)return{};var n=DZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kd(){return Kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kd.apply(this,arguments)}function H1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H1(Object(n),!0).forEach(function(r){ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KI(r.key),r)}}function LZ(t,e,n){return e&&W1(t.prototype,e),n&&W1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function UZ(t,e,n){return e=Jd(e),BZ(t,WI()?Reflect.construct(e,n||[],Jd(t).constructor):e.apply(t,n))}function BZ(t,e){if(e&&(Ma(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FZ(t)}function FZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WI=function(){return!!t})()}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jd(t)}function VZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xg(t,e)}function Xg(t,e){return Xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xg(t,e)}function ti(t,e,n){return e=KI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KI(t){var e=zZ(t,"string");return Ma(e)=="symbol"?e:e+""}function zZ(t,e){if(Ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yo=function(t){function e(){var n;jZ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=UZ(this,e,[].concat(i)),ti(n,"state",{isAnimationFinished:!1}),ti(n,"id",Za("recharts-bar-")),ti(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),ti(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return VZ(e,t),LZ(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ce(this.props,!1);return r&&r.map(function(d,h){var g=h===l,v=g?u:a,y=it(it(it({},c),d),{},{isActive:g,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(Ae,Kd({className:"recharts-bar-rectangle"},oo(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),I.createElement(G1,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return I.createElement(ur,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,y=o.map(function(x,w){var b=h&&h[w];if(b){var _=ln(b.x,x.x),E=ln(b.y,x.y),S=ln(b.width,x.width),T=ln(b.height,x.height);return it(it({},x),{},{x:_(v),y:E(v),width:S(v),height:T(v)})}if(a==="horizontal"){var A=ln(0,x.height),C=A(v);return it(it({},x),{},{y:x.y+x.height-C,height:C})}var P=ln(0,x.width),N=P(v);return it(it({},x),{},{width:N})});return I.createElement(Ae,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Su(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ce(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=$Z(u,MZ);if(!d)return null;var g=it(it(it(it(it({},h),{},{fill:"#eee"},d),l),oo(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return I.createElement(G1,Kd({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=mn(c,Eu);if(!d)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,g=function(x,w){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:ht(x,w)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return I.createElement(Ae,v,d.map(function(y){return I.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,g=r.isAnimationActive,v=r.background,y=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,w=ye("recharts-bar",a),b=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,E=b||_,S=ve(y)?this.id:y;return I.createElement(Ae,{className:w},b||_?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(S)},I.createElement("rect",{x:b?u:u-d/2,y:_?c:c-h/2,width:b?d:d*2,height:_?h:h*2}))):null,I.createElement(Ae,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,S),(!g||x)&&Pr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(O.PureComponent);HI=yo;ti(yo,"displayName","Bar");ti(yo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!po.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ti(yo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,g=_W(r,n);if(!g)return null;var v=e.layout,y=n.type.defaultProps,x=y!==void 0?it(it({},y),n.props):n.props,w=x.dataKey,b=x.children,_=x.minPointSize,E=v==="horizontal"?a:o,S=u?E.scale.domain():null,T=kW({numericAxis:E}),A=mn(b,Zf),C=d.map(function(P,N){var k,R,j,V,F,M;u?k=SW(u[c+N],S):(k=ht(P,w),Array.isArray(k)||(k=[T,k]));var L=RZ(_,HI.defaultProps.minPointSize)(k[1],N);if(v==="horizontal"){var $,U=[a.scale(k[0]),a.scale(k[1])],B=U[0],W=U[1];R=D_({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:P,index:N}),j=($=W??B)!==null&&$!==void 0?$:void 0,V=g.size;var H=B-W;if(F=Number.isNaN(H)?0:H,M={x:R,y:a.y,width:V,height:a.height},Math.abs(L)>0&&Math.abs(F)<Math.abs(L)){var X=Bt(F||L)*(Math.abs(L)-Math.abs(F));j-=X,F+=X}}else{var le=[o.scale(k[0]),o.scale(k[1])],we=le[0],be=le[1];if(R=we,j=D_({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:P,index:N}),V=be-we,F=g.size,M={x:o.x,y:j,width:o.width,height:F},Math.abs(L)>0&&Math.abs(V)<Math.abs(L)){var Be=Bt(V||L)*(Math.abs(L)-Math.abs(V));V+=Be}}return it(it(it({},P),{},{x:R,y:j,width:V,height:F,value:u?k:k[1],payload:P,background:M},A&&A[N]&&A[N].props),{},{tooltipPayload:[gI(n,P)],tooltipPosition:{x:R+V/2,y:j+F/2}})});return it({data:C,layout:v},h)});function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function qZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JI(r.key),r)}}function GZ(t,e,n){return e&&K1(t.prototype,e),n&&K1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function J1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J1(Object(n),!0).forEach(function(r){yh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yh(t,e,n){return e=JI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JI(t){var e=HZ(t,"string");return iu(e)=="symbol"?e:e+""}function HZ(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YI=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!sn(u,yo);return c.reduce(function(g,v){var y=n[v],x=y.orientation,w=y.domain,b=y.padding,_=b===void 0?{}:b,E=y.mirror,S=y.reversed,T="".concat(x).concat(E?"Mirror":""),A,C,P,N,k;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var R=w[1]-w[0],j=1/0,V=y.categoricalDomain.sort(aL);if(V.forEach(function(le,we){we>0&&(j=Math.min((le||0)-(V[we-1]||0),j))}),Number.isFinite(j)){var F=j/R,M=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(A=F*M/2),y.padding==="no-gap"){var L=Ft(e.barCategoryGap,F*M),$=F*M/2;A=$-L-($-L)/M*L}}}i==="xAxis"?C=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:C=y.range,S&&(C=[C[1],C[0]]);var U=fI(y,o,h),B=U.scale,W=U.realScaleType;B.domain(w).range(C),hI(B);var H=pI(B,qn(qn({},y),{},{realScaleType:W}));i==="xAxis"?(k=x==="top"&&!E||x==="bottom"&&E,P=r.left,N=d[T]-k*y.height):i==="yAxis"&&(k=x==="left"&&!E||x==="right"&&E,P=d[T]-k*y.width,N=r.top);var X=qn(qn(qn({},y),H),{},{realScaleType:W,x:P,y:N,scale:B,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return X.bandSize=Od(X,H),!y.hide&&i==="xAxis"?d[T]+=(k?-1:1)*X.height:y.hide||(d[T]+=(k?-1:1)*X.width),qn(qn({},g),{},yh({},v,X))},{})},XI=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},WZ=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return XI({x:n,y:r},{x:i,y:o})},QI=function(){function t(e){qZ(this,t),this.scale=e}return GZ(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();yh(QI,"EPS",1e-4);var I0=function(e){var n=Object.keys(e).reduce(function(r,i){return qn(qn({},r),{},yh({},i,QI.create(e[i])))},{});return qn(qn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return hZ(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return GI(i,function(o,a){return n[a].isInRange(o)})}})};function KZ(t){return(t%180+180)%180}var JZ=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=KZ(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},YZ=fr,XZ=yu,QZ=Yf;function ZZ(t){return function(e,n,r){var i=Object(e);if(!XZ(e)){var o=YZ(n);e=QZ(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var eee=ZZ,tee=FI;function nee(t){var e=tee(t),n=e%1;return e===e?n?e-n:e:0}var ree=nee,iee=HP,oee=fr,aee=ree,see=Math.max;function lee(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:aee(n);return i<0&&(i=see(r+i,0)),iee(t,oee(e),i)}var uee=lee,cee=eee,dee=uee,fee=cee(dee),hee=fee;const pee=Ne(hee);var mee=uj(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),N0=O.createContext(void 0),O0=O.createContext(void 0),ZI=O.createContext(void 0),e2=O.createContext({}),t2=O.createContext(void 0),n2=O.createContext(0),r2=O.createContext(0),Y1=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=mee(o);return I.createElement(N0.Provider,{value:r},I.createElement(O0.Provider,{value:i},I.createElement(e2.Provider,{value:o},I.createElement(ZI.Provider,{value:c},I.createElement(t2.Provider,{value:a},I.createElement(n2.Provider,{value:u},I.createElement(r2.Provider,{value:l},s)))))))},gee=function(){return O.useContext(t2)},i2=function(e){var n=O.useContext(N0);n==null&&lo();var r=n[e];return r==null&&lo(),r},vee=function(){var e=O.useContext(N0);return Xr(e)},yee=function(){var e=O.useContext(O0),n=pee(e,function(r){return GI(r.domain,Number.isFinite)});return n||Xr(e)},o2=function(e){var n=O.useContext(O0);n==null&&lo();var r=n[e];return r==null&&lo(),r},wee=function(){var e=O.useContext(ZI);return e},bee=function(){return O.useContext(e2)},R0=function(){return O.useContext(r2)},M0=function(){return O.useContext(n2)};function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}function xee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s2(r.key),r)}}function See(t,e,n){return e&&_ee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eee(t,e,n){return e=Yd(e),Tee(t,a2()?Reflect.construct(e,n||[],Yd(t).constructor):e.apply(t,n))}function Tee(t,e){if(e&&($a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aee(t)}function Aee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a2=function(){return!!t})()}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yd(t)}function Cee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qg(t,e)}function Qg(t,e){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qg(t,e)}function X1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X1(Object(n),!0).forEach(function(r){$0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $0(t,e,n){return e=s2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s2(t){var e=Pee(t,"string");return $a(e)=="symbol"?e:e+""}function Pee(t,e){if($a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kee(t,e){return Ree(t)||Oee(t,e)||Nee(t,e)||Iee()}function Iee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nee(t,e){if(t){if(typeof t=="string")return Z1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z1(t,e)}}function Z1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ree(t){if(Array.isArray(t))return t}function Zg(){return Zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zg.apply(this,arguments)}var Mee=function(e,n){var r;return I.isValidElement(e)?r=I.cloneElement(e,n):ge(e)?r=e(n):r=I.createElement("line",Zg({},n,{className:"recharts-reference-line-line"})),r},$ee=function(e,n,r,i,o,a,s,l,u){var c=o.x,d=o.y,h=o.width,g=o.height;if(r){var v=u.y,y=e.y.apply(v,{position:a});if(sr(u,"discard")&&!e.y.isInRange(y))return null;var x=[{x:c+h,y},{x:c,y}];return l==="left"?x.reverse():x}if(n){var w=u.x,b=e.x.apply(w,{position:a});if(sr(u,"discard")&&!e.x.isInRange(b))return null;var _=[{x:b,y:d+g},{x:b,y:d}];return s==="top"?_.reverse():_}if(i){var E=u.segment,S=E.map(function(T){return e.apply(T,{position:a})});return sr(u,"discard")&&oZ(S,function(T){return!e.isInRange(T)})?null:S}return null};function Dee(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=gee(),c=i2(i),d=o2(o),h=wee();if(!u||!h)return null;Yn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=I0({x:c.scale,y:d.scale}),v=mt(e),y=mt(n),x=r&&r.length===2,w=$ee(g,v,y,x,h,t.position,c.orientation,d.orientation,t);if(!w)return null;var b=kee(w,2),_=b[0],E=_.x,S=_.y,T=b[1],A=T.x,C=T.y,P=sr(t,"hidden")?"url(#".concat(u,")"):void 0,N=Q1(Q1({clipPath:P},ce(t,!0)),{},{x1:E,y1:S,x2:A,y2:C});return I.createElement(Ae,{className:ye("recharts-reference-line",s)},Mee(a,N),bt.renderCallByParent(t,WZ({x1:E,y1:S,x2:A,y2:C})))}var D0=function(t){function e(){return xee(this,e),Eee(this,e,arguments)}return Cee(e,t),See(e,[{key:"render",value:function(){return I.createElement(Dee,this.props)}}])}(I.Component);$0(D0,"displayName","ReferenceLine");$0(D0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(this,arguments)}function Da(t){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(t)}function eS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eS(Object(n),!0).forEach(function(r){wh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u2(r.key),r)}}function Uee(t,e,n){return e&&Lee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bee(t,e,n){return e=Xd(e),Fee(t,l2()?Reflect.construct(e,n||[],Xd(t).constructor):e.apply(t,n))}function Fee(t,e){if(e&&(Da(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vee(t)}function Vee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l2=function(){return!!t})()}function Xd(t){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xd(t)}function zee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tv(t,e)}function tv(t,e){return tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tv(t,e)}function wh(t,e,n){return e=u2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u2(t){var e=qee(t,"string");return Da(e)=="symbol"?e:e+""}function qee(t,e){if(Da(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Da(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gee=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=I0({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return sr(e,"discard")&&!a.isInRange(s)?null:s},bh=function(t){function e(){return jee(this,e),Bee(this,e,arguments)}return zee(e,t),Uee(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=mt(i),c=mt(o);if(Yn(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=Gee(this.props);if(!d)return null;var h=d.x,g=d.y,v=this.props,y=v.shape,x=v.className,w=sr(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=tS(tS({clipPath:w},ce(this.props,!0)),{},{cx:h,cy:g});return I.createElement(Ae,{className:ye("recharts-reference-dot",x)},e.renderDot(y,b),bt.renderCallByParent(this.props,{x:h-a,y:g-a,width:2*a,height:2*a}))}}])}(I.Component);wh(bh,"displayName","ReferenceDot");wh(bh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});wh(bh,"renderDot",function(t,e){var n;return I.isValidElement(t)?n=I.cloneElement(t,e):ge(t)?n=t(e):n=I.createElement(dh,ev({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function nv(){return nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nv.apply(this,arguments)}function ja(t){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(t)}function nS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(n),!0).forEach(function(r){xh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d2(r.key),r)}}function Kee(t,e,n){return e&&Wee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jee(t,e,n){return e=Qd(e),Yee(t,c2()?Reflect.construct(e,n||[],Qd(t).constructor):e.apply(t,n))}function Yee(t,e){if(e&&(ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xee(t)}function Xee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c2=function(){return!!t})()}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qd(t)}function Qee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rv(t,e)}function rv(t,e){return rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rv(t,e)}function xh(t,e,n){return e=d2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d2(t){var e=Zee(t,"string");return ja(e)=="symbol"?e:e+""}function Zee(t,e){if(ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ete=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=I0({x:c.scale,y:d.scale}),g={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return sr(o,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:XI(g,v)},_h=function(t){function e(){return Hee(this,e),Jee(this,e,arguments)}return Qee(e,t),Kee(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Yn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=mt(i),h=mt(o),g=mt(a),v=mt(s),y=this.props.shape;if(!d&&!h&&!g&&!v&&!y)return null;var x=ete(d,h,g,v,this.props);if(!x&&!y)return null;var w=sr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return I.createElement(Ae,{className:ye("recharts-reference-area",l)},e.renderRect(y,rS(rS({clipPath:w},ce(this.props,!0)),x)),bt.renderCallByParent(this.props,x))}}])}(I.Component);xh(_h,"displayName","ReferenceArea");xh(_h,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});xh(_h,"renderRect",function(t,e){var n;return I.isValidElement(t)?n=I.cloneElement(t,e):ge(t)?n=t(e):n=I.createElement(k0,nv({},e,{className:"recharts-reference-area-rect"})),n});function f2(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function tte(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return JZ(r,n)}function nte(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Zd(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function rte(t,e){return f2(t,e+1)}function ite(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:f2(r,u)};var y=l,x,w=function(){return x===void 0&&(x=n(v,y)),x},b=v.coordinate,_=l===0||Zd(t,b,w,c,s);_||(l=0,c=a,u+=1),_&&(c=b+t*(w()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function iS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iS(Object(n),!0).forEach(function(r){ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ote(t,e,n){return e=ate(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ate(t){var e=ste(t,"string");return ou(e)=="symbol"?e:e+""}function ste(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lte(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var g=o[h],v,y=function(){return v===void 0&&(v=n(g,h)),v};if(h===a-1){var x=t*(g.coordinate+t*y()/2-l);o[h]=g=Ot(Ot({},g),{},{tickCoord:x>0?g.coordinate-x*t:g.coordinate})}else o[h]=g=Ot(Ot({},g),{},{tickCoord:g.coordinate});var w=Zd(t,g.tickCoord,y,s,l);w&&(l=g.tickCoord-t*(y()/2+i),o[h]=Ot(Ot({},g),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function ute(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],d=n(c,s-1),h=t*(c.coordinate+t*d/2-u);a[s-1]=c=Ot(Ot({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var g=Zd(t,c.tickCoord,function(){return d},l,u);g&&(u=c.tickCoord-t*(d/2+i),a[s-1]=Ot(Ot({},c),{},{isShow:!0}))}for(var v=o?s-1:s,y=function(b){var _=a[b],E,S=function(){return E===void 0&&(E=n(_,b)),E};if(b===0){var T=t*(_.coordinate-t*S()/2-l);a[b]=_=Ot(Ot({},_),{},{tickCoord:T<0?_.coordinate-T*t:_.coordinate})}else a[b]=_=Ot(Ot({},_),{},{tickCoord:_.coordinate});var A=Zd(t,_.tickCoord,S,l,u);A&&(l=_.tickCoord+t*(S()/2+i),a[b]=Ot(Ot({},_),{},{isShow:!0}))},x=0;x<v;x++)y(x);return a}function j0(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(Y(l)||po.isSsr)return rte(i,typeof l=="number"&&Y(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",v=c&&g==="width"?el(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,E){var S=ge(u)?u(_.value,E):_.value;return g==="width"?tte(el(S,{fontSize:e,letterSpacing:n}),v,d):el(S,{fontSize:e,letterSpacing:n})[g]},x=i.length>=2?Bt(i[1].coordinate-i[0].coordinate):1,w=nte(o,x,g);return l==="equidistantPreserveStart"?ite(x,w,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=ute(x,w,y,i,a,l==="preserveStartEnd"):h=lte(x,w,y,i,a),h.filter(function(b){return b.isShow}))}var cte=["viewBox"],dte=["viewBox"],fte=["ticks"];function La(t){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(t)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ko.apply(this,arguments)}function oS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oS(Object(n),!0).forEach(function(r){L0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mp(t,e){if(t==null)return{};var n=hte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p2(r.key),r)}}function mte(t,e,n){return e&&aS(t.prototype,e),n&&aS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gte(t,e,n){return e=ef(e),vte(t,h2()?Reflect.construct(e,n||[],ef(t).constructor):e.apply(t,n))}function vte(t,e){if(e&&(La(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yte(t)}function yte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h2=function(){return!!t})()}function ef(t){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ef(t)}function wte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iv(t,e)}function iv(t,e){return iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iv(t,e)}function L0(t,e,n){return e=p2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p2(t){var e=bte(t,"string");return La(e)=="symbol"?e:e+""}function bte(t,e){if(La(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(La(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var as=function(t){function e(n){var r;return pte(this,e),r=gte(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return wte(e,t),mte(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Mp(r,cte),s=this.props,l=s.viewBox,u=Mp(s,dte);return!oa(o,l)||!oa(a,u)||!oa(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,g,v,y,x,w,b,_=d?-1:1,E=r.tickSize||c,S=Y(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=v=r.coordinate,x=a+ +!d*l,y=x-_*E,b=y-_*h,w=S;break;case"left":y=x=r.coordinate,v=o+ +!d*s,g=v-_*E,w=g-_*h,b=S;break;case"right":y=x=r.coordinate,v=o+ +d*s,g=v+_*E,w=g+_*h,b=S;break;default:g=v=r.coordinate,x=a+ +d*l,y=x+_*E,b=y+_*h,w=S;break}return{line:{x1:g,y1:y,x2:v,y2:x},tick:{x:w,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=ut(ut(ut({},ce(this.props,!1)),ce(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=ut(ut({},d),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var g=+(l==="left"&&!u||l==="right"&&u);d=ut(ut({},d),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return I.createElement("line",Ko({},d,{className:ye("recharts-cartesian-axis-line",pn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,h=s.unit,g=j0(ut(ut({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),x=ce(this.props,!1),w=ce(c,!1),b=ut(ut({},x),{},{fill:"none"},ce(l,!1)),_=g.map(function(E,S){var T=a.getTickLineCoord(E),A=T.line,C=T.tick,P=ut(ut(ut(ut({textAnchor:v,verticalAnchor:y},x),{},{stroke:"none",fill:u},w),C),{},{index:S,payload:E,visibleTicksCount:g.length,tickFormatter:d});return I.createElement(Ae,Ko({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},oo(a.props,E,S)),l&&I.createElement("line",Ko({},b,A,{className:ye("recharts-cartesian-axis-tick-line",pn(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(ge(d)?d(E.value,S):E.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,g=Mp(d,fte),v=h;return ge(l)&&(v=h&&h.length>0?l(this.props):l(g)),a<=0||s<=0||!v||!v.length?null:I.createElement(Ae,{className:ye("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),bt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=ye(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(r)?a=I.cloneElement(r,ut(ut({},i),{},{className:s})):ge(r)?a=r(ut(ut({},i),{},{className:s})):a=I.createElement(ao,Ko({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(O.Component);L0(as,"displayName","CartesianAxis");L0(as,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xte=["x1","y1","x2","y2","key"],_te=["offset"];function uo(t){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(t)}function sS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sS(Object(n),!0).forEach(function(r){Ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ste(t,e,n){return e=Ete(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ete(t){var e=Tte(t,"string");return uo(e)=="symbol"?e:e+""}function Tte(t,e){if(uo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wi(){return Wi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wi.apply(this,arguments)}function lS(t,e){if(t==null)return{};var n=Ate(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ate(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Cte=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return I.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function m2(t,e){var n;if(I.isValidElement(t))n=I.cloneElement(t,e);else if(ge(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=lS(e,xte),u=ce(l,!1);u.offset;var c=lS(u,_te);n=I.createElement("line",Wi({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Pte(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Mt(Mt({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return m2(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function kte(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Mt(Mt({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return m2(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Ite(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var v=!c[g+1],y=v?i+a-h:c[g+1]-h;if(y<=0)return null;var x=g%e.length;return I.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:y,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Nte(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,g){return h-g});o!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var v=!c[g+1],y=v?o+s-h:c[g+1]-h;if(y<=0)return null;var x=g%r.length;return I.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:y,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Ote=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return dI(j0(Mt(Mt(Mt({},as.defaultProps),r),{},{ticks:Er(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Rte=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return dI(j0(Mt(Mt(Mt({},as.defaultProps),r),{},{ticks:Er(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},So={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function U0(t){var e,n,r,i,o,a,s=R0(),l=M0(),u=bee(),c=Mt(Mt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:So.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:So.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:So.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:So.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:So.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:So.verticalFill,x:Y(t.x)?t.x:u.left,y:Y(t.y)?t.y:u.top,width:Y(t.width)?t.width:u.width,height:Y(t.height)?t.height:u.height}),d=c.x,h=c.y,g=c.width,v=c.height,y=c.syncWithTicks,x=c.horizontalValues,w=c.verticalValues,b=vee(),_=yee();if(!Y(g)||g<=0||!Y(v)||v<=0||!Y(d)||d!==+d||!Y(h)||h!==+h)return null;var E=c.verticalCoordinatesGenerator||Ote,S=c.horizontalCoordinatesGenerator||Rte,T=c.horizontalPoints,A=c.verticalPoints;if((!T||!T.length)&&ge(S)){var C=x&&x.length,P=S({yAxis:_?Mt(Mt({},_),{},{ticks:C?x:_.ticks}):void 0,width:s,height:l,offset:u},C?!0:y);Yn(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(uo(P),"]")),Array.isArray(P)&&(T=P)}if((!A||!A.length)&&ge(E)){var N=w&&w.length,k=E({xAxis:b?Mt(Mt({},b),{},{ticks:N?w:b.ticks}):void 0,width:s,height:l,offset:u},N?!0:y);Yn(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(uo(k),"]")),Array.isArray(k)&&(A=k)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Cte,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),I.createElement(Pte,Wi({},c,{offset:u,horizontalPoints:T,xAxis:b,yAxis:_})),I.createElement(kte,Wi({},c,{offset:u,verticalPoints:A,xAxis:b,yAxis:_})),I.createElement(Ite,Wi({},c,{horizontalPoints:T})),I.createElement(Nte,Wi({},c,{verticalPoints:A})))}U0.displayName="CartesianGrid";var Mte=["type","layout","connectNulls","ref"],$te=["key"];function Ua(t){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(t)}function uS(t,e){if(t==null)return{};var n=Dte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function al(){return al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},al.apply(this,arguments)}function cS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cS(Object(n),!0).forEach(function(r){Gn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eo(t){return Bte(t)||Ute(t)||Lte(t)||jte()}function jte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lte(t,e){if(t){if(typeof t=="string")return ov(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ov(t,e)}}function Ute(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bte(t){if(Array.isArray(t))return ov(t)}function ov(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v2(r.key),r)}}function Vte(t,e,n){return e&&dS(t.prototype,e),n&&dS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zte(t,e,n){return e=tf(e),qte(t,g2()?Reflect.construct(e,n||[],tf(t).constructor):e.apply(t,n))}function qte(t,e){if(e&&(Ua(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gte(t)}function Gte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g2=function(){return!!t})()}function tf(t){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tf(t)}function Hte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&av(t,e)}function av(t,e){return av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},av(t,e)}function Gn(t,e,n){return e=v2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v2(t){var e=Wte(t,"string");return Ua(e)=="symbol"?e:e+""}function Wte(t,e){if(Ua(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ua(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tu=function(t){function e(){var n;Fte(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=zte(this,e,[].concat(i)),Gn(n,"state",{isAnimationFinished:!0,totalLength:0}),Gn(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Gn(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(w,b){return w+b});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),d=a%u,h=s-a,g=[],v=0,y=0;v<l.length;y+=l[v],++v)if(y+l[v]>d){g=[].concat(Eo(l.slice(0,v)),[d-y]);break}var x=g.length%2===0?[0,h]:[h];return[].concat(Eo(e.repeat(l,c)),Eo(g),x).map(function(w){return"".concat(w,"px")}).join(", ")}),Gn(n,"id",Za("recharts-line-")),Gn(n,"pathRef",function(a){n.mainCurve=a}),Gn(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Gn(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Hte(e,t),Vte(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=mn(c,Eu);if(!d)return null;var h=function(y,x){return{x:y.x,y:y.y,value:y.value,errorVal:ht(y.payload,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return I.createElement(Ae,g,d.map(function(v){return I.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,d=ce(this.props,!1),h=ce(l,!0),g=u.map(function(y,x){var w=nn(nn(nn({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:y.x,cy:y.y,value:y.value,dataKey:c,payload:y.payload,points:u});return e.renderDotItem(l,w)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return I.createElement(Ae,al({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var d=uS(s,Mte),h=nn(nn(nn({},ce(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return I.createElement($d,al({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,g=a.animationId,v=a.animateNewValues,y=a.width,x=a.height,w=this.state,b=w.prevPoints,_=w.totalLength;return I.createElement(ur,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var S=E.t;if(b){var T=b.length/s.length,A=s.map(function(R,j){var V=Math.floor(j*T);if(b[V]){var F=b[V],M=ln(F.x,R.x),L=ln(F.y,R.y);return nn(nn({},R),{},{x:M(S),y:L(S)})}if(v){var $=ln(y*2,R.x),U=ln(x/2,R.y);return nn(nn({},R),{},{x:$(S),y:U(S)})}return nn(nn({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(A,r,i)}var C=ln(0,_),P=C(S),N;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});N=o.getStrokeDasharray(P,_,k)}else N=o.generateSimpleStrokeDasharray(_,P);return o.renderCurveStatically(s,r,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!Su(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,h=i.left,g=i.width,v=i.height,y=i.isAnimationActive,x=i.id;if(o||!s||!s.length)return null;var w=this.state.isAnimationFinished,b=s.length===1,_=ye("recharts-line",l),E=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,T=E||S,A=ve(x)?this.id:x,C=(r=ce(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=C.r,N=P===void 0?3:P,k=C.strokeWidth,R=k===void 0?2:k,j=mL(a)?a:{},V=j.clipDot,F=V===void 0?!0:V,M=N*2+R;return I.createElement(Ae,{className:_},E||S?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(A)},I.createElement("rect",{x:E?h:h-g/2,y:S?d:d-v/2,width:E?g:g*2,height:S?v:v*2})),!F&&I.createElement("clipPath",{id:"clipPath-dots-".concat(A)},I.createElement("rect",{x:h-M/2,y:d-M/2,width:g+M,height:v+M}))):null,!b&&this.renderCurve(T,A),this.renderErrorBar(T,A),(b||a)&&this.renderDots(T,F,A),(!y||w)&&Pr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Eo(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Eo(a),Eo(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(I.isValidElement(r))o=I.cloneElement(r,i);else if(ge(r))o=r(i);else{var a=i.key,s=uS(i,$te),l=ye("recharts-line-dot",typeof r!="boolean"?r.className:"");o=I.createElement(dh,al({key:a},s,{className:l}))}return o}}])}(O.PureComponent);Gn(Tu,"displayName","Line");Gn(Tu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!po.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Gn(Tu,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(h,g){var v=ht(h,a);return c==="horizontal"?{x:$_({axis:n,ticks:i,bandSize:s,entry:h,index:g}),y:ve(v)?null:r.scale(v),value:v,payload:h}:{x:ve(v)?null:n.scale(v),y:$_({axis:r,ticks:o,bandSize:s,entry:h,index:g}),value:v,payload:h}});return nn({points:d,layout:c},u)});function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}function Kte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b2(r.key),r)}}function Yte(t,e,n){return e&&Jte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xte(t,e,n){return e=nf(e),Qte(t,y2()?Reflect.construct(e,n||[],nf(t).constructor):e.apply(t,n))}function Qte(t,e){if(e&&(Ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zte(t)}function Zte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y2=function(){return!!t})()}function nf(t){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nf(t)}function ene(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sv(t,e)}function sv(t,e){return sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sv(t,e)}function w2(t,e,n){return e=b2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b2(t){var e=tne(t,"string");return Ba(e)=="symbol"?e:e+""}function tne(t,e){if(Ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lv.apply(this,arguments)}function nne(t){var e=t.xAxisId,n=R0(),r=M0(),i=i2(e);return i==null?null:O.createElement(as,lv({},i,{className:ye("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Er(a,!0)}}))}var ss=function(t){function e(){return Kte(this,e),Xte(this,e,arguments)}return ene(e,t),Yte(e,[{key:"render",value:function(){return O.createElement(nne,this.props)}}])}(O.Component);w2(ss,"displayName","XAxis");w2(ss,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}function rne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ine(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S2(r.key),r)}}function one(t,e,n){return e&&ine(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ane(t,e,n){return e=rf(e),sne(t,x2()?Reflect.construct(e,n||[],rf(t).constructor):e.apply(t,n))}function sne(t,e){if(e&&(Fa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lne(t)}function lne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x2=function(){return!!t})()}function rf(t){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rf(t)}function une(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uv(t,e)}function uv(t,e){return uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uv(t,e)}function _2(t,e,n){return e=S2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S2(t){var e=cne(t,"string");return Fa(e)=="symbol"?e:e+""}function cne(t,e){if(Fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cv(){return cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cv.apply(this,arguments)}var dne=function(e){var n=e.yAxisId,r=R0(),i=M0(),o=o2(n);return o==null?null:O.createElement(as,cv({},o,{className:ye("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Er(s,!0)}}))},ls=function(t){function e(){return rne(this,e),ane(this,e,arguments)}return une(e,t),one(e,[{key:"render",value:function(){return O.createElement(dne,this.props)}}])}(O.Component);_2(ls,"displayName","YAxis");_2(ls,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function fS(t){return mne(t)||pne(t)||hne(t)||fne()}function fne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hne(t,e){if(t){if(typeof t=="string")return dv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dv(t,e)}}function pne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mne(t){if(Array.isArray(t))return dv(t)}function dv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fv=function(e,n,r,i,o){var a=mn(e,D0),s=mn(e,bh),l=[].concat(fS(a),fS(s)),u=mn(e,_h),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(y,x){if(x.props[c]===r&&sr(x.props,"extendDomain")&&Y(x.props[d])){var w=x.props[d];return[Math.min(y[0],w),Math.max(y[1],w)]}return y},h)),u.length){var g="".concat(d,"1"),v="".concat(d,"2");h=u.reduce(function(y,x){if(x.props[c]===r&&sr(x.props,"extendDomain")&&Y(x.props[g])&&Y(x.props[v])){var w=x.props[g],b=x.props[v];return[Math.min(y[0],w,b),Math.max(y[1],w,b)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,x){return Y(x)?[Math.min(y[0],x),Math.max(y[1],x)]:y},h)),h},E2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,d||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,g=d.length,v=new Array(g);h<g;h++)v[h]=d[h].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,g,v){var y=n?n+u:u;if(!this._events[y])return!1;var x=this._events[y],w=arguments.length,b,_;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,d),!0;case 4:return x.fn.call(x.context,c,d,h),!0;case 5:return x.fn.call(x.context,c,d,h,g),!0;case 6:return x.fn.call(x.context,c,d,h,g,v),!0}for(_=1,b=new Array(w-1);_<w;_++)b[_-1]=arguments[_];x.fn.apply(x.context,b)}else{var E=x.length,S;for(_=0;_<E;_++)switch(x[_].once&&this.removeListener(u,x[_].fn,void 0,!0),w){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,c);break;case 3:x[_].fn.call(x[_].context,c,d);break;case 4:x[_].fn.call(x[_].context,c,d,h);break;default:if(!b)for(S=1,b=new Array(w-1);S<w;S++)b[S-1]=arguments[S];x[_].fn.apply(x[_].context,b)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var g=n?n+u:u;if(!this._events[g])return this;if(!c)return a(this,g),this;var v=this._events[g];if(v.fn)v.fn===c&&(!h||v.once)&&(!d||v.context===d)&&a(this,g);else{for(var y=0,x=[],w=v.length;y<w;y++)(v[y].fn!==c||h&&!v[y].once||d&&v[y].context!==d)&&x.push(v[y]);x.length?this._events[g]=x.length===1?x[0]:x:a(this,g)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(E2);var gne=E2.exports;const vne=Ne(gne);var $p=new vne,Dp="recharts.syncMouseEvents";function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function yne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T2(r.key),r)}}function bne(t,e,n){return e&&wne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jp(t,e,n){return e=T2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T2(t){var e=xne(t,"string");return au(e)=="symbol"?e:e+""}function xne(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _ne=function(){function t(){yne(this,t),jp(this,"activeIndex",0),jp(this,"coordinateList",[]),jp(this,"layout","horizontal")}return bne(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function Sne(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Y(r)&&Y(i))return!0}return!1}function Ene(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function A2(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Ue(e,n,r,i),s=Ue(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Tne(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Ue(s,l,u,d),g=Ue(s,l,c,d);r=h.x,i=h.y,o=g.x,a=g.y}else return A2(e);return[{x:r,y:i},{x:o,y:a}]}function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function hS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hS(Object(n),!0).forEach(function(r){Ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ane(t,e,n){return e=Cne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=Pne(t,"string");return su(e)=="symbol"?e:e+""}function Pne(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kne(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var v,y=$d;if(h==="ScatterChart")v=a,y=WY;else if(h==="BarChart")v=Ene(d,a,l,c),y=k0;else if(d==="radial"){var x=A2(a),w=x.cx,b=x.cy,_=x.radius,E=x.startAngle,S=x.endAngle;v={cx:w,cy:b,startAngle:E,endAngle:S,innerRadius:_,outerRadius:_},y=_I}else v={points:Tne(d,a,l)},y=$d;var T=sc(sc(sc(sc({stroke:"#ccc",pointerEvents:"none"},l),v),ce(g,!1)),{},{payload:s,payloadIndex:u,className:ye("recharts-tooltip-cursor",g.className)});return O.isValidElement(g)?O.cloneElement(g,T):O.createElement(y,T)}var Ine=["item"],Nne=["children","className","width","height","style","compact","title","desc"];function Va(t){"@babel/helpers - typeof";return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(t)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jo.apply(this,arguments)}function pS(t,e){return Mne(t)||Rne(t,e)||P2(t,e)||One()}function One(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Mne(t){if(Array.isArray(t))return t}function mS(t,e){if(t==null)return{};var n=$ne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k2(r.key),r)}}function Lne(t,e,n){return e&&jne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Une(t,e,n){return e=of(e),Bne(t,C2()?Reflect.construct(e,n||[],of(t).constructor):e.apply(t,n))}function Bne(t,e){if(e&&(Va(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fne(t)}function Fne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C2=function(){return!!t})()}function of(t){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},of(t)}function Vne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hv(t,e)}function hv(t,e){return hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hv(t,e)}function za(t){return Gne(t)||qne(t)||P2(t)||zne()}function zne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P2(t,e){if(t){if(typeof t=="string")return pv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pv(t,e)}}function qne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gne(t){if(Array.isArray(t))return pv(t)}function pv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(n),!0).forEach(function(r){he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function he(t,e,n){return e=k2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k2(t){var e=Hne(t,"string");return Va(e)=="symbol"?e:e+""}function Hne(t,e){if(Va(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wne={xAxis:["bottom","top"],yAxis:["left","right"]},Kne={width:"100%",height:"100%"},I2={x:0,y:0};function lc(t){return t}var Jne=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Yne=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return z(z(z({},i),Ue(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return z(z(z({},i),Ue(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return I2},Sh=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(za(s),za(u)):s},[]);return a.length>0?a:e&&e.length&&Y(i)&&Y(o)?e.slice(i,o+1):[]};function N2(t){return t==="number"?[0,"auto"]:void 0}var mv=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Sh(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var g=d===void 0?s:d;h=id(g,a.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(za(l),[gI(u,h)]):l},[])},vS=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Jne(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=gW(a,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=mv(e,n,c,d),g=Yne(r,s,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:g}}return null},Xne=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,g=cI(c,o);return r.reduce(function(v,y){var x,w=y.type.defaultProps!==void 0?z(z({},y.type.defaultProps),y.props):y.props,b=w.type,_=w.dataKey,E=w.allowDataOverflow,S=w.allowDuplicatedCategory,T=w.scale,A=w.ticks,C=w.includeHidden,P=w[a];if(v[P])return v;var N=Sh(e.data,{graphicalItems:i.filter(function(H){var X,le=a in H.props?H.props[a]:(X=H.type.defaultProps)===null||X===void 0?void 0:X[a];return le===P}),dataStartIndex:l,dataEndIndex:u}),k=N.length,R,j,V;Sne(w.domain,E,b)&&(R=kg(w.domain,null,E),g&&(b==="number"||T!=="auto")&&(V=nl(N,_,"category")));var F=N2(b);if(!R||R.length===0){var M,L=(M=w.domain)!==null&&M!==void 0?M:F;if(_){if(R=nl(N,_,b),b==="category"&&g){var $=oL(R);S&&$?(j=R,R=Gd(0,k)):S||(R=U_(L,R,y).reduce(function(H,X){return H.indexOf(X)>=0?H:[].concat(za(H),[X])},[]))}else if(b==="category")S?R=R.filter(function(H){return H!==""&&!ve(H)}):R=U_(L,R,y).reduce(function(H,X){return H.indexOf(X)>=0||X===""||ve(X)?H:[].concat(za(H),[X])},[]);else if(b==="number"){var U=xW(N,i.filter(function(H){var X,le,we=a in H.props?H.props[a]:(X=H.type.defaultProps)===null||X===void 0?void 0:X[a],be="hide"in H.props?H.props.hide:(le=H.type.defaultProps)===null||le===void 0?void 0:le.hide;return we===P&&(C||!be)}),_,o,c);U&&(R=U)}g&&(b==="number"||T!=="auto")&&(V=nl(N,_,"category"))}else g?R=Gd(0,k):s&&s[P]&&s[P].hasStack&&b==="number"?R=h==="expand"?[0,1]:mI(s[P].stackGroups,l,u):R=uI(N,i.filter(function(H){var X=a in H.props?H.props[a]:H.type.defaultProps[a],le="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return X===P&&(C||!le)}),b,c,!0);if(b==="number")R=fv(d,R,P,o,A),L&&(R=kg(L,R,E));else if(b==="category"&&L){var B=L,W=R.every(function(H){return B.indexOf(H)>=0});W&&(R=B)}}return z(z({},v),{},he({},P,z(z({},w),{},{axisType:o,domain:R,categoricalDomain:V,duplicateDomain:j,originalDomain:(x=w.domain)!==null&&x!==void 0?x:F,isCategorical:g,layout:c})))},{})},Qne=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=Sh(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,v=cI(c,o),y=-1;return r.reduce(function(x,w){var b=w.type.defaultProps!==void 0?z(z({},w.type.defaultProps),w.props):w.props,_=b[a],E=N2("number");if(!x[_]){y++;var S;return v?S=Gd(0,g):s&&s[_]&&s[_].hasStack?(S=mI(s[_].stackGroups,l,u),S=fv(d,S,_,o)):(S=kg(E,uI(h,r.filter(function(T){var A,C,P=a in T.props?T.props[a]:(A=T.type.defaultProps)===null||A===void 0?void 0:A[a],N="hide"in T.props?T.props.hide:(C=T.type.defaultProps)===null||C===void 0?void 0:C.hide;return P===_&&!N}),"number",c),i.defaultProps.allowDataOverflow),S=fv(d,S,_,o)),z(z({},x),{},he({},_,z(z({axisType:o},i.defaultProps),{},{hide:!0,orientation:pn(Wne,"".concat(o,".").concat(y%2),null),domain:S,originalDomain:E,isCategorical:v,layout:c})))}return x},{})},Zne=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=mn(c,o),g={};return h&&h.length?g=Xne(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(g=Qne(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},ere=function(e){var n=Xr(e),r=Er(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:t0(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Od(n,r)}},yS=function(e){var n=e.children,r=e.defaultShowTooltip,i=sn(n,Ra),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},tre=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ar(n&&n.type);return r&&r.indexOf("Bar")>=0})},wS=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nre=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,h=r.margin||{},g=sn(d,Ra),v=sn(d,di),y=Object.keys(l).reduce(function(S,T){var A=l[T],C=A.orientation;return!A.mirror&&!A.hide?z(z({},S),{},he({},C,S[C]+A.width)):S},{left:h.left||0,right:h.right||0}),x=Object.keys(a).reduce(function(S,T){var A=a[T],C=A.orientation;return!A.mirror&&!A.hide?z(z({},S),{},he({},C,pn(S,"".concat(C))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),w=z(z({},x),y),b=w.bottom;g&&(w.bottom+=g.props.height||Ra.defaultProps.height),v&&n&&(w=wW(w,i,r,n));var _=u-w.left-w.right,E=c-w.top-w.bottom;return z(z({brushBottom:b},w),{},{width:Math.max(_,0),height:Math.max(E,0)})},rre=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},B0=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(w,b){var _=b.graphicalItems,E=b.stackGroups,S=b.offset,T=b.updateId,A=b.dataStartIndex,C=b.dataEndIndex,P=w.barSize,N=w.layout,k=w.barGap,R=w.barCategoryGap,j=w.maxBarSize,V=wS(N),F=V.numericAxisName,M=V.cateAxisName,L=tre(_),$=[];return _.forEach(function(U,B){var W=Sh(w.data,{graphicalItems:[U],dataStartIndex:A,dataEndIndex:C}),H=U.type.defaultProps!==void 0?z(z({},U.type.defaultProps),U.props):U.props,X=H.dataKey,le=H.maxBarSize,we=H["".concat(F,"Id")],be=H["".concat(M,"Id")],Be={},Ye=l.reduce(function(Ht,lt){var Et=b["".concat(lt.axisType,"Map")],hr=H["".concat(lt.axisType,"Id")];Et&&Et[hr]||lt.axisType==="zAxis"||lo();var Te=Et[hr];return z(z({},Ht),{},he(he({},lt.axisType,Te),"".concat(lt.axisType,"Ticks"),Er(Te)))},Be),Z=Ye[M],ue=Ye["".concat(M,"Ticks")],de=E&&E[we]&&E[we].hasStack&&IW(U,E[we].stackGroups),D=Ar(U.type).indexOf("Bar")>=0,fe=Od(Z,ue),ie=[],_e=L&&vW({barSize:P,stackGroups:E,totalSize:rre(Ye,M)});if(D){var Se,We,vt=ve(le)?j:le,St=(Se=(We=Od(Z,ue,!0))!==null&&We!==void 0?We:vt)!==null&&Se!==void 0?Se:0;ie=yW({barGap:k,barCategoryGap:R,bandSize:St!==fe?St:fe,sizeList:_e[be],maxBarSize:vt}),St!==fe&&(ie=ie.map(function(Ht){return z(z({},Ht),{},{position:z(z({},Ht.position),{},{offset:Ht.position.offset-St/2})})}))}var jt=U&&U.type&&U.type.getComposedData;jt&&$.push({props:z(z({},jt(z(z({},Ye),{},{displayedData:W,props:w,dataKey:X,item:U,bandSize:fe,barPosition:ie,offset:S,stackedData:de,layout:N,dataStartIndex:A,dataEndIndex:C}))),{},he(he(he({key:U.key||"item-".concat(B)},F,Ye[F]),M,Ye[M]),"animationId",T)),childIndex:yL(U,w.children),item:U})}),$},g=function(w,b){var _=w.props,E=w.dataStartIndex,S=w.dataEndIndex,T=w.updateId;if(!Ob({props:_}))return null;var A=_.children,C=_.layout,P=_.stackOffset,N=_.data,k=_.reverseStackOrder,R=wS(C),j=R.numericAxisName,V=R.cateAxisName,F=mn(A,r),M=PW(N,F,"".concat(j,"Id"),"".concat(V,"Id"),P,k),L=l.reduce(function(H,X){var le="".concat(X.axisType,"Map");return z(z({},H),{},he({},le,Zne(_,z(z({},X),{},{graphicalItems:F,stackGroups:X.axisType===j&&M,dataStartIndex:E,dataEndIndex:S}))))},{}),$=nre(z(z({},L),{},{props:_,graphicalItems:F}),b==null?void 0:b.legendBBox);Object.keys(L).forEach(function(H){L[H]=c(_,L[H],$,H.replace("Map",""),n)});var U=L["".concat(V,"Map")],B=ere(U),W=h(_,z(z({},L),{},{dataStartIndex:E,dataEndIndex:S,updateId:T,graphicalItems:F,stackGroups:M,offset:$}));return z(z({formattedGraphicalItems:W,graphicalItems:F,offset:$,stackGroups:M},B),L)},v=function(x){function w(b){var _,E,S;return Dne(this,w),S=Une(this,w,[b]),he(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),he(S,"accessibilityManager",new _ne),he(S,"handleLegendBBoxUpdate",function(T){if(T){var A=S.state,C=A.dataStartIndex,P=A.dataEndIndex,N=A.updateId;S.setState(z({legendBBox:T},g({props:S.props,dataStartIndex:C,dataEndIndex:P,updateId:N},z(z({},S.state),{},{legendBBox:T}))))}}),he(S,"handleReceiveSyncEvent",function(T,A,C){if(S.props.syncId===T){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),he(S,"handleBrushChange",function(T){var A=T.startIndex,C=T.endIndex;if(A!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return z({dataStartIndex:A,dataEndIndex:C},g({props:S.props,dataStartIndex:A,dataEndIndex:C,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:C})}}),he(S,"handleMouseEnter",function(T){var A=S.getMouseInfo(T);if(A){var C=z(z({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var P=S.props.onMouseEnter;ge(P)&&P(C,T)}}),he(S,"triggeredAfterMouseMove",function(T){var A=S.getMouseInfo(T),C=A?z(z({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var P=S.props.onMouseMove;ge(P)&&P(C,T)}),he(S,"handleItemMouseEnter",function(T){S.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),he(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),he(S,"handleMouseMove",function(T){T.persist(),S.throttleTriggeredAfterMouseMove(T)}),he(S,"handleMouseLeave",function(T){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseLeave;ge(C)&&C(A,T)}),he(S,"handleOuterEvent",function(T){var A=vL(T),C=pn(S.props,"".concat(A));if(A&&ge(C)){var P,N;/.*touch.*/i.test(A)?N=S.getMouseInfo(T.changedTouches[0]):N=S.getMouseInfo(T),C((P=N)!==null&&P!==void 0?P:{},T)}}),he(S,"handleClick",function(T){var A=S.getMouseInfo(T);if(A){var C=z(z({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var P=S.props.onClick;ge(P)&&P(C,T)}}),he(S,"handleMouseDown",function(T){var A=S.props.onMouseDown;if(ge(A)){var C=S.getMouseInfo(T);A(C,T)}}),he(S,"handleMouseUp",function(T){var A=S.props.onMouseUp;if(ge(A)){var C=S.getMouseInfo(T);A(C,T)}}),he(S,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),he(S,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseDown(T.changedTouches[0])}),he(S,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseUp(T.changedTouches[0])}),he(S,"handleDoubleClick",function(T){var A=S.props.onDoubleClick;if(ge(A)){var C=S.getMouseInfo(T);A(C,T)}}),he(S,"handleContextMenu",function(T){var A=S.props.onContextMenu;if(ge(A)){var C=S.getMouseInfo(T);A(C,T)}}),he(S,"triggerSyncEvent",function(T){S.props.syncId!==void 0&&$p.emit(Dp,S.props.syncId,T,S.eventEmitterSymbol)}),he(S,"applySyncEvent",function(T){var A=S.props,C=A.layout,P=A.syncMethod,N=S.state.updateId,k=T.dataStartIndex,R=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)S.setState(z({dataStartIndex:k,dataEndIndex:R},g({props:S.props,dataStartIndex:k,dataEndIndex:R,updateId:N},S.state)));else if(T.activeTooltipIndex!==void 0){var j=T.chartX,V=T.chartY,F=T.activeTooltipIndex,M=S.state,L=M.offset,$=M.tooltipTicks;if(!L)return;if(typeof P=="function")F=P($,T);else if(P==="value"){F=-1;for(var U=0;U<$.length;U++)if($[U].value===T.activeLabel){F=U;break}}var B=z(z({},L),{},{x:L.left,y:L.top}),W=Math.min(j,B.x+B.width),H=Math.min(V,B.y+B.height),X=$[F]&&$[F].value,le=mv(S.state,S.props.data,F),we=$[F]?{x:C==="horizontal"?$[F].coordinate:W,y:C==="horizontal"?H:$[F].coordinate}:I2;S.setState(z(z({},T),{},{activeLabel:X,activeCoordinate:we,activePayload:le,activeTooltipIndex:F}))}else S.setState(T)}),he(S,"renderCursor",function(T){var A,C=S.state,P=C.isTooltipActive,N=C.activeCoordinate,k=C.activePayload,R=C.offset,j=C.activeTooltipIndex,V=C.tooltipAxisBandSize,F=S.getTooltipEventType(),M=(A=T.props.active)!==null&&A!==void 0?A:P,L=S.props.layout,$=T.key||"_recharts-cursor";return I.createElement(kne,{key:$,activeCoordinate:N,activePayload:k,activeTooltipIndex:j,chartName:n,element:T,isActive:M,layout:L,offset:R,tooltipAxisBandSize:V,tooltipEventType:F})}),he(S,"renderPolarAxis",function(T,A,C){var P=pn(T,"type.axisType"),N=pn(S.state,"".concat(P,"Map")),k=T.type.defaultProps,R=k!==void 0?z(z({},k),T.props):T.props,j=N&&N[R["".concat(P,"Id")]];return O.cloneElement(T,z(z({},j),{},{className:ye(P,j.className),key:T.key||"".concat(A,"-").concat(C),ticks:Er(j,!0)}))}),he(S,"renderPolarGrid",function(T){var A=T.props,C=A.radialLines,P=A.polarAngles,N=A.polarRadius,k=S.state,R=k.radiusAxisMap,j=k.angleAxisMap,V=Xr(R),F=Xr(j),M=F.cx,L=F.cy,$=F.innerRadius,U=F.outerRadius;return O.cloneElement(T,{polarAngles:Array.isArray(P)?P:Er(F,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(N)?N:Er(V,!0).map(function(B){return B.coordinate}),cx:M,cy:L,innerRadius:$,outerRadius:U,key:T.key||"polar-grid",radialLines:C})}),he(S,"renderLegend",function(){var T=S.state.formattedGraphicalItems,A=S.props,C=A.children,P=A.width,N=A.height,k=S.props.margin||{},R=P-(k.left||0)-(k.right||0),j=sI({children:C,formattedGraphicalItems:T,legendWidth:R,legendContent:u});if(!j)return null;var V=j.item,F=mS(j,Ine);return O.cloneElement(V,z(z({},F),{},{chartWidth:P,chartHeight:N,margin:k,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),he(S,"renderTooltip",function(){var T,A=S.props,C=A.children,P=A.accessibilityLayer,N=sn(C,Sn);if(!N)return null;var k=S.state,R=k.isTooltipActive,j=k.activeCoordinate,V=k.activePayload,F=k.activeLabel,M=k.offset,L=(T=N.props.active)!==null&&T!==void 0?T:R;return O.cloneElement(N,{viewBox:z(z({},M),{},{x:M.left,y:M.top}),active:L,label:F,payload:L?V:[],coordinate:j,accessibilityLayer:P})}),he(S,"renderBrush",function(T){var A=S.props,C=A.margin,P=A.data,N=S.state,k=N.offset,R=N.dataStartIndex,j=N.dataEndIndex,V=N.updateId;return O.cloneElement(T,{key:T.key||"_recharts-brush",onChange:rc(S.handleBrushChange,T.props.onChange),data:P,x:Y(T.props.x)?T.props.x:k.left,y:Y(T.props.y)?T.props.y:k.top+k.height+k.brushBottom-(C.bottom||0),width:Y(T.props.width)?T.props.width:k.width,startIndex:R,endIndex:j,updateId:"brush-".concat(V)})}),he(S,"renderReferenceElement",function(T,A,C){if(!T)return null;var P=S,N=P.clipPathId,k=S.state,R=k.xAxisMap,j=k.yAxisMap,V=k.offset,F=T.type.defaultProps||{},M=T.props,L=M.xAxisId,$=L===void 0?F.xAxisId:L,U=M.yAxisId,B=U===void 0?F.yAxisId:U;return O.cloneElement(T,{key:T.key||"".concat(A,"-").concat(C),xAxis:R[$],yAxis:j[B],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:N})}),he(S,"renderActivePoints",function(T){var A=T.item,C=T.activePoint,P=T.basePoint,N=T.childIndex,k=T.isRange,R=[],j=A.props.key,V=A.item.type.defaultProps!==void 0?z(z({},A.item.type.defaultProps),A.item.props):A.item.props,F=V.activeDot,M=V.dataKey,L=z(z({index:N,dataKey:M,cx:C.x,cy:C.y,r:4,fill:P0(A.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},ce(F,!1)),od(F));return R.push(w.renderActiveDot(F,L,"".concat(j,"-activePoint-").concat(N))),P?R.push(w.renderActiveDot(F,z(z({},L),{},{cx:P.x,cy:P.y}),"".concat(j,"-basePoint-").concat(N))):k&&R.push(null),R}),he(S,"renderGraphicChild",function(T,A,C){var P=S.filterFormatItem(T,A,C);if(!P)return null;var N=S.getTooltipEventType(),k=S.state,R=k.isTooltipActive,j=k.tooltipAxis,V=k.activeTooltipIndex,F=k.activeLabel,M=S.props.children,L=sn(M,Sn),$=P.props,U=$.points,B=$.isRange,W=$.baseLine,H=P.item.type.defaultProps!==void 0?z(z({},P.item.type.defaultProps),P.item.props):P.item.props,X=H.activeDot,le=H.hide,we=H.activeBar,be=H.activeShape,Be=!!(!le&&R&&L&&(X||we||be)),Ye={};N!=="axis"&&L&&L.props.trigger==="click"?Ye={onClick:rc(S.handleItemMouseEnter,T.props.onClick)}:N!=="axis"&&(Ye={onMouseLeave:rc(S.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:rc(S.handleItemMouseEnter,T.props.onMouseEnter)});var Z=O.cloneElement(T,z(z({},P.props),Ye));function ue(lt){return typeof j.dataKey=="function"?j.dataKey(lt.payload):null}if(Be)if(V>=0){var de,D;if(j.dataKey&&!j.allowDuplicatedCategory){var fe=typeof j.dataKey=="function"?ue:"payload.".concat(j.dataKey.toString());de=id(U,fe,F),D=B&&W&&id(W,fe,F)}else de=U==null?void 0:U[V],D=B&&W&&W[V];if(be||we){var ie=T.props.activeIndex!==void 0?T.props.activeIndex:V;return[O.cloneElement(T,z(z(z({},P.props),Ye),{},{activeIndex:ie})),null,null]}if(!ve(de))return[Z].concat(za(S.renderActivePoints({item:P,activePoint:de,basePoint:D,childIndex:V,isRange:B})))}else{var _e,Se=(_e=S.getItemByXY(S.state.activeCoordinate))!==null&&_e!==void 0?_e:{graphicalItem:Z},We=Se.graphicalItem,vt=We.item,St=vt===void 0?T:vt,jt=We.childIndex,Ht=z(z(z({},P.props),Ye),{},{activeIndex:jt});return[O.cloneElement(St,Ht),null,null]}return B?[Z,null,null]:[Z,null]}),he(S,"renderCustomized",function(T,A,C){return O.cloneElement(T,z(z({key:"recharts-customized-".concat(C)},S.props),S.state))}),he(S,"renderMap",{CartesianGrid:{handler:lc,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:lc},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:lc},YAxis:{handler:lc},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=b.id)!==null&&_!==void 0?_:Za("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=ak(S.triggeredAfterMouseMove,(E=b.throttleDelay)!==null&&E!==void 0?E:1e3/60),S.state={},S}return Vne(w,x),Lne(w,[{key:"componentDidMount",value:function(){var _,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,E=_.children,S=_.data,T=_.height,A=_.layout,C=sn(E,Sn);if(C){var P=C.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,k=mv(this.state,S,P,N),R=this.state.tooltipTicks[P].coordinate,j=(this.state.offset.top+T)/2,V=A==="horizontal",F=V?{x:R,y:j}:{y:R,x:j},M=this.state.formattedGraphicalItems.find(function($){var U=$.item;return U.type.name==="Scatter"});M&&(F=z(z({},F),M.props.points[P].tooltipPosition),k=M.props.points[P].tooltipPayload);var L={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:N,activePayload:k,activeCoordinate:F};this.setState(L),this.renderCursor(C),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,T;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(_){qm([sn(_.children,Sn)],[sn(this.props.children,Sn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=sn(this.props.children,Sn);if(_&&typeof _.props.shared=="boolean"){var E=_.props.shared?"axis":"item";return s.indexOf(E)>=0?E:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var E=this.container,S=E.getBoundingClientRect(),T=qz(S),A={chartX:Math.round(_.pageX-T.left),chartY:Math.round(_.pageY-T.top)},C=S.width/E.offsetWidth||1,P=this.inRange(A.chartX,A.chartY,C);if(!P)return null;var N=this.state,k=N.xAxisMap,R=N.yAxisMap,j=this.getTooltipEventType(),V=vS(this.state,this.props.data,this.props.layout,P);if(j!=="axis"&&k&&R){var F=Xr(k).scale,M=Xr(R).scale,L=F&&F.invert?F.invert(A.chartX):null,$=M&&M.invert?M.invert(A.chartY):null;return z(z({},A),{},{xValue:L,yValue:$},V)}return V?z(z({},A),V):null}},{key:"inRange",value:function(_,E){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,A=_/S,C=E/S;if(T==="horizontal"||T==="vertical"){var P=this.state.offset,N=A>=P.left&&A<=P.left+P.width&&C>=P.top&&C<=P.top+P.height;return N?{x:A,y:C}:null}var k=this.state,R=k.angleAxisMap,j=k.radiusAxisMap;if(R&&j){var V=Xr(R);return V_({x:A,y:C},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,E=this.getTooltipEventType(),S=sn(_,Sn),T={};S&&E==="axis"&&(S.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=od(this.props,this.handleOuterEvent);return z(z({},A),T)}},{key:"addListener",value:function(){$p.on(Dp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$p.removeListener(Dp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,E,S){for(var T=this.state.formattedGraphicalItems,A=0,C=T.length;A<C;A++){var P=T[A];if(P.item===_||P.props.key===_.key||E===Ar(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,E=this.state.offset,S=E.left,T=E.top,A=E.height,C=E.width;return I.createElement("defs",null,I.createElement("clipPath",{id:_},I.createElement("rect",{x:S,y:T,height:A,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(E,S){var T=pS(S,2),A=T[0],C=T[1];return z(z({},E),{},he({},A,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(E,S){var T=pS(S,2),A=T[0],C=T[1];return z(z({},E),{},he({},A,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(_){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(_){var E=this.state,S=E.formattedGraphicalItems,T=E.activeItem;if(S&&S.length)for(var A=0,C=S.length;A<C;A++){var P=S[A],N=P.props,k=P.item,R=k.type.defaultProps!==void 0?z(z({},k.type.defaultProps),k.props):k.props,j=Ar(k.type);if(j==="Bar"){var V=(N.data||[]).find(function($){return CY(_,$)});if(V)return{graphicalItem:P,payload:V}}else if(j==="RadialBar"){var F=(N.data||[]).find(function($){return V_(_,$)});if(F)return{graphicalItem:P,payload:F}}else if(gh(P,T)||vh(P,T)||tu(P,T)){var M=mQ({graphicalItem:P,activeTooltipItem:T,itemData:R.data}),L=R.activeIndex===void 0?M:R.activeIndex;return{graphicalItem:z(z({},P),{},{childIndex:L}),payload:tu(P,T)?R.data[M]:P.props.data[M]}}}return null}},{key:"render",value:function(){var _=this;if(!Ob(this))return null;var E=this.props,S=E.children,T=E.className,A=E.width,C=E.height,P=E.style,N=E.compact,k=E.title,R=E.desc,j=mS(E,Nne),V=ce(j,!1);if(N)return I.createElement(Y1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(Hm,Jo({},V,{width:A,height:C,title:k,desc:R}),this.renderClipPath(),Mb(S,this.renderMap)));if(this.props.accessibilityLayer){var F,M;V.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,V.role=(M=this.props.role)!==null&&M!==void 0?M:"application",V.onKeyDown=function($){_.accessibilityManager.keyboardEvent($)},V.onFocus=function(){_.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return I.createElement(Y1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",Jo({className:ye("recharts-wrapper",T),style:z({position:"relative",cursor:"default",width:A,height:C},P)},L,{ref:function(U){_.container=U}}),I.createElement(Hm,Jo({},V,{width:A,height:C,title:k,desc:R,style:Kne}),this.renderClipPath(),Mb(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);he(v,"displayName",n),he(v,"defaultProps",z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),he(v,"getDerivedStateFromProps",function(x,w){var b=x.dataKey,_=x.data,E=x.children,S=x.width,T=x.height,A=x.layout,C=x.stackOffset,P=x.margin,N=w.dataStartIndex,k=w.dataEndIndex;if(w.updateId===void 0){var R=yS(x);return z(z(z({},R),{},{updateId:0},g(z(z({props:x},R),{},{updateId:0}),w)),{},{prevDataKey:b,prevData:_,prevWidth:S,prevHeight:T,prevLayout:A,prevStackOffset:C,prevMargin:P,prevChildren:E})}if(b!==w.prevDataKey||_!==w.prevData||S!==w.prevWidth||T!==w.prevHeight||A!==w.prevLayout||C!==w.prevStackOffset||!oa(P,w.prevMargin)){var j=yS(x),V={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},F=z(z({},vS(w,_,A)),{},{updateId:w.updateId+1}),M=z(z(z({},j),V),F);return z(z(z({},M),g(z({props:x},M),w)),{},{prevDataKey:b,prevData:_,prevWidth:S,prevHeight:T,prevLayout:A,prevStackOffset:C,prevMargin:P,prevChildren:E})}if(!qm(E,w.prevChildren)){var L,$,U,B,W=sn(E,Ra),H=W&&(L=($=W.props)===null||$===void 0?void 0:$.startIndex)!==null&&L!==void 0?L:N,X=W&&(U=(B=W.props)===null||B===void 0?void 0:B.endIndex)!==null&&U!==void 0?U:k,le=H!==N||X!==k,we=!ve(_),be=we&&!le?w.updateId:w.updateId+1;return z(z({updateId:be},g(z(z({props:x},w),{},{updateId:be,dataStartIndex:H,dataEndIndex:X}),w)),{},{prevChildren:E,dataStartIndex:H,dataEndIndex:X})}return null}),he(v,"renderActiveDot",function(x,w,b){var _;return O.isValidElement(x)?_=O.cloneElement(x,w):ge(x)?_=x(w):_=I.createElement(dh,w),I.createElement(Ae,{className:"recharts-active-dot",key:b},_)});var y=O.forwardRef(function(w,b){return I.createElement(v,Jo({},w,{ref:b}))});return y.displayName=v.displayName,y},ire=B0({chartName:"LineChart",GraphicalChild:Tu,axisComponents:[{axisType:"xAxis",AxisComp:ss},{axisType:"yAxis",AxisComp:ls}],formatAxisMap:YI}),ore=B0({chartName:"BarChart",GraphicalChild:yo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ss},{axisType:"yAxis",AxisComp:ls}],formatAxisMap:YI}),are=B0({chartName:"PieChart",GraphicalChild:Fr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:mh},{axisType:"radiusAxis",AxisComp:hh}],formatAxisMap:BW,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let sre,lre;function ure(){return{geminiUrl:sre,vertexUrl:lre}}function cre(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=ure();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vr{}function te(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,e.slice(o+1),n[u])}else for(const u of l)p(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];p(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>f(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function dre(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}gv(t,i,o,0,a)}}function gv(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])gv(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);p(a,d,c)}for(const u of s)delete a[u]}}else{const a=t;o in a&&gv(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F0(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fre(t){const e={},n=f(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=f(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function hre(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],mre(a)),e}function pre(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],gre(a)),e}function mre(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>vre(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function gre(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>yre(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function vre(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],Ere(n)),e}function yre(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],Tre(n)),e}function wre(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function bre(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function xre(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],_re(a)),e}function _re(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function O2(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],Sre(a)),e}function Sre(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function Ere(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],F0(r));const i=f(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function Tre(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],F0(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bS;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(bS||(bS={}));var xS;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(xS||(xS={}));var _S;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(_S||(_S={}));var ni;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ni||(ni={}));var SS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(SS||(SS={}));var ES;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ES||(ES={}));var TS;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(TS||(TS={}));var AS;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(AS||(AS={}));var CS;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(CS||(CS={}));var PS;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(PS||(PS={}));var kS;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(kS||(kS={}));var IS;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(IS||(IS={}));var NS;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(NS||(NS={}));var OS;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(OS||(OS={}));var RS;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(RS||(RS={}));var MS;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(MS||(MS={}));var $S;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})($S||($S={}));var DS;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(DS||(DS={}));var jS;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(jS||(jS={}));var af;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(af||(af={}));var LS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(LS||(LS={}));var US;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(US||(US={}));var BS;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(BS||(BS={}));var vv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vv||(vv={}));var FS;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(FS||(FS={}));var VS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(VS||(VS={}));var zS;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(zS||(zS={}));var qS;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(qS||(qS={}));var GS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(GS||(GS={}));var HS;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(HS||(HS={}));var WS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(WS||(WS={}));var KS;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(KS||(KS={}));var JS;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(JS||(JS={}));var YS;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(YS||(YS={}));var XS;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(XS||(XS={}));var QS;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(QS||(QS={}));var ZS;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ZS||(ZS={}));var eE;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(eE||(eE={}));var tE;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(tE||(tE={}));var nE;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(nE||(nE={}));var rE;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(rE||(rE={}));var iE;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(iE||(iE={}));var oE;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(oE||(oE={}));var aE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(aE||(aE={}));var sE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(sE||(sE={}));var lE;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(lE||(lE={}));var uE;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(uE||(uE={}));var cE;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(cE||(cE={}));var dE;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(dE||(dE={}));var fE;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(fE||(fE={}));var hE;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(hE||(hE={}));var pE;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(pE||(pE={}));var mE;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(mE||(mE={}));var gE;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(gE||(gE={}));var Yo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Yo||(Yo={}));class yv{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class $s{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(v!==null||v!==void 0)&&d.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(d))h!=="inlineData"&&(g!==null||g!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class vE{}class yE{}class Are{}class Cre{}class Pre{}class kre{}class wE{}class bE{}class xE{}class Ire{}class sf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new sf;let i;const o=e;return n?i=pre(o):i=hre(o),Object.assign(r,i),r}}class _E{}class SE{}class EE{}class Nre{}class Ore{}class Rre{}class V0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new V0,o=xre(e);return Object.assign(r,o),r}}class Mre{}class $re{}class Dre{}class TE{}class jre{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Lre{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class z0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new z0,o=O2(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function R2(t,e){const n=Pe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function M2(t){return Array.isArray(t)?t.map(e=>lf(e)):[lf(t)]}function lf(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function $2(t){const e=lf(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function D2(t){const e=lf(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function AE(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function j2(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>AE(e)):[AE(t)]}function wv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function CE(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function PE(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function $t(t){if(t==null)throw new Error("ContentUnion is required");return wv(t)?t:{role:"user",parts:j2(t)}}function q0(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=$t(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=$t(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>$t(n)):[$t(e)]}function Nn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(CE(t)||PE(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[$t(t)]}const e=[],n=[],r=wv(t[0]);for(const i of t){const o=wv(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(CE(i)||PE(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:j2(n)}),e}function Ure(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ni).includes(n[0].toUpperCase())?n[0].toUpperCase():ni.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ni).includes(r.toUpperCase())?r.toUpperCase():ni.TYPE_UNSPECIFIED})}}function la(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Ure(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(ni).includes(s.toUpperCase())?s.toUpperCase():ni.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=la(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(la(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=la(c);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function G0(t){return la(t)}function H0(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function W0(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function us(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=la(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=la(e.response));return t}function cs(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Bre(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function zr(t,e){if(typeof e!="string")throw new Error("name must be a string");return Bre(t,e,"cachedContents")}function L2(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function _i(t){return F0(t)}function Fre(t){return t!=null&&typeof t=="object"&&"name"in t}function Vre(t){return t!=null&&typeof t=="object"&&"video"in t}function zre(t){return t!=null&&typeof t=="object"&&"uri"in t}function U2(t){var e;let n;if(Fre(t)&&(n=t.name),!(zre(t)&&(n=t.uri,n===void 0))&&!(Vre(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function B2(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function F2(t){for(const e of["models","tunedModels","publisherModels"])if(qre(t,e))return t[e];return[]}function qre(t,e){return t!==null&&typeof t=="object"&&e in t}function Gre(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Hre(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=Gre(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function V2(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Wre(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function z2(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ds(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function q2(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kre(t){const e={},n=f(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=f(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Pie(a))),p(e,["inlinedResponses"],o)}const i=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["inlinedEmbedContentResponses"],o)}return e}function Jre(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function Yre(t){const e={},n=f(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Nc(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["metadata","state"]);i!=null&&p(e,["state"],q2(i));const o=f(t,["metadata","createTime"]);o!=null&&p(e,["createTime"],o);const a=f(t,["metadata","endTime"]);a!=null&&p(e,["endTime"],a);const s=f(t,["metadata","updateTime"]);s!=null&&p(e,["updateTime"],s);const l=f(t,["metadata","model"]);l!=null&&p(e,["model"],l);const u=f(t,["metadata","output"]);return u!=null&&p(e,["dest"],Kre(z2(u))),e}function bv(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["state"]);i!=null&&p(e,["state"],q2(i));const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["createTime"]);a!=null&&p(e,["createTime"],a);const s=f(t,["startTime"]);s!=null&&p(e,["startTime"],s);const l=f(t,["endTime"]);l!=null&&p(e,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const c=f(t,["model"]);c!=null&&p(e,["model"],c);const d=f(t,["inputConfig"]);d!=null&&p(e,["src"],Xre(d));const h=f(t,["outputConfig"]);h!=null&&p(e,["dest"],Jre(z2(h)));const g=f(t,["completionStats"]);return g!=null&&p(e,["completionStats"],g),e}function Xre(t){const e={},n=f(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function Qre(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=f(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Cie(t,a))),p(n,["requests","requests"],o)}return n}function Zre(t){const e={},n=f(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function eie(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function tie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],ds(t,r)),n}function nie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],ds(t,r)),n}function rie(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],iie(r));const i=f(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&p(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),p(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&p(e,["urlContextMetadata"],d),e}function iie(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function G2(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$ie(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function oie(t,e){const n={},r=f(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function aie(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],Yre(Wre(i))),n}function kE(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],Qre(t,V2(t,i)));const o=f(e,["config"]);return o!=null&&oie(o,n),n}function sie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],Pe(t,r));const i=f(e,["src"]);i!=null&&p(n,["inputConfig"],Zre(V2(t,i)));const o=f(e,["config"]);return o!=null&&aie(o,n),n}function lie(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function uie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],gie(t,i));const o=f(e,["config"]);return o!=null&&lie(o,n),n}function cie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],ds(t,r)),n}function die(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],ds(t,r)),n}function fie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function hie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function pie(t,e){const n={},r=f(e,["contents"]);if(r!=null){let o=q0(t,r);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["requests[]","request","content"],o)}const i=f(e,["config"]);return i!=null&&(p(n,["_self"],mie(i,n)),dre(n,{"requests[].*":"requests[].request.*"})),n}function mie(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function gie(t,e){const n={},r=f(e,["fileName"]);r!=null&&p(n,["file_name"],r);const i=f(e,["inlinedRequests"]);return i!=null&&p(n,["requests"],pie(t,i)),n}function vie(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function yie(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wie(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bie(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],G2($t(i)));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const v=f(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const y=f(e,["seed"]);y!=null&&p(r,["seed"],y);const x=f(e,["responseMimeType"]);x!=null&&p(r,["responseMimeType"],x);const w=f(e,["responseSchema"]);w!=null&&p(r,["responseSchema"],G0(w));const b=f(e,["responseJsonSchema"]);if(b!=null&&p(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let R=_;Array.isArray(R)&&(R=R.map(j=>Die(j))),p(n,["safetySettings"],R)}const E=f(e,["tools"]);if(n!==void 0&&E!=null){let R=cs(E);Array.isArray(R)&&(R=R.map(j=>Lie(us(j)))),p(n,["tools"],R)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],jie(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=f(e,["cachedContent"]);n!==void 0&&T!=null&&p(n,["cachedContent"],zr(t,T));const A=f(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const C=f(e,["mediaResolution"]);C!=null&&p(r,["mediaResolution"],C);const P=f(e,["speechConfig"]);if(P!=null&&p(r,["speechConfig"],H0(P)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=f(e,["thinkingConfig"]);N!=null&&p(r,["thinkingConfig"],N);const k=f(e,["imageConfig"]);return k!=null&&p(r,["imageConfig"],Aie(k)),r}function xie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>rie(u))),p(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function _ie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],ds(t,r)),n}function Sie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],ds(t,r)),n}function Eie(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Tie(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Aie(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Cie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["request","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let s=Nn(i);Array.isArray(s)&&(s=s.map(l=>G2(l))),p(n,["request","contents"],s)}const o=f(e,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(e,["config"]);return a!=null&&p(n,["request","generationConfig"],bie(t,a,f(n,["request"],{}))),n}function Pie(t){const e={},n=f(t,["response"]);n!=null&&p(e,["response"],xie(n));const r=f(t,["error"]);return r!=null&&p(e,["error"],r),e}function kie(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Iie(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=f(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function Nie(t){const e={},n=f(t,["config"]);return n!=null&&kie(n,e),e}function Oie(t){const e={},n=f(t,["config"]);return n!=null&&Iie(n,e),e}function Rie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Nc(a))),p(e,["batchJobs"],o)}return e}function Mie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>bv(a))),p(e,["batchJobs"],o)}return e}function $ie(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],vie(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],yie(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],eie(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Die(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function jie(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],wie(n));const r=f(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function Lie(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],Eie(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],Tie(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Dr||(Dr={}));class wo{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uie extends Vr{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new wo(Dr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=kE(this.apiClient,e),r=n._url,i=te("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const g=d.request;g.systemInstruction=h,d.request=g}u.push(d)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=sie(this.apiClient,e);return s=te("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>bv(c))}else{const u=kE(this.apiClient,e);return s=te("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Nc(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=uie(this.apiClient,e);return o=te("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Nc(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Sie(this.apiClient,e);return s=te("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>bv(c))}else{const u=_ie(this.apiClient,e);return s=te("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Nc(c))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=nie(this.apiClient,e);a=te("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=tie(this.apiClient,e);a=te("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Oie(e);return s=te("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Mie(c),h=new TE;return Object.assign(h,d),h})}else{const u=Nie(e);return s=te("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Rie(c),h=new TE;return Object.assign(h,d),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=die(this.apiClient,e);return s=te("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>hie(c))}else{const u=cie(this.apiClient,e);return s=te("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>fie(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bie(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function IE(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>uoe(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function Fie(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let c=Nn(a);Array.isArray(c)&&(c=c.map(d=>IE(d))),p(e,["contents"],c)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],IE($t(s)));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>doe(d))),p(e,["tools"],c)}const u=f(t,["toolConfig"]);if(e!==void 0&&u!=null&&p(e,["toolConfig"],coe(u)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Vie(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let d=Nn(a);Array.isArray(d)&&(d=d.map(h=>h)),p(e,["contents"],d)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],$t(s));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>foe(h))),p(e,["tools"],d)}const u=f(t,["toolConfig"]);e!==void 0&&u!=null&&p(e,["toolConfig"],u);const c=f(t,["kmsKeyName"]);return e!==void 0&&c!=null&&p(e,["encryption_spec","kmsKeyName"],c),n}function zie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],R2(t,r));const i=f(e,["config"]);return i!=null&&Fie(i,n),n}function qie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],R2(t,r));const i=f(e,["config"]);return i!=null&&Vie(i,n),n}function Gie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],zr(t,r)),n}function Hie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],zr(t,r)),n}function Wie(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Kie(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Jie(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Yie(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Xie(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Qie(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function Zie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],zr(t,r)),n}function eoe(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],zr(t,r)),n}function toe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function noe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function roe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function ioe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function ooe(t){const e={},n=f(t,["config"]);return n!=null&&roe(n,e),e}function aoe(t){const e={},n=f(t,["config"]);return n!=null&&ioe(n,e),e}function soe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function loe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function uoe(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],Jie(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],Yie(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],Bie(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function coe(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],Xie(n));const r=f(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function doe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],toe(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],noe(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function foe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>Qie(h))),p(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&p(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function hoe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function poe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function moe(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],zr(t,r));const i=f(e,["config"]);return i!=null&&hoe(i,n),n}function goe(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],zr(t,r));const i=f(e,["config"]);return i!=null&&poe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class voe extends Vr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new wo(Dr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=qie(this.apiClient,e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=zie(this.apiClient,e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=eoe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=Zie(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Hie(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Kie(c),h=new SE;return Object.assign(h,d),h})}else{const u=Gie(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Wie(c),h=new SE;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=goe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=moe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=aoe(e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=loe(c),h=new EE;return Object.assign(h,d),h})}else{const u=ooe(e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=soe(c),h=new EE;return Object.assign(h,d),h})}}}function NE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(t){return this instanceof qe?(this.v=t,this):new qe(t)}function ua(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(v){return Promise.resolve(v).then(g,d)}}function s(g,v){r[g]&&(i[g]=function(y){return new Promise(function(x,w){o.push([g,y,x,w])>1||l(g,y)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(r[g](v))}catch(y){h(o[0][3],y)}}function u(g){g.value instanceof qe?Promise.resolve(g.value.v).then(c,d):h(o[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function sl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof NE=="function"?NE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yoe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:H2(n)}function H2(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function woe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function OE(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!H2(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class boe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new xoe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class xoe{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),woe(o)}async sendMessage(e){var n;await this.sendPromise;const r=$t(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(d))!==null&&s!==void 0?s:[]);const g=u?[u]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=$t(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?OE(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return ua(this,arguments,function*(){var a,s,l,u;const c=[];try{for(var d=!0,h=sl(e),g;g=yield qe(h.next()),a=g.done,!a;d=!0){u=g.value,d=!1;const v=u;if(yoe(v)){const y=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;y!==void 0&&c.push(y)}yield yield qe(v)}}catch(v){s={error:v}}finally{try{!d&&!a&&(l=h.return)&&(yield qe(l.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...OE(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Eh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _oe(t){const e={},n=f(t,["file"]);return n!=null&&p(e,["file"],n),e}function Soe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Eoe(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],U2(n)),e}function Toe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Aoe(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],U2(n)),e}function Coe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function Poe(t){const e={},n=f(t,["config"]);return n!=null&&Coe(n,e),e}function koe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ioe extends Vr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new wo(Dr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Poe(e);return o=te("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=koe(l),c=new Mre;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=_oe(e);return o=te("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Soe(l),c=new $re;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Aoe(e);return o=te("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Eoe(e);return o=te("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Toe(l),c=new Dre;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oc(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Noe(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Woe(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function Ooe(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Roe(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Moe(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function $oe(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&p(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const g=f(t,["responseMimeType"]);g!=null&&p(e,["responseMimeType"],g);const v=f(t,["responseModalities"]);v!=null&&p(e,["responseModalities"],v);const y=f(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const x=f(t,["routingConfig"]);x!=null&&p(e,["routingConfig"],x);const w=f(t,["seed"]);w!=null&&p(e,["seed"],w);const b=f(t,["speechConfig"]);b!=null&&p(e,["speechConfig"],W2(b));const _=f(t,["stopSequences"]);_!=null&&p(e,["stopSequences"],_);const E=f(t,["temperature"]);E!=null&&p(e,["temperature"],E);const S=f(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const T=f(t,["topK"]);T!=null&&p(e,["topK"],T);const A=f(t,["topP"]);if(A!=null&&p(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Doe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function joe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Loe(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],W0(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],Noe($t(v)));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let T=cs(y);Array.isArray(T)&&(T=T.map(A=>Joe(us(A)))),p(e,["setup","tools"],T)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&p(e,["setup","sessionResumption"],Koe(x));const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&p(e,["setup","inputAudioTranscription"],w);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const E=f(t,["contextWindowCompression"]);e!==void 0&&E!=null&&p(e,["setup","contextWindowCompression"],E);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),n}function Uoe(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],$oe(r));const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],W2(W0(d)));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],$t(v));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let T=cs(y);Array.isArray(T)&&(T=T.map(A=>Yoe(us(A)))),p(e,["setup","tools"],T)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&p(e,["setup","sessionResumption"],x);const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&p(e,["setup","inputAudioTranscription"],w);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const E=f(t,["contextWindowCompression"]);e!==void 0&&E!=null&&p(e,["setup","contextWindowCompression"],E);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),n}function Boe(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],Pe(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],Loe(i,n)),n}function Foe(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],Pe(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],Uoe(i,n)),n}function Voe(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function zoe(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["weightedPrompts"],r)}return e}function qoe(t){const e={},n=f(t,["media"]);if(n!=null){let u=M2(n);Array.isArray(u)&&(u=u.map(c=>Oc(c))),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],Oc(D2(r)));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],Oc($2(o)));const a=f(t,["text"]);a!=null&&p(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function Goe(t){const e={},n=f(t,["media"]);if(n!=null){let u=M2(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],D2(r));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],$2(o));const a=f(t,["text"]);a!=null&&p(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function Hoe(t){const e={},n=f(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const r=f(t,["serverContent"]);r!=null&&p(e,["serverContent"],r);const i=f(t,["toolCall"]);i!=null&&p(e,["toolCall"],i);const o=f(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],o);const a=f(t,["usageMetadata"]);a!=null&&p(e,["usageMetadata"],Xoe(a));const s=f(t,["goAway"]);s!=null&&p(e,["goAway"],s);const l=f(t,["sessionResumptionUpdate"]);return l!=null&&p(e,["sessionResumptionUpdate"],l),e}function Woe(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],Ooe(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],Roe(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],Oc(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Koe(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function W2(t){const e={},n=f(t,["languageCode"]);n!=null&&p(e,["languageCode"],n);const r=f(t,["voiceConfig"]);if(r!=null&&p(e,["voiceConfig"],r),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Joe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],Doe(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],joe(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function Yoe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>Moe(h))),p(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&p(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function Xoe(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=f(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=f(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const a=f(t,["thoughtsTokenCount"]);a!=null&&p(e,["thoughtsTokenCount"],a);const s=f(t,["totalTokenCount"]);s!=null&&p(e,["totalTokenCount"],s);const l=f(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),p(e,["promptTokensDetails"],g)}const u=f(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>v)),p(e,["cacheTokensDetails"],g)}const c=f(t,["candidatesTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>v)),p(e,["responseTokensDetails"],g)}const d=f(t,["toolUsePromptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),p(e,["toolUsePromptTokensDetails"],g)}const h=f(t,["trafficType"]);return h!=null&&p(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qoe(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Zoe(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],eae(r));const i=f(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&p(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),p(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&p(e,["urlContextMetadata"],d),e}function eae(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function tae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let o=Nn(i);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["contents"],o)}return n}function nae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["tokensInfo"],i)}return e}function rae(t){const e={},n=f(t,["values"]);n!=null&&p(e,["values"],n);const r=f(t,["statistics"]);return r!=null&&p(e,["statistics"],iae(r)),e}function iae(t){const e={},n=f(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=f(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function Th(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hse(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function oae(t){const e={},n=f(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=f(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function aae(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function sae(t,e){const n={},r=f(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],$t(r));const i=f(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Q2(s))),p(e,["tools"],a)}const o=f(t,["generationConfig"]);return e!==void 0&&o!=null&&p(e,["generationConfig"],Qae(o)),n}function lae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let a=Nn(i);Array.isArray(a)&&(a=a.map(s=>Th(s))),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&aae(o),n}function uae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let a=Nn(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&sae(o,n),n}function cae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const i=f(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function dae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function fae(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],Pe(t,r)),n}function hae(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],Pe(t,r)),n}function pae(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function mae(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function gae(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&p(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const g=f(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","mimeType"],v);const y=f(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const x=f(t,["addWatermark"]);e!==void 0&&x!=null&&p(e,["parameters","addWatermark"],x);const w=f(t,["labels"]);e!==void 0&&w!=null&&p(e,["labels"],w);const b=f(t,["editMode"]);e!==void 0&&b!=null&&p(e,["parameters","editMode"],b);const _=f(t,["baseSteps"]);return e!==void 0&&_!=null&&p(e,["parameters","editConfig","baseSteps"],_),n}function vae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>wse(l))),p(n,["instances[0]","referenceImages"],s)}const a=f(e,["config"]);return a!=null&&gae(a,n),n}function yae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ah(o))),p(e,["generatedImages"],i)}return e}function wae(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function bae(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["instances[]","title"],i);const o=f(t,["outputDimensionality"]);e!==void 0&&o!=null&&p(e,["parameters","outputDimensionality"],o);const a=f(t,["mimeType"]);e!==void 0&&a!=null&&p(e,["instances[]","mimeType"],a);const s=f(t,["autoTruncate"]);return e!==void 0&&s!=null&&p(e,["parameters","autoTruncate"],s),n}function xae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let s=q0(t,i);Array.isArray(s)&&(s=s.map(l=>l)),p(n,["requests[]","content"],s)}const o=f(e,["config"]);o!=null&&wae(o,n);const a=f(e,["model"]);return a!==void 0&&p(n,["requests[]","model"],Pe(t,a)),n}function _ae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let a=q0(t,i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["instances[]","content"],a)}const o=f(e,["config"]);return o!=null&&bae(o,n),n}function Sae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function Eae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>rae(a))),p(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function Tae(t){const e={},n=f(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=f(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function Aae(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Cae(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Pae(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function kae(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function Iae(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],Th($t(i)));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const v=f(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const y=f(e,["seed"]);y!=null&&p(r,["seed"],y);const x=f(e,["responseMimeType"]);x!=null&&p(r,["responseMimeType"],x);const w=f(e,["responseSchema"]);w!=null&&p(r,["responseSchema"],G0(w));const b=f(e,["responseJsonSchema"]);if(b!=null&&p(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let R=_;Array.isArray(R)&&(R=R.map(j=>bse(j))),p(n,["safetySettings"],R)}const E=f(e,["tools"]);if(n!==void 0&&E!=null){let R=cs(E);Array.isArray(R)&&(R=R.map(j=>Cse(us(j)))),p(n,["tools"],R)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],Ase(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=f(e,["cachedContent"]);n!==void 0&&T!=null&&p(n,["cachedContent"],zr(t,T));const A=f(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const C=f(e,["mediaResolution"]);C!=null&&p(r,["mediaResolution"],C);const P=f(e,["speechConfig"]);if(P!=null&&p(r,["speechConfig"],H0(P)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=f(e,["thinkingConfig"]);N!=null&&p(r,["thinkingConfig"],N);const k=f(e,["imageConfig"]);return k!=null&&p(r,["imageConfig"],rse(k)),r}function Nae(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],$t(i));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const v=f(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const y=f(e,["seed"]);y!=null&&p(r,["seed"],y);const x=f(e,["responseMimeType"]);x!=null&&p(r,["responseMimeType"],x);const w=f(e,["responseSchema"]);w!=null&&p(r,["responseSchema"],G0(w));const b=f(e,["responseJsonSchema"]);b!=null&&p(r,["responseJsonSchema"],b);const _=f(e,["routingConfig"]);_!=null&&p(r,["routingConfig"],_);const E=f(e,["modelSelectionConfig"]);E!=null&&p(r,["modelConfig"],E);const S=f(e,["safetySettings"]);if(n!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(L=>L)),p(n,["safetySettings"],M)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let M=cs(T);Array.isArray(M)&&(M=M.map(L=>Q2(us(L)))),p(n,["tools"],M)}const A=f(e,["toolConfig"]);n!==void 0&&A!=null&&p(n,["toolConfig"],A);const C=f(e,["labels"]);n!==void 0&&C!=null&&p(n,["labels"],C);const P=f(e,["cachedContent"]);n!==void 0&&P!=null&&p(n,["cachedContent"],zr(t,P));const N=f(e,["responseModalities"]);N!=null&&p(r,["responseModalities"],N);const k=f(e,["mediaResolution"]);k!=null&&p(r,["mediaResolution"],k);const R=f(e,["speechConfig"]);R!=null&&p(r,["speechConfig"],X2(H0(R)));const j=f(e,["audioTimestamp"]);j!=null&&p(r,["audioTimestamp"],j);const V=f(e,["thinkingConfig"]);V!=null&&p(r,["thinkingConfig"],V);const F=f(e,["imageConfig"]);return F!=null&&p(r,["imageConfig"],ise(F)),r}function RE(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let a=Nn(i);Array.isArray(a)&&(a=a.map(s=>Th(s))),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],Iae(t,o,n)),n}function ME(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["contents"]);if(i!=null){let a=Nn(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],Nae(t,o,n)),n}function $E(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Zoe(u))),p(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function DE(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["candidates"],u)}const i=f(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=f(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const a=f(t,["promptFeedback"]);a!=null&&p(e,["promptFeedback"],a);const s=f(t,["responseId"]);s!=null&&p(e,["responseId"],s);const l=f(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function Oae(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["aspectRatio"]);e!==void 0&&i!=null&&p(e,["parameters","aspectRatio"],i);const o=f(t,["guidanceScale"]);if(e!==void 0&&o!=null&&p(e,["parameters","guidanceScale"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&p(e,["parameters","safetySetting"],a);const s=f(t,["personGeneration"]);e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s);const l=f(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&p(e,["parameters","includeSafetyAttributes"],l);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const c=f(t,["language"]);e!==void 0&&c!=null&&p(e,["parameters","language"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=f(t,["imageSize"]);if(e!==void 0&&g!=null&&p(e,["parameters","sampleImageSize"],g),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Rae(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&p(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const g=f(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","mimeType"],v);const y=f(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const x=f(t,["addWatermark"]);e!==void 0&&x!=null&&p(e,["parameters","addWatermark"],x);const w=f(t,["labels"]);e!==void 0&&w!=null&&p(e,["labels"],w);const b=f(t,["imageSize"]);e!==void 0&&b!=null&&p(e,["parameters","sampleImageSize"],b);const _=f(t,["enhancePrompt"]);return e!==void 0&&_!=null&&p(e,["parameters","enhancePrompt"],_),n}function Mae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&Oae(o,n),n}function $ae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&Rae(o,n),n}function Dae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Kae(a))),p(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],J2(i)),e}function jae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Ah(a))),p(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],Y2(i)),e}function Lae(t,e){const n={},r=f(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=f(t,["durationSeconds"]);if(e!==void 0&&i!=null&&p(e,["parameters","durationSeconds"],i),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const a=f(t,["resolution"]);e!==void 0&&a!=null&&p(e,["parameters","resolution"],a);const s=f(t,["personGeneration"]);if(e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const u=f(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&p(e,["parameters","enhancePrompt"],u),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=f(t,["lastFrame"]);e!==void 0&&c!=null&&p(e,["instances[0]","lastFrame"],Ch(c));const d=f(t,["referenceImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>Bse(g))),p(e,["instances[0]","referenceImages"],h)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Uae(t,e){const n={},r=f(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=f(t,["fps"]);e!==void 0&&o!=null&&p(e,["parameters","fps"],o);const a=f(t,["durationSeconds"]);e!==void 0&&a!=null&&p(e,["parameters","durationSeconds"],a);const s=f(t,["seed"]);e!==void 0&&s!=null&&p(e,["parameters","seed"],s);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const u=f(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["pubsubTopic"]);e!==void 0&&d!=null&&p(e,["parameters","pubsubTopic"],d);const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const g=f(t,["enhancePrompt"]);e!==void 0&&g!=null&&p(e,["parameters","enhancePrompt"],g);const v=f(t,["generateAudio"]);e!==void 0&&v!=null&&p(e,["parameters","generateAudio"],v);const y=f(t,["lastFrame"]);e!==void 0&&y!=null&&p(e,["instances[0]","lastFrame"],Zn(y));const x=f(t,["referenceImages"]);if(e!==void 0&&x!=null){let _=x;Array.isArray(_)&&(_=_.map(E=>Fse(E))),p(e,["instances[0]","referenceImages"],_)}const w=f(t,["mask"]);e!==void 0&&w!=null&&p(e,["instances[0]","mask"],Use(w));const b=f(t,["compressionQuality"]);return e!==void 0&&b!=null&&p(e,["parameters","compressionQuality"],b),n}function Bae(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],qae(a)),e}function Fae(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],Gae(a)),e}function Vae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],Ch(o));const a=f(e,["video"]);a!=null&&p(n,["instances[0]","video"],Z2(a));const s=f(e,["source"]);s!=null&&Hae(s,n);const l=f(e,["config"]);return l!=null&&Lae(l,n),n}function zae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],Zn(o));const a=f(e,["video"]);a!=null&&p(n,["instances[0]","video"],eN(a));const s=f(e,["source"]);s!=null&&Wae(s,n);const l=f(e,["config"]);return l!=null&&Uae(l,n),n}function qae(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Yae(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function Gae(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Xae(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function Hae(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Ch(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],Z2(o)),n}function Wae(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Zn(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],eN(o)),n}function Kae(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],ose(n));const r=f(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=f(t,["_self"]);return i!=null&&p(e,["safetyAttributes"],J2(i)),e}function Ah(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],K2(n));const r=f(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=f(t,["_self"]);i!=null&&p(e,["safetyAttributes"],Y2(i));const o=f(t,["prompt"]);return o!=null&&p(e,["enhancedPrompt"],o),e}function Jae(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["mask"],K2(n));const r=f(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["labels"],i)}return e}function Yae(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],jse(n)),e}function Xae(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],Lse(n)),e}function Qae(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&p(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const g=f(t,["responseMimeType"]);g!=null&&p(e,["responseMimeType"],g);const v=f(t,["responseModalities"]);v!=null&&p(e,["responseModalities"],v);const y=f(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const x=f(t,["routingConfig"]);x!=null&&p(e,["routingConfig"],x);const w=f(t,["seed"]);w!=null&&p(e,["seed"],w);const b=f(t,["speechConfig"]);b!=null&&p(e,["speechConfig"],X2(b));const _=f(t,["stopSequences"]);_!=null&&p(e,["stopSequences"],_);const E=f(t,["temperature"]);E!=null&&p(e,["temperature"],E);const S=f(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const T=f(t,["topK"]);T!=null&&p(e,["topK"],T);const A=f(t,["topP"]);if(A!=null&&p(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Zae(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],Pe(t,r)),n}function ese(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],Pe(t,r)),n}function tse(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function nse(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function rse(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function ise(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);r!=null&&p(e,["imageSize"],r);const i=f(t,["outputMimeType"]);i!=null&&p(e,["imageOutputOptions","mimeType"],i);const o=f(t,["outputCompressionQuality"]);return o!=null&&p(e,["imageOutputOptions","compressionQuality"],o),e}function ose(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],_i(n));const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function K2(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],_i(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Ch(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],_i(n));const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Zn(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],_i(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function ase(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],B2(t,s)),r}function sse(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],B2(t,s)),r}function lse(t,e){const n={},r=f(e,["config"]);return r!=null&&ase(t,r,n),n}function use(t,e){const n={},r=f(e,["config"]);return r!=null&&sse(t,r,n),n}function cse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=F2(i);Array.isArray(o)&&(o=o.map(a=>xv(a))),p(e,["models"],o)}return e}function dse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=F2(i);Array.isArray(o)&&(o=o.map(a=>_v(a))),p(e,["models"],o)}return e}function fse(t){const e={},n=f(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=f(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const i=f(t,["maskDilation"]);return i!=null&&p(e,["dilation"],i),e}function xv(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const o=f(t,["version"]);o!=null&&p(e,["version"],o);const a=f(t,["_self"]);a!=null&&p(e,["tunedModelInfo"],Pse(a));const s=f(t,["inputTokenLimit"]);s!=null&&p(e,["inputTokenLimit"],s);const l=f(t,["outputTokenLimit"]);l!=null&&p(e,["outputTokenLimit"],l);const u=f(t,["supportedGenerationMethods"]);u!=null&&p(e,["supportedActions"],u);const c=f(t,["temperature"]);c!=null&&p(e,["temperature"],c);const d=f(t,["maxTemperature"]);d!=null&&p(e,["maxTemperature"],d);const h=f(t,["topP"]);h!=null&&p(e,["topP"],h);const g=f(t,["topK"]);g!=null&&p(e,["topK"],g);const v=f(t,["thinking"]);return v!=null&&p(e,["thinking"],v),e}function _v(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const o=f(t,["versionId"]);o!=null&&p(e,["version"],o);const a=f(t,["deployedModels"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>Tae(h))),p(e,["endpoints"],d)}const s=f(t,["labels"]);s!=null&&p(e,["labels"],s);const l=f(t,["_self"]);l!=null&&p(e,["tunedModelInfo"],kse(l));const u=f(t,["defaultCheckpointId"]);u!=null&&p(e,["defaultCheckpointId"],u);const c=f(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),p(e,["checkpoints"],d)}return e}function hse(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],Aae(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],Cae(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],Qoe(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function pse(t){const e={},n=f(t,["productImage"]);return n!=null&&p(e,["image"],Zn(n)),e}function mse(t,e){const n={},r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["baseSteps"]);e!==void 0&&i!=null&&p(e,["parameters","baseSteps"],i);const o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const a=f(t,["seed"]);e!==void 0&&a!=null&&p(e,["parameters","seed"],a);const s=f(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&p(e,["parameters","safetySetting"],s);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const u=f(t,["addWatermark"]);e!==void 0&&u!=null&&p(e,["parameters","addWatermark"],u);const c=f(t,["outputMimeType"]);e!==void 0&&c!=null&&p(e,["parameters","outputOptions","mimeType"],c);const d=f(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","compressionQuality"],d);const h=f(t,["enhancePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h);const g=f(t,["labels"]);return e!==void 0&&g!=null&&p(e,["labels"],g),n}function gse(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["source"]);i!=null&&yse(i,n);const o=f(e,["config"]);return o!=null&&mse(o,n),n}function vse(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ah(i))),p(e,["generatedImages"],r)}return e}function yse(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["personImage"]);e!==void 0&&i!=null&&p(e,["instances[0]","personImage","image"],Zn(i));const o=f(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>pse(s))),p(e,["instances[0]","productImages"],a)}return n}function wse(t){const e={},n=f(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],Zn(n));const r=f(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const i=f(t,["referenceType"]);i!=null&&p(e,["referenceType"],i);const o=f(t,["maskImageConfig"]);o!=null&&p(e,["maskImageConfig"],fse(o));const a=f(t,["controlImageConfig"]);a!=null&&p(e,["controlImageConfig"],oae(a));const s=f(t,["styleImageConfig"]);s!=null&&p(e,["styleImageConfig"],s);const l=f(t,["subjectImageConfig"]);return l!=null&&p(e,["subjectImageConfig"],l),e}function J2(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function Y2(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function bse(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function xse(t){const e={},n=f(t,["image"]);return n!=null&&p(e,["image"],Zn(n)),e}function _se(t,e){const n={},r=f(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const i=f(t,["maxPredictions"]);e!==void 0&&i!=null&&p(e,["parameters","maxPredictions"],i);const o=f(t,["confidenceThreshold"]);e!==void 0&&o!=null&&p(e,["parameters","confidenceThreshold"],o);const a=f(t,["maskDilation"]);e!==void 0&&a!=null&&p(e,["parameters","maskDilation"],a);const s=f(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&p(e,["parameters","binaryColorThreshold"],s);const l=f(t,["labels"]);return e!==void 0&&l!=null&&p(e,["labels"],l),n}function Sse(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["source"]);i!=null&&Tse(i,n);const o=f(e,["config"]);return o!=null&&_se(o,n),n}function Ese(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Jae(i))),p(e,["generatedMasks"],r)}return e}function Tse(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Zn(i));const o=f(t,["scribbleImage"]);return e!==void 0&&o!=null&&p(e,["instances[0]","scribble"],xse(o)),n}function X2(t){const e={},n=f(t,["languageCode"]);n!=null&&p(e,["languageCode"],n);const r=f(t,["voiceConfig"]);if(r!=null&&p(e,["voiceConfig"],r),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Ase(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],Pae(n));const r=f(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function Cse(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],tse(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],nse(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function Q2(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>kae(h))),p(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&p(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function Pse(t){const e={},n=f(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function kse(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function Ise(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function Nse(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function Ose(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","name"],Pe(t,r));const i=f(e,["config"]);return i!=null&&Ise(i,n),n}function Rse(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["config"]);return i!=null&&Nse(i,n),n}function Mse(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&p(e,["parameters","safetySetting"],i);const o=f(t,["personGeneration"]);e!==void 0&&o!=null&&p(e,["parameters","personGeneration"],o);const a=f(t,["includeRaiReason"]);e!==void 0&&a!=null&&p(e,["parameters","includeRaiReason"],a);const s=f(t,["outputMimeType"]);e!==void 0&&s!=null&&p(e,["parameters","outputOptions","mimeType"],s);const l=f(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&p(e,["parameters","outputOptions","compressionQuality"],l);const u=f(t,["enhanceInputImage"]);e!==void 0&&u!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=f(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=f(t,["labels"]);e!==void 0&&d!=null&&p(e,["labels"],d);const h=f(t,["numberOfImages"]);e!==void 0&&h!=null&&p(e,["parameters","sampleCount"],h);const g=f(t,["mode"]);return e!==void 0&&g!=null&&p(e,["parameters","mode"],g),n}function $se(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Pe(t,r));const i=f(e,["image"]);i!=null&&p(n,["instances[0]","image"],Zn(i));const o=f(e,["upscaleFactor"]);o!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=f(e,["config"]);return a!=null&&Mse(a,n),n}function Dse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ah(o))),p(e,["generatedImages"],i)}return e}function jse(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],_i(r));const i=f(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function Lse(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],_i(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Use(t){const e={},n=f(t,["image"]);n!=null&&p(e,["_self"],Zn(n));const r=f(t,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function Bse(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],Ch(n));const r=f(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function Fse(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],Zn(n));const r=f(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function Z2(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["videoBytes"]);r!=null&&p(e,["encodedVideo"],_i(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["encoding"],i),e}function eN(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],_i(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vse="Content-Type",zse="X-Server-Timeout",qse="User-Agent",Sv="x-goog-api-client",Gse="1.30.0",Hse=`google-genai-sdk/${Gse}`,Wse="v1beta1",Kse="v1beta",jE=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Jse{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Wse,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Kse,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&Yse(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await LE(i),new yv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await LE(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return ua(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:s,value:l}=yield qe(i.read());if(s){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(l,{stream:!0});try{const d=JSON.parse(u);if("error"in d){const h=JSON.parse(JSON.stringify(d.error)),g=h.status,v=h.code,y=`got status: ${g}. ${JSON.stringify(d)}`;if(v>=400&&v<600)throw new Eh({message:y,status:v})}}catch(d){if(d.name==="ApiError")throw d}a+=u;let c=a.match(jE);for(;c;){const d=c[1];try{const h=new Response(d,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield qe(new yv(h)),a=a.slice(c[0].length),c=a.match(jE)}catch(h){throw new Error(`exception parsing stream chunk ${d}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Hse+" "+this.clientOptions.userAgentExtra;return e[qse]=n,e[Sv]=n,e[Vse]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(zse,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),c=te("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&r.customMetadata&&(d.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(d.chunkingConfig=r.chunkingConfig);const h=await this.fetchUploadUrl(u,s,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function LE(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Eh({message:i,status:n}):new Error(i)}}function Yse(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xse="mcp_used/unknown";let Qse=!1;function tN(t){for(const e of t)if(Zse(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Qse}function nN(t){var e;const n=(e=t[Sv])!==null&&e!==void 0?e:"";t[Sv]=(n+` ${Xse}`).trimStart()}function Zse(t){return t!==null&&typeof t=="object"&&t instanceof K0}function ele(t,e=100){return ua(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield qe(t.listTools({cursor:r}));for(const a of o.tools)yield yield qe(a),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class K0{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new K0(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,sl(ele(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;a.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Hre(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function tle(t,e,n){const r=new Lre;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class nle{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=ole(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(_=>{u=_}),d=e.callbacks,h=function(){u({})},g=this.apiClient,v={onopen:h,onmessage:_=>{tle(g,d.onmessage,_)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(_){}},y=this.webSocketFactory.create(l,ile(a),v);y.connect(),await c;const b={setup:{model:Pe(this.apiClient,e.model)}};return y.send(JSON.stringify(b)),new rle(y,this.apiClient)}}class rle{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=zoe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Voe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Yo.PLAY)}pause(){this.sendPlaybackControl(Yo.PAUSE)}stop(){this.sendPlaybackControl(Yo.STOP)}resetContext(){this.sendPlaybackControl(Yo.RESET_CONTEXT)}close(){this.conn.close()}}function ile(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function ole(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ale="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function sle(t,e,n){const r=new jre;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=Hoe(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class lle{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new nle(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&tN(e.config.tools)&&nN(d);const h=fle(d);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c);else{const P=this.apiClient.getApiKey();let N="BidiGenerateContent",k="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",k="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${N}?${k}=${P}`}let g=()=>{};const v=new Promise(P=>{g=P}),y=e.callbacks,x=function(){var P;(P=y==null?void 0:y.onopen)===null||P===void 0||P.call(y),g({})},w=this.apiClient,b={onopen:x,onmessage:P=>{sle(w,y.onmessage,P)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(P){}},_=this.webSocketFactory.create(c,dle(h),b);_.connect(),await v;let E=Pe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){const P=this.apiClient.getProject(),N=this.apiClient.getLocation();E=`projects/${P}/locations/${N}/`+E}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[af.AUDIO]}:e.config.responseModalities=[af.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const T=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],A=[];for(const P of T)if(this.isCallableTool(P)){const N=P;A.push(await N.tool())}else A.push(P);A.length>0&&(e.config.tools=A);const C={model:E,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=Foe(this.apiClient,C):S=Boe(this.apiClient,C),delete S.config,_.send(JSON.stringify(S)),new cle(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ule={turnComplete:!0};class cle{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Nn(n.turns),e.isVertexAI()||(r=r.map(i=>Th(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(ale)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},ule),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Goe(e)}:n={realtimeInput:qoe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function dle(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function fle(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UE=10;function BE(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ca(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ca(t){return"callTool"in t&&typeof t.callTool=="function"}function hle(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>ca(i)))!==null&&r!==void 0?r:!1}function FE(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(ca(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function VE(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ple extends Vr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!hle(n)||BE(n.config))return await this.generateContentInternal(l);const u=FE(n);if(u.length>0){const y=u.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let c,d;const h=Nn(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:UE;let v=0;for(;v<g&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const y=c.candidates[0].content,x=[];for(const w of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(ca(w)){const _=await w.callTool(c.functionCalls);x.push(..._)}v++,d={role:"user",parts:x},l.contents=Nn(l.contents),l.contents.push(y),l.contents.push(d),VE(l.config)&&(h.push(y),h.push(d))}return VE(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),BE(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=FE(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new wo(Dr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>ca(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&tN(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),nN(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ca(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:UE;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){var h,g;return ua(this,arguments,function*(){for(var v,y,x,w;s<o;){a&&(s++,a=!1);const S=yield qe(u.processParamsMaybeAddMcpUsage(d)),T=yield qe(u.generateContentStreamInternal(S)),A=[],C=[];try{for(var b=!0,_=(y=void 0,sl(T)),E;E=yield qe(_.next()),v=E.done,!v;b=!0){w=E.value,b=!1;const P=w;if(yield yield qe(P),P.candidates&&(!((h=P.candidates[0])===null||h===void 0)&&h.content)){C.push(P.candidates[0].content);for(const N of(g=P.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(s<o&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(N.functionCall.name)){const k=yield qe(c.get(N.functionCall.name).callTool([N.functionCall]));A.push(...k)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(P){y={error:P}}finally{try{!b&&!v&&(x=_.return)&&(yield qe(x.call(_)))}finally{if(y)throw y.error}}if(A.length>0){a=!0;const P=new $s;P.candidates=[{content:{role:"user",parts:A}}],yield yield qe(P);const N=[];N.push(...C),N.push({role:"user",parts:A});const k=Nn(d.contents).concat(N);d.contents=k}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ME(this.apiClient,e);return s=te("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=DE(c),h=new $s;return Object.assign(h,d),h})}else{const u=RE(this.apiClient,e);return s=te("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=$E(c),h=new $s;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ME(this.apiClient,e);return s=te("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(d){return ua(this,arguments,function*(){var h,g,v,y;try{for(var x=!0,w=sl(d),b;b=yield qe(w.next()),h=b.done,!h;x=!0){y=b.value,x=!1;const _=y,E=DE(yield qe(_.json()));E.sdkHttpResponse={headers:_.headers};const S=new $s;Object.assign(S,E),yield yield qe(S)}}catch(_){g={error:_}}finally{try{!x&&!h&&(v=w.return)&&(yield qe(v.call(w)))}finally{if(g)throw g.error}}})})}else{const u=RE(this.apiClient,e);return s=te("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(d){return ua(this,arguments,function*(){var h,g,v,y;try{for(var x=!0,w=sl(d),b;b=yield qe(w.next()),h=b.done,!h;x=!0){y=b.value,x=!1;const _=y,E=$E(yield qe(_.json()));E.sdkHttpResponse={headers:_.headers};const S=new $s;Object.assign(S,E),yield yield qe(S)}}catch(_){g={error:_}}finally{try{!x&&!h&&(v=w.return)&&(yield qe(v.call(w)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=_ae(this.apiClient,e);return s=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Eae(c),h=new vE;return Object.assign(h,d),h})}else{const u=xae(this.apiClient,e);return s=te("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Sae(c),h=new vE;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=$ae(this.apiClient,e);return s=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=jae(c),h=new yE;return Object.assign(h,d),h})}else{const u=Mae(this.apiClient,e);return s=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Dae(c),h=new yE;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=vae(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=yae(l),c=new Are;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=$se(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Dse(l),c=new Cre;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=gse(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=vse(l),c=new Pre;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Sse(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Ese(l),c=new kre;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ese(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>_v(c))}else{const u=Zae(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>xv(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=use(this.apiClient,e);return s=te("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=dse(c),h=new wE;return Object.assign(h,d),h})}else{const u=lse(this.apiClient,e);return s=te("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=cse(c),h=new wE;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Rse(this.apiClient,e);return s=te("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>_v(c))}else{const u=Ose(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>xv(c))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=hae(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=mae(c),h=new bE;return Object.assign(h,d),h})}else{const u=fae(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=pae(c),h=new bE;return Object.assign(h,d),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=uae(this.apiClient,e);return s=te("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=dae(c),h=new xE;return Object.assign(h,d),h})}else{const u=lae(this.apiClient,e);return s=te("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=cae(c),h=new xE;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=tae(this.apiClient,e);return o=te("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=nae(l),c=new Ire;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=zae(this.apiClient,e);return s=te("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=Fae(c),h=new sf;return Object.assign(h,d),h})}else{const u=Vae(this.apiClient,e);return s=te("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const d=Bae(c),h=new sf;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mle extends Vr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=bre(e);return s=te("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=wre(e);return s=te("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=fre(e);return o=te("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gle(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function vle(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ale(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function yle(t,e,n){const r={},i=f(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=f(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const a=f(e,["uses"]);n!==void 0&&a!=null&&p(n,["uses"],a);const s=f(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],Tle(t,s));const l=f(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function wle(t,e){const n={},r=f(e,["config"]);return r!=null&&p(n,["config"],yle(t,r,n)),n}function ble(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function xle(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _le(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Sle(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Ele(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],W0(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],vle($t(v)));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let T=cs(y);Array.isArray(T)&&(T=T.map(A=>Ple(us(A)))),p(e,["setup","tools"],T)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&p(e,["setup","sessionResumption"],Cle(x));const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&p(e,["setup","inputAudioTranscription"],w);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const E=f(t,["contextWindowCompression"]);e!==void 0&&E!=null&&p(e,["setup","contextWindowCompression"],E);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),n}function Tle(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],Pe(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],Ele(i,n)),n}function Ale(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],ble(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],xle(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],gle(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Cle(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ple(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],_le(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],Sle(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kle(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Ile(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=kle(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Nle extends Vr{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=wle(this.apiClient,e);o=te("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=Ile(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ole(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["displayName"],r),n}function Rle(t){const e={},n=f(t,["config"]);return n!=null&&Ole(n,e),e}function Mle(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function $le(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&Mle(r,e),e}function Dle(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function jle(t,e){const n={},r=f(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["customMetadata"],o)}const i=f(t,["chunkingConfig"]);return e!==void 0&&i!=null&&p(e,["chunkingConfig"],i),n}function Lle(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],Ble(a)),e}function Ule(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["fileName"]);r!=null&&p(e,["fileName"],r);const i=f(t,["config"]);return i!=null&&jle(i,e),e}function Ble(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function Fle(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function Vle(t){const e={},n=f(t,["config"]);return n!=null&&Fle(n,e),e}function zle(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["fileSearchStores"],o)}return e}function qle(t,e){const n={},r=f(t,["mimeType"]);e!==void 0&&r!=null&&p(e,["mimeType"],r);const i=f(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(e,["customMetadata"],s)}const a=f(t,["chunkingConfig"]);return e!==void 0&&a!=null&&p(e,["chunkingConfig"],a),n}function Gle(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["config"]);return r!=null&&qle(r,e),e}function Hle(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wle(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function Kle(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&Wle(r,e),e}function Jle(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function Yle(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function Xle(t){const e={},n=f(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const r=f(t,["config"]);return r!=null&&Yle(r,e),e}function Qle(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zle extends Vr{constructor(e){super(),this.apiClient=e,this.list=async n=>new wo(Dr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Jle(e);return o=te("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Kle(e);i=te("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Xle(e);return o=te("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Qle(l),c=new Nre;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eue extends Vr{constructor(e,n=new Zle(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new wo(Dr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Rle(e);return o=te("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Dle(e);return o=te("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$le(e);i=te("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Vle(e);return o=te("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=zle(l),c=new Ore;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Gle(e);return o=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Hle(l),c=new Rre;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ule(e);return o=te("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Lle(l),c=new V0;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tue(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function nue(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function rue(t,e,n){const r={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&p(e,["displayName"],i),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(t,["epochCount"]);e!==void 0&&o!=null&&p(e,["tuningTask","hyperparameters","epochCount"],o);const a=f(t,["learningRateMultiplier"]);if(a!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=f(t,["batchSize"]);e!==void 0&&s!=null&&p(e,["tuningTask","hyperparameters","batchSize"],s);const l=f(t,["learningRate"]);if(e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","learningRate"],l),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function iue(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=f(t,["validationDataset"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec"],zE(g))}else if(i==="PREFERENCE_TUNING"){const g=f(t,["validationDataset"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec"],zE(g))}const o=f(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&p(e,["tunedModelDisplayName"],o);const a=f(t,["description"]);e!==void 0&&a!=null&&p(e,["description"],a);let s=f(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const g=f(t,["epochCount"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(s==="PREFERENCE_TUNING"){const g=f(t,["epochCount"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=f(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=f(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=f(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=f(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=f(t,["adapterSize"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(c==="PREFERENCE_TUNING"){const g=f(t,["adapterSize"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=f(t,["labels"]);e!==void 0&&d!=null&&p(e,["labels"],d);const h=f(t,["beta"]);return e!==void 0&&h!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function oue(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&gue(o);const a=f(t,["config"]);return a!=null&&rue(a,n),n}function aue(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&vue(o,n,e);const a=f(t,["config"]);return a!=null&&iue(a,n,e),n}function sue(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function lue(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function uue(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function cue(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function due(t,e){const n={},r=f(t,["config"]);return r!=null&&uue(r,n),n}function fue(t,e){const n={},r=f(t,["config"]);return r!=null&&cue(r,n),n}function hue(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>rN(s))),p(n,["tuningJobs"],a)}return n}function pue(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Ev(s))),p(n,["tuningJobs"],a)}return n}function mue(t,e){const n={},r=f(t,["name"]);r!=null&&p(n,["model"],r);const i=f(t,["name"]);return i!=null&&p(n,["endpoint"],i),n}function gue(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function vue(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function rN(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],L2(o));const a=f(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(t,["tuningTask","startTime"]);s!=null&&p(n,["startTime"],s);const l=f(t,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["description"]);c!=null&&p(n,["description"],c);const d=f(t,["baseModel"]);d!=null&&p(n,["baseModel"],d);const h=f(t,["_self"]);return h!=null&&p(n,["tunedModel"],mue(h)),n}function Ev(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],L2(o));const a=f(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(t,["startTime"]);s!=null&&p(n,["startTime"],s);const l=f(t,["endTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["error"]);c!=null&&p(n,["error"],c);const d=f(t,["description"]);d!=null&&p(n,["description"],d);const h=f(t,["baseModel"]);h!=null&&p(n,["baseModel"],h);const g=f(t,["tunedModel"]);g!=null&&p(n,["tunedModel"],g);const v=f(t,["preTunedModel"]);v!=null&&p(n,["preTunedModel"],v);const y=f(t,["supervisedTuningSpec"]);y!=null&&p(n,["supervisedTuningSpec"],y);const x=f(t,["preferenceOptimizationSpec"]);x!=null&&p(n,["preferenceOptimizationSpec"],x);const w=f(t,["tuningDataStats"]);w!=null&&p(n,["tuningDataStats"],w);const b=f(t,["encryptionSpec"]);b!=null&&p(n,["encryptionSpec"],b);const _=f(t,["partnerModelTuningSpec"]);_!=null&&p(n,["partnerModelTuningSpec"],_);const E=f(t,["customBaseModel"]);E!=null&&p(n,["customBaseModel"],E);const S=f(t,["experiment"]);S!=null&&p(n,["experiment"],S);const T=f(t,["labels"]);T!=null&&p(n,["labels"],T);const A=f(t,["outputUri"]);A!=null&&p(n,["outputUri"],A);const C=f(t,["pipelineJob"]);C!=null&&p(n,["pipelineJob"],C);const P=f(t,["serviceAccount"]);P!=null&&p(n,["serviceAccount"],P);const N=f(t,["tunedModelDisplayName"]);N!=null&&p(n,["tunedModelDisplayName"],N);const k=f(t,["veoTuningSpec"]);return k!=null&&p(n,["veoTuningSpec"],k),n}function yue(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(t,["done"]);a!=null&&p(n,["done"],a);const s=f(t,["error"]);return s!=null&&p(n,["error"],s),n}function zE(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=f(t,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wue extends Vr{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new wo(Dr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:vv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=lue(e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Ev(c))}else{const u=sue(e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>rN(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=fue(e);return s=te("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=pue(c),h=new _E;return Object.assign(h,d),h})}else{const u=due(e);return s=te("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=hue(c),h=new _E;return Object.assign(h,d),h})}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=nue(e);a=te("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=tue(e);a=te("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=aue(e,e);return o=te("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Ev(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=oue(e);return o=te("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>yue(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bue{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const xue=1024*1024*8,_ue=3,Sue=1e3,Eue=2,uf="x-goog-upload-status";async function Tue(t,e,n){var r;const i=await iN(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[uf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Aue(t,e,n){var r;const i=await iN(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[uf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=O2(o),s=new z0;return Object.assign(s,a),s}async function iN(t,e,n){var r,i;let o=0,a=0,s=new yv(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min(xue,o-a),c=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let d=0,h=Sue;for(;d<_ue&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[uf]));)d++,await Pue(h),h=h*Eue;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[uf])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function Cue(t){return{size:t.size,type:t.type}}function Pue(t){return new Promise(e=>setTimeout(e,t))}class kue{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Tue(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Aue(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Cue(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Iue{create(e,n,r){return new Nue(e,n,r)}}class Nue{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qE="x-goog-api-key";class Oue{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(qE)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(qE,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rue="gl-node/";class Mue{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=cre(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Oue(this.apiKey);this.apiClient=new Jse({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Rue+"web",uploader:new kue,downloader:new bue}),this.models=new ple(this.apiClient),this.live=new lle(this.apiClient,i,new Iue),this.batches=new Uie(this.apiClient),this.chats=new boe(this.models,this.apiClient),this.caches=new voe(this.apiClient),this.files=new Ioe(this.apiClient),this.operations=new mle(this.apiClient),this.authTokens=new Nle(this.apiClient),this.tunings=new wue(this.apiClient),this.fileSearchStores=new eue(this.apiClient)}}var GE={};const $ue=async t=>{if(!GE.API_KEY)return"API key not configured. Please set the API_KEY environment variable.";try{return(await new Mue({apiKey:GE.API_KEY}).models.generateContent({model:"gemini-2.5-flash",contents:t,config:{systemInstruction:"You are an expert business analyst for a POS system. Provide concise, data-driven insights based on the user's query. Format your response as clean markdown."}})).text}catch(e){return console.error("Gemini API error:",e),"Sorry, I couldn't fetch insights at the moment. Please try again later."}},Due=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5L12 3m0 0l7.5 7.5M12 3v18"})}),jue=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5L12 21m0 0l-7.5-7.5M12 21V3"})}),Ds=({title:t,value:e,change:n,changeType:r,icon:i})=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-neutral-500 dark:text-neutral-400",children:t}),m.jsx("p",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100 mt-2",children:e}),m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsxs("span",{className:`flex items-center text-xs font-semibold ${r==="increase"?"text-green-500":"text-red-500"}`,children:[r==="increase"?m.jsx(Due,{className:"w-3 h-3 mr-1"}):m.jsx(jue,{className:"w-3 h-3 mr-1"}),n]}),m.jsx("span",{className:"text-xs text-neutral-400 ml-1",children:"vs last month"})]})]}),m.jsx("div",{className:"bg-primary-100 dark:bg-primary-900/50 text-primary-600 dark:text-primary-400 p-3 rounded-full",children:i})]}),Lue=()=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Sales Overview"}),m.jsx("div",{style:{width:"100%",height:300},children:m.jsx(r0,{children:m.jsxs(ire,{data:d$,children:[m.jsx(U0,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.2)"}),m.jsx(ss,{dataKey:"name",tick:{fill:"#94a3b8"}}),m.jsx(ls,{tick:{fill:"#94a3b8"}}),m.jsx(Sn,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"0.5rem"}}),m.jsx(di,{wrapperStyle:{color:"#94a3b8"}}),m.jsx(Tu,{type:"monotone",dataKey:"sales",stroke:"#4f46e5",strokeWidth:2,activeDot:{r:8}})]})})})]}),Uue=()=>{const t=["#4f46e5","#6366f1","#818cf8","#a5b4fc"];return m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Top Selling Products"}),m.jsx("div",{style:{width:"100%",height:300},className:"flex items-center justify-center",children:m.jsx(r0,{children:m.jsxs(are,{children:[m.jsx(Fr,{data:yb,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:yb.map((e,n)=>m.jsx(Zf,{fill:t[n%t.length]},`cell-${n}`))}),m.jsx(Sn,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"0.5rem"}}),m.jsx(di,{wrapperStyle:{color:"#94a3b8"}})]})})})]})},Bue=()=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Recent Activity"}),m.jsx("ul",{className:"space-y-4",children:f$.map(t=>m.jsxs("li",{className:"flex items-center",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/50 flex items-center justify-center mr-4",children:m.jsx("span",{className:"text-sm font-bold text-primary-600 dark:text-primary-300",children:t.user.charAt(0)})}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-sm text-neutral-700 dark:text-neutral-200",children:[m.jsx("span",{className:"font-semibold",children:t.user})," ",t.action.toLowerCase()]}),m.jsx("p",{className:"text-xs text-neutral-400",children:new Date(t.timestamp).toLocaleTimeString()})]})]},t.id))})]}),Fue=({products:t,sales:e})=>{const[n,r]=I.useState(""),[i,o]=I.useState(""),[a,s]=I.useState(!1),l=async()=>{if(!n.trim())return;s(!0);const c=`${`Context: ${t.length} products in inventory, ${e.length} total sales records.`}
${n}`,d=await $ue(c);o(d),s(!1)};return m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsxs("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4 flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 mr-2 text-primary-500",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.553L16.5 21.75l-.398-1.197a3.375 3.375 0 00-2.456-2.456L12.75 18l1.197-.398a3.375 3.375 0 002.456-2.456L17.25 14.25l.398 1.197a3.375 3.375 0 002.456 2.456L21 18l-1.197.398a3.375 3.375 0 00-2.456 2.456z"})}),"AI-Powered Insights"]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),placeholder:"e.g., 'Summarize today's performance'",className:"flex-grow bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:outline-none",disabled:a}),m.jsx("button",{onClick:l,disabled:a,className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 disabled:bg-primary-400 disabled:cursor-not-allowed transition-colors",children:a?"Thinking...":"Ask"})]}),i&&m.jsx("div",{className:"mt-4 p-4 bg-neutral-50 dark:bg-neutral-900 rounded-lg prose prose-sm dark:prose-invert max-w-none",children:m.jsx("p",{children:i})})]})},Vue=({products:t})=>{const e=t.filter(r=>typeof r.lowStockThreshold<"u"&&r.stock<=r.lowStockThreshold).sort((r,i)=>r.stock-i.stock),n=r=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...r,children:m.jsx("path",{fillRule:"evenodd",d:"M8.485 3.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 3.495zM10 6a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 6zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})});return m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md h-full",children:[m.jsxs("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4 flex items-center",children:[m.jsx(n,{className:"h-6 w-6 mr-2 text-yellow-500"}),"Low Stock Alerts"]}),e.length>0?m.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:e.map(r=>m.jsxs("li",{className:"flex justify-between items-center text-sm p-2 rounded-md bg-neutral-50 dark:bg-neutral-700/50",children:[m.jsx("span",{className:"text-neutral-700 dark:text-neutral-200 font-medium",children:r.name}),m.jsxs("span",{className:"font-semibold text-red-500",children:[r.stock," ",r.unit||"items"," left"]})]},r.id))}):m.jsxs("div",{className:"text-center text-neutral-500 dark:text-neutral-400 py-8 flex flex-col items-center justify-center h-full",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mb-2 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("p",{children:"All stock levels are healthy."})]})]})},{ChartBarIcon:zue,UsersIcon:que,CubeIcon:Gue,ShoppingCartIcon:Hue,KeyIcon:Wue}=cr,Kue=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0"})}),Jue=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Yue=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z",clipRule:"evenodd"})}),Xue=({isOpen:t,onClose:e,userWidgets:n,onWidgetChange:r,t:i})=>t?m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-md",children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700",children:[m.jsx("h3",{className:"text-lg font-semibold",children:"Customize Dashboard"}),m.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:m.jsx(Jue,{className:"w-6 h-6"})})]}),m.jsx("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto",children:i$.map(o=>m.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-neutral-50 dark:bg-neutral-700/50",children:[m.jsx("span",{className:"font-medium text-neutral-800 dark:text-neutral-100",children:i(o.name)}),m.jsx("input",{type:"checkbox",checked:!!n[o.id],onChange:a=>r(o.id,a.target.checked),className:"h-5 w-5 rounded border-neutral-300 text-primary-600 focus:ring-primary-500"})]},o.id))}),m.jsx("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700",children:m.jsx("button",{onClick:e,className:"bg-primary-600 text-white font-semibold px-5 py-2.5 rounded-lg hover:bg-primary-700 transition-colors",children:"Done"})})]})}):null,Que=({featureName:t})=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md h-full flex flex-col items-center justify-center text-center relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-neutral-50 dark:bg-neutral-700/30 opacity-50"}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("div",{className:"w-12 h-12 bg-neutral-200 dark:bg-neutral-700 text-neutral-400 dark:text-neutral-500 rounded-full flex items-center justify-center mx-auto mb-3",children:m.jsx(Yue,{className:"w-6 h-6"})}),m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-1",children:t}),m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"This feature is available in Premium & Enterprise plans."}),m.jsx("button",{className:"mt-4 text-sm font-semibold bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Upgrade Now"})]})]}),Zue=({products:t,sales:e,user:n,onWidgetChange:r,formatCurrency:i,t:o,activeLicense:a,licenseKeys:s})=>{var v;const[l,u]=O.useState(!1),{dashboardWidgets:c}=n,d=Object.values(c).filter(Boolean).length,h=s.length,g=s.filter(y=>y.status==="Active").length;return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:o("Dashboard")}),m.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-white dark:bg-neutral-700/80 border border-neutral-200 dark:border-neutral-600 text-neutral-700 dark:text-neutral-200 font-semibold px-4 py-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-600 transition-colors",children:[m.jsx(Kue,{className:"w-5 h-5"}),"Customize"]})]}),d===0&&m.jsxs("div",{className:"text-center py-20 bg-white dark:bg-neutral-800 rounded-lg shadow-md",children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Your dashboard is empty!"}),m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 mt-2",children:'Click the "Customize" button to add widgets.'})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.totalRevenue&&m.jsx(Ds,{title:o("Total Revenue"),value:i(75231.89),change:"+12.5%",changeType:"increase",icon:m.jsx(zue,{className:"w-6 h-6"})}),c.newCustomers&&m.jsx(Ds,{title:o("New Customers"),value:"1,204",change:"+8.2%",changeType:"increase",icon:m.jsx(que,{className:"w-6 h-6"})}),c.productsSold&&m.jsx(Ds,{title:o("Products Sold"),value:"5,890",change:"-1.7%",changeType:"decrease",icon:m.jsx(Gue,{className:"w-6 h-6"})}),c.todaysTransactions&&m.jsx(Ds,{title:o("Todays Transactions"),value:"23",change:"+5",changeType:"increase",icon:m.jsx(Hue,{className:"w-6 h-6"})}),c.licenseActivations&&m.jsx(Ds,{title:o("License Activations"),value:`${g} / ${h}`,change:`${h>0?(g/h*100).toFixed(0):0}% Active`,changeType:"increase",icon:m.jsx(Wue,{className:"w-6 h-6"})})]}),(c.salesOverview||c.topProducts)&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.salesOverview&&m.jsx("div",{className:"lg:col-span-2",children:m.jsx(Lue,{})}),c.topProducts&&m.jsx("div",{className:c.salesOverview?"":"lg:col-span-3",children:m.jsx(Uue,{})})]}),(c.recentActivity||c.lowStockAlerts||c.aiInsights)&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(c.recentActivity||c.lowStockAlerts)&&m.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.recentActivity&&m.jsx(Bue,{}),c.lowStockAlerts&&m.jsx(Vue,{products:t})]}),c.aiInsights&&m.jsx("div",{className:c.recentActivity||c.lowStockAlerts?"lg:col-span-2":"lg:col-span-3",children:(v=a==null?void 0:a.enabledFeatures)!=null&&v.includes("AI_INSIGHTS")?m.jsx(Fue,{products:t,sales:e}):m.jsx(Que,{featureName:"AI-Powered Insights"})})]}),m.jsx(Xue,{isOpen:l,onClose:()=>u(!1),userWidgets:c,onWidgetChange:r,t:o})]})},{BanknotesIcon:ece,TagIcon:tce,UserGroupIcon:HE,ChatBubbleLeftRightIcon:nce,PrinterIcon:rce,ShoppingCartIcon:ice,CubeIcon:WE}=cr,oce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),KE=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m6-6H6"})}),ace=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12H6"})}),Lp=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),sce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),lce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),uce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})}),cce=({user:t,customers:e,products:n,onAddSale:r,onAddCustomer:i,heldCarts:o,setHeldCarts:a,formatCurrency:s,t:l,businessName:u})=>{const[c,d]=O.useState([]),[h,g]=O.useState(""),[v,y]=O.useState(null),[x,w]=O.useState(!1),[b,_]=O.useState(!1),[E,S]=O.useState(!1),[T,A]=O.useState(!1),[C,P]=O.useState(!1),[N,k]=O.useState(!1),[R,j]=O.useState(null),[V,F]=O.useState(""),[M,L]=O.useState("Cash"),[$,U]=O.useState(""),[B,W]=O.useState(""),[H,X]=O.useState(!1),[le,we]=O.useState(null),[be,Be]=O.useState("percentage"),[Ye,Z]=O.useState(""),[ue,de]=O.useState(""),[D,fe]=O.useState(!1),[ie,_e]=O.useState({name:"",phone:"",email:""}),Se=O.useMemo(()=>n.filter(q=>q.name.toLowerCase().includes(h.toLowerCase())||q.sku.toLowerCase().includes(h.toLowerCase())),[n,h]),We=O.useMemo(()=>ue?e.filter(q=>q.name.toLowerCase().includes(ue.toLowerCase())||q.phone.includes(ue)):[],[e,ue]),vt=q=>{let ae=q.price;return q.discountType==="percentage"&&q.discountValue?ae=ae-ae*(q.discountValue/100):q.discountType==="amount"&&q.discountValue&&(ae=ae-q.discountValue),Math.max(0,ae)},St=O.useMemo(()=>c.reduce((q,ae)=>q+vt(ae)*ae.quantity,0),[c]),jt=O.useMemo(()=>{if(H&&v){const q=v.loyaltyPoints*mb;return Math.min(q,St)}return 0},[H,v,St]),lt=(St-jt)*.08,Et=St-jt+lt,hr=q=>{if(q.stock<=0){alert(l("Out of Stock"));return}d(ae=>{const K=ae.find(G=>G.id===q.id);return K?K.quantity>=q.stock?(alert(l("Stock Limit Exceeded")),ae):ae.map(G=>G.id===q.id?{...G,quantity:G.quantity+1}:G):[...ae,{...q,quantity:1}]})},Te=(q,ae)=>{d(K=>K.map(G=>{if(G.id===q){const Q=G.quantity+ae,ee=n.find(Fe=>Fe.id===q);return ee&&ae>0&&Q>ee.stock?(alert(l("Stock Limit Exceeded")),G):{...G,quantity:Math.max(1,Q)}}return G}))},ms=q=>{d(ae=>ae.filter(K=>K.id!==q))},Ei=()=>{d([]),y(null),de(""),X(!1)},gs=q=>{var K;we(q);const ae=c[q];Be(ae.discountType||"percentage"),Z(((K=ae.discountValue)==null?void 0:K.toString())||""),k(!0)},Cu=()=>{if(le!==null){const q=parseFloat(Ye);d(ae=>ae.map((K,G)=>G===le?{...K,discountType:be,discountValue:isNaN(q)?0:q}:K)),k(!1),we(null)}},Ih=q=>{y(q),de(q.name),W(q.phone),fe(!1)},Pu=q=>{q.preventDefault();const ae=i({...ie,loyaltyPoints:0,dueAmount:0,creditLimit:500});y(ae),de(ae.name),W(ae.phone),P(!1),_e({name:"",phone:"",email:""})},Nh=()=>{if(c.length===0)return;const q={id:`hc${Date.now()}`,items:c,customer:v,timestamp:new Date().toISOString(),note:$};a(ae=>[q,...ae]),Ei(),S(!1),U("")},Oh=q=>{d(q.items),y(q.customer),q.customer&&de(q.customer.name),a(ae=>ae.filter(K=>K.id!==q.id)),A(!1)},tn=q=>{a(ae=>ae.filter(K=>K.id!==q))},jn=()=>{F(Et.toFixed(2)),w(!0)},Rh=()=>{const q=parseFloat(V),ae=M==="Credit",K=!ae&&q<Et;if(ae){if(!v){alert("Cannot process credit sale without a customer.");return}const ee=v.dueAmount+Et;if(v.creditLimit&&ee>v.creditLimit){alert(`Credit limit exceeded! Limit: ${s(v.creditLimit)}, Current Due: ${s(v.dueAmount)}, New Total Due would be: ${s(ee)}`);return}}const G=ae?"Credit":K?"Partial":M,Q={id:"temp",total:Et,date:"temp",cashier:t.name,cashierId:t.id,items:c.reduce((ee,Fe)=>ee+Fe.quantity,0),customerId:(v==null?void 0:v.id)||"guest",customerName:(v==null?void 0:v.name)||"Guest",amountPaid:ae?0:q,paymentMethod:G,organizationId:t.organizationId};r(Q),j(Q),w(!1),_(!0),Ei()},Mh=()=>{if(!R)return;const q=c.map(K=>`${K.quantity}x ${K.name} (${s(vt(K))})`).join("%0a"),ae=`*Invoice from ${u}*%0aDate: ${new Date().toLocaleDateString()}%0a%0a${q}%0a%0a*Total: ${s(R.total)}*%0aThank you for your business!`;window.open(`https://wa.me/${B}?text=${ae}`,"_blank")},$h=()=>{window.print()},ku=q=>{if(q.key==="Enter"){const ae=h.trim().toLowerCase();if(!ae)return;const K=n.find(Q=>Q.sku.toLowerCase()===ae);if(K){hr(K),g("");return}const G=n.find(Q=>Q.name.toLowerCase()===ae);if(G){hr(G),g("");return}Se.length===1&&(hr(Se[0]),g(""))}};return m.jsxs("div",{className:"flex flex-col h-full md:flex-row gap-6 overflow-hidden",children:[m.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white dark:bg-neutral-800 rounded-xl shadow-md",children:[m.jsx("div",{className:"p-4 border-b dark:border-neutral-700 flex flex-col gap-3",children:m.jsxs("div",{className:"relative",children:[m.jsx(oce,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),m.jsx("input",{type:"text",placeholder:l("Search"),value:h,onChange:q=>g(q.target.value),onKeyDown:ku,autoFocus:!0,className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg pl-10 pr-4 py-3 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:m.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[Se.map(q=>{const ae=q.stock<=0;return m.jsxs("div",{onClick:()=>!ae&&hr(q),className:`bg-neutral-50 dark:bg-neutral-700/50 p-3 rounded-lg border border-neutral-200 dark:border-neutral-700 transition-all flex flex-col items-center text-center group ${ae?"opacity-60 cursor-not-allowed bg-neutral-200 dark:bg-neutral-800":"cursor-pointer hover:shadow-md hover:border-primary-300"}`,children:[m.jsx("div",{className:"w-20 h-20 mb-3 rounded-md bg-white dark:bg-neutral-600 flex items-center justify-center overflow-hidden",children:q.imageUrl?m.jsx("img",{src:q.imageUrl,alt:q.name,className:`w-full h-full object-cover ${ae?"grayscale":""}`}):m.jsx(WE,{className:"w-8 h-8 text-neutral-300 group-hover:text-primary-500 transition-colors"})}),m.jsx("h3",{className:"font-semibold text-sm text-neutral-800 dark:text-neutral-100 line-clamp-2",children:q.name}),m.jsx("p",{className:"text-primary-600 dark:text-primary-400 font-bold mt-1",children:s(q.price)}),m.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:[q.stock," in stock"]}),ae&&m.jsx("span",{className:"text-xs font-bold text-red-500 mt-1",children:l("Out of Stock")})]},q.id)}),Se.length===0&&m.jsx("div",{className:"col-span-full text-center py-10 text-neutral-500",children:"No products found."})]})})]}),m.jsxs("div",{className:"w-full md:w-96 flex flex-col bg-white dark:bg-neutral-800 rounded-xl shadow-md h-full overflow-hidden",children:[m.jsxs("div",{className:"p-4 border-b dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-700/30",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h2",{className:"font-bold text-lg",children:l("Current Order")}),m.jsxs("div",{className:"flex gap-1",children:[o.length>0&&m.jsxs("button",{onClick:()=>A(!0),className:"relative p-2 text-primary-600 hover:bg-primary-50 rounded-full",title:"View Held Orders",children:[m.jsx(lce,{className:"w-5 h-5"}),m.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 rounded-full"})]}),m.jsx("button",{onClick:()=>c.length>0&&S(!0),disabled:c.length===0,className:"text-xs font-medium bg-amber-100 text-amber-800 px-2 py-1 rounded hover:bg-amber-200 disabled:opacity-50",children:l("Hold")}),m.jsx("button",{onClick:Ei,className:"text-xs font-medium bg-red-100 text-red-800 px-2 py-1 rounded hover:bg-red-200",children:l("Clear Cart")})]})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"relative flex-grow",children:[m.jsx(HE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400"}),m.jsx("input",{type:"text",placeholder:"Walk-in Customer",value:ue,onChange:q=>{de(q.target.value),fe(!0),q.target.value===""&&y(null)},className:"w-full text-sm bg-white dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded-lg pl-9 pr-8 py-2 focus:ring-1 focus:ring-primary-500 focus:outline-none"}),v&&m.jsx("button",{onClick:()=>{y(null),de("")},className:"absolute right-2 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-red-500",children:m.jsx(sce,{className:"w-4 h-4"})})]}),m.jsx("button",{onClick:()=>P(!0),className:"bg-primary-600 text-white p-2 rounded-lg hover:bg-primary-700",children:m.jsx(KE,{className:"w-5 h-5"})})]}),D&&We.length>0&&m.jsx("div",{className:"absolute top-full left-0 right-0 z-20 mt-1 bg-white dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:We.map(q=>m.jsxs("div",{onClick:()=>Ih(q),className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-600 cursor-pointer border-b border-neutral-100 dark:border-neutral-600 last:border-0",children:[m.jsx("p",{className:"font-semibold text-sm text-neutral-800 dark:text-neutral-200",children:q.name}),m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:q.phone})]},q.id))})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:c.length===0?m.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-neutral-400",children:[m.jsx(ice,{className:"w-12 h-12 mb-2 opacity-50"}),m.jsx("p",{children:"Cart is empty"})]}):c.map((q,ae)=>{const K=vt(q),G=K<q.price;return m.jsxs("div",{className:"flex items-center gap-3 bg-neutral-50 dark:bg-neutral-700/30 p-2 rounded-lg border border-neutral-100 dark:border-neutral-700/50",children:[m.jsx("div",{className:"w-12 h-12 bg-white dark:bg-neutral-600 rounded-md flex items-center justify-center flex-shrink-0 overflow-hidden border border-neutral-200 dark:border-neutral-600",children:q.imageUrl?m.jsx("img",{src:q.imageUrl,alt:q.name,className:"w-full h-full object-cover"}):m.jsx(WE,{className:"w-6 h-6 text-neutral-300"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"text-sm font-medium truncate text-neutral-800 dark:text-neutral-100",children:q.name}),m.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[G&&m.jsx("span",{className:"text-neutral-400 line-through",children:s(q.price)}),m.jsx("span",{className:"font-semibold text-primary-600 dark:text-primary-400",children:s(K)}),G&&m.jsx("span",{className:"text-green-600 bg-green-100 dark:bg-green-900/50 px-1 rounded text-[10px]",children:q.discountType==="percentage"?`-${q.discountValue}%`:`-${s(q.discountValue||0)}`})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"flex items-center bg-white dark:bg-neutral-700 rounded border border-neutral-300 dark:border-neutral-600",children:[m.jsx("button",{onClick:()=>q.quantity>1?Te(q.id,-1):ms(q.id),className:"p-1 hover:bg-neutral-100 dark:hover:bg-neutral-600 text-neutral-600 dark:text-neutral-300",children:m.jsx(ace,{className:"w-3 h-3"})}),m.jsx("span",{className:"w-6 text-center text-sm font-medium",children:q.quantity}),m.jsx("button",{onClick:()=>Te(q.id,1),className:"p-1 hover:bg-neutral-100 dark:hover:bg-neutral-600 text-neutral-600 dark:text-neutral-300",children:m.jsx(KE,{className:"w-3 h-3"})})]}),m.jsx("button",{onClick:()=>gs(ae),className:`p-1.5 rounded ${G?"bg-green-100 text-green-700":"bg-neutral-200 text-neutral-600"} hover:opacity-80`,title:"Apply Discount",children:m.jsx(tce,{className:"w-4 h-4"})})]})]},`${q.id}-${ae}`)})}),m.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-700/30 border-t dark:border-neutral-700 space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm text-neutral-600 dark:text-neutral-400",children:[m.jsx("span",{children:l("Subtotal")}),m.jsx("span",{children:s(St)})]}),H&&jt>0&&m.jsxs("div",{className:"flex justify-between text-sm text-green-600 font-medium",children:[m.jsx("span",{children:"Loyalty Discount"}),m.jsxs("span",{children:["-",s(jt)]})]}),m.jsxs("div",{className:"flex justify-between text-sm text-neutral-600 dark:text-neutral-400",children:[m.jsxs("span",{children:[l("Tax")," (8%)"]}),m.jsx("span",{children:s(lt)})]}),m.jsxs("div",{className:"flex justify-between text-xl font-bold text-neutral-900 dark:text-neutral-100 pt-2 border-t border-neutral-200 dark:border-neutral-700",children:[m.jsx("span",{children:l("Total")}),m.jsx("span",{children:s(Et)})]}),m.jsxs("button",{onClick:jn,disabled:c.length===0,className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:[l("Charge")," ",s(Et)]})]})]}),x&&m.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center p-4 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-2xl w-full max-w-md overflow-hidden",children:[m.jsxs("div",{className:"bg-primary-600 p-4 flex justify-between items-center",children:[m.jsx("h3",{className:"text-white font-bold text-lg",children:"Payment"}),m.jsx("button",{onClick:()=>w(!1),className:"text-primary-200 hover:text-white",children:m.jsx(Lp,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:"Total Amount Due"}),m.jsx("p",{className:"text-4xl font-bold text-neutral-800 dark:text-neutral-100",children:s(Et)})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[m.jsxs("button",{onClick:()=>L("Cash"),className:`flex flex-col items-center justify-center p-3 rounded-lg border ${M==="Cash"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"}`,children:[m.jsx(ece,{className:"w-6 h-6 mb-1"}),m.jsx("span",{className:"text-xs font-semibold",children:"Cash"})]}),m.jsxs("button",{onClick:()=>L("Card"),className:`flex flex-col items-center justify-center p-3 rounded-lg border ${M==="Card"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"}`,children:[m.jsx(uce,{className:"w-6 h-6 mb-1"}),m.jsx("span",{className:"text-xs font-semibold",children:"Card"})]}),m.jsxs("button",{onClick:()=>L("Credit"),disabled:!v,className:`flex flex-col items-center justify-center p-3 rounded-lg border ${M==="Credit"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"} ${v?"":"opacity-50 cursor-not-allowed"}`,children:[m.jsx(HE,{className:"w-6 h-6 mb-1"}),m.jsx("span",{className:"text-xs font-semibold",children:"Credit"})]})]}),v&&v.loyaltyPoints>0&&m.jsxs("div",{className:"mb-4 p-3 bg-neutral-50 dark:bg-neutral-700 rounded-lg flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"flex items-center justify-center w-6 h-6 bg-yellow-100 text-yellow-600 rounded-full text-xs font-bold",children:""}),m.jsxs("div",{className:"text-sm",children:[m.jsxs("p",{className:"font-semibold",children:[v.loyaltyPoints," Points"]}),m.jsxs("p",{className:"text-xs text-neutral-500",children:["Value: ",s(v.loyaltyPoints*mb)]})]})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:H,onChange:q=>X(q.target.checked),className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-neutral-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-primary-600"})]})]}),M==="Cash"&&m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount Received"}),m.jsx("input",{type:"number",value:V,onChange:q=>F(q.target.value),className:"w-full text-xl p-3 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:outline-none",autoFocus:!0}),parseFloat(V)>Et&&m.jsxs("div",{className:"mt-2 text-right text-green-600 font-bold",children:["Change: ",s(parseFloat(V)-Et)]})]}),m.jsx("button",{onClick:Rh,className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors text-lg",children:"Confirm Payment"})]})]})}),b&&R&&m.jsxs("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center p-4 backdrop-blur-sm print:hidden",children:[m.jsx("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-2xl w-full max-w-sm overflow-hidden",children:m.jsxs("div",{className:"p-6 text-center",children:[m.jsxs("div",{className:"w-16 h-16 bg-green-100 text-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:[m.jsx(Lp,{className:"w-8 h-8 rotate-45"})," "]}),m.jsx("h3",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:l("Payment Success")}),m.jsxs("p",{className:"text-neutral-500 mt-1",children:["Invoice #",R.id]}),m.jsxs("div",{className:"my-6 py-4 border-y border-dashed border-neutral-300 dark:border-neutral-600",children:[m.jsxs("div",{className:"flex justify-between mb-2 text-sm",children:[m.jsx("span",{children:"Amount Paid"}),m.jsx("span",{className:"font-bold",children:s(R.amountPaid)})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{children:"Change"}),m.jsx("span",{className:"font-bold",children:s(Math.max(0,parseFloat(V||"0")-R.total))})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("button",{onClick:$h,className:"w-full flex items-center justify-center gap-2 bg-neutral-800 text-white py-3 rounded-lg hover:bg-neutral-900 font-semibold",children:[m.jsx(rce,{className:"w-5 h-5"}),"Print Receipt"]}),m.jsxs("button",{onClick:Mh,className:"w-full flex items-center justify-center gap-2 bg-green-500 text-white py-3 rounded-lg hover:bg-green-600 font-semibold",children:[m.jsx(nce,{className:"w-5 h-5"}),"WhatsApp Invoice"]}),m.jsx("button",{onClick:()=>_(!1),className:"w-full py-3 text-neutral-500 hover:text-neutral-800 font-medium",children:"New Sale"})]})]})}),m.jsx("div",{className:"hidden print:block print:fixed print:inset-0 print:bg-white print:p-4 text-black",children:m.jsxs("div",{className:"text-center font-mono text-sm",children:[m.jsx("h1",{className:"text-xl font-bold mb-2",children:u}),m.jsxs("p",{children:["Date: ",new Date().toLocaleString()]}),m.jsxs("p",{children:["Sale ID: ",R.id]}),m.jsxs("p",{children:["Cashier: ",R.cashier]}),m.jsx("div",{className:"border-b border-black my-2"}),m.jsx("div",{className:"text-left",children:m.jsxs("p",{children:["Total Items: ",R.items]})}),m.jsx("div",{className:"border-b border-black my-2"}),m.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[m.jsx("span",{children:"Total"}),m.jsx("span",{children:s(R.total)})]}),m.jsx("p",{className:"mt-4",children:"Thank you!"})]})})]}),N&&le!==null&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-xs shadow-xl",children:[m.jsx("h3",{className:"font-bold text-lg mb-4",children:"Apply Discount"}),m.jsxs("div",{className:"flex gap-2 mb-4",children:[m.jsx("button",{onClick:()=>Be("percentage"),className:`flex-1 py-2 rounded text-sm font-medium ${be==="percentage"?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600"}`,children:"Percentage (%)"}),m.jsx("button",{onClick:()=>Be("amount"),className:`flex-1 py-2 rounded text-sm font-medium ${be==="amount"?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600"}`,children:"Fixed ($)"})]}),m.jsx("input",{type:"number",value:Ye,onChange:q=>Z(q.target.value),placeholder:"Value",className:"w-full border border-neutral-300 rounded-lg p-2 mb-4",autoFocus:!0}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),m.jsx("button",{onClick:Cu,className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Apply"})]})]})}),E&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-sm shadow-xl",children:[m.jsx("h3",{className:"font-bold text-lg mb-4",children:"Hold Order"}),m.jsx("textarea",{value:$,onChange:q=>U(q.target.value),placeholder:"Optional note (e.g. Customer forgot wallet)",className:"w-full border border-neutral-300 dark:border-neutral-600 dark:bg-neutral-700 rounded-lg p-3 mb-4 h-24 resize-none"}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),m.jsx("button",{onClick:Nh,className:"px-4 py-2 bg-amber-500 text-white rounded hover:bg-amber-600",children:"Hold Order"})]})]})}),T&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-md shadow-xl h-[80vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"font-bold text-lg",children:"Held Orders"}),m.jsx("button",{onClick:()=>A(!1),children:m.jsx(Lp,{className:"w-6 h-6"})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:o.length===0?m.jsx("p",{className:"text-center text-neutral-500 mt-10",children:"No held orders."}):o.map(q=>{var ae;return m.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-700 p-3 rounded-lg border border-neutral-200 dark:border-neutral-600",children:[m.jsxs("div",{className:"flex justify-between mb-2",children:[m.jsx("span",{className:"font-bold",children:((ae=q.customer)==null?void 0:ae.name)||"Walk-in"}),m.jsx("span",{className:"text-xs text-neutral-500",children:new Date(q.timestamp).toLocaleTimeString()})]}),m.jsxs("p",{className:"text-xs text-neutral-600 dark:text-neutral-300 mb-2",children:[q.items.length," items  Note: ",q.note||"None"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>Oh(q),className:"flex-1 bg-primary-600 text-white py-1.5 rounded text-sm hover:bg-primary-700",children:"Resume"}),m.jsx("button",{onClick:()=>tn(q.id),className:"px-3 bg-red-100 text-red-600 rounded text-sm hover:bg-red-200",children:"Discard"})]})]},q.id)})})]})}),C&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-sm shadow-xl",children:[m.jsx("h3",{className:"font-bold text-lg mb-4",children:"Add New Customer"}),m.jsxs("form",{onSubmit:Pu,className:"space-y-3",children:[m.jsx("input",{type:"text",required:!0,placeholder:"Name",value:ie.name,onChange:q=>_e({...ie,name:q.target.value}),className:"w-full border p-2 rounded"}),m.jsx("input",{type:"text",placeholder:"Phone",value:ie.phone,onChange:q=>_e({...ie,phone:q.target.value}),className:"w-full border p-2 rounded"}),m.jsx("input",{type:"email",placeholder:"Email",value:ie.email,onChange:q=>_e({...ie,email:q.target.value}),className:"w-full border p-2 rounded"}),m.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[m.jsx("button",{type:"button",onClick:()=>P(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Create"})]})]})]})})]})},dce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),fce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),JE=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),hce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),{BanknotesIcon:pce,ArrowUpTrayIcon:mce,QrCodeIcon:gce}=cr,Rc=({children:t,title:e,onClose:n})=>m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-md max-h-full overflow-y-auto",children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700 sticky top-0 bg-white dark:bg-neutral-800",children:[m.jsx("h3",{className:"text-lg font-semibold",children:e}),m.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:m.jsx(hce,{className:"w-6 h-6"})})]}),t]})}),vce=({items:t,onClose:e})=>{const n=()=>{const r=document.getElementById("label-sheet"),i="about:blank",a="Print"+new Date().getTime(),s=window.open(i,a,"width=800,height=600");s&&r&&(s.document.write(`
                <html>
                    <head>
                        <title>Print Labels</title>
                        <style>
                            body { font-family: sans-serif; padding: 20px; }
                            .label-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
                            .label { border: 1px dashed #ccc; padding: 10px; text-align: center; border-radius: 5px; }
                            .sku { font-family: monospace; letter-spacing: 2px; font-weight: bold; margin-top: 5px; display: block;}
                            @media print {
                                body { padding: 0; }
                                .label { break-inside: avoid; }
                            }
                        </style>
                    </head>
                    <body>${r.innerHTML}</body>
                </html>
            `),s.document.close(),s.focus(),s.print(),s.close())};return m.jsx(Rc,{title:"Print Barcode Labels",onClose:e,children:m.jsxs("div",{className:"p-6",children:[m.jsxs("p",{className:"mb-4 text-sm text-neutral-500",children:["Preview of labels for ",t.length," selected items."]}),m.jsx("div",{id:"label-sheet",className:"max-h-60 overflow-y-auto bg-neutral-100 p-4 rounded border mb-4",children:m.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.map(r=>m.jsxs("div",{className:"bg-white p-2 text-center border border-neutral-300 rounded text-xs",children:[m.jsx("div",{className:"font-bold truncate",children:r.name}),m.jsxs("div",{children:["$",r.price]}),m.jsx("div",{className:"font-mono font-bold mt-1 tracking-widest text-sm",children:r.sku})]},r.id))})}),m.jsx("button",{onClick:n,className:"w-full bg-primary-600 text-white py-2 rounded hover:bg-primary-700",children:"Print Now"})]})})},To=({dataType:t,data:e,columns:n,formFields:r,onAdd:i,onUpdate:o,onDelete:a,customActions:s,t:l,formatCurrency:u})=>{const[c,d]=O.useState(""),[h,g]=O.useState(!1),[v,y]=O.useState(!1),[x,w]=O.useState(!1),[b,_]=O.useState(!1),[E,S]=O.useState(null),[T,A]=O.useState({}),[C,P]=O.useState([]),[N,k]=O.useState(""),R=I.useRef(null),j=l(`Manage ${t.charAt(0).toUpperCase()+t.slice(1)}`),V=O.useMemo(()=>e.filter(D=>Object.values(D).some(fe=>String(fe).toLowerCase().includes(c.toLowerCase()))),[e,c]),F=D=>{D.target.checked?P(V.map(fe=>fe.id)):P([])},M=D=>{P(fe=>fe.includes(D)?fe.filter(ie=>ie!==D):[...fe,D])},L=(D=null)=>{S(D),A(D||{}),g(!0)},$=()=>{g(!1),S(null),A({})},U=D=>{S(D),y(!0)},B=()=>{y(!1),S(null)},W=D=>{S(D),k(""),w(!0)},H=()=>{w(!1),S(null)},X=D=>{const{name:fe,value:ie,type:_e}=D.target,Se=_e==="number";A(We=>({...We,[fe]:Se?Number(ie):ie}))},le=(D,fe)=>{var _e;const ie=(_e=D.target.files)==null?void 0:_e[0];if(ie){const Se=new FileReader;Se.onloadend=()=>{A(We=>({...We,[fe]:Se.result}))},Se.readAsDataURL(ie)}},we=D=>{D.preventDefault(),E?o({...E,...T}):i(T),$()},be=()=>{E&&a([E.id]),B()},Be=()=>{a(C),P([])},Ye=()=>{const D=parseFloat(N);E&&D>0&&(s!=null&&s.onRecordPayment)&&s.onRecordPayment(E.id,D),H()},Z=()=>{var D;(D=R.current)==null||D.click()},ue=D=>{var _e;const fe=(_e=D.target.files)==null?void 0:_e[0];if(!fe)return;const ie=new FileReader;ie.onload=Se=>{var St;const vt=((St=Se.target)==null?void 0:St.result).split(`
`);for(let jt=1;jt<vt.length;jt++){const Ht=vt[jt].trim();if(!Ht)continue;const lt=Ht.split(",");if(lt.length>=5){const Et={name:lt[0],price:parseFloat(lt[1])||0,stock:parseInt(lt[2])||0,category:lt[3],sku:lt[4],imageUrl:"",brand:""};i(Et)}}alert(`Import process completed for ${vt.length-1} rows.`)},ie.readAsText(fe),D.target.value=""},de=()=>{_(!0)};return m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold",children:j}),m.jsxs("div",{className:"w-full sm:w-auto flex items-center gap-2",children:[m.jsxs("div",{className:"relative flex-grow",children:[m.jsx(dce,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),m.jsx("input",{type:"text",placeholder:l("Search"),value:c,onChange:D=>d(D.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg pl-10 pr-4 py-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),t==="products"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:Z,className:"bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200 px-3 py-2 rounded-lg hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors flex items-center gap-1",children:[m.jsx(mce,{className:"w-5 h-5"}),m.jsx("span",{className:"hidden sm:inline",children:l("Import CSV")})]}),m.jsx("input",{type:"file",accept:".csv",ref:R,className:"hidden",onChange:ue})]}),m.jsx("button",{onClick:()=>L(),className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors whitespace-nowrap",children:l("Add New")})]})]}),C.length>0&&m.jsxs("div",{className:"mb-4 flex items-center justify-between p-3 bg-primary-50 dark:bg-primary-900/40 rounded-lg",children:[m.jsxs("span",{className:"font-semibold text-primary-700 dark:text-primary-200",children:[C.length," item(s) selected"]}),m.jsxs("div",{className:"flex gap-2",children:[t==="products"&&m.jsxs("button",{onClick:de,className:"flex items-center gap-2 bg-purple-600 text-white text-sm font-semibold px-3 py-1.5 rounded-lg hover:bg-purple-700 transition-colors",children:[m.jsx(gce,{className:"w-4 h-4"}),l("Print Labels")]}),m.jsxs("button",{onClick:Be,className:"flex items-center gap-2 bg-red-600 text-white text-sm font-semibold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors",children:[m.jsx(JE,{className:"w-4 h-4"}),"Delete Selected"]})]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left text-neutral-500 dark:text-neutral-400",children:[m.jsx("thead",{className:"text-xs text-neutral-700 dark:text-neutral-300 uppercase bg-neutral-50 dark:bg-neutral-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"p-4",children:m.jsx("input",{type:"checkbox",onChange:F,checked:C.length>0&&C.length===V.length,className:"w-4 h-4 text-primary-600 bg-neutral-100 border-neutral-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-neutral-800 focus:ring-2 dark:bg-neutral-700 dark:border-neutral-600"})}),n.map(D=>m.jsx("th",{scope:"col",className:"px-6 py-3",children:D.header},String(D.key))),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Actions"})]})}),m.jsx("tbody",{children:V.map(D=>m.jsxs("tr",{className:"bg-white dark:bg-neutral-800 border-b dark:border-neutral-700 hover:bg-neutral-50 dark:hover:bg-neutral-700/50",children:[m.jsx("td",{className:"p-4",children:m.jsx("input",{type:"checkbox",checked:C.includes(D.id),onChange:()=>M(D.id),className:"w-4 h-4 text-primary-600 bg-neutral-100 border-neutral-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-neutral-800 focus:ring-2 dark:bg-neutral-700 dark:border-neutral-600"})}),n.map(fe=>m.jsx("td",{className:"px-6 py-4 font-medium text-neutral-900 dark:text-white whitespace-nowrap",children:fe.render?fe.render(D):D[fe.key]},`${D.id}-${String(fe.key)}`)),m.jsxs("td",{className:"px-6 py-4 flex justify-end items-center gap-4",children:[t==="customers"&&D.dueAmount>0&&(s==null?void 0:s.onRecordPayment)&&m.jsx("button",{onClick:()=>W(D),className:"text-green-600 dark:text-green-400 hover:underline",title:"Record Payment",children:m.jsx(pce,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>L(D),className:"text-primary-600 dark:text-primary-400 hover:underline",children:m.jsx(fce,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>U(D),className:"text-red-600 dark:text-red-400 hover:underline",children:m.jsx(JE,{className:"w-5 h-5"})})]})]},D.id))})]})}),h&&m.jsx(Rc,{title:E?`Edit ${t.slice(0,-1)}`:`Add ${t.slice(0,-1)}`,onClose:$,children:m.jsxs("form",{onSubmit:we,children:[m.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map(D=>{var fe;return m.jsxs("div",{className:["select","image"].includes(D.type)?"sm:col-span-2":"",children:[m.jsx("label",{htmlFor:String(D.key),className:"block mb-2 text-sm font-medium",children:D.label}),D.type==="select"?m.jsxs("select",{id:String(D.key),name:String(D.key),value:T[D.key]||"",onChange:X,required:D.required,className:"bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5",children:[m.jsx("option",{value:"",children:"Select an option"}),(fe=D.options)==null?void 0:fe.map(ie=>m.jsx("option",{value:ie.value,children:ie.label},ie.value))]}):D.type==="image"?m.jsxs("div",{className:"flex items-center gap-4",children:[T[D.key]&&m.jsx("img",{src:T[D.key],alt:"preview",className:"w-16 h-16 rounded-full object-cover bg-neutral-200"}),m.jsx("input",{type:"file",id:String(D.key),name:String(D.key),onChange:ie=>le(ie,D.key),accept:"image/*",className:"block w-full text-sm text-neutral-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})]}):m.jsx("input",{type:D.type,id:String(D.key),name:String(D.key),value:T[D.key]||"",onChange:X,required:D.required,className:"bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"})]},String(D.key))})}),m.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2 sticky bottom-0 bg-white dark:bg-neutral-800",children:[m.jsx("button",{type:"button",onClick:$,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),m.jsx("button",{type:"submit",className:"text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Save"})]})]})}),v&&E&&m.jsxs(Rc,{title:"Confirm Deletion",onClose:B,children:[m.jsx("div",{className:"p-6",children:m.jsxs("p",{children:["Are you sure you want to delete ",m.jsx("span",{className:"font-semibold",children:E.name||"this item"}),"? This action cannot be undone."]})}),m.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2",children:[m.jsx("button",{onClick:B,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),m.jsx("button",{onClick:be,className:"text-white bg-red-600 hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800",children:"Delete"})]})]}),x&&E&&m.jsxs(Rc,{title:`Record Payment for ${E.name}`,onClose:H,children:[m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"p-3 bg-neutral-100 dark:bg-neutral-700/50 rounded-lg text-center",children:[m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Current Due Amount"}),m.jsx("p",{className:"text-2xl font-bold",children:u(E.dueAmount)})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"payment-amount",className:"block text-sm font-medium mb-1",children:"Payment Amount"}),m.jsx("input",{id:"payment-amount",type:"number",value:N,onChange:D=>k(D.target.value),className:"w-full text-lg bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",autoFocus:!0})]})]}),m.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2",children:[m.jsx("button",{onClick:H,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),m.jsx("button",{onClick:Ye,className:"text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",children:"Record Payment"})]})]}),b&&m.jsx(vce,{items:V.filter(D=>C.includes(D.id)),onClose:()=>_(!1)})]})},yce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),wce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),bce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Up=({title:t,value:e})=>m.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-700/50 p-4 rounded-lg",children:[m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:t}),m.jsx("p",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:e})]}),xce=({sales:t,users:e,customers:n,formatCurrency:r})=>{const[i,o]=O.useState(""),[a,s]=O.useState(""),[l,u]=O.useState("all"),[c,d]=O.useState("all"),[h,g]=O.useState("csv"),[v,y]=O.useState(!1),x=O.useRef(null),[w,b]=O.useState(""),[_,E]=O.useState(!1),S=O.useRef(null),T=O.useMemo(()=>e.filter(M=>[me.Admin,me.Manager,me.Cashier].includes(M.role)),[e]);O.useEffect(()=>{const M=L=>{S.current&&!S.current.contains(L.target)&&E(!1),x.current&&!x.current.contains(L.target)&&y(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const A=O.useMemo(()=>w?n.filter(M=>M.name.toLowerCase().includes(w.toLowerCase())):n,[n,w]),C=M=>{d(M);const L=n.find($=>$.id===M);b(L?L.name:""),E(!1)},P=()=>{d("all"),b("")},N=O.useMemo(()=>t.filter(M=>{const L=new Date(M.date),$=i?new Date(i):null,U=a?new Date(a):null;$&&$.setHours(0,0,0,0),U&&U.setHours(23,59,59,999);const B=(!$||L>=$)&&(!U||L<=U),W=l==="all"||M.cashierId===l,H=c==="all"||M.customerId===c;return B&&W&&H}),[t,i,a,l,c]),k=O.useMemo(()=>{const M=N.reduce((U,B)=>U+B.total,0),L=N.length,$=L>0?M/L:0;return{totalSales:r(M),totalTransactions:L,avgSaleValue:r($)}},[N,r]),R=O.useMemo(()=>{if(N.length===0)return[];const M=N.reduce((L,$)=>{const U=new Date($.date).toISOString().split("T")[0];return L[U]||(L[U]=0),L[U]+=$.total,L},{});return Object.entries(M).map(([L,$])=>({rawDate:L,date:new Date(L+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"}),total:$})).sort((L,$)=>new Date(L.rawDate).getTime()-new Date($.rawDate).getTime())},[N]),j=()=>{o(""),s(""),u("all"),P()},V=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),F=()=>{if(N.length===0){alert("No data to export for the current filters.");return}const M=["Sale ID","Date","Customer","Cashier","Items","Total","Amount Paid","Amount Due","Payment Method"],L=N.map($=>({"Sale ID":$.id,Date:new Date($.date).toISOString(),Customer:$.customerName,Cashier:$.cashier,Items:$.items,Total:$.total,"Amount Paid":$.amountPaid,"Amount Due":$.total-$.amountPaid,"Payment Method":$.paymentMethod}));if(h==="csv"){const U=[M.join(","),...L.map(X=>Object.values(X).map(le=>{const we=String(le);return we.includes(",")||we.includes('"')?`"${we.replace(/"/g,'""')}"`:we}).join(","))].join(`
`),B=new Blob([U],{type:"text/csv;charset=utf-8;"}),W=document.createElement("a"),H=URL.createObjectURL(B);W.setAttribute("href",H),W.setAttribute("download","sales_report.csv"),W.style.visibility="hidden",document.body.appendChild(W),W.click(),document.body.removeChild(W)}else if(h==="xlsx"&&typeof XLSX<"u"){const $=XLSX.utils.json_to_sheet(L),U=XLSX.utils.book_new();XLSX.utils.book_append_sheet(U,$,"Sales"),XLSX.writeFile(U,"sales_report.xlsx")}else h==="xlsx"&&alert("XLSX export not available (library not loaded).")};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[m.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:"Sales Reports"}),m.jsxs("div",{className:"flex rounded-lg shadow-sm",children:[m.jsxs("button",{onClick:F,className:"relative inline-flex items-center gap-2 bg-secondary-600 px-4 py-2 text-sm font-semibold text-white hover:bg-secondary-700 focus:z-10 rounded-l-lg",children:[m.jsx(yce,{className:"w-5 h-5"}),"Export Data"]}),m.jsxs("div",{ref:x,className:"relative -ml-px block",children:[m.jsxs("button",{onClick:()=>y(!v),type:"button",className:"relative inline-flex items-center bg-secondary-600 px-2 py-2 text-white hover:bg-secondary-700 focus:z-10 rounded-r-lg","aria-expanded":"true","aria-haspopup":"true",children:[m.jsx("span",{className:"text-xs uppercase mr-1",children:h}),m.jsx(wce,{className:"h-5 w-5","aria-hidden":"true"})]}),v&&m.jsx("div",{className:"absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-white dark:bg-neutral-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabIndex:-1,children:m.jsxs("div",{className:"py-1",role:"none",children:[m.jsx("a",{href:"#",onClick:M=>{M.preventDefault(),g("csv"),y(!1)},className:`block px-4 py-2 text-sm ${h==="csv"?"font-bold text-primary-600":"text-neutral-700 dark:text-neutral-200"} hover:bg-neutral-100 dark:hover:bg-neutral-700`,role:"menuitem",tabIndex:-1,id:"menu-item-0",children:"Export as .csv"}),m.jsx("a",{href:"#",onClick:M=>{M.preventDefault(),g("xlsx"),y(!1)},className:`block px-4 py-2 text-sm ${h==="xlsx"?"font-bold text-primary-600":"text-neutral-700 dark:text-neutral-200"} hover:bg-neutral-100 dark:hover:bg-neutral-700`,role:"menuitem",tabIndex:-1,id:"menu-item-1",children:"Export as .xlsx"})]})})]})]})]}),m.jsx("div",{className:"bg-white dark:bg-neutral-800 p-4 rounded-xl shadow-md space-y-4",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[m.jsxs("div",{className:"lg:col-span-2 grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"start-date",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Start Date"}),m.jsx("input",{type:"date",id:"start-date",value:i,onChange:M=>o(M.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"end-date",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"End Date"}),m.jsx("input",{type:"date",id:"end-date",value:a,onChange:M=>s(M.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"cashier",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Cashier"}),m.jsxs("select",{id:"cashier",value:l,onChange:M=>u(M.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",children:[m.jsx("option",{value:"all",children:"All Cashiers"}),T.map(M=>m.jsx("option",{value:M.id,children:M.name},M.id))]})]}),m.jsxs("div",{ref:S,children:[m.jsx("label",{htmlFor:"customer",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Customer"}),m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"text",id:"customer",value:w,onChange:M=>{b(M.target.value),d("all"),_||E(!0)},onFocus:()=>E(!0),placeholder:"All Customers",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"}),c!=="all"&&m.jsx("button",{onClick:P,className:"absolute right-2 text-neutral-500 hover:text-red-500",children:m.jsx(bce,{className:"w-5 h-5"})})]}),_&&m.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white dark:bg-neutral-700 rounded-md shadow-lg max-h-60 overflow-auto border dark:border-neutral-600",children:m.jsxs("ul",{children:[m.jsx("li",{onClick:()=>C("all"),className:"px-4 py-2 text-sm hover:bg-primary-50 dark:hover:bg-neutral-600 cursor-pointer text-neutral-700 dark:text-neutral-200",children:"All Customers"}),A.map(M=>m.jsx("li",{onClick:()=>C(M.id),className:"px-4 py-2 text-sm hover:bg-primary-50 dark:hover:bg-neutral-600 cursor-pointer text-neutral-700 dark:text-neutral-200",children:M.name},M.id))]})})]})]}),m.jsx("div",{className:"lg:col-span-5 flex justify-end",children:m.jsx("button",{onClick:j,className:"text-sm text-primary-600 hover:underline",children:"Reset Filters"})})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx(Up,{title:"Total Revenue",value:k.totalSales}),m.jsx(Up,{title:"Transactions",value:k.totalTransactions.toString()}),m.jsx(Up,{title:"Avg. Sale Value",value:k.avgSaleValue})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold mb-4 text-neutral-800 dark:text-neutral-100",children:"Sales Trend"}),m.jsx("div",{className:"h-80 w-full",children:m.jsx(r0,{width:"100%",height:"100%",children:m.jsxs(ore,{data:R,children:[m.jsx(U0,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(128,128,128,0.2)"}),m.jsx(ss,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},dy:10}),m.jsx(ls,{axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},tickFormatter:M=>`$${M}`}),m.jsx(Sn,{cursor:{fill:"rgba(128,128,128,0.1)"},contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.5rem",color:"#F3F4F6"},itemStyle:{color:"#F3F4F6"},formatter:M=>[`$${M.toFixed(2)}`,"Sales"]}),m.jsx(yo,{dataKey:"total",fill:"#4F46E5",radius:[4,4,0,0]})]})})})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b dark:border-neutral-700",children:m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100",children:"Recent Transactions"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left text-neutral-500 dark:text-neutral-400",children:[m.jsx("thead",{className:"text-xs text-neutral-700 dark:text-neutral-300 uppercase bg-neutral-50 dark:bg-neutral-700/50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"Date"}),m.jsx("th",{className:"px-6 py-3",children:"Sale ID"}),m.jsx("th",{className:"px-6 py-3",children:"Customer"}),m.jsx("th",{className:"px-6 py-3",children:"Cashier"}),m.jsx("th",{className:"px-6 py-3 text-right",children:"Total"}),m.jsx("th",{className:"px-6 py-3",children:"Method"})]})}),m.jsx("tbody",{className:"divide-y divide-neutral-100 dark:divide-neutral-700",children:N.length>0?N.map(M=>m.jsxs("tr",{className:"bg-white dark:bg-neutral-800 hover:bg-neutral-50 dark:hover:bg-neutral-700/50",children:[m.jsxs("td",{className:"px-6 py-4",children:[V(M.date)," ",m.jsx("span",{className:"text-xs text-neutral-400 ml-1",children:new Date(M.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),m.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:M.id}),m.jsx("td",{className:"px-6 py-4 font-medium text-neutral-900 dark:text-neutral-100",children:M.customerName}),m.jsx("td",{className:"px-6 py-4",children:M.cashier}),m.jsx("td",{className:"px-6 py-4 text-right font-semibold text-neutral-900 dark:text-neutral-100",children:r(M.total)}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M.paymentMethod==="Cash"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":M.paymentMethod==="Card"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"}`,children:M.paymentMethod})})]},M.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-neutral-500 dark:text-neutral-400",children:"No transactions found matching current filters."})})})]})})]})]})},_ce=({title:t})=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-8 rounded-xl shadow-md text-center h-full flex flex-col justify-center items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:t}),m.jsx("p",{className:"mt-4 text-neutral-500 dark:text-neutral-400",children:"This feature is under construction."}),m.jsx("div",{className:"mt-6 text-6xl text-neutral-200 dark:text-neutral-700",children:""})]}),Sce="ZENITH_POS_SECRET_KEY_2025_V2",Ece=(t,e)=>{const n=t+e;let r=5381;for(let i=0;i<n.length;i++)r=r*33^n.charCodeAt(i);return(r>>>0).toString(16).toUpperCase().padStart(8,"0").slice(-5)},Tce={A:"AI_INSIGHTS",R:"ADVANCED_REPORTS",M:"MULTI_LANGUAGE",C:"CLOUD_SYNC"},YE={STD:["M"],PREM:["M","A"],ENT:["M","A","R","C"]},Ace=(t,e,n,r,i)=>{const o=Math.random().toString(36).substring(2,8).toUpperCase(),a=`${e.getFullYear()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}`,s=`ZENITH-${t}-${o}-${n}-${a}`;let l=s;const u=r==null?void 0:r.trim().toUpperCase().replace(/\s+/g,"");u&&(l+=`-${u}`);const c=i==null?void 0:i.trim().toLowerCase();c&&(l+=`-${c}`);const d=Ece(l,Sce),h=`${s}-${d}`,g={STD:"Standard",PREM:"Premium",ENT:"Enterprise"};return{key:h,validUntil:e.toISOString(),planType:g[t],status:"Generated",maxShops:t==="ENT"?1/0:1,enabledFeatures:n.split("").map(v=>Tce[v]).filter(Boolean),businessNameLock:(r==null?void 0:r.trim())||void 0,emailLock:(i==null?void 0:i.trim())||void 0}},Cce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),Pce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0"})}),kce=cr.GlobeAltIcon,Ice=cr.ShieldCheckIcon,oN=cr.XMarkIcon,aN=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),Nce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),Oce=cr.BanknotesIcon,Rce=cr.KeyIcon,Xo=({title:t,icon:e,children:n})=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md",children:[m.jsx("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-700",children:m.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-3",children:[e,t]})}),m.jsx("div",{className:"p-6",children:n})]}),Mce=({type:t,message:e,onClose:n})=>{const r="p-4 rounded-md flex items-center justify-between shadow-md mb-6",i=t==="success"?"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-200";return m.jsxs("div",{className:`${r} ${i}`,children:[m.jsx("p",{className:"text-sm font-medium",children:e}),m.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-black/10",children:m.jsx(oN,{className:"w-5 h-5"})})]})},$ce=({title:t,children:e})=>{const[n,r]=O.useState(!1);return m.jsxs("div",{className:"border-b dark:border-neutral-700",children:[m.jsxs("button",{onClick:()=>r(!n),className:"w-full flex justify-between items-center text-left py-4 px-1",children:[m.jsx("span",{className:"font-semibold text-neutral-800 dark:text-neutral-100",children:t}),m.jsx(Nce,{className:`w-5 h-5 transition-transform ${n?"rotate-180":""}`})]}),n&&m.jsx("div",{className:"pb-4 px-1 text-neutral-600 dark:text-neutral-300 prose prose-sm dark:prose-invert max-w-none whitespace-pre-line",children:e})]})},Dce=[{title:"1. Getting Started",content:`Welcome to Zenith POS. 

**Login & Roles:**
- **Admin:** Full access (Settings, Users, Reports).
- **Manager:** Manages Inventory & Reports.
- **Cashier:** Access to POS & Customers only.

**Dashboard:** Customize your dashboard widgets by clicking the 'Customize' button on the top right.`},{title:"2. Advanced Point of Sale (POS)",content:`Our POS is designed for speed and flexibility.

- **Touchscreen Mode:** Tap any input field (like Search) to open the Virtual Keyboard automatically.
- **Discounts:** Click the 'Tag Icon' next to any cart item to apply a % or Fixed Amount discount.
- **Hold Order:** Temporarily save an order if a customer needs time. Resume it later from the 'Held Orders' menu.
- **Credit Sales:** Select a customer to enable the 'Credit' payment option.
- **WhatsApp Invoice:** After a sale, click 'WhatsApp Invoice' to send the receipt directly to the customer's phone.`},{title:"3. Inventory & Products",content:`Manage your stock efficiently.

- **Add Products:** Add items manually or use **'Import CSV'** to upload hundreds of products at once.
- **Label Printing:** Select multiple products in the list and click **'Print Labels'** to generate barcode stickers.
- **Stock Adjustment:** Use the 'Adjust Stock' button to correct inventory levels for damage or loss.`},{title:"4. Offline Mode",content:`**No Internet? No Problem.**

Zenith POS works 100% offline. You can continue selling even when the internet is down. All data is saved locally on your device and will automatically sync once the connection is restored. Look for the 'Cloud' icon in the header to check your status.`},{title:"5. Customers & Loyalty",content:`Build customer loyalty.

- **Points:** Customers earn points for every purchase. You can redeem these points for discounts during checkout.
- **Credit Limit:** Set a maximum credit limit for each customer to control debt risk.
- **Due Collection:** Go to the Customer page and click the 'Money' icon to record a due payment.`},{title:"6. Localization & Currency",content:`Make the app yours.

Go to **Settings > Localization** to:
- Change the interface language (English / Bangla).
- Change the currency symbol (USD, BDT, EUR, INR).
The entire app will instantly update to reflect your choices.`},{title:"7. Data Security & Backup",content:`Your data is safe.

- **Backup:** In Settings, click 'Backup Data' to download a full copy of your system data as a JSON file.
- **Restore:** If you change devices or clear your browser, use 'Restore Data' to upload your backup file and resume exactly where you left off.`},{title:"8. Managing Multiple Stores",content:`To manage multiple stores or branches, you need an **Enterprise** plan license key.

- **Activation:** Use your Enterprise key to activate the software on the first device. This will establish your main organization.
- **Data Separation:** The system keeps data for each organization separate and secure.
- **Note:** The 'multi-shop' feature in the Enterprise plan allows your single organization to operate from multiple locations/devices under one business umbrella.`}],jce=({isOpen:t,onClose:e})=>t?m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-start p-4 pt-16",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700",children:[m.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[m.jsx(aN,{className:"w-6 h-6 text-primary-500"}),"System User Guide"]}),m.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:m.jsx(oN,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"p-6 overflow-y-auto",children:[m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-4",children:"Comprehensive guide to operating the Zenith POS system. Click on a section to expand."}),Dce.map((n,r)=>m.jsx($ce,{title:n.title,children:n.content},r))]}),m.jsx("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700",children:m.jsx("button",{onClick:e,className:"bg-primary-600 text-white font-semibold px-5 py-2.5 rounded-lg hover:bg-primary-700 transition-colors",children:"Close Guide"})})]})}):null,Lce=t=>{const{user:e,onUpdateUser:n,employees:r,isDarkMode:i,toggleDarkMode:o,businessName:a,setBusinessName:s,businessLogo:l,setBusinessLogo:u,licenseKeys:c,setLicenseKeys:d,licenseDatabase:h,setLicenseDatabase:g,language:v,setLanguage:y,currency:x,setCurrency:w,t:b}=t,[_,E]=O.useState(8),[S,T]=O.useState(null),[A,C]=O.useState(!1),P=I.useRef(null),N=O.useRef(null),[k,R]=O.useState({name:e.name,email:e.email,avatarUrl:e.avatarUrl});O.useEffect(()=>{if(S){const B=setTimeout(()=>T(null),5e3);return()=>clearTimeout(B)}},[S]);const j=B=>R(W=>({...W,[B.target.name]:B.target.value})),V=B=>{var H;const W=(H=B.target.files)==null?void 0:H[0];if(W){const X=new FileReader;X.onloadend=()=>R(le=>({...le,avatarUrl:X.result})),X.readAsDataURL(W)}},F=B=>{n({name:k.name,avatarUrl:k.avatarUrl}),T({type:"success",message:`${B} settings saved successfully!`})},M=B=>{var H;const W=(H=B.target.files)==null?void 0:H[0];if(W){const X=new FileReader;X.onloadend=()=>u(X.result),X.readAsDataURL(W)}},L=()=>{const B={zenith_users:localStorage.getItem("zenith_users"),zenith_products:localStorage.getItem("zenith_products"),zenith_customers:localStorage.getItem("zenith_customers"),zenith_sales:localStorage.getItem("zenith_sales"),zenith_license_database:localStorage.getItem("zenith_license_database")},W=new Blob([JSON.stringify(B,null,2)],{type:"application/json"}),H=URL.createObjectURL(W),X=document.createElement("a");X.href=H,X.download=`zenith_backup_${new Date().toISOString().split("T")[0]}.json`,X.click(),T({type:"success",message:"Backup downloaded successfully!"})},$=()=>{var B;return(B=P.current)==null?void 0:B.click()},U=B=>{var X;const W=(X=B.target.files)==null?void 0:X[0];if(!W)return;const H=new FileReader;H.onload=le=>{var we;try{const be=JSON.parse((we=le.target)==null?void 0:we.result);Object.keys(be).forEach(Be=>{be[Be]&&localStorage.setItem(Be,be[Be])}),T({type:"success",message:"Data restored! Please reload the page."}),setTimeout(()=>window.location.reload(),2e3)}catch{T({type:"error",message:"Invalid backup file."})}},H.readAsText(W)};return m.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto pb-10",children:[m.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:b("Settings")}),S&&m.jsx(Mce,{type:S.type,message:S.message,onClose:()=>T(null)}),e.email==="superadmin@zenith.com"?m.jsx(Uce,{licenseDatabase:h,setLicenseDatabase:g,setNotification:T}):e.role===me.Admin&&m.jsx(Bce,{licenseKeys:c,setLicenseKeys:d,user:e,setNotification:T}),m.jsx(jce,{isOpen:A,onClose:()=>C(!1)}),m.jsx("button",{onClick:()=>C(!0),className:"fixed bottom-6 right-6 bg-primary-600 text-white p-4 rounded-full shadow-lg hover:bg-primary-700 transition-transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 z-40","aria-label":"Open settings guide",children:m.jsx(aN,{className:"w-8 h-8"})}),m.jsxs(Xo,{title:"Profile",icon:m.jsx(Cce,{className:"w-6 h-6 text-primary-500"}),children:[m.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[m.jsxs("div",{className:"relative w-20 h-20 group flex-shrink-0",children:[m.jsx("img",{src:k.avatarUrl,alt:"Profile Avatar",className:"w-20 h-20 rounded-full object-cover"}),m.jsx("button",{onClick:()=>{var B;return(B=N.current)==null?void 0:B.click()},className:"absolute inset-0 bg-black/60 rounded-full flex items-center justify-center text-white opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:m.jsx("span",{className:"text-xs font-semibold",children:"Change"})}),m.jsx("input",{type:"file",ref:N,onChange:V,className:"hidden",accept:"image/png, image/jpeg"})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-xl font-bold",children:k.name}),m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:e.role})]})]}),m.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 my-6"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Full Name"}),m.jsx("input",{type:"text",name:"name",value:k.name,onChange:j,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Email Address"}),m.jsx("input",{type:"email",value:k.email,disabled:!0,className:"mt-1 w-full bg-neutral-200 dark:bg-neutral-800 border-transparent rounded-lg p-2.5 text-neutral-500 dark:text-neutral-400 cursor-not-allowed"})]})]}),m.jsx("div",{className:"mt-6 text-right",children:m.jsx("button",{onClick:()=>F("Profile"),className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Save Changes"})})]}),m.jsx(Xo,{title:"Localization",icon:m.jsx(kce,{className:"w-6 h-6 text-primary-500"}),children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-2",children:"Language"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>y("en"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-semibold border ${v==="en"?"bg-primary-600 text-white border-primary-600":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 border-neutral-300 dark:border-neutral-600"}`,children:"English"}),m.jsx("button",{onClick:()=>y("bn"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-semibold border ${v==="bn"?"bg-primary-600 text-white border-primary-600":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 border-neutral-300 dark:border-neutral-600"}`,children:"Bangla"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-2",children:"Currency"}),m.jsx("select",{value:x,onChange:B=>w(B.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",children:Object.entries(qC).map(([B,W])=>m.jsxs("option",{value:B,children:[B," - ",W.symbol]},B))})]})]})}),m.jsxs(Xo,{title:"Business Configuration",icon:m.jsx(Oce,{className:"w-6 h-6 text-primary-500"}),children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Business Name"}),m.jsx("input",{type:"text",value:a,onChange:B=>s(B.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Default Tax Rate (%)"}),m.jsx("input",{type:"number",value:_,onChange:B=>E(Number(B.target.value)),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("p",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-2",children:"Business Logo"}),m.jsxs("div",{className:"flex items-center gap-4",children:[l&&m.jsx("img",{src:l,alt:"Logo",className:"w-16 h-16 object-contain border border-neutral-200 rounded p-1"}),m.jsx("input",{type:"file",accept:"image/*",onChange:M,className:"text-sm text-neutral-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})]})]})]}),m.jsx(Xo,{title:"System",icon:m.jsx(Pce,{className:"w-6 h-6 text-primary-500"}),children:m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium",children:"Data Management"}),m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Backup or restore your application data."})]}),m.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[m.jsx("button",{onClick:L,className:"bg-secondary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-secondary-700 transition-colors",children:"Backup Data"}),m.jsx("button",{onClick:$,className:"bg-neutral-200 dark:bg-neutral-600 text-neutral-800 dark:text-neutral-100 font-semibold px-4 py-2 rounded-lg hover:bg-neutral-300 dark:hover:bg-neutral-500 transition-colors",children:"Restore Data"}),m.jsx("input",{type:"file",accept:".json",ref:P,className:"hidden",onChange:U})]})]})})]})},Uce=({licenseDatabase:t,setLicenseDatabase:e,setNotification:n})=>{const[r,i]=O.useState(""),[o,a]=O.useState(""),[s,l]=O.useState("PREM"),[u,c]=O.useState(""),[d,h]=O.useState(YE[s]);O.useEffect(()=>{const w=new Date;w.setFullYear(w.getFullYear()+1),c(w.toISOString().split("T")[0])},[]),O.useEffect(()=>{h(YE[s])},[s]);const g=w=>{const{value:b,checked:_}=w.target;h(E=>_?[...E,b]:E.filter(S=>S!==b))},v=()=>{if(!u){alert("Please select an expiry date.");return}if(!o){alert("Please provide an email address to assign this license.");return}const w=Ace(s,new Date(u),d.join(""),r,o);e(b=>[...b,w]),n({type:"success",message:`License key ${w.key.slice(0,15)}... generated successfully!`})},y=w=>{e(b=>b.map(_=>_.key===w?{..._,status:"Revoked"}:_)),n({type:"success",message:"License has been revoked."})},x=w=>{switch(w){case"Generated":return"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300";case"Activated":return"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300";case"Revoked":return"bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-300";case"Expired":return"bg-neutral-100 text-neutral-700 dark:bg-neutral-900/50 dark:text-neutral-300"}};return m.jsxs(Xo,{title:"Super Admin: Master License Generator",icon:m.jsx(Ice,{className:"w-6 h-6 text-amber-500"}),children:[m.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/30 rounded-lg text-amber-800 dark:text-amber-200 text-sm mb-6",children:"This panel is visible to Super Admins only. Generate keys locked to specific client emails."}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 border-b dark:border-neutral-700 pb-6 mb-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{type:"email",value:o,onChange:w=>a(w.target.value),placeholder:"Assign to Email (Required)",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5"}),m.jsx("input",{type:"text",value:r,onChange:w=>i(w.target.value),placeholder:"Business Name (Optional)",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5"}),m.jsx("input",{type:"date",value:u,onChange:w=>c(w.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"grid grid-cols-3 gap-2",children:["STD","PREM","ENT"].map(w=>m.jsxs("label",{className:`text-center p-2 rounded-lg cursor-pointer border ${s===w?"bg-primary-50 border-primary-400":"dark:border-neutral-600"}`,children:[m.jsx("input",{type:"radio",name:"plan",value:w,checked:s===w,onChange:b=>l(b.target.value),className:"sr-only"})," ",w]},w))}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:["A","R","M","C"].map(w=>m.jsxs("label",{className:"flex items-center text-sm",children:[m.jsx("input",{type:"checkbox",value:w,checked:d.includes(w),onChange:g,className:"h-4 w-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500 mr-2"}),w==="A"?"AI":w==="R"?"Reports":w==="M"?"Multi-Lang":"Cloud"]},w))})]}),m.jsx("div",{className:"md:col-span-2 text-center",children:m.jsx("button",{onClick:v,className:"bg-primary-600 text-white font-semibold px-5 py-2.5 rounded-lg hover:bg-primary-700",children:"Generate New License"})})]}),m.jsx("h4",{className:"font-semibold mb-2",children:"License Database"}),m.jsx("div",{className:"overflow-x-auto max-h-96",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"text-left p-2",children:"Key"}),m.jsx("th",{className:"text-left p-2",children:"Email Lock"}),m.jsx("th",{className:"text-left p-2",children:"Status"}),m.jsx("th",{className:"text-right p-2",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y dark:divide-neutral-700",children:t.map(w=>m.jsxs("tr",{children:[m.jsx("td",{className:"p-2 font-mono text-xs",children:w.key}),m.jsx("td",{className:"p-2 text-xs",children:w.emailLock||"None"}),m.jsx("td",{className:"p-2",children:m.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${x(w.status)}`,children:w.status})}),m.jsx("td",{className:"p-2 text-right",children:w.status!=="Revoked"&&m.jsx("button",{onClick:()=>y(w.key),className:"text-red-500 hover:underline text-xs",children:"Revoke"})})]},w.key))})]})})]})},Bce=({licenseKeys:t,setLicenseKeys:e,user:n,setNotification:r})=>{const[i,o]=O.useState(""),a=()=>{if(!i)return alert("Please enter a device name.");const l={id:`dk_${Date.now()}`,key:`DEV-${Math.random().toString(36).substr(2,6).toUpperCase()}`,assignedToUserId:"",assignedToUserName:"Unassigned",status:"Active",validity:"Lifetime",deviceName:i,organizationId:n.organizationId};e(u=>[...u,l]),r({type:"success",message:`Device key for "${i}" generated successfully!`}),o("")},s=l=>{e(u=>u.map(c=>c.id===l?{...c,status:"Revoked"}:c)),r({type:"success",message:"Device key revoked."})};return m.jsxs(Xo,{title:"Shop Admin: Device & Terminal Management",icon:m.jsx(Rce,{className:"w-6 h-6 text-blue-500"}),children:[m.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg text-blue-800 dark:text-blue-200 text-sm mb-6",children:"Generate access keys for your shop's terminals or employee devices."}),m.jsxs("div",{className:"flex gap-4 mb-6",children:[m.jsx("input",{type:"text",value:i,onChange:l=>o(l.target.value),placeholder:"Device Name (e.g., Counter 1)",className:"flex-1 bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5"}),m.jsx("button",{onClick:a,className:"bg-primary-600 text-white font-semibold px-4 py-2.5 rounded-lg hover:bg-primary-700 whitespace-nowrap",children:"Add Device Key"})]}),m.jsx("h4",{className:"font-semibold mb-2",children:"Active Device Keys"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"text-left p-2",children:"Device Name"}),m.jsx("th",{className:"text-left p-2",children:"Key"}),m.jsx("th",{className:"text-left p-2",children:"Status"}),m.jsx("th",{className:"text-right p-2",children:"Actions"})]})}),m.jsxs("tbody",{className:"divide-y dark:divide-neutral-700",children:[t.map(l=>m.jsxs("tr",{children:[m.jsx("td",{className:"p-2 font-medium",children:l.deviceName}),m.jsx("td",{className:"p-2 font-mono text-xs",children:l.key}),m.jsx("td",{className:"p-2",children:m.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${l.status==="Active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:l.status})}),m.jsx("td",{className:"p-2 text-right",children:l.status==="Active"&&m.jsx("button",{onClick:()=>s(l.id),className:"text-red-500 hover:underline text-xs",children:"Revoke"})})]},l.id)),t.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:4,className:"p-4 text-center text-neutral-500",children:"No device keys generated yet."})})]})]})})]})},Fce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})}),Vce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})}),zce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),qce=({onSuccess:t,onStartTrial:e,licenseDatabase:n})=>{const[r,i]=O.useState(""),[o,a]=O.useState(""),[s,l]=O.useState(""),[u,c]=O.useState(null),[d,h]=O.useState(!1),g=async y=>{y.preventDefault(),c(null),h(!0),await new Promise(E=>setTimeout(E,800));const x=r.trim(),w=o.trim().toLowerCase(),b=s.trim(),_=n.find(E=>E.key===x);if(!_){c("Invalid license key. Please check the key provided by your vendor."),h(!1);return}if(_.status==="Activated"&&_.emailLock&&_.emailLock.toLowerCase()!==w){c("This license key has already been activated for a different user."),h(!1);return}if(_.status==="Revoked"){c("This license key has been revoked. Please contact support."),h(!1);return}if(new Date(_.validUntil)<new Date){c("This license key has expired."),h(!1);return}if(_.emailLock){if(_.emailLock.toLowerCase()!==w){c("This license key is locked to a different email address."),h(!1);return}}else if(!w){c("Please enter your email address."),h(!1);return}h(!1),t({..._,businessNameLock:b||_.businessNameLock,emailLock:w})},v=()=>{confirm("Factory Reset: This will delete ALL data (products, sales, users) on this device and reset the license. This cannot be undone. Are you sure?")&&(localStorage.clear(),window.location.reload())};return m.jsxs("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-900 flex flex-col justify-center items-center p-4",children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-8 rounded-2xl shadow-xl w-full max-w-md",children:[m.jsx("div",{className:"flex justify-center mb-6",children:m.jsx("div",{className:"w-16 h-16 bg-primary-100 dark:bg-primary-900/50 rounded-full flex items-center justify-center text-primary-600 dark:text-primary-400",children:m.jsx(Fce,{className:"w-8 h-8"})})}),m.jsx("h1",{className:"text-2xl font-bold text-center text-neutral-800 dark:text-neutral-100 mb-2",children:"Activate Zenith POS"}),m.jsx("p",{className:"text-center text-neutral-500 dark:text-neutral-400 mb-8 text-sm",children:"Enter your license details to activate the software."}),u&&m.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-3",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0",children:m.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),m.jsx("p",{className:"text-sm text-red-600 dark:text-red-300",children:u})]}),m.jsxs("form",{onSubmit:g,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email Address"}),m.jsxs("div",{className:"relative",children:[m.jsx(zce,{className:"absolute left-3 top-3 w-5 h-5 text-neutral-400"}),m.jsx("input",{type:"email",required:!0,value:o,onChange:y=>a(y.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 focus:ring-2 focus:ring-primary-500 outline-none transition-all dark:text-white",placeholder:"registered@email.com"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"License Key"}),m.jsx("input",{type:"text",required:!0,value:r,onChange:y=>i(y.target.value),className:"w-full px-4 py-3 rounded-lg bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 focus:ring-2 focus:ring-primary-500 outline-none transition-all font-mono text-sm dark:text-white",placeholder:"ZENITH-XXXX-XXXX-XXXX"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Business Name"}),m.jsx("input",{type:"text",value:s,onChange:y=>l(y.target.value),className:"w-full px-4 py-3 rounded-lg bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 focus:ring-2 focus:ring-primary-500 outline-none transition-all dark:text-white",placeholder:"e.g. My Awesome Shop"}),m.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Leave blank if not specified by vendor."})]}),m.jsx("button",{type:"submit",disabled:d,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 rounded-lg transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center",children:d?m.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:["Activate License",m.jsx(Vce,{className:"w-5 h-5 ml-2"})]})})]}),m.jsxs("div",{className:"mt-6 pt-6 border-t border-neutral-200 dark:border-neutral-700 flex flex-col items-center gap-3",children:[m.jsx("button",{onClick:e,className:"text-primary-600 dark:text-primary-400 font-semibold text-sm hover:underline",children:"Start 7-Day Free Trial"}),m.jsx("button",{onClick:v,className:"text-red-500 text-xs hover:underline",children:"Trouble logging in? Factory Reset"})]})]}),m.jsxs("div",{className:"mt-8 text-center text-neutral-500 dark:text-neutral-400 text-sm",children:[m.jsx("p",{children:"Need a license? Contact Sales"}),m.jsx("p",{className:"mt-1 font-medium",children:"ziauddin537000@gmail.com"})]})]})},{BuildingStorefrontIcon:Gce}=cr,Hce=({onLogin:t,onInitiateRegister:e,onInitiateForgotPassword:n,error:r,onClearError:i,noUsersFound:o})=>{const[a,s]=O.useState("login"),[l,u]=O.useState(""),[c,d]=O.useState(""),[h,g]=O.useState(""),[v,y]=O.useState("");O.useEffect(()=>{o&&s("register")},[o]);const x=E=>{s(E),i==null||i(),E==="login"&&d("")},w=E=>{switch(E.preventDefault(),a){case"login":t(l,c);break;case"register":if(c!==v){alert("Passwords do not match!");return}e(h,l,c);break;case"forgot_password":n(l);break}},b=()=>{if(o&&a==="register")return"Setup Admin Account";switch(a){case"login":return"Welcome Back";case"register":return"Create Account";case"forgot_password":return"Forgot Password"}},_=()=>{if(o&&a==="register")return"Create the first admin account for this shop.";switch(a){case"login":return"Please login to your account";case"register":return"Register your admin account";case"forgot_password":return"Enter your email to receive a reset link"}};return m.jsx("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-900 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 max-w-md w-full rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row max-w-4xl",children:[m.jsxs("div",{className:"bg-primary-600 p-8 md:w-1/2 flex flex-col justify-center items-center text-center text-white",children:[m.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-6 shadow-lg",children:m.jsx(Gce,{className:"w-10 h-10 text-primary-600"})}),m.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Zenith POS"}),m.jsx("p",{className:"text-primary-100 mb-8",children:"Smart Business Management"}),m.jsxs("ul",{className:"text-left space-y-3 text-sm text-primary-50 hidden md:block",children:[m.jsx("li",{className:"flex items-center gap-2",children:" Real-time Inventory Tracking"}),m.jsx("li",{className:"flex items-center gap-2",children:" Offline Mode Support"}),m.jsx("li",{className:"flex items-center gap-2",children:" Multi-Shop Management"}),m.jsx("li",{className:"flex items-center gap-2",children:" AI-Powered Insights"})]})]}),m.jsxs("div",{className:"p-8 md:w-1/2 flex flex-col justify-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100 mb-1",children:b()}),m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-6",children:_()}),r&&m.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm border border-red-200",children:r}),o&&a==="login"&&m.jsxs("div",{className:"mb-4 p-3 bg-amber-100 text-amber-800 rounded-lg text-sm border border-amber-200",children:["Fresh Install? Please ",m.jsx("button",{onClick:()=>x("register"),className:"font-bold underline",children:"Register"})," first."]}),m.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a==="register"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Full Name"}),m.jsx("input",{type:"text",required:!0,value:h,onChange:E=>g(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:"John Doe"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email Address"}),m.jsx("input",{type:"email",required:!0,value:l,onChange:E=>u(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:"name@company.com"})]}),["login","register"].includes(a)&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Password"}),m.jsx("input",{type:"password",required:!0,value:c,onChange:E=>d(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:""}),a==="login"&&m.jsx("div",{className:"text-right mt-1",children:m.jsx("button",{type:"button",onClick:()=>x("forgot_password"),className:"text-xs text-primary-600 hover:underline",children:"Forgot Password?"})})]}),a==="register"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Confirm Password"}),m.jsx("input",{type:"password",required:!0,value:v,onChange:E=>y(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:""})]}),m.jsxs("button",{type:"submit",className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors mt-2",children:[a==="login"&&"Sign In",a==="register"&&"Register Admin",a==="forgot_password"&&"Send Reset Link"]})]}),m.jsxs("div",{className:"mt-6 text-center text-sm text-neutral-500",children:[a==="login"&&m.jsxs(m.Fragment,{children:["Don't have an account?"," ",m.jsx("button",{onClick:()=>x("register"),className:"text-primary-600 font-semibold hover:underline",children:"Register"})]}),a==="register"&&!o&&m.jsxs(m.Fragment,{children:["Already have an account?"," ",m.jsx("button",{onClick:()=>x("login"),className:"text-primary-600 font-semibold hover:underline",children:"Login"})]}),a==="register"&&o&&m.jsx("p",{className:"text-xs italic",children:"Registration required for first use."}),a==="forgot_password"&&m.jsx("button",{onClick:()=>x("login"),className:"text-neutral-500 hover:text-neutral-800 font-medium",children:" Back to Login"})]})]})]})})},Wce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),XE=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,Kce=[["1","2","3","4","5","6","7","8","9","0","Backspace"],["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M",",",".","Enter"],["Space"]],Jce=()=>{const[t,e]=O.useState(!1),[n,r]=O.useState(null),i=O.useRef(null);O.useEffect(()=>{if(!XE())return;const a=l=>{const u=l.target;(u.tagName==="INPUT"||u.tagName==="TEXTAREA")&&!u.getAttribute("readonly")&&(r(u),e(!0))},s=l=>{i.current&&i.current.contains(l.target)||n&&l.target===n||(e(!1),r(null))};return document.addEventListener("focusin",a),document.addEventListener("mousedown",s),()=>{document.removeEventListener("focusin",a),document.removeEventListener("mousedown",s)}},[n]);const o=a=>{var v;if(!n)return;const s=n.selectionStart||0,l=n.selectionEnd||0,u=n.value;let c=u,d=s;if(a==="Backspace")s===l&&s>0?(c=u.slice(0,s-1)+u.slice(s),d=s-1):(c=u.slice(0,s)+u.slice(l),d=s);else if(a==="Enter")if(n.tagName==="TEXTAREA")c=u.slice(0,s)+`
`+u.slice(l),d=s+1;else{e(!1);return}else if(a==="Space")c=u.slice(0,s)+" "+u.slice(l),d=s+1;else{const y=a;c=u.slice(0,s)+y+u.slice(l),d=s+1}const h=(v=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:v.set;h?h.call(n,c):n.value=c;const g=new Event("input",{bubbles:!0});n.dispatchEvent(g),n.focus(),n.setSelectionRange(d,d)};return!XE()||!t?null:m.jsxs("div",{ref:i,className:"fixed bottom-0 left-0 right-0 bg-neutral-200 dark:bg-neutral-900 border-t border-neutral-300 dark:border-neutral-700 p-2 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-[9999]",children:[m.jsx("div",{className:"flex justify-end mb-1",children:m.jsx("button",{onClick:()=>e(!1),className:"p-1 bg-red-500 text-white rounded hover:bg-red-600",children:m.jsx(Wce,{className:"w-5 h-5"})})}),m.jsx("div",{className:"flex flex-col gap-1 max-w-5xl mx-auto",children:Kce.map((a,s)=>m.jsx("div",{className:"flex justify-center gap-1",children:a.map(l=>{let u="w-10 sm:w-14";return l==="Space"&&(u="w-64 sm:w-80"),(l==="Backspace"||l==="Enter")&&(u="w-16 sm:w-24 bg-neutral-300 dark:bg-neutral-600"),m.jsx("button",{onMouseDown:c=>{c.preventDefault(),o(l)},className:`${u} h-10 sm:h-12 rounded bg-white dark:bg-neutral-700 text-neutral-800 dark:text-neutral-100 shadow-sm hover:bg-neutral-100 dark:hover:bg-neutral-600 active:bg-neutral-300 dark:active:bg-neutral-500 font-semibold text-sm sm:text-base transition-colors select-none`,children:l==="Backspace"?"":l},l)})},s))})]})};var Tv=function(t,e){return Tv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Tv(t,e)};function sN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Tv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var cf=function(){return cf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},cf.apply(this,arguments)};function fs(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lN(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function uN(t,e){return function(n,r){e(n,r,t)}}function cN(t,e,n,r,i,o){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var s=r.kind,l=s==="getter"?"get":s==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,h=!1,g=n.length-1;g>=0;g--){var v={};for(var y in r)v[y]=y==="access"?{}:r[y];for(var y in r.access)v.access[y]=r.access[y];v.addInitializer=function(w){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(w||null))};var x=(0,n[g])(s==="accessor"?{get:c.get,set:c.set}:c[l],v);if(s==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(d=a(x.get))&&(c.get=d),(d=a(x.set))&&(c.set=d),(d=a(x.init))&&i.unshift(d)}else(d=a(x))&&(s==="field"?i.unshift(d):c[l]=d)}u&&Object.defineProperty(u,r.name,c),h=!0}function dN(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function fN(t){return typeof t=="symbol"?t:"".concat(t)}function hN(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function pN(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function oe(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}function mN(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Ph=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function gN(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ph(e,t,n)}function df(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function J0(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function vN(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(J0(arguments[e]));return t}function yN(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function wN(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function qa(t){return this instanceof qa?(this.v=t,this):new qa(t)}function bN(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(v){return Promise.resolve(v).then(g,d)}}function s(g,v){r[g]&&(i[g]=function(y){return new Promise(function(x,w){o.push([g,y,x,w])>1||l(g,y)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(r[g](v))}catch(y){h(o[0][3],y)}}function u(g){g.value instanceof qa?Promise.resolve(g.value.v).then(c,d):h(o[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function xN(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(a){return(n=!n)?{value:qa(t[i](a)),done:!1}:o?o(a):a}:o}}function _N(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof df=="function"?df(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}function SN(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Yce=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Av=function(t){return Av=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Av(t)};function EN(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Av(t),r=0;r<n.length;r++)n[r]!=="default"&&Ph(e,t,n[r]);return Yce(e,t),e}function TN(t){return t&&t.__esModule?t:{default:t}}function AN(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function CN(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function PN(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function kN(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var Xce=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function IN(t){function e(o){t.error=t.hasError?new Xce(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(a){return e(a),i()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function NN(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,a){return r?e?".jsx":".js":i&&(!o||!a)?n:i+o+"."+a.toLowerCase()+"js"}):t}const Qce={__extends:sN,__assign:cf,__rest:fs,__decorate:lN,__param:uN,__esDecorate:cN,__runInitializers:dN,__propKey:fN,__setFunctionName:hN,__metadata:pN,__awaiter:oe,__generator:mN,__createBinding:Ph,__exportStar:gN,__values:df,__read:J0,__spread:vN,__spreadArrays:yN,__spreadArray:wN,__await:qa,__asyncGenerator:bN,__asyncDelegator:xN,__asyncValues:_N,__makeTemplateObject:SN,__importStar:EN,__importDefault:TN,__classPrivateFieldGet:AN,__classPrivateFieldSet:CN,__classPrivateFieldIn:PN,__addDisposableResource:kN,__disposeResources:IN,__rewriteRelativeImportExtension:NN},Zce=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:kN,get __assign(){return cf},__asyncDelegator:xN,__asyncGenerator:bN,__asyncValues:_N,__await:qa,__awaiter:oe,__classPrivateFieldGet:AN,__classPrivateFieldIn:PN,__classPrivateFieldSet:CN,__createBinding:Ph,__decorate:lN,__disposeResources:IN,__esDecorate:cN,__exportStar:gN,__extends:sN,__generator:mN,__importDefault:TN,__importStar:EN,__makeTemplateObject:SN,__metadata:pN,__param:uN,__propKey:fN,__read:J0,__rest:fs,__rewriteRelativeImportExtension:NN,__runInitializers:dN,__setFunctionName:hN,__spread:vN,__spreadArray:wN,__spreadArrays:yN,__values:df,default:Qce},Symbol.toStringTag,{value:"Module"})),ede=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Y0 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class tde extends Y0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class QE extends Y0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ZE extends Y0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Cv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Cv||(Cv={}));class nde{constructor(e,{headers:n={},customFetch:r,region:i=Cv.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=ede(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return oe(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:g}=r;g||(g=this.region);const v=new URL(`${this.url}/${n}`);g&&g!=="any"&&(h["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let y;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let x=c;d&&(a=new AbortController,o=setTimeout(()=>a.abort(),d),c?(x=a.signal,c.addEventListener("abort",()=>a.abort())):x=a.signal);const w=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:x}).catch(S=>{throw new tde(S)}),b=w.headers.get("x-relay-error");if(b&&b==="true")throw new QE(w);if(!w.ok)throw new ZE(w);let _=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return _==="application/json"?E=yield w.json():_==="application/octet-stream"||_==="application/pdf"?E=yield w.blob():_==="text/event-stream"?E=w:_==="multipart/form-data"?E=yield w.formData():E=yield w.text(),{data:E,error:null,response:w}}catch(s){return{data:null,error:s,response:s instanceof ZE||s instanceof QE?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var Ut={};const hs=vO(Zce);var uc={},cc={},dc={},fc={},hc={},pc={},eT;function ON(){if(eT)return pc;eT=1,Object.defineProperty(pc,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return pc.default=t,pc}var tT;function RN(){if(tT)return hc;tT=1,Object.defineProperty(hc,"__esModule",{value:!0});const e=hs.__importDefault(ON());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let s=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,d,h;let g=null,v=null,y=null,x=l.status,w=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=S:v=JSON.parse(S))}const _=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),E=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");_&&E&&E.length>1&&(y=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(g={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,y=null,x=406,w="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const _=await l.text();try{g=JSON.parse(_),Array.isArray(g)&&l.status===404&&(v=[],g=null,x=200,w="OK")}catch{l.status===404&&_===""?(x=204,w="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((h=g==null?void 0:g.details)===null||h===void 0)&&h.includes("0 rows"))&&(g=null,x=200,w="OK"),g&&this.shouldThrowOnError)throw new e.default(g)}return{error:g,data:v,count:y,status:x,statusText:w}});return this.shouldThrowOnError||(s=s.catch(l=>{var u,c,d,h,g,v;let y="";const x=l==null?void 0:l.cause;if(x){const w=(u=x==null?void 0:x.message)!==null&&u!==void 0?u:"",b=(c=x==null?void 0:x.code)!==null&&c!==void 0?c:"";y=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,y+=`

Caused by: ${(h=x==null?void 0:x.name)!==null&&h!==void 0?h:"Error"}: ${w}`,b&&(y+=` (${b})`),x!=null&&x.stack&&(y+=`
${x.stack}`)}else y=(g=l==null?void 0:l.stack)!==null&&g!==void 0?g:"";return{error:{message:`${(v=l==null?void 0:l.name)!==null&&v!==void 0?v:"FetchError"}: ${l==null?void 0:l.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,o)}returns(){return this}overrideTypes(){return this}}return hc.default=n,hc}var nT;function MN(){if(nT)return fc;nT=1,Object.defineProperty(fc,"__esModule",{value:!0});const e=hs.__importDefault(RN());class n extends e.default{select(i){let o=!1;const a=(i??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:a,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${o?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:a=o}={}){const s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,o,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:a=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var c;const d=[i?"analyze":null,o?"verbose":null,a?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return fc.default=n,fc}var rT;function X0(){if(rT)return dc;rT=1,Object.defineProperty(dc,"__esModule",{value:!0});const e=hs.__importDefault(MN()),n=new RegExp("[,()]");class r extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const s=Array.from(new Set(a)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(o,`in.(${s})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:s,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(o,`${u}fts${c}.${a}`),this}match(o){return Object.entries(o).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(o,a,s){return this.url.searchParams.append(o,`not.${a}.${s}`),this}or(o,{foreignTable:a,referencedTable:s=a}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${o})`),this}filter(o,a,s){return this.url.searchParams.append(o,`${a}.${s}`),this}}return dc.default=r,dc}var iT;function $N(){if(iT)return cc;iT=1,Object.defineProperty(cc,"__esModule",{value:!0});const e=hs.__importDefault(X0());class n{constructor(i,{headers:o={},schema:a,fetch:s}){this.url=i,this.headers=new Headers(o),this.schema=a,this.fetch=s}select(i,o){const{head:a=!1,count:s}=o??{},l=a?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:a=!0}={}){var s;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:a=!1,count:s,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:o}={}){var a;const s="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var o;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return cc.default=n,cc}var oT;function rde(){if(oT)return uc;oT=1,Object.defineProperty(uc,"__esModule",{value:!0});const t=hs,e=t.__importDefault($N()),n=t.__importDefault(X0());class r{constructor(o,{headers:a={},schema:s,fetch:l}={}){this.url=o,this.headers=new Headers(a),this.schemaName=s,this.fetch=l}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:s=!1,get:l=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${o}`);let g;s||l?(d=s?"HEAD":"GET",Object.entries(a).filter(([y,x])=>x!==void 0).map(([y,x])=>[y,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([y,x])=>{h.searchParams.append(y,x)})):(d="POST",g=a);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new n.default({method:d,url:h,headers:v,schema:this.schemaName,body:g,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return uc.default=r,uc}Object.defineProperty(Ut,"__esModule",{value:!0});var DN=Ut.PostgrestError=HN=Ut.PostgrestBuilder=qN=Ut.PostgrestTransformBuilder=VN=Ut.PostgrestFilterBuilder=BN=Ut.PostgrestQueryBuilder=LN=Ut.PostgrestClient=void 0;const ps=hs,jN=ps.__importDefault(rde());var LN=Ut.PostgrestClient=jN.default;const UN=ps.__importDefault($N());var BN=Ut.PostgrestQueryBuilder=UN.default;const FN=ps.__importDefault(X0());var VN=Ut.PostgrestFilterBuilder=FN.default;const zN=ps.__importDefault(MN());var qN=Ut.PostgrestTransformBuilder=zN.default;const GN=ps.__importDefault(RN());var HN=Ut.PostgrestBuilder=GN.default;const WN=ps.__importDefault(ON());DN=Ut.PostgrestError=WN.default;var KN=Ut.default={PostgrestClient:jN.default,PostgrestQueryBuilder:UN.default,PostgrestFilterBuilder:FN.default,PostgrestTransformBuilder:zN.default,PostgrestBuilder:GN.default,PostgrestError:WN.default};const ide=gO({__proto__:null,get PostgrestBuilder(){return HN},get PostgrestClient(){return LN},get PostgrestError(){return DN},get PostgrestFilterBuilder(){return VN},get PostgrestQueryBuilder(){return BN},get PostgrestTransformBuilder(){return qN},default:KN},[Ut]),{PostgrestClient:ode,PostgrestQueryBuilder:bhe,PostgrestFilterBuilder:xhe,PostgrestTransformBuilder:_he,PostgrestBuilder:She,PostgrestError:Ehe}=KN||ide;class ade{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const sde="2.83.0",lde=`realtime-js/${sde}`,JN="1.0.0",ude="2.0.0",aT=JN,Pv=1e4,cde=1e3,dde=100;var Li;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Li||(Li={}));var dt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(dt||(dt={}));var En;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(En||(En={}));var kv;(function(t){t.websocket="websocket"})(kv||(kv={}));var Ui;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ui||(Ui={}));class fde{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodePush(e){var n,r;const{event:i,topic:o,payload:a}=e,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=this.META_LENGTH+l.length+s.length+o.length+i.length,c=new ArrayBuffer(this.HEADER_LENGTH+u);let d=new DataView(c),h=0;d.setUint8(h++,this.KINDS.push),d.setUint8(h++,l.length),d.setUint8(h++,s.length),d.setUint8(h++,o.length),d.setUint8(h++,i.length),Array.from(l,v=>d.setUint8(h++,v.charCodeAt(0))),Array.from(s,v=>d.setUint8(h++,v.charCodeAt(0))),Array.from(o,v=>d.setUint8(h++,v.charCodeAt(0))),Array.from(i,v=>d.setUint8(h++,v.charCodeAt(0)));var g=new Uint8Array(c.byteLength+a.byteLength);return g.set(new Uint8Array(c),0),g.set(new Uint8Array(a),c.byteLength),g.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r,i,o;const a=e.topic,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,c=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let g=new DataView(h),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,l.length),g.setUint8(v++,s.length),g.setUint8(v++,a.length),g.setUint8(v++,u.length),g.setUint8(v++,this.BINARY_ENCODING),Array.from(l,x=>g.setUint8(v++,x.charCodeAt(0))),Array.from(s,x=>g.setUint8(v++,x.charCodeAt(0))),Array.from(a,x=>g.setUint8(v++,x.charCodeAt(0))),Array.from(u,x=>g.setUint8(v++,x.charCodeAt(0)));var y=new Uint8Array(h.byteLength+c.byteLength);return y.set(new Uint8Array(h),0),y.set(new Uint8Array(c),h.byteLength),y.buffer}_encodeJsonUserBroadcastPush(e){var n,r,i,o;const a=e.topic,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,c=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer,g=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let y=new DataView(v),x=0;y.setUint8(x++,this.KINDS.userBroadcastPush),y.setUint8(x++,l.length),y.setUint8(x++,s.length),y.setUint8(x++,a.length),y.setUint8(x++,u.length),y.setUint8(x++,this.JSON_ENCODING),Array.from(l,b=>y.setUint8(x++,b.charCodeAt(0))),Array.from(s,b=>y.setUint8(x++,b.charCodeAt(0))),Array.from(a,b=>y.setUint8(x++,b.charCodeAt(0))),Array.from(u,b=>y.setUint8(x++,b.charCodeAt(0)));var w=new Uint8Array(v.byteLength+h.byteLength);return w.set(new Uint8Array(v),0),w.set(new Uint8Array(h),v.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,n,i);case this.KINDS.reply:return this._decodeReply(e,n,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodePush(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3);let s=this.HEADER_LENGTH+this.META_LENGTH-1;const l=r.decode(e.slice(s,s+i));s=s+i;const u=r.decode(e.slice(s,s+o));s=s+o;const c=r.decode(e.slice(s,s+a));s=s+a;const d=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{join_ref:l,ref:null,topic:u,event:c,payload:d}}_decodeReply(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const h=r.decode(e.slice(l,l+s));l=l+s;const g=JSON.parse(r.decode(e.slice(l,e.byteLength))),v={status:h,response:g};return{join_ref:u,ref:c,topic:d,event:En.reply,payload:v}}_decodeBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const s=r.decode(e.slice(a,a+i));a=a+i;const l=r.decode(e.slice(a,a+o));a=a+o;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{join_ref:null,ref:null,topic:s,event:l,payload:u}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),g=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST,event:c,payload:g};return a>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class YN{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($e||($e={}));const sT=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=hde(a,t,e,i),o),{}):{}},hde=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?XN(o,a):Iv(a)},XN=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return vde(e,n)}switch(t){case $e.bool:return pde(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return mde(e);case $e.json:case $e.jsonb:return gde(e);case $e.timestamp:return yde(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Iv(e);default:return Iv(e)}},Iv=t=>t,pde=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},mde=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},gde=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},vde=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>XN(e,s))}return t},yde=t=>typeof t=="string"?t.replace(" ","T"):t,QN=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Bp{constructor(e,n,r={},i=Pv){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var lT;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(lT||(lT={}));class ll{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ll.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=ll.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ll.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=o[u];if(d){const h=c.map(x=>x.presence_ref),g=d.map(x=>x.presence_ref),v=c.filter(x=>g.indexOf(x.presence_ref)<0),y=d.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(s[u]=v),y.length>0&&(l[u]=y)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const d=e[s].map(g=>g.presence_ref),h=c.filter(g=>d.indexOf(g.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(uT||(uT={}));var ul;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ul||(ul={}));var yr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yr||(yr={}));class Q0{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Bp(this,En.join,this.params,this.timeout),this.rejoinTimer=new YN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(En.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new ll(this),this.broadcastEndpointURL=QN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==dt.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[ul.PRESENCE]&&this.bindings[ul.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(yr.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(yr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){e==null||e(yr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,w=[];for(let b=0;b<x;b++){const _=y[b],{filter:{event:E,schema:S,table:T,filter:A}}=_,C=g&&g[b];if(C&&C.event===E&&C.schema===S&&C.table===T&&C.filter===A)w.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=dt.errored,e==null||e(yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(yr.SUBSCRIBED);return}}).receive("error",g=>{this.state=dt.errored,e==null||e(yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===dt.joined&&e===ul.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=dt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(En.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Bp(this,En.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Bp(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>dde){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=En;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var v,y,x;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(y=g.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(g=>g.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var v,y,x,w,b,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const E=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return E&&((y=n.ids)===null||y===void 0?void 0:y.includes(E))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const E=(b=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return E==="*"||E===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:y,table:x,commit_timestamp:w,type:b,errors:_}=v;h=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:w,eventType:b,new:{},old:{},errors:_}),this._getPayloadRecords(v))}g.callback(h,r)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Q0.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(En.close,{},e)}_onError(e){this._on(En.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=sT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=sT(e.columns,e.old_record)),n}}const Fp=()=>{},mc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wde=[1e3,2e3,5e3,1e4],bde=1e4,xde=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _de{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pv,this.transport=null,this.heartbeatIntervalMs=mc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fp,this.ref=0,this.reconnectTimer=null,this.vsn=aT,this.logger=Fp,this.conn=null,this.sendBuffer=[],this.serializer=new fde,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${kv.websocket}`,this.httpEndpoint=QN(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ade.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Li.connecting:return Ui.Connecting;case Li.open:return Ui.Open;case Li.closing:return Ui.Closing;default:return Ui.Closed}}isConnected(){return this.connectionState()===Ui.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Q0(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(cde,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},mc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Li.open||this.conn.readyState===Li.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(En.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([xde],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:lde};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(En.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new YN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,u,c,d,h,g;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Pv,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:mc.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Fp,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:aT,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>wde[v-1]||bde,this.vsn){case JN:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(v,y)=>y(JSON.stringify(v)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(v,y)=>y(JSON.parse(v));break;case ude:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Z0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Xe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Sde extends Z0{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nv extends Z0{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const ew=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ede=()=>Response,Ov=t=>{if(Array.isArray(t))return t.map(n=>Ov(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Ov(r)}),e},Tde=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Vp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Ade=(t,e,n)=>oe(void 0,void 0,void 0,function*(){const r=yield Ede();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const o=t.status||500,a=(i==null?void 0:i.statusCode)||o+"";e(new Sde(Vp(i),o,a))}).catch(i=>{e(new Nv(Vp(i),i))}):e(new Nv(Vp(t),t))}),Cde=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(Tde(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Au(t,e,n,r,i,o){return oe(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(n,Cde(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>Ade(l,s,r))})})}function lu(t,e,n,r){return oe(this,void 0,void 0,function*(){return Au(t,"GET",e,n,r)})}function Vn(t,e,n,r,i){return oe(this,void 0,void 0,function*(){return Au(t,"POST",e,r,i,n)})}function Rv(t,e,n,r,i){return oe(this,void 0,void 0,function*(){return Au(t,"PUT",e,r,i,n)})}function Pde(t,e,n,r){return oe(this,void 0,void 0,function*(){return Au(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function tw(t,e,n,r,i){return oe(this,void 0,void 0,function*(){return Au(t,"DELETE",e,r,i,n)})}class kde{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return oe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}}var ZN;class Ide{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[ZN]="BlobDownloadBuilder",this.promise=null}asStream(){return new kde(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return oe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}}ZN=Symbol.toStringTag;const Nde={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ode{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=ew(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return oe(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},cT),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(e=="PUT"?Rv:Vn)(this.fetch,`${this.url}/object/${c}`,o,Object.assign({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}})}upload(e,n,r){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return oe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),a=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:cT.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield Rv(this.fetch,s.toString(),l,{headers:c});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return oe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Vn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new Z0("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}update(e,n,r){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return oe(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}copy(e,n,r){return oe(this,void 0,void 0,function*(){try{return{data:{path:(yield Vn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return oe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Vn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return oe(this,void 0,void 0,function*(){try{const i=yield Vn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"",s=this._getFinalPath(e),l=()=>lu(this.fetch,`${this.url}/${i}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new Ide(l,this.shouldThrowOnError)}info(e){return oe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield lu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ov(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}exists(e){return oe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Pde(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r)&&r instanceof Nv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(e){return oe(this,void 0,void 0,function*(){try{return{data:yield tw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}list(e,n,r){return oe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Nde),n),{prefix:e||""});return{data:yield Vn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}listV2(e,n){return oe(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Vn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const eO="2.83.0",tO={"X-Client-Info":`storage-js/${eO}`};class Rde{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tO),n),this.fetch=ew(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return oe(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield lu(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}getBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield lu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}createBucket(e){return oe(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Vn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return oe(this,void 0,void 0,function*(){try{return{data:yield Rv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield tw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class Mde{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tO),n),this.fetch=ew(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}listBuckets(e){return oe(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield lu(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield tw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}}const nw={"X-Client-Info":`storage-js/${eO}`,"Content-Type":"application/json"};class nO extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function cn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class zp extends nO{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $de extends nO{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var dT;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(dT||(dT={}));const rw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Dde=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},fT=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jde=(t,e,n)=>oe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new zp(fT(a),i,s))}).catch(()=>{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new zp(s,i,a))});else{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new zp(s,i,a))}}else e(new $de(fT(t),t))}),Lde=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(Dde(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function Ude(t,e,n,r,i,o){return oe(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(n,Lde(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>jde(l,s,r))})})}function dn(t,e,n,r,i){return oe(this,void 0,void 0,function*(){return Ude(t,"POST",e,r,i,n)})}class Bde{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nw),n),this.fetch=rw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield dn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return oe(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}listIndexes(e){return oe(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return oe(this,void 0,void 0,function*(){try{return{data:(yield dn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}}class Fde{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nw),n),this.fetch=rw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield dn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}getVectors(e){return oe(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}listVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield dn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}queryVectors(e){return oe(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield dn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}}class Vde{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nw),n),this.fetch=rw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield dn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}getBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}listBuckets(){return oe(this,arguments,void 0,function*(e={}){try{return{data:yield dn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield dn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}}class zde extends Vde{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new qde(this.url,this.headers,e,this.fetch)}}class qde extends Bde{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return oe(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return oe(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return oe(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return oe(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Gde(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Gde extends Fde{constructor(e,n,r,i,o){super(e,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return oe(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return oe(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return oe(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return oe(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return oe(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Hde extends Rde{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new Ode(this.url,this.headers,e,this.fetch)}get vectors(){return new zde(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Mde(this.url+"/iceberg",this.headers,this.fetch)}}const Wde="2.83.0";let qs="";typeof Deno<"u"?qs="deno":typeof document<"u"?qs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qs="react-native":qs="node";const Kde={"X-Client-Info":`supabase-js-${qs}/${Wde}`},Jde={headers:Kde},Yde={schema:"public"},Xde={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qde={},Zde=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),efe=()=>Headers,tfe=(t,e,n)=>{const r=Zde(n),i=efe();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},a),{headers:u}))}};function nfe(t){return t.endsWith("/")?t:t+"/"}function rfe(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},c),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function ife(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nfe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const rO="2.83.0",No=30*1e3,Mv=3,qp=Mv*No,ofe="http://localhost:9999",afe="supabase.auth.token",sfe={"X-Client-Info":`gotrue-js/${rO}`},$v="X-Supabase-Api-Version",iO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lfe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ufe=10*60*1e3;class uu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class cfe extends uu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function dfe(t){return se(t)&&t.name==="AuthApiError"}class Bi extends uu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Si extends uu{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class rn extends Si{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ffe(t){return se(t)&&t.name==="AuthSessionMissingError"}class Ao extends Si{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gc extends Si{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vc extends Si{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hfe(t){return se(t)&&t.name==="AuthImplicitGrantRedirectError"}class hT extends Si{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dv extends Si{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Gp(t){return se(t)&&t.name==="AuthRetryableFetchError"}class pT extends Si{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class jv extends Si{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ff="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mT=` 	
\r=`.split(""),pfe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<mT.length;e+=1)t[mT[e].charCodeAt(0)]=-2;for(let e=0;e<ff.length;e+=1)t[ff[e].charCodeAt(0)]=e;return t})();function gT(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ff[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ff[r]),e.queuedBits-=6}}function oO(t,e,n){const r=pfe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function vT(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{vfe(a,r,n)};for(let a=0;a<t.length;a+=1)oO(t.charCodeAt(a),i,o);return e.join("")}function mfe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function gfe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}mfe(r,e)}}function vfe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function da(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)oO(t.charCodeAt(i),n,r);return new Uint8Array(e)}function yfe(t){const e=[];return gfe(t,n=>e.push(n)),new Uint8Array(e)}function Ki(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>gT(i,n,r)),gT(null,n,r),e.join("")}function wfe(t){return Math.round(Date.now()/1e3)+t}function bfe(){return Symbol("auth-callback")}const Tt=()=>typeof window<"u"&&typeof document<"u",ki={tested:!1,writable:!1},aO=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ki.tested)return ki.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ki.tested=!0,ki.writable=!0}catch{ki.tested=!0,ki.writable=!1}return ki.writable};function xfe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const sO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_fe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Oo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ii=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Gr=async(t,e)=>{await t.removeItem(e)};class kh{constructor(){this.promise=new kh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}kh.promiseConstructor=Promise;function Hp(t){const e=t.split(".");if(e.length!==3)throw new jv("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!lfe.test(e[r]))throw new jv("JWT not in base64url format");return{header:JSON.parse(vT(e[0])),payload:JSON.parse(vT(e[1])),signature:da(e[2]),raw:{header:e[0],payload:e[1]}}}async function Sfe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Efe(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function Tfe(t){return("0"+t.toString(16)).substr(-2)}function Afe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Tfe).join("")}async function Cfe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Pfe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Cfe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Co(t,e,n=!1){const r=Afe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Oo(t,`${e}-code-verifier`,i);const o=await Pfe(r);return[o,r===o?"plain":"s256"]}const kfe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ife(t){const e=t.headers.get($v);if(!e||!e.match(kfe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Nfe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Ofe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rfe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Po(t){if(!Rfe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mfe(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function yT(t){return JSON.parse(JSON.stringify(t))}const Di=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$fe=[502,503,504];async function wT(t){var e;if(!_fe(t))throw new Dv(Di(t),0);if($fe.includes(t.status))throw new Dv(Di(t),t.status);let n;try{n=await t.json()}catch(o){throw new Bi(Di(o),o)}let r;const i=Ife(t);if(i&&i.getTime()>=iO["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new pT(Di(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new rn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new pT(Di(n),t.status,n.weak_password.reasons);throw new cfe(Di(n),t.status||500,r)}const Dfe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function pe(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[$v]||(o[$v]=iO["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await jfe(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function jfe(t,e,n,r,i,o){const a=Dfe(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new Dv(Di(l),0)}if(s.ok||await wT(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await wT(l)}}function Bn(t){var e;let n=null;Bfe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=wfe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function bT(t){const e=Bn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Lfe(t){return{data:t,error:null}}function Ufe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=fs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function xT(t){return t}function Bfe(t){return t.access_token&&t.refresh_token&&t.expires_in}const Kp=["global","local","others"];class Ffe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=sO(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Kp[0]){if(Kp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kp.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Qr})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=fs(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Ufe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qr})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:xT});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(se(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Po(e);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qr})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Po(e);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Qr})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Po(e);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Qr})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Po(e.userId);try{const{data:n,error:r}=await pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Po(e.userId),Po(e.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:xT});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(se(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}}function _T(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ko={debug:!!(globalThis&&aO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Vfe extends lO{}async function zfe(t,e,n){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ko.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Vfe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ko.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function qfe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uO(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Gfe(t){return parseInt(t,16)}function Hfe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Wfe(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=uO(t.address),v=c?`${c}://${r}`:r,y=t.statement?`${t.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${g}

${y}`;let w=`URI: ${d}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),s&&(w+=`
Not Before: ${s.toISOString()}`),l&&(w+=`
Request ID: ${l}`),u){let b=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);b+=`
- ${_}`}w+=b}return`${x}
${w}`}class ot extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class hf extends ot{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Kfe({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ot({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(cO(a)){if(o.rp.id!==a)return new ot({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Jfe({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ot({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(cO(r)){if(n.rpId!==r)return new ot({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Yfe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Xfe=new Yfe;function Qfe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=fs(t,["challenge","user","excludeCredentials"]),o=da(e).buffer,a=Object.assign(Object.assign({},n),{id:da(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:da(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function Zfe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=fs(t,["challenge","allowCredentials"]),i=da(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:da(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function ehe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ki(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ki(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function the(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ki(new Uint8Array(i.authenticatorData)),clientDataJSON:Ki(new Uint8Array(i.clientDataJSON)),signature:Ki(new Uint8Array(i.signature)),userHandle:i.userHandle?Ki(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function cO(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ST(){var t,e;return!!(Tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function nhe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hf("Browser returned unexpected credential type",e)}:{data:null,error:new hf("Empty credential response",e)}}catch(e){return{data:null,error:Kfe({error:e,options:t})}}}async function rhe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hf("Browser returned unexpected credential type",e)}:{data:null,error:new hf("Empty credential response",e)}}catch(e){return{data:null,error:Jfe({error:e,options:t})}}}const ihe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ohe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=pf(s,a):r[o]=pf(a)}else r[o]=a}return r}function ahe(t,e){return pf(ihe,t,e||{})}function she(t,e){return pf(ohe,t,e||{})}class lhe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??Xfe.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=ahe(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:c,error:d}=await nhe({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=she(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:c,error:d}=await rhe(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(a){return se(a)?{data:null,error:a}:{data:null,error:new Bi("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new uu("rpId is required for WebAuthn authentication")};try{if(!ST())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return se(a)?{data:null,error:a}:{data:null,error:new Bi("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new uu("rpId is required for WebAuthn registration")};try{if(!ST())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return se(a)?{data:null,error:a}:{data:null,error:new Bi("Unexpected error in register",a)}}}}qfe();const uhe={url:ofe,storageKey:afe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sfe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ET(t,e,n){return await n()}const Io={};class cu{get jwks(){var e,n;return(n=(e=Io[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Io[this.storageKey]=Object.assign(Object.assign({},Io[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Io[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Io[this.storageKey]=Object.assign(Object.assign({},Io[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},uhe),e);if(this.storageKey=o.storageKey,this.instanceID=(n=cu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,cu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Tt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Ffe({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=sO(o.fetch),this.lock=o.lock||ET,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Tt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=zfe:this.lock=ET,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lhe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:aO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_T(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=_T(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rO}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Tt()&&(n=xfe(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Tt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),hfe(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return se(n)?this._returnResult({error:n}):this._returnResult({error:new Bi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Bn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:c,password:d,options:h}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Co(this.storage,this.storageKey)),o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:Bn})}else if("phone"in e){const{phone:c,password:d,options:h}=e;o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Bn})}else throw new gc("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:bT})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:bT})}else throw new gc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Ao;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,u,c,d,h;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:y,wallet:x,statement:w,options:b}=e;let _;if(Tt())if(typeof x=="object")_=x;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")_=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const E=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=uO(S[0]);let A=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const P=await _.request({method:"eth_chainId"});A=Gfe(P)}const C={domain:E.host,address:T,statement:w,uri:E.href,version:"1",chainId:A,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.resources};g=Wfe(C),v=await _.request({method:"personal_sign",params:[Hfe(g),T]})}try{const{data:y,error:x}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Bn});if(x)throw x;if(!y||!y.session||!y.user){const w=new Ao;return this._returnResult({data:{user:null,session:null},error:w})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:x})}catch(y){if(se(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var n,r,i,o,a,s,l,u,c,d,h,g;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:x,wallet:w,statement:b,options:_}=e;let E;if(Tt())if(typeof w=="object")E=w;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))E=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const T=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let A;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")A=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)A=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)v=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),y=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const T=await E.signMessage(new TextEncoder().encode(v),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=T}}try{const{data:x,error:w}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Ki(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Bn});if(w)throw w;if(!x||!x.session||!x.user){const b=new Ao;return this._returnResult({data:{user:null,session:null},error:b})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(se(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const n=await Ii(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Bn});if(await Gr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new Ao;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(se(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Bn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Ao;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Co(this.storage,this.storageKey));const{error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new gc("You must provide either an email or phone number.")}catch(s){if(se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Bn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Co(this.storage,this.storageKey));const u=await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:Lfe});return!((o=u.data)===null||o===void 0)&&o.url&&Tt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new rn;const{error:i}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(se(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new gc("You must provide either an email or phone number and a type")}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ii(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<qp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Ii(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Wp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=Mfe(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qr}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rn}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Qr})})}catch(n){if(se(n))return ffe(n)&&(await this._removeSession(),await Gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new rn;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await Co(this.storage,this.storageKey));const{data:u,error:c}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:Qr});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(se(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new rn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=Hp(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(se(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new rn;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Tt())throw new vc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new hT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new hT("No code detected.");const{data:b,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=e;if(!o||!s||!a||!u)throw new vc("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let h=c+d;l&&(h=parseInt(l));const g=h-c;g*1e3<=No&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:y,error:x}=await this._getUser(o);if(x)throw x;const w={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(r){if(se(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ii(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(dfe(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await Gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=bfe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Co(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(se(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:d,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Tt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(se(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=e,d=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bn}),{data:h,error:g}=d;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Ao}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Efe(async i=>(i>0&&await Sfe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Bn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&Gp(o)&&Date.now()+a-r<No})}catch(r){if(this._debug(n,"error",r),se(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Tt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ii(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ii(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Oo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Wp()}else if(i&&!i.user&&!i.user){const a=await Ii(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Gr(this.storage,this.storageKey+"-user"),await Oo(this.storage,this.storageKey,i)):i.user=Wp()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<qp;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${qp}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Gp(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new rn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new kh;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new rn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),se(o)){const a={data:null,error:o};return Gp(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Oo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=yT(i);await Oo(this.storage,this.storageKey,o)}else{const i=yT(n);await Oo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Gr(this.storage,this.storageKey),await Gr(this.storage,this.storageKey+"-code-verifier"),await Gr(this.storage,this.storageKey+"-user"),this.userStorage&&await Gr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),No);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/No);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${No}ms, refresh threshold is ${Mv} ticks`),i<=Mv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof lO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await Co(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?ehe(e.webauthn.credential_response):the(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Qfe(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Zfe(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Hp(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new rn})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new rn});const a=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Tt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new rn});const a=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Tt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new rn})})}catch(e){if(se(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new rn})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+ufe>i)return r;const{data:o,error:a}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return this._returnResult({data:null,error:v});r=g.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=Hp(r);n!=null&&n.allowExpired||Nfe(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:i,signature:a},error:null}}const c=Ofe(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,yfe(`${s}.${l}`)))throw new jv("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}}cu.nextInstanceID={};const che=cu;class dhe extends che{constructor(e){super(e)}}class fhe{constructor(e,n,r){var i,o,a;this.supabaseUrl=e,this.supabaseKey=n;const s=ife(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:Yde,realtime:Qde,auth:Object.assign(Object.assign({},Xde),{storageKey:l}),global:Jde},c=rfe(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=c.global.headers)!==null&&o!==void 0?o:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=c.auth)!==null&&a!==void 0?a:{},this.headers,c.global.fetch),this.fetch=tfe(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new ode(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Hde(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new nde(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:a,flowType:s,lock:l,debug:u,throwOnError:c},d,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dhe({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:s,lock:l,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new _de(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hhe=(t,e,n)=>new fhe(t,e,n);function phe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}phe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const mhe={VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3d3R4Y2NndGtmYXhhbWRlc2FwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1MzExNzQsImV4cCI6MjA3OTEwNzE3NH0.9k0oqOZDctqpI22FhLsq-Y2Rz2Ak51bzYkb46nRQizQ",VITE_SUPABASE_URL:"https://twwtxccgtkfaxamdesap.supabase.co"},dO=mhe||{},fO=dO.VITE_SUPABASE_URL,hO=dO.VITE_SUPABASE_ANON_KEY,js=!!fO&&!!hO,ghe=fO||"https://placeholder.supabase.co",vhe=hO||"placeholder",Ls=hhe(ghe,vhe);function mr(t,e){try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.error(`Error loading ${t} from storage`,n),e}}function yhe(){const[t,e]=O.useState(null),[n,r]=O.useState(!0),[i,o]=O.useState(!1),[a,s]=O.useState(()=>mr("zenith_license_database",[])),[l,u]=O.useState(null),[c,d]=O.useState(null),[h,g]=O.useState(!0),[v,y]=O.useState(()=>mr("zenith_users",vb)),[x,w]=O.useState(()=>mr("zenith_products",o$)),[b,_]=O.useState(()=>mr("zenith_customers",a$)),[E,S]=O.useState(()=>mr("zenith_suppliers",s$)),[T,A]=O.useState(()=>mr("zenith_pos",l$)),[C,P]=O.useState(()=>mr("zenith_sales",c$)),[N,k]=O.useState(()=>mr("zenith_expenses",u$)),[R,j]=O.useState(()=>mr("zenith_licenses",h$)),[V,F]=O.useState(p$),[M,L]=O.useState(null),[$,U]=O.useState([]),[B,W]=O.useState("dashboard"),[H,X]=O.useState(!1),[le,we]=O.useState(!1),[be,Be]=O.useState("Zenith POS"),[Ye,Z]=O.useState(null),[ue,de]=O.useState("en"),[D,fe]=O.useState("USD"),[ie,_e]=O.useState(navigator.onLine);O.useEffect(()=>localStorage.setItem("zenith_users",JSON.stringify(v)),[v]),O.useEffect(()=>localStorage.setItem("zenith_products",JSON.stringify(x)),[x]),O.useEffect(()=>localStorage.setItem("zenith_customers",JSON.stringify(b)),[b]),O.useEffect(()=>localStorage.setItem("zenith_suppliers",JSON.stringify(E)),[E]),O.useEffect(()=>localStorage.setItem("zenith_pos",JSON.stringify(T)),[T]),O.useEffect(()=>localStorage.setItem("zenith_sales",JSON.stringify(C)),[C]),O.useEffect(()=>localStorage.setItem("zenith_expenses",JSON.stringify(N)),[N]),O.useEffect(()=>localStorage.setItem("zenith_licenses",JSON.stringify(R)),[R]),O.useEffect(()=>localStorage.setItem("zenith_license_database",JSON.stringify(a)),[a]),O.useEffect(()=>{l?localStorage.setItem("zenith_current_user",JSON.stringify(l)):localStorage.removeItem("zenith_current_user")},[l]),O.useEffect(()=>{const K=()=>{_e(!0),F(Q=>[{id:`n-net-${Date.now()}`,title:"Back Online",message:"Connection restored. Syncing data...",timestamp:new Date().toISOString(),read:!1},...Q])},G=()=>{_e(!1),F(Q=>[{id:`n-net-${Date.now()}`,title:"Offline Mode",message:"You are offline. Changes will be saved locally.",timestamp:new Date().toISOString(),read:!1},...Q])};return window.addEventListener("online",K),window.addEventListener("offline",G),()=>{window.removeEventListener("online",K),window.removeEventListener("offline",G)}},[]),O.useEffect(()=>{(async()=>{const G=localStorage.getItem("zenith_master_license");let Q=null;if(G)try{const ee=JSON.parse(G);ee&&ee.key&&ee.validUntil&&(new Date(ee.validUntil)>new Date?(Q=ee,e(ee),o(!1)):localStorage.removeItem("zenith_master_license"))}catch{localStorage.removeItem("zenith_master_license")}if(Q){const ee=localStorage.getItem("zenith_current_user");if(ee)try{const Fe=JSON.parse(ee);Q.emailLock&&Fe.email.toLowerCase()!==Q.emailLock.toLowerCase()?localStorage.removeItem("zenith_current_user"):u(Fe)}catch{localStorage.removeItem("zenith_current_user")}}r(!1),g(!1)})()},[]);const Se=async()=>{if(js)try{await Ls.auth.signOut()}catch{console.warn("Supabase signout failed (likely offline)")}u(null),localStorage.removeItem("zenith_current_user"),W("dashboard")},We=async(K,G)=>{var Fe,Ti,iw;d(null);const Q=K.trim().toLowerCase();if(K==="superadmin@zenith.com"&&G==="superadmin123!"){const Wt=vb.find(Iu=>Iu.email==="superadmin@zenith.com");if(Wt){u(Wt),W("settings");return}}if(t&&t.emailLock&&Q!==t.emailLock.toLowerCase()){d(`This device is licensed to ${t.emailLock}. Please log in with that email.`);return}if(v.length===0){d("No users found. Please Register a new account first.");return}const ee=v.find(Wt=>Wt.email.toLowerCase()===Q&&Wt.password===G);if(ee){u(ee),W("dashboard");return}if(js)try{const{data:Wt,error:Iu}=await Ls.auth.signInWithPassword({email:K,password:G,options:{captchaToken:void 0}});if(Iu)d(Iu.message);else if(Wt.user){const Dh={id:Wt.user.id,email:Wt.user.email||K,name:((Fe=Wt.user.user_metadata)==null?void 0:Fe.name)||K.split("@")[0],password:G,role:((Ti=Wt.user.user_metadata)==null?void 0:Ti.role)||me.Admin,avatarUrl:((iw=Wt.user.user_metadata)==null?void 0:iw.avatarUrl)||`https://i.pravatar.cc/150?u=${Wt.user.id}`,dashboardWidgets:ia(me.Admin),organizationId:t==null?void 0:t.organizationId};y(jh=>jh.find(mO=>mO.id===Dh.id)?jh:[...jh,Dh]),u(Dh),W("dashboard");return}}catch{}d("Invalid email or password.")},vt=async(K,G,Q)=>{if(!t||!t.organizationId){d("Cannot register without an active license.");return}const ee=G.trim().toLowerCase();if(t.emailLock&&ee!==t.emailLock.toLowerCase()){d(`This software is already activated for ${t.emailLock}. You cannot register a new account.`);return}if(v.find(Ti=>Ti.email.toLowerCase()===ee)){d("This email is already registered locally. Please Login.");return}d(null);const Fe={id:`u${Date.now()}`,name:K,email:G,password:Q,role:me.Admin,avatarUrl:`https://i.pravatar.cc/150?u=${G}`,dashboardWidgets:ia(me.Admin),organizationId:t.organizationId,isVerified:!0};if(y(Ti=>[...Ti,Fe]),js)try{Ls.auth.signUp({email:G,password:Q,options:{data:{name:K,role:me.Admin,organizationId:t.organizationId}}})}catch{console.warn("Cloud registration skipped.")}u(Fe),W("dashboard"),alert("Account created successfully! You are now logged in.")},St=async K=>{if(!js){d("Password reset is not available in offline/demo mode.");return}const{error:G}=await Ls.auth.resetPasswordForEmail(K,{redirectTo:window.location.origin});G?d(G.message):alert("Password reset link sent to your email.")},jt=async K=>{if(!js)return;const{error:G}=await Ls.auth.updateUser({password:K});alert(G?G.message:"Password updated successfully!")},Ht=K=>{if(!l)return;const G={...l,...K};u(G),y(Q=>Q.map(ee=>ee.id===l.id?{...ee,...K}:ee))},lt=K=>{const G=`org_${K.key.split("-")[2].toLowerCase()}`,Q={...K,status:"Activated",activationDate:new Date().toISOString(),organizationId:G};s(ee=>ee.map(Fe=>Fe.key===Q.key?Q:Fe)),localStorage.setItem("zenith_master_license",JSON.stringify(Q)),localStorage.removeItem("zenith_trial_start"),w([]),_([]),S([]),A([]),P([]),k([]),j([]),y([]),localStorage.removeItem("zenith_products"),localStorage.removeItem("zenith_customers"),localStorage.removeItem("zenith_suppliers"),localStorage.removeItem("zenith_pos"),localStorage.removeItem("zenith_sales"),localStorage.removeItem("zenith_expenses"),localStorage.removeItem("zenith_licenses"),localStorage.removeItem("zenith_users"),e(Q),o(!1),u(null),localStorage.removeItem("zenith_current_user")},Et=()=>{let K=localStorage.getItem("zenith_trial_start");K||(K=new Date().toISOString(),localStorage.setItem("zenith_trial_start",K));const G=new Date(K);if(Math.ceil(Math.abs(new Date().getTime()-G.getTime())/(1e3*60*60*24))>gb){alert("Your trial period has expired. Please enter a valid license key to continue.");return}o(!0);const ee={key:"TRIAL",organizationId:"org_trial",validUntil:new Date(G.getTime()+gb*864e5).toISOString(),planType:"Premium",status:"Activated",activationDate:new Date().toISOString(),maxShops:1,enabledFeatures:["AI_INSIGHTS","MULTI_LANGUAGE"]};e(ee)},hr=()=>{if(l)if(M)L(null);else{const K={id:`sh${Date.now()}`,userId:l.id,userName:l.name,startTime:new Date().toISOString(),endTime:null};L(K)}},Te=l==null?void 0:l.organizationId,ms=O.useMemo(()=>v.filter(K=>K.organizationId===Te),[v,Te]),Ei=O.useMemo(()=>x.filter(K=>K.organizationId===Te),[x,Te]),gs=O.useMemo(()=>b.filter(K=>K.organizationId===Te),[b,Te]),Cu=O.useMemo(()=>E.filter(K=>K.organizationId===Te),[E,Te]),Ih=O.useMemo(()=>T.filter(K=>K.organizationId===Te),[T,Te]),Pu=O.useMemo(()=>C.filter(K=>K.organizationId===Te),[C,Te]),Nh=O.useMemo(()=>N.filter(K=>K.organizationId===Te),[N,Te]),Oh=O.useMemo(()=>R.filter(K=>K.organizationId===Te),[R,Te]);O.useEffect(()=>{Te&&Be(`Shop (${Te.substring(4,10).toUpperCase()})`)},[Te]),O.useEffect(()=>{le?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[le]);const tn=I.useCallback(K=>{var G;return((G=m$[ue])==null?void 0:G[K])||K},[ue]),jn=I.useCallback(K=>{const G=qC[D];return G?`${G.symbol}${(K*G.rate).toFixed(2)}`:`$${K.toFixed(2)}`},[D]),Rh=(K,G)=>{if(!l)return;const Q={...l.dashboardWidgets,[K]:G},ee={...l,dashboardWidgets:Q};u(ee),Ht({dashboardWidgets:Q})},Mh=K=>{if(!l)return;const G=K.total-K.amountPaid,Q={...K,id:`s${Date.now()}`,cashier:l.name,cashierId:l.id,date:new Date().toISOString(),organizationId:Te};P(ee=>[Q,...ee]),G>0&&K.customerId!=="guest"&&_(ee=>ee.map(Fe=>Fe.id===K.customerId?{...Fe,dueAmount:Fe.dueAmount+G}:Fe))},$h=(K,G)=>{_(Q=>Q.map(ee=>ee.id===K?{...ee,dueAmount:Math.max(0,ee.dueAmount-G)}:ee))},ku=K=>{const G={...K,id:`c${Date.now()}`,organizationId:Te};return _(Q=>[...Q,G]),G},q=(K,G,Q)=>{w(ee=>ee.map(Fe=>Fe.id===K?{...Fe,stock:G}:Fe))};if(n||h)return m.jsx("div",{className:"flex h-screen items-center justify-center dark:bg-neutral-900",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!t)return m.jsx(qce,{onSuccess:lt,onStartTrial:Et,licenseDatabase:a});if(!l)return m.jsx(Hce,{onLogin:We,onInitiateRegister:vt,onInitiateForgotPassword:St,onVerifyEmail:K=>console.log("Verify email",K),onVerifyResetCode:K=>console.log("Verify reset code",K),onResetPassword:jt,error:c,onClearError:()=>d(null),noUsersFound:v.length===0});const ae=()=>{if(!l)return null;const K={...wn.purchases,formFields:wn.purchases.formFields.map(G=>G.key==="supplierId"?{...G,options:Cu.map(Q=>({value:Q.id,label:Q.name}))}:G)};switch(B){case"dashboard":return m.jsx(Zue,{products:Ei,sales:Pu,user:l,onWidgetChange:Rh,formatCurrency:jn,t:tn,activeLicense:t,licenseKeys:Oh});case"pos":return m.jsx(cce,{user:l,customers:gs,products:Ei,onAddSale:Mh,onAddCustomer:ku,heldCarts:$,setHeldCarts:U,formatCurrency:jn,t:tn,businessName:be});case"products":return m.jsx(To,{dataType:"products",data:Ei,columns:wn.products.columns,formFields:wn.products.formFields,onAdd:G=>w(Q=>[...Q,{...G,id:`p${Date.now()}`,organizationId:Te}]),onUpdate:G=>w(Q=>Q.map(ee=>ee.id===G.id?G:ee)),onDelete:G=>w(Q=>Q.filter(ee=>!G.includes(ee.id))),customActions:{onAdjustStock:q},t:tn,formatCurrency:jn});case"customers":return m.jsx(To,{dataType:"customers",data:gs,columns:wn.customers.columns,formFields:wn.customers.formFields,onAdd:G=>ku(G),onUpdate:G=>_(Q=>Q.map(ee=>ee.id===G.id?G:ee)),onDelete:G=>_(Q=>Q.filter(ee=>!G.includes(ee.id))),customActions:{onRecordPayment:$h},t:tn,formatCurrency:jn});case"employees":return m.jsx(To,{dataType:"employees",data:ms,columns:wn.employees.columns,formFields:wn.employees.formFields,onAdd:G=>y(Q=>[...Q,{...G,id:`u${Date.now()}`,organizationId:Te,dashboardWidgets:ia(G.role)}]),onUpdate:G=>y(Q=>Q.map(ee=>ee.id===G.id?G:ee)),onDelete:G=>y(Q=>Q.filter(ee=>!G.includes(ee.id))),t:tn,formatCurrency:jn});case"suppliers":return m.jsx(To,{dataType:"suppliers",data:Cu,columns:wn.suppliers.columns,formFields:wn.suppliers.formFields,onAdd:G=>S(Q=>[...Q,{...G,id:`sup${Date.now()}`,organizationId:Te}]),onUpdate:G=>S(Q=>Q.map(ee=>ee.id===G.id?G:ee)),onDelete:G=>S(Q=>Q.filter(ee=>!G.includes(ee.id))),t:tn,formatCurrency:jn});case"purchases":return m.jsx(To,{dataType:"purchases",data:Ih,columns:K.columns,formFields:K.formFields,onAdd:G=>A(Q=>[...Q,{...G,id:`po${Date.now()}`,createdBy:l.name,createdAt:new Date().toISOString(),organizationId:Te}]),onUpdate:G=>A(Q=>Q.map(ee=>ee.id===G.id?G:ee)),onDelete:G=>A(Q=>Q.filter(ee=>!G.includes(ee.id))),t:tn,formatCurrency:jn});case"expenses":return m.jsx(To,{dataType:"expenses",data:Nh,columns:wn.expenses.columns,formFields:wn.expenses.formFields,onAdd:G=>k(Q=>[...Q,{...G,id:`e${Date.now()}`,recordedBy:l.name,organizationId:Te}]),onUpdate:G=>k(Q=>Q.map(ee=>ee.id===G.id?G:ee)),onDelete:G=>k(Q=>Q.filter(ee=>!G.includes(ee.id))),t:tn,formatCurrency:jn});case"reports":return m.jsx(xce,{sales:Pu,users:ms,customers:gs,formatCurrency:jn});case"settings":return m.jsx(Lce,{user:l,onUpdateUser:Ht,employees:ms,isDarkMode:le,toggleDarkMode:()=>we(!le),businessName:be,setBusinessName:Be,businessLogo:Ye,setBusinessLogo:Z,licenseKeys:R,setLicenseKeys:j,language:ue,setLanguage:de,currency:D,setCurrency:fe,t:tn,licenseDatabase:a,setLicenseDatabase:s});default:return m.jsx(_ce,{title:B})}};return m.jsxs("div",{className:`flex h-screen bg-neutral-100 dark:bg-neutral-900 text-neutral-800 dark:text-neutral-100 antialiased ${le?"dark":""}`,children:[m.jsx(A$,{userRole:l.role,activeView:B,setActiveView:W,isOpen:H,setIsOpen:X,businessName:be,businessLogo:Ye,t:tn}),m.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[m.jsx(S$,{user:l,onLogout:Se,toggleSidebar:()=>X(!H),isDarkMode:le,toggleDarkMode:()=>we(!le),businessName:be,businessLogo:Ye,activeView:B,setActiveView:W,notifications:V,setNotifications:F,activeShift:M,onToggleShift:hr,isOnline:ie,t:tn,isInTrial:i}),m.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-neutral-100 dark:bg-neutral-900 p-6",children:ae()})]}),m.jsx(Jce,{})]})}const pO=document.getElementById("root");if(!pO)throw new Error("Could not find root element to mount to");const whe=Jp.createRoot(pO);whe.render(m.jsx(I.StrictMode,{children:m.jsx(yhe,{})}));
