function wO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ne(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var kT={exports:{}},wf={},PT={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=Symbol.for("react.element"),xO=Symbol.for("react.portal"),_O=Symbol.for("react.fragment"),SO=Symbol.for("react.strict_mode"),EO=Symbol.for("react.profiler"),TO=Symbol.for("react.provider"),AO=Symbol.for("react.context"),CO=Symbol.for("react.forward_ref"),kO=Symbol.for("react.suspense"),PO=Symbol.for("react.memo"),IO=Symbol.for("react.lazy"),lw=Symbol.iterator;function NO(t){return t===null||typeof t!="object"?null:(t=lw&&t[lw]||t["@@iterator"],typeof t=="function"?t:null)}var IT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NT=Object.assign,OT={};function Ya(t,e,n){this.props=t,this.context=e,this.refs=OT,this.updater=n||IT}Ya.prototype.isReactComponent={};Ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RT(){}RT.prototype=Ya.prototype;function Vv(t,e,n){this.props=t,this.context=e,this.refs=OT,this.updater=n||IT}var zv=Vv.prototype=new RT;zv.constructor=Vv;NT(zv,Ya.prototype);zv.isPureReactComponent=!0;var uw=Array.isArray,MT=Object.prototype.hasOwnProperty,qv={current:null},$T={key:!0,ref:!0,__self:!0,__source:!0};function DT(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)MT.call(e,r)&&!$T.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:gu,type:t,key:o,ref:a,props:i,_owner:qv.current}}function OO(t,e){return{$$typeof:gu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gv(t){return typeof t=="object"&&t!==null&&t.$$typeof===gu}function RO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cw=/\/+/g;function Vh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RO(""+t.key):e.toString(36)}function _c(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case gu:case xO:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Vh(a,0):r,uw(i)?(n="",t!=null&&(n=t.replace(cw,"$&/")+"/"),_c(i,e,n,"",function(u){return u})):i!=null&&(Gv(i)&&(i=OO(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(cw,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",uw(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Vh(o,s);a+=_c(o,e,n,l,i)}else if(l=NO(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Vh(o,s++),a+=_c(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Du(t,e,n){if(t==null)return t;var r=[],i=0;return _c(t,r,"","",function(o){return e.call(n,o,i++)}),r}function MO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ht={current:null},Sc={transition:null},$O={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Sc,ReactCurrentOwner:qv};function jT(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:Du,forEach:function(t,e,n){Du(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Du(t,function(){e++}),e},toArray:function(t){return Du(t,function(e){return e})||[]},only:function(t){if(!Gv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=Ya;be.Fragment=_O;be.Profiler=EO;be.PureComponent=Vv;be.StrictMode=SO;be.Suspense=kO;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$O;be.act=jT;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=NT({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=qv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)MT.call(e,l)&&!$T.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:gu,type:t.type,key:i,ref:o,props:r,_owner:a}};be.createContext=function(t){return t={$$typeof:AO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:TO,_context:t},t.Consumer=t};be.createElement=DT;be.createFactory=function(t){var e=DT.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:CO,render:t}};be.isValidElement=Gv;be.lazy=function(t){return{$$typeof:IO,_payload:{_status:-1,_result:t},_init:MO}};be.memo=function(t,e){return{$$typeof:PO,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=Sc.transition;Sc.transition={};try{t()}finally{Sc.transition=e}};be.unstable_act=jT;be.useCallback=function(t,e){return Ht.current.useCallback(t,e)};be.useContext=function(t){return Ht.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return Ht.current.useDeferredValue(t)};be.useEffect=function(t,e){return Ht.current.useEffect(t,e)};be.useId=function(){return Ht.current.useId()};be.useImperativeHandle=function(t,e,n){return Ht.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return Ht.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return Ht.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return Ht.current.useMemo(t,e)};be.useReducer=function(t,e,n){return Ht.current.useReducer(t,e,n)};be.useRef=function(t){return Ht.current.useRef(t)};be.useState=function(t){return Ht.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return Ht.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return Ht.current.useTransition()};be.version="18.3.1";PT.exports=be;var O=PT.exports;const I=Ne(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DO=O,jO=Symbol.for("react.element"),LO=Symbol.for("react.fragment"),UO=Object.prototype.hasOwnProperty,BO=DO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FO={key:!0,ref:!0,__self:!0,__source:!0};function LT(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)UO.call(e,r)&&!FO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jO,type:t,key:o,ref:a,props:i,_owner:BO.current}}wf.Fragment=LO;wf.jsx=LT;wf.jsxs=LT;kT.exports=wf;var m=kT.exports,Zp={},UT={exports:{}},yn={},BT={exports:{}},FT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,U){var H=$.length;$.push(U);e:for(;0<H;){var V=H-1>>>1,q=$[V];if(0<i(q,U))$[V]=U,$[H]=q,H=V;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var U=$[0],H=$.pop();if(H!==U){$[0]=H;e:for(var V=0,q=$.length,Q=q>>>1;V<Q;){var ne=2*(V+1)-1,ye=$[ne],xe=ne+1,je=$[xe];if(0>i(ye,H))xe<q&&0>i(je,ye)?($[V]=je,$[xe]=H,V=xe):($[V]=ye,$[ne]=H,V=ne);else if(xe<q&&0>i(je,H))$[V]=je,$[xe]=H,V=xe;else break e}}return U}function i($,U){var H=$.sortIndex-U.sortIndex;return H!==0?H:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,g=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=$)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function T($){if(y=!1,_($),!v)if(n(l)!==null)v=!0,M(S);else{var U=n(u);U!==null&&L(T,U.startTime-$)}}function S($,U){v=!1,y&&(y=!1,w(C),C=-1),g=!0;var H=h;try{for(_(U),d=n(l);d!==null&&(!(d.expirationTime>U)||$&&!P());){var V=d.callback;if(typeof V=="function"){d.callback=null,h=d.priorityLevel;var q=V(d.expirationTime<=U);U=t.unstable_now(),typeof q=="function"?d.callback=q:d===n(l)&&r(l),_(U)}else r(l);d=n(l)}if(d!==null)var Q=!0;else{var ne=n(u);ne!==null&&L(T,ne.startTime-U),Q=!1}return Q}finally{d=null,h=H,g=!1}}var E=!1,A=null,C=-1,k=5,N=-1;function P(){return!(t.unstable_now()-N<k)}function R(){if(A!==null){var $=t.unstable_now();N=$;var U=!0;try{U=A(!0,$)}finally{U?j():(E=!1,A=null)}}else E=!1}var j;if(typeof b=="function")j=function(){b(R)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=R,j=function(){B.postMessage(null)}}else j=function(){x(R,0)};function M($){A=$,E||(E=!0,j())}function L($,U){C=x(function(){$(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,M(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var H=h;h=U;try{return $()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=h;h=$;try{return U()}finally{h=H}},t.unstable_scheduleCallback=function($,U,H){var V=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,$){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=H+q,$={id:c++,callback:U,priorityLevel:$,startTime:H,expirationTime:q,sortIndex:-1},H>V?($.sortIndex=H,e(u,$),n(l)===null&&$===n(u)&&(y?(w(C),C=-1):y=!0,L(T,H-V))):($.sortIndex=q,e(l,$),v||g||(v=!0,M(S))),$},t.unstable_shouldYield=P,t.unstable_wrapCallback=function($){var U=h;return function(){var H=h;h=U;try{return $.apply(this,arguments)}finally{h=H}}}})(FT);BT.exports=FT;var VO=BT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zO=O,vn=VO;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VT=new Set,ml={};function go(t,e){va(t,e),va(t+"Capture",e)}function va(t,e){for(ml[t]=e,t=0;t<e.length;t++)VT.add(e[t])}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),em=Object.prototype.hasOwnProperty,qO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dw={},fw={};function GO(t){return em.call(fw,t)?!0:em.call(dw,t)?!1:qO.test(t)?fw[t]=!0:(dw[t]=!0,!1)}function HO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WO(t,e,n,r){if(e===null||typeof e>"u"||HO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wt(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new Wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new Wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new Wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new Wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new Wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new Wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new Wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new Wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new Wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hv=/[\-:]([a-z])/g;function Wv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hv,Wv);Nt[e]=new Wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hv,Wv);Nt[e]=new Wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hv,Wv);Nt[e]=new Wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new Wt(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new Wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kv(t,e,n,r){var i=Nt.hasOwnProperty(e)?Nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WO(e,n,i,r)&&(n=null),r||i===null?GO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ur=zO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ju=Symbol.for("react.element"),Uo=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),Jv=Symbol.for("react.strict_mode"),tm=Symbol.for("react.profiler"),zT=Symbol.for("react.provider"),qT=Symbol.for("react.context"),Yv=Symbol.for("react.forward_ref"),nm=Symbol.for("react.suspense"),rm=Symbol.for("react.suspense_list"),Xv=Symbol.for("react.memo"),Kr=Symbol.for("react.lazy"),GT=Symbol.for("react.offscreen"),hw=Symbol.iterator;function _s(t){return t===null||typeof t!="object"?null:(t=hw&&t[hw]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,zh;function qs(t){if(zh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zh=e&&e[1]||""}return`
`+zh+t}var qh=!1;function Gh(t,e){if(!t||qh)return"";qh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{qh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qs(t):""}function KO(t){switch(t.tag){case 5:return qs(t.type);case 16:return qs("Lazy");case 13:return qs("Suspense");case 19:return qs("SuspenseList");case 0:case 2:case 15:return t=Gh(t.type,!1),t;case 11:return t=Gh(t.type.render,!1),t;case 1:return t=Gh(t.type,!0),t;default:return""}}function im(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bo:return"Fragment";case Uo:return"Portal";case tm:return"Profiler";case Jv:return"StrictMode";case nm:return"Suspense";case rm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qT:return(t.displayName||"Context")+".Consumer";case zT:return(t._context.displayName||"Context")+".Provider";case Yv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xv:return e=t.displayName||null,e!==null?e:im(t.type)||"Memo";case Kr:e=t._payload,t=t._init;try{return im(t(e))}catch{}}return null}function JO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return im(e);case 8:return e===Jv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function HT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YO(t){var e=HT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lu(t){t._valueTracker||(t._valueTracker=YO(t))}function WT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=HT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function om(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function pw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function KT(t,e){e=e.checked,e!=null&&Kv(t,"checked",e,!1)}function am(t,e){KT(t,e);var n=mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sm(t,e.type,n):e.hasOwnProperty("defaultValue")&&sm(t,e.type,mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sm(t,e,n){(e!=="number"||Lc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gs=Array.isArray;function ra(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Gs(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mi(n)}}function JT(t,e){var n=mi(e.value),r=mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function um(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uu,XT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uu=Uu||document.createElement("div"),Uu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XO=["Webkit","ms","Moz","O"];Object.keys(Ys).forEach(function(t){XO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ys[e]=Ys[t]})});function QT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ys.hasOwnProperty(t)&&Ys[t]?(""+e).trim():e+"px"}function ZT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=QT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var QO=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cm(t,e){if(e){if(QO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function dm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fm=null;function Qv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hm=null,ia=null,oa=null;function yw(t){if(t=wu(t)){if(typeof hm!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Ef(e),hm(t.stateNode,t.type,e))}}function eA(t){ia?oa?oa.push(t):oa=[t]:ia=t}function tA(){if(ia){var t=ia,e=oa;if(oa=ia=null,yw(t),e)for(t=0;t<e.length;t++)yw(e[t])}}function nA(t,e){return t(e)}function rA(){}var Hh=!1;function iA(t,e,n){if(Hh)return t(e,n);Hh=!0;try{return nA(t,e,n)}finally{Hh=!1,(ia!==null||oa!==null)&&(rA(),tA())}}function vl(t,e){var n=t.stateNode;if(n===null)return null;var r=Ef(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var pm=!1;if(Nr)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){pm=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{pm=!1}function ZO(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Xs=!1,Uc=null,Bc=!1,mm=null,eR={onError:function(t){Xs=!0,Uc=t}};function tR(t,e,n,r,i,o,a,s,l){Xs=!1,Uc=null,ZO.apply(eR,arguments)}function nR(t,e,n,r,i,o,a,s,l){if(tR.apply(this,arguments),Xs){if(Xs){var u=Uc;Xs=!1,Uc=null}else throw Error(J(198));Bc||(Bc=!0,mm=u)}}function vo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ww(t){if(vo(t)!==t)throw Error(J(188))}function rR(t){var e=t.alternate;if(!e){if(e=vo(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ww(i),t;if(o===r)return ww(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function aA(t){return t=rR(t),t!==null?sA(t):null}function sA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sA(t);if(e!==null)return e;t=t.sibling}return null}var lA=vn.unstable_scheduleCallback,bw=vn.unstable_cancelCallback,iR=vn.unstable_shouldYield,oR=vn.unstable_requestPaint,ot=vn.unstable_now,aR=vn.unstable_getCurrentPriorityLevel,Zv=vn.unstable_ImmediatePriority,uA=vn.unstable_UserBlockingPriority,Fc=vn.unstable_NormalPriority,sR=vn.unstable_LowPriority,cA=vn.unstable_IdlePriority,bf=null,ar=null;function lR(t){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(bf,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:dR,uR=Math.log,cR=Math.LN2;function dR(t){return t>>>=0,t===0?32:31-(uR(t)/cR|0)|0}var Bu=64,Fu=4194304;function Hs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Hs(s):(o&=a,o!==0&&(r=Hs(o)))}else a=n&~i,a!==0?r=Hs(a):o!==0&&(r=Hs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yn(e),i=1<<n,r|=t[n],e&=~i;return r}function fR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Yn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=fR(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function gm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dA(){var t=Bu;return Bu<<=1,!(Bu&4194240)&&(Bu=64),t}function Wh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=n}function pR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ey(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ie=0;function fA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hA,ty,pA,mA,gA,vm=!1,Vu=[],oi=null,ai=null,si=null,yl=new Map,wl=new Map,Xr=[],mR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xw(t,e){switch(t){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":yl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(e.pointerId)}}function Es(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=wu(e),e!==null&&ty(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gR(t,e,n,r,i){switch(e){case"focusin":return oi=Es(oi,t,e,n,r,i),!0;case"dragenter":return ai=Es(ai,t,e,n,r,i),!0;case"mouseover":return si=Es(si,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return yl.set(o,Es(yl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,wl.set(o,Es(wl.get(o)||null,t,e,n,r,i)),!0}return!1}function vA(t){var e=Hi(t.target);if(e!==null){var n=vo(e);if(n!==null){if(e=n.tag,e===13){if(e=oA(n),e!==null){t.blockedOn=e,gA(t.priority,function(){pA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ym(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fm=r,n.target.dispatchEvent(r),fm=null}else return e=wu(n),e!==null&&ty(e),t.blockedOn=n,!1;e.shift()}return!0}function _w(t,e,n){Ec(t)&&n.delete(e)}function vR(){vm=!1,oi!==null&&Ec(oi)&&(oi=null),ai!==null&&Ec(ai)&&(ai=null),si!==null&&Ec(si)&&(si=null),yl.forEach(_w),wl.forEach(_w)}function Ts(t,e){t.blockedOn===e&&(t.blockedOn=null,vm||(vm=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,vR)))}function bl(t){function e(i){return Ts(i,t)}if(0<Vu.length){Ts(Vu[0],t);for(var n=1;n<Vu.length;n++){var r=Vu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(oi!==null&&Ts(oi,t),ai!==null&&Ts(ai,t),si!==null&&Ts(si,t),yl.forEach(e),wl.forEach(e),n=0;n<Xr.length;n++)r=Xr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xr.length&&(n=Xr[0],n.blockedOn===null);)vA(n),n.blockedOn===null&&Xr.shift()}var aa=Ur.ReactCurrentBatchConfig,zc=!0;function yR(t,e,n,r){var i=Ie,o=aa.transition;aa.transition=null;try{Ie=1,ny(t,e,n,r)}finally{Ie=i,aa.transition=o}}function wR(t,e,n,r){var i=Ie,o=aa.transition;aa.transition=null;try{Ie=4,ny(t,e,n,r)}finally{Ie=i,aa.transition=o}}function ny(t,e,n,r){if(zc){var i=ym(t,e,n,r);if(i===null)rp(t,e,r,qc,n),xw(t,r);else if(gR(i,t,e,n,r))r.stopPropagation();else if(xw(t,r),e&4&&-1<mR.indexOf(t)){for(;i!==null;){var o=wu(i);if(o!==null&&hA(o),o=ym(t,e,n,r),o===null&&rp(t,e,r,qc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else rp(t,e,r,null,n)}}var qc=null;function ym(t,e,n,r){if(qc=null,t=Qv(r),t=Hi(t),t!==null)if(e=vo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qc=t,null}function yA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aR()){case Zv:return 1;case uA:return 4;case Fc:case sR:return 16;case cA:return 536870912;default:return 16}default:return 16}}var ti=null,ry=null,Tc=null;function wA(){if(Tc)return Tc;var t,e=ry,n=e.length,r,i="value"in ti?ti.value:ti.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Tc=i.slice(t,1<r?1-r:void 0)}function Ac(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zu(){return!0}function Sw(){return!1}function wn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?zu:Sw,this.isPropagationStopped=Sw,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zu)},persist:function(){},isPersistent:zu}),e}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iy=wn(Xa),yu=et({},Xa,{view:0,detail:0}),bR=wn(yu),Kh,Jh,As,xf=et({},yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==As&&(As&&t.type==="mousemove"?(Kh=t.screenX-As.screenX,Jh=t.screenY-As.screenY):Jh=Kh=0,As=t),Kh)},movementY:function(t){return"movementY"in t?t.movementY:Jh}}),Ew=wn(xf),xR=et({},xf,{dataTransfer:0}),_R=wn(xR),SR=et({},yu,{relatedTarget:0}),Yh=wn(SR),ER=et({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),TR=wn(ER),AR=et({},Xa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CR=wn(AR),kR=et({},Xa,{data:0}),Tw=wn(kR),PR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NR[t])?!!e[t]:!1}function oy(){return OR}var RR=et({},yu,{key:function(t){if(t.key){var e=PR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ac(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?IR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oy,charCode:function(t){return t.type==="keypress"?Ac(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ac(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MR=wn(RR),$R=et({},xf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Aw=wn($R),DR=et({},yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oy}),jR=wn(DR),LR=et({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),UR=wn(LR),BR=et({},xf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FR=wn(BR),VR=[9,13,27,32],ay=Nr&&"CompositionEvent"in window,Qs=null;Nr&&"documentMode"in document&&(Qs=document.documentMode);var zR=Nr&&"TextEvent"in window&&!Qs,bA=Nr&&(!ay||Qs&&8<Qs&&11>=Qs),Cw=" ",kw=!1;function xA(t,e){switch(t){case"keyup":return VR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _A(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fo=!1;function qR(t,e){switch(t){case"compositionend":return _A(e);case"keypress":return e.which!==32?null:(kw=!0,Cw);case"textInput":return t=e.data,t===Cw&&kw?null:t;default:return null}}function GR(t,e){if(Fo)return t==="compositionend"||!ay&&xA(t,e)?(t=wA(),Tc=ry=ti=null,Fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bA&&e.locale!=="ko"?null:e.data;default:return null}}var HR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HR[t.type]:e==="textarea"}function SA(t,e,n,r){eA(r),e=Gc(e,"onChange"),0<e.length&&(n=new iy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zs=null,xl=null;function WR(t){MA(t,0)}function _f(t){var e=qo(t);if(WT(e))return t}function KR(t,e){if(t==="change")return e}var EA=!1;if(Nr){var Xh;if(Nr){var Qh="oninput"in document;if(!Qh){var Iw=document.createElement("div");Iw.setAttribute("oninput","return;"),Qh=typeof Iw.oninput=="function"}Xh=Qh}else Xh=!1;EA=Xh&&(!document.documentMode||9<document.documentMode)}function Nw(){Zs&&(Zs.detachEvent("onpropertychange",TA),xl=Zs=null)}function TA(t){if(t.propertyName==="value"&&_f(xl)){var e=[];SA(e,xl,t,Qv(t)),iA(WR,e)}}function JR(t,e,n){t==="focusin"?(Nw(),Zs=e,xl=n,Zs.attachEvent("onpropertychange",TA)):t==="focusout"&&Nw()}function YR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _f(xl)}function XR(t,e){if(t==="click")return _f(e)}function QR(t,e){if(t==="input"||t==="change")return _f(e)}function ZR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zn=typeof Object.is=="function"?Object.is:ZR;function _l(t,e){if(Zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!em.call(e,i)||!Zn(t[i],e[i]))return!1}return!0}function Ow(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rw(t,e){var n=Ow(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ow(n)}}function AA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function CA(){for(var t=window,e=Lc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lc(t.document)}return e}function sy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eM(t){var e=CA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AA(n.ownerDocument.documentElement,n)){if(r!==null&&sy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Rw(n,o);var a=Rw(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tM=Nr&&"documentMode"in document&&11>=document.documentMode,Vo=null,wm=null,el=null,bm=!1;function Mw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bm||Vo==null||Vo!==Lc(r)||(r=Vo,"selectionStart"in r&&sy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&_l(el,r)||(el=r,r=Gc(wm,"onSelect"),0<r.length&&(e=new iy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vo)))}function qu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zo={animationend:qu("Animation","AnimationEnd"),animationiteration:qu("Animation","AnimationIteration"),animationstart:qu("Animation","AnimationStart"),transitionend:qu("Transition","TransitionEnd")},Zh={},kA={};Nr&&(kA=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function Sf(t){if(Zh[t])return Zh[t];if(!zo[t])return t;var e=zo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kA)return Zh[t]=e[n];return t}var PA=Sf("animationend"),IA=Sf("animationiteration"),NA=Sf("animationstart"),OA=Sf("transitionend"),RA=new Map,$w="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(t,e){RA.set(t,e),go(e,[t])}for(var ep=0;ep<$w.length;ep++){var tp=$w[ep],nM=tp.toLowerCase(),rM=tp[0].toUpperCase()+tp.slice(1);vi(nM,"on"+rM)}vi(PA,"onAnimationEnd");vi(IA,"onAnimationIteration");vi(NA,"onAnimationStart");vi("dblclick","onDoubleClick");vi("focusin","onFocus");vi("focusout","onBlur");vi(OA,"onTransitionEnd");va("onMouseEnter",["mouseout","mouseover"]);va("onMouseLeave",["mouseout","mouseover"]);va("onPointerEnter",["pointerout","pointerover"]);va("onPointerLeave",["pointerout","pointerover"]);go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));go("onBeforeInput",["compositionend","keypress","textInput","paste"]);go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ws));function Dw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nR(r,e,void 0,t),t.currentTarget=null}function MA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Dw(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Dw(i,s,u),o=l}}}if(Bc)throw t=mm,Bc=!1,mm=null,t}function ze(t,e){var n=e[Tm];n===void 0&&(n=e[Tm]=new Set);var r=t+"__bubble";n.has(r)||($A(e,t,2,!1),n.add(r))}function np(t,e,n){var r=0;e&&(r|=4),$A(n,t,r,e)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function Sl(t){if(!t[Gu]){t[Gu]=!0,VT.forEach(function(n){n!=="selectionchange"&&(iM.has(n)||np(n,!1,t),np(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gu]||(e[Gu]=!0,np("selectionchange",!1,e))}}function $A(t,e,n,r){switch(yA(e)){case 1:var i=yR;break;case 4:i=wR;break;default:i=ny}n=i.bind(null,e,n,t),i=void 0,!pm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function rp(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Hi(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}iA(function(){var u=o,c=Qv(n),d=[];e:{var h=RA.get(t);if(h!==void 0){var g=iy,v=t;switch(t){case"keypress":if(Ac(n)===0)break e;case"keydown":case"keyup":g=MR;break;case"focusin":v="focus",g=Yh;break;case"focusout":v="blur",g=Yh;break;case"beforeblur":case"afterblur":g=Yh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ew;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_R;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=jR;break;case PA:case IA:case NA:g=TR;break;case OA:g=UR;break;case"scroll":g=bR;break;case"wheel":g=FR;break;case"copy":case"cut":case"paste":g=CR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Aw}var y=(e&4)!==0,x=!y&&t==="scroll",w=y?h!==null?h+"Capture":null:h;y=[];for(var b=u,_;b!==null;){_=b;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,w!==null&&(T=vl(b,w),T!=null&&y.push(El(b,T,_)))),x)break;b=b.return}0<y.length&&(h=new g(h,v,null,n,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==fm&&(v=n.relatedTarget||n.fromElement)&&(Hi(v)||v[Or]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Hi(v):null,v!==null&&(x=vo(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=Ew,T="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=Aw,T="onPointerLeave",w="onPointerEnter",b="pointer"),x=g==null?h:qo(g),_=v==null?h:qo(v),h=new y(T,b+"leave",g,n,c),h.target=x,h.relatedTarget=_,T=null,Hi(c)===u&&(y=new y(w,b+"enter",v,n,c),y.target=_,y.relatedTarget=x,T=y),x=T,g&&v)t:{for(y=g,w=v,b=0,_=y;_;_=Ao(_))b++;for(_=0,T=w;T;T=Ao(T))_++;for(;0<b-_;)y=Ao(y),b--;for(;0<_-b;)w=Ao(w),_--;for(;b--;){if(y===w||w!==null&&y===w.alternate)break t;y=Ao(y),w=Ao(w)}y=null}else y=null;g!==null&&jw(d,h,g,y,!1),v!==null&&x!==null&&jw(d,x,v,y,!0)}}e:{if(h=u?qo(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=KR;else if(Pw(h))if(EA)S=QR;else{S=YR;var E=JR}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=XR);if(S&&(S=S(t,u))){SA(d,S,n,c);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&sm(h,"number",h.value)}switch(E=u?qo(u):window,t){case"focusin":(Pw(E)||E.contentEditable==="true")&&(Vo=E,wm=u,el=null);break;case"focusout":el=wm=Vo=null;break;case"mousedown":bm=!0;break;case"contextmenu":case"mouseup":case"dragend":bm=!1,Mw(d,n,c);break;case"selectionchange":if(tM)break;case"keydown":case"keyup":Mw(d,n,c)}var A;if(ay)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Fo?xA(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(bA&&n.locale!=="ko"&&(Fo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Fo&&(A=wA()):(ti=c,ry="value"in ti?ti.value:ti.textContent,Fo=!0)),E=Gc(u,C),0<E.length&&(C=new Tw(C,t,null,n,c),d.push({event:C,listeners:E}),A?C.data=A:(A=_A(n),A!==null&&(C.data=A)))),(A=zR?qR(t,n):GR(t,n))&&(u=Gc(u,"onBeforeInput"),0<u.length&&(c=new Tw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=A))}MA(d,e)})}function El(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=vl(t,n),o!=null&&r.unshift(El(t,o,i)),o=vl(t,e),o!=null&&r.push(El(t,o,i))),t=t.return}return r}function Ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jw(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=vl(n,o),l!=null&&a.unshift(El(n,l,s))):i||(l=vl(n,o),l!=null&&a.push(El(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var oM=/\r\n?/g,aM=/\u0000|\uFFFD/g;function Lw(t){return(typeof t=="string"?t:""+t).replace(oM,`
`).replace(aM,"")}function Hu(t,e,n){if(e=Lw(e),Lw(t)!==e&&n)throw Error(J(425))}function Hc(){}var xm=null,_m=null;function Sm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Em=typeof setTimeout=="function"?setTimeout:void 0,sM=typeof clearTimeout=="function"?clearTimeout:void 0,Uw=typeof Promise=="function"?Promise:void 0,lM=typeof queueMicrotask=="function"?queueMicrotask:typeof Uw<"u"?function(t){return Uw.resolve(null).then(t).catch(uM)}:Em;function uM(t){setTimeout(function(){throw t})}function ip(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),bl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bl(e)}function li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qa=Math.random().toString(36).slice(2),ir="__reactFiber$"+Qa,Tl="__reactProps$"+Qa,Or="__reactContainer$"+Qa,Tm="__reactEvents$"+Qa,cM="__reactListeners$"+Qa,dM="__reactHandles$"+Qa;function Hi(t){var e=t[ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Or]||n[ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bw(t);t!==null;){if(n=t[ir])return n;t=Bw(t)}return e}t=n,n=t.parentNode}return null}function wu(t){return t=t[ir]||t[Or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Ef(t){return t[Tl]||null}var Am=[],Go=-1;function yi(t){return{current:t}}function We(t){0>Go||(t.current=Am[Go],Am[Go]=null,Go--)}function Fe(t,e){Go++,Am[Go]=t.current,t.current=e}var gi={},Lt=yi(gi),Xt=yi(!1),io=gi;function ya(t,e){var n=t.type.contextTypes;if(!n)return gi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qt(t){return t=t.childContextTypes,t!=null}function Wc(){We(Xt),We(Lt)}function Fw(t,e,n){if(Lt.current!==gi)throw Error(J(168));Fe(Lt,e),Fe(Xt,n)}function DA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,JO(t)||"Unknown",i));return et({},n,r)}function Kc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gi,io=Lt.current,Fe(Lt,t),Fe(Xt,Xt.current),!0}function Vw(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=DA(t,e,io),r.__reactInternalMemoizedMergedChildContext=t,We(Xt),We(Lt),Fe(Lt,t)):We(Xt),Fe(Xt,n)}var xr=null,Tf=!1,op=!1;function jA(t){xr===null?xr=[t]:xr.push(t)}function fM(t){Tf=!0,jA(t)}function wi(){if(!op&&xr!==null){op=!0;var t=0,e=Ie;try{var n=xr;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,Tf=!1}catch(i){throw xr!==null&&(xr=xr.slice(t+1)),lA(Zv,wi),i}finally{Ie=e,op=!1}}return null}var Ho=[],Wo=0,Jc=null,Yc=0,An=[],Cn=0,oo=null,_r=1,Sr="";function $i(t,e){Ho[Wo++]=Yc,Ho[Wo++]=Jc,Jc=t,Yc=e}function LA(t,e,n){An[Cn++]=_r,An[Cn++]=Sr,An[Cn++]=oo,oo=t;var r=_r;t=Sr;var i=32-Yn(r)-1;r&=~(1<<i),n+=1;var o=32-Yn(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,_r=1<<32-Yn(e)+i|n<<i|r,Sr=o+t}else _r=1<<o|n<<i|r,Sr=t}function ly(t){t.return!==null&&($i(t,1),LA(t,1,0))}function uy(t){for(;t===Jc;)Jc=Ho[--Wo],Ho[Wo]=null,Yc=Ho[--Wo],Ho[Wo]=null;for(;t===oo;)oo=An[--Cn],An[Cn]=null,Sr=An[--Cn],An[Cn]=null,_r=An[--Cn],An[Cn]=null}var pn=null,hn=null,Je=!1,Kn=null;function UA(t,e){var n=Pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,hn=li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=oo!==null?{id:_r,overflow:Sr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,hn=null,!0):!1;default:return!1}}function Cm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function km(t){if(Je){var e=hn;if(e){var n=e;if(!zw(t,e)){if(Cm(t))throw Error(J(418));e=li(n.nextSibling);var r=pn;e&&zw(t,e)?UA(r,n):(t.flags=t.flags&-4097|2,Je=!1,pn=t)}}else{if(Cm(t))throw Error(J(418));t.flags=t.flags&-4097|2,Je=!1,pn=t}}}function qw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function Wu(t){if(t!==pn)return!1;if(!Je)return qw(t),Je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sm(t.type,t.memoizedProps)),e&&(e=hn)){if(Cm(t))throw BA(),Error(J(418));for(;e;)UA(t,e),e=li(e.nextSibling)}if(qw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=pn?li(t.stateNode.nextSibling):null;return!0}function BA(){for(var t=hn;t;)t=li(t.nextSibling)}function wa(){hn=pn=null,Je=!1}function cy(t){Kn===null?Kn=[t]:Kn.push(t)}var hM=Ur.ReactCurrentBatchConfig;function Cs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Ku(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gw(t){var e=t._init;return e(t._payload)}function FA(t){function e(w,b){if(t){var _=w.deletions;_===null?(w.deletions=[b],w.flags|=16):_.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=fi(w,b),w.index=0,w.sibling=null,w}function o(w,b,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<b?(w.flags|=2,b):_):(w.flags|=2,b)):(w.flags|=1048576,b)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function s(w,b,_,T){return b===null||b.tag!==6?(b=fp(_,w.mode,T),b.return=w,b):(b=i(b,_),b.return=w,b)}function l(w,b,_,T){var S=_.type;return S===Bo?c(w,b,_.props.children,T,_.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kr&&Gw(S)===b.type)?(T=i(b,_.props),T.ref=Cs(w,b,_),T.return=w,T):(T=Rc(_.type,_.key,_.props,null,w.mode,T),T.ref=Cs(w,b,_),T.return=w,T)}function u(w,b,_,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=hp(_,w.mode,T),b.return=w,b):(b=i(b,_.children||[]),b.return=w,b)}function c(w,b,_,T,S){return b===null||b.tag!==7?(b=to(_,w.mode,T,S),b.return=w,b):(b=i(b,_),b.return=w,b)}function d(w,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=fp(""+b,w.mode,_),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ju:return _=Rc(b.type,b.key,b.props,null,w.mode,_),_.ref=Cs(w,null,b),_.return=w,_;case Uo:return b=hp(b,w.mode,_),b.return=w,b;case Kr:var T=b._init;return d(w,T(b._payload),_)}if(Gs(b)||_s(b))return b=to(b,w.mode,_,null),b.return=w,b;Ku(w,b)}return null}function h(w,b,_,T){var S=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(w,b,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ju:return _.key===S?l(w,b,_,T):null;case Uo:return _.key===S?u(w,b,_,T):null;case Kr:return S=_._init,h(w,b,S(_._payload),T)}if(Gs(_)||_s(_))return S!==null?null:c(w,b,_,T,null);Ku(w,_)}return null}function g(w,b,_,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return w=w.get(_)||null,s(b,w,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ju:return w=w.get(T.key===null?_:T.key)||null,l(b,w,T,S);case Uo:return w=w.get(T.key===null?_:T.key)||null,u(b,w,T,S);case Kr:var E=T._init;return g(w,b,_,E(T._payload),S)}if(Gs(T)||_s(T))return w=w.get(_)||null,c(b,w,T,S,null);Ku(b,T)}return null}function v(w,b,_,T){for(var S=null,E=null,A=b,C=b=0,k=null;A!==null&&C<_.length;C++){A.index>C?(k=A,A=null):k=A.sibling;var N=h(w,A,_[C],T);if(N===null){A===null&&(A=k);break}t&&A&&N.alternate===null&&e(w,A),b=o(N,b,C),E===null?S=N:E.sibling=N,E=N,A=k}if(C===_.length)return n(w,A),Je&&$i(w,C),S;if(A===null){for(;C<_.length;C++)A=d(w,_[C],T),A!==null&&(b=o(A,b,C),E===null?S=A:E.sibling=A,E=A);return Je&&$i(w,C),S}for(A=r(w,A);C<_.length;C++)k=g(A,w,C,_[C],T),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?C:k.key),b=o(k,b,C),E===null?S=k:E.sibling=k,E=k);return t&&A.forEach(function(P){return e(w,P)}),Je&&$i(w,C),S}function y(w,b,_,T){var S=_s(_);if(typeof S!="function")throw Error(J(150));if(_=S.call(_),_==null)throw Error(J(151));for(var E=S=null,A=b,C=b=0,k=null,N=_.next();A!==null&&!N.done;C++,N=_.next()){A.index>C?(k=A,A=null):k=A.sibling;var P=h(w,A,N.value,T);if(P===null){A===null&&(A=k);break}t&&A&&P.alternate===null&&e(w,A),b=o(P,b,C),E===null?S=P:E.sibling=P,E=P,A=k}if(N.done)return n(w,A),Je&&$i(w,C),S;if(A===null){for(;!N.done;C++,N=_.next())N=d(w,N.value,T),N!==null&&(b=o(N,b,C),E===null?S=N:E.sibling=N,E=N);return Je&&$i(w,C),S}for(A=r(w,A);!N.done;C++,N=_.next())N=g(A,w,C,N.value,T),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?C:N.key),b=o(N,b,C),E===null?S=N:E.sibling=N,E=N);return t&&A.forEach(function(R){return e(w,R)}),Je&&$i(w,C),S}function x(w,b,_,T){if(typeof _=="object"&&_!==null&&_.type===Bo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ju:e:{for(var S=_.key,E=b;E!==null;){if(E.key===S){if(S=_.type,S===Bo){if(E.tag===7){n(w,E.sibling),b=i(E,_.props.children),b.return=w,w=b;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kr&&Gw(S)===E.type){n(w,E.sibling),b=i(E,_.props),b.ref=Cs(w,E,_),b.return=w,w=b;break e}n(w,E);break}else e(w,E);E=E.sibling}_.type===Bo?(b=to(_.props.children,w.mode,T,_.key),b.return=w,w=b):(T=Rc(_.type,_.key,_.props,null,w.mode,T),T.ref=Cs(w,b,_),T.return=w,w=T)}return a(w);case Uo:e:{for(E=_.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(w,b.sibling),b=i(b,_.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=hp(_,w.mode,T),b.return=w,w=b}return a(w);case Kr:return E=_._init,x(w,b,E(_._payload),T)}if(Gs(_))return v(w,b,_,T);if(_s(_))return y(w,b,_,T);Ku(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(w,b.sibling),b=i(b,_),b.return=w,w=b):(n(w,b),b=fp(_,w.mode,T),b.return=w,w=b),a(w)):n(w,b)}return x}var ba=FA(!0),VA=FA(!1),Xc=yi(null),Qc=null,Ko=null,dy=null;function fy(){dy=Ko=Qc=null}function hy(t){var e=Xc.current;We(Xc),t._currentValue=e}function Pm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function sa(t,e){Qc=t,dy=Ko=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function Rn(t){var e=t._currentValue;if(dy!==t)if(t={context:t,memoizedValue:e,next:null},Ko===null){if(Qc===null)throw Error(J(308));Ko=t,Qc.dependencies={lanes:0,firstContext:t}}else Ko=Ko.next=t;return e}var Wi=null;function py(t){Wi===null?Wi=[t]:Wi.push(t)}function zA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,py(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rr(t,r)}function Rr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Jr=!1;function my(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ui(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Rr(t,n)}return i=r.interleaved,i===null?(e.next=e,py(r)):(e.next=i.next,i.next=e),r.interleaved=e,Rr(t,n)}function Cc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ey(t,n)}}function Hw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zc(t,e,n,r){var i=t.updateQueue;Jr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,y=s;switch(h=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(g,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(g,d,h):v,h==null)break e;d=et({},d,h);break e;case 2:Jr=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);so|=a,t.lanes=a,t.memoizedState=d}}function Ww(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var bu={},sr=yi(bu),Al=yi(bu),Cl=yi(bu);function Ki(t){if(t===bu)throw Error(J(174));return t}function gy(t,e){switch(Fe(Cl,e),Fe(Al,t),Fe(sr,bu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:um(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=um(e,t)}We(sr),Fe(sr,e)}function xa(){We(sr),We(Al),We(Cl)}function GA(t){Ki(Cl.current);var e=Ki(sr.current),n=um(e,t.type);e!==n&&(Fe(Al,t),Fe(sr,n))}function vy(t){Al.current===t&&(We(sr),We(Al))}var Qe=yi(0);function ed(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ap=[];function yy(){for(var t=0;t<ap.length;t++)ap[t]._workInProgressVersionPrimary=null;ap.length=0}var kc=Ur.ReactCurrentDispatcher,sp=Ur.ReactCurrentBatchConfig,ao=0,Ze=null,pt=null,xt=null,td=!1,tl=!1,kl=0,pM=0;function Ot(){throw Error(J(321))}function wy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zn(t[n],e[n]))return!1;return!0}function by(t,e,n,r,i,o){if(ao=o,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kc.current=t===null||t.memoizedState===null?yM:wM,t=n(r,i),tl){o=0;do{if(tl=!1,kl=0,25<=o)throw Error(J(301));o+=1,xt=pt=null,e.updateQueue=null,kc.current=bM,t=n(r,i)}while(tl)}if(kc.current=nd,e=pt!==null&&pt.next!==null,ao=0,xt=pt=Ze=null,td=!1,e)throw Error(J(300));return t}function xy(){var t=kl!==0;return kl=0,t}function rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ze.memoizedState=xt=t:xt=xt.next=t,xt}function Mn(){if(pt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=xt===null?Ze.memoizedState:xt.next;if(e!==null)xt=e,pt=t;else{if(t===null)throw Error(J(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},xt===null?Ze.memoizedState=xt=t:xt=xt.next=t}return xt}function Pl(t,e){return typeof e=="function"?e(t):e}function lp(t){var e=Mn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=pt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((ao&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,Ze.lanes|=c,so|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Zn(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ze.lanes|=o,so|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function up(t){var e=Mn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Zn(o,e.memoizedState)||(Jt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function HA(){}function WA(t,e){var n=Ze,r=Mn(),i=e(),o=!Zn(r.memoizedState,i);if(o&&(r.memoizedState=i,Jt=!0),r=r.queue,_y(YA.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,Il(9,JA.bind(null,n,r,i,e),void 0,null),St===null)throw Error(J(349));ao&30||KA(n,e,i)}return i}function KA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function JA(t,e,n,r){e.value=n,e.getSnapshot=r,XA(e)&&QA(t)}function YA(t,e,n){return n(function(){XA(e)&&QA(t)})}function XA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zn(t,n)}catch{return!0}}function QA(t){var e=Rr(t,1);e!==null&&Xn(e,t,1,-1)}function Kw(t){var e=rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:t},e.queue=t,t=t.dispatch=vM.bind(null,Ze,t),[e.memoizedState,t]}function Il(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ZA(){return Mn().memoizedState}function Pc(t,e,n,r){var i=rr();Ze.flags|=t,i.memoizedState=Il(1|e,n,void 0,r===void 0?null:r)}function Af(t,e,n,r){var i=Mn();r=r===void 0?null:r;var o=void 0;if(pt!==null){var a=pt.memoizedState;if(o=a.destroy,r!==null&&wy(r,a.deps)){i.memoizedState=Il(e,n,o,r);return}}Ze.flags|=t,i.memoizedState=Il(1|e,n,o,r)}function Jw(t,e){return Pc(8390656,8,t,e)}function _y(t,e){return Af(2048,8,t,e)}function eC(t,e){return Af(4,2,t,e)}function tC(t,e){return Af(4,4,t,e)}function nC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rC(t,e,n){return n=n!=null?n.concat([t]):null,Af(4,4,nC.bind(null,e,t),n)}function Sy(){}function iC(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oC(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aC(t,e,n){return ao&21?(Zn(n,e)||(n=dA(),Ze.lanes|=n,so|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function mM(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=sp.transition;sp.transition={};try{t(!1),e()}finally{Ie=n,sp.transition=r}}function sC(){return Mn().memoizedState}function gM(t,e,n){var r=di(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lC(t))uC(e,n);else if(n=zA(t,e,n,r),n!==null){var i=Gt();Xn(n,t,r,i),cC(n,e,r)}}function vM(t,e,n){var r=di(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lC(t))uC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Zn(s,a)){var l=e.interleaved;l===null?(i.next=i,py(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=zA(t,e,i,r),n!==null&&(i=Gt(),Xn(n,t,r,i),cC(n,e,r))}}function lC(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function uC(t,e){tl=td=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ey(t,n)}}var nd={readContext:Rn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},yM={readContext:Rn,useCallback:function(t,e){return rr().memoizedState=[t,e===void 0?null:e],t},useContext:Rn,useEffect:Jw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pc(4194308,4,nC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pc(4,2,t,e)},useMemo:function(t,e){var n=rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gM.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=rr();return t={current:t},e.memoizedState=t},useState:Kw,useDebugValue:Sy,useDeferredValue:function(t){return rr().memoizedState=t},useTransition:function(){var t=Kw(!1),e=t[0];return t=mM.bind(null,t[1]),rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,i=rr();if(Je){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),St===null)throw Error(J(349));ao&30||KA(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Jw(YA.bind(null,r,o,t),[t]),r.flags|=2048,Il(9,JA.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=rr(),e=St.identifierPrefix;if(Je){var n=Sr,r=_r;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wM={readContext:Rn,useCallback:iC,useContext:Rn,useEffect:_y,useImperativeHandle:rC,useInsertionEffect:eC,useLayoutEffect:tC,useMemo:oC,useReducer:lp,useRef:ZA,useState:function(){return lp(Pl)},useDebugValue:Sy,useDeferredValue:function(t){var e=Mn();return aC(e,pt.memoizedState,t)},useTransition:function(){var t=lp(Pl)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:HA,useSyncExternalStore:WA,useId:sC,unstable_isNewReconciler:!1},bM={readContext:Rn,useCallback:iC,useContext:Rn,useEffect:_y,useImperativeHandle:rC,useInsertionEffect:eC,useLayoutEffect:tC,useMemo:oC,useReducer:up,useRef:ZA,useState:function(){return up(Pl)},useDebugValue:Sy,useDeferredValue:function(t){var e=Mn();return pt===null?e.memoizedState=t:aC(e,pt.memoizedState,t)},useTransition:function(){var t=up(Pl)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:HA,useSyncExternalStore:WA,useId:sC,unstable_isNewReconciler:!1};function zn(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Im(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cf={isMounted:function(t){return(t=t._reactInternals)?vo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=di(t),o=Cr(r,i);o.payload=e,n!=null&&(o.callback=n),e=ui(t,o,i),e!==null&&(Xn(e,t,i,r),Cc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=di(t),o=Cr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ui(t,o,i),e!==null&&(Xn(e,t,i,r),Cc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gt(),r=di(t),i=Cr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ui(t,i,r),e!==null&&(Xn(e,t,r,n),Cc(e,t,r))}};function Yw(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!_l(n,r)||!_l(i,o):!0}function dC(t,e,n){var r=!1,i=gi,o=e.contextType;return typeof o=="object"&&o!==null?o=Rn(o):(i=Qt(e)?io:Lt.current,r=e.contextTypes,o=(r=r!=null)?ya(t,i):gi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Xw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cf.enqueueReplaceState(e,e.state,null)}function Nm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},my(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Rn(o):(o=Qt(e)?io:Lt.current,i.context=ya(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Im(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cf.enqueueReplaceState(i,i.state,null),Zc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _a(t,e){try{var n="",r=e;do n+=KO(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function cp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Om(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xM=typeof WeakMap=="function"?WeakMap:Map;function fC(t,e,n){n=Cr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){id||(id=!0,Vm=r),Om(t,e)},n}function hC(t,e,n){n=Cr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Om(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Om(t,e),typeof r!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Qw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$M.bind(null,t,e,n),e.then(t,t))}function Zw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function eb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cr(-1,1),e.tag=2,ui(n,e,1))),n.lanes|=1),t)}var _M=Ur.ReactCurrentOwner,Jt=!1;function Bt(t,e,n,r){e.child=t===null?VA(e,null,n,r):ba(e,t.child,n,r)}function tb(t,e,n,r,i){n=n.render;var o=e.ref;return sa(e,i),r=by(t,e,n,r,o,i),n=xy(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mr(t,e,i)):(Je&&n&&ly(e),e.flags|=1,Bt(t,e,r,i),e.child)}function nb(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ny(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,pC(t,e,o,r,i)):(t=Rc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:_l,n(a,r)&&t.ref===e.ref)return Mr(t,e,i)}return e.flags|=1,t=fi(o,r),t.ref=e.ref,t.return=e,e.child=t}function pC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(_l(o,r)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,Mr(t,e,i)}return Rm(t,e,n,r,i)}function mC(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Yo,sn),sn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(Yo,sn),sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Fe(Yo,sn),sn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Fe(Yo,sn),sn|=r;return Bt(t,e,i,n),e.child}function gC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rm(t,e,n,r,i){var o=Qt(n)?io:Lt.current;return o=ya(e,o),sa(e,i),n=by(t,e,n,r,o,i),r=xy(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mr(t,e,i)):(Je&&r&&ly(e),e.flags|=1,Bt(t,e,n,i),e.child)}function rb(t,e,n,r,i){if(Qt(n)){var o=!0;Kc(e)}else o=!1;if(sa(e,i),e.stateNode===null)Ic(t,e),dC(e,n,r),Nm(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rn(u):(u=Qt(n)?io:Lt.current,u=ya(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Xw(e,a,r,u),Jr=!1;var h=e.memoizedState;a.state=h,Zc(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Xt.current||Jr?(typeof c=="function"&&(Im(e,n,c,r),l=e.memoizedState),(s=Jr||Yw(e,n,s,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,qA(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:zn(e.type,s),a.props=u,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Rn(l):(l=Qt(n)?io:Lt.current,l=ya(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&Xw(e,a,r,l),Jr=!1,h=e.memoizedState,a.state=h,Zc(e,r,a,i);var v=e.memoizedState;s!==d||h!==v||Xt.current||Jr?(typeof g=="function"&&(Im(e,n,g,r),v=e.memoizedState),(u=Jr||Yw(e,n,u,r,h,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Mm(t,e,n,r,o,i)}function Mm(t,e,n,r,i,o){gC(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Vw(e,n,!1),Mr(t,e,o);r=e.stateNode,_M.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ba(e,t.child,null,o),e.child=ba(e,null,s,o)):Bt(t,e,s,o),e.memoizedState=r.state,i&&Vw(e,n,!0),e.child}function vC(t){var e=t.stateNode;e.pendingContext?Fw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fw(t,e.context,!1),gy(t,e.containerInfo)}function ib(t,e,n,r,i){return wa(),cy(i),e.flags|=256,Bt(t,e,n,r),e.child}var $m={dehydrated:null,treeContext:null,retryLane:0};function Dm(t){return{baseLanes:t,cachePool:null,transitions:null}}function yC(t,e,n){var r=e.pendingProps,i=Qe.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(Qe,i&1),t===null)return km(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=If(a,r,0,null),t=to(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Dm(n),e.memoizedState=$m,t):Ey(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return SM(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=fi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=fi(s,o):(o=to(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Dm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=$m,r}return o=t.child,t=o.sibling,r=fi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ey(t,e){return e=If({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ju(t,e,n,r){return r!==null&&cy(r),ba(e,t.child,null,n),t=Ey(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SM(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=cp(Error(J(422))),Ju(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=If({mode:"visible",children:r.children},i,0,null),o=to(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ba(e,t.child,null,a),e.child.memoizedState=Dm(a),e.memoizedState=$m,o);if(!(e.mode&1))return Ju(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(J(419)),r=cp(o,r,void 0),Ju(t,e,a,r)}if(s=(a&t.childLanes)!==0,Jt||s){if(r=St,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Rr(t,i),Xn(r,t,i,-1))}return Iy(),r=cp(Error(J(421))),Ju(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=DM.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,hn=li(i.nextSibling),pn=e,Je=!0,Kn=null,t!==null&&(An[Cn++]=_r,An[Cn++]=Sr,An[Cn++]=oo,_r=t.id,Sr=t.overflow,oo=e),e=Ey(e,r.children),e.flags|=4096,e)}function ob(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Pm(t.return,e,n)}function dp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function wC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Bt(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ob(t,n,e);else if(t.tag===19)ob(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ed(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),dp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ed(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}dp(e,!0,n,null,o);break;case"together":dp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ic(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),so|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=fi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EM(t,e,n){switch(e.tag){case 3:vC(e),wa();break;case 5:GA(e);break;case 1:Qt(e.type)&&Kc(e);break;case 4:gy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(Xc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?yC(t,e,n):(Fe(Qe,Qe.current&1),t=Mr(t,e,n),t!==null?t.sibling:null);Fe(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,mC(t,e,n)}return Mr(t,e,n)}var bC,jm,xC,_C;bC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jm=function(){};xC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ki(sr.current);var o=null;switch(n){case"input":i=om(t,i),r=om(t,r),o=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),o=[];break;case"textarea":i=lm(t,i),r=lm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hc)}cm(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ml.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ml.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ze("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};_C=function(t,e,n,r){n!==r&&(e.flags|=4)};function ks(t,e){if(!Je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TM(t,e,n){var r=e.pendingProps;switch(uy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(e),null;case 1:return Qt(e.type)&&Wc(),Rt(e),null;case 3:return r=e.stateNode,xa(),We(Xt),We(Lt),yy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kn!==null&&(Gm(Kn),Kn=null))),jm(t,e),Rt(e),null;case 5:vy(e);var i=Ki(Cl.current);if(n=e.type,t!==null&&e.stateNode!=null)xC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Rt(e),null}if(t=Ki(sr.current),Wu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ir]=e,r[Tl]=o,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<Ws.length;i++)ze(Ws[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":pw(r,o),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ze("invalid",r);break;case"textarea":gw(r,o),ze("invalid",r)}cm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Hu(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Hu(r.textContent,s,t),i=["children",""+s]):ml.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&ze("scroll",r)}switch(n){case"input":Lu(r),mw(r,o,!0);break;case"textarea":Lu(r),vw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Hc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ir]=e,t[Tl]=r,bC(t,e,!1,!1),e.stateNode=t;e:{switch(a=dm(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ws.length;i++)ze(Ws[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":pw(t,r),i=om(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),ze("invalid",t);break;case"textarea":gw(t,r),i=lm(t,r),ze("invalid",t);break;default:i=r}cm(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?ZT(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XT(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gl(t,l):typeof l=="number"&&gl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ml.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ze("scroll",t):l!=null&&Kv(t,o,l,a))}switch(n){case"input":Lu(t),mw(t,r,!1);break;case"textarea":Lu(t),vw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ra(t,!!r.multiple,o,!1):r.defaultValue!=null&&ra(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rt(e),null;case 6:if(t&&e.stateNode!=null)_C(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Ki(Cl.current),Ki(sr.current),Wu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ir]=e,(o=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:Hu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ir]=e,e.stateNode=r}return Rt(e),null;case 13:if(We(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&hn!==null&&e.mode&1&&!(e.flags&128))BA(),wa(),e.flags|=98560,o=!1;else if(o=Wu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[ir]=e}else wa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rt(e),o=!1}else Kn!==null&&(Gm(Kn),Kn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?gt===0&&(gt=3):Iy())),e.updateQueue!==null&&(e.flags|=4),Rt(e),null);case 4:return xa(),jm(t,e),t===null&&Sl(e.stateNode.containerInfo),Rt(e),null;case 10:return hy(e.type._context),Rt(e),null;case 17:return Qt(e.type)&&Wc(),Rt(e),null;case 19:if(We(Qe),o=e.memoizedState,o===null)return Rt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)ks(o,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ed(t),a!==null){for(e.flags|=128,ks(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Qe,Qe.current&1|2),e.child}t=t.sibling}o.tail!==null&&ot()>Sa&&(e.flags|=128,r=!0,ks(o,!1),e.lanes=4194304)}else{if(!r)if(t=ed(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ks(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Je)return Rt(e),null}else 2*ot()-o.renderingStartTime>Sa&&n!==1073741824&&(e.flags|=128,r=!0,ks(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ot(),e.sibling=null,n=Qe.current,Fe(Qe,r?n&1|2:n&1),e):(Rt(e),null);case 22:case 23:return Py(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sn&1073741824&&(Rt(e),e.subtreeFlags&6&&(e.flags|=8192)):Rt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function AM(t,e){switch(uy(e),e.tag){case 1:return Qt(e.type)&&Wc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xa(),We(Xt),We(Lt),yy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vy(e),null;case 13:if(We(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));wa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Qe),null;case 4:return xa(),null;case 10:return hy(e.type._context),null;case 22:case 23:return Py(),null;case 24:return null;default:return null}}var Yu=!1,$t=!1,CM=typeof WeakSet=="function"?WeakSet:Set,re=null;function Jo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function Lm(t,e,n){try{n()}catch(r){nt(t,e,r)}}var ab=!1;function kM(t,e){if(xm=zc,t=CA(),sy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_m={focusedElem:t,selectionRange:n},zc=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:zn(e.type,y),x);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(T){nt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return v=ab,ab=!1,v}function nl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Lm(e,n,o)}i=i.next}while(i!==r)}}function kf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Um(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function SC(t){var e=t.alternate;e!==null&&(t.alternate=null,SC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ir],delete e[Tl],delete e[Tm],delete e[cM],delete e[dM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EC(t){return t.tag===5||t.tag===3||t.tag===4}function sb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hc));else if(r!==4&&(t=t.child,t!==null))for(Bm(t,e,n),t=t.sibling;t!==null;)Bm(t,e,n),t=t.sibling}function Fm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fm(t,e,n),t=t.sibling;t!==null;)Fm(t,e,n),t=t.sibling}var Pt=null,Gn=!1;function Hr(t,e,n){for(n=n.child;n!==null;)TC(t,e,n),n=n.sibling}function TC(t,e,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(bf,n)}catch{}switch(n.tag){case 5:$t||Jo(n,e);case 6:var r=Pt,i=Gn;Pt=null,Hr(t,e,n),Pt=r,Gn=i,Pt!==null&&(Gn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(Gn?(t=Pt,n=n.stateNode,t.nodeType===8?ip(t.parentNode,n):t.nodeType===1&&ip(t,n),bl(t)):ip(Pt,n.stateNode));break;case 4:r=Pt,i=Gn,Pt=n.stateNode.containerInfo,Gn=!0,Hr(t,e,n),Pt=r,Gn=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Lm(n,e,a),i=i.next}while(i!==r)}Hr(t,e,n);break;case 1:if(!$t&&(Jo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){nt(n,e,s)}Hr(t,e,n);break;case 21:Hr(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,Hr(t,e,n),$t=r):Hr(t,e,n);break;default:Hr(t,e,n)}}function lb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CM),e.forEach(function(r){var i=jM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Pt=s.stateNode,Gn=!1;break e;case 3:Pt=s.stateNode.containerInfo,Gn=!0;break e;case 4:Pt=s.stateNode.containerInfo,Gn=!0;break e}s=s.return}if(Pt===null)throw Error(J(160));TC(o,a,i),Pt=null,Gn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){nt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AC(e,t),e=e.sibling}function AC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bn(e,t),nr(t),r&4){try{nl(3,t,t.return),kf(3,t)}catch(y){nt(t,t.return,y)}try{nl(5,t,t.return)}catch(y){nt(t,t.return,y)}}break;case 1:Bn(e,t),nr(t),r&512&&n!==null&&Jo(n,n.return);break;case 5:if(Bn(e,t),nr(t),r&512&&n!==null&&Jo(n,n.return),t.flags&32){var i=t.stateNode;try{gl(i,"")}catch(y){nt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&KT(i,o),dm(s,a);var u=dm(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?ZT(i,d):c==="dangerouslySetInnerHTML"?XT(i,d):c==="children"?gl(i,d):Kv(i,c,d,u)}switch(s){case"input":am(i,o);break;case"textarea":JT(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?ra(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?ra(i,!!o.multiple,o.defaultValue,!0):ra(i,!!o.multiple,o.multiple?[]:"",!1))}i[Tl]=o}catch(y){nt(t,t.return,y)}}break;case 6:if(Bn(e,t),nr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){nt(t,t.return,y)}}break;case 3:if(Bn(e,t),nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bl(e.containerInfo)}catch(y){nt(t,t.return,y)}break;case 4:Bn(e,t),nr(t);break;case 13:Bn(e,t),nr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Cy=ot())),r&4&&lb(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?($t=(u=$t)||c,Bn(e,t),$t=u):Bn(e,t),nr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(re=t,c=t.child;c!==null;){for(d=re=c;re!==null;){switch(h=re,g=h.child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Jo(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){nt(r,n,y)}}break;case 5:Jo(h,h.return);break;case 22:if(h.memoizedState!==null){cb(d);continue}}g!==null?(g.return=h,re=g):cb(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=QT("display",a))}catch(y){nt(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){nt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Bn(e,t),nr(t),r&4&&lb(t);break;case 21:break;default:Bn(e,t),nr(t)}}function nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EC(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gl(i,""),r.flags&=-33);var o=sb(t);Fm(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=sb(t);Bm(t,s,a);break;default:throw Error(J(161))}}catch(l){nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PM(t,e,n){re=t,CC(t)}function CC(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Yu;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||$t;s=Yu;var u=$t;if(Yu=a,($t=l)&&!u)for(re=i;re!==null;)a=re,l=a.child,a.tag===22&&a.memoizedState!==null?db(i):l!==null?(l.return=a,re=l):db(i);for(;o!==null;)re=o,CC(o),o=o.sibling;re=i,Yu=s,$t=u}ub(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,re=o):ub(t)}}function ub(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||kf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Ww(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ww(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&bl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}$t||e.flags&512&&Um(e)}catch(h){nt(e,e.return,h)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function cb(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function db(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kf(4,e)}catch(l){nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){nt(e,i,l)}}var o=e.return;try{Um(e)}catch(l){nt(e,o,l)}break;case 5:var a=e.return;try{Um(e)}catch(l){nt(e,a,l)}}}catch(l){nt(e,e.return,l)}if(e===t){re=null;break}var s=e.sibling;if(s!==null){s.return=e.return,re=s;break}re=e.return}}var IM=Math.ceil,rd=Ur.ReactCurrentDispatcher,Ty=Ur.ReactCurrentOwner,Nn=Ur.ReactCurrentBatchConfig,Ee=0,St=null,ut=null,It=0,sn=0,Yo=yi(0),gt=0,Nl=null,so=0,Pf=0,Ay=0,rl=null,Kt=null,Cy=0,Sa=1/0,yr=null,id=!1,Vm=null,ci=null,Xu=!1,ni=null,od=0,il=0,zm=null,Nc=-1,Oc=0;function Gt(){return Ee&6?ot():Nc!==-1?Nc:Nc=ot()}function di(t){return t.mode&1?Ee&2&&It!==0?It&-It:hM.transition!==null?(Oc===0&&(Oc=dA()),Oc):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:yA(t.type)),t):1}function Xn(t,e,n,r){if(50<il)throw il=0,zm=null,Error(J(185));vu(t,n,r),(!(Ee&2)||t!==St)&&(t===St&&(!(Ee&2)&&(Pf|=n),gt===4&&Qr(t,It)),Zt(t,r),n===1&&Ee===0&&!(e.mode&1)&&(Sa=ot()+500,Tf&&wi()))}function Zt(t,e){var n=t.callbackNode;hR(t,e);var r=Vc(t,t===St?It:0);if(r===0)n!==null&&bw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bw(n),e===1)t.tag===0?fM(fb.bind(null,t)):jA(fb.bind(null,t)),lM(function(){!(Ee&6)&&wi()}),n=null;else{switch(fA(r)){case 1:n=Zv;break;case 4:n=uA;break;case 16:n=Fc;break;case 536870912:n=cA;break;default:n=Fc}n=$C(n,kC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kC(t,e){if(Nc=-1,Oc=0,Ee&6)throw Error(J(327));var n=t.callbackNode;if(la()&&t.callbackNode!==n)return null;var r=Vc(t,t===St?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ad(t,r);else{e=r;var i=Ee;Ee|=2;var o=IC();(St!==t||It!==e)&&(yr=null,Sa=ot()+500,eo(t,e));do try{RM();break}catch(s){PC(t,s)}while(!0);fy(),rd.current=o,Ee=i,ut!==null?e=0:(St=null,It=0,e=gt)}if(e!==0){if(e===2&&(i=gm(t),i!==0&&(r=i,e=qm(t,i))),e===1)throw n=Nl,eo(t,0),Qr(t,r),Zt(t,ot()),n;if(e===6)Qr(t,r);else{if(i=t.current.alternate,!(r&30)&&!NM(i)&&(e=ad(t,r),e===2&&(o=gm(t),o!==0&&(r=o,e=qm(t,o))),e===1))throw n=Nl,eo(t,0),Qr(t,r),Zt(t,ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Di(t,Kt,yr);break;case 3:if(Qr(t,r),(r&130023424)===r&&(e=Cy+500-ot(),10<e)){if(Vc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Em(Di.bind(null,t,Kt,yr),e);break}Di(t,Kt,yr);break;case 4:if(Qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Yn(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IM(r/1960))-r,10<r){t.timeoutHandle=Em(Di.bind(null,t,Kt,yr),r);break}Di(t,Kt,yr);break;case 5:Di(t,Kt,yr);break;default:throw Error(J(329))}}}return Zt(t,ot()),t.callbackNode===n?kC.bind(null,t):null}function qm(t,e){var n=rl;return t.current.memoizedState.isDehydrated&&(eo(t,e).flags|=256),t=ad(t,e),t!==2&&(e=Kt,Kt=n,e!==null&&Gm(e)),t}function Gm(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function NM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Zn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qr(t,e){for(e&=~Ay,e&=~Pf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yn(e),r=1<<n;t[n]=-1,e&=~r}}function fb(t){if(Ee&6)throw Error(J(327));la();var e=Vc(t,0);if(!(e&1))return Zt(t,ot()),null;var n=ad(t,e);if(t.tag!==0&&n===2){var r=gm(t);r!==0&&(e=r,n=qm(t,r))}if(n===1)throw n=Nl,eo(t,0),Qr(t,e),Zt(t,ot()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Di(t,Kt,yr),Zt(t,ot()),null}function ky(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(Sa=ot()+500,Tf&&wi())}}function lo(t){ni!==null&&ni.tag===0&&!(Ee&6)&&la();var e=Ee;Ee|=1;var n=Nn.transition,r=Ie;try{if(Nn.transition=null,Ie=1,t)return t()}finally{Ie=r,Nn.transition=n,Ee=e,!(Ee&6)&&wi()}}function Py(){sn=Yo.current,We(Yo)}function eo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sM(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(uy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wc();break;case 3:xa(),We(Xt),We(Lt),yy();break;case 5:vy(r);break;case 4:xa();break;case 13:We(Qe);break;case 19:We(Qe);break;case 10:hy(r.type._context);break;case 22:case 23:Py()}n=n.return}if(St=t,ut=t=fi(t.current,null),It=sn=e,gt=0,Nl=null,Ay=Pf=so=0,Kt=rl=null,Wi!==null){for(e=0;e<Wi.length;e++)if(n=Wi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Wi=null}return t}function PC(t,e){do{var n=ut;try{if(fy(),kc.current=nd,td){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}td=!1}if(ao=0,xt=pt=Ze=null,tl=!1,kl=0,Ty.current=null,n===null||n.return===null){gt=1,Nl=e,ut=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=It,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Zw(a);if(g!==null){g.flags&=-257,eb(g,a,s,o,e),g.mode&1&&Qw(o,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){Qw(o,u,e),Iy();break e}l=Error(J(426))}}else if(Je&&s.mode&1){var x=Zw(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),eb(x,a,s,o,e),cy(_a(l,s));break e}}o=l=_a(l,s),gt!==4&&(gt=2),rl===null?rl=[o]:rl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=fC(o,l,e);Hw(o,w);break e;case 1:s=l;var b=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ci===null||!ci.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=hC(o,s,e);Hw(o,T);break e}}o=o.return}while(o!==null)}OC(n)}catch(S){e=S,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function IC(){var t=rd.current;return rd.current=nd,t===null?nd:t}function Iy(){(gt===0||gt===3||gt===2)&&(gt=4),St===null||!(so&268435455)&&!(Pf&268435455)||Qr(St,It)}function ad(t,e){var n=Ee;Ee|=2;var r=IC();(St!==t||It!==e)&&(yr=null,eo(t,e));do try{OM();break}catch(i){PC(t,i)}while(!0);if(fy(),Ee=n,rd.current=r,ut!==null)throw Error(J(261));return St=null,It=0,gt}function OM(){for(;ut!==null;)NC(ut)}function RM(){for(;ut!==null&&!iR();)NC(ut)}function NC(t){var e=MC(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?OC(t):ut=e,Ty.current=null}function OC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AM(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,ut=null;return}}else if(n=TM(n,e,sn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);gt===0&&(gt=5)}function Di(t,e,n){var r=Ie,i=Nn.transition;try{Nn.transition=null,Ie=1,MM(t,e,n,r)}finally{Nn.transition=i,Ie=r}return null}function MM(t,e,n,r){do la();while(ni!==null);if(Ee&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(pR(t,o),t===St&&(ut=St=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xu||(Xu=!0,$C(Fc,function(){return la(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Nn.transition,Nn.transition=null;var a=Ie;Ie=1;var s=Ee;Ee|=4,Ty.current=null,kM(t,n),AC(n,t),eM(_m),zc=!!xm,_m=xm=null,t.current=n,PM(n),oR(),Ee=s,Ie=a,Nn.transition=o}else t.current=n;if(Xu&&(Xu=!1,ni=t,od=i),o=t.pendingLanes,o===0&&(ci=null),lR(n.stateNode),Zt(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(id)throw id=!1,t=Vm,Vm=null,t;return od&1&&t.tag!==0&&la(),o=t.pendingLanes,o&1?t===zm?il++:(il=0,zm=t):il=0,wi(),null}function la(){if(ni!==null){var t=fA(od),e=Nn.transition,n=Ie;try{if(Nn.transition=null,Ie=16>t?16:t,ni===null)var r=!1;else{if(t=ni,ni=null,od=0,Ee&6)throw Error(J(331));var i=Ee;for(Ee|=4,re=t.current;re!==null;){var o=re,a=o.child;if(re.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(re=u;re!==null;){var c=re;switch(c.tag){case 0:case 11:case 15:nl(8,c,o)}var d=c.child;if(d!==null)d.return=c,re=d;else for(;re!==null;){c=re;var h=c.sibling,g=c.return;if(SC(c),c===u){re=null;break}if(h!==null){h.return=g,re=h;break}re=g}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}re=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,re=a;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,re=w;break e}re=o.return}}var b=t.current;for(re=b;re!==null;){a=re;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,re=_;else e:for(a=b;re!==null;){if(s=re,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:kf(9,s)}}catch(S){nt(s,s.return,S)}if(s===a){re=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,re=T;break e}re=s.return}}if(Ee=i,wi(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(bf,t)}catch{}r=!0}return r}finally{Ie=n,Nn.transition=e}}return!1}function hb(t,e,n){e=_a(n,e),e=fC(t,e,1),t=ui(t,e,1),e=Gt(),t!==null&&(vu(t,1,e),Zt(t,e))}function nt(t,e,n){if(t.tag===3)hb(t,t,n);else for(;e!==null;){if(e.tag===3){hb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ci===null||!ci.has(r))){t=_a(n,t),t=hC(e,t,1),e=ui(e,t,1),t=Gt(),e!==null&&(vu(e,1,t),Zt(e,t));break}}e=e.return}}function $M(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gt(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(It&n)===n&&(gt===4||gt===3&&(It&130023424)===It&&500>ot()-Cy?eo(t,0):Ay|=n),Zt(t,e)}function RC(t,e){e===0&&(t.mode&1?(e=Fu,Fu<<=1,!(Fu&130023424)&&(Fu=4194304)):e=1);var n=Gt();t=Rr(t,e),t!==null&&(vu(t,e,n),Zt(t,n))}function DM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RC(t,n)}function jM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),RC(t,n)}var MC;MC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xt.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,EM(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,Je&&e.flags&1048576&&LA(e,Yc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ic(t,e),t=e.pendingProps;var i=ya(e,Lt.current);sa(e,n),i=by(null,e,r,t,i,n);var o=xy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(r)?(o=!0,Kc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,my(e),i.updater=Cf,e.stateNode=i,i._reactInternals=e,Nm(e,r,t,n),e=Mm(null,e,r,!0,o,n)):(e.tag=0,Je&&o&&ly(e),Bt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ic(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UM(r),t=zn(r,t),i){case 0:e=Rm(null,e,r,t,n);break e;case 1:e=rb(null,e,r,t,n);break e;case 11:e=tb(null,e,r,t,n);break e;case 14:e=nb(null,e,r,zn(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),Rm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),rb(t,e,r,i,n);case 3:e:{if(vC(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,qA(t,e),Zc(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=_a(Error(J(423)),e),e=ib(t,e,r,n,i);break e}else if(r!==i){i=_a(Error(J(424)),e),e=ib(t,e,r,n,i);break e}else for(hn=li(e.stateNode.containerInfo.firstChild),pn=e,Je=!0,Kn=null,n=VA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wa(),r===i){e=Mr(t,e,n);break e}Bt(t,e,r,n)}e=e.child}return e;case 5:return GA(e),t===null&&km(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Sm(r,i)?a=null:o!==null&&Sm(r,o)&&(e.flags|=32),gC(t,e),Bt(t,e,a,n),e.child;case 6:return t===null&&km(e),null;case 13:return yC(t,e,n);case 4:return gy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ba(e,null,r,n):Bt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),tb(t,e,r,i,n);case 7:return Bt(t,e,e.pendingProps,n),e.child;case 8:return Bt(t,e,e.pendingProps.children,n),e.child;case 12:return Bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Fe(Xc,r._currentValue),r._currentValue=a,o!==null)if(Zn(o.value,a)){if(o.children===i.children&&!Xt.current){e=Mr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Cr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Pm(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Pm(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Bt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,sa(e,n),i=Rn(i),r=r(i),e.flags|=1,Bt(t,e,r,n),e.child;case 14:return r=e.type,i=zn(r,e.pendingProps),i=zn(r.type,i),nb(t,e,r,i,n);case 15:return pC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),Ic(t,e),e.tag=1,Qt(r)?(t=!0,Kc(e)):t=!1,sa(e,n),dC(e,r,i),Nm(e,r,i,n),Mm(null,e,r,!0,t,n);case 19:return wC(t,e,n);case 22:return mC(t,e,n)}throw Error(J(156,e.tag))};function $C(t,e){return lA(t,e)}function LM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,n,r){return new LM(t,e,n,r)}function Ny(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UM(t){if(typeof t=="function")return Ny(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yv)return 11;if(t===Xv)return 14}return 2}function fi(t,e){var n=t.alternate;return n===null?(n=Pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rc(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Ny(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Bo:return to(n.children,i,o,e);case Jv:a=8,i|=8;break;case tm:return t=Pn(12,n,e,i|2),t.elementType=tm,t.lanes=o,t;case nm:return t=Pn(13,n,e,i),t.elementType=nm,t.lanes=o,t;case rm:return t=Pn(19,n,e,i),t.elementType=rm,t.lanes=o,t;case GT:return If(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zT:a=10;break e;case qT:a=9;break e;case Yv:a=11;break e;case Xv:a=14;break e;case Kr:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Pn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function to(t,e,n,r){return t=Pn(7,t,r,e),t.lanes=n,t}function If(t,e,n,r){return t=Pn(22,t,r,e),t.elementType=GT,t.lanes=n,t.stateNode={isHidden:!1},t}function fp(t,e,n){return t=Pn(6,t,null,e),t.lanes=n,t}function hp(t,e,n){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wh(0),this.expirationTimes=Wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Oy(t,e,n,r,i,o,a,s,l){return t=new BM(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Pn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},my(o),t}function FM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function DC(t){if(!t)return gi;t=t._reactInternals;e:{if(vo(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Qt(n))return DA(t,n,e)}return e}function jC(t,e,n,r,i,o,a,s,l){return t=Oy(n,r,!0,t,i,o,a,s,l),t.context=DC(null),n=t.current,r=Gt(),i=di(n),o=Cr(r,i),o.callback=e??null,ui(n,o,i),t.current.lanes=i,vu(t,i,r),Zt(t,r),t}function Nf(t,e,n,r){var i=e.current,o=Gt(),a=di(i);return n=DC(n),e.context===null?e.context=n:e.pendingContext=n,e=Cr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ui(i,e,a),t!==null&&(Xn(t,i,a,o),Cc(t,i,a)),a}function sd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ry(t,e){pb(t,e),(t=t.alternate)&&pb(t,e)}function VM(){return null}var LC=typeof reportError=="function"?reportError:function(t){console.error(t)};function My(t){this._internalRoot=t}Of.prototype.render=My.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Nf(t,e,null,null)};Of.prototype.unmount=My.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;lo(function(){Nf(null,t,null,null)}),e[Or]=null}};function Of(t){this._internalRoot=t}Of.prototype.unstable_scheduleHydration=function(t){if(t){var e=mA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xr.length&&e!==0&&e<Xr[n].priority;n++);Xr.splice(n,0,t),n===0&&vA(t)}};function $y(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mb(){}function zM(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=sd(a);o.call(u)}}var a=jC(e,r,t,0,null,!1,!1,"",mb);return t._reactRootContainer=a,t[Or]=a.current,Sl(t.nodeType===8?t.parentNode:t),lo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=sd(l);s.call(u)}}var l=Oy(t,0,!1,null,null,!1,!1,"",mb);return t._reactRootContainer=l,t[Or]=l.current,Sl(t.nodeType===8?t.parentNode:t),lo(function(){Nf(e,l,n,r)}),l}function Mf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=sd(a);s.call(l)}}Nf(e,a,t,i)}else a=zM(n,e,t,i,r);return sd(a)}hA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hs(e.pendingLanes);n!==0&&(ey(e,n|1),Zt(e,ot()),!(Ee&6)&&(Sa=ot()+500,wi()))}break;case 13:lo(function(){var r=Rr(t,1);if(r!==null){var i=Gt();Xn(r,t,1,i)}}),Ry(t,1)}};ty=function(t){if(t.tag===13){var e=Rr(t,134217728);if(e!==null){var n=Gt();Xn(e,t,134217728,n)}Ry(t,134217728)}};pA=function(t){if(t.tag===13){var e=di(t),n=Rr(t,e);if(n!==null){var r=Gt();Xn(n,t,e,r)}Ry(t,e)}};mA=function(){return Ie};gA=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};hm=function(t,e,n){switch(e){case"input":if(am(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ef(r);if(!i)throw Error(J(90));WT(r),am(r,i)}}}break;case"textarea":JT(t,n);break;case"select":e=n.value,e!=null&&ra(t,!!n.multiple,e,!1)}};nA=ky;rA=lo;var qM={usingClientEntryPoint:!1,Events:[wu,qo,Ef,eA,tA,ky]},Ps={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GM={bundleType:Ps.bundleType,version:Ps.version,rendererPackageName:Ps.rendererPackageName,rendererConfig:Ps.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aA(t),t===null?null:t.stateNode},findFiberByHostInstance:Ps.findFiberByHostInstance||VM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{bf=Qu.inject(GM),ar=Qu}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qM;yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$y(e))throw Error(J(200));return FM(t,e,null,n)};yn.createRoot=function(t,e){if(!$y(t))throw Error(J(299));var n=!1,r="",i=LC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Oy(t,1,!1,null,null,n,!1,r,i),t[Or]=e.current,Sl(t.nodeType===8?t.parentNode:t),new My(e)};yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=aA(e),t=t===null?null:t.stateNode,t};yn.flushSync=function(t){return lo(t)};yn.hydrate=function(t,e,n){if(!Rf(e))throw Error(J(200));return Mf(null,t,e,!0,n)};yn.hydrateRoot=function(t,e,n){if(!$y(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=LC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=jC(e,null,t,1,n??null,i,!1,o,a),t[Or]=e.current,Sl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Of(e)};yn.render=function(t,e,n){if(!Rf(e))throw Error(J(200));return Mf(null,t,e,!1,n)};yn.unmountComponentAtNode=function(t){if(!Rf(t))throw Error(J(40));return t._reactRootContainer?(lo(function(){Mf(null,null,t,!1,function(){t._reactRootContainer=null,t[Or]=null})}),!0):!1};yn.unstable_batchedUpdates=ky;yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Rf(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Mf(t,e,n,!1,r)};yn.version="18.3.1-next-f1338f8080-20240426";function UC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UC)}catch(t){console.error(t)}}UC(),UT.exports=yn;var HM=UT.exports,gb=HM;Zp.createRoot=gb.createRoot,Zp.hydrateRoot=gb.hydrateRoot;var me=(t=>(t.Admin="Admin",t.Manager="Manager",t.Cashier="Cashier",t.Viewer="Viewer",t))(me||{});const BC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),FC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})}),VC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962c.513-.96 1.487-1.591 2.571-1.591h1.69c1.084 0 2.058.631 2.571 1.591m-1.5-4.87c.966-.054 1.932.026 2.867.231m-8.686.461a9.083 9.083 0 01-2.233-1.527m-5.145-2.747a6.75 6.75 0 01-1.025-2.185m-2.522-3.238a6.75 6.75 0 00-1.025 2.185m8.686 4.61a9.083 9.083 0 01-2.233 1.527m5.145 2.747a6.75 6.75 0 001.025 2.185m2.522 3.238a6.75 6.75 0 011.025-2.185m-8.686-4.61a9.083 9.083 0 002.233-1.527m-5.145-2.747a6.75 6.75 0 01-1.025-2.185m-2.522-3.238a6.75 6.75 0 00-1.025 2.185"})}),zC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.003c0 1.113.285 2.16.786 3.07M15 19.128c.331.149.661.296.992.443m-7.007-4.668a2.25 2.25 0 01-.02-3.956 2.25 2.25 0 013.976.02 2.25 2.25 0 01-.02 3.956 2.25 2.25 0 01-3.976-.02zM12 15.75l-4.243 4.243M12 15.75l4.243 4.243m-8.486-4.243L12 15.75l-4.243-4.243m4.243-4.243L12 11.25l-4.243 4.243M12 3v.01M16.5 4.5l.01.01M21 8.25v.01M21 12v.01M21 15.75v.01M16.5 19.5l.01.01M12 21v.01M7.5 19.5l-.01.01M3 15.75v.01M3 12v.01M3 8.25v.01M7.5 4.5l-.01.01"})}),WM=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-1.007 1.11-1.226.55-.22 1.156-.169 1.664.13a4.902 4.902 0 012.016 3.033h.003c.184 1.487.054 3.023-.384 4.484.09.09.182.178.27.264.47.442.823.979 1.05 1.58.227.602.268 1.25.122 1.867-.146.617-.458 1.18-.9 1.637a4.902 4.902 0 01-6.108 2.368c-1.897-.732-3.56-2.22-4.32-4.13a4.893 4.893 0 01.164-5.32c.532-.733 1.28-1.343 2.146-1.757.513-.246 1.06-.401 1.617-.464.089-.006.177-.013.266-.02zM12 9a3 3 0 100 6 3 3 0 000-6z"})}),vb=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125v-12.75a1.125 1.125 0 011.125-1.125h17.25a1.125 1.125 0 011.125 1.125v12.75a1.125 1.125 0 01-1.125 1.125m-17.25 0h.009v.008h-.009v-.008zm1.688 0h.009v.008h-.009v-.008zm1.687 0h.009v.008h-.009v-.008zm1.688 0h.009v.008h-.009v-.008zm1.687 0h.009v.008h-.009v-.008zM8.25 6h7.5M8.25 9h7.5m-7.5 3h7.5"})}),qC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c.51 0 .962-.343 1.087-.835l1.823-6.423a.75.75 0 00-.674-.928H5.216c-.464 0-.893.261-.928.704L3.63 10.25l-1.38-4.853A.75.75 0 001.5 5.25H2.25"})}),KM=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.516.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})}),JM=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125v-4.25m16 4.25a1.5 1.5 0 003 0m-3 0a1.5 1.5 0 01-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})}),GC=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})}),YM=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.593l6.002-4.591c.828-.426.828-1.506 0-1.932l-6.002-4.591a2.02 2.02 0 00-1.607-.24L9.568 3z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),XM=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})}),QM=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"})}),ZM=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"})}),e$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),t$=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 013.75 9.375v-4.5zM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 01-1.125-1.125v-4.5zM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0113.5 9.375v-4.5z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75zM6.75 16.5h.75v.75h-.75v-.75zM16.5 6.75h.75v.75h-.75v-.75zM13.5 13.5h.75v.75h-.75v-.75zM13.5 19.5h.75v.75h-.75v-.75zM19.5 13.5h.75v.75h-.75v-.75zM19.5 19.5h.75v.75h-.75v-.75zM16.5 16.5h.75v.75h-.75v-.75z"})]}),n$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 017.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 011.06 0z"})}),r$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 004.5 4.5H18a3.75 3.75 0 001.332-7.257 3 3 0 00-3.758-3.848 5.25 5.25 0 00-10.233 2.33A4.502 4.502 0 002.25 15z"})}),i$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),o$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z"})}),a$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),fr={ChartBarIcon:BC,CubeIcon:FC,UserGroupIcon:VC,UsersIcon:zC,ShoppingCartIcon:qC,KeyIcon:KM,BanknotesIcon:GC,TagIcon:YM,ChatBubbleLeftRightIcon:XM,PrinterIcon:QM,GlobeAltIcon:ZM,ArrowUpTrayIcon:e$,QrCodeIcon:t$,WifiIcon:n$,CloudIcon:r$,BuildingStorefrontIcon:i$,ShieldCheckIcon:o$,XMarkIcon:a$},yb=.01,wb=7,ua=t=>t===me.Admin?{totalRevenue:!0,newCustomers:!0,productsSold:!0,todaysTransactions:!0,salesOverview:!0,topProducts:!0,recentActivity:!0,lowStockAlerts:!0,aiInsights:!0,licenseActivations:!0}:t===me.Manager?{totalRevenue:!0,productsSold:!0,salesOverview:!0,topProducts:!0,lowStockAlerts:!0,aiInsights:!0}:t===me.Cashier?{todaysTransactions:!0,productsSold:!0,lowStockAlerts:!0}:{},HC=[{name:"Dashboard",path:"dashboard",icon:BC,roles:[me.Admin,me.Manager,me.Cashier,me.Viewer]},{name:"Point of Sale",path:"pos",icon:qC,roles:[me.Admin,me.Manager,me.Cashier]},{name:"Products",path:"products",icon:FC,roles:[me.Admin,me.Manager]},{name:"Customers",path:"customers",icon:VC,roles:[me.Admin,me.Manager,me.Cashier]},{name:"Employees",path:"employees",icon:zC,roles:[me.Admin]},{name:"Suppliers",path:"suppliers",icon:JM,roles:[me.Admin,me.Manager]},{name:"Purchases",path:"purchases",icon:vb,roles:[me.Admin,me.Manager]},{name:"Expenses",path:"expenses",icon:GC,roles:[me.Admin,me.Manager]},{name:"Reports",path:"reports",icon:vb,roles:[me.Admin,me.Manager]},{name:"Settings",path:"settings",icon:WM,roles:[me.Admin,me.Manager,me.Cashier,me.Viewer]}],s$=[{id:"totalRevenue",name:"Total Revenue"},{id:"newCustomers",name:"New Customers"},{id:"productsSold",name:"Products Sold"},{id:"todaysTransactions",name:"Todays Transactions"},{id:"salesOverview",name:"Sales Overview"},{id:"topProducts",name:"Top Products"},{id:"recentActivity",name:"Recent Activity"},{id:"lowStockAlerts",name:"Low Stock Alerts"},{id:"aiInsights",name:"AI-Powered Insights"},{id:"licenseActivations",name:"License Activations"}],bb=[{id:"u1",name:"Super Admin",email:"superadmin@zenith.com",password:"superadmin123!",phone:"1234567890",role:me.Admin,avatarUrl:"https://i.pravatar.cc/150?u=u1",dashboardWidgets:ua(me.Admin),organizationId:"org_admin"},{id:"u2",name:"Jane Smith",email:"manager@zenith.com",password:"123",phone:"0987654321",role:me.Manager,avatarUrl:"https://i.pravatar.cc/150?u=u2",dashboardWidgets:ua(me.Manager),organizationId:"org_tech"},{id:"u3",name:"Bob Jones",email:"cashier@zenith.com",password:"123",phone:"1122334455",role:me.Cashier,avatarUrl:"https://i.pravatar.cc/150?u=u3",dashboardWidgets:ua(me.Cashier),organizationId:"org_tech"}],l$=[{id:"p1",name:"Wireless Headphones",category:"Electronics",price:99.99,stock:45,sku:"WH-001",imageUrl:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=200&q=80",organizationId:"org_tech",lowStockThreshold:10},{id:"p2",name:"Smartphone Stand",category:"Accessories",price:19.99,stock:120,sku:"SS-002",imageUrl:"https://images.unsplash.com/photo-1586495777744-4413f21062fa?w=200&q=80",organizationId:"org_tech",lowStockThreshold:20},{id:"p3",name:"Mechanical Keyboard",category:"Electronics",price:149.5,stock:8,sku:"MK-003",imageUrl:"https://images.unsplash.com/photo-1587829741301-dc798b91a603?w=200&q=80",organizationId:"org_tech",lowStockThreshold:5},{id:"p4",name:"USB-C Cable",category:"Accessories",price:9.99,stock:200,sku:"UC-004",organizationId:"org_tech",lowStockThreshold:50},{id:"p5",name:"Espresso Blend",category:"Coffee",price:15,stock:50,sku:"CF-001",organizationId:"org_coffee",lowStockThreshold:10},{id:"p6",name:"Cappuccino",category:"Beverage",price:4.5,stock:500,sku:"BV-001",organizationId:"org_coffee"}],u$=[{id:"c1",name:"Alice Johnson",phone:"555-0101",email:"alice@example.com",loyaltyPoints:150,dueAmount:0,organizationId:"org_tech",creditLimit:500},{id:"c2",name:"Michael Brown",phone:"555-0102",email:"michael@example.com",loyaltyPoints:40,dueAmount:50,organizationId:"org_tech",creditLimit:200},{id:"c3",name:"Coffee Lover",phone:"555-0201",email:"coffee@example.com",loyaltyPoints:200,dueAmount:0,organizationId:"org_coffee"}],c$=[{id:"sup1",name:"Tech Distro Inc.",contactPerson:"John Sales",phone:"555-9999",email:"sales@techdistro.com",organizationId:"org_tech"},{id:"sup2",name:"Global Gadgets",contactPerson:"Sarah Supply",phone:"555-8888",email:"sarah@globalgadgets.com",organizationId:"org_tech"},{id:"sup3",name:"Bean Farmers Co.",contactPerson:"Juan Valdez",phone:"555-7777",email:"juan@beans.com",organizationId:"org_coffee"}],d$=[{id:"po1",supplierId:"sup1",supplierName:"Tech Distro Inc.",status:"Completed",items:[{productId:"p1",productName:"Wireless Headphones",quantity:10,cost:500}],total:500,createdAt:"2023-10-25T10:00:00Z",createdBy:"Admin",organizationId:"org_tech"}],f$=[{id:"e1",category:"Rent",description:"Monthly shop rent",amount:1500,date:"2023-11-01T09:00:00Z",recordedBy:"Admin",organizationId:"org_tech"},{id:"e2",category:"Utilities",description:"Electric bill",amount:200,date:"2023-11-05T14:30:00Z",recordedBy:"Manager",organizationId:"org_tech"}],h$=[{id:"s1001",date:"2023-11-20T10:30:00",total:119.98,cashier:"Bob Jones",cashierId:"u3",items:2,customerId:"c1",customerName:"Alice Johnson",amountPaid:119.98,paymentMethod:"Card",organizationId:"org_tech"},{id:"s1002",date:"2023-11-20T11:15:00",total:19.99,cashier:"Bob Jones",cashierId:"u3",items:1,customerId:"guest",customerName:"Guest",amountPaid:20,paymentMethod:"Cash",organizationId:"org_tech"},{id:"s1003",date:"2023-11-21T09:45:00",total:299,cashier:"Jane Smith",cashierId:"u2",items:2,customerId:"c2",customerName:"Michael Brown",amountPaid:299,paymentMethod:"Credit",organizationId:"org_tech"},{id:"s1004",date:"2023-11-21T14:20:00",total:9.99,cashier:"Bob Jones",cashierId:"u3",items:1,customerId:"guest",customerName:"Guest",amountPaid:9.99,paymentMethod:"Cash",organizationId:"org_tech"},{id:"s1005",date:"2023-11-22T16:00:00",total:15,cashier:"Barista",cashierId:"u4",items:1,customerId:"c3",customerName:"Coffee Lover",amountPaid:15,paymentMethod:"Cash",organizationId:"org_coffee"}],p$=[{name:"Mon",sales:4e3},{name:"Tue",sales:3e3},{name:"Wed",sales:2e3},{name:"Thu",sales:2780},{name:"Fri",sales:1890},{name:"Sat",sales:2390},{name:"Sun",sales:3490}],xb=[{name:"Headphones",value:400},{name:"Phone Stand",value:300},{name:"Keyboard",value:300},{name:"USB Cable",value:200}],m$=[{id:"l1",user:"Admin",action:'Updated inventory for "Headphones"',timestamp:"2023-11-21T10:00:00"},{id:"l2",user:"Jane Smith",action:"Processed refund for Order #s1003",timestamp:"2023-11-21T11:30:00"},{id:"l3",user:"Bob Jones",action:"Logged in",timestamp:"2023-11-22T08:55:00"}],g$=[{id:"lk1",key:"DEV-001",assignedToUserId:"u2",assignedToUserName:"Jane Smith",status:"Active",validity:"Lifetime",deviceName:"Counter 1",organizationId:"org_tech"},{id:"lk2",key:"DEV-002",assignedToUserId:"u3",assignedToUserName:"Bob Jones",status:"Active",validity:"2024-12-31",deviceName:"Counter 2",organizationId:"org_tech"},{id:"lk3",key:"DEV-003",assignedToUserId:"u4",assignedToUserName:"Barista",status:"Active",validity:"Lifetime",deviceName:"Main Register",organizationId:"org_coffee"}],v$=[{id:"n1",title:"Low Stock Alert",message:"Wireless Headphones stock is below 10.",timestamp:"2023-11-22T09:00:00Z",read:!1,link:"products"},{id:"n2",title:"New Update",message:"Zenith POS v2.0 is now available.",timestamp:"2023-11-21T10:00:00Z",read:!0},{id:"n3",title:"Daily Report",message:"Yesterday's sales report is ready.",timestamp:"2023-11-21T08:00:00Z",read:!1,link:"reports"}],bn={products:{columns:[{key:"name",header:"Name",render:t=>m.jsxs("div",{className:"flex items-center gap-3",children:[t.imageUrl&&m.jsx("img",{src:t.imageUrl,alt:"",className:"w-8 h-8 rounded object-cover"}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-neutral-800 dark:text-neutral-200",children:t.name}),m.jsx("div",{className:"text-xs text-neutral-500",children:t.sku})]})]})},{key:"category",header:"Category"},{key:"price",header:"Price",render:t=>`$${t.price.toFixed(2)}`},{key:"stock",header:"Stock",render:t=>m.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${t.stock<=(t.lowStockThreshold||5)?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:[t.stock," units"]})}],formFields:[{key:"name",label:"Product Name",type:"text",required:!0},{key:"sku",label:"SKU / Barcode",type:"text",required:!0},{key:"category",label:"Category",type:"text",required:!0},{key:"price",label:"Price",type:"number",required:!0},{key:"stock",label:"Initial Stock",type:"number",required:!0},{key:"lowStockThreshold",label:"Low Stock Alert Level",type:"number"},{key:"imageUrl",label:"Product Image",type:"image"}]},customers:{columns:[{key:"name",header:"Name"},{key:"phone",header:"Phone"},{key:"loyaltyPoints",header:"Points",render:t=>m.jsx("span",{className:"font-mono text-amber-600 font-bold",children:t.loyaltyPoints})},{key:"dueAmount",header:"Due",render:t=>m.jsxs("span",{className:t.dueAmount>0?"text-red-600 font-bold":"text-green-600",children:["$",t.dueAmount.toFixed(2)]})}],formFields:[{key:"name",label:"Full Name",type:"text",required:!0},{key:"phone",label:"Phone Number",type:"text",required:!0},{key:"email",label:"Email",type:"email"},{key:"creditLimit",label:"Credit Limit",type:"number"}]},employees:{columns:[{key:"name",header:"Name",render:t=>m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("img",{src:t.avatarUrl,alt:"",className:"w-6 h-6 rounded-full"}),m.jsx("span",{children:t.name})]})},{key:"email",header:"Email"},{key:"role",header:"Role",render:t=>m.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-semibold
                    ${t.role===me.Admin?"bg-purple-100 text-purple-800":t.role===me.Manager?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:t.role})}],formFields:[{key:"name",label:"Name",type:"text",required:!0},{key:"email",label:"Email",type:"email",required:!0},{key:"password",label:"Password",type:"text",required:!0},{key:"role",label:"Role",type:"select",options:Object.values(me).map(t=>({value:t,label:t})),required:!0}]},suppliers:{columns:[{key:"name",header:"Company Name"},{key:"contactPerson",header:"Contact Person"},{key:"phone",header:"Phone"},{key:"email",header:"Email"}],formFields:[{key:"name",label:"Company Name",type:"text",required:!0},{key:"contactPerson",label:"Contact Person",type:"text",required:!0},{key:"phone",label:"Phone",type:"text",required:!0},{key:"email",label:"Email",type:"email",required:!0}]},purchases:{columns:[{key:"id",header:"PO ID",render:t=>m.jsxs("span",{className:"font-mono text-xs",children:["#",t.id]})},{key:"supplierName",header:"Supplier"},{key:"status",header:"Status",render:t=>m.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${t.status==="Completed"?"bg-green-100 text-green-800":t.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:t.status})},{key:"total",header:"Total Cost",render:t=>`$${t.total.toFixed(2)}`},{key:"createdAt",header:"Date",render:t=>new Date(t.createdAt).toLocaleDateString()}],formFields:[{key:"supplierId",label:"Supplier",type:"select",options:[],required:!0},{key:"status",label:"Status",type:"select",options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],required:!0}]},expenses:{columns:[{key:"category",header:"Category"},{key:"description",header:"Description"},{key:"amount",header:"Amount",render:t=>`$${t.amount.toFixed(2)}`},{key:"date",header:"Date",render:t=>new Date(t.date).toLocaleDateString()},{key:"recordedBy",header:"Recorded By"}],formFields:[{key:"category",label:"Category",type:"text",required:!0},{key:"description",label:"Description",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0},{key:"date",label:"Date",type:"text"}]}},y$={en:{Dashboard:"Dashboard","Point of Sale":"Point of Sale",Products:"Products",Customers:"Customers",Employees:"Employees",Settings:"Settings",Reports:"Reports",Suppliers:"Suppliers",Purchases:"Purchases",Expenses:"Expenses","Total Revenue":"Total Revenue","New Customers":"New Customers","Products Sold":"Products Sold","Todays Transactions":"Today's Transactions",Search:"Search products...",Charge:"Charge",Subtotal:"Subtotal",Tax:"Tax",Total:"Total","Add New":"Add New","Import CSV":"Import CSV","Print Labels":"Print Labels"},bn:{Dashboard:"","Point of Sale":" ",Products:" ",Customers:" ",Employees:"",Settings:"",Reports:"",Suppliers:"",Purchases:"",Expenses:"","Total Revenue":" ","New Customers":" ","Products Sold":" ","Todays Transactions":" ",Search:" ...",Charge:" ",Subtotal:"",Tax:"",Total:"","Add New":"  ","Import CSV":"CSV ","Print Labels":" "}},WC={USD:{symbol:"$",rate:1},BDT:{symbol:"",rate:110},EUR:{symbol:"",rate:.92},INR:{symbol:"",rate:83}},w$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.95-4.243l-1.591 1.591M5.25 12H3m4.243-4.95l1.591-1.591M12 9a3 3 0 100 6 3 3 0 000-6z"})}),b$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25c0 5.385 4.365 9.75 9.75 9.75 2.572 0 4.92-.99 6.697-2.648z"})}),x$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),_$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),S$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),{WifiIcon:E$,CloudIcon:T$}=fr,A$=({user:t,onLogout:e,toggleSidebar:n,isDarkMode:r,toggleDarkMode:i,businessName:o,businessLogo:a,activeView:s,setActiveView:l,notifications:u,setNotifications:c,activeShift:d,onToggleShift:h,isOnline:g,t:v,isInTrial:y})=>{const[x,w]=I.useState(!1),[b,_]=I.useState(!1),T=I.useRef(null),S=I.useRef(null),E=u.filter(P=>!P.read).length,A=P=>{P.link&&l(P.link),c(R=>R.map(j=>j.id===P.id?{...j,read:!0}:j)),_(!1)},C=()=>{c(P=>P.map(R=>({...R,read:!0})))},k=()=>{l("settings"),w(!1)},N=I.useMemo(()=>{if(s==="dashboard")return o;const P=HC.find(j=>j.path===s),R=P?P.name:s.charAt(0).toUpperCase()+s.slice(1);return v(R)},[s,o,v]);return I.useEffect(()=>{const P=R=>{T.current&&!T.current.contains(R.target)&&_(!1),S.current&&!S.current.contains(R.target)&&w(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]),m.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-sm shadow-sm flex flex-col",children:[y&&m.jsxs("div",{className:"bg-amber-500 text-white text-xs font-bold text-center py-1 flex justify-center items-center gap-2",children:[m.jsx("span",{children:" 7-DAY FREE TRIAL MODE"}),m.jsx("span",{className:"hidden sm:inline",children:" - Full features available."}),m.jsx("button",{onClick:()=>l("settings"),className:"underline hover:text-amber-100 ml-2",children:"Activate Now"})]}),m.jsxs("div",{className:"grid grid-cols-3 items-center h-16 px-4 md:px-6 w-full",children:[m.jsxs("div",{className:"flex items-center justify-start gap-4",children:[m.jsx("button",{onClick:n,className:"lg:hidden text-neutral-600 dark:text-neutral-300",children:m.jsx(_$,{className:"w-6 h-6"})}),d&&m.jsxs("div",{className:"hidden sm:flex items-center gap-2 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 text-xs font-semibold px-3 py-1.5 rounded-full",children:[m.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),m.jsxs("span",{children:[v("Shift Started"),": ",new Date(d.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a?m.jsx("img",{src:a,alt:"Business Logo",className:"h-8 w-8 object-contain"}):m.jsx(S$,{className:"h-8 w-8 text-primary-600"}),m.jsx("h1",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-100 truncate",children:N})]}),m.jsxs("div",{className:"flex items-center justify-end space-x-2 md:space-x-4",children:[m.jsxs("div",{className:`hidden md:flex items-center gap-1.5 px-2 py-1 rounded-full border ${g?"border-green-200 bg-green-50 text-green-700 dark:border-green-900 dark:bg-green-900/20 dark:text-green-400":"border-neutral-200 bg-neutral-50 text-neutral-500 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-400"}`,children:[g?m.jsx(E$,{className:"w-4 h-4"}):m.jsx(T$,{className:"w-4 h-4"}),m.jsx("span",{className:"text-xs font-semibold",children:v(g?"Online":"Offline")})]}),m.jsx("button",{onClick:h,className:`hidden md:block text-sm font-semibold px-4 py-2 rounded-lg transition-colors ${d?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 hover:bg-red-200":"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 hover:bg-green-200"}`,children:v(d?"Clock Out":"Clock In")}),m.jsx("button",{onClick:i,className:"p-2 rounded-full text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:r?m.jsx(w$,{className:"w-5 h-5"}):m.jsx(b$,{className:"w-5 h-5"})}),m.jsxs("div",{className:"relative",ref:T,children:[m.jsxs("button",{onClick:()=>_(!b),className:"p-2 rounded-full text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:[m.jsx(x$,{className:"w-6 h-6"}),E>0&&m.jsx("span",{className:"absolute top-1 right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-white text-xs ring-2 ring-white dark:ring-neutral-900",children:E})]}),b&&m.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-neutral-800 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 z-40",children:[m.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-neutral-200 dark:border-neutral-700",children:[m.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),m.jsx("button",{onClick:C,className:"text-xs text-primary-600 dark:text-primary-400 hover:underline",children:"Mark all as read"})]}),m.jsx("ul",{className:"max-h-80 overflow-y-auto",children:u.map(P=>m.jsx("li",{onClick:()=>A(P),className:`p-3 border-b border-neutral-100 dark:border-neutral-700/50 hover:bg-neutral-50 dark:hover:bg-neutral-700/50 ${P.link?"cursor-pointer":""}`,children:m.jsxs("div",{className:"flex items-start gap-3",children:[!P.read&&m.jsx("div",{className:"mt-1.5 w-2 h-2 rounded-full bg-primary-500 flex-shrink-0"}),m.jsxs("div",{className:P.read?"pl-5":"",children:[m.jsx("p",{className:"font-semibold text-sm",children:P.title}),m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:P.message}),m.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:new Date(P.timestamp).toLocaleString()})]})]})},P.id))}),m.jsx("div",{className:"p-2 text-center border-t border-neutral-200 dark:border-neutral-700",children:m.jsx("button",{className:"text-sm font-medium text-primary-600 dark:text-primary-400 hover:underline",children:"View all notifications"})})]})]}),m.jsxs("div",{className:"relative",ref:S,children:[m.jsxs("button",{onClick:()=>w(!x),className:"flex items-center space-x-2",children:[m.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-9 h-9 rounded-full object-cover"}),m.jsxs("div",{className:"hidden md:block text-left",children:[m.jsx("p",{className:"text-sm font-semibold text-neutral-800 dark:text-neutral-100",children:t.name}),m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:t.role})]})]}),x&&m.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-neutral-800 rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5 z-40",children:[m.jsx("button",{onClick:k,className:"w-full text-left block px-4 py-2 text-sm text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:"Profile"}),m.jsx("button",{onClick:e,className:"w-full text-left block px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:"Logout"})]})]})]})]})]})},C$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),k$=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A2.25 2.25 0 0011.25 11.25H4.5A2.25 2.25 0 002.25 13.5V21M3 3h12M3 3v2.25M3 3l9 9M15 3h6m0 0v2.25M15 3l6 6M21 3l-9 9M15 21v-7.5A2.25 2.25 0 0012.75 11.25h-.625a2.25 2.25 0 00-2.25 2.25V21"})}),P$=({userRole:t,activeView:e,setActiveView:n,isOpen:r,setIsOpen:i,businessName:o,businessLogo:a,t:s})=>{const l=HC.filter(c=>c.roles.includes(t)),u=m.jsx("nav",{className:"flex-1 px-2 py-4 space-y-2",children:l.map(c=>m.jsxs("a",{href:"#",onClick:d=>{d.preventDefault(),n(c.path),window.innerWidth<1024&&i(!1)},className:`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 ${e===c.path?"bg-primary-600 text-white shadow-md":"text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700"}`,children:[m.jsx(c.icon,{className:"w-5 h-5 mr-3"}),m.jsx("span",{children:s(c.name)})]},c.name))});return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`fixed inset-0 bg-black/30 z-40 lg:hidden transition-opacity ${r?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>i(!1)}),m.jsxs("aside",{className:`fixed lg:relative inset-y-0 left-0 z-50 flex flex-col w-64 bg-white dark:bg-neutral-800 border-r border-neutral-200 dark:border-neutral-700 transition-transform duration-300 ease-in-out ${r?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[m.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-neutral-200 dark:border-neutral-700",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[a?m.jsx("img",{src:a,alt:"Business Logo",className:"h-10 w-10 object-contain"}):m.jsx(k$,{className:"h-9 w-9 text-primary-600"}),m.jsx("span",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-100",children:o})]}),m.jsx("button",{onClick:()=>i(!1),className:"p-2 rounded-md text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700 lg:hidden",children:m.jsx(C$,{className:"w-6 h-6"})})]}),u]})]})};function KC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=KC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function we(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=KC(t))&&(r&&(r+=" "),r+=e);return r}var I$=Array.isArray,en=I$,N$=typeof $u=="object"&&$u&&$u.Object===Object&&$u,JC=N$,O$=JC,R$=typeof self=="object"&&self&&self.Object===Object&&self,M$=O$||R$||Function("return this")(),hr=M$,$$=hr,D$=$$.Symbol,xu=D$,_b=xu,YC=Object.prototype,j$=YC.hasOwnProperty,L$=YC.toString,Is=_b?_b.toStringTag:void 0;function U$(t){var e=j$.call(t,Is),n=t[Is];try{t[Is]=void 0;var r=!0}catch{}var i=L$.call(t);return r&&(e?t[Is]=n:delete t[Is]),i}var B$=U$,F$=Object.prototype,V$=F$.toString;function z$(t){return V$.call(t)}var q$=z$,Sb=xu,G$=B$,H$=q$,W$="[object Null]",K$="[object Undefined]",Eb=Sb?Sb.toStringTag:void 0;function J$(t){return t==null?t===void 0?K$:W$:Eb&&Eb in Object(t)?G$(t):H$(t)}var Br=J$;function Y$(t){return t!=null&&typeof t=="object"}var Fr=Y$,X$=Br,Q$=Fr,Z$="[object Symbol]";function e5(t){return typeof t=="symbol"||Q$(t)&&X$(t)==Z$}var Za=e5,t5=en,n5=Za,r5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i5=/^\w*$/;function o5(t,e){if(t5(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||n5(t)?!0:i5.test(t)||!r5.test(t)||e!=null&&t in Object(e)}var Dy=o5;function a5(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bi=a5;const es=Ne(bi);var s5=Br,l5=bi,u5="[object AsyncFunction]",c5="[object Function]",d5="[object GeneratorFunction]",f5="[object Proxy]";function h5(t){if(!l5(t))return!1;var e=s5(t);return e==c5||e==d5||e==u5||e==f5}var jy=h5;const ge=Ne(jy);var p5=hr,m5=p5["__core-js_shared__"],g5=m5,pp=g5,Tb=function(){var t=/[^.]+$/.exec(pp&&pp.keys&&pp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function v5(t){return!!Tb&&Tb in t}var y5=v5,w5=Function.prototype,b5=w5.toString;function x5(t){if(t!=null){try{return b5.call(t)}catch{}try{return t+""}catch{}}return""}var XC=x5,_5=jy,S5=y5,E5=bi,T5=XC,A5=/[\\^$.*+?()[\]{}|]/g,C5=/^\[object .+?Constructor\]$/,k5=Function.prototype,P5=Object.prototype,I5=k5.toString,N5=P5.hasOwnProperty,O5=RegExp("^"+I5.call(N5).replace(A5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function R5(t){if(!E5(t)||S5(t))return!1;var e=_5(t)?O5:C5;return e.test(T5(t))}var M5=R5;function $5(t,e){return t==null?void 0:t[e]}var D5=$5,j5=M5,L5=D5;function U5(t,e){var n=L5(t,e);return j5(n)?n:void 0}var yo=U5,B5=yo,F5=B5(Object,"create"),$f=F5,Ab=$f;function V5(){this.__data__=Ab?Ab(null):{},this.size=0}var z5=V5;function q5(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var G5=q5,H5=$f,W5="__lodash_hash_undefined__",K5=Object.prototype,J5=K5.hasOwnProperty;function Y5(t){var e=this.__data__;if(H5){var n=e[t];return n===W5?void 0:n}return J5.call(e,t)?e[t]:void 0}var X5=Y5,Q5=$f,Z5=Object.prototype,eD=Z5.hasOwnProperty;function tD(t){var e=this.__data__;return Q5?e[t]!==void 0:eD.call(e,t)}var nD=tD,rD=$f,iD="__lodash_hash_undefined__";function oD(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rD&&e===void 0?iD:e,this}var aD=oD,sD=z5,lD=G5,uD=X5,cD=nD,dD=aD;function ts(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ts.prototype.clear=sD;ts.prototype.delete=lD;ts.prototype.get=uD;ts.prototype.has=cD;ts.prototype.set=dD;var fD=ts;function hD(){this.__data__=[],this.size=0}var pD=hD;function mD(t,e){return t===e||t!==t&&e!==e}var Ly=mD,gD=Ly;function vD(t,e){for(var n=t.length;n--;)if(gD(t[n][0],e))return n;return-1}var Df=vD,yD=Df,wD=Array.prototype,bD=wD.splice;function xD(t){var e=this.__data__,n=yD(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():bD.call(e,n,1),--this.size,!0}var _D=xD,SD=Df;function ED(t){var e=this.__data__,n=SD(e,t);return n<0?void 0:e[n][1]}var TD=ED,AD=Df;function CD(t){return AD(this.__data__,t)>-1}var kD=CD,PD=Df;function ID(t,e){var n=this.__data__,r=PD(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var ND=ID,OD=pD,RD=_D,MD=TD,$D=kD,DD=ND;function ns(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ns.prototype.clear=OD;ns.prototype.delete=RD;ns.prototype.get=MD;ns.prototype.has=$D;ns.prototype.set=DD;var jf=ns,jD=yo,LD=hr,UD=jD(LD,"Map"),Uy=UD,Cb=fD,BD=jf,FD=Uy;function VD(){this.size=0,this.__data__={hash:new Cb,map:new(FD||BD),string:new Cb}}var zD=VD;function qD(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var GD=qD,HD=GD;function WD(t,e){var n=t.__data__;return HD(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Lf=WD,KD=Lf;function JD(t){var e=KD(this,t).delete(t);return this.size-=e?1:0,e}var YD=JD,XD=Lf;function QD(t){return XD(this,t).get(t)}var ZD=QD,ej=Lf;function tj(t){return ej(this,t).has(t)}var nj=tj,rj=Lf;function ij(t,e){var n=rj(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var oj=ij,aj=zD,sj=YD,lj=ZD,uj=nj,cj=oj;function rs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}rs.prototype.clear=aj;rs.prototype.delete=sj;rs.prototype.get=lj;rs.prototype.has=uj;rs.prototype.set=cj;var By=rs,QC=By,dj="Expected a function";function Fy(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(dj);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Fy.Cache||QC),n}Fy.Cache=QC;var ZC=Fy;const fj=Ne(ZC);var hj=ZC,pj=500;function mj(t){var e=hj(t,function(r){return n.size===pj&&n.clear(),r}),n=e.cache;return e}var gj=mj,vj=gj,yj=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wj=/\\(\\)?/g,bj=vj(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(yj,function(n,r,i,o){e.push(i?o.replace(wj,"$1"):r||n)}),e}),xj=bj;function _j(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Vy=_j,kb=xu,Sj=Vy,Ej=en,Tj=Za,Pb=kb?kb.prototype:void 0,Ib=Pb?Pb.toString:void 0;function ek(t){if(typeof t=="string")return t;if(Ej(t))return Sj(t,ek)+"";if(Tj(t))return Ib?Ib.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Aj=ek,Cj=Aj;function kj(t){return t==null?"":Cj(t)}var tk=kj,Pj=en,Ij=Dy,Nj=xj,Oj=tk;function Rj(t,e){return Pj(t)?t:Ij(t,e)?[t]:Nj(Oj(t))}var nk=Rj,Mj=Za;function $j(t){if(typeof t=="string"||Mj(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Uf=$j,Dj=nk,jj=Uf;function Lj(t,e){e=Dj(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[jj(e[n++])];return n&&n==r?t:void 0}var zy=Lj,Uj=zy;function Bj(t,e,n){var r=t==null?void 0:Uj(t,e);return r===void 0?n:r}var rk=Bj;const mn=Ne(rk);function Fj(t){return t==null}var Vj=Fj;const ve=Ne(Vj);var zj=Br,qj=en,Gj=Fr,Hj="[object String]";function Wj(t){return typeof t=="string"||!qj(t)&&Gj(t)&&zj(t)==Hj}var Kj=Wj;const uo=Ne(Kj);var ik={exports:{}},Oe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy=Symbol.for("react.element"),Gy=Symbol.for("react.portal"),Bf=Symbol.for("react.fragment"),Ff=Symbol.for("react.strict_mode"),Vf=Symbol.for("react.profiler"),zf=Symbol.for("react.provider"),qf=Symbol.for("react.context"),Jj=Symbol.for("react.server_context"),Gf=Symbol.for("react.forward_ref"),Hf=Symbol.for("react.suspense"),Wf=Symbol.for("react.suspense_list"),Kf=Symbol.for("react.memo"),Jf=Symbol.for("react.lazy"),Yj=Symbol.for("react.offscreen"),ok;ok=Symbol.for("react.module.reference");function Dn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qy:switch(t=t.type,t){case Bf:case Vf:case Ff:case Hf:case Wf:return t;default:switch(t=t&&t.$$typeof,t){case Jj:case qf:case Gf:case Jf:case Kf:case zf:return t;default:return e}}case Gy:return e}}}Oe.ContextConsumer=qf;Oe.ContextProvider=zf;Oe.Element=qy;Oe.ForwardRef=Gf;Oe.Fragment=Bf;Oe.Lazy=Jf;Oe.Memo=Kf;Oe.Portal=Gy;Oe.Profiler=Vf;Oe.StrictMode=Ff;Oe.Suspense=Hf;Oe.SuspenseList=Wf;Oe.isAsyncMode=function(){return!1};Oe.isConcurrentMode=function(){return!1};Oe.isContextConsumer=function(t){return Dn(t)===qf};Oe.isContextProvider=function(t){return Dn(t)===zf};Oe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qy};Oe.isForwardRef=function(t){return Dn(t)===Gf};Oe.isFragment=function(t){return Dn(t)===Bf};Oe.isLazy=function(t){return Dn(t)===Jf};Oe.isMemo=function(t){return Dn(t)===Kf};Oe.isPortal=function(t){return Dn(t)===Gy};Oe.isProfiler=function(t){return Dn(t)===Vf};Oe.isStrictMode=function(t){return Dn(t)===Ff};Oe.isSuspense=function(t){return Dn(t)===Hf};Oe.isSuspenseList=function(t){return Dn(t)===Wf};Oe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Bf||t===Vf||t===Ff||t===Hf||t===Wf||t===Yj||typeof t=="object"&&t!==null&&(t.$$typeof===Jf||t.$$typeof===Kf||t.$$typeof===zf||t.$$typeof===qf||t.$$typeof===Gf||t.$$typeof===ok||t.getModuleId!==void 0)};Oe.typeOf=Dn;ik.exports=Oe;var Xj=ik.exports,Qj=Br,Zj=Fr,eL="[object Number]";function tL(t){return typeof t=="number"||Zj(t)&&Qj(t)==eL}var ak=tL;const nL=Ne(ak);var rL=ak;function iL(t){return rL(t)&&t!=+t}var oL=iL;const _u=Ne(oL);var Vt=function(e){return e===0?0:e>0?1:-1},Ji=function(e){return uo(e)&&e.indexOf("%")===e.length-1},Y=function(e){return nL(e)&&!_u(e)},aL=function(e){return ve(e)},vt=function(e){return Y(e)||uo(e)},sL=0,is=function(e){var n=++sL;return"".concat(e||"").concat(n)},zt=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Y(e)&&!uo(e))return r;var o;if(Ji(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return _u(o)&&(o=r),i&&o>n&&(o=n),o},Zr=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},lL=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},un=function(e,n){return Y(e)&&Y(n)?function(r){return e+r*(n-e)}:function(){return n}};function ld(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):mn(r,e))===n})}var uL=function(e,n){return Y(e)&&Y(n)?e-n:uo(e)&&uo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ca(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}var cL=["viewBox","children"],dL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Nb=["points","pathLength"],mp={svg:cL,polygon:Nb,polyline:Nb},Hy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ud=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(O.isValidElement(e)&&(r=e.props),!es(r))return null;var i={};return Object.keys(r).forEach(function(o){Hy.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},fL=function(e,n,r){return function(i){return e(n,r,i),null}},co=function(e,n,r){if(!es(e)||Hm(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];Hy.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=fL(a,n,r))}),i},hL=["children"],pL=["children"];function Ob(t,e){if(t==null)return{};var n=mL(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}var Rb={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},kr=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Mb=null,gp=null,Wy=function t(e){if(e===Mb&&Array.isArray(gp))return gp;var n=[];return O.Children.forEach(e,function(r){ve(r)||(Xj.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),gp=n,Mb=e,n};function gn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return kr(i)}):r=[kr(e)],Wy(t).forEach(function(i){var o=mn(i,"type.displayName")||mn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function ln(t,e){var n=gn(t,e);return n&&n[0]}var $b=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Y(r)||r<=0||!Y(i)||i<=0)},gL=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],vL=function(e){return e&&e.type&&uo(e.type)&&gL.indexOf(e.type)>=0},yL=function(e){return e&&Wm(e)==="object"&&"clipDot"in e},wL=function(e,n,r,i){var o,a=(o=mp==null?void 0:mp[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ge(e)&&(i&&a.includes(n)||dL.includes(n))||r&&Hy.includes(n)},ce=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(O.isValidElement(e)&&(i=e.props),!es(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;wL((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Km=function t(e,n){if(e===n)return!0;var r=O.Children.count(e);if(r!==O.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Db(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!Db(o,a))return!1}return!0},Db=function(e,n){if(ve(e)&&ve(n))return!0;if(!ve(e)&&!ve(n)){var r=e.props||{},i=r.children,o=Ob(r,hL),a=n.props||{},s=a.children,l=Ob(a,pL);return i&&s?ca(o,l)&&Km(i,s):!i&&!s?ca(o,l):!1}return!1},jb=function(e,n){var r=[],i={};return Wy(e).forEach(function(o,a){if(vL(o))r.push(o);else if(o){var s=kr(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(o,s,a);r.push(d),i[s]=!0}}}),r},bL=function(e){var n=e&&e.type;return n&&Rb[n]?Rb[n]:null},xL=function(e,n){return Wy(n).indexOf(e)},_L=["children","width","height","viewBox","className","style","title","desc"];function Jm(){return Jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jm.apply(this,arguments)}function SL(t,e){if(t==null)return{};var n=EL(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ym(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=SL(t,_L),c=i||{width:n,height:r,x:0,y:0},d=we("recharts-surface",o);return I.createElement("svg",Jm({},ce(u,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),e)}var TL=["children","className"];function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xm.apply(this,arguments)}function AL(t,e){if(t==null)return{};var n=CL(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Te=I.forwardRef(function(t,e){var n=t.children,r=t.className,i=AL(t,TL),o=we("recharts-layer",r);return I.createElement("g",Xm({className:o},ce(i,!0),{ref:e}),n)}),Qn=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function kL(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var PL=kL,IL=PL;function NL(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:IL(t,e,n)}var OL=NL,RL="\\ud800-\\udfff",ML="\\u0300-\\u036f",$L="\\ufe20-\\ufe2f",DL="\\u20d0-\\u20ff",jL=ML+$L+DL,LL="\\ufe0e\\ufe0f",UL="\\u200d",BL=RegExp("["+UL+RL+jL+LL+"]");function FL(t){return BL.test(t)}var sk=FL;function VL(t){return t.split("")}var zL=VL,lk="\\ud800-\\udfff",qL="\\u0300-\\u036f",GL="\\ufe20-\\ufe2f",HL="\\u20d0-\\u20ff",WL=qL+GL+HL,KL="\\ufe0e\\ufe0f",JL="["+lk+"]",Qm="["+WL+"]",Zm="\\ud83c[\\udffb-\\udfff]",YL="(?:"+Qm+"|"+Zm+")",uk="[^"+lk+"]",ck="(?:\\ud83c[\\udde6-\\uddff]){2}",dk="[\\ud800-\\udbff][\\udc00-\\udfff]",XL="\\u200d",fk=YL+"?",hk="["+KL+"]?",QL="(?:"+XL+"(?:"+[uk,ck,dk].join("|")+")"+hk+fk+")*",ZL=hk+fk+QL,e3="(?:"+[uk+Qm+"?",Qm,ck,dk,JL].join("|")+")",t3=RegExp(Zm+"(?="+Zm+")|"+e3+ZL,"g");function n3(t){return t.match(t3)||[]}var r3=n3,i3=zL,o3=sk,a3=r3;function s3(t){return o3(t)?a3(t):i3(t)}var l3=s3,u3=OL,c3=sk,d3=l3,f3=tk;function h3(t){return function(e){e=f3(e);var n=c3(e)?d3(e):void 0,r=n?n[0]:e.charAt(0),i=n?u3(n,1).join(""):e.slice(1);return r[t]()+i}}var p3=h3,m3=p3,g3=m3("toUpperCase"),v3=g3;const Yf=Ne(v3);function Be(t){return function(){return t}}const pk=Math.cos,cd=Math.sin,er=Math.sqrt,dd=Math.PI,Xf=2*dd,eg=Math.PI,tg=2*eg,ji=1e-6,y3=tg-ji;function mk(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function w3(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return mk;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class b3{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?mk:w3(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>ji)if(!(Math.abs(d*l-u*c)>ji)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,v=i-s,y=l*l+u*u,x=g*g+v*v,w=Math.sqrt(y),b=Math.sqrt(h),_=o*Math.tan((eg-Math.acos((y+h-x)/(2*w*b)))/2),T=_/b,S=_/w;Math.abs(T-1)>ji&&this._append`L${e+T*c},${n+T*d}`,this._append`A${o},${o},0,0,${+(d*g>c*v)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ji||Math.abs(this._y1-c)>ji)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%tg+tg),h>y3?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>ji&&this._append`A${r},${r},0,${+(h>=eg)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ky(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new b3(e)}function Jy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gk(t){this._context=t}gk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Qf(t){return new gk(t)}function vk(t){return t[0]}function yk(t){return t[1]}function wk(t,e){var n=Be(!0),r=null,i=Qf,o=null,a=Ky(s);t=typeof t=="function"?t:t===void 0?vk:Be(t),e=typeof e=="function"?e:e===void 0?yk:Be(e);function s(l){var u,c=(l=Jy(l)).length,d,h=!1,g;for(r==null&&(o=i(g=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Be(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Be(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Be(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Zu(t,e,n){var r=null,i=Be(!0),o=null,a=Qf,s=null,l=Ky(u);t=typeof t=="function"?t:t===void 0?vk:Be(+t),e=typeof e=="function"?e:Be(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?yk:Be(+n);function u(d){var h,g,v,y=(d=Jy(d)).length,x,w=!1,b,_=new Array(y),T=new Array(y);for(o==null&&(s=a(b=l())),h=0;h<=y;++h){if(!(h<y&&i(x=d[h],h,d))===w)if(w=!w)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=g;--v)s.point(_[v],T[v]);s.lineEnd(),s.areaEnd()}w&&(_[h]=+t(x,h,d),T[h]=+e(x,h,d),s.point(r?+r(x,h,d):_[h],n?+n(x,h,d):T[h]))}if(b)return s=null,b+""||null}function c(){return wk().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Be(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Be(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Be(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Be(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Be(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Be(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Be(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class bk{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function x3(t){return new bk(t,!0)}function _3(t){return new bk(t,!1)}const Yy={draw(t,e){const n=er(e/dd);t.moveTo(n,0),t.arc(0,0,n,0,Xf)}},S3={draw(t,e){const n=er(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},xk=er(1/3),E3=xk*2,T3={draw(t,e){const n=er(e/E3),r=n*xk;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},A3={draw(t,e){const n=er(e),r=-n/2;t.rect(r,r,n,n)}},C3=.8908130915292852,_k=cd(dd/10)/cd(7*dd/10),k3=cd(Xf/10)*_k,P3=-pk(Xf/10)*_k,I3={draw(t,e){const n=er(e*C3),r=k3*n,i=P3*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Xf*o/5,s=pk(a),l=cd(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},vp=er(3),N3={draw(t,e){const n=-er(e/(vp*3));t.moveTo(0,n*2),t.lineTo(-vp*n,-n),t.lineTo(vp*n,-n),t.closePath()}},xn=-.5,_n=er(3)/2,ng=1/er(12),O3=(ng/2+1)*3,R3={draw(t,e){const n=er(e/O3),r=n/2,i=n*ng,o=r,a=n*ng+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(xn*r-_n*i,_n*r+xn*i),t.lineTo(xn*o-_n*a,_n*o+xn*a),t.lineTo(xn*s-_n*l,_n*s+xn*l),t.lineTo(xn*r+_n*i,xn*i-_n*r),t.lineTo(xn*o+_n*a,xn*a-_n*o),t.lineTo(xn*s+_n*l,xn*l-_n*s),t.closePath()}};function M3(t,e){let n=null,r=Ky(i);t=typeof t=="function"?t:Be(t||Yy),e=typeof e=="function"?e:Be(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Be(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Be(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function fd(){}function hd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Sk(t){this._context=t}Sk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $3(t){return new Sk(t)}function Ek(t){this._context=t}Ek.prototype={areaStart:fd,areaEnd:fd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:hd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function D3(t){return new Ek(t)}function Tk(t){this._context=t}Tk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:hd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function j3(t){return new Tk(t)}function Ak(t){this._context=t}Ak.prototype={areaStart:fd,areaEnd:fd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function L3(t){return new Ak(t)}function Lb(t){return t<0?-1:1}function Ub(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Lb(o)+Lb(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Bb(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function yp(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function pd(t){this._context=t}pd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yp(this,this._t0,Bb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yp(this,Bb(this,n=Ub(this,t,e)),n);break;default:yp(this,this._t0,n=Ub(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Ck(t){this._context=new kk(t)}(Ck.prototype=Object.create(pd.prototype)).point=function(t,e){pd.prototype.point.call(this,e,t)};function kk(t){this._context=t}kk.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function U3(t){return new pd(t)}function B3(t){return new Ck(t)}function Pk(t){this._context=t}Pk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Fb(t),i=Fb(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Fb(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function F3(t){return new Pk(t)}function Zf(t,e){this._context=t,this._t=e}Zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function V3(t){return new Zf(t,.5)}function z3(t){return new Zf(t,0)}function q3(t){return new Zf(t,1)}function Ea(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function rg(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function G3(t,e){return t[e]}function H3(t){const e=[];return e.key=t,e}function W3(){var t=Be([]),e=rg,n=Ea,r=G3;function i(o){var a=Array.from(t.apply(this,arguments),H3),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=Jy(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Be(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Be(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?rg:typeof o=="function"?o:Be(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ea,i):n},i}function K3(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Ea(t,e)}}function J3(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Ea(t,e)}}function Y3(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],d=c[r][1]||0,h=c[r-1][1]||0,g=(d-h)/2,v=0;v<s;++v){var y=t[e[v]],x=y[r][1]||0,w=y[r-1][1]||0;g+=x-w}l+=d,u+=g*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Ea(t,e)}}function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}var X3=["type","size","sizeType"];function ig(){return ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ig.apply(this,arguments)}function Vb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vb(Object(n),!0).forEach(function(r){Q3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q3(t,e,n){return e=Z3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z3(t){var e=eU(t,"string");return Ol(e)=="symbol"?e:e+""}function eU(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tU(t,e){if(t==null)return{};var n=nU(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ik={symbolCircle:Yy,symbolCross:S3,symbolDiamond:T3,symbolSquare:A3,symbolStar:I3,symbolTriangle:N3,symbolWye:R3},rU=Math.PI/180,iU=function(e){var n="symbol".concat(Yf(e));return Ik[n]||Yy},oU=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*rU;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},aU=function(e,n){Ik["symbol".concat(Yf(e))]=n},Xy=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=tU(e,X3),u=zb(zb({},l),{},{type:r,size:o,sizeType:s}),c=function(){var x=iU(r),w=M3().type(x).size(oU(o,s,r));return w()},d=u.className,h=u.cx,g=u.cy,v=ce(u,!0);return h===+h&&g===+g&&o===+o?I.createElement("path",ig({},v,{className:we("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(g,")"),d:c()})):null};Xy.registerSymbol=aU;function Ta(t){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(t)}function og(){return og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},og.apply(this,arguments)}function qb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qb(Object(n),!0).forEach(function(r){Rl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ok(r.key),r)}}function cU(t,e,n){return e&&uU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dU(t,e,n){return e=md(e),fU(t,Nk()?Reflect.construct(e,n||[],md(t).constructor):e.apply(t,n))}function fU(t,e){if(e&&(Ta(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hU(t)}function hU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nk=function(){return!!t})()}function md(t){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},md(t)}function pU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ag(t,e)}function ag(t,e){return ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ag(t,e)}function Rl(t,e,n){return e=Ok(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ok(t){var e=mU(t,"string");return Ta(e)=="symbol"?e:e+""}function mU(t,e){if(Ta(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ta(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sn=32,Qy=function(t){function e(){return lU(this,e),dU(this,e,arguments)}return pU(e,t),cU(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Sn/2,a=Sn/6,s=Sn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Sn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Sn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Sn/8,"h").concat(Sn,"v").concat(Sn*3/4,"h").concat(-Sn,"z"),className:"recharts-legend-icon"});if(I.isValidElement(r.legendIcon)){var u=sU({},r);return delete u.legendIcon,I.cloneElement(r.legendIcon,u)}return I.createElement(Xy,{fill:l,cx:o,cy:o,size:Sn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Sn,height:Sn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,v){var y=g.formatter||l,x=we(Rl(Rl({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=ge(g.value)?null:g.value;Qn(!ge(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=g.inactive?u:g.color;return I.createElement("li",og({className:x,style:d,key:"legend-item-".concat(v)},co(r.props,g,v)),I.createElement(Ym,{width:a,height:a,viewBox:c,style:h},r.renderIcon(g)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(w,g,v):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);Rl(Qy,"displayName","Legend");Rl(Qy,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var gU=jf;function vU(){this.__data__=new gU,this.size=0}var yU=vU;function wU(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var bU=wU;function xU(t){return this.__data__.get(t)}var _U=xU;function SU(t){return this.__data__.has(t)}var EU=SU,TU=jf,AU=Uy,CU=By,kU=200;function PU(t,e){var n=this.__data__;if(n instanceof TU){var r=n.__data__;if(!AU||r.length<kU-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new CU(r)}return n.set(t,e),this.size=n.size,this}var IU=PU,NU=jf,OU=yU,RU=bU,MU=_U,$U=EU,DU=IU;function os(t){var e=this.__data__=new NU(t);this.size=e.size}os.prototype.clear=OU;os.prototype.delete=RU;os.prototype.get=MU;os.prototype.has=$U;os.prototype.set=DU;var Rk=os,jU="__lodash_hash_undefined__";function LU(t){return this.__data__.set(t,jU),this}var UU=LU;function BU(t){return this.__data__.has(t)}var FU=BU,VU=By,zU=UU,qU=FU;function gd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new VU;++e<n;)this.add(t[e])}gd.prototype.add=gd.prototype.push=zU;gd.prototype.has=qU;var Mk=gd;function GU(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var $k=GU;function HU(t,e){return t.has(e)}var Dk=HU,WU=Mk,KU=$k,JU=Dk,YU=1,XU=2;function QU(t,e,n,r,i,o){var a=n&YU,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,g=n&XU?new WU:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var v=t[d],y=e[d];if(r)var x=a?r(y,v,d,e,t,o):r(v,y,d,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(g){if(!KU(e,function(w,b){if(!JU(g,b)&&(v===w||i(v,w,n,r,o)))return g.push(b)})){h=!1;break}}else if(!(v===y||i(v,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var jk=QU,ZU=hr,e4=ZU.Uint8Array,t4=e4;function n4(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var r4=n4;function i4(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Zy=i4,Gb=xu,Hb=t4,o4=Ly,a4=jk,s4=r4,l4=Zy,u4=1,c4=2,d4="[object Boolean]",f4="[object Date]",h4="[object Error]",p4="[object Map]",m4="[object Number]",g4="[object RegExp]",v4="[object Set]",y4="[object String]",w4="[object Symbol]",b4="[object ArrayBuffer]",x4="[object DataView]",Wb=Gb?Gb.prototype:void 0,wp=Wb?Wb.valueOf:void 0;function _4(t,e,n,r,i,o,a){switch(n){case x4:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b4:return!(t.byteLength!=e.byteLength||!o(new Hb(t),new Hb(e)));case d4:case f4:case m4:return o4(+t,+e);case h4:return t.name==e.name&&t.message==e.message;case g4:case y4:return t==e+"";case p4:var s=s4;case v4:var l=r&u4;if(s||(s=l4),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=c4,a.set(t,e);var c=a4(s(t),s(e),r,i,o,a);return a.delete(t),c;case w4:if(wp)return wp.call(t)==wp.call(e)}return!1}var S4=_4;function E4(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Lk=E4,T4=Lk,A4=en;function C4(t,e,n){var r=e(t);return A4(t)?r:T4(r,n(t))}var k4=C4;function P4(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var I4=P4;function N4(){return[]}var O4=N4,R4=I4,M4=O4,$4=Object.prototype,D4=$4.propertyIsEnumerable,Kb=Object.getOwnPropertySymbols,j4=Kb?function(t){return t==null?[]:(t=Object(t),R4(Kb(t),function(e){return D4.call(t,e)}))}:M4,L4=j4;function U4(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var B4=U4,F4=Br,V4=Fr,z4="[object Arguments]";function q4(t){return V4(t)&&F4(t)==z4}var G4=q4,Jb=G4,H4=Fr,Uk=Object.prototype,W4=Uk.hasOwnProperty,K4=Uk.propertyIsEnumerable,J4=Jb(function(){return arguments}())?Jb:function(t){return H4(t)&&W4.call(t,"callee")&&!K4.call(t,"callee")},e0=J4,vd={exports:{}};function Y4(){return!1}var X4=Y4;vd.exports;(function(t,e){var n=hr,r=X4,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(vd,vd.exports);var Bk=vd.exports,Q4=9007199254740991,Z4=/^(?:0|[1-9]\d*)$/;function e6(t,e){var n=typeof t;return e=e??Q4,!!e&&(n=="number"||n!="symbol"&&Z4.test(t))&&t>-1&&t%1==0&&t<e}var t0=e6,t6=9007199254740991;function n6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=t6}var n0=n6,r6=Br,i6=n0,o6=Fr,a6="[object Arguments]",s6="[object Array]",l6="[object Boolean]",u6="[object Date]",c6="[object Error]",d6="[object Function]",f6="[object Map]",h6="[object Number]",p6="[object Object]",m6="[object RegExp]",g6="[object Set]",v6="[object String]",y6="[object WeakMap]",w6="[object ArrayBuffer]",b6="[object DataView]",x6="[object Float32Array]",_6="[object Float64Array]",S6="[object Int8Array]",E6="[object Int16Array]",T6="[object Int32Array]",A6="[object Uint8Array]",C6="[object Uint8ClampedArray]",k6="[object Uint16Array]",P6="[object Uint32Array]",qe={};qe[x6]=qe[_6]=qe[S6]=qe[E6]=qe[T6]=qe[A6]=qe[C6]=qe[k6]=qe[P6]=!0;qe[a6]=qe[s6]=qe[w6]=qe[l6]=qe[b6]=qe[u6]=qe[c6]=qe[d6]=qe[f6]=qe[h6]=qe[p6]=qe[m6]=qe[g6]=qe[v6]=qe[y6]=!1;function I6(t){return o6(t)&&i6(t.length)&&!!qe[r6(t)]}var N6=I6;function O6(t){return function(e){return t(e)}}var Fk=O6,yd={exports:{}};yd.exports;(function(t,e){var n=JC,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(yd,yd.exports);var R6=yd.exports,M6=N6,$6=Fk,Yb=R6,Xb=Yb&&Yb.isTypedArray,D6=Xb?$6(Xb):M6,Vk=D6,j6=B4,L6=e0,U6=en,B6=Bk,F6=t0,V6=Vk,z6=Object.prototype,q6=z6.hasOwnProperty;function G6(t,e){var n=U6(t),r=!n&&L6(t),i=!n&&!r&&B6(t),o=!n&&!r&&!i&&V6(t),a=n||r||i||o,s=a?j6(t.length,String):[],l=s.length;for(var u in t)(e||q6.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||F6(u,l)))&&s.push(u);return s}var H6=G6,W6=Object.prototype;function K6(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||W6;return t===n}var J6=K6;function Y6(t,e){return function(n){return t(e(n))}}var zk=Y6,X6=zk,Q6=X6(Object.keys,Object),Z6=Q6,eB=J6,tB=Z6,nB=Object.prototype,rB=nB.hasOwnProperty;function iB(t){if(!eB(t))return tB(t);var e=[];for(var n in Object(t))rB.call(t,n)&&n!="constructor"&&e.push(n);return e}var oB=iB,aB=jy,sB=n0;function lB(t){return t!=null&&sB(t.length)&&!aB(t)}var Su=lB,uB=H6,cB=oB,dB=Su;function fB(t){return dB(t)?uB(t):cB(t)}var eh=fB,hB=k4,pB=L4,mB=eh;function gB(t){return hB(t,mB,pB)}var vB=gB,Qb=vB,yB=1,wB=Object.prototype,bB=wB.hasOwnProperty;function xB(t,e,n,r,i,o){var a=n&yB,s=Qb(t),l=s.length,u=Qb(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in e:bB.call(e,h)))return!1}var g=o.get(t),v=o.get(e);if(g&&v)return g==e&&v==t;var y=!0;o.set(t,e),o.set(e,t);for(var x=a;++d<l;){h=s[d];var w=t[h],b=e[h];if(r)var _=a?r(b,w,h,e,t,o):r(w,b,h,t,e,o);if(!(_===void 0?w===b||i(w,b,n,r,o):_)){y=!1;break}x||(x=h=="constructor")}if(y&&!x){var T=t.constructor,S=e.constructor;T!=S&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof S=="function"&&S instanceof S)&&(y=!1)}return o.delete(t),o.delete(e),y}var _B=xB,SB=yo,EB=hr,TB=SB(EB,"DataView"),AB=TB,CB=yo,kB=hr,PB=CB(kB,"Promise"),IB=PB,NB=yo,OB=hr,RB=NB(OB,"Set"),qk=RB,MB=yo,$B=hr,DB=MB($B,"WeakMap"),jB=DB,sg=AB,lg=Uy,ug=IB,cg=qk,dg=jB,Gk=Br,as=XC,Zb="[object Map]",LB="[object Object]",ex="[object Promise]",tx="[object Set]",nx="[object WeakMap]",rx="[object DataView]",UB=as(sg),BB=as(lg),FB=as(ug),VB=as(cg),zB=as(dg),Li=Gk;(sg&&Li(new sg(new ArrayBuffer(1)))!=rx||lg&&Li(new lg)!=Zb||ug&&Li(ug.resolve())!=ex||cg&&Li(new cg)!=tx||dg&&Li(new dg)!=nx)&&(Li=function(t){var e=Gk(t),n=e==LB?t.constructor:void 0,r=n?as(n):"";if(r)switch(r){case UB:return rx;case BB:return Zb;case FB:return ex;case VB:return tx;case zB:return nx}return e});var qB=Li,bp=Rk,GB=jk,HB=S4,WB=_B,ix=qB,ox=en,ax=Bk,KB=Vk,JB=1,sx="[object Arguments]",lx="[object Array]",ec="[object Object]",YB=Object.prototype,ux=YB.hasOwnProperty;function XB(t,e,n,r,i,o){var a=ox(t),s=ox(e),l=a?lx:ix(t),u=s?lx:ix(e);l=l==sx?ec:l,u=u==sx?ec:u;var c=l==ec,d=u==ec,h=l==u;if(h&&ax(t)){if(!ax(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new bp),a||KB(t)?GB(t,e,n,r,i,o):HB(t,e,l,n,r,i,o);if(!(n&JB)){var g=c&&ux.call(t,"__wrapped__"),v=d&&ux.call(e,"__wrapped__");if(g||v){var y=g?t.value():t,x=v?e.value():e;return o||(o=new bp),i(y,x,n,r,o)}}return h?(o||(o=new bp),WB(t,e,n,r,i,o)):!1}var QB=XB,ZB=QB,cx=Fr;function Hk(t,e,n,r,i){return t===e?!0:t==null||e==null||!cx(t)&&!cx(e)?t!==t&&e!==e:ZB(t,e,n,r,Hk,i)}var r0=Hk,eF=Rk,tF=r0,nF=1,rF=2;function iF(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new eF;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?tF(c,u,nF|rF,r,d):h))return!1}}return!0}var oF=iF,aF=bi;function sF(t){return t===t&&!aF(t)}var Wk=sF,lF=Wk,uF=eh;function cF(t){for(var e=uF(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,lF(i)]}return e}var dF=cF;function fF(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Kk=fF,hF=oF,pF=dF,mF=Kk;function gF(t){var e=pF(t);return e.length==1&&e[0][2]?mF(e[0][0],e[0][1]):function(n){return n===t||hF(n,t,e)}}var vF=gF;function yF(t,e){return t!=null&&e in Object(t)}var wF=yF,bF=nk,xF=e0,_F=en,SF=t0,EF=n0,TF=Uf;function AF(t,e,n){e=bF(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=TF(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&EF(i)&&SF(a,i)&&(_F(t)||xF(t)))}var CF=AF,kF=wF,PF=CF;function IF(t,e){return t!=null&&PF(t,e,kF)}var NF=IF,OF=r0,RF=rk,MF=NF,$F=Dy,DF=Wk,jF=Kk,LF=Uf,UF=1,BF=2;function FF(t,e){return $F(t)&&DF(e)?jF(LF(t),e):function(n){var r=RF(n,t);return r===void 0&&r===e?MF(n,t):OF(e,r,UF|BF)}}var VF=FF;function zF(t){return t}var ss=zF;function qF(t){return function(e){return e==null?void 0:e[t]}}var GF=qF,HF=zy;function WF(t){return function(e){return HF(e,t)}}var KF=WF,JF=GF,YF=KF,XF=Dy,QF=Uf;function ZF(t){return XF(t)?JF(QF(t)):YF(t)}var e8=ZF,t8=vF,n8=VF,r8=ss,i8=en,o8=e8;function a8(t){return typeof t=="function"?t:t==null?r8:typeof t=="object"?i8(t)?n8(t[0],t[1]):t8(t):o8(t)}var pr=a8;function s8(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var Jk=s8;function l8(t){return t!==t}var u8=l8;function c8(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var d8=c8,f8=Jk,h8=u8,p8=d8;function m8(t,e,n){return e===e?p8(t,e,n):f8(t,h8,n)}var g8=m8,v8=g8;function y8(t,e){var n=t==null?0:t.length;return!!n&&v8(t,e,0)>-1}var w8=y8;function b8(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var x8=b8;function _8(){}var S8=_8,xp=qk,E8=S8,T8=Zy,A8=1/0,C8=xp&&1/T8(new xp([,-0]))[1]==A8?function(t){return new xp(t)}:E8,k8=C8,P8=Mk,I8=w8,N8=x8,O8=Dk,R8=k8,M8=Zy,$8=200;function D8(t,e,n){var r=-1,i=I8,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=N8;else if(o>=$8){var u=e?null:R8(t);if(u)return M8(u);a=!1,i=O8,l=new P8}else l=e?[]:s;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var j8=D8,L8=pr,U8=j8;function B8(t,e){return t&&t.length?U8(t,L8(e)):[]}var F8=B8;const dx=Ne(F8);function Yk(t,e,n){return e===!0?dx(t,n):ge(e)?dx(t,e):t}function Aa(t){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(t)}var V8=["ref"];function fx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fx(Object(n),!0).forEach(function(r){th(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qk(r.key),r)}}function q8(t,e,n){return e&&hx(t.prototype,e),n&&hx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function G8(t,e,n){return e=wd(e),H8(t,Xk()?Reflect.construct(e,n||[],wd(t).constructor):e.apply(t,n))}function H8(t,e){if(e&&(Aa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W8(t)}function W8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xk=function(){return!!t})()}function wd(t){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wd(t)}function K8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fg(t,e)}function fg(t,e){return fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fg(t,e)}function th(t,e,n){return e=Qk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qk(t){var e=J8(t,"string");return Aa(e)=="symbol"?e:e+""}function J8(t,e){if(Aa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Aa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Y8(t,e){if(t==null)return{};var n=X8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function X8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Q8(t){return t.value}function Z8(t,e){if(I.isValidElement(t))return I.cloneElement(t,e);if(typeof t=="function")return I.createElement(t,e);e.ref;var n=Y8(e,V8);return I.createElement(Qy,n)}var px=1,hi=function(t){function e(){var n;z8(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=G8(this,e,[].concat(i)),th(n,"lastBoundingBox",{width:-1,height:-1}),n}return K8(e,t),q8(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>px||Math.abs(i.height-this.lastBoundingBox.height)>px)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?gr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();d={left:((u||0)-g.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return gr(gr({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=gr(gr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(g){r.wrapperNode=g}},Z8(o,gr(gr({},this.props),{},{payload:Yk(c,u,Q8)})))}}],[{key:"getWithHeight",value:function(r,i){var o=gr(gr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Y(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(O.PureComponent);th(hi,"displayName","Legend");th(hi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var mx=xu,e7=e0,t7=en,gx=mx?mx.isConcatSpreadable:void 0;function n7(t){return t7(t)||e7(t)||!!(gx&&t&&t[gx])}var r7=n7,i7=Lk,o7=r7;function Zk(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=o7),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Zk(s,e-1,n,r,i):i7(i,s):r||(i[i.length]=s)}return i}var eP=Zk;function a7(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var s7=a7,l7=s7,u7=l7(),c7=u7,d7=c7,f7=eh;function h7(t,e){return t&&d7(t,e,f7)}var tP=h7,p7=Su;function m7(t,e){return function(n,r){if(n==null)return n;if(!p7(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var g7=m7,v7=tP,y7=g7,w7=y7(v7),i0=w7,b7=i0,x7=Su;function _7(t,e){var n=-1,r=x7(t)?Array(t.length):[];return b7(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var nP=_7;function S7(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var E7=S7,vx=Za;function T7(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=vx(t),a=e!==void 0,s=e===null,l=e===e,u=vx(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var A7=T7,C7=A7;function k7(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=C7(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var P7=k7,_p=Vy,I7=zy,N7=pr,O7=nP,R7=E7,M7=Fk,$7=P7,D7=ss,j7=en;function L7(t,e,n){e.length?e=_p(e,function(o){return j7(o)?function(a){return I7(a,o.length===1?o[0]:o)}:o}):e=[D7];var r=-1;e=_p(e,M7(N7));var i=O7(t,function(o,a,s){var l=_p(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return R7(i,function(o,a){return $7(o,a,n)})}var U7=L7;function B7(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var F7=B7,V7=F7,yx=Math.max;function z7(t,e,n){return e=yx(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=yx(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),V7(t,this,s)}}var q7=z7;function G7(t){return function(){return t}}var H7=G7,W7=yo,K7=function(){try{var t=W7(Object,"defineProperty");return t({},"",{}),t}catch{}}(),rP=K7,J7=H7,wx=rP,Y7=ss,X7=wx?function(t,e){return wx(t,"toString",{configurable:!0,enumerable:!1,value:J7(e),writable:!0})}:Y7,Q7=X7,Z7=800,eV=16,tV=Date.now;function nV(t){var e=0,n=0;return function(){var r=tV(),i=eV-(r-n);if(n=r,i>0){if(++e>=Z7)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var rV=nV,iV=Q7,oV=rV,aV=oV(iV),sV=aV,lV=ss,uV=q7,cV=sV;function dV(t,e){return cV(uV(t,e,lV),t+"")}var fV=dV,hV=Ly,pV=Su,mV=t0,gV=bi;function vV(t,e,n){if(!gV(n))return!1;var r=typeof e;return(r=="number"?pV(n)&&mV(e,n.length):r=="string"&&e in n)?hV(n[e],t):!1}var nh=vV,yV=eP,wV=U7,bV=fV,bx=nh,xV=bV(function(t,e){if(t==null)return[];var n=e.length;return n>1&&bx(t,e[0],e[1])?e=[]:n>2&&bx(e[0],e[1],e[2])&&(e=[e[0]]),wV(t,yV(e,1),[])}),_V=xV;const o0=Ne(_V);function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(this,arguments)}function SV(t,e){return CV(t)||AV(t,e)||TV(t,e)||EV()}function EV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TV(t,e){if(t){if(typeof t=="string")return xx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xx(t,e)}}function xx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function CV(t){if(Array.isArray(t))return t}function _x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_x(Object(n),!0).forEach(function(r){kV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_x(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kV(t,e,n){return e=PV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PV(t){var e=IV(t,"string");return Ml(e)=="symbol"?e:e+""}function IV(t,e){if(Ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NV(t){return Array.isArray(t)&&vt(t[0])&&vt(t[1])?t.join(" ~ "):t}var OV=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,g=e.wrapperClassName,v=e.labelClassName,y=e.label,x=e.labelFormatter,w=e.accessibilityLayer,b=w===void 0?!1:w,_=function(){if(c&&c.length){var R={padding:0,margin:0},j=(h?o0(c,h):c).map(function(F,B){if(F.type==="none")return null;var M=Sp({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),L=F.formatter||d||NV,$=F.value,U=F.name,H=$,V=U;if(L&&H!=null&&V!=null){var q=L($,U,F,B,c);if(Array.isArray(q)){var Q=SV(q,2);H=Q[0],V=Q[1]}else H=q}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:M},vt(V)?I.createElement("span",{className:"recharts-tooltip-item-name"},V):null,vt(V)?I.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,I.createElement("span",{className:"recharts-tooltip-item-value"},H),I.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:R},j)}return null},T=Sp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Sp({margin:0},u),E=!ve(y),A=E?y:"",C=we("recharts-default-tooltip",g),k=we("recharts-tooltip-label",v);E&&x&&c!==void 0&&c!==null&&(A=x(y,c));var N=b?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",hg({className:C,style:T},N),I.createElement("p",{className:k,style:S},I.isValidElement(A)?A:"".concat(A)),_())};function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function tc(t,e,n){return e=RV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RV(t){var e=MV(t,"string");return $l(e)=="symbol"?e:e+""}function MV(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ns="recharts-tooltip-wrapper",$V={visibility:"hidden"};function DV(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return we(Ns,tc(tc(tc(tc({},"".concat(Ns,"-right"),Y(n)&&e&&Y(e.x)&&n>=e.x),"".concat(Ns,"-left"),Y(n)&&e&&Y(e.x)&&n<e.x),"".concat(Ns,"-bottom"),Y(r)&&e&&Y(e.y)&&r>=e.y),"".concat(Ns,"-top"),Y(r)&&e&&Y(e.y)&&r<e.y))}function Sx(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&Y(o[r]))return o[r];var c=n[r]-s-i,d=n[r]+i;if(e[r])return a[r]?c:d;if(a[r]){var h=c,g=l[r];return h<g?Math.max(d,l[r]):Math.max(c,l[r])}var v=d+s,y=l[r]+u;return v>y?Math.max(c,l[r]):Math.max(d,l[r])}function jV(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function LV(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return a.height>0&&a.width>0&&n?(c=Sx({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=Sx({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=jV({translateX:c,translateY:d,useTranslate3d:s})):u=$V,{cssProperties:u,cssClasses:DV({translateX:c,translateY:d,coordinate:n})}}function Ca(t){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(t)}function Ex(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ex(Object(n),!0).forEach(function(r){mg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ex(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oP(r.key),r)}}function FV(t,e,n){return e&&BV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VV(t,e,n){return e=bd(e),zV(t,iP()?Reflect.construct(e,n||[],bd(t).constructor):e.apply(t,n))}function zV(t,e){if(e&&(Ca(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qV(t)}function qV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iP=function(){return!!t})()}function bd(t){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bd(t)}function GV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pg(t,e)}function pg(t,e){return pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pg(t,e)}function mg(t,e,n){return e=oP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oP(t){var e=HV(t,"string");return Ca(e)=="symbol"?e:e+""}function HV(t,e){if(Ca(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ca(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ax=1,WV=function(t){function e(){var n;UV(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=VV(this,e,[].concat(i)),mg(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),mg(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return GV(e,t),FV(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Ax||Math.abs(r.height-this.state.lastBoundingBox.height)>Ax)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,g=i.offset,v=i.position,y=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,b=i.wrapperStyle,_=LV({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:g,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:w}),T=_.cssClasses,S=_.cssProperties,E=Tx(Tx({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return I.createElement("div",{tabIndex:-1,className:T,style:E,ref:function(C){r.wrapperNode=C}},u)}}])}(O.PureComponent),KV=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wo={isSsr:KV()};function ka(t){"@babel/helpers - typeof";return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ka(t)}function Cx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cx(Object(n),!0).forEach(function(r){a0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sP(r.key),r)}}function XV(t,e,n){return e&&YV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QV(t,e,n){return e=xd(e),ZV(t,aP()?Reflect.construct(e,n||[],xd(t).constructor):e.apply(t,n))}function ZV(t,e){if(e&&(ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ez(t)}function ez(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aP=function(){return!!t})()}function xd(t){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xd(t)}function tz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gg(t,e)}function gg(t,e){return gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gg(t,e)}function a0(t,e,n){return e=sP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sP(t){var e=nz(t,"string");return ka(e)=="symbol"?e:e+""}function nz(t,e){if(ka(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ka(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rz(t){return t.dataKey}function iz(t,e){return I.isValidElement(t)?I.cloneElement(t,e):typeof t=="function"?I.createElement(t,e):I.createElement(OV,e)}var En=function(t){function e(){return JV(this,e),QV(this,e,arguments)}return tz(e,t),XV(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,g=i.offset,v=i.payload,y=i.payloadUniqBy,x=i.position,w=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,T=i.wrapperStyle,S=v??[];d&&S.length&&(S=Yk(v.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),y,rz));var E=S.length>0;return I.createElement(WV,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:E,offset:g,position:x,reverseDirection:w,useTranslate3d:b,viewBox:_,wrapperStyle:T},iz(u,kx(kx({},this.props),{},{payload:S})))}}])}(O.PureComponent);a0(En,"displayName","Tooltip");a0(En,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var oz=hr,az=function(){return oz.Date.now()},sz=az,lz=/\s/;function uz(t){for(var e=t.length;e--&&lz.test(t.charAt(e)););return e}var cz=uz,dz=cz,fz=/^\s+/;function hz(t){return t&&t.slice(0,dz(t)+1).replace(fz,"")}var pz=hz,mz=pz,Px=bi,gz=Za,Ix=NaN,vz=/^[-+]0x[0-9a-f]+$/i,yz=/^0b[01]+$/i,wz=/^0o[0-7]+$/i,bz=parseInt;function xz(t){if(typeof t=="number")return t;if(gz(t))return Ix;if(Px(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Px(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=mz(t);var n=yz.test(t);return n||wz.test(t)?bz(t.slice(2),n?2:8):vz.test(t)?Ix:+t}var lP=xz,_z=bi,Ep=sz,Nx=lP,Sz="Expected a function",Ez=Math.max,Tz=Math.min;function Az(t,e,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Sz);e=Nx(e)||0,_z(n)&&(c=!!n.leading,d="maxWait"in n,o=d?Ez(Nx(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function g(E){var A=r,C=i;return r=i=void 0,u=E,a=t.apply(C,A),a}function v(E){return u=E,s=setTimeout(w,e),c?g(E):a}function y(E){var A=E-l,C=E-u,k=e-A;return d?Tz(k,o-C):k}function x(E){var A=E-l,C=E-u;return l===void 0||A>=e||A<0||d&&C>=o}function w(){var E=Ep();if(x(E))return b(E);s=setTimeout(w,y(E))}function b(E){return s=void 0,h&&r?g(E):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?a:b(Ep())}function S(){var E=Ep(),A=x(E);if(r=arguments,i=this,l=E,A){if(s===void 0)return v(l);if(d)return clearTimeout(s),s=setTimeout(w,e),g(l)}return s===void 0&&(s=setTimeout(w,e)),a}return S.cancel=_,S.flush=T,S}var Cz=Az,kz=Cz,Pz=bi,Iz="Expected a function";function Nz(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Iz);return Pz(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),kz(t,e,{leading:r,maxWait:e,trailing:i})}var Oz=Nz;const uP=Ne(Oz);function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function Ox(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ox(Object(n),!0).forEach(function(r){Rz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ox(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rz(t,e,n){return e=Mz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mz(t){var e=$z(t,"string");return Dl(e)=="symbol"?e:e+""}function $z(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dz(t,e){return Bz(t)||Uz(t,e)||Lz(t,e)||jz()}function jz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lz(t,e){if(t){if(typeof t=="string")return Rx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rx(t,e)}}function Rx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Bz(t){if(Array.isArray(t))return t}var s0=O.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,g=t.children,v=t.debounce,y=v===void 0?0:v,x=t.id,w=t.className,b=t.onResize,_=t.style,T=_===void 0?{}:_,S=O.useRef(null),E=O.useRef();E.current=b,O.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=O.useState({containerWidth:i.width,containerHeight:i.height}),C=Dz(A,2),k=C[0],N=C[1],P=O.useCallback(function(j,F){N(function(B){var M=Math.round(j),L=Math.round(F);return B.containerWidth===M&&B.containerHeight===L?B:{containerWidth:M,containerHeight:L}})},[]);O.useEffect(function(){var j=function(U){var H,V=U[0].contentRect,q=V.width,Q=V.height;P(q,Q),(H=E.current)===null||H===void 0||H.call(E,q,Q)};y>0&&(j=uP(j,y,{trailing:!0,leading:!1}));var F=new ResizeObserver(j),B=S.current.getBoundingClientRect(),M=B.width,L=B.height;return P(M,L),F.observe(S.current),function(){F.disconnect()}},[P,y]);var R=O.useMemo(function(){var j=k.containerWidth,F=k.containerHeight;if(j<0||F<0)return null;Qn(Ji(a)||Ji(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Qn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=Ji(a)?j:a,M=Ji(l)?F:l;n&&n>0&&(B?M=B/n:M&&(B=M*n),h&&M>h&&(M=h)),Qn(B>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,M,a,l,c,d,n);var L=!Array.isArray(g)&&kr(g.type).endsWith("Chart");return I.Children.map(g,function($){return I.isValidElement($)?O.cloneElement($,nc({width:B,height:M},L?{style:nc({height:"100%",width:"100%",maxHeight:M,maxWidth:B},$.props.style)}:{})):$})},[n,g,l,h,d,c,k,a]);return I.createElement("div",{id:x?"".concat(x):void 0,className:we("recharts-responsive-container",w),style:nc(nc({},T),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:S},R)}),rh=function(e){return null};rh.displayName="Cell";function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function Mx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mx(Object(n),!0).forEach(function(r){Fz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fz(t,e,n){return e=Vz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vz(t){var e=zz(t,"string");return jl(e)=="symbol"?e:e+""}function zz(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Co={widthCache:{},cacheCount:0},qz=2e3,Gz={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$x="recharts_measurement_span";function Hz(t){var e=vg({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ol=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||wo.isSsr)return{width:0,height:0};var r=Hz(n),i=JSON.stringify({text:e,copyStyle:r});if(Co.widthCache[i])return Co.widthCache[i];try{var o=document.getElementById($x);o||(o=document.createElement("span"),o.setAttribute("id",$x),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=vg(vg({},Gz),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Co.widthCache[i]=l,++Co.cacheCount>qz&&(Co.cacheCount=0,Co.widthCache={}),l}catch{return{width:0,height:0}}},Wz=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function _d(t,e){return Xz(t)||Yz(t,e)||Jz(t,e)||Kz()}function Kz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jz(t,e){if(t){if(typeof t=="string")return Dx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dx(t,e)}}function Dx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Xz(t){if(Array.isArray(t))return t}function Qz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eq(r.key),r)}}function Zz(t,e,n){return e&&jx(t.prototype,e),n&&jx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eq(t){var e=tq(t,"string");return Ll(e)=="symbol"?e:e+""}function tq(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ux=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iq=Object.keys(cP),Xo="NaN";function oq(t,e){return t*cP[e]}var rc=function(){function t(e,n){Qz(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!nq.test(n)&&(this.num=NaN,this.unit=""),iq.includes(n)&&(this.num=oq(e,n),this.unit="px")}return Zz(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=rq.exec(n))!==null&&r!==void 0?r:[],o=_d(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function dP(t){if(t.includes(Xo))return Xo;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Lx.exec(e))!==null&&n!==void 0?n:[],i=_d(r,4),o=i[1],a=i[2],s=i[3],l=rc.parse(o??""),u=rc.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Xo;e=e.replace(Lx,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=Ux.exec(e))!==null&&d!==void 0?d:[],g=_d(h,4),v=g[1],y=g[2],x=g[3],w=rc.parse(v??""),b=rc.parse(x??""),_=y==="+"?w.add(b):w.subtract(b);if(_.isNaN())return Xo;e=e.replace(Ux,_.toString())}return e}var Bx=/\(([^()]*)\)/;function aq(t){for(var e=t;e.includes("(");){var n=Bx.exec(e),r=_d(n,2),i=r[1];e=e.replace(Bx,dP(i))}return e}function sq(t){var e=t.replace(/\s+/g,"");return e=aq(e),e=dP(e),e}function lq(t){try{return sq(t)}catch{return Xo}}function Tp(t){var e=lq(t.slice(5,-1));return e===Xo?"":e}var uq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],cq=["dx","dy","angle","className","breakAll"];function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(this,arguments)}function Fx(t,e){if(t==null)return{};var n=dq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vx(t,e){return mq(t)||pq(t,e)||hq(t,e)||fq()}function fq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hq(t,e){if(t){if(typeof t=="string")return zx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zx(t,e)}}function zx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function mq(t){if(Array.isArray(t))return t}var fP=/[ \f\n\r\t\v\u2028\u2029]+/,hP=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ve(n)||(r?o=n.toString().split(""):o=n.toString().split(fP));var a=o.map(function(l){return{word:l,width:ol(l,i).width}}),s=r?0:ol("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},gq=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Y(a),d=s,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(M,L){var $=L.word,U=L.width,H=M[M.length-1];if(H&&(i==null||o||H.width+U+r<Number(i)))H.words.push($),H.width+=U+r;else{var V={words:[$],width:U};M.push(V)}return M},[])},g=h(n),v=function(B){return B.reduce(function(M,L){return M.width>L.width?M:L})};if(!c)return g;for(var y="",x=function(B){var M=d.slice(0,B),L=hP({breakAll:u,style:l,children:M+y}).wordsWithComputedWidth,$=h(L),U=$.length>a||v($).width>Number(i);return[U,$]},w=0,b=d.length-1,_=0,T;w<=b&&_<=d.length-1;){var S=Math.floor((w+b)/2),E=S-1,A=x(E),C=Vx(A,2),k=C[0],N=C[1],P=x(S),R=Vx(P,1),j=R[0];if(!k&&!j&&(w=S+1),k&&j&&(b=S-1),!k&&j){T=N;break}_++}return T||g},qx=function(e){var n=ve(e)?[]:e.toString().split(fP);return[{words:n}]},vq=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!wo.isSsr){var l,u,c=hP({breakAll:a,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return qx(i);return gq({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return qx(i)},Gx="#808080",fo=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,g=h===void 0?"start":h,v=e.verticalAnchor,y=v===void 0?"end":v,x=e.fill,w=x===void 0?Gx:x,b=Fx(e,uq),_=O.useMemo(function(){return vq({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),T=b.dx,S=b.dy,E=b.angle,A=b.className,C=b.breakAll,k=Fx(b,cq);if(!vt(r)||!vt(o))return null;var N=r+(Y(T)?T:0),P=o+(Y(S)?S:0),R;switch(y){case"start":R=Tp("calc(".concat(u,")"));break;case"middle":R=Tp("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=Tp("calc(".concat(_.length-1," * -").concat(s,")"));break}var j=[];if(d){var F=_[0].width,B=b.width;j.push("scale(".concat((Y(B)?B/F:1)/F,")"))}return E&&j.push("rotate(".concat(E,", ").concat(N,", ").concat(P,")")),j.length&&(k.transform=j.join(" ")),I.createElement("text",yg({},ce(k,!0),{x:N,y:P,className:we("recharts-text",A),textAnchor:g,fill:w.includes("url")?Gx:w}),_.map(function(M,L){var $=M.words.join(C?"":" ");return I.createElement("tspan",{x:N,dy:L===0?R:s,key:"".concat($,"-").concat(L)},$)}))};function pi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yq(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function l0(t){let e,n,r;t.length!==2?(e=pi,n=(s,l)=>pi(t(s),l),r=(s,l)=>t(s)-l):(e=t===pi||t===yq?t:wq,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function wq(){return 0}function pP(t){return t===null?NaN:+t}function*bq(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const xq=l0(pi),Eu=xq.right;l0(pP).center;class Hx extends Map{constructor(e,n=Eq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Wx(this,e))}has(e){return super.has(Wx(this,e))}set(e,n){return super.set(_q(this,e),n)}delete(e){return super.delete(Sq(this,e))}}function Wx({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function _q({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Sq({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Eq(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Tq(t=pi){if(t===pi)return mP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function mP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Aq=Math.sqrt(50),Cq=Math.sqrt(10),kq=Math.sqrt(2);function Sd(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Aq?10:o>=Cq?5:o>=kq?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Sd(t,e,n*2):[s,l,u]}function wg(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Sd(e,t,n):Sd(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function bg(t,e,n){return e=+e,t=+t,n=+n,Sd(t,e,n)[2]}function xg(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?bg(e,t,n):bg(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Kx(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Jx(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function gP(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?mP:Tq(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*d/l+h)),v=Math.min(r,Math.floor(e+(l-u)*d/l+h));gP(t,e,g,v,i)}const o=t[e];let a=n,s=r;for(Os(t,n,e),i(t[r],o)>0&&Os(t,n,r);a<s;){for(Os(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Os(t,n,s):(++s,Os(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Os(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Pq(t,e,n){if(t=Float64Array.from(bq(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Jx(t);if(e>=1)return Kx(t);var r,i=(r-1)*e,o=Math.floor(i),a=Kx(gP(t,o).subarray(0,o+1)),s=Jx(t.subarray(o+1));return a+(s-a)*(i-o)}}function Iq(t,e,n=pP){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Nq(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function jn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Vr(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const _g=Symbol("implicit");function u0(){var t=new Hx,e=[],n=[],r=_g;function i(o){let a=t.get(o);if(a===void 0){if(r!==_g)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Hx;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return u0(e,n).unknown(r)},jn.apply(i,arguments),i}function Ul(){var t=u0().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,g=i<r,v=g?i:r,y=g?r:i;o=(y-v)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),v+=(y-v-o*(h-l))*c,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var x=Nq(h).map(function(w){return v+o*w});return n(g?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Ul(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},jn.apply(d(),arguments)}function vP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return vP(e())},t}function al(){return vP(Ul.apply(null,arguments).paddingInner(1))}function c0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function yP(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Tu(){}var Bl=.7,Ed=1/Bl,da="\\s*([+-]?\\d+)\\s*",Fl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",lr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Oq=/^#([0-9a-f]{3,8})$/,Rq=new RegExp(`^rgb\\(${da},${da},${da}\\)$`),Mq=new RegExp(`^rgb\\(${lr},${lr},${lr}\\)$`),$q=new RegExp(`^rgba\\(${da},${da},${da},${Fl}\\)$`),Dq=new RegExp(`^rgba\\(${lr},${lr},${lr},${Fl}\\)$`),jq=new RegExp(`^hsl\\(${Fl},${lr},${lr}\\)$`),Lq=new RegExp(`^hsla\\(${Fl},${lr},${lr},${Fl}\\)$`),Yx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};c0(Tu,Vl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Xx,formatHex:Xx,formatHex8:Uq,formatHsl:Bq,formatRgb:Qx,toString:Qx});function Xx(){return this.rgb().formatHex()}function Uq(){return this.rgb().formatHex8()}function Bq(){return wP(this).formatHsl()}function Qx(){return this.rgb().formatRgb()}function Vl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Oq.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Zx(e):n===3?new Yt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ic(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ic(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Rq.exec(t))?new Yt(e[1],e[2],e[3],1):(e=Mq.exec(t))?new Yt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$q.exec(t))?ic(e[1],e[2],e[3],e[4]):(e=Dq.exec(t))?ic(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jq.exec(t))?n_(e[1],e[2]/100,e[3]/100,1):(e=Lq.exec(t))?n_(e[1],e[2]/100,e[3]/100,e[4]):Yx.hasOwnProperty(t)?Zx(Yx[t]):t==="transparent"?new Yt(NaN,NaN,NaN,0):null}function Zx(t){return new Yt(t>>16&255,t>>8&255,t&255,1)}function ic(t,e,n,r){return r<=0&&(t=e=n=NaN),new Yt(t,e,n,r)}function Fq(t){return t instanceof Tu||(t=Vl(t)),t?(t=t.rgb(),new Yt(t.r,t.g,t.b,t.opacity)):new Yt}function Sg(t,e,n,r){return arguments.length===1?Fq(t):new Yt(t,e,n,r??1)}function Yt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}c0(Yt,Sg,yP(Tu,{brighter(t){return t=t==null?Ed:Math.pow(Ed,t),new Yt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Bl:Math.pow(Bl,t),new Yt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Yt(no(this.r),no(this.g),no(this.b),Td(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:e_,formatHex:e_,formatHex8:Vq,formatRgb:t_,toString:t_}));function e_(){return`#${Yi(this.r)}${Yi(this.g)}${Yi(this.b)}`}function Vq(){return`#${Yi(this.r)}${Yi(this.g)}${Yi(this.b)}${Yi((isNaN(this.opacity)?1:this.opacity)*255)}`}function t_(){const t=Td(this.opacity);return`${t===1?"rgb(":"rgba("}${no(this.r)}, ${no(this.g)}, ${no(this.b)}${t===1?")":`, ${t})`}`}function Td(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function no(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yi(t){return t=no(t),(t<16?"0":"")+t.toString(16)}function n_(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Jn(t,e,n,r)}function wP(t){if(t instanceof Jn)return new Jn(t.h,t.s,t.l,t.opacity);if(t instanceof Tu||(t=Vl(t)),!t)return new Jn;if(t instanceof Jn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Jn(a,s,l,t.opacity)}function zq(t,e,n,r){return arguments.length===1?wP(t):new Jn(t,e,n,r??1)}function Jn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}c0(Jn,zq,yP(Tu,{brighter(t){return t=t==null?Ed:Math.pow(Ed,t),new Jn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Bl:Math.pow(Bl,t),new Jn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Yt(Ap(t>=240?t-240:t+120,i,r),Ap(t,i,r),Ap(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Jn(r_(this.h),oc(this.s),oc(this.l),Td(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Td(this.opacity);return`${t===1?"hsl(":"hsla("}${r_(this.h)}, ${oc(this.s)*100}%, ${oc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function r_(t){return t=(t||0)%360,t<0?t+360:t}function oc(t){return Math.max(0,Math.min(1,t||0))}function Ap(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const d0=t=>()=>t;function qq(t,e){return function(n){return t+n*e}}function Gq(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Hq(t){return(t=+t)==1?bP:function(e,n){return n-e?Gq(e,n,t):d0(isNaN(e)?n:e)}}function bP(t,e){var n=e-t;return n?qq(t,n):d0(isNaN(t)?e:t)}const i_=function t(e){var n=Hq(e);function r(i,o){var a=n((i=Sg(i)).r,(o=Sg(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=bP(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Wq(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Kq(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Jq(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=ls(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Yq(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ad(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Xq(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ls(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Eg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cp=new RegExp(Eg.source,"g");function Qq(t){return function(){return t}}function Zq(t){return function(e){return t(e)+""}}function eG(t,e){var n=Eg.lastIndex=Cp.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Eg.exec(t))&&(i=Cp.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Ad(r,i)})),n=Cp.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Zq(l[0].x):Qq(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function ls(t,e){var n=typeof e,r;return e==null||n==="boolean"?d0(e):(n==="number"?Ad:n==="string"?(r=Vl(e))?(e=r,i_):eG:e instanceof Vl?i_:e instanceof Date?Yq:Kq(e)?Wq:Array.isArray(e)?Jq:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Xq:Ad)(t,e)}function f0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function tG(t,e){e===void 0&&(e=t,t=ls);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function nG(t){return function(){return t}}function Cd(t){return+t}var o_=[0,1];function qt(t){return t}function Tg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:nG(isNaN(e)?NaN:.5)}function rG(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function iG(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Tg(i,r),o=n(a,o)):(r=Tg(r,i),o=n(o,a)),function(s){return o(r(s))}}function oG(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Tg(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Eu(t,s,1,r)-1;return o[l](i[l](s))}}function Au(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ih(){var t=o_,e=o_,n=ls,r,i,o,a=qt,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==qt&&(a=rG(t[0],t[h-1])),s=h>2?oG:iG,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=s(e,t.map(r),Ad)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Cd),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=f0,c()},d.clamp=function(h){return arguments.length?(a=h?!0:qt,c()):a!==qt},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,g){return r=h,i=g,c()}}function h0(){return ih()(qt,qt)}function aG(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function kd(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Pa(t){return t=kd(Math.abs(t)),t?t[1]:NaN}function sG(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function lG(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var uG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zl(t){if(!(e=uG.exec(t)))throw new Error("invalid format: "+t);var e;return new p0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}zl.prototype=p0.prototype;function p0(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}p0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cG(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var xP;function dG(t,e){var n=kd(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(xP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+kd(t,Math.max(0,e+o-1))[0]}function a_(t,e){var n=kd(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const s_={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:aG,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>a_(t*100,e),r:a_,s:dG,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function l_(t){return t}var u_=Array.prototype.map,c_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fG(t){var e=t.grouping===void 0||t.thousands===void 0?l_:sG(u_.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?l_:lG(u_.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=zl(d);var h=d.fill,g=d.align,v=d.sign,y=d.symbol,x=d.zero,w=d.width,b=d.comma,_=d.precision,T=d.trim,S=d.type;S==="n"?(b=!0,S="g"):s_[S]||(_===void 0&&(_=12),T=!0,S="g"),(x||h==="0"&&g==="=")&&(x=!0,h="0",g="=");var E=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=y==="$"?r:/[%p]/.test(S)?a:"",C=s_[S],k=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N(P){var R=E,j=A,F,B,M;if(S==="c")j=C(P)+j,P="";else{P=+P;var L=P<0||1/P<0;if(P=isNaN(P)?l:C(Math.abs(P),_),T&&(P=cG(P)),L&&+P==0&&v!=="+"&&(L=!1),R=(L?v==="("?v:s:v==="-"||v==="("?"":v)+R,j=(S==="s"?c_[8+xP/3]:"")+j+(L&&v==="("?")":""),k){for(F=-1,B=P.length;++F<B;)if(M=P.charCodeAt(F),48>M||M>57){j=(M===46?i+P.slice(F+1):P.slice(F))+j,P=P.slice(0,F);break}}}b&&!x&&(P=e(P,1/0));var $=R.length+P.length+j.length,U=$<w?new Array(w-$+1).join(h):"";switch(b&&x&&(P=e(U+P,U.length?w-j.length:1/0),U=""),g){case"<":P=R+P+j+U;break;case"=":P=R+U+P+j;break;case"^":P=U.slice(0,$=U.length>>1)+R+P+j+U.slice($);break;default:P=U+R+P+j;break}return o(P)}return N.toString=function(){return d+""},N}function c(d,h){var g=u((d=zl(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Pa(h)/3)))*3,y=Math.pow(10,-v),x=c_[8+v/3];return function(w){return g(y*w)+x}}return{format:u,formatPrefix:c}}var ac,m0,_P;hG({thousands:",",grouping:[3],currency:["$",""]});function hG(t){return ac=fG(t),m0=ac.format,_P=ac.formatPrefix,ac}function pG(t){return Math.max(0,-Pa(Math.abs(t)))}function mG(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pa(e)/3)))*3-Pa(Math.abs(t)))}function gG(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Pa(e)-Pa(t))+1}function SP(t,e,n,r){var i=xg(t,e,n),o;switch(r=zl(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=mG(i,a))&&(r.precision=o),_P(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=gG(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=pG(i))&&(r.precision=o-(r.type==="%")*2);break}}return m0(r)}function xi(t){var e=t.domain;return t.ticks=function(n){var r=e();return wg(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return SP(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=bg(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Pd(){var t=h0();return t.copy=function(){return Au(t,Pd())},jn.apply(t,arguments),xi(t)}function EP(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Cd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return EP(t).unknown(e)},t=arguments.length?Array.from(t,Cd):[0,1],xi(n)}function TP(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function d_(t){return Math.log(t)}function f_(t){return Math.exp(t)}function vG(t){return-Math.log(-t)}function yG(t){return-Math.exp(-t)}function wG(t){return isFinite(t)?+("1e"+t):t<0?0:t}function bG(t){return t===10?wG:t===Math.E?Math.exp:e=>Math.pow(t,e)}function xG(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function h_(t){return(e,n)=>-t(-e,n)}function g0(t){const e=t(d_,f_),n=e.domain;let r=10,i,o;function a(){return i=xG(r),o=bG(r),n()[0]<0?(i=h_(i),o=h_(o),t(vG,yG)):t(d_,f_),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),g=i(c),v,y;const x=s==null?10:+s;let w=[];if(!(r%1)&&g-h<x){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(v=1;v<r;++v)if(y=h<0?v/o(-h):v*o(h),!(y<u)){if(y>c)break;w.push(y)}}else for(;h<=g;++h)for(v=r-1;v>=1;--v)if(y=h>0?v/o(-h):v*o(h),!(y<u)){if(y>c)break;w.push(y)}w.length*2<x&&(w=wg(u,c,x))}else w=wg(h,g,Math.min(g-h,x)).map(o);return d?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=zl(l)).precision==null&&(l.trim=!0),l=m0(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(TP(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function AP(){const t=g0(ih()).domain([1,10]);return t.copy=()=>Au(t,AP()).base(t.base()),jn.apply(t,arguments),t}function p_(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function m_(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function v0(t){var e=1,n=t(p_(e),m_(e));return n.constant=function(r){return arguments.length?t(p_(e=+r),m_(e)):e},xi(n)}function CP(){var t=v0(ih());return t.copy=function(){return Au(t,CP()).constant(t.constant())},jn.apply(t,arguments)}function g_(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function _G(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function SG(t){return t<0?-t*t:t*t}function y0(t){var e=t(qt,qt),n=1;function r(){return n===1?t(qt,qt):n===.5?t(_G,SG):t(g_(n),g_(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xi(e)}function w0(){var t=y0(ih());return t.copy=function(){return Au(t,w0()).exponent(t.exponent())},jn.apply(t,arguments),t}function EG(){return w0.apply(null,arguments).exponent(.5)}function v_(t){return Math.sign(t)*t*t}function TG(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function kP(){var t=h0(),e=[0,1],n=!1,r;function i(o){var a=TG(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(v_(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Cd)).map(v_)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return kP(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},jn.apply(i,arguments),xi(i)}function PP(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Iq(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Eu(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(pi),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return PP().domain(t).range(e).unknown(r)},jn.apply(o,arguments)}function IP(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Eu(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return IP().domain([t,e]).range(i).unknown(o)},jn.apply(xi(a),arguments)}function NP(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Eu(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return NP().domain(t).range(e).unknown(n)},jn.apply(i,arguments)}const kp=new Date,Pp=new Date;function yt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>yt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(kp.setTime(+o),Pp.setTime(+a),t(kp),t(Pp),Math.floor(n(kp,Pp))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Id=yt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Id.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Id);Id.range;const Er=1e3,In=Er*60,Tr=In*60,$r=Tr*24,b0=$r*7,y_=$r*30,Ip=$r*365,Xi=yt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Er)},(t,e)=>(e-t)/Er,t=>t.getUTCSeconds());Xi.range;const x0=yt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Er)},(t,e)=>{t.setTime(+t+e*In)},(t,e)=>(e-t)/In,t=>t.getMinutes());x0.range;const _0=yt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*In)},(t,e)=>(e-t)/In,t=>t.getUTCMinutes());_0.range;const S0=yt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Er-t.getMinutes()*In)},(t,e)=>{t.setTime(+t+e*Tr)},(t,e)=>(e-t)/Tr,t=>t.getHours());S0.range;const E0=yt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Tr)},(t,e)=>(e-t)/Tr,t=>t.getUTCHours());E0.range;const Cu=yt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*In)/$r,t=>t.getDate()-1);Cu.range;const oh=yt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$r,t=>t.getUTCDate()-1);oh.range;const OP=yt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$r,t=>Math.floor(t/$r));OP.range;function bo(t){return yt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*In)/b0)}const ah=bo(0),Nd=bo(1),AG=bo(2),CG=bo(3),Ia=bo(4),kG=bo(5),PG=bo(6);ah.range;Nd.range;AG.range;CG.range;Ia.range;kG.range;PG.range;function xo(t){return yt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/b0)}const sh=xo(0),Od=xo(1),IG=xo(2),NG=xo(3),Na=xo(4),OG=xo(5),RG=xo(6);sh.range;Od.range;IG.range;NG.range;Na.range;OG.range;RG.range;const T0=yt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());T0.range;const A0=yt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());A0.range;const Dr=yt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Dr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Dr.range;const jr=yt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());jr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});jr.range;function RP(t,e,n,r,i,o){const a=[[Xi,1,Er],[Xi,5,5*Er],[Xi,15,15*Er],[Xi,30,30*Er],[o,1,In],[o,5,5*In],[o,15,15*In],[o,30,30*In],[i,1,Tr],[i,3,3*Tr],[i,6,6*Tr],[i,12,12*Tr],[r,1,$r],[r,2,2*$r],[n,1,b0],[e,1,y_],[e,3,3*y_],[t,1,Ip]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const g=d&&typeof d.range=="function"?d:l(u,c,d),v=g?g.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,d){const h=Math.abs(c-u)/d,g=l0(([,,x])=>x).right(a,h);if(g===a.length)return t.every(xg(u/Ip,c/Ip,d));if(g===0)return Id.every(Math.max(xg(u,c,d),1));const[v,y]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return v.every(y)}return[s,l]}const[MG,$G]=RP(jr,A0,sh,OP,E0,_0),[DG,jG]=RP(Dr,T0,ah,Cu,S0,x0);function Np(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Op(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rs(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function LG(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Ms(i),c=$s(i),d=Ms(o),h=$s(o),g=Ms(a),v=$s(a),y=Ms(s),x=$s(s),w=Ms(l),b=$s(l),_={a:L,A:$,b:U,B:H,c:null,d:E_,e:E_,f:sH,g:vH,G:wH,H:iH,I:oH,j:aH,L:MP,m:lH,M:uH,p:V,q,Q:C_,s:k_,S:cH,u:dH,U:fH,V:hH,w:pH,W:mH,x:null,X:null,y:gH,Y:yH,Z:bH,"%":A_},T={a:Q,A:ne,b:ye,B:xe,c:null,d:T_,e:T_,f:EH,g:MH,G:DH,H:xH,I:_H,j:SH,L:DP,m:TH,M:AH,p:je,q:$e,Q:C_,s:k_,S:CH,u:kH,U:PH,V:IH,w:NH,W:OH,x:null,X:null,y:RH,Y:$H,Z:jH,"%":A_},S={a:N,A:P,b:R,B:j,c:F,d:__,e:__,f:eH,g:x_,G:b_,H:S_,I:S_,j:YG,L:ZG,m:JG,M:XG,p:k,q:KG,Q:nH,s:rH,S:QG,u:zG,U:qG,V:GG,w:VG,W:HG,x:B,X:M,y:x_,Y:b_,Z:WG,"%":tH};_.x=E(n,_),_.X=E(r,_),_.c=E(e,_),T.x=E(n,T),T.X=E(r,T),T.c=E(e,T);function E(Z,ue){return function(de){var D=[],fe=-1,oe=0,_e=Z.length,Se,Ke,wt;for(de instanceof Date||(de=new Date(+de));++fe<_e;)Z.charCodeAt(fe)===37&&(D.push(Z.slice(oe,fe)),(Ke=w_[Se=Z.charAt(++fe)])!=null?Se=Z.charAt(++fe):Ke=Se==="e"?" ":"0",(wt=ue[Se])&&(Se=wt(de,Ke)),D.push(Se),oe=fe+1);return D.push(Z.slice(oe,fe)),D.join("")}}function A(Z,ue){return function(de){var D=Rs(1900,void 0,1),fe=C(D,Z,de+="",0),oe,_e;if(fe!=de.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(ue&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(oe=Op(Rs(D.y,0,1)),_e=oe.getUTCDay(),oe=_e>4||_e===0?Od.ceil(oe):Od(oe),oe=oh.offset(oe,(D.V-1)*7),D.y=oe.getUTCFullYear(),D.m=oe.getUTCMonth(),D.d=oe.getUTCDate()+(D.w+6)%7):(oe=Np(Rs(D.y,0,1)),_e=oe.getDay(),oe=_e>4||_e===0?Nd.ceil(oe):Nd(oe),oe=Cu.offset(oe,(D.V-1)*7),D.y=oe.getFullYear(),D.m=oe.getMonth(),D.d=oe.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),_e="Z"in D?Op(Rs(D.y,0,1)).getUTCDay():Np(Rs(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(_e+5)%7:D.w+D.U*7-(_e+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,Op(D)):Np(D)}}function C(Z,ue,de,D){for(var fe=0,oe=ue.length,_e=de.length,Se,Ke;fe<oe;){if(D>=_e)return-1;if(Se=ue.charCodeAt(fe++),Se===37){if(Se=ue.charAt(fe++),Ke=S[Se in w_?ue.charAt(fe++):Se],!Ke||(D=Ke(Z,de,D))<0)return-1}else if(Se!=de.charCodeAt(D++))return-1}return D}function k(Z,ue,de){var D=u.exec(ue.slice(de));return D?(Z.p=c.get(D[0].toLowerCase()),de+D[0].length):-1}function N(Z,ue,de){var D=g.exec(ue.slice(de));return D?(Z.w=v.get(D[0].toLowerCase()),de+D[0].length):-1}function P(Z,ue,de){var D=d.exec(ue.slice(de));return D?(Z.w=h.get(D[0].toLowerCase()),de+D[0].length):-1}function R(Z,ue,de){var D=w.exec(ue.slice(de));return D?(Z.m=b.get(D[0].toLowerCase()),de+D[0].length):-1}function j(Z,ue,de){var D=y.exec(ue.slice(de));return D?(Z.m=x.get(D[0].toLowerCase()),de+D[0].length):-1}function F(Z,ue,de){return C(Z,e,ue,de)}function B(Z,ue,de){return C(Z,n,ue,de)}function M(Z,ue,de){return C(Z,r,ue,de)}function L(Z){return a[Z.getDay()]}function $(Z){return o[Z.getDay()]}function U(Z){return l[Z.getMonth()]}function H(Z){return s[Z.getMonth()]}function V(Z){return i[+(Z.getHours()>=12)]}function q(Z){return 1+~~(Z.getMonth()/3)}function Q(Z){return a[Z.getUTCDay()]}function ne(Z){return o[Z.getUTCDay()]}function ye(Z){return l[Z.getUTCMonth()]}function xe(Z){return s[Z.getUTCMonth()]}function je(Z){return i[+(Z.getUTCHours()>=12)]}function $e(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ue=E(Z+="",_);return ue.toString=function(){return Z},ue},parse:function(Z){var ue=A(Z+="",!1);return ue.toString=function(){return Z},ue},utcFormat:function(Z){var ue=E(Z+="",T);return ue.toString=function(){return Z},ue},utcParse:function(Z){var ue=A(Z+="",!0);return ue.toString=function(){return Z},ue}}}var w_={"-":"",_:" ",0:"0"},Et=/^\s*\d+/,UG=/^%/,BG=/[\\^$*+?|[\]().{}]/g;function Ae(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function FG(t){return t.replace(BG,"\\$&")}function Ms(t){return new RegExp("^(?:"+t.map(FG).join("|")+")","i")}function $s(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function VG(t,e,n){var r=Et.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function zG(t,e,n){var r=Et.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function qG(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function GG(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function HG(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function b_(t,e,n){var r=Et.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function x_(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function WG(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function KG(t,e,n){var r=Et.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function JG(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function __(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function YG(t,e,n){var r=Et.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function S_(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function XG(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function QG(t,e,n){var r=Et.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ZG(t,e,n){var r=Et.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function eH(t,e,n){var r=Et.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function tH(t,e,n){var r=UG.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function nH(t,e,n){var r=Et.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function rH(t,e,n){var r=Et.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function E_(t,e){return Ae(t.getDate(),e,2)}function iH(t,e){return Ae(t.getHours(),e,2)}function oH(t,e){return Ae(t.getHours()%12||12,e,2)}function aH(t,e){return Ae(1+Cu.count(Dr(t),t),e,3)}function MP(t,e){return Ae(t.getMilliseconds(),e,3)}function sH(t,e){return MP(t,e)+"000"}function lH(t,e){return Ae(t.getMonth()+1,e,2)}function uH(t,e){return Ae(t.getMinutes(),e,2)}function cH(t,e){return Ae(t.getSeconds(),e,2)}function dH(t){var e=t.getDay();return e===0?7:e}function fH(t,e){return Ae(ah.count(Dr(t)-1,t),e,2)}function $P(t){var e=t.getDay();return e>=4||e===0?Ia(t):Ia.ceil(t)}function hH(t,e){return t=$P(t),Ae(Ia.count(Dr(t),t)+(Dr(t).getDay()===4),e,2)}function pH(t){return t.getDay()}function mH(t,e){return Ae(Nd.count(Dr(t)-1,t),e,2)}function gH(t,e){return Ae(t.getFullYear()%100,e,2)}function vH(t,e){return t=$P(t),Ae(t.getFullYear()%100,e,2)}function yH(t,e){return Ae(t.getFullYear()%1e4,e,4)}function wH(t,e){var n=t.getDay();return t=n>=4||n===0?Ia(t):Ia.ceil(t),Ae(t.getFullYear()%1e4,e,4)}function bH(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ae(e/60|0,"0",2)+Ae(e%60,"0",2)}function T_(t,e){return Ae(t.getUTCDate(),e,2)}function xH(t,e){return Ae(t.getUTCHours(),e,2)}function _H(t,e){return Ae(t.getUTCHours()%12||12,e,2)}function SH(t,e){return Ae(1+oh.count(jr(t),t),e,3)}function DP(t,e){return Ae(t.getUTCMilliseconds(),e,3)}function EH(t,e){return DP(t,e)+"000"}function TH(t,e){return Ae(t.getUTCMonth()+1,e,2)}function AH(t,e){return Ae(t.getUTCMinutes(),e,2)}function CH(t,e){return Ae(t.getUTCSeconds(),e,2)}function kH(t){var e=t.getUTCDay();return e===0?7:e}function PH(t,e){return Ae(sh.count(jr(t)-1,t),e,2)}function jP(t){var e=t.getUTCDay();return e>=4||e===0?Na(t):Na.ceil(t)}function IH(t,e){return t=jP(t),Ae(Na.count(jr(t),t)+(jr(t).getUTCDay()===4),e,2)}function NH(t){return t.getUTCDay()}function OH(t,e){return Ae(Od.count(jr(t)-1,t),e,2)}function RH(t,e){return Ae(t.getUTCFullYear()%100,e,2)}function MH(t,e){return t=jP(t),Ae(t.getUTCFullYear()%100,e,2)}function $H(t,e){return Ae(t.getUTCFullYear()%1e4,e,4)}function DH(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Na(t):Na.ceil(t),Ae(t.getUTCFullYear()%1e4,e,4)}function jH(){return"+0000"}function A_(){return"%"}function C_(t){return+t}function k_(t){return Math.floor(+t/1e3)}var ko,LP,UP;LH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function LH(t){return ko=LG(t),LP=ko.format,ko.parse,UP=ko.utcFormat,ko.utcParse,ko}function UH(t){return new Date(t)}function BH(t){return t instanceof Date?+t:+new Date(+t)}function C0(t,e,n,r,i,o,a,s,l,u){var c=h0(),d=c.invert,h=c.domain,g=u(".%L"),v=u(":%S"),y=u("%I:%M"),x=u("%I %p"),w=u("%a %d"),b=u("%b %d"),_=u("%B"),T=u("%Y");function S(E){return(l(E)<E?g:s(E)<E?v:a(E)<E?y:o(E)<E?x:r(E)<E?i(E)<E?w:b:n(E)<E?_:T)(E)}return c.invert=function(E){return new Date(d(E))},c.domain=function(E){return arguments.length?h(Array.from(E,BH)):h().map(UH)},c.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},c.tickFormat=function(E,A){return A==null?S:u(A)},c.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(TP(A,E)):c},c.copy=function(){return Au(c,C0(t,e,n,r,i,o,a,s,l,u))},c}function FH(){return jn.apply(C0(DG,jG,Dr,T0,ah,Cu,S0,x0,Xi,LP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VH(){return jn.apply(C0(MG,$G,jr,A0,sh,oh,E0,_0,Xi,UP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lh(){var t=0,e=1,n,r,i,o,a=qt,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var g,v;return arguments.length?([g,v]=h,a=d(g,v),u):[a(0),a(1)]}}return u.range=c(ls),u.rangeRound=c(f0),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function _i(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function BP(){var t=xi(lh()(qt));return t.copy=function(){return _i(t,BP())},Vr.apply(t,arguments)}function FP(){var t=g0(lh()).domain([1,10]);return t.copy=function(){return _i(t,FP()).base(t.base())},Vr.apply(t,arguments)}function VP(){var t=v0(lh());return t.copy=function(){return _i(t,VP()).constant(t.constant())},Vr.apply(t,arguments)}function k0(){var t=y0(lh());return t.copy=function(){return _i(t,k0()).exponent(t.exponent())},Vr.apply(t,arguments)}function zH(){return k0.apply(null,arguments).exponent(.5)}function zP(){var t=[],e=qt;function n(r){if(r!=null&&!isNaN(r=+r))return e((Eu(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(pi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Pq(t,o/r))},n.copy=function(){return zP(e).domain(t)},Vr.apply(n,arguments)}function uh(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=qt,c,d=!1,h;function g(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-o)*(r*y<r*o?s:l),u(d?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(y){return arguments.length?(d=!!y,g):d},g.interpolator=function(y){return arguments.length?(u=y,g):u};function v(y){return function(x){var w,b,_;return arguments.length?([w,b,_]=x,u=tG(y,[w,b,_]),g):[u(0),u(.5),u(1)]}}return g.range=v(ls),g.rangeRound=v(f0),g.unknown=function(y){return arguments.length?(h=y,g):h},function(y){return c=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g}}function qP(){var t=xi(uh()(qt));return t.copy=function(){return _i(t,qP())},Vr.apply(t,arguments)}function GP(){var t=g0(uh()).domain([.1,1,10]);return t.copy=function(){return _i(t,GP()).base(t.base())},Vr.apply(t,arguments)}function HP(){var t=v0(uh());return t.copy=function(){return _i(t,HP()).constant(t.constant())},Vr.apply(t,arguments)}function P0(){var t=y0(uh());return t.copy=function(){return _i(t,P0()).exponent(t.exponent())},Vr.apply(t,arguments)}function qH(){return P0.apply(null,arguments).exponent(.5)}const P_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ul,scaleDiverging:qP,scaleDivergingLog:GP,scaleDivergingPow:P0,scaleDivergingSqrt:qH,scaleDivergingSymlog:HP,scaleIdentity:EP,scaleImplicit:_g,scaleLinear:Pd,scaleLog:AP,scaleOrdinal:u0,scalePoint:al,scalePow:w0,scaleQuantile:PP,scaleQuantize:IP,scaleRadial:kP,scaleSequential:BP,scaleSequentialLog:FP,scaleSequentialPow:k0,scaleSequentialQuantile:zP,scaleSequentialSqrt:zH,scaleSequentialSymlog:VP,scaleSqrt:EG,scaleSymlog:CP,scaleThreshold:NP,scaleTime:FH,scaleUtc:VH,tickFormat:SP},Symbol.toStringTag,{value:"Module"}));var GH=Za;function HH(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!GH(a):n(a,s)))var s=a,l=o}return l}var ch=HH;function WH(t,e){return t>e}var WP=WH,KH=ch,JH=WP,YH=ss;function XH(t){return t&&t.length?KH(t,YH,JH):void 0}var QH=XH;const dh=Ne(QH);function ZH(t,e){return t<e}var KP=ZH,e9=ch,t9=KP,n9=ss;function r9(t){return t&&t.length?e9(t,n9,t9):void 0}var i9=r9;const fh=Ne(i9);var o9=Vy,a9=pr,s9=nP,l9=en;function u9(t,e){var n=l9(t)?o9:s9;return n(t,a9(e))}var c9=u9,d9=eP,f9=c9;function h9(t,e){return d9(f9(t,e),1)}var p9=h9;const m9=Ne(p9);var g9=r0;function v9(t,e){return g9(t,e)}var y9=v9;const ku=Ne(y9);var us=1e9,w9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},N0,Ye=!0,$n="[DecimalError] ",ro=$n+"Invalid argument: ",I0=$n+"Exponent out of range: ",cs=Math.floor,Ui=Math.pow,b9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,cn,bt=1e7,He=7,JP=9007199254740991,Rd=cs(JP/He),ie={};ie.absoluteValue=ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ie.comparedTo=ie.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*He;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ie.dividedBy=ie.div=function(t){return Pr(this,new this.constructor(t))};ie.dividedToIntegerBy=ie.idiv=function(t){var e=this,n=e.constructor;return De(Pr(e,new n(t),0,1),n.precision)};ie.equals=ie.eq=function(t){return!this.cmp(t)};ie.exponent=function(){return ct(this)};ie.greaterThan=ie.gt=function(t){return this.cmp(t)>0};ie.greaterThanOrEqualTo=ie.gte=function(t){return this.cmp(t)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(t){return this.cmp(t)<0};ie.lessThanOrEqualTo=ie.lte=function(t){return this.cmp(t)<1};ie.logarithm=ie.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(cn))throw Error($n+"NaN");if(n.s<1)throw Error($n+(n.s?"NaN":"-Infinity"));return n.eq(cn)?new r(0):(Ye=!1,e=Pr(ql(n,o),ql(t,o),o),Ye=!0,De(e,i))};ie.minus=ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?QP(e,t):YP(e,(t.s=-t.s,t))};ie.modulo=ie.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error($n+"NaN");return n.s?(Ye=!1,e=Pr(n,t,0,1).times(t),Ye=!0,n.minus(e)):De(new r(n),i)};ie.naturalExponential=ie.exp=function(){return XP(this)};ie.naturalLogarithm=ie.ln=function(){return ql(this)};ie.negated=ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ie.plus=ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YP(e,t):QP(e,(t.s=-t.s,t))};ie.precision=ie.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ro+t);if(e=ct(i)+1,r=i.d.length-1,n=r*He+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ie.squareRoot=ie.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error($n+"NaN")}for(t=ct(s),Ye=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=or(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=cs((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Pr(s,o,a+2)).times(.5),or(o.d).slice(0,a)===(e=or(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(De(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Ye=!0,De(r,n)};ie.times=ie.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,g=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+g[r]*h[i-r-1]+e,o[i--]=s%bt|0,e=s/bt|0;o[i]=(o[i]+e)%bt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ye?De(t,d.precision):t};ie.toDecimalPlaces=ie.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(cr(t,0,us),e===void 0?e=r.rounding:cr(e,0,8),De(n,t+ct(n)+1,e))};ie.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ho(r,!0):(cr(t,0,us),e===void 0?e=i.rounding:cr(e,0,8),r=De(new i(r),t+1,e),n=ho(r,!0,t+1)),n};ie.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ho(i):(cr(t,0,us),e===void 0?e=o.rounding:cr(e,0,8),r=De(new o(i),t+ct(i)+1,e),n=ho(r.abs(),!1,t+ct(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ie.toInteger=ie.toint=function(){var t=this,e=t.constructor;return De(new e(t),ct(t)+1,e.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(cn);if(s=new l(s),!s.s){if(t.s<1)throw Error($n+"Infinity");return s}if(s.eq(cn))return s;if(r=l.precision,t.eq(cn))return De(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=JP){for(i=new l(cn),e=Math.ceil(r/He+4),Ye=!1;n%2&&(i=i.times(s),N_(i.d,e)),n=cs(n/2),n!==0;)s=s.times(s),N_(s.d,e);return Ye=!0,t.s<0?new l(cn).div(i):De(i,r)}}else if(o<0)throw Error($n+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Ye=!1,i=t.times(ql(s,r+u)),Ye=!0,i=XP(i),i.s=o,i};ie.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=ct(i),r=ho(i,n<=o.toExpNeg||n>=o.toExpPos)):(cr(t,1,us),e===void 0?e=o.rounding:cr(e,0,8),i=De(new o(i),t,e),n=ct(i),r=ho(i,t<=n||n<=o.toExpNeg,t)),r};ie.toSignificantDigits=ie.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(cr(t,1,us),e===void 0?e=r.rounding:cr(e,0,8)),De(new r(n),t,e)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ct(t),n=t.constructor;return ho(t,e<=n.toExpNeg||e>=n.toExpPos)};function YP(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Ye?De(e,d):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/He),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/bt|0,l[o]%=bt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Ye?De(e,d):e}function cr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ro+t)}function or(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=He-r.length,n&&(o+=Yr(n)),o+=r;a=t[e],r=a+"",n=He-r.length,n&&(o+=Yr(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Pr=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%bt|0,a=o/bt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*bt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,h,g,v,y,x,w,b,_,T,S,E,A,C,k=r.constructor,N=r.s==i.s?1:-1,P=r.d,R=i.d;if(!r.s)return new k(r);if(!i.s)throw Error($n+"Division by zero");for(l=r.e-i.e,A=R.length,S=P.length,g=new k(N),v=g.d=[],u=0;R[u]==(P[u]||0);)++u;if(R[u]>(P[u]||0)&&--l,o==null?b=o=k.precision:a?b=o+(ct(r)-ct(i))+1:b=o,b<0)return new k(0);if(b=b/He+2|0,u=0,A==1)for(c=0,R=R[0],b++;(u<S||c)&&b--;u++)_=c*bt+(P[u]||0),v[u]=_/R|0,c=_%R|0;else{for(c=bt/(R[0]+1)|0,c>1&&(R=t(R,c),P=t(P,c),A=R.length,S=P.length),T=A,y=P.slice(0,A),x=y.length;x<A;)y[x++]=0;C=R.slice(),C.unshift(0),E=R[0],R[1]>=bt/2&&++E;do c=0,s=e(R,y,A,x),s<0?(w=y[0],A!=x&&(w=w*bt+(y[1]||0)),c=w/E|0,c>1?(c>=bt&&(c=bt-1),d=t(R,c),h=d.length,x=y.length,s=e(d,y,h,x),s==1&&(c--,n(d,A<h?C:R,h))):(c==0&&(s=c=1),d=R.slice()),h=d.length,h<x&&d.unshift(0),n(y,d,x),s==-1&&(x=y.length,s=e(R,y,A,x),s<1&&(c++,n(y,A<x?C:R,x))),x=y.length):s===0&&(c++,y=[0]),v[u++]=c,s&&y[0]?y[x++]=P[T]||0:(y=[P[T]],x=1);while((T++<S||y[0]!==void 0)&&b--)}return v[0]||v.shift(),g.e=l,De(g,a?o+ct(g)+1:o)}}();function XP(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,d=c.precision;if(ct(t)>16)throw Error(I0+ct(t));if(!t.s)return new c(cn);for(Ye=!1,s=d,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Ui(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(cn),c.precision=s;;){if(i=De(i.times(t),s),n=n.times(++l),a=o.plus(Pr(i,n,s)),or(a.d).slice(0,s)===or(o.d).slice(0,s)){for(;u--;)o=De(o.times(o),s);return c.precision=d,e==null?(Ye=!0,De(o,d)):o}o=a}}function ct(t){for(var e=t.e*He,n=t.d[0];n>=10;n/=10)e++;return e}function Rp(t,e,n){if(e>t.LN10.sd())throw Ye=!0,n&&(t.precision=n),Error($n+"LN10 precision limit exceeded");return De(new t(t.LN10),e)}function Yr(t){for(var e="";t--;)e+="0";return e}function ql(t,e){var n,r,i,o,a,s,l,u,c,d=1,h=10,g=t,v=g.d,y=g.constructor,x=y.precision;if(g.s<1)throw Error($n+(g.s?"NaN":"-Infinity"));if(g.eq(cn))return new y(0);if(e==null?(Ye=!1,u=x):u=e,g.eq(10))return e==null&&(Ye=!0),Rp(y,u);if(u+=h,y.precision=u,n=or(v),r=n.charAt(0),o=ct(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=or(g.d),r=n.charAt(0),d++;o=ct(g),r>1?(g=new y("0."+n),o++):g=new y(r+"."+n.slice(1))}else return l=Rp(y,u+2,x).times(o+""),g=ql(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=x,e==null?(Ye=!0,De(g,x)):g;for(s=a=g=Pr(g.minus(cn),g.plus(cn),u),c=De(g.times(g),u),i=3;;){if(a=De(a.times(c),u),l=s.plus(Pr(a,new y(i),u)),or(l.d).slice(0,u)===or(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Rp(y,u+2,x).times(o+""))),s=Pr(s,new y(d),u),y.precision=x,e==null?(Ye=!0,De(s,x)):s;s=l,i+=2}}function I_(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=cs(n/He),t.d=[],r=(n+1)%He,n<0&&(r+=He),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=He;r<i;)t.d.push(+e.slice(r,r+=He));e=e.slice(r),r=He-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ye&&(t.e>Rd||t.e<-Rd))throw Error(I0+n)}else t.s=0,t.e=0,t.d=[0];return t}function De(t,e,n){var r,i,o,a,s,l,u,c,d=t.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=He,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/He),o=d.length,c>=o)return t;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=He,i=r-He+a}if(n!==void 0&&(o=Ui(10,a-i-1),s=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ui(10,a-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=ct(t),d.length=1,e=e-o-1,d[0]=Ui(10,(He-e%He)%He),t.e=cs(-e/He)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=Ui(10,He-r),d[c]=i>0?(u/Ui(10,a-i)%Ui(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==bt&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=bt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(Ye&&(t.e>Rd||t.e<-Rd))throw Error(I0+ct(t));return t}function QP(t,e){var n,r,i,o,a,s,l,u,c,d,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ye?De(e,g):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(g/He),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=bt-1;--l[o],l[i]+=bt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ye?De(e,g):e):new h(0)}function ho(t,e,n){var r,i=ct(t),o=or(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Yr(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Yr(-i-1)+o,n&&(r=n-a)>0&&(o+=Yr(r))):i>=a?(o+=Yr(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Yr(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Yr(r))),t.s<0?"-"+o:o}function N_(t,e){if(t.length>e)return t.length=e,!0}function ZP(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ro+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return I_(a,o.toString())}else if(typeof o!="string")throw Error(ro+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,b9.test(o))I_(a,o);else throw Error(ro+o)}if(i.prototype=ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ZP,i.config=i.set=x9,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function x9(t){if(!t||typeof t!="object")throw Error($n+"Object expected");var e,n,r,i=["precision",1,us,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(cs(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ro+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ro+n+": "+r);return this}var N0=ZP(w9);cn=new N0(1);const Me=N0;function _9(t){return A9(t)||T9(t)||E9(t)||S9()}function S9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E9(t,e){if(t){if(typeof t=="string")return Ag(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ag(t,e)}}function T9(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function A9(t){if(Array.isArray(t))return Ag(t)}function Ag(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var C9=function(e){return e},eI={},tI=function(e){return e===eI},O_=function(e){return function n(){return arguments.length===0||arguments.length===1&&tI(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},k9=function t(e,n){return e===1?n:O_(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==eI}).length;return a>=e?n.apply(void 0,i):t(e-a,O_(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return tI(d)?l.shift():d});return n.apply(void 0,_9(c).concat(l))}))})},hh=function(e){return k9(e.length,e)},Cg=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},P9=hh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),I9=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return C9;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},kg=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},nI=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function N9(t){var e;return t===0?e=1:e=Math.floor(new Me(t).abs().log(10).toNumber())+1,e}function O9(t,e,n){for(var r=new Me(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var R9=hh(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),M9=hh(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),$9=hh(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const ph={rangeStep:O9,getDigitCount:N9,interpolateNumber:R9,uninterpolateNumber:M9,uninterpolateTruncation:$9};function Pg(t){return L9(t)||j9(t)||rI(t)||D9()}function D9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j9(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function L9(t){if(Array.isArray(t))return Ig(t)}function Gl(t,e){return F9(t)||B9(t,e)||rI(t,e)||U9()}function U9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rI(t,e){if(t){if(typeof t=="string")return Ig(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ig(t,e)}}function Ig(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B9(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function F9(t){if(Array.isArray(t))return t}function iI(t){var e=Gl(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function oI(t,e,n){if(t.lte(0))return new Me(0);var r=ph.getDigitCount(t.toNumber()),i=new Me(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Me(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Me(Math.ceil(l))}function V9(t,e,n){var r=1,i=new Me(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Me(10).pow(ph.getDigitCount(t)-1),i=new Me(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Me(Math.floor(t)))}else t===0?i=new Me(Math.floor((e-1)/2)):n||(i=new Me(Math.floor(t)));var a=Math.floor((e-1)/2),s=I9(P9(function(l){return i.add(new Me(l-a).mul(r)).toNumber()}),Cg);return s(0,e)}function aI(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Me(0),tickMin:new Me(0),tickMax:new Me(0)};var o=oI(new Me(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Me(0):(a=new Me(t).add(e).div(2),a=a.sub(new Me(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Me(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?aI(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Me(s).mul(o)),tickMax:a.add(new Me(l).mul(o))})}function z9(t){var e=Gl(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=iI([n,r]),l=Gl(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(Pg(Cg(0,i-1).map(function(){return 1/0}))):[].concat(Pg(Cg(0,i-1).map(function(){return-1/0})),[c]);return n>r?kg(d):d}if(u===c)return V9(u,i,o);var h=aI(u,c,a,o),g=h.step,v=h.tickMin,y=h.tickMax,x=ph.rangeStep(v,y.add(new Me(.1).mul(g)),g);return n>r?kg(x):x}function q9(t,e){var n=Gl(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=iI([r,i]),s=Gl(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=oI(new Me(u).sub(l).div(c-1),o,0),h=[].concat(Pg(ph.rangeStep(new Me(l),new Me(u).sub(new Me(.99).mul(d)),d)),[u]);return r>i?kg(h):h}var G9=nI(z9),H9=nI(q9),W9="Invariant failed";function po(t,e){throw new Error(W9)}var K9=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Md.apply(this,arguments)}function J9(t,e){return Z9(t)||Q9(t,e)||X9(t,e)||Y9()}function Y9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X9(t,e){if(t){if(typeof t=="string")return R_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R_(t,e)}}function R_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Z9(t){if(Array.isArray(t))return t}function eW(t,e){if(t==null)return{};var n=tW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uI(r.key),r)}}function iW(t,e,n){return e&&rW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oW(t,e,n){return e=$d(e),aW(t,sI()?Reflect.construct(e,n||[],$d(t).constructor):e.apply(t,n))}function aW(t,e){if(e&&(Oa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sW(t)}function sW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sI=function(){return!!t})()}function $d(t){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$d(t)}function lW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ng(t,e)}function Ng(t,e){return Ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ng(t,e)}function lI(t,e,n){return e=uI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uI(t){var e=uW(t,"string");return Oa(e)=="symbol"?e:e+""}function uW(t,e){if(Oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pu=function(t){function e(){return nW(this,e),oW(this,e,arguments)}return lW(e,t),iW(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=eW(r,K9),g=ce(h,!1);this.props.direction==="x"&&c.type!=="number"&&po();var v=l.map(function(y){var x=u(y,s),w=x.x,b=x.y,_=x.value,T=x.errorVal;if(!T)return null;var S=[],E,A;if(Array.isArray(T)){var C=J9(T,2);E=C[0],A=C[1]}else E=A=T;if(o==="vertical"){var k=c.scale,N=b+i,P=N+a,R=N-a,j=k(_-E),F=k(_+A);S.push({x1:F,y1:P,x2:F,y2:R}),S.push({x1:j,y1:N,x2:F,y2:N}),S.push({x1:j,y1:P,x2:j,y2:R})}else if(o==="horizontal"){var B=d.scale,M=w+i,L=M-a,$=M+a,U=B(_-E),H=B(_+A);S.push({x1:L,y1:H,x2:$,y2:H}),S.push({x1:M,y1:U,x2:M,y2:H}),S.push({x1:L,y1:U,x2:$,y2:U})}return I.createElement(Te,Md({className:"recharts-errorBar",key:"bar-".concat(S.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},g),S.map(function(V){return I.createElement("line",Md({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return I.createElement(Te,{className:"recharts-errorBars"},v)}}])}(I.Component);lI(Pu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lI(Pu,"displayName","ErrorBar");function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function M_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(n),!0).forEach(function(r){cW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cW(t,e,n){return e=dW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dW(t){var e=fW(t,"string");return Hl(e)=="symbol"?e:e+""}function fW(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cI=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=ln(n,hi);if(!a)return null;var s=hi.defaultProps,l=s!==void 0?Ii(Ii({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,g=d.props,v=g.sectors||g.data||[];return c.concat(v.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,g=h!==void 0?Ii(Ii({},h),d.props):{},v=g.dataKey,y=g.name,x=g.legendType,w=g.hide;return{inactive:w,dataKey:v,type:l.iconType||x||"square",color:O0(d),value:y||v,payload:g}}),Ii(Ii(Ii({},l),hi.getWithHeight(a,i)),{},{payload:u,item:a})};function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function $_(t){return gW(t)||mW(t)||pW(t)||hW()}function hW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pW(t,e){if(t){if(typeof t=="string")return Og(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Og(t,e)}}function mW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gW(t){if(Array.isArray(t))return Og(t)}function Og(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D_(Object(n),!0).forEach(function(r){fa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fa(t,e,n){return e=vW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vW(t){var e=yW(t,"string");return Wl(e)=="symbol"?e:e+""}function yW(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mt(t,e,n){return ve(t)||ve(e)?n:vt(e)?mn(t,e,n):ge(e)?e(t):n}function sl(t,e,n,r){var i=m9(t,function(s){return mt(s,e)});if(n==="number"){var o=i.filter(function(s){return Y(s)||parseFloat(s)});return o.length?[fh(o),dh(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!ve(s)}):i;return a.map(function(s){return vt(s)||s instanceof Date?s:""})}var wW=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Vt(d-c)!==Vt(h-d)){var v=[];if(Vt(h-d)===Vt(l[1]-l[0])){g=h;var y=d+l[1]-l[0];v[0]=Math.min(y,(y+c)/2),v[1]=Math.max(y,(y+c)/2)}else{g=c;var x=h+l[1]-l[0];v[0]=Math.min(d,(x+d)/2),v[1]=Math.max(d,(x+d)/2)}var w=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){a=i[u].index;break}}else{var b=Math.min(c,h),_=Math.max(c,h);if(e>(b+d)/2&&e<=(_+d)/2){a=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},O0=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?rt(rt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},bW=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,d=Object.keys(c),h=0,g=d.length;h<g;h++){var v=c[d[h]],y=v.items,x=v.cateAxisId,w=y.filter(function(A){return kr(A.type).indexOf("Bar")>=0});if(w&&w.length){var b=w[0].type.defaultProps,_=b!==void 0?rt(rt({},b),w[0].props):w[0].props,T=_.barSize,S=_[x];a[S]||(a[S]=[]);var E=ve(T)?n:T;a[S].push({item:w[0],stackList:w.slice(1),barSize:ve(E)?void 0:zt(E,r,0)})}}return a},xW=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=zt(n,i,0,!0),c,d=[];if(a[0].barSize===+a[0].barSize){var h=!1,g=i/l,v=a.reduce(function(T,S){return T+S.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&g>0&&(h=!0,g*=.9,v=l*g);var y=(i-v)/2>>0,x={offset:y-u,size:0};c=a.reduce(function(T,S){var E={item:S.item,position:{offset:x.offset+x.size+u,size:h?g:S.barSize}},A=[].concat($_(T),[E]);return x=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:x})}),A},d)}else{var w=zt(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var b=(i-2*w-(l-1)*u)/l;b>1&&(b>>=0);var _=s===+s?Math.min(b,s):b;c=a.reduce(function(T,S,E){var A=[].concat($_(T),[{item:S.item,position:{offset:w+(b+u)*E+(b-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:A[A.length-1].position})}),A},d)}return c},_W=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=cI({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,g=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&g!=="center"&&Y(e[g]))return rt(rt({},e),{},fa({},g,e[g]+(d||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&v!=="middle"&&Y(e[v]))return rt(rt({},e),{},fa({},v,e[v]+(h||0)))}return e},SW=function(e,n,r){return ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},dI=function(e,n,r,i,o){var a=n.props.children,s=gn(a,Pu).filter(function(u){return SW(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=mt(c,r);if(ve(d))return u;var h=Array.isArray(d)?[fh(d),dh(d)]:[d,d],g=l.reduce(function(v,y){var x=mt(c,y,0),w=h[0]-Math.abs(Array.isArray(x)?x[0]:x),b=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(w,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},EW=function(e,n,r,i,o){var a=n.map(function(s){return dI(e,s,r,o,i)}).filter(function(s){return!ve(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},fI=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&dI(e,l,u,i)||sl(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},hI=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},pI=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Ar=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Vt(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!_u(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},Mp=new WeakMap,sc=function(e,n){if(typeof n!="function")return e;Mp.has(e)||Mp.set(e,new WeakMap);var r=Mp.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},mI=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Ul(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Pd(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:al(),realScaleType:"point"}:o==="category"?{scale:Ul(),realScaleType:"band"}:{scale:Pd(),realScaleType:"linear"};if(uo(i)){var l="scale".concat(Yf(i));return{scale:(P_[l]||al)(),realScaleType:P_[l]?l:"point"}}return ge(i)?{scale:i}:{scale:al(),realScaleType:"point"}},j_=1e-4,gI=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-j_,a=Math.max(i[0],i[1])+j_,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},TW=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},AW=function(e,n){if(!n||n.length!==2||!Y(n[0])||!Y(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Y(e[0])||e[0]<r)&&(o[0]=r),(!Y(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},CW=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=_u(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},kW=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=_u(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},PW={sign:CW,expand:K3,none:Ea,silhouette:J3,wiggle:Y3,positive:kW},IW=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=PW[r],a=W3().keys(i).value(function(s,l){return+mt(s,l,0)}).order(rg).offset(o);return a(e)},NW=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(d,h){var g,v=(g=h.type)!==null&&g!==void 0&&g.defaultProps?rt(rt({},h.type.defaultProps),h.props):h.props,y=v.stackId,x=v.hide;if(x)return d;var w=v[r],b=d[w]||{hasStack:!1,stackGroups:{}};if(vt(y)){var _=b.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),b.hasStack=!0,b.stackGroups[y]=_}else b.stackGroups[is("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return rt(rt({},d),{},fa({},w,b))},l),c={};return Object.keys(u).reduce(function(d,h){var g=u[h];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,x){var w=g.stackGroups[x];return rt(rt({},y),{},fa({},x,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:IW(e,w.items,o)}))},v)}return rt(rt({},d),{},fa({},h,g))},c)},vI=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=G9(u,o,s);return e.domain([fh(c),dh(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=H9(d,o,s);return{niceTicks:h}}return null};function L_(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ve(i[e.dataKey])){var s=ld(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=mt(i,ve(a)?e.dataKey:a);return ve(l)?null:e.scale(l)}var U_=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=mt(a,n.dataKey,n.domain[s]);return ve(l)?null:n.scale(l)-o/2+i},OW=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},RW=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?rt(rt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(vt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},MW=function(e){return e.reduce(function(n,r){return[fh(r.concat([n[0]]).filter(Y)),dh(r.concat([n[1]]).filter(Y))]},[1/0,-1/0])},yI=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var d=MW(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},B_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,F_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rg=function(e,n,r){if(ge(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Y(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(B_.test(e[0])){var o=+B_.exec(e[0])[1];i[0]=n[0]-o}else ge(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Y(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(F_.test(e[1])){var a=+F_.exec(e[1])[1];i[1]=n[1]+a}else ge(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Dd=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=o0(n,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},V_=function(e,n,r){return!e||!e.length||ku(e,mn(r,"type.defaultProps.domain"))?n:e},wI=function(e,n){var r=e.type.defaultProps?rt(rt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return rt(rt({},ce(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:O0(e),value:mt(n,i),type:l,payload:n,chartType:u,hide:c})};function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function z_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z_(Object(n),!0).forEach(function(r){bI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bI(t,e,n){return e=$W(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $W(t){var e=DW(t,"string");return Kl(e)=="symbol"?e:e+""}function DW(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jW(t,e){return FW(t)||BW(t,e)||UW(t,e)||LW()}function LW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UW(t,e){if(t){if(typeof t=="string")return q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(t,e)}}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function FW(t){if(Array.isArray(t))return t}var jd=Math.PI/180,VW=function(e){return e*180/Math.PI},Ve=function(e,n,r,i){return{x:e+Math.cos(-jd*i)*r,y:n+Math.sin(-jd*i)*r}},xI=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},zW=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=zt(e.cx,a,a/2),d=zt(e.cy,s,s/2),h=xI(a,s,r),g=zt(e.innerRadius,h,0),v=zt(e.outerRadius,h,h*.8),y=Object.keys(n);return y.reduce(function(x,w){var b=n[w],_=b.domain,T=b.reversed,S;if(ve(b.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[g,v]),T&&(S=[S[1],S[0]]);else{S=b.range;var E=S,A=jW(E,2);l=A[0],u=A[1]}var C=mI(b,o),k=C.realScaleType,N=C.scale;N.domain(_).range(S),gI(N);var P=vI(N,wr(wr({},b),{},{realScaleType:k})),R=wr(wr(wr({},b),P),{},{range:S,radius:v,realScaleType:k,scale:N,cx:c,cy:d,innerRadius:g,outerRadius:v,startAngle:l,endAngle:u});return wr(wr({},x),{},bI({},w,R))},{})},qW=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},GW=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=qW({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:VW(u),angleInRadian:u}},HW=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},WW=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},G_=function(e,n){var r=e.x,i=e.y,o=GW({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=HW(n),d=c.startAngle,h=c.endAngle,g=s,v;if(d<=h){for(;g>h;)g-=360;for(;g<d;)g+=360;v=g>=d&&g<=h}else{for(;g>d;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=d}return v?wr(wr({},n),{},{radius:a,angle:WW(g,n)}):null},_I=function(e){return!O.isValidElement(e)&&!ge(e)&&typeof e!="boolean"?e.className:""};function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}var KW=["offset"];function JW(t){return ZW(t)||QW(t)||XW(t)||YW()}function YW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XW(t,e){if(t){if(typeof t=="string")return Mg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mg(t,e)}}function QW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZW(t){if(Array.isArray(t))return Mg(t)}function Mg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eK(t,e){if(t==null)return{};var n=tK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function H_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(n),!0).forEach(function(r){nK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nK(t,e,n){return e=rK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rK(t){var e=iK(t,"string");return Jl(e)=="symbol"?e:e+""}function iK(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(this,arguments)}var oK=function(e){var n=e.value,r=e.formatter,i=ve(e.children)?n:e.children;return ge(r)?r(i):i},aK=function(e,n){var r=Vt(n-e),i=Math.min(Math.abs(n-e),360);return r*i},sK=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,g=l.startAngle,v=l.endAngle,y=l.clockWise,x=(d+h)/2,w=aK(g,v),b=w>=0?1:-1,_,T;i==="insideStart"?(_=g+b*a,T=y):i==="insideEnd"?(_=v-b*a,T=!y):i==="end"&&(_=v+b*a,T=y),T=w<=0?T:!T;var S=Ve(u,c,x,_),E=Ve(u,c,x,_+(T?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(T?0:1,`,
    `).concat(E.x,",").concat(E.y),C=ve(e.id)?is("recharts-radial-line-"):e.id;return I.createElement("text",Yl({},r,{dominantBaseline:"central",className:we("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:C,d:A})),I.createElement("textPath",{xlinkHref:"#".concat(C)},n))},lK=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var g=Ve(a,s,u+r,h),v=g.x,y=g.y;return{x:v,y,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,w=Ve(a,s,x,h),b=w.x,_=w.y;return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},uK=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,d=c>=0?1:-1,h=d*i,g=d>0?"end":"start",v=d>0?"start":"end",y=u>=0?1:-1,x=y*i,w=y>0?"end":"start",b=y>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:g};return ft(ft({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return ft(ft({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:s-x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return ft(ft({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var E={x:s+u+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return ft(ft({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return o==="insideLeft"?ft({x:s+x,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},A):o==="insideRight"?ft({x:s+u-x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},A):o==="insideTop"?ft({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},A):o==="insideBottom"?ft({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:g},A):o==="insideTopLeft"?ft({x:s+x,y:l+h,textAnchor:b,verticalAnchor:v},A):o==="insideTopRight"?ft({x:s+u-x,y:l+h,textAnchor:w,verticalAnchor:v},A):o==="insideBottomLeft"?ft({x:s+x,y:l+c-h,textAnchor:b,verticalAnchor:g},A):o==="insideBottomRight"?ft({x:s+u-x,y:l+c-h,textAnchor:w,verticalAnchor:g},A):es(o)&&(Y(o.x)||Ji(o.x))&&(Y(o.y)||Ji(o.y))?ft({x:s+zt(o.x,u),y:l+zt(o.y,c),textAnchor:"end",verticalAnchor:"end"},A):ft({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},cK=function(e){return"cx"in e&&Y(e.cx)};function _t(t){var e=t.offset,n=e===void 0?5:e,r=eK(t,KW),i=ft({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||ve(s)&&ve(l)&&!O.isValidElement(u)&&!ge(u))return null;if(O.isValidElement(u))return O.cloneElement(u,i);var g;if(ge(u)){if(g=O.createElement(u,i),O.isValidElement(g))return g}else g=oK(i);var v=cK(o),y=ce(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return sK(i,g,y);var x=v?lK(i):uK(i);return I.createElement(fo,Yl({className:we("recharts-label",d)},y,x,{breakAll:h}),g)}_t.displayName="Label";var SI=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,g=e.top,v=e.left,y=e.width,x=e.height,w=e.clockWise,b=e.labelViewBox;if(b)return b;if(Y(y)&&Y(x)){if(Y(d)&&Y(h))return{x:d,y:h,width:y,height:x};if(Y(g)&&Y(v))return{x:g,y:v,width:y,height:x}}return Y(d)&&Y(h)?{x:d,y:h,width:0,height:0}:Y(n)&&Y(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},dK=function(e,n){return e?e===!0?I.createElement(_t,{key:"label-implicit",viewBox:n}):vt(e)?I.createElement(_t,{key:"label-implicit",viewBox:n,value:e}):O.isValidElement(e)?e.type===_t?O.cloneElement(e,{key:"label-implicit",viewBox:n}):I.createElement(_t,{key:"label-implicit",content:e,viewBox:n}):ge(e)?I.createElement(_t,{key:"label-implicit",content:e,viewBox:n}):es(e)?I.createElement(_t,Yl({viewBox:n},e,{key:"label-implicit"})):null:null},fK=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=SI(e),a=gn(i,_t).map(function(l,u){return O.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=dK(e.label,n||o);return[s].concat(JW(a))};_t.parseViewBox=SI;_t.renderCallByParent=fK;function hK(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var pK=hK;const mK=Ne(pK);function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}var gK=["valueAccessor"],vK=["data","dataKey","clockWise","id","textBreakAll"];function yK(t){return _K(t)||xK(t)||bK(t)||wK()}function wK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bK(t,e){if(t){if(typeof t=="string")return $g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $g(t,e)}}function xK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _K(t){if(Array.isArray(t))return $g(t)}function $g(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ld.apply(this,arguments)}function W_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W_(Object(n),!0).forEach(function(r){SK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SK(t,e,n){return e=EK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EK(t){var e=TK(t,"string");return Xl(e)=="symbol"?e:e+""}function TK(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J_(t,e){if(t==null)return{};var n=AK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var CK=function(e){return Array.isArray(e.value)?mK(e.value):e.value};function Ir(t){var e=t.valueAccessor,n=e===void 0?CK:e,r=J_(t,gK),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=J_(r,vK);return!i||!i.length?null:I.createElement(Te,{className:"recharts-label-list"},i.map(function(c,d){var h=ve(o)?n(c,d):mt(c&&c.payload,o),g=ve(s)?{}:{id:"".concat(s,"-").concat(d)};return I.createElement(_t,Ld({},ce(c,!0),u,g,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:_t.parseViewBox(ve(a)?c:K_(K_({},c),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Ir.displayName="LabelList";function kK(t,e){return t?t===!0?I.createElement(Ir,{key:"labelList-implicit",data:e}):I.isValidElement(t)||ge(t)?I.createElement(Ir,{key:"labelList-implicit",data:e,content:t}):es(t)?I.createElement(Ir,Ld({data:e},t,{key:"labelList-implicit"})):null:null}function PK(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=gn(r,Ir).map(function(a,s){return O.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=kK(t.label,e);return[o].concat(yK(i))}Ir.renderCallByParent=PK;function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(this,arguments)}function Y_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y_(Object(n),!0).forEach(function(r){IK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IK(t,e,n){return e=NK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NK(t){var e=OK(t,"string");return Ql(e)=="symbol"?e:e+""}function OK(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RK=function(e,n){var r=Vt(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},lc=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/jd,h=u?o:o+a*d,g=Ve(n,r,c,h),v=Ve(n,r,i,h),y=u?o-a*d:o,x=Ve(n,r,c*Math.cos(d*jd),y);return{center:g,circleTangency:v,lineTangency:x,theta:d}},EI=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=RK(a,s),u=a+l,c=Ve(n,r,o,a),d=Ve(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=Ve(n,r,i,a),v=Ve(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},MK=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Vt(c-u),h=lc({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),g=h.circleTangency,v=h.lineTangency,y=h.theta,x=lc({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),w=x.circleTangency,b=x.lineTangency,_=x.theta,T=l?Math.abs(u-c):Math.abs(u-c)-y-_;if(T<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):EI({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var E=lc({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=E.circleTangency,C=E.lineTangency,k=E.theta,N=lc({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),P=N.circleTangency,R=N.lineTangency,j=N.theta,F=l?Math.abs(u-c):Math.abs(u-c)-k-j;if(F<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},$K={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TI=function(e){var n=X_(X_({},$K),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(a<o||c===d)return null;var g=we("recharts-sector",h),v=a-o,y=zt(s,v,0,!0),x;return y>0&&Math.abs(c-d)<360?x=MK({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):x=EI({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:d}),I.createElement("path",Dg({},ce(n,!0),{className:g,d:x,role:"img"}))};function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(this,arguments)}function Q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q_(Object(n),!0).forEach(function(r){DK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DK(t,e,n){return e=jK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jK(t){var e=LK(t,"string");return Zl(e)=="symbol"?e:e+""}function LK(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e1={curveBasisClosed:D3,curveBasisOpen:j3,curveBasis:$3,curveBumpX:x3,curveBumpY:_3,curveLinearClosed:L3,curveLinear:Qf,curveMonotoneX:U3,curveMonotoneY:B3,curveNatural:F3,curveStep:V3,curveStepAfter:q3,curveStepBefore:z3},uc=function(e){return e.x===+e.x&&e.y===+e.y},Ds=function(e){return e.x},js=function(e){return e.y},UK=function(e,n){if(ge(e))return e;var r="curve".concat(Yf(e));return(r==="curveMonotone"||r==="curveBump")&&n?e1["".concat(r).concat(n==="vertical"?"Y":"X")]:e1[r]||Qf},BK=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=UK(r,s),d=u?o.filter(function(y){return uc(y)}):o,h;if(Array.isArray(a)){var g=u?a.filter(function(y){return uc(y)}):a,v=d.map(function(y,x){return Z_(Z_({},y),{},{base:g[x]})});return s==="vertical"?h=Zu().y(js).x1(Ds).x0(function(y){return y.base.x}):h=Zu().x(Ds).y1(js).y0(function(y){return y.base.y}),h.defined(uc).curve(c),h(v)}return s==="vertical"&&Y(a)?h=Zu().y(js).x1(Ds).x0(a):Y(a)?h=Zu().x(Ds).y1(js).y0(a):h=wk().x(Ds).y(js),h.defined(uc).curve(c),h(d)},Ud=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?BK(e):i;return O.createElement("path",jg({},ce(e,!1),ud(e),{className:we("recharts-curve",n),d:a,ref:o}))},AI={exports:{}},FK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",VK=FK,zK=VK;function CI(){}function kI(){}kI.resetWarningCache=CI;var qK=function(){function t(r,i,o,a,s,l){if(l!==zK){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kI,resetWarningCache:CI};return n.PropTypes=n,n};AI.exports=qK();var GK=AI.exports;const Pe=Ne(GK);var HK=Object.getOwnPropertyNames,WK=Object.getOwnPropertySymbols,KK=Object.prototype.hasOwnProperty;function t1(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function cc(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function JK(t){return t!=null?t[Symbol.toStringTag]:void 0}function n1(t){return HK(t).concat(WK(t))}var YK=Object.hasOwn||function(t,e){return KK.call(t,e)};function _o(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var XK="__v",QK="__o",ZK="_owner",r1=Object.getOwnPropertyDescriptor,i1=Object.keys;function eJ(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function tJ(t,e){return _o(t.getTime(),e.getTime())}function nJ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function rJ(t,e){return t===e}function o1(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),c=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var h=a.value,g=s.value;if(n.equals(h[0],g[0],l,d,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}var iJ=_o;function oJ(t,e,n){var r=i1(t),i=r.length;if(i1(e).length!==i)return!1;for(;i-- >0;)if(!PI(t,e,n,r[i]))return!1;return!0}function Ls(t,e,n){var r=n1(t),i=r.length;if(n1(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!PI(t,e,n,o)||(a=r1(t,o),s=r1(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function aJ(t,e){return _o(t.valueOf(),e.valueOf())}function sJ(t,e){return t.source===e.source&&t.flags===e.flags}function a1(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function lJ(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function uJ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function PI(t,e,n,r){return(r===ZK||r===QK||r===XK)&&(t.$$typeof||e.$$typeof)?!0:YK(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var cJ="[object Arguments]",dJ="[object Boolean]",fJ="[object Date]",hJ="[object Error]",pJ="[object Map]",mJ="[object Number]",gJ="[object Object]",vJ="[object RegExp]",yJ="[object Set]",wJ="[object String]",bJ="[object URL]",xJ=Array.isArray,s1=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,l1=Object.assign,_J=Object.prototype.toString.call.bind(Object.prototype.toString);function SJ(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual,g=t.unknownTagComparators;return function(y,x,w){if(y===x)return!0;if(y==null||x==null)return!1;var b=typeof y;if(b!==typeof x)return!1;if(b!=="object")return b==="number"?a(y,x,w):b==="function"?i(y,x,w):!1;var _=y.constructor;if(_!==x.constructor)return!1;if(_===Object)return s(y,x,w);if(xJ(y))return e(y,x,w);if(s1!=null&&s1(y))return d(y,x,w);if(_===Date)return n(y,x,w);if(_===RegExp)return u(y,x,w);if(_===Map)return o(y,x,w);if(_===Set)return c(y,x,w);var T=_J(y);if(T===fJ)return n(y,x,w);if(T===vJ)return u(y,x,w);if(T===pJ)return o(y,x,w);if(T===yJ)return c(y,x,w);if(T===gJ)return typeof y.then!="function"&&typeof x.then!="function"&&s(y,x,w);if(T===bJ)return h(y,x,w);if(T===hJ)return r(y,x,w);if(T===cJ)return s(y,x,w);if(T===dJ||T===mJ||T===wJ)return l(y,x,w);if(g){var S=g[T];if(!S){var E=JK(y);E&&(S=g[E])}if(S)return S(y,x,w)}return!1}}function EJ(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Ls:eJ,areDatesEqual:tJ,areErrorsEqual:nJ,areFunctionsEqual:rJ,areMapsEqual:r?t1(o1,Ls):o1,areNumbersEqual:iJ,areObjectsEqual:r?Ls:oJ,arePrimitiveWrappersEqual:aJ,areRegExpsEqual:sJ,areSetsEqual:r?t1(a1,Ls):a1,areTypedArraysEqual:r?Ls:lJ,areUrlsEqual:uJ,unknownTagComparators:void 0};if(n&&(i=l1({},i,n(i))),e){var o=cc(i.areArraysEqual),a=cc(i.areMapsEqual),s=cc(i.areObjectsEqual),l=cc(i.areSetsEqual);i=l1({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function TJ(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function AJ(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),d=c.cache,h=d===void 0?e?new WeakMap:void 0:d,g=c.meta;return n(l,u,{cache:h,equals:i,meta:g,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var CJ=Si();Si({strict:!0});Si({circular:!0});Si({circular:!0,strict:!0});Si({createInternalComparator:function(){return _o}});Si({strict:!0,createInternalComparator:function(){return _o}});Si({circular:!0,createInternalComparator:function(){return _o}});Si({circular:!0,createInternalComparator:function(){return _o},strict:!0});function Si(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=EJ(t),l=SJ(s),u=r?r(l):TJ(l);return AJ({circular:n,comparator:l,createState:i,equals:u,strict:a})}function kJ(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function u1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):kJ(i)};requestAnimationFrame(r)}function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function PJ(t){return RJ(t)||OJ(t)||NJ(t)||IJ()}function IJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NJ(t,e){if(t){if(typeof t=="string")return c1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c1(t,e)}}function c1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RJ(t){if(Array.isArray(t))return t}function MJ(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=PJ(a),l=s[0],u=s.slice(1);if(typeof l=="number"){u1(i.bind(null,u),l);return}i(l),u1(i.bind(null,u));return}Lg(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function d1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d1(Object(n),!0).forEach(function(r){II(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function II(t,e,n){return e=$J(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $J(t){var e=DJ(t,"string");return eu(e)==="symbol"?e:String(e)}function DJ(t,e){if(eu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jJ=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},LJ=function(e){return e},UJ=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},ll=function(e,n){return Object.keys(n).reduce(function(r,i){return f1(f1({},r),{},II({},i,e(i,n[i])))},{})},h1=function(e,n,r){return e.map(function(i){return"".concat(UJ(i)," ").concat(n,"ms ").concat(r)}).join(",")};function BJ(t,e){return zJ(t)||VJ(t,e)||NI(t,e)||FJ()}function FJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function zJ(t){if(Array.isArray(t))return t}function qJ(t){return WJ(t)||HJ(t)||NI(t)||GJ()}function GJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NI(t,e){if(t){if(typeof t=="string")return Ug(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ug(t,e)}}function HJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WJ(t){if(Array.isArray(t))return Ug(t)}function Ug(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bd=1e-4,OI=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},RI=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},p1=function(e,n){return function(r){var i=OI(e,n);return RI(i,r)}},KJ=function(e,n){return function(r){var i=OI(e,n),o=[].concat(qJ(i.map(function(a,s){return a*s}).slice(1)),[0]);return RI(o,r)}},m1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=BJ(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var d=p1(i,a),h=p1(o,s),g=KJ(i,a),v=function(w){return w>1?1:w<0?0:w},y=function(w){for(var b=w>1?1:w,_=b,T=0;T<8;++T){var S=d(_)-b,E=g(_);if(Math.abs(S-b)<Bd||E<Bd)return h(_);_=v(_-S/E)}return h(_)};return y.isStepper=!1,y},JJ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,d,h){var g=-(c-d)*r,v=h*o,y=h+(g-v)*s/1e3,x=h*s/1e3+c;return Math.abs(x-d)<Bd&&Math.abs(y)<Bd?[d,0]:[x,y]};return l.isStepper=!0,l.dt=s,l},YJ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return m1(i);case"spring":return JJ();default:if(i.split("(")[0]==="cubic-bezier")return m1(i)}return typeof i=="function"?i:null};function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function g1(t){return ZJ(t)||QJ(t)||MI(t)||XJ()}function XJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZJ(t){if(Array.isArray(t))return Fg(t)}function v1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v1(Object(n),!0).forEach(function(r){Bg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bg(t,e,n){return e=eY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eY(t){var e=tY(t,"string");return tu(e)==="symbol"?e:String(e)}function tY(t,e){if(tu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nY(t,e){return oY(t)||iY(t,e)||MI(t,e)||rY()}function rY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MI(t,e){if(t){if(typeof t=="string")return Fg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fg(t,e)}}function Fg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function oY(t){if(Array.isArray(t))return t}var Fd=function(e,n,r){return e+(n-e)*r},Vg=function(e){var n=e.from,r=e.to;return n!==r},aY=function t(e,n,r){var i=ll(function(o,a){if(Vg(a)){var s=e(a.from,a.to,a.velocity),l=nY(s,2),u=l[0],c=l[1];return kt(kt({},a),{},{from:u,velocity:c})}return a},n);return r<1?ll(function(o,a){return Vg(a)?kt(kt({},a),{},{velocity:Fd(a.velocity,i[o].velocity,r),from:Fd(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const sY=function(t,e,n,r,i){var o=jJ(t,e),a=o.reduce(function(x,w){return kt(kt({},x),{},Bg({},w,[t[w],e[w]]))},{}),s=o.reduce(function(x,w){return kt(kt({},x),{},Bg({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return ll(function(w,b){return b.from},s)},g=function(){return!Object.values(s).filter(Vg).length},v=function(w){u||(u=w);var b=w-u,_=b/n.dt;s=aY(n,s,_),i(kt(kt(kt({},t),e),h())),u=w,g()||(l=requestAnimationFrame(d))},y=function(w){c||(c=w);var b=(w-c)/r,_=ll(function(S,E){return Fd.apply(void 0,g1(E).concat([n(b)]))},a);if(i(kt(kt(kt({},t),e),_)),b<1)l=requestAnimationFrame(d);else{var T=ll(function(S,E){return Fd.apply(void 0,g1(E).concat([n(1)]))},a);i(kt(kt(kt({},t),e),T))}};return d=n.isStepper?v:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Ra(t){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}var lY=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function uY(t,e){if(t==null)return{};var n=cY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $p(t){return pY(t)||hY(t)||fY(t)||dY()}function dY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fY(t,e){if(t){if(typeof t=="string")return zg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zg(t,e)}}function hY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pY(t){if(Array.isArray(t))return zg(t)}function zg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y1(Object(n),!0).forEach(function(r){Ks(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ks(t,e,n){return e=$I(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$I(r.key),r)}}function vY(t,e,n){return e&&gY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $I(t){var e=yY(t,"string");return Ra(e)==="symbol"?e:String(e)}function yY(t,e){if(Ra(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ra(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qg(t,e)}function qg(t,e){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qg(t,e)}function bY(t){var e=xY();return function(){var r=Vd(t),i;if(e){var o=Vd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Gg(this,i)}}function Gg(t,e){if(e&&(Ra(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hg(t)}function Hg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vd(t){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vd(t)}var dr=function(t){wY(n,t);var e=bY(n);function n(r,i){var o;mY(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,d=a.steps,h=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Hg(o)),o.changeStyle=o.changeStyle.bind(Hg(o)),!s||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),Gg(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Gg(o);o.state={style:l?Ks({},l,u):u}}else o.state={style:{}};return o}return vY(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(s){if(!a){var g={style:l?Ks({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(g);return}if(!(CJ(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?d:i.to;if(this.state&&h){var x={style:l?Ks({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(x)}this.runAnimation(Fn(Fn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,g=sY(a,s,YJ(u),l,this.changeStyle),v=function(){o.stopJSAnimation=g()};this.manager.start([h,c,v,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,d=u.duration,h=d===void 0?0:d,g=function(y,x,w){if(w===0)return y;var b=x.duration,_=x.easing,T=_===void 0?"ease":_,S=x.style,E=x.properties,A=x.onAnimationEnd,C=w>0?a[w-1]:x,k=E||Object.keys(S);if(typeof T=="function"||T==="spring")return[].concat($p(y),[o.runJSAnimation.bind(o,{from:C.style,to:S,duration:b,easing:T}),b]);var N=h1(k,b,T),P=Fn(Fn(Fn({},C.style),S),{},{transition:N});return[].concat($p(y),[P,b,A]).filter(LJ)};return this.manager.start([l].concat($p(a.reduce(g,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=MJ());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?Ks({},s,l):l,x=h1(Object.keys(y),a,u);v.start([c,o,Fn(Fn({},y),{},{transition:x}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=uY(i,lY),u=O.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var d=function(g){var v=g.props,y=v.style,x=y===void 0?{}:y,w=v.className,b=O.cloneElement(g,Fn(Fn({},l),{},{style:Fn(Fn({},x),c),className:w}));return b};return u===1?d(O.Children.only(o)):I.createElement("div",null,O.Children.map(o,function(h){return d(h)}))}}]),n}(O.PureComponent);dr.displayName="Animate";dr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};dr.propTypes={from:Pe.oneOfType([Pe.object,Pe.string]),to:Pe.oneOfType([Pe.object,Pe.string]),attributeName:Pe.string,duration:Pe.number,begin:Pe.number,easing:Pe.oneOfType([Pe.string,Pe.func]),steps:Pe.arrayOf(Pe.shape({duration:Pe.number.isRequired,style:Pe.object.isRequired,easing:Pe.oneOfType([Pe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Pe.func]),properties:Pe.arrayOf("string"),onAnimationEnd:Pe.func})),children:Pe.oneOfType([Pe.node,Pe.func]),isActive:Pe.bool,canBegin:Pe.bool,onAnimationEnd:Pe.func,shouldReAnimate:Pe.bool,onAnimationStart:Pe.func,onAnimationReStart:Pe.func};function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function zd(){return zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zd.apply(this,arguments)}function _Y(t,e){return AY(t)||TY(t,e)||EY(t,e)||SY()}function SY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EY(t,e){if(t){if(typeof t=="string")return w1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w1(t,e)}}function w1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function AY(t){if(Array.isArray(t))return t}function b1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b1(Object(n),!0).forEach(function(r){CY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CY(t,e,n){return e=kY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kY(t){var e=PY(t,"string");return nu(e)=="symbol"?e:e+""}function PY(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _1=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*d[1])),c+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*d[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);c="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},IY=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),d=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},NY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},R0=function(e){var n=x1(x1({},NY),e),r=O.useRef(),i=O.useState(-1),o=_Y(i,2),a=o[0],s=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,g=n.className,v=n.animationEasing,y=n.animationDuration,x=n.animationBegin,w=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var _=we("recharts-rectangle",g);return b?I.createElement(dr,{canBegin:a>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:y,animationEasing:v,isActive:b},function(T){var S=T.width,E=T.height,A=T.x,C=T.y;return I.createElement(dr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,isActive:w,easing:v},I.createElement("path",zd({},ce(n,!0),{className:_,d:_1(A,C,S,E,h),ref:r})))}):I.createElement("path",zd({},ce(n,!0),{className:_,d:_1(l,u,c,d,h)}))},OY=["points","className","baseLinePoints","connectNulls"];function Qo(){return Qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qo.apply(this,arguments)}function RY(t,e){if(t==null)return{};var n=MY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function S1(t){return LY(t)||jY(t)||DY(t)||$Y()}function $Y(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DY(t,e){if(t){if(typeof t=="string")return Wg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wg(t,e)}}function jY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LY(t){if(Array.isArray(t))return Wg(t)}function Wg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var E1=function(e){return e&&e.x===+e.x&&e.y===+e.y},UY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){E1(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),E1(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ul=function(e,n){var r=UY(e);n&&(r=[r.reduce(function(o,a){return[].concat(S1(o),S1(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},BY=function(e,n,r){var i=ul(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(ul(n.reverse(),r).slice(1))},FY=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=RY(e,OY);if(!n||!n.length)return null;var s=we("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=BY(n,i,o);return I.createElement("g",{className:s},I.createElement("path",Qo({},ce(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?I.createElement("path",Qo({},ce(a,!0),{fill:"none",d:ul(n,o)})):null,l?I.createElement("path",Qo({},ce(a,!0),{fill:"none",d:ul(i,o)})):null)}var c=ul(n,o);return I.createElement("path",Qo({},ce(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function Kg(){return Kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kg.apply(this,arguments)}var mh=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=we("recharts-dot",o);return n===+n&&r===+r&&i===+i?O.createElement("circle",Kg({},ce(e,!1),ud(e),{className:a,cx:n,cy:r,r:i})):null};function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}var VY=["x","y","top","left","width","height","className"];function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(this,arguments)}function T1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T1(Object(n),!0).forEach(function(r){qY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qY(t,e,n){return e=GY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GY(t){var e=HY(t,"string");return ru(e)=="symbol"?e:e+""}function HY(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WY(t,e){if(t==null)return{};var n=KY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var JY=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},YY=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,g=h===void 0?0:h,v=e.className,y=WY(e,VY),x=zY({x:r,y:o,top:s,left:u,width:d,height:g},y);return!Y(r)||!Y(o)||!Y(d)||!Y(g)||!Y(s)||!Y(u)?null:I.createElement("path",Jg({},ce(x,!0),{className:we("recharts-cross",v),d:JY(r,o,d,g,s,u)}))},XY=ch,QY=WP,ZY=pr;function eX(t,e){return t&&t.length?XY(t,ZY(e),QY):void 0}var tX=eX;const nX=Ne(tX);var rX=ch,iX=pr,oX=KP;function aX(t,e){return t&&t.length?rX(t,iX(e),oX):void 0}var sX=aX;const lX=Ne(sX);var uX=["cx","cy","angle","ticks","axisLine"],cX=["ticks","tick","angle","tickFormatter","stroke"];function Ma(t){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(t)}function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}function A1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A1(Object(n),!0).forEach(function(r){gh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C1(t,e){if(t==null)return{};var n=dX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jI(r.key),r)}}function hX(t,e,n){return e&&k1(t.prototype,e),n&&k1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pX(t,e,n){return e=qd(e),mX(t,DI()?Reflect.construct(e,n||[],qd(t).constructor):e.apply(t,n))}function mX(t,e){if(e&&(Ma(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gX(t)}function gX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DI=function(){return!!t})()}function qd(t){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qd(t)}function vX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yg(t,e)}function Yg(t,e){return Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yg(t,e)}function gh(t,e,n){return e=jI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jI(t){var e=yX(t,"string");return Ma(e)=="symbol"?e:e+""}function yX(t,e){if(Ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vh=function(t){function e(){return fX(this,e),pX(this,e,arguments)}return vX(e,t),hX(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Ve(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=nX(s,function(c){return c.coordinate||0}),u=lX(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=C1(r,uX),c=s.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),d=Ve(i,o,c[0],a),h=Ve(i,o,c[1],a),g=Ni(Ni(Ni({},ce(u,!1)),{},{fill:"none"},ce(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return I.createElement("line",cl({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=C1(i,cX),d=this.getTickTextAnchor(),h=ce(c,!1),g=ce(a,!1),v=o.map(function(y,x){var w=r.getTickValueCoord(y),b=Ni(Ni(Ni(Ni({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},g),{},{index:x},w),{},{payload:y});return I.createElement(Te,cl({className:we("recharts-polar-radius-axis-tick",_I(a)),key:"tick-".concat(y.coordinate)},co(r.props,y,x)),e.renderTickItem(a,b,l?l(y.value,x):y.value))});return I.createElement(Te,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:I.createElement(Te,{className:we("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),_t.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):ge(r)?a=r(i):a=I.createElement(fo,cl({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(O.PureComponent);gh(vh,"displayName","PolarRadiusAxis");gh(vh,"axisType","radiusAxis");gh(vh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}function Fi(){return Fi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fi.apply(this,arguments)}function P1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P1(Object(n),!0).forEach(function(r){yh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UI(r.key),r)}}function bX(t,e,n){return e&&I1(t.prototype,e),n&&I1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xX(t,e,n){return e=Gd(e),_X(t,LI()?Reflect.construct(e,n||[],Gd(t).constructor):e.apply(t,n))}function _X(t,e){if(e&&($a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SX(t)}function SX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LI=function(){return!!t})()}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gd(t)}function EX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xg(t,e)}function Xg(t,e){return Xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xg(t,e)}function yh(t,e,n){return e=UI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UI(t){var e=TX(t,"string");return $a(e)=="symbol"?e:e+""}function TX(t,e){if($a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AX=Math.PI/180,N1=1e-5,wh=function(t){function e(){return wX(this,e),xX(this,e,arguments)}return EX(e,t),bX(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,d=Ve(o,a,s,r.coordinate),h=Ve(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*AX),a;return o>N1?a=i==="outer"?"start":"end":o<-N1?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=Oi(Oi({},ce(this.props,!1)),{},{fill:"none"},ce(s,!1));if(l==="circle")return I.createElement(mh,Fi({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,d=c.map(function(h){return Ve(i,o,a,h.coordinate)});return I.createElement(FY,Fi({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=ce(this.props,!1),d=ce(a,!1),h=Oi(Oi({},c),{},{fill:"none"},ce(s,!1)),g=o.map(function(v,y){var x=r.getTickLineCoord(v),w=r.getTickTextAnchor(v),b=Oi(Oi(Oi({textAnchor:w},c),{},{stroke:"none",fill:u},d),{},{index:y,payload:v,x:x.x2,y:x.y2});return I.createElement(Te,Fi({className:we("recharts-polar-angle-axis-tick",_I(a)),key:"tick-".concat(v.coordinate)},co(r.props,v,y)),s&&I.createElement("line",Fi({className:"recharts-polar-angle-axis-tick-line"},h,x)),a&&e.renderTickItem(a,b,l?l(v.value,y):v.value))});return I.createElement(Te,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:I.createElement(Te,{className:we("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):ge(r)?a=r(i):a=I.createElement(fo,Fi({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(O.PureComponent);yh(wh,"displayName","PolarAngleAxis");yh(wh,"axisType","angleAxis");yh(wh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var CX=zk,kX=CX(Object.getPrototypeOf,Object),PX=kX,IX=Br,NX=PX,OX=Fr,RX="[object Object]",MX=Function.prototype,$X=Object.prototype,BI=MX.toString,DX=$X.hasOwnProperty,jX=BI.call(Object);function LX(t){if(!OX(t)||IX(t)!=RX)return!1;var e=NX(t);if(e===null)return!0;var n=DX.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&BI.call(n)==jX}var UX=LX;const BX=Ne(UX);var FX=Br,VX=Fr,zX="[object Boolean]";function qX(t){return t===!0||t===!1||VX(t)&&FX(t)==zX}var GX=qX;const HX=Ne(GX);function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hd.apply(this,arguments)}function WX(t,e){return XX(t)||YX(t,e)||JX(t,e)||KX()}function KX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JX(t,e){if(t){if(typeof t=="string")return O1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O1(t,e)}}function O1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function XX(t){if(Array.isArray(t))return t}function R1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R1(Object(n),!0).forEach(function(r){QX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QX(t,e,n){return e=ZX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZX(t){var e=eQ(t,"string");return iu(e)=="symbol"?e:e+""}function eQ(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $1=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},tQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nQ=function(e){var n=M1(M1({},tQ),e),r=O.useRef(),i=O.useState(-1),o=WX(i,2),a=o[0],s=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,g=n.className,v=n.animationEasing,y=n.animationDuration,x=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var b=we("recharts-trapezoid",g);return w?I.createElement(dr,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:y,animationEasing:v,isActive:w},function(_){var T=_.upperWidth,S=_.lowerWidth,E=_.height,A=_.x,C=_.y;return I.createElement(dr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,easing:v},I.createElement("path",Hd({},ce(n,!0),{className:b,d:$1(A,C,T,S,E),ref:r})))}):I.createElement("g",null,I.createElement("path",Hd({},ce(n,!0),{className:b,d:$1(l,u,c,d,h)})))},rQ=["option","shapeType","propTransformer","activeClassName","isActive"];function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function iQ(t,e){if(t==null)return{};var n=oQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function D1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D1(Object(n),!0).forEach(function(r){aQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aQ(t,e,n){return e=sQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sQ(t){var e=lQ(t,"string");return ou(e)=="symbol"?e:e+""}function lQ(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uQ(t,e){return Wd(Wd({},e),t)}function cQ(t,e){return t==="symbols"}function j1(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return I.createElement(R0,n);case"trapezoid":return I.createElement(nQ,n);case"sector":return I.createElement(TI,n);case"symbols":if(cQ(e))return I.createElement(Xy,n);break;default:return null}}function dQ(t){return O.isValidElement(t)?t.props:t}function FI(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?uQ:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=iQ(t,rQ),u;if(O.isValidElement(e))u=O.cloneElement(e,Wd(Wd({},l),dQ(e)));else if(ge(e))u=e(l);else if(BX(e)&&!HX(e)){var c=i(e,l);u=I.createElement(j1,{shapeType:n,elementProps:c})}else{var d=l;u=I.createElement(j1,{shapeType:n,elementProps:d})}return s?I.createElement(Te,{className:a},u):u}function bh(t,e){return e!=null&&"trapezoids"in t.props}function xh(t,e){return e!=null&&"sectors"in t.props}function au(t,e){return e!=null&&"points"in t.props}function fQ(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function hQ(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function pQ(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function mQ(t,e){var n;return bh(t,e)?n=fQ:xh(t,e)?n=hQ:au(t,e)&&(n=pQ),n}function gQ(t,e){var n;return bh(t,e)?n="trapezoids":xh(t,e)?n="sectors":au(t,e)&&(n="points"),n}function vQ(t,e){if(bh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(xh(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return au(t,e)?e.payload:{}}function yQ(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=gQ(n,e),o=vQ(n,e),a=r.filter(function(l,u){var c=ku(o,l),d=n.props[i].filter(function(v){var y=mQ(n,e);return y(v,e)}),h=n.props[i].indexOf(d[d.length-1]),g=u===h;return c&&g}),s=r.indexOf(a[a.length-1]);return s}var Mc;function Da(t){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(t)}function Zo(){return Zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zo.apply(this,arguments)}function L1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L1(Object(n),!0).forEach(function(r){kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zI(r.key),r)}}function bQ(t,e,n){return e&&U1(t.prototype,e),n&&U1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xQ(t,e,n){return e=Kd(e),_Q(t,VI()?Reflect.construct(e,n||[],Kd(t).constructor):e.apply(t,n))}function _Q(t,e){if(e&&(Da(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SQ(t)}function SQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VI=function(){return!!t})()}function Kd(t){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kd(t)}function EQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qg(t,e)}function Qg(t,e){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qg(t,e)}function kn(t,e,n){return e=zI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zI(t){var e=TQ(t,"string");return Da(e)=="symbol"?e:e+""}function TQ(t,e){if(Da(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Da(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zr=function(t){function e(n){var r;return wQ(this,e),r=xQ(this,e,[n]),kn(r,"pieRef",null),kn(r,"sectorRefs",[]),kn(r,"id",is("recharts-pie-")),kn(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ge(i)&&i()}),kn(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ge(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return EQ(e,t),bQ(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=ce(this.props,!1),d=ce(a,!1),h=ce(s,!1),g=a&&a.offsetRadius||20,v=r.map(function(y,x){var w=(y.startAngle+y.endAngle)/2,b=Ve(y.cx,y.cy,y.outerRadius+g,w),_=Ue(Ue(Ue(Ue({},c),y),{},{stroke:"none"},d),{},{index:x,textAnchor:e.getTextAnchor(b.x,y.cx)},b),T=Ue(Ue(Ue(Ue({},c),y),{},{fill:"none",stroke:y.fill},h),{},{index:x,points:[Ve(y.cx,y.cy,y.outerRadius,w),b]}),S=l;return ve(l)&&ve(u)?S="value":ve(l)&&(S=u),I.createElement(Te,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(x)},s&&e.renderLabelLineItem(s,T,"line"),e.renderLabelItem(a,_,mt(y,S)))});return I.createElement(Te,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,g=d?a:h,v=Ue(Ue({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return I.createElement(Te,Zo({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},co(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),I.createElement(FI,Zo({option:g,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state,h=d.prevSectors,g=d.prevIsAnimationActive;return I.createElement(dr,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,x=[],w=o&&o[0],b=w.startAngle;return o.forEach(function(_,T){var S=h&&h[T],E=T>0?mn(_,"paddingAngle",0):0;if(S){var A=un(S.endAngle-S.startAngle,_.endAngle-_.startAngle),C=Ue(Ue({},_),{},{startAngle:b+E,endAngle:b+A(y)+E});x.push(C),b=C.endAngle}else{var k=_.endAngle,N=_.startAngle,P=un(0,k-N),R=P(y),j=Ue(Ue({},_),{},{startAngle:b+E,endAngle:b+R+E});x.push(j),b=j.endAngle}}),I.createElement(Te,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!ku(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,d=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!a||!a.length||!Y(u)||!Y(c)||!Y(d)||!Y(h))return null;var y=we("recharts-pie",s);return I.createElement(Te,{tabIndex:this.props.rootTabIndex,className:y,ref:function(w){r.pieRef=w}},this.renderSectors(),l&&this.renderLabels(a),_t.renderCallByParent(this.props,null,!1),(!g||v)&&Ir.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);if(ge(r))return r(i);var a=we("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return I.createElement(Ud,Zo({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);var a=o;if(ge(r)&&(a=r(i),I.isValidElement(a)))return a;var s=we("recharts-pie-label-text",typeof r!="boolean"&&!ge(r)?r.className:"");return I.createElement(fo,Zo({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(O.PureComponent);Mc=zr;kn(zr,"displayName","Pie");kn(zr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});kn(zr,"parseDeltaAngle",function(t,e){var n=Vt(e-t),r=Math.min(Math.abs(e-t),360);return n*r});kn(zr,"getRealPieData",function(t){var e=t.data,n=t.children,r=ce(t,!1),i=gn(n,rh);return e&&e.length?e.map(function(o,a){return Ue(Ue(Ue({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Ue(Ue({},r),o.props)}):[]});kn(zr,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=xI(i,o),s=r+zt(t.cx,i,i/2),l=n+zt(t.cy,o,o/2),u=zt(t.innerRadius,a,0),c=zt(t.outerRadius,a,a*.8),d=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:d}});kn(zr,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Ue(Ue({},e.type.defaultProps),e.props):e.props,i=Mc.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,d=r.valueKey,h=r.tooltipType,g=Math.abs(r.minAngle),v=Mc.parseCoordinateOfPie(r,n),y=Mc.parseDeltaAngle(a,s),x=Math.abs(y),w=u;ve(u)&&ve(d)?(Qn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):ve(u)&&(Qn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=d);var b=i.filter(function(C){return mt(C,w,0)!==0}).length,_=(x>=360?b:b-1)*l,T=x-b*g-_,S=i.reduce(function(C,k){var N=mt(k,w,0);return C+(Y(N)?N:0)},0),E;if(S>0){var A;E=i.map(function(C,k){var N=mt(C,w,0),P=mt(C,c,k),R=(Y(N)?N:0)/S,j;k?j=A.endAngle+Vt(y)*l*(N!==0?1:0):j=a;var F=j+Vt(y)*((N!==0?g:0)+R*T),B=(j+F)/2,M=(v.innerRadius+v.outerRadius)/2,L=[{name:P,value:N,payload:C,dataKey:w,type:h}],$=Ve(v.cx,v.cy,M,B);return A=Ue(Ue(Ue({percent:R,cornerRadius:o,name:P,tooltipPayload:L,midAngle:B,middleRadius:M,tooltipPosition:$},C),v),{},{value:mt(C,w),startAngle:j,endAngle:F,payload:C,paddingAngle:Vt(y)*l}),A})}return Ue(Ue({},v),{},{sectors:E,data:i})});var AQ=Math.ceil,CQ=Math.max;function kQ(t,e,n,r){for(var i=-1,o=CQ(AQ((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var PQ=kQ,IQ=lP,B1=1/0,NQ=17976931348623157e292;function OQ(t){if(!t)return t===0?t:0;if(t=IQ(t),t===B1||t===-B1){var e=t<0?-1:1;return e*NQ}return t===t?t:0}var qI=OQ,RQ=PQ,MQ=nh,Dp=qI;function $Q(t){return function(e,n,r){return r&&typeof r!="number"&&MQ(e,n,r)&&(n=r=void 0),e=Dp(e),n===void 0?(n=e,e=0):n=Dp(n),r=r===void 0?e<n?1:-1:Dp(r),RQ(e,n,r,t)}}var DQ=$Q,jQ=DQ,LQ=jQ(),UQ=LQ;const Jd=Ne(UQ);function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function F1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F1(Object(n),!0).forEach(function(r){GI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GI(t,e,n){return e=BQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BQ(t){var e=FQ(t,"string");return su(e)=="symbol"?e:e+""}function FQ(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VQ=["Webkit","Moz","O","ms"],zQ=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=VQ.reduce(function(o,a){return V1(V1({},o),{},GI({},a+r,n))},{});return i[e]=n,i};function ja(t){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(t)}function Yd(){return Yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yd.apply(this,arguments)}function z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z1(Object(n),!0).forEach(function(r){an(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WI(r.key),r)}}function GQ(t,e,n){return e&&q1(t.prototype,e),n&&q1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HQ(t,e,n){return e=Xd(e),WQ(t,HI()?Reflect.construct(e,n||[],Xd(t).constructor):e.apply(t,n))}function WQ(t,e){if(e&&(ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KQ(t)}function KQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HI=function(){return!!t})()}function Xd(t){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xd(t)}function JQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zg(t,e)}function Zg(t,e){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zg(t,e)}function an(t,e,n){return e=WI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WI(t){var e=YQ(t,"string");return ja(e)=="symbol"?e:e+""}function YQ(t,e){if(ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XQ=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=al().domain(Jd(0,l)).range([o,o+a-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},G1=function(e){return e.changedTouches&&!!e.changedTouches.length},La=function(t){function e(n){var r;return qQ(this,e),r=HQ(this,e,[n]),an(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),an(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),an(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),an(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),an(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),an(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),an(r,"handleSlideDragStart",function(i){var o=G1(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return JQ(e,t),GQ(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(a,d),v=e.getIndexInRange(a,h);return{startIndex:g-g%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=mt(o[r],s,r);return ge(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,g=l.endIndex,v=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+c-d-s,u+c-d-a):y<0&&(y=Math.max(y,u-a,u-s));var x=this.getIndex({startX:a+y,endX:s+y});(x.startIndex!==h||x.endIndex!==g)&&v&&v(x),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=G1(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,d=c.x,h=c.width,g=c.travellerWidth,v=c.onChange,y=c.gap,x=c.data,w={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,d+h-g-u):b<0&&(b=Math.max(b,d-u)),w[a]=u+b;var _=this.getIndex(w),T=_.startIndex,S=_.endIndex,E=function(){var C=x.length-1;return a==="startX"&&(s>l?T%y===0:S%y===0)||s<l&&S===C||a==="endX"&&(s>l?S%y===0:T%y===0)||s>l&&S===C};this.setState(an(an({},a,u+b),"brushMoveStartX",r.pageX),function(){v&&E()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(an({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return I.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=O.Children.only(u);return d?I.cloneElement(d,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,g=l.ariaLabel,v=l.data,y=l.startIndex,x=l.endIndex,w=Math.max(r,this.props.x),b=jp(jp({},ce(this.props,!1)),{},{x:w,y:u,width:c,height:d}),_=g||"Min value: ".concat((o=v[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[x])===null||a===void 0?void 0:a.name);return I.createElement(Te,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,g=5,v={pointerEvents:"none",fill:u};return I.createElement(Te,{className:"recharts-brush-texts"},I.createElement(fo,Yd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-g,y:a+s/2},v),this.getTextOfTick(i)),I.createElement(fo,Yd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+g,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,g=h.startX,v=h.endX,y=h.isTextActive,x=h.isSlideMoving,w=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!Y(s)||!Y(l)||!Y(u)||!Y(c)||u<=0||c<=0)return null;var _=we("recharts-brush",o),T=I.Children.count(a)===1,S=zQ("userSelect","none");return I.createElement(Te,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(y||x||w||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return I.isValidElement(r)?o=I.cloneElement(r,i):ge(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return jp({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?XQ({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(O.PureComponent);an(La,"displayName","Brush");an(La,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var QQ=i0;function ZQ(t,e){var n;return QQ(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var eZ=ZQ,tZ=$k,nZ=pr,rZ=eZ,iZ=en,oZ=nh;function aZ(t,e,n){var r=iZ(t)?tZ:rZ;return n&&oZ(t,e,n)&&(e=void 0),r(t,nZ(e))}var sZ=aZ;const lZ=Ne(sZ);var ur=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},H1=rP;function uZ(t,e,n){e=="__proto__"&&H1?H1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var cZ=uZ,dZ=cZ,fZ=tP,hZ=pr;function pZ(t,e){var n={};return e=hZ(e),fZ(t,function(r,i,o){dZ(n,i,e(r,i,o))}),n}var mZ=pZ;const gZ=Ne(mZ);function vZ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var yZ=vZ,wZ=i0;function bZ(t,e){var n=!0;return wZ(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var xZ=bZ,_Z=yZ,SZ=xZ,EZ=pr,TZ=en,AZ=nh;function CZ(t,e,n){var r=TZ(t)?_Z:SZ;return n&&AZ(t,e,n)&&(e=void 0),r(t,EZ(e))}var kZ=CZ;const KI=Ne(kZ);var PZ=["x","y"];function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(this,arguments)}function W1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W1(Object(n),!0).forEach(function(r){IZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IZ(t,e,n){return e=NZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NZ(t){var e=OZ(t,"string");return lu(e)=="symbol"?e:e+""}function OZ(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RZ(t,e){if(t==null)return{};var n=MZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $Z(t,e){var n=t.x,r=t.y,i=RZ(t,PZ),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Us(Us(Us(Us(Us({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function K1(t){return I.createElement(FI,ev({shapeType:"rectangle",propTransformer:$Z,activeClassName:"recharts-active-bar"},t))}var DZ=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Y(r)||aL(r);return o?e(r,i):(o||po(),n)}},jZ=["value","background"],JI;function Ua(t){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(t)}function LZ(t,e){if(t==null)return{};var n=UZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qd(){return Qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qd.apply(this,arguments)}function J1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J1(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XI(r.key),r)}}function FZ(t,e,n){return e&&Y1(t.prototype,e),n&&Y1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VZ(t,e,n){return e=Zd(e),zZ(t,YI()?Reflect.construct(e,n||[],Zd(t).constructor):e.apply(t,n))}function zZ(t,e){if(e&&(Ua(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qZ(t)}function qZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YI=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(t)}function GZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tv(t,e)}function tv(t,e){return tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tv(t,e)}function ri(t,e,n){return e=XI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XI(t){var e=HZ(t,"string");return Ua(e)=="symbol"?e:e+""}function HZ(t,e){if(Ua(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ua(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var So=function(t){function e(){var n;BZ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=VZ(this,e,[].concat(i)),ri(n,"state",{isAnimationFinished:!1}),ri(n,"id",is("recharts-bar-")),ri(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),ri(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return GZ(e,t),FZ(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ce(this.props,!1);return r&&r.map(function(d,h){var g=h===l,v=g?u:a,y=st(st(st({},c),d),{},{isActive:g,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(Te,Qd({className:"recharts-bar-rectangle"},co(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),I.createElement(K1,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return I.createElement(dr,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,y=o.map(function(x,w){var b=h&&h[w];if(b){var _=un(b.x,x.x),T=un(b.y,x.y),S=un(b.width,x.width),E=un(b.height,x.height);return st(st({},x),{},{x:_(v),y:T(v),width:S(v),height:E(v)})}if(a==="horizontal"){var A=un(0,x.height),C=A(v);return st(st({},x),{},{y:x.y+x.height-C,height:C})}var k=un(0,x.width),N=k(v);return st(st({},x),{},{width:N})});return I.createElement(Te,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!ku(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ce(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=LZ(u,jZ);if(!d)return null;var g=st(st(st(st(st({},h),{},{fill:"#eee"},d),l),co(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return I.createElement(K1,Qd({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=gn(c,Pu);if(!d)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,g=function(x,w){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:mt(x,w)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return I.createElement(Te,v,d.map(function(y){return I.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,g=r.isAnimationActive,v=r.background,y=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,w=we("recharts-bar",a),b=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,T=b||_,S=ve(y)?this.id:y;return I.createElement(Te,{className:w},b||_?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(S)},I.createElement("rect",{x:b?u:u-d/2,y:_?c:c-h/2,width:b?d:d*2,height:_?h:h*2}))):null,I.createElement(Te,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,S),(!g||x)&&Ir.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(O.PureComponent);JI=So;ri(So,"displayName","Bar");ri(So,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ri(So,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,g=TW(r,n);if(!g)return null;var v=e.layout,y=n.type.defaultProps,x=y!==void 0?st(st({},y),n.props):n.props,w=x.dataKey,b=x.children,_=x.minPointSize,T=v==="horizontal"?a:o,S=u?T.scale.domain():null,E=OW({numericAxis:T}),A=gn(b,rh),C=d.map(function(k,N){var P,R,j,F,B,M;u?P=AW(u[c+N],S):(P=mt(k,w),Array.isArray(P)||(P=[E,P]));var L=DZ(_,JI.defaultProps.minPointSize)(P[1],N);if(v==="horizontal"){var $,U=[a.scale(P[0]),a.scale(P[1])],H=U[0],V=U[1];R=U_({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:k,index:N}),j=($=V??H)!==null&&$!==void 0?$:void 0,F=g.size;var q=H-V;if(B=Number.isNaN(q)?0:q,M={x:R,y:a.y,width:F,height:a.height},Math.abs(L)>0&&Math.abs(B)<Math.abs(L)){var Q=Vt(B||L)*(Math.abs(L)-Math.abs(B));j-=Q,B+=Q}}else{var ne=[o.scale(P[0]),o.scale(P[1])],ye=ne[0],xe=ne[1];if(R=ye,j=U_({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:k,index:N}),F=xe-ye,B=g.size,M={x:o.x,y:j,width:o.width,height:B},Math.abs(L)>0&&Math.abs(F)<Math.abs(L)){var je=Vt(F||L)*(Math.abs(L)-Math.abs(F));F+=je}}return st(st(st({},k),{},{x:R,y:j,width:F,height:B,value:u?P:P[1],payload:k,background:M},A&&A[N]&&A[N].props),{},{tooltipPayload:[wI(n,k)],tooltipPosition:{x:R+F/2,y:j+B/2}})});return st({data:C,layout:v},h)});function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function WZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QI(r.key),r)}}function KZ(t,e,n){return e&&X1(t.prototype,e),n&&X1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q1(Object(n),!0).forEach(function(r){_h(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _h(t,e,n){return e=QI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QI(t){var e=JZ(t,"string");return uu(e)=="symbol"?e:e+""}function JZ(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZI=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!ln(u,So);return c.reduce(function(g,v){var y=n[v],x=y.orientation,w=y.domain,b=y.padding,_=b===void 0?{}:b,T=y.mirror,S=y.reversed,E="".concat(x).concat(T?"Mirror":""),A,C,k,N,P;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var R=w[1]-w[0],j=1/0,F=y.categoricalDomain.sort(uL);if(F.forEach(function(ne,ye){ye>0&&(j=Math.min((ne||0)-(F[ye-1]||0),j))}),Number.isFinite(j)){var B=j/R,M=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(A=B*M/2),y.padding==="no-gap"){var L=zt(e.barCategoryGap,B*M),$=B*M/2;A=$-L-($-L)/M*L}}}i==="xAxis"?C=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:C=y.range,S&&(C=[C[1],C[0]]);var U=mI(y,o,h),H=U.scale,V=U.realScaleType;H.domain(w).range(C),gI(H);var q=vI(H,Hn(Hn({},y),{},{realScaleType:V}));i==="xAxis"?(P=x==="top"&&!T||x==="bottom"&&T,k=r.left,N=d[E]-P*y.height):i==="yAxis"&&(P=x==="left"&&!T||x==="right"&&T,k=d[E]-P*y.width,N=r.top);var Q=Hn(Hn(Hn({},y),q),{},{realScaleType:V,x:k,y:N,scale:H,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return Q.bandSize=Dd(Q,q),!y.hide&&i==="xAxis"?d[E]+=(P?-1:1)*Q.height:y.hide||(d[E]+=(P?-1:1)*Q.width),Hn(Hn({},g),{},_h({},v,Q))},{})},e2=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},YZ=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return e2({x:n,y:r},{x:i,y:o})},t2=function(){function t(e){WZ(this,t),this.scale=e}return KZ(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();_h(t2,"EPS",1e-4);var M0=function(e){var n=Object.keys(e).reduce(function(r,i){return Hn(Hn({},r),{},_h({},i,t2.create(e[i])))},{});return Hn(Hn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return gZ(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return KI(i,function(o,a){return n[a].isInRange(o)})}})};function XZ(t){return(t%180+180)%180}var QZ=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=XZ(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},ZZ=pr,eee=Su,tee=eh;function nee(t){return function(e,n,r){var i=Object(e);if(!eee(e)){var o=ZZ(n);e=tee(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var ree=nee,iee=qI;function oee(t){var e=iee(t),n=e%1;return e===e?n?e-n:e:0}var aee=oee,see=Jk,lee=pr,uee=aee,cee=Math.max;function dee(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:uee(n);return i<0&&(i=cee(r+i,0)),see(t,lee(e),i)}var fee=dee,hee=ree,pee=fee,mee=hee(pee),gee=mee;const vee=Ne(gee);var yee=fj(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),$0=O.createContext(void 0),D0=O.createContext(void 0),n2=O.createContext(void 0),r2=O.createContext({}),i2=O.createContext(void 0),o2=O.createContext(0),a2=O.createContext(0),Z1=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=yee(o);return I.createElement($0.Provider,{value:r},I.createElement(D0.Provider,{value:i},I.createElement(r2.Provider,{value:o},I.createElement(n2.Provider,{value:c},I.createElement(i2.Provider,{value:a},I.createElement(o2.Provider,{value:u},I.createElement(a2.Provider,{value:l},s)))))))},wee=function(){return O.useContext(i2)},s2=function(e){var n=O.useContext($0);n==null&&po();var r=n[e];return r==null&&po(),r},bee=function(){var e=O.useContext($0);return Zr(e)},xee=function(){var e=O.useContext(D0),n=vee(e,function(r){return KI(r.domain,Number.isFinite)});return n||Zr(e)},l2=function(e){var n=O.useContext(D0);n==null&&po();var r=n[e];return r==null&&po(),r},_ee=function(){var e=O.useContext(n2);return e},See=function(){return O.useContext(r2)},j0=function(){return O.useContext(a2)},L0=function(){return O.useContext(o2)};function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}function Eee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c2(r.key),r)}}function Aee(t,e,n){return e&&Tee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cee(t,e,n){return e=ef(e),kee(t,u2()?Reflect.construct(e,n||[],ef(t).constructor):e.apply(t,n))}function kee(t,e){if(e&&(Ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pee(t)}function Pee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u2=function(){return!!t})()}function ef(t){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ef(t)}function Iee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nv(t,e)}function nv(t,e){return nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nv(t,e)}function eS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eS(Object(n),!0).forEach(function(r){U0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U0(t,e,n){return e=c2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c2(t){var e=Nee(t,"string");return Ba(e)=="symbol"?e:e+""}function Nee(t,e){if(Ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Oee(t,e){return Dee(t)||$ee(t,e)||Mee(t,e)||Ree()}function Ree(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mee(t,e){if(t){if(typeof t=="string")return nS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nS(t,e)}}function nS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $ee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Dee(t){if(Array.isArray(t))return t}function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(this,arguments)}var jee=function(e,n){var r;return I.isValidElement(e)?r=I.cloneElement(e,n):ge(e)?r=e(n):r=I.createElement("line",rv({},n,{className:"recharts-reference-line-line"})),r},Lee=function(e,n,r,i,o,a,s,l,u){var c=o.x,d=o.y,h=o.width,g=o.height;if(r){var v=u.y,y=e.y.apply(v,{position:a});if(ur(u,"discard")&&!e.y.isInRange(y))return null;var x=[{x:c+h,y},{x:c,y}];return l==="left"?x.reverse():x}if(n){var w=u.x,b=e.x.apply(w,{position:a});if(ur(u,"discard")&&!e.x.isInRange(b))return null;var _=[{x:b,y:d+g},{x:b,y:d}];return s==="top"?_.reverse():_}if(i){var T=u.segment,S=T.map(function(E){return e.apply(E,{position:a})});return ur(u,"discard")&&lZ(S,function(E){return!e.isInRange(E)})?null:S}return null};function Uee(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=wee(),c=s2(i),d=l2(o),h=_ee();if(!u||!h)return null;Qn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=M0({x:c.scale,y:d.scale}),v=vt(e),y=vt(n),x=r&&r.length===2,w=Lee(g,v,y,x,h,t.position,c.orientation,d.orientation,t);if(!w)return null;var b=Oee(w,2),_=b[0],T=_.x,S=_.y,E=b[1],A=E.x,C=E.y,k=ur(t,"hidden")?"url(#".concat(u,")"):void 0,N=tS(tS({clipPath:k},ce(t,!0)),{},{x1:T,y1:S,x2:A,y2:C});return I.createElement(Te,{className:we("recharts-reference-line",s)},jee(a,N),_t.renderCallByParent(t,YZ({x1:T,y1:S,x2:A,y2:C})))}var B0=function(t){function e(){return Eee(this,e),Cee(this,e,arguments)}return Iee(e,t),Aee(e,[{key:"render",value:function(){return I.createElement(Uee,this.props)}}])}(I.Component);U0(B0,"displayName","ReferenceLine");U0(B0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function iv(){return iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iv.apply(this,arguments)}function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}function rS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(n),!0).forEach(function(r){Sh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f2(r.key),r)}}function Vee(t,e,n){return e&&Fee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zee(t,e,n){return e=tf(e),qee(t,d2()?Reflect.construct(e,n||[],tf(t).constructor):e.apply(t,n))}function qee(t,e){if(e&&(Fa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gee(t)}function Gee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d2=function(){return!!t})()}function tf(t){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tf(t)}function Hee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ov(t,e)}function ov(t,e){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ov(t,e)}function Sh(t,e,n){return e=f2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f2(t){var e=Wee(t,"string");return Fa(e)=="symbol"?e:e+""}function Wee(t,e){if(Fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kee=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=M0({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return ur(e,"discard")&&!a.isInRange(s)?null:s},Eh=function(t){function e(){return Bee(this,e),zee(this,e,arguments)}return Hee(e,t),Vee(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=vt(i),c=vt(o);if(Qn(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=Kee(this.props);if(!d)return null;var h=d.x,g=d.y,v=this.props,y=v.shape,x=v.className,w=ur(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=iS(iS({clipPath:w},ce(this.props,!0)),{},{cx:h,cy:g});return I.createElement(Te,{className:we("recharts-reference-dot",x)},e.renderDot(y,b),_t.renderCallByParent(this.props,{x:h-a,y:g-a,width:2*a,height:2*a}))}}])}(I.Component);Sh(Eh,"displayName","ReferenceDot");Sh(Eh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Sh(Eh,"renderDot",function(t,e){var n;return I.isValidElement(t)?n=I.cloneElement(t,e):ge(t)?n=t(e):n=I.createElement(mh,iv({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(this,arguments)}function Va(t){"@babel/helpers - typeof";return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(t)}function oS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oS(Object(n),!0).forEach(function(r){Th(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p2(r.key),r)}}function Xee(t,e,n){return e&&Yee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qee(t,e,n){return e=nf(e),Zee(t,h2()?Reflect.construct(e,n||[],nf(t).constructor):e.apply(t,n))}function Zee(t,e){if(e&&(Va(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ete(t)}function ete(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h2=function(){return!!t})()}function nf(t){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nf(t)}function tte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sv(t,e)}function sv(t,e){return sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sv(t,e)}function Th(t,e,n){return e=p2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p2(t){var e=nte(t,"string");return Va(e)=="symbol"?e:e+""}function nte(t,e){if(Va(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rte=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=M0({x:c.scale,y:d.scale}),g={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ur(o,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:e2(g,v)},Ah=function(t){function e(){return Jee(this,e),Qee(this,e,arguments)}return tte(e,t),Xee(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Qn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=vt(i),h=vt(o),g=vt(a),v=vt(s),y=this.props.shape;if(!d&&!h&&!g&&!v&&!y)return null;var x=rte(d,h,g,v,this.props);if(!x&&!y)return null;var w=ur(this.props,"hidden")?"url(#".concat(c,")"):void 0;return I.createElement(Te,{className:we("recharts-reference-area",l)},e.renderRect(y,aS(aS({clipPath:w},ce(this.props,!0)),x)),_t.renderCallByParent(this.props,x))}}])}(I.Component);Th(Ah,"displayName","ReferenceArea");Th(Ah,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Th(Ah,"renderRect",function(t,e){var n;return I.isValidElement(t)?n=I.cloneElement(t,e):ge(t)?n=t(e):n=I.createElement(R0,av({},e,{className:"recharts-reference-area-rect"})),n});function m2(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function ite(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return QZ(r,n)}function ote(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function rf(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function ate(t,e){return m2(t,e+1)}function ste(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:m2(r,u)};var y=l,x,w=function(){return x===void 0&&(x=n(v,y)),x},b=v.coordinate,_=l===0||rf(t,b,w,c,s);_||(l=0,c=a,u+=1),_&&(c=b+t*(w()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function sS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sS(Object(n),!0).forEach(function(r){lte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lte(t,e,n){return e=ute(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ute(t){var e=cte(t,"string");return cu(e)=="symbol"?e:e+""}function cte(t,e){if(cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dte(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var g=o[h],v,y=function(){return v===void 0&&(v=n(g,h)),v};if(h===a-1){var x=t*(g.coordinate+t*y()/2-l);o[h]=g=Mt(Mt({},g),{},{tickCoord:x>0?g.coordinate-x*t:g.coordinate})}else o[h]=g=Mt(Mt({},g),{},{tickCoord:g.coordinate});var w=rf(t,g.tickCoord,y,s,l);w&&(l=g.tickCoord-t*(y()/2+i),o[h]=Mt(Mt({},g),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function fte(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],d=n(c,s-1),h=t*(c.coordinate+t*d/2-u);a[s-1]=c=Mt(Mt({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var g=rf(t,c.tickCoord,function(){return d},l,u);g&&(u=c.tickCoord-t*(d/2+i),a[s-1]=Mt(Mt({},c),{},{isShow:!0}))}for(var v=o?s-1:s,y=function(b){var _=a[b],T,S=function(){return T===void 0&&(T=n(_,b)),T};if(b===0){var E=t*(_.coordinate-t*S()/2-l);a[b]=_=Mt(Mt({},_),{},{tickCoord:E<0?_.coordinate-E*t:_.coordinate})}else a[b]=_=Mt(Mt({},_),{},{tickCoord:_.coordinate});var A=rf(t,_.tickCoord,S,l,u);A&&(l=_.tickCoord+t*(S()/2+i),a[b]=Mt(Mt({},_),{},{isShow:!0}))},x=0;x<v;x++)y(x);return a}function F0(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(Y(l)||wo.isSsr)return ate(i,typeof l=="number"&&Y(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",v=c&&g==="width"?ol(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,T){var S=ge(u)?u(_.value,T):_.value;return g==="width"?ite(ol(S,{fontSize:e,letterSpacing:n}),v,d):ol(S,{fontSize:e,letterSpacing:n})[g]},x=i.length>=2?Vt(i[1].coordinate-i[0].coordinate):1,w=ote(o,x,g);return l==="equidistantPreserveStart"?ste(x,w,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=fte(x,w,y,i,a,l==="preserveStartEnd"):h=dte(x,w,y,i,a),h.filter(function(b){return b.isShow}))}var hte=["viewBox"],pte=["viewBox"],mte=["ticks"];function za(t){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(t)}function ea(){return ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ea.apply(this,arguments)}function lS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(n),!0).forEach(function(r){V0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lp(t,e){if(t==null)return{};var n=gte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v2(r.key),r)}}function yte(t,e,n){return e&&uS(t.prototype,e),n&&uS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wte(t,e,n){return e=of(e),bte(t,g2()?Reflect.construct(e,n||[],of(t).constructor):e.apply(t,n))}function bte(t,e){if(e&&(za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xte(t)}function xte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g2=function(){return!!t})()}function of(t){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},of(t)}function _te(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lv(t,e)}function lv(t,e){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lv(t,e)}function V0(t,e,n){return e=v2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v2(t){var e=Ste(t,"string");return za(e)=="symbol"?e:e+""}function Ste(t,e){if(za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ds=function(t){function e(n){var r;return vte(this,e),r=wte(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return _te(e,t),yte(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Lp(r,hte),s=this.props,l=s.viewBox,u=Lp(s,pte);return!ca(o,l)||!ca(a,u)||!ca(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,g,v,y,x,w,b,_=d?-1:1,T=r.tickSize||c,S=Y(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=v=r.coordinate,x=a+ +!d*l,y=x-_*T,b=y-_*h,w=S;break;case"left":y=x=r.coordinate,v=o+ +!d*s,g=v-_*T,w=g-_*h,b=S;break;case"right":y=x=r.coordinate,v=o+ +d*s,g=v+_*T,w=g+_*h,b=S;break;default:g=v=r.coordinate,x=a+ +d*l,y=x+_*T,b=y+_*h,w=S;break}return{line:{x1:g,y1:y,x2:v,y2:x},tick:{x:w,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=dt(dt(dt({},ce(this.props,!1)),ce(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=dt(dt({},d),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var g=+(l==="left"&&!u||l==="right"&&u);d=dt(dt({},d),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return I.createElement("line",ea({},d,{className:we("recharts-cartesian-axis-line",mn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,h=s.unit,g=F0(dt(dt({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),x=ce(this.props,!1),w=ce(c,!1),b=dt(dt({},x),{},{fill:"none"},ce(l,!1)),_=g.map(function(T,S){var E=a.getTickLineCoord(T),A=E.line,C=E.tick,k=dt(dt(dt(dt({textAnchor:v,verticalAnchor:y},x),{},{stroke:"none",fill:u},w),C),{},{index:S,payload:T,visibleTicksCount:g.length,tickFormatter:d});return I.createElement(Te,ea({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},co(a.props,T,S)),l&&I.createElement("line",ea({},b,A,{className:we("recharts-cartesian-axis-tick-line",mn(l,"className"))})),c&&e.renderTickItem(c,k,"".concat(ge(d)?d(T.value,S):T.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,g=Lp(d,mte),v=h;return ge(l)&&(v=h&&h.length>0?l(this.props):l(g)),a<=0||s<=0||!v||!v.length?null:I.createElement(Te,{className:we("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),_t.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=we(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(r)?a=I.cloneElement(r,dt(dt({},i),{},{className:s})):ge(r)?a=r(dt(dt({},i),{},{className:s})):a=I.createElement(fo,ea({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(O.Component);V0(ds,"displayName","CartesianAxis");V0(ds,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Ete=["x1","y1","x2","y2","key"],Tte=["offset"];function mo(t){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(t)}function cS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cS(Object(n),!0).forEach(function(r){Ate(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ate(t,e,n){return e=Cte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cte(t){var e=kte(t,"string");return mo(e)=="symbol"?e:e+""}function kte(t,e){if(mo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qi(){return Qi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qi.apply(this,arguments)}function dS(t,e){if(t==null)return{};var n=Pte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ite=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return I.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function y2(t,e){var n;if(I.isValidElement(t))n=I.cloneElement(t,e);else if(ge(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=dS(e,Ete),u=ce(l,!1);u.offset;var c=dS(u,Tte);n=I.createElement("line",Qi({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Nte(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Dt(Dt({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return y2(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Ote(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Dt(Dt({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return y2(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Rte(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var v=!c[g+1],y=v?i+a-h:c[g+1]-h;if(y<=0)return null;var x=g%e.length;return I.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:y,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Mte(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,g){return h-g});o!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var v=!c[g+1],y=v?o+s-h:c[g+1]-h;if(y<=0)return null;var x=g%r.length;return I.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:y,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var $te=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return pI(F0(Dt(Dt(Dt({},ds.defaultProps),r),{},{ticks:Ar(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Dte=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return pI(F0(Dt(Dt(Dt({},ds.defaultProps),r),{},{ticks:Ar(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Po={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function z0(t){var e,n,r,i,o,a,s=j0(),l=L0(),u=See(),c=Dt(Dt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Po.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Po.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Po.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Po.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Po.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Po.verticalFill,x:Y(t.x)?t.x:u.left,y:Y(t.y)?t.y:u.top,width:Y(t.width)?t.width:u.width,height:Y(t.height)?t.height:u.height}),d=c.x,h=c.y,g=c.width,v=c.height,y=c.syncWithTicks,x=c.horizontalValues,w=c.verticalValues,b=bee(),_=xee();if(!Y(g)||g<=0||!Y(v)||v<=0||!Y(d)||d!==+d||!Y(h)||h!==+h)return null;var T=c.verticalCoordinatesGenerator||$te,S=c.horizontalCoordinatesGenerator||Dte,E=c.horizontalPoints,A=c.verticalPoints;if((!E||!E.length)&&ge(S)){var C=x&&x.length,k=S({yAxis:_?Dt(Dt({},_),{},{ticks:C?x:_.ticks}):void 0,width:s,height:l,offset:u},C?!0:y);Qn(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(mo(k),"]")),Array.isArray(k)&&(E=k)}if((!A||!A.length)&&ge(T)){var N=w&&w.length,P=T({xAxis:b?Dt(Dt({},b),{},{ticks:N?w:b.ticks}):void 0,width:s,height:l,offset:u},N?!0:y);Qn(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(mo(P),"]")),Array.isArray(P)&&(A=P)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Ite,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),I.createElement(Nte,Qi({},c,{offset:u,horizontalPoints:E,xAxis:b,yAxis:_})),I.createElement(Ote,Qi({},c,{offset:u,verticalPoints:A,xAxis:b,yAxis:_})),I.createElement(Rte,Qi({},c,{horizontalPoints:E})),I.createElement(Mte,Qi({},c,{verticalPoints:A})))}z0.displayName="CartesianGrid";var jte=["type","layout","connectNulls","ref"],Lte=["key"];function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}function fS(t,e){if(t==null)return{};var n=Ute(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ute(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(this,arguments)}function hS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hS(Object(n),!0).forEach(function(r){Wn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Io(t){return zte(t)||Vte(t)||Fte(t)||Bte()}function Bte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fte(t,e){if(t){if(typeof t=="string")return uv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uv(t,e)}}function Vte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zte(t){if(Array.isArray(t))return uv(t)}function uv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b2(r.key),r)}}function Gte(t,e,n){return e&&pS(t.prototype,e),n&&pS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hte(t,e,n){return e=af(e),Wte(t,w2()?Reflect.construct(e,n||[],af(t).constructor):e.apply(t,n))}function Wte(t,e){if(e&&(qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kte(t)}function Kte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w2=function(){return!!t})()}function af(t){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},af(t)}function Jte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cv(t,e)}function cv(t,e){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cv(t,e)}function Wn(t,e,n){return e=b2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b2(t){var e=Yte(t,"string");return qa(e)=="symbol"?e:e+""}function Yte(t,e){if(qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Iu=function(t){function e(){var n;qte(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Hte(this,e,[].concat(i)),Wn(n,"state",{isAnimationFinished:!0,totalLength:0}),Wn(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Wn(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(w,b){return w+b});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),d=a%u,h=s-a,g=[],v=0,y=0;v<l.length;y+=l[v],++v)if(y+l[v]>d){g=[].concat(Io(l.slice(0,v)),[d-y]);break}var x=g.length%2===0?[0,h]:[h];return[].concat(Io(e.repeat(l,c)),Io(g),x).map(function(w){return"".concat(w,"px")}).join(", ")}),Wn(n,"id",is("recharts-line-")),Wn(n,"pathRef",function(a){n.mainCurve=a}),Wn(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Wn(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Jte(e,t),Gte(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=gn(c,Pu);if(!d)return null;var h=function(y,x){return{x:y.x,y:y.y,value:y.value,errorVal:mt(y.payload,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return I.createElement(Te,g,d.map(function(v){return I.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,d=ce(this.props,!1),h=ce(l,!0),g=u.map(function(y,x){var w=rn(rn(rn({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:y.x,cy:y.y,value:y.value,dataKey:c,payload:y.payload,points:u});return e.renderDotItem(l,w)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return I.createElement(Te,dl({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var d=fS(s,jte),h=rn(rn(rn({},ce(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return I.createElement(Ud,dl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,g=a.animationId,v=a.animateNewValues,y=a.width,x=a.height,w=this.state,b=w.prevPoints,_=w.totalLength;return I.createElement(dr,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var S=T.t;if(b){var E=b.length/s.length,A=s.map(function(R,j){var F=Math.floor(j*E);if(b[F]){var B=b[F],M=un(B.x,R.x),L=un(B.y,R.y);return rn(rn({},R),{},{x:M(S),y:L(S)})}if(v){var $=un(y*2,R.x),U=un(x/2,R.y);return rn(rn({},R),{},{x:$(S),y:U(S)})}return rn(rn({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(A,r,i)}var C=un(0,_),k=C(S),N;if(l){var P="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});N=o.getStrokeDasharray(k,_,P)}else N=o.generateSimpleStrokeDasharray(_,k);return o.renderCurveStatically(s,r,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!ku(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,h=i.left,g=i.width,v=i.height,y=i.isAnimationActive,x=i.id;if(o||!s||!s.length)return null;var w=this.state.isAnimationFinished,b=s.length===1,_=we("recharts-line",l),T=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,E=T||S,A=ve(x)?this.id:x,C=(r=ce(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=C.r,N=k===void 0?3:k,P=C.strokeWidth,R=P===void 0?2:P,j=yL(a)?a:{},F=j.clipDot,B=F===void 0?!0:F,M=N*2+R;return I.createElement(Te,{className:_},T||S?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(A)},I.createElement("rect",{x:T?h:h-g/2,y:S?d:d-v/2,width:T?g:g*2,height:S?v:v*2})),!B&&I.createElement("clipPath",{id:"clipPath-dots-".concat(A)},I.createElement("rect",{x:h-M/2,y:d-M/2,width:g+M,height:v+M}))):null,!b&&this.renderCurve(E,A),this.renderErrorBar(E,A),(b||a)&&this.renderDots(E,B,A),(!y||w)&&Ir.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Io(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Io(a),Io(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(I.isValidElement(r))o=I.cloneElement(r,i);else if(ge(r))o=r(i);else{var a=i.key,s=fS(i,Lte),l=we("recharts-line-dot",typeof r!="boolean"?r.className:"");o=I.createElement(mh,dl({key:a},s,{className:l}))}return o}}])}(O.PureComponent);Wn(Iu,"displayName","Line");Wn(Iu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Wn(Iu,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(h,g){var v=mt(h,a);return c==="horizontal"?{x:L_({axis:n,ticks:i,bandSize:s,entry:h,index:g}),y:ve(v)?null:r.scale(v),value:v,payload:h}:{x:ve(v)?null:n.scale(v),y:L_({axis:r,ticks:o,bandSize:s,entry:h,index:g}),value:v,payload:h}});return rn({points:d,layout:c},u)});function Ga(t){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ga(t)}function Xte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S2(r.key),r)}}function Zte(t,e,n){return e&&Qte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ene(t,e,n){return e=sf(e),tne(t,x2()?Reflect.construct(e,n||[],sf(t).constructor):e.apply(t,n))}function tne(t,e){if(e&&(Ga(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nne(t)}function nne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x2=function(){return!!t})()}function sf(t){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sf(t)}function rne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dv(t,e)}function dv(t,e){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dv(t,e)}function _2(t,e,n){return e=S2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S2(t){var e=ine(t,"string");return Ga(e)=="symbol"?e:e+""}function ine(t,e){if(Ga(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fv.apply(this,arguments)}function one(t){var e=t.xAxisId,n=j0(),r=L0(),i=s2(e);return i==null?null:O.createElement(ds,fv({},i,{className:we("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Ar(a,!0)}}))}var fs=function(t){function e(){return Xte(this,e),ene(this,e,arguments)}return rne(e,t),Zte(e,[{key:"render",value:function(){return O.createElement(one,this.props)}}])}(O.Component);_2(fs,"displayName","XAxis");_2(fs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ha(t){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(t)}function ane(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A2(r.key),r)}}function lne(t,e,n){return e&&sne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function une(t,e,n){return e=lf(e),cne(t,E2()?Reflect.construct(e,n||[],lf(t).constructor):e.apply(t,n))}function cne(t,e){if(e&&(Ha(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dne(t)}function dne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E2=function(){return!!t})()}function lf(t){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lf(t)}function fne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hv(t,e)}function hv(t,e){return hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hv(t,e)}function T2(t,e,n){return e=A2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A2(t){var e=hne(t,"string");return Ha(e)=="symbol"?e:e+""}function hne(t,e){if(Ha(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ha(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pv.apply(this,arguments)}var pne=function(e){var n=e.yAxisId,r=j0(),i=L0(),o=l2(n);return o==null?null:O.createElement(ds,pv({},o,{className:we("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Ar(s,!0)}}))},hs=function(t){function e(){return ane(this,e),une(this,e,arguments)}return fne(e,t),lne(e,[{key:"render",value:function(){return O.createElement(pne,this.props)}}])}(O.Component);T2(hs,"displayName","YAxis");T2(hs,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function mS(t){return yne(t)||vne(t)||gne(t)||mne()}function mne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gne(t,e){if(t){if(typeof t=="string")return mv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mv(t,e)}}function vne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yne(t){if(Array.isArray(t))return mv(t)}function mv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gv=function(e,n,r,i,o){var a=gn(e,B0),s=gn(e,Eh),l=[].concat(mS(a),mS(s)),u=gn(e,Ah),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(y,x){if(x.props[c]===r&&ur(x.props,"extendDomain")&&Y(x.props[d])){var w=x.props[d];return[Math.min(y[0],w),Math.max(y[1],w)]}return y},h)),u.length){var g="".concat(d,"1"),v="".concat(d,"2");h=u.reduce(function(y,x){if(x.props[c]===r&&ur(x.props,"extendDomain")&&Y(x.props[g])&&Y(x.props[v])){var w=x.props[g],b=x.props[v];return[Math.min(y[0],w,b),Math.max(y[1],w,b)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,x){return Y(x)?[Math.min(y[0],x),Math.max(y[1],x)]:y},h)),h},C2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,d||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,g=d.length,v=new Array(g);h<g;h++)v[h]=d[h].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,g,v){var y=n?n+u:u;if(!this._events[y])return!1;var x=this._events[y],w=arguments.length,b,_;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,d),!0;case 4:return x.fn.call(x.context,c,d,h),!0;case 5:return x.fn.call(x.context,c,d,h,g),!0;case 6:return x.fn.call(x.context,c,d,h,g,v),!0}for(_=1,b=new Array(w-1);_<w;_++)b[_-1]=arguments[_];x.fn.apply(x.context,b)}else{var T=x.length,S;for(_=0;_<T;_++)switch(x[_].once&&this.removeListener(u,x[_].fn,void 0,!0),w){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,c);break;case 3:x[_].fn.call(x[_].context,c,d);break;case 4:x[_].fn.call(x[_].context,c,d,h);break;default:if(!b)for(S=1,b=new Array(w-1);S<w;S++)b[S-1]=arguments[S];x[_].fn.apply(x[_].context,b)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var g=n?n+u:u;if(!this._events[g])return this;if(!c)return a(this,g),this;var v=this._events[g];if(v.fn)v.fn===c&&(!h||v.once)&&(!d||v.context===d)&&a(this,g);else{for(var y=0,x=[],w=v.length;y<w;y++)(v[y].fn!==c||h&&!v[y].once||d&&v[y].context!==d)&&x.push(v[y]);x.length?this._events[g]=x.length===1?x[0]:x:a(this,g)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(C2);var wne=C2.exports;const bne=Ne(wne);var Up=new bne,Bp="recharts.syncMouseEvents";function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function xne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k2(r.key),r)}}function Sne(t,e,n){return e&&_ne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fp(t,e,n){return e=k2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k2(t){var e=Ene(t,"string");return du(e)=="symbol"?e:e+""}function Ene(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tne=function(){function t(){xne(this,t),Fp(this,"activeIndex",0),Fp(this,"coordinateList",[]),Fp(this,"layout","horizontal")}return Sne(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function Ane(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Y(r)&&Y(i))return!0}return!1}function Cne(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function P2(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Ve(e,n,r,i),s=Ve(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function kne(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Ve(s,l,u,d),g=Ve(s,l,c,d);r=h.x,i=h.y,o=g.x,a=g.y}else return P2(e);return[{x:r,y:i},{x:o,y:a}]}function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(n),!0).forEach(function(r){Pne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pne(t,e,n){return e=Ine(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ine(t){var e=Nne(t,"string");return fu(e)=="symbol"?e:e+""}function Nne(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function One(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var v,y=Ud;if(h==="ScatterChart")v=a,y=YY;else if(h==="BarChart")v=Cne(d,a,l,c),y=R0;else if(d==="radial"){var x=P2(a),w=x.cx,b=x.cy,_=x.radius,T=x.startAngle,S=x.endAngle;v={cx:w,cy:b,startAngle:T,endAngle:S,innerRadius:_,outerRadius:_},y=TI}else v={points:kne(d,a,l)},y=Ud;var E=dc(dc(dc(dc({stroke:"#ccc",pointerEvents:"none"},l),v),ce(g,!1)),{},{payload:s,payloadIndex:u,className:we("recharts-tooltip-cursor",g.className)});return O.isValidElement(g)?O.cloneElement(g,E):O.createElement(y,E)}var Rne=["item"],Mne=["children","className","width","height","style","compact","title","desc"];function Wa(t){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wa(t)}function ta(){return ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ta.apply(this,arguments)}function vS(t,e){return jne(t)||Dne(t,e)||N2(t,e)||$ne()}function $ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function jne(t){if(Array.isArray(t))return t}function yS(t,e){if(t==null)return{};var n=Lne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Une(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O2(r.key),r)}}function Fne(t,e,n){return e&&Bne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vne(t,e,n){return e=uf(e),zne(t,I2()?Reflect.construct(e,n||[],uf(t).constructor):e.apply(t,n))}function zne(t,e){if(e&&(Wa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qne(t)}function qne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I2=function(){return!!t})()}function uf(t){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uf(t)}function Gne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vv(t,e)}function vv(t,e){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vv(t,e)}function Ka(t){return Kne(t)||Wne(t)||N2(t)||Hne()}function Hne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N2(t,e){if(t){if(typeof t=="string")return yv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yv(t,e)}}function Wne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kne(t){if(Array.isArray(t))return yv(t)}function yv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wS(Object(n),!0).forEach(function(r){he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function he(t,e,n){return e=O2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O2(t){var e=Jne(t,"string");return Wa(e)=="symbol"?e:e+""}function Jne(t,e){if(Wa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yne={xAxis:["bottom","top"],yAxis:["left","right"]},Xne={width:"100%",height:"100%"},R2={x:0,y:0};function fc(t){return t}var Qne=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Zne=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return z(z(z({},i),Ve(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return z(z(z({},i),Ve(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return R2},Ch=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Ka(s),Ka(u)):s},[]);return a.length>0?a:e&&e.length&&Y(i)&&Y(o)?e.slice(i,o+1):[]};function M2(t){return t==="number"?[0,"auto"]:void 0}var wv=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Ch(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var g=d===void 0?s:d;h=ld(g,a.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(Ka(l),[wI(u,h)]):l},[])},bS=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Qne(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=wW(a,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=wv(e,n,c,d),g=Zne(r,s,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:g}}return null},ere=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,g=hI(c,o);return r.reduce(function(v,y){var x,w=y.type.defaultProps!==void 0?z(z({},y.type.defaultProps),y.props):y.props,b=w.type,_=w.dataKey,T=w.allowDataOverflow,S=w.allowDuplicatedCategory,E=w.scale,A=w.ticks,C=w.includeHidden,k=w[a];if(v[k])return v;var N=Ch(e.data,{graphicalItems:i.filter(function(q){var Q,ne=a in q.props?q.props[a]:(Q=q.type.defaultProps)===null||Q===void 0?void 0:Q[a];return ne===k}),dataStartIndex:l,dataEndIndex:u}),P=N.length,R,j,F;Ane(w.domain,T,b)&&(R=Rg(w.domain,null,T),g&&(b==="number"||E!=="auto")&&(F=sl(N,_,"category")));var B=M2(b);if(!R||R.length===0){var M,L=(M=w.domain)!==null&&M!==void 0?M:B;if(_){if(R=sl(N,_,b),b==="category"&&g){var $=lL(R);S&&$?(j=R,R=Jd(0,P)):S||(R=V_(L,R,y).reduce(function(q,Q){return q.indexOf(Q)>=0?q:[].concat(Ka(q),[Q])},[]))}else if(b==="category")S?R=R.filter(function(q){return q!==""&&!ve(q)}):R=V_(L,R,y).reduce(function(q,Q){return q.indexOf(Q)>=0||Q===""||ve(Q)?q:[].concat(Ka(q),[Q])},[]);else if(b==="number"){var U=EW(N,i.filter(function(q){var Q,ne,ye=a in q.props?q.props[a]:(Q=q.type.defaultProps)===null||Q===void 0?void 0:Q[a],xe="hide"in q.props?q.props.hide:(ne=q.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return ye===k&&(C||!xe)}),_,o,c);U&&(R=U)}g&&(b==="number"||E!=="auto")&&(F=sl(N,_,"category"))}else g?R=Jd(0,P):s&&s[k]&&s[k].hasStack&&b==="number"?R=h==="expand"?[0,1]:yI(s[k].stackGroups,l,u):R=fI(N,i.filter(function(q){var Q=a in q.props?q.props[a]:q.type.defaultProps[a],ne="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return Q===k&&(C||!ne)}),b,c,!0);if(b==="number")R=gv(d,R,k,o,A),L&&(R=Rg(L,R,T));else if(b==="category"&&L){var H=L,V=R.every(function(q){return H.indexOf(q)>=0});V&&(R=H)}}return z(z({},v),{},he({},k,z(z({},w),{},{axisType:o,domain:R,categoricalDomain:F,duplicateDomain:j,originalDomain:(x=w.domain)!==null&&x!==void 0?x:B,isCategorical:g,layout:c})))},{})},tre=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=Ch(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,v=hI(c,o),y=-1;return r.reduce(function(x,w){var b=w.type.defaultProps!==void 0?z(z({},w.type.defaultProps),w.props):w.props,_=b[a],T=M2("number");if(!x[_]){y++;var S;return v?S=Jd(0,g):s&&s[_]&&s[_].hasStack?(S=yI(s[_].stackGroups,l,u),S=gv(d,S,_,o)):(S=Rg(T,fI(h,r.filter(function(E){var A,C,k=a in E.props?E.props[a]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[a],N="hide"in E.props?E.props.hide:(C=E.type.defaultProps)===null||C===void 0?void 0:C.hide;return k===_&&!N}),"number",c),i.defaultProps.allowDataOverflow),S=gv(d,S,_,o)),z(z({},x),{},he({},_,z(z({axisType:o},i.defaultProps),{},{hide:!0,orientation:mn(Yne,"".concat(o,".").concat(y%2),null),domain:S,originalDomain:T,isCategorical:v,layout:c})))}return x},{})},nre=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=gn(c,o),g={};return h&&h.length?g=ere(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(g=tre(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},rre=function(e){var n=Zr(e),r=Ar(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:o0(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Dd(n,r)}},xS=function(e){var n=e.children,r=e.defaultShowTooltip,i=ln(n,La),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},ire=function(e){return!e||!e.length?!1:e.some(function(n){var r=kr(n&&n.type);return r&&r.indexOf("Bar")>=0})},_S=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ore=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,h=r.margin||{},g=ln(d,La),v=ln(d,hi),y=Object.keys(l).reduce(function(S,E){var A=l[E],C=A.orientation;return!A.mirror&&!A.hide?z(z({},S),{},he({},C,S[C]+A.width)):S},{left:h.left||0,right:h.right||0}),x=Object.keys(a).reduce(function(S,E){var A=a[E],C=A.orientation;return!A.mirror&&!A.hide?z(z({},S),{},he({},C,mn(S,"".concat(C))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),w=z(z({},x),y),b=w.bottom;g&&(w.bottom+=g.props.height||La.defaultProps.height),v&&n&&(w=_W(w,i,r,n));var _=u-w.left-w.right,T=c-w.top-w.bottom;return z(z({brushBottom:b},w),{},{width:Math.max(_,0),height:Math.max(T,0)})},are=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},q0=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(w,b){var _=b.graphicalItems,T=b.stackGroups,S=b.offset,E=b.updateId,A=b.dataStartIndex,C=b.dataEndIndex,k=w.barSize,N=w.layout,P=w.barGap,R=w.barCategoryGap,j=w.maxBarSize,F=_S(N),B=F.numericAxisName,M=F.cateAxisName,L=ire(_),$=[];return _.forEach(function(U,H){var V=Ch(w.data,{graphicalItems:[U],dataStartIndex:A,dataEndIndex:C}),q=U.type.defaultProps!==void 0?z(z({},U.type.defaultProps),U.props):U.props,Q=q.dataKey,ne=q.maxBarSize,ye=q["".concat(B,"Id")],xe=q["".concat(M,"Id")],je={},$e=l.reduce(function(tn,at){var At=b["".concat(at.axisType,"Map")],mr=q["".concat(at.axisType,"Id")];At&&At[mr]||at.axisType==="zAxis"||po();var Ai=At[mr];return z(z({},tn),{},he(he({},at.axisType,Ai),"".concat(at.axisType,"Ticks"),Ar(Ai)))},je),Z=$e[M],ue=$e["".concat(M,"Ticks")],de=T&&T[ye]&&T[ye].hasStack&&RW(U,T[ye].stackGroups),D=kr(U.type).indexOf("Bar")>=0,fe=Dd(Z,ue),oe=[],_e=L&&bW({barSize:k,stackGroups:T,totalSize:are($e,M)});if(D){var Se,Ke,wt=ve(ne)?j:ne,Tt=(Se=(Ke=Dd(Z,ue,!0))!==null&&Ke!==void 0?Ke:wt)!==null&&Se!==void 0?Se:0;oe=xW({barGap:P,barCategoryGap:R,bandSize:Tt!==fe?Tt:fe,sizeList:_e[xe],maxBarSize:wt}),Tt!==fe&&(oe=oe.map(function(tn){return z(z({},tn),{},{position:z(z({},tn.position),{},{offset:tn.position.offset-Tt/2})})}))}var Ut=U&&U.type&&U.type.getComposedData;Ut&&$.push({props:z(z({},Ut(z(z({},$e),{},{displayedData:V,props:w,dataKey:Q,item:U,bandSize:fe,barPosition:oe,offset:S,stackedData:de,layout:N,dataStartIndex:A,dataEndIndex:C}))),{},he(he(he({key:U.key||"item-".concat(H)},B,$e[B]),M,$e[M]),"animationId",E)),childIndex:xL(U,w.children),item:U})}),$},g=function(w,b){var _=w.props,T=w.dataStartIndex,S=w.dataEndIndex,E=w.updateId;if(!$b({props:_}))return null;var A=_.children,C=_.layout,k=_.stackOffset,N=_.data,P=_.reverseStackOrder,R=_S(C),j=R.numericAxisName,F=R.cateAxisName,B=gn(A,r),M=NW(N,B,"".concat(j,"Id"),"".concat(F,"Id"),k,P),L=l.reduce(function(q,Q){var ne="".concat(Q.axisType,"Map");return z(z({},q),{},he({},ne,nre(_,z(z({},Q),{},{graphicalItems:B,stackGroups:Q.axisType===j&&M,dataStartIndex:T,dataEndIndex:S}))))},{}),$=ore(z(z({},L),{},{props:_,graphicalItems:B}),b==null?void 0:b.legendBBox);Object.keys(L).forEach(function(q){L[q]=c(_,L[q],$,q.replace("Map",""),n)});var U=L["".concat(F,"Map")],H=rre(U),V=h(_,z(z({},L),{},{dataStartIndex:T,dataEndIndex:S,updateId:E,graphicalItems:B,stackGroups:M,offset:$}));return z(z({formattedGraphicalItems:V,graphicalItems:B,offset:$,stackGroups:M},H),L)},v=function(x){function w(b){var _,T,S;return Une(this,w),S=Vne(this,w,[b]),he(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),he(S,"accessibilityManager",new Tne),he(S,"handleLegendBBoxUpdate",function(E){if(E){var A=S.state,C=A.dataStartIndex,k=A.dataEndIndex,N=A.updateId;S.setState(z({legendBBox:E},g({props:S.props,dataStartIndex:C,dataEndIndex:k,updateId:N},z(z({},S.state),{},{legendBBox:E}))))}}),he(S,"handleReceiveSyncEvent",function(E,A,C){if(S.props.syncId===E){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),he(S,"handleBrushChange",function(E){var A=E.startIndex,C=E.endIndex;if(A!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var k=S.state.updateId;S.setState(function(){return z({dataStartIndex:A,dataEndIndex:C},g({props:S.props,dataStartIndex:A,dataEndIndex:C,updateId:k},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:C})}}),he(S,"handleMouseEnter",function(E){var A=S.getMouseInfo(E);if(A){var C=z(z({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var k=S.props.onMouseEnter;ge(k)&&k(C,E)}}),he(S,"triggeredAfterMouseMove",function(E){var A=S.getMouseInfo(E),C=A?z(z({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var k=S.props.onMouseMove;ge(k)&&k(C,E)}),he(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),he(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),he(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),he(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseLeave;ge(C)&&C(A,E)}),he(S,"handleOuterEvent",function(E){var A=bL(E),C=mn(S.props,"".concat(A));if(A&&ge(C)){var k,N;/.*touch.*/i.test(A)?N=S.getMouseInfo(E.changedTouches[0]):N=S.getMouseInfo(E),C((k=N)!==null&&k!==void 0?k:{},E)}}),he(S,"handleClick",function(E){var A=S.getMouseInfo(E);if(A){var C=z(z({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var k=S.props.onClick;ge(k)&&k(C,E)}}),he(S,"handleMouseDown",function(E){var A=S.props.onMouseDown;if(ge(A)){var C=S.getMouseInfo(E);A(C,E)}}),he(S,"handleMouseUp",function(E){var A=S.props.onMouseUp;if(ge(A)){var C=S.getMouseInfo(E);A(C,E)}}),he(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),he(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),he(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),he(S,"handleDoubleClick",function(E){var A=S.props.onDoubleClick;if(ge(A)){var C=S.getMouseInfo(E);A(C,E)}}),he(S,"handleContextMenu",function(E){var A=S.props.onContextMenu;if(ge(A)){var C=S.getMouseInfo(E);A(C,E)}}),he(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&Up.emit(Bp,S.props.syncId,E,S.eventEmitterSymbol)}),he(S,"applySyncEvent",function(E){var A=S.props,C=A.layout,k=A.syncMethod,N=S.state.updateId,P=E.dataStartIndex,R=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(z({dataStartIndex:P,dataEndIndex:R},g({props:S.props,dataStartIndex:P,dataEndIndex:R,updateId:N},S.state)));else if(E.activeTooltipIndex!==void 0){var j=E.chartX,F=E.chartY,B=E.activeTooltipIndex,M=S.state,L=M.offset,$=M.tooltipTicks;if(!L)return;if(typeof k=="function")B=k($,E);else if(k==="value"){B=-1;for(var U=0;U<$.length;U++)if($[U].value===E.activeLabel){B=U;break}}var H=z(z({},L),{},{x:L.left,y:L.top}),V=Math.min(j,H.x+H.width),q=Math.min(F,H.y+H.height),Q=$[B]&&$[B].value,ne=wv(S.state,S.props.data,B),ye=$[B]?{x:C==="horizontal"?$[B].coordinate:V,y:C==="horizontal"?q:$[B].coordinate}:R2;S.setState(z(z({},E),{},{activeLabel:Q,activeCoordinate:ye,activePayload:ne,activeTooltipIndex:B}))}else S.setState(E)}),he(S,"renderCursor",function(E){var A,C=S.state,k=C.isTooltipActive,N=C.activeCoordinate,P=C.activePayload,R=C.offset,j=C.activeTooltipIndex,F=C.tooltipAxisBandSize,B=S.getTooltipEventType(),M=(A=E.props.active)!==null&&A!==void 0?A:k,L=S.props.layout,$=E.key||"_recharts-cursor";return I.createElement(One,{key:$,activeCoordinate:N,activePayload:P,activeTooltipIndex:j,chartName:n,element:E,isActive:M,layout:L,offset:R,tooltipAxisBandSize:F,tooltipEventType:B})}),he(S,"renderPolarAxis",function(E,A,C){var k=mn(E,"type.axisType"),N=mn(S.state,"".concat(k,"Map")),P=E.type.defaultProps,R=P!==void 0?z(z({},P),E.props):E.props,j=N&&N[R["".concat(k,"Id")]];return O.cloneElement(E,z(z({},j),{},{className:we(k,j.className),key:E.key||"".concat(A,"-").concat(C),ticks:Ar(j,!0)}))}),he(S,"renderPolarGrid",function(E){var A=E.props,C=A.radialLines,k=A.polarAngles,N=A.polarRadius,P=S.state,R=P.radiusAxisMap,j=P.angleAxisMap,F=Zr(R),B=Zr(j),M=B.cx,L=B.cy,$=B.innerRadius,U=B.outerRadius;return O.cloneElement(E,{polarAngles:Array.isArray(k)?k:Ar(B,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(N)?N:Ar(F,!0).map(function(H){return H.coordinate}),cx:M,cy:L,innerRadius:$,outerRadius:U,key:E.key||"polar-grid",radialLines:C})}),he(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,A=S.props,C=A.children,k=A.width,N=A.height,P=S.props.margin||{},R=k-(P.left||0)-(P.right||0),j=cI({children:C,formattedGraphicalItems:E,legendWidth:R,legendContent:u});if(!j)return null;var F=j.item,B=yS(j,Rne);return O.cloneElement(F,z(z({},B),{},{chartWidth:k,chartHeight:N,margin:P,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),he(S,"renderTooltip",function(){var E,A=S.props,C=A.children,k=A.accessibilityLayer,N=ln(C,En);if(!N)return null;var P=S.state,R=P.isTooltipActive,j=P.activeCoordinate,F=P.activePayload,B=P.activeLabel,M=P.offset,L=(E=N.props.active)!==null&&E!==void 0?E:R;return O.cloneElement(N,{viewBox:z(z({},M),{},{x:M.left,y:M.top}),active:L,label:B,payload:L?F:[],coordinate:j,accessibilityLayer:k})}),he(S,"renderBrush",function(E){var A=S.props,C=A.margin,k=A.data,N=S.state,P=N.offset,R=N.dataStartIndex,j=N.dataEndIndex,F=N.updateId;return O.cloneElement(E,{key:E.key||"_recharts-brush",onChange:sc(S.handleBrushChange,E.props.onChange),data:k,x:Y(E.props.x)?E.props.x:P.left,y:Y(E.props.y)?E.props.y:P.top+P.height+P.brushBottom-(C.bottom||0),width:Y(E.props.width)?E.props.width:P.width,startIndex:R,endIndex:j,updateId:"brush-".concat(F)})}),he(S,"renderReferenceElement",function(E,A,C){if(!E)return null;var k=S,N=k.clipPathId,P=S.state,R=P.xAxisMap,j=P.yAxisMap,F=P.offset,B=E.type.defaultProps||{},M=E.props,L=M.xAxisId,$=L===void 0?B.xAxisId:L,U=M.yAxisId,H=U===void 0?B.yAxisId:U;return O.cloneElement(E,{key:E.key||"".concat(A,"-").concat(C),xAxis:R[$],yAxis:j[H],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:N})}),he(S,"renderActivePoints",function(E){var A=E.item,C=E.activePoint,k=E.basePoint,N=E.childIndex,P=E.isRange,R=[],j=A.props.key,F=A.item.type.defaultProps!==void 0?z(z({},A.item.type.defaultProps),A.item.props):A.item.props,B=F.activeDot,M=F.dataKey,L=z(z({index:N,dataKey:M,cx:C.x,cy:C.y,r:4,fill:O0(A.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},ce(B,!1)),ud(B));return R.push(w.renderActiveDot(B,L,"".concat(j,"-activePoint-").concat(N))),k?R.push(w.renderActiveDot(B,z(z({},L),{},{cx:k.x,cy:k.y}),"".concat(j,"-basePoint-").concat(N))):P&&R.push(null),R}),he(S,"renderGraphicChild",function(E,A,C){var k=S.filterFormatItem(E,A,C);if(!k)return null;var N=S.getTooltipEventType(),P=S.state,R=P.isTooltipActive,j=P.tooltipAxis,F=P.activeTooltipIndex,B=P.activeLabel,M=S.props.children,L=ln(M,En),$=k.props,U=$.points,H=$.isRange,V=$.baseLine,q=k.item.type.defaultProps!==void 0?z(z({},k.item.type.defaultProps),k.item.props):k.item.props,Q=q.activeDot,ne=q.hide,ye=q.activeBar,xe=q.activeShape,je=!!(!ne&&R&&L&&(Q||ye||xe)),$e={};N!=="axis"&&L&&L.props.trigger==="click"?$e={onClick:sc(S.handleItemMouseEnter,E.props.onClick)}:N!=="axis"&&($e={onMouseLeave:sc(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:sc(S.handleItemMouseEnter,E.props.onMouseEnter)});var Z=O.cloneElement(E,z(z({},k.props),$e));function ue(at){return typeof j.dataKey=="function"?j.dataKey(at.payload):null}if(je)if(F>=0){var de,D;if(j.dataKey&&!j.allowDuplicatedCategory){var fe=typeof j.dataKey=="function"?ue:"payload.".concat(j.dataKey.toString());de=ld(U,fe,B),D=H&&V&&ld(V,fe,B)}else de=U==null?void 0:U[F],D=H&&V&&V[F];if(xe||ye){var oe=E.props.activeIndex!==void 0?E.props.activeIndex:F;return[O.cloneElement(E,z(z(z({},k.props),$e),{},{activeIndex:oe})),null,null]}if(!ve(de))return[Z].concat(Ka(S.renderActivePoints({item:k,activePoint:de,basePoint:D,childIndex:F,isRange:H})))}else{var _e,Se=(_e=S.getItemByXY(S.state.activeCoordinate))!==null&&_e!==void 0?_e:{graphicalItem:Z},Ke=Se.graphicalItem,wt=Ke.item,Tt=wt===void 0?E:wt,Ut=Ke.childIndex,tn=z(z(z({},k.props),$e),{},{activeIndex:Ut});return[O.cloneElement(Tt,tn),null,null]}return H?[Z,null,null]:[Z,null]}),he(S,"renderCustomized",function(E,A,C){return O.cloneElement(E,z(z({key:"recharts-customized-".concat(C)},S.props),S.state))}),he(S,"renderMap",{CartesianGrid:{handler:fc,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:fc},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:fc},YAxis:{handler:fc},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=b.id)!==null&&_!==void 0?_:is("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=uP(S.triggeredAfterMouseMove,(T=b.throttleDelay)!==null&&T!==void 0?T:1e3/60),S.state={},S}return Gne(w,x),Fne(w,[{key:"componentDidMount",value:function(){var _,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,T=_.children,S=_.data,E=_.height,A=_.layout,C=ln(T,En);if(C){var k=C.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,P=wv(this.state,S,k,N),R=this.state.tooltipTicks[k].coordinate,j=(this.state.offset.top+E)/2,F=A==="horizontal",B=F?{x:R,y:j}:{y:R,x:j},M=this.state.formattedGraphicalItems.find(function($){var U=$.item;return U.type.name==="Scatter"});M&&(B=z(z({},B),M.props.points[k].tooltipPosition),P=M.props.points[k].tooltipPayload);var L={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:N,activePayload:P,activeCoordinate:B};this.setState(L),this.renderCursor(C),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(_){Km([ln(_.children,En)],[ln(this.props.children,En)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=ln(this.props.children,En);if(_&&typeof _.props.shared=="boolean"){var T=_.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var T=this.container,S=T.getBoundingClientRect(),E=Wz(S),A={chartX:Math.round(_.pageX-E.left),chartY:Math.round(_.pageY-E.top)},C=S.width/T.offsetWidth||1,k=this.inRange(A.chartX,A.chartY,C);if(!k)return null;var N=this.state,P=N.xAxisMap,R=N.yAxisMap,j=this.getTooltipEventType(),F=bS(this.state,this.props.data,this.props.layout,k);if(j!=="axis"&&P&&R){var B=Zr(P).scale,M=Zr(R).scale,L=B&&B.invert?B.invert(A.chartX):null,$=M&&M.invert?M.invert(A.chartY):null;return z(z({},A),{},{xValue:L,yValue:$},F)}return F?z(z({},A),F):null}},{key:"inRange",value:function(_,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,A=_/S,C=T/S;if(E==="horizontal"||E==="vertical"){var k=this.state.offset,N=A>=k.left&&A<=k.left+k.width&&C>=k.top&&C<=k.top+k.height;return N?{x:A,y:C}:null}var P=this.state,R=P.angleAxisMap,j=P.radiusAxisMap;if(R&&j){var F=Zr(R);return G_({x:A,y:C},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,T=this.getTooltipEventType(),S=ln(_,En),E={};S&&T==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=ud(this.props,this.handleOuterEvent);return z(z({},A),E)}},{key:"addListener",value:function(){Up.on(Bp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Up.removeListener(Bp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,T,S){for(var E=this.state.formattedGraphicalItems,A=0,C=E.length;A<C;A++){var k=E[A];if(k.item===_||k.props.key===_.key||T===kr(k.item.type)&&S===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,T=this.state.offset,S=T.left,E=T.top,A=T.height,C=T.width;return I.createElement("defs",null,I.createElement("clipPath",{id:_},I.createElement("rect",{x:S,y:E,height:A,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=vS(S,2),A=E[0],C=E[1];return z(z({},T),{},he({},A,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=vS(S,2),A=E[0],C=E[1];return z(z({},T),{},he({},A,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(_){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(_){var T=this.state,S=T.formattedGraphicalItems,E=T.activeItem;if(S&&S.length)for(var A=0,C=S.length;A<C;A++){var k=S[A],N=k.props,P=k.item,R=P.type.defaultProps!==void 0?z(z({},P.type.defaultProps),P.props):P.props,j=kr(P.type);if(j==="Bar"){var F=(N.data||[]).find(function($){return IY(_,$)});if(F)return{graphicalItem:k,payload:F}}else if(j==="RadialBar"){var B=(N.data||[]).find(function($){return G_(_,$)});if(B)return{graphicalItem:k,payload:B}}else if(bh(k,E)||xh(k,E)||au(k,E)){var M=yQ({graphicalItem:k,activeTooltipItem:E,itemData:R.data}),L=R.activeIndex===void 0?M:R.activeIndex;return{graphicalItem:z(z({},k),{},{childIndex:L}),payload:au(k,E)?R.data[M]:k.props.data[M]}}}return null}},{key:"render",value:function(){var _=this;if(!$b(this))return null;var T=this.props,S=T.children,E=T.className,A=T.width,C=T.height,k=T.style,N=T.compact,P=T.title,R=T.desc,j=yS(T,Mne),F=ce(j,!1);if(N)return I.createElement(Z1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(Ym,ta({},F,{width:A,height:C,title:P,desc:R}),this.renderClipPath(),jb(S,this.renderMap)));if(this.props.accessibilityLayer){var B,M;F.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,F.role=(M=this.props.role)!==null&&M!==void 0?M:"application",F.onKeyDown=function($){_.accessibilityManager.keyboardEvent($)},F.onFocus=function(){_.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return I.createElement(Z1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",ta({className:we("recharts-wrapper",E),style:z({position:"relative",cursor:"default",width:A,height:C},k)},L,{ref:function(U){_.container=U}}),I.createElement(Ym,ta({},F,{width:A,height:C,title:P,desc:R,style:Xne}),this.renderClipPath(),jb(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);he(v,"displayName",n),he(v,"defaultProps",z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),he(v,"getDerivedStateFromProps",function(x,w){var b=x.dataKey,_=x.data,T=x.children,S=x.width,E=x.height,A=x.layout,C=x.stackOffset,k=x.margin,N=w.dataStartIndex,P=w.dataEndIndex;if(w.updateId===void 0){var R=xS(x);return z(z(z({},R),{},{updateId:0},g(z(z({props:x},R),{},{updateId:0}),w)),{},{prevDataKey:b,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:k,prevChildren:T})}if(b!==w.prevDataKey||_!==w.prevData||S!==w.prevWidth||E!==w.prevHeight||A!==w.prevLayout||C!==w.prevStackOffset||!ca(k,w.prevMargin)){var j=xS(x),F={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},B=z(z({},bS(w,_,A)),{},{updateId:w.updateId+1}),M=z(z(z({},j),F),B);return z(z(z({},M),g(z({props:x},M),w)),{},{prevDataKey:b,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:k,prevChildren:T})}if(!Km(T,w.prevChildren)){var L,$,U,H,V=ln(T,La),q=V&&(L=($=V.props)===null||$===void 0?void 0:$.startIndex)!==null&&L!==void 0?L:N,Q=V&&(U=(H=V.props)===null||H===void 0?void 0:H.endIndex)!==null&&U!==void 0?U:P,ne=q!==N||Q!==P,ye=!ve(_),xe=ye&&!ne?w.updateId:w.updateId+1;return z(z({updateId:xe},g(z(z({props:x},w),{},{updateId:xe,dataStartIndex:q,dataEndIndex:Q}),w)),{},{prevChildren:T,dataStartIndex:q,dataEndIndex:Q})}return null}),he(v,"renderActiveDot",function(x,w,b){var _;return O.isValidElement(x)?_=O.cloneElement(x,w):ge(x)?_=x(w):_=I.createElement(mh,w),I.createElement(Te,{className:"recharts-active-dot",key:b},_)});var y=O.forwardRef(function(w,b){return I.createElement(v,ta({},w,{ref:b}))});return y.displayName=v.displayName,y},sre=q0({chartName:"LineChart",GraphicalChild:Iu,axisComponents:[{axisType:"xAxis",AxisComp:fs},{axisType:"yAxis",AxisComp:hs}],formatAxisMap:ZI}),lre=q0({chartName:"BarChart",GraphicalChild:So,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:fs},{axisType:"yAxis",AxisComp:hs}],formatAxisMap:ZI}),ure=q0({chartName:"PieChart",GraphicalChild:zr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:wh},{axisType:"radiusAxis",AxisComp:vh}],formatAxisMap:zW,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let cre,dre;function fre(){return{geminiUrl:cre,vertexUrl:dre}}function hre(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=fre();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qr{}function te(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,e.slice(o+1),n[u])}else for(const u of l)p(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];p(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>f(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function pre(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}bv(t,i,o,0,a)}}function bv(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])bv(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);p(a,d,c)}for(const u of s)delete a[u]}}else{const a=t;o in a&&bv(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G0(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mre(t){const e={},n=f(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=f(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function gre(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],yre(a)),e}function vre(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],wre(a)),e}function yre(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>bre(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function wre(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>xre(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function bre(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],Cre(n)),e}function xre(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],kre(n)),e}function _re(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function Sre(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function Ere(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],Tre(a)),e}function Tre(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function $2(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],Are(a)),e}function Are(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function Cre(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],G0(r));const i=f(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function kre(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],G0(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var SS;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(SS||(SS={}));var ES;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(ES||(ES={}));var TS;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(TS||(TS={}));var ii;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ii||(ii={}));var AS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(AS||(AS={}));var CS;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(CS||(CS={}));var kS;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(kS||(kS={}));var PS;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(PS||(PS={}));var IS;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(IS||(IS={}));var NS;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(NS||(NS={}));var OS;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(OS||(OS={}));var RS;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(RS||(RS={}));var MS;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(MS||(MS={}));var $S;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})($S||($S={}));var DS;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(DS||(DS={}));var jS;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(jS||(jS={}));var LS;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(LS||(LS={}));var US;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(US||(US={}));var BS;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(BS||(BS={}));var cf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(cf||(cf={}));var FS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(FS||(FS={}));var VS;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(VS||(VS={}));var zS;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(zS||(zS={}));var xv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(xv||(xv={}));var qS;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(qS||(qS={}));var GS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(GS||(GS={}));var HS;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(HS||(HS={}));var WS;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(WS||(WS={}));var KS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(KS||(KS={}));var JS;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(JS||(JS={}));var YS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(YS||(YS={}));var XS;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(XS||(XS={}));var QS;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(QS||(QS={}));var ZS;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ZS||(ZS={}));var eE;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(eE||(eE={}));var tE;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(tE||(tE={}));var nE;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(nE||(nE={}));var rE;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(rE||(rE={}));var iE;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(iE||(iE={}));var oE;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(oE||(oE={}));var aE;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(aE||(aE={}));var sE;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(sE||(sE={}));var lE;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(lE||(lE={}));var uE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(uE||(uE={}));var cE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(cE||(cE={}));var dE;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(dE||(dE={}));var fE;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(fE||(fE={}));var hE;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(hE||(hE={}));var pE;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(pE||(pE={}));var mE;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(mE||(mE={}));var gE;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(gE||(gE={}));var vE;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(vE||(vE={}));var yE;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(yE||(yE={}));var wE;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(wE||(wE={}));var na;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(na||(na={}));class _v{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Bs{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(v!==null||v!==void 0)&&d.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(d))h!=="inlineData"&&(g!==null||g!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class bE{}class xE{}class Pre{}class Ire{}class Nre{}class Ore{}class _E{}class SE{}class EE{}class Rre{}class df{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new df;let i;const o=e;return n?i=vre(o):i=gre(o),Object.assign(r,i),r}}class TE{}class AE{}class CE{}class Mre{}class $re{}class Dre{}class H0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new H0,o=Ere(e);return Object.assign(r,o),r}}class jre{}class Lre{}class Ure{}class kE{}class Bre{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Fre{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class W0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new W0,o=$2(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ce(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function D2(t,e){const n=Ce(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function j2(t){return Array.isArray(t)?t.map(e=>ff(e)):[ff(t)]}function ff(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function L2(t){const e=ff(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function U2(t){const e=ff(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function PE(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function B2(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>PE(e)):[PE(t)]}function Sv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function IE(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function NE(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function jt(t){if(t==null)throw new Error("ContentUnion is required");return Sv(t)?t:{role:"user",parts:B2(t)}}function K0(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=jt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=jt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>jt(n)):[jt(e)]}function On(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(IE(t)||NE(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[jt(t)]}const e=[],n=[],r=Sv(t[0]);for(const i of t){const o=Sv(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(IE(i)||NE(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:B2(n)}),e}function Vre(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ii).includes(n[0].toUpperCase())?n[0].toUpperCase():ii.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ii).includes(r.toUpperCase())?r.toUpperCase():ii.TYPE_UNSPECIFIED})}}function ha(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Vre(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(ii).includes(s.toUpperCase())?s.toUpperCase():ii.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=ha(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(ha(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=ha(c);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function J0(t){return ha(t)}function Y0(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function X0(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ps(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ha(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ha(e.response));return t}function ms(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function zre(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Gr(t,e){if(typeof e!="string")throw new Error("name must be a string");return zre(t,e,"cachedContents")}function F2(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ei(t){return G0(t)}function qre(t){return t!=null&&typeof t=="object"&&"name"in t}function Gre(t){return t!=null&&typeof t=="object"&&"video"in t}function Hre(t){return t!=null&&typeof t=="object"&&"uri"in t}function V2(t){var e;let n;if(qre(t)&&(n=t.name),!(Hre(t)&&(n=t.uri,n===void 0))&&!(Gre(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function z2(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function q2(t){for(const e of["models","tunedModels","publisherModels"])if(Wre(t,e))return t[e];return[]}function Wre(t,e){return t!==null&&typeof t=="object"&&e in t}function Kre(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Jre(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=Kre(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function G2(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Yre(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function H2(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function gs(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function W2(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xre(t){const e={},n=f(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=f(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Nie(a))),p(e,["inlinedResponses"],o)}const i=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["inlinedEmbedContentResponses"],o)}return e}function Qre(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function Zre(t){const e={},n=f(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function $c(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["metadata","state"]);i!=null&&p(e,["state"],W2(i));const o=f(t,["metadata","createTime"]);o!=null&&p(e,["createTime"],o);const a=f(t,["metadata","endTime"]);a!=null&&p(e,["endTime"],a);const s=f(t,["metadata","updateTime"]);s!=null&&p(e,["updateTime"],s);const l=f(t,["metadata","model"]);l!=null&&p(e,["model"],l);const u=f(t,["metadata","output"]);return u!=null&&p(e,["dest"],Xre(H2(u))),e}function Ev(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["state"]);i!=null&&p(e,["state"],W2(i));const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["createTime"]);a!=null&&p(e,["createTime"],a);const s=f(t,["startTime"]);s!=null&&p(e,["startTime"],s);const l=f(t,["endTime"]);l!=null&&p(e,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const c=f(t,["model"]);c!=null&&p(e,["model"],c);const d=f(t,["inputConfig"]);d!=null&&p(e,["src"],eie(d));const h=f(t,["outputConfig"]);h!=null&&p(e,["dest"],Qre(H2(h)));const g=f(t,["completionStats"]);return g!=null&&p(e,["completionStats"],g),e}function eie(t){const e={},n=f(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function tie(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=f(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Iie(t,a))),p(n,["requests","requests"],o)}return n}function nie(t){const e={},n=f(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function rie(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function iie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],gs(t,r)),n}function oie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],gs(t,r)),n}function aie(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],sie(r));const i=f(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&p(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),p(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&p(e,["urlContextMetadata"],d),e}function sie(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function K2(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Lie(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function lie(t,e){const n={},r=f(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function uie(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],Zre(Yre(i))),n}function OE(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],tie(t,G2(t,i)));const o=f(e,["config"]);return o!=null&&lie(o,n),n}function cie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],Ce(t,r));const i=f(e,["src"]);i!=null&&p(n,["inputConfig"],nie(G2(t,i)));const o=f(e,["config"]);return o!=null&&uie(o,n),n}function die(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function fie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],wie(t,i));const o=f(e,["config"]);return o!=null&&die(o,n),n}function hie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],gs(t,r)),n}function pie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],gs(t,r)),n}function mie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function gie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function vie(t,e){const n={},r=f(e,["contents"]);if(r!=null){let o=K0(t,r);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["requests[]","request","content"],o)}const i=f(e,["config"]);return i!=null&&(p(n,["_self"],yie(i,n)),pre(n,{"requests[].*":"requests[].request.*"})),n}function yie(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function wie(t,e){const n={},r=f(e,["fileName"]);r!=null&&p(n,["file_name"],r);const i=f(e,["inlinedRequests"]);return i!=null&&p(n,["requests"],vie(t,i)),n}function bie(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function xie(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _ie(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Sie(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],K2(jt(i)));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const v=f(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const y=f(e,["seed"]);y!=null&&p(r,["seed"],y);const x=f(e,["responseMimeType"]);x!=null&&p(r,["responseMimeType"],x);const w=f(e,["responseSchema"]);w!=null&&p(r,["responseSchema"],J0(w));const b=f(e,["responseJsonSchema"]);if(b!=null&&p(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let R=_;Array.isArray(R)&&(R=R.map(j=>Uie(j))),p(n,["safetySettings"],R)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let R=ms(T);Array.isArray(R)&&(R=R.map(j=>Fie(ps(j)))),p(n,["tools"],R)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],Bie(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],Gr(t,E));const A=f(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const C=f(e,["mediaResolution"]);C!=null&&p(r,["mediaResolution"],C);const k=f(e,["speechConfig"]);if(k!=null&&p(r,["speechConfig"],Y0(k)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=f(e,["thinkingConfig"]);N!=null&&p(r,["thinkingConfig"],N);const P=f(e,["imageConfig"]);return P!=null&&p(r,["imageConfig"],Pie(P)),r}function Eie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>aie(u))),p(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function Tie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],gs(t,r)),n}function Aie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],gs(t,r)),n}function Cie(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function kie(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Pie(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Iie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["request","model"],Ce(t,r));const i=f(e,["contents"]);if(i!=null){let s=On(i);Array.isArray(s)&&(s=s.map(l=>K2(l))),p(n,["request","contents"],s)}const o=f(e,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(e,["config"]);return a!=null&&p(n,["request","generationConfig"],Sie(t,a,f(n,["request"],{}))),n}function Nie(t){const e={},n=f(t,["response"]);n!=null&&p(e,["response"],Eie(n));const r=f(t,["error"]);return r!=null&&p(e,["error"],r),e}function Oie(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Rie(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=f(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function Mie(t){const e={},n=f(t,["config"]);return n!=null&&Oie(n,e),e}function $ie(t){const e={},n=f(t,["config"]);return n!=null&&Rie(n,e),e}function Die(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>$c(a))),p(e,["batchJobs"],o)}return e}function jie(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ev(a))),p(e,["batchJobs"],o)}return e}function Lie(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],bie(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],xie(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],rie(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Uie(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function Bie(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],_ie(n));const r=f(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function Fie(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],Cie(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],kie(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Lr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Lr||(Lr={}));class Eo{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vie extends qr{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Eo(Lr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=OE(this.apiClient,e),r=n._url,i=te("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const g=d.request;g.systemInstruction=h,d.request=g}u.push(d)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=cie(this.apiClient,e);return s=te("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Ev(c))}else{const u=OE(this.apiClient,e);return s=te("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>$c(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=fie(this.apiClient,e);return o=te("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>$c(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Aie(this.apiClient,e);return s=te("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Ev(c))}else{const u=Tie(this.apiClient,e);return s=te("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>$c(c))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=oie(this.apiClient,e);a=te("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=iie(this.apiClient,e);a=te("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=$ie(e);return s=te("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=jie(c),h=new kE;return Object.assign(h,d),h})}else{const u=Mie(e);return s=te("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Die(c),h=new kE;return Object.assign(h,d),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=pie(this.apiClient,e);return s=te("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>gie(c))}else{const u=hie(this.apiClient,e);return s=te("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>mie(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zie(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function RE(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>foe(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function qie(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let c=On(a);Array.isArray(c)&&(c=c.map(d=>RE(d))),p(e,["contents"],c)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],RE(jt(s)));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>poe(d))),p(e,["tools"],c)}const u=f(t,["toolConfig"]);if(e!==void 0&&u!=null&&p(e,["toolConfig"],hoe(u)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Gie(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let d=On(a);Array.isArray(d)&&(d=d.map(h=>h)),p(e,["contents"],d)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],jt(s));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>moe(h))),p(e,["tools"],d)}const u=f(t,["toolConfig"]);e!==void 0&&u!=null&&p(e,["toolConfig"],u);const c=f(t,["kmsKeyName"]);return e!==void 0&&c!=null&&p(e,["encryption_spec","kmsKeyName"],c),n}function Hie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],D2(t,r));const i=f(e,["config"]);return i!=null&&qie(i,n),n}function Wie(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],D2(t,r));const i=f(e,["config"]);return i!=null&&Gie(i,n),n}function Kie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Gr(t,r)),n}function Jie(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Gr(t,r)),n}function Yie(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Xie(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Qie(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Zie(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function eoe(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function toe(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function noe(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Gr(t,r)),n}function roe(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Gr(t,r)),n}function ioe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function ooe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function aoe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function soe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function loe(t){const e={},n=f(t,["config"]);return n!=null&&aoe(n,e),e}function uoe(t){const e={},n=f(t,["config"]);return n!=null&&soe(n,e),e}function coe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function doe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function foe(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],Qie(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],Zie(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],zie(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function hoe(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],eoe(n));const r=f(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function poe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],ioe(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],ooe(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function moe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>toe(h))),p(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&p(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function goe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function voe(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function yoe(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],Gr(t,r));const i=f(e,["config"]);return i!=null&&goe(i,n),n}function woe(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],Gr(t,r));const i=f(e,["config"]);return i!=null&&voe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class boe extends qr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Eo(Lr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Wie(this.apiClient,e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=Hie(this.apiClient,e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=roe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=noe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Jie(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Xie(c),h=new AE;return Object.assign(h,d),h})}else{const u=Kie(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Yie(c),h=new AE;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=woe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=yoe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=uoe(e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=doe(c),h=new CE;return Object.assign(h,d),h})}else{const u=loe(e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=coe(c),h=new CE;return Object.assign(h,d),h})}}}function ME(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ge(t){return this instanceof Ge?(this.v=t,this):new Ge(t)}function pa(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(v){return Promise.resolve(v).then(g,d)}}function s(g,v){r[g]&&(i[g]=function(y){return new Promise(function(x,w){o.push([g,y,x,w])>1||l(g,y)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(r[g](v))}catch(y){h(o[0][3],y)}}function u(g){g.value instanceof Ge?Promise.resolve(g.value.v).then(c,d):h(o[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function fl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ME=="function"?ME(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xoe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:J2(n)}function J2(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function _oe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function $E(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!J2(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class Soe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Eoe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Eoe{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),_oe(o)}async sendMessage(e){var n;await this.sendPromise;const r=jt(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(d))!==null&&s!==void 0?s:[]);const g=u?[u]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=jt(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?$E(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return pa(this,arguments,function*(){var a,s,l,u;const c=[];try{for(var d=!0,h=fl(e),g;g=yield Ge(h.next()),a=g.done,!a;d=!0){u=g.value,d=!1;const v=u;if(xoe(v)){const y=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;y!==void 0&&c.push(y)}yield yield Ge(v)}}catch(v){s={error:v}}finally{try{!d&&!a&&(l=h.return)&&(yield Ge(l.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...$E(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,kh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Toe(t){const e={},n=f(t,["file"]);return n!=null&&p(e,["file"],n),e}function Aoe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Coe(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],V2(n)),e}function koe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Poe(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],V2(n)),e}function Ioe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function Noe(t){const e={},n=f(t,["config"]);return n!=null&&Ioe(n,e),e}function Ooe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Roe extends qr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Eo(Lr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Noe(e);return o=te("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Ooe(l),c=new jre;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Toe(e);return o=te("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Aoe(l),c=new Lre;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Poe(e);return o=te("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Coe(e);return o=te("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=koe(l),c=new Ure;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dc(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Moe(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Yoe(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function $oe(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Doe(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function joe(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function Loe(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&p(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const g=f(t,["responseMimeType"]);g!=null&&p(e,["responseMimeType"],g);const v=f(t,["responseModalities"]);v!=null&&p(e,["responseModalities"],v);const y=f(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const x=f(t,["routingConfig"]);x!=null&&p(e,["routingConfig"],x);const w=f(t,["seed"]);w!=null&&p(e,["seed"],w);const b=f(t,["speechConfig"]);b!=null&&p(e,["speechConfig"],Y2(b));const _=f(t,["stopSequences"]);_!=null&&p(e,["stopSequences"],_);const T=f(t,["temperature"]);T!=null&&p(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&p(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&p(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Uoe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Boe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Foe(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],X0(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],Moe(jt(v)));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let E=ms(y);Array.isArray(E)&&(E=E.map(A=>Qoe(ps(A)))),p(e,["setup","tools"],E)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&p(e,["setup","sessionResumption"],Xoe(x));const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&p(e,["setup","inputAudioTranscription"],w);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),n}function Voe(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],Loe(r));const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],Y2(X0(d)));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],jt(v));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let E=ms(y);Array.isArray(E)&&(E=E.map(A=>Zoe(ps(A)))),p(e,["setup","tools"],E)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&p(e,["setup","sessionResumption"],x);const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&p(e,["setup","inputAudioTranscription"],w);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),n}function zoe(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],Ce(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],Foe(i,n)),n}function qoe(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],Ce(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],Voe(i,n)),n}function Goe(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function Hoe(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["weightedPrompts"],r)}return e}function Woe(t){const e={},n=f(t,["media"]);if(n!=null){let u=j2(n);Array.isArray(u)&&(u=u.map(c=>Dc(c))),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],Dc(U2(r)));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],Dc(L2(o)));const a=f(t,["text"]);a!=null&&p(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function Koe(t){const e={},n=f(t,["media"]);if(n!=null){let u=j2(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],U2(r));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],L2(o));const a=f(t,["text"]);a!=null&&p(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function Joe(t){const e={},n=f(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const r=f(t,["serverContent"]);r!=null&&p(e,["serverContent"],r);const i=f(t,["toolCall"]);i!=null&&p(e,["toolCall"],i);const o=f(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],o);const a=f(t,["usageMetadata"]);a!=null&&p(e,["usageMetadata"],eae(a));const s=f(t,["goAway"]);s!=null&&p(e,["goAway"],s);const l=f(t,["sessionResumptionUpdate"]);return l!=null&&p(e,["sessionResumptionUpdate"],l),e}function Yoe(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],$oe(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],Doe(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],Dc(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Xoe(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Y2(t){const e={},n=f(t,["languageCode"]);n!=null&&p(e,["languageCode"],n);const r=f(t,["voiceConfig"]);if(r!=null&&p(e,["voiceConfig"],r),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Qoe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],Uoe(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],Boe(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function Zoe(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>joe(h))),p(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&p(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function eae(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=f(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=f(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const a=f(t,["thoughtsTokenCount"]);a!=null&&p(e,["thoughtsTokenCount"],a);const s=f(t,["totalTokenCount"]);s!=null&&p(e,["totalTokenCount"],s);const l=f(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),p(e,["promptTokensDetails"],g)}const u=f(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>v)),p(e,["cacheTokensDetails"],g)}const c=f(t,["candidatesTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>v)),p(e,["responseTokensDetails"],g)}const d=f(t,["toolUsePromptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),p(e,["toolUsePromptTokensDetails"],g)}const h=f(t,["trafficType"]);return h!=null&&p(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tae(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function nae(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],rae(r));const i=f(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&p(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),p(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&p(e,["urlContextMetadata"],d),e}function rae(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function iae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["contents"]);if(i!=null){let o=On(i);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["contents"],o)}return n}function oae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["tokensInfo"],i)}return e}function aae(t){const e={},n=f(t,["values"]);n!=null&&p(e,["values"],n);const r=f(t,["statistics"]);return r!=null&&p(e,["statistics"],sae(r)),e}function sae(t){const e={},n=f(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=f(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function Ph(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>gse(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function lae(t){const e={},n=f(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=f(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function uae(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function cae(t,e){const n={},r=f(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],jt(r));const i=f(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>tN(s))),p(e,["tools"],a)}const o=f(t,["generationConfig"]);return e!==void 0&&o!=null&&p(e,["generationConfig"],tse(o)),n}function dae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["contents"]);if(i!=null){let a=On(i);Array.isArray(a)&&(a=a.map(s=>Ph(s))),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&uae(o),n}function fae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["contents"]);if(i!=null){let a=On(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&cae(o,n),n}function hae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const i=f(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function pae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function mae(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],Ce(t,r)),n}function gae(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],Ce(t,r)),n}function vae(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function yae(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function wae(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&p(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const g=f(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","mimeType"],v);const y=f(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const x=f(t,["addWatermark"]);e!==void 0&&x!=null&&p(e,["parameters","addWatermark"],x);const w=f(t,["labels"]);e!==void 0&&w!=null&&p(e,["labels"],w);const b=f(t,["editMode"]);e!==void 0&&b!=null&&p(e,["parameters","editMode"],b);const _=f(t,["baseSteps"]);return e!==void 0&&_!=null&&p(e,["parameters","editConfig","baseSteps"],_),n}function bae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>_se(l))),p(n,["instances[0]","referenceImages"],s)}const a=f(e,["config"]);return a!=null&&wae(a,n),n}function xae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ih(o))),p(e,["generatedImages"],i)}return e}function _ae(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Sae(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["instances[]","title"],i);const o=f(t,["outputDimensionality"]);e!==void 0&&o!=null&&p(e,["parameters","outputDimensionality"],o);const a=f(t,["mimeType"]);e!==void 0&&a!=null&&p(e,["instances[]","mimeType"],a);const s=f(t,["autoTruncate"]);return e!==void 0&&s!=null&&p(e,["parameters","autoTruncate"],s),n}function Eae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["contents"]);if(i!=null){let s=K0(t,i);Array.isArray(s)&&(s=s.map(l=>l)),p(n,["requests[]","content"],s)}const o=f(e,["config"]);o!=null&&_ae(o,n);const a=f(e,["model"]);return a!==void 0&&p(n,["requests[]","model"],Ce(t,a)),n}function Tae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["contents"]);if(i!=null){let a=K0(t,i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["instances[]","content"],a)}const o=f(e,["config"]);return o!=null&&Sae(o,n),n}function Aae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function Cae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>aae(a))),p(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function kae(t){const e={},n=f(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=f(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function Pae(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Iae(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Nae(t){const e={},n=f(t,["mode"]);n!=null&&p(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Oae(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function Rae(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],Ph(jt(i)));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const v=f(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const y=f(e,["seed"]);y!=null&&p(r,["seed"],y);const x=f(e,["responseMimeType"]);x!=null&&p(r,["responseMimeType"],x);const w=f(e,["responseSchema"]);w!=null&&p(r,["responseSchema"],J0(w));const b=f(e,["responseJsonSchema"]);if(b!=null&&p(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let R=_;Array.isArray(R)&&(R=R.map(j=>Sse(j))),p(n,["safetySettings"],R)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let R=ms(T);Array.isArray(R)&&(R=R.map(j=>Ise(ps(j)))),p(n,["tools"],R)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],Pse(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],Gr(t,E));const A=f(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const C=f(e,["mediaResolution"]);C!=null&&p(r,["mediaResolution"],C);const k=f(e,["speechConfig"]);if(k!=null&&p(r,["speechConfig"],Y0(k)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=f(e,["thinkingConfig"]);N!=null&&p(r,["thinkingConfig"],N);const P=f(e,["imageConfig"]);return P!=null&&p(r,["imageConfig"],ase(P)),r}function Mae(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],jt(i));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=f(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const v=f(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const y=f(e,["seed"]);y!=null&&p(r,["seed"],y);const x=f(e,["responseMimeType"]);x!=null&&p(r,["responseMimeType"],x);const w=f(e,["responseSchema"]);w!=null&&p(r,["responseSchema"],J0(w));const b=f(e,["responseJsonSchema"]);b!=null&&p(r,["responseJsonSchema"],b);const _=f(e,["routingConfig"]);_!=null&&p(r,["routingConfig"],_);const T=f(e,["modelSelectionConfig"]);T!=null&&p(r,["modelConfig"],T);const S=f(e,["safetySettings"]);if(n!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(L=>L)),p(n,["safetySettings"],M)}const E=f(e,["tools"]);if(n!==void 0&&E!=null){let M=ms(E);Array.isArray(M)&&(M=M.map(L=>tN(ps(L)))),p(n,["tools"],M)}const A=f(e,["toolConfig"]);n!==void 0&&A!=null&&p(n,["toolConfig"],A);const C=f(e,["labels"]);n!==void 0&&C!=null&&p(n,["labels"],C);const k=f(e,["cachedContent"]);n!==void 0&&k!=null&&p(n,["cachedContent"],Gr(t,k));const N=f(e,["responseModalities"]);N!=null&&p(r,["responseModalities"],N);const P=f(e,["mediaResolution"]);P!=null&&p(r,["mediaResolution"],P);const R=f(e,["speechConfig"]);R!=null&&p(r,["speechConfig"],eN(Y0(R)));const j=f(e,["audioTimestamp"]);j!=null&&p(r,["audioTimestamp"],j);const F=f(e,["thinkingConfig"]);F!=null&&p(r,["thinkingConfig"],F);const B=f(e,["imageConfig"]);return B!=null&&p(r,["imageConfig"],sse(B)),r}function DE(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["contents"]);if(i!=null){let a=On(i);Array.isArray(a)&&(a=a.map(s=>Ph(s))),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],Rae(t,o,n)),n}function jE(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["contents"]);if(i!=null){let a=On(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],Mae(t,o,n)),n}function LE(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>nae(u))),p(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function UE(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["candidates"],u)}const i=f(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=f(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const a=f(t,["promptFeedback"]);a!=null&&p(e,["promptFeedback"],a);const s=f(t,["responseId"]);s!=null&&p(e,["responseId"],s);const l=f(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function $ae(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["aspectRatio"]);e!==void 0&&i!=null&&p(e,["parameters","aspectRatio"],i);const o=f(t,["guidanceScale"]);if(e!==void 0&&o!=null&&p(e,["parameters","guidanceScale"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&p(e,["parameters","safetySetting"],a);const s=f(t,["personGeneration"]);e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s);const l=f(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&p(e,["parameters","includeSafetyAttributes"],l);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const c=f(t,["language"]);e!==void 0&&c!=null&&p(e,["parameters","language"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=f(t,["imageSize"]);if(e!==void 0&&g!=null&&p(e,["parameters","sampleImageSize"],g),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Dae(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&p(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const g=f(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","mimeType"],v);const y=f(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const x=f(t,["addWatermark"]);e!==void 0&&x!=null&&p(e,["parameters","addWatermark"],x);const w=f(t,["labels"]);e!==void 0&&w!=null&&p(e,["labels"],w);const b=f(t,["imageSize"]);e!==void 0&&b!=null&&p(e,["parameters","sampleImageSize"],b);const _=f(t,["enhancePrompt"]);return e!==void 0&&_!=null&&p(e,["parameters","enhancePrompt"],_),n}function jae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&$ae(o,n),n}function Lae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&Dae(o,n),n}function Uae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Xae(a))),p(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],Q2(i)),e}function Bae(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Ih(a))),p(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],Z2(i)),e}function Fae(t,e){const n={},r=f(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=f(t,["durationSeconds"]);if(e!==void 0&&i!=null&&p(e,["parameters","durationSeconds"],i),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const a=f(t,["resolution"]);e!==void 0&&a!=null&&p(e,["parameters","resolution"],a);const s=f(t,["personGeneration"]);if(e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const u=f(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&p(e,["parameters","enhancePrompt"],u),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=f(t,["lastFrame"]);e!==void 0&&c!=null&&p(e,["instances[0]","lastFrame"],Nh(c));const d=f(t,["referenceImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>zse(g))),p(e,["instances[0]","referenceImages"],h)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Vae(t,e){const n={},r=f(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=f(t,["fps"]);e!==void 0&&o!=null&&p(e,["parameters","fps"],o);const a=f(t,["durationSeconds"]);e!==void 0&&a!=null&&p(e,["parameters","durationSeconds"],a);const s=f(t,["seed"]);e!==void 0&&s!=null&&p(e,["parameters","seed"],s);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const u=f(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["pubsubTopic"]);e!==void 0&&d!=null&&p(e,["parameters","pubsubTopic"],d);const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const g=f(t,["enhancePrompt"]);e!==void 0&&g!=null&&p(e,["parameters","enhancePrompt"],g);const v=f(t,["generateAudio"]);e!==void 0&&v!=null&&p(e,["parameters","generateAudio"],v);const y=f(t,["lastFrame"]);e!==void 0&&y!=null&&p(e,["instances[0]","lastFrame"],tr(y));const x=f(t,["referenceImages"]);if(e!==void 0&&x!=null){let _=x;Array.isArray(_)&&(_=_.map(T=>qse(T))),p(e,["instances[0]","referenceImages"],_)}const w=f(t,["mask"]);e!==void 0&&w!=null&&p(e,["instances[0]","mask"],Vse(w));const b=f(t,["compressionQuality"]);return e!==void 0&&b!=null&&p(e,["parameters","compressionQuality"],b),n}function zae(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],Wae(a)),e}function qae(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],Kae(a)),e}function Gae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],Nh(o));const a=f(e,["video"]);a!=null&&p(n,["instances[0]","video"],nN(a));const s=f(e,["source"]);s!=null&&Jae(s,n);const l=f(e,["config"]);return l!=null&&Fae(l,n),n}function Hae(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],tr(o));const a=f(e,["video"]);a!=null&&p(n,["instances[0]","video"],rN(a));const s=f(e,["source"]);s!=null&&Yae(s,n);const l=f(e,["config"]);return l!=null&&Vae(l,n),n}function Wae(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Zae(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function Kae(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>ese(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function Jae(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Nh(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],nN(o)),n}function Yae(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],tr(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],rN(o)),n}function Xae(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],lse(n));const r=f(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=f(t,["_self"]);return i!=null&&p(e,["safetyAttributes"],Q2(i)),e}function Ih(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],X2(n));const r=f(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=f(t,["_self"]);i!=null&&p(e,["safetyAttributes"],Z2(i));const o=f(t,["prompt"]);return o!=null&&p(e,["enhancedPrompt"],o),e}function Qae(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["mask"],X2(n));const r=f(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["labels"],i)}return e}function Zae(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],Bse(n)),e}function ese(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],Fse(n)),e}function tse(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&p(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const g=f(t,["responseMimeType"]);g!=null&&p(e,["responseMimeType"],g);const v=f(t,["responseModalities"]);v!=null&&p(e,["responseModalities"],v);const y=f(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const x=f(t,["routingConfig"]);x!=null&&p(e,["routingConfig"],x);const w=f(t,["seed"]);w!=null&&p(e,["seed"],w);const b=f(t,["speechConfig"]);b!=null&&p(e,["speechConfig"],eN(b));const _=f(t,["stopSequences"]);_!=null&&p(e,["stopSequences"],_);const T=f(t,["temperature"]);T!=null&&p(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&p(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&p(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function nse(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],Ce(t,r)),n}function rse(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],Ce(t,r)),n}function ise(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function ose(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function ase(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function sse(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);r!=null&&p(e,["imageSize"],r);const i=f(t,["outputMimeType"]);i!=null&&p(e,["imageOutputOptions","mimeType"],i);const o=f(t,["outputCompressionQuality"]);return o!=null&&p(e,["imageOutputOptions","compressionQuality"],o),e}function lse(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],Ei(n));const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function X2(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],Ei(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Nh(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],Ei(n));const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function tr(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Ei(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function use(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],z2(t,s)),r}function cse(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],z2(t,s)),r}function dse(t,e){const n={},r=f(e,["config"]);return r!=null&&use(t,r,n),n}function fse(t,e){const n={},r=f(e,["config"]);return r!=null&&cse(t,r,n),n}function hse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=q2(i);Array.isArray(o)&&(o=o.map(a=>Tv(a))),p(e,["models"],o)}return e}function pse(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=q2(i);Array.isArray(o)&&(o=o.map(a=>Av(a))),p(e,["models"],o)}return e}function mse(t){const e={},n=f(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=f(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const i=f(t,["maskDilation"]);return i!=null&&p(e,["dilation"],i),e}function Tv(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const o=f(t,["version"]);o!=null&&p(e,["version"],o);const a=f(t,["_self"]);a!=null&&p(e,["tunedModelInfo"],Nse(a));const s=f(t,["inputTokenLimit"]);s!=null&&p(e,["inputTokenLimit"],s);const l=f(t,["outputTokenLimit"]);l!=null&&p(e,["outputTokenLimit"],l);const u=f(t,["supportedGenerationMethods"]);u!=null&&p(e,["supportedActions"],u);const c=f(t,["temperature"]);c!=null&&p(e,["temperature"],c);const d=f(t,["maxTemperature"]);d!=null&&p(e,["maxTemperature"],d);const h=f(t,["topP"]);h!=null&&p(e,["topP"],h);const g=f(t,["topK"]);g!=null&&p(e,["topK"],g);const v=f(t,["thinking"]);return v!=null&&p(e,["thinking"],v),e}function Av(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const o=f(t,["versionId"]);o!=null&&p(e,["version"],o);const a=f(t,["deployedModels"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>kae(h))),p(e,["endpoints"],d)}const s=f(t,["labels"]);s!=null&&p(e,["labels"],s);const l=f(t,["_self"]);l!=null&&p(e,["tunedModelInfo"],Ose(l));const u=f(t,["defaultCheckpointId"]);u!=null&&p(e,["defaultCheckpointId"],u);const c=f(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),p(e,["checkpoints"],d)}return e}function gse(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],Pae(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],Iae(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],tae(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function vse(t){const e={},n=f(t,["productImage"]);return n!=null&&p(e,["image"],tr(n)),e}function yse(t,e){const n={},r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["baseSteps"]);e!==void 0&&i!=null&&p(e,["parameters","baseSteps"],i);const o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const a=f(t,["seed"]);e!==void 0&&a!=null&&p(e,["parameters","seed"],a);const s=f(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&p(e,["parameters","safetySetting"],s);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const u=f(t,["addWatermark"]);e!==void 0&&u!=null&&p(e,["parameters","addWatermark"],u);const c=f(t,["outputMimeType"]);e!==void 0&&c!=null&&p(e,["parameters","outputOptions","mimeType"],c);const d=f(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","compressionQuality"],d);const h=f(t,["enhancePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h);const g=f(t,["labels"]);return e!==void 0&&g!=null&&p(e,["labels"],g),n}function wse(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["source"]);i!=null&&xse(i,n);const o=f(e,["config"]);return o!=null&&yse(o,n),n}function bse(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ih(i))),p(e,["generatedImages"],r)}return e}function xse(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["personImage"]);e!==void 0&&i!=null&&p(e,["instances[0]","personImage","image"],tr(i));const o=f(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>vse(s))),p(e,["instances[0]","productImages"],a)}return n}function _se(t){const e={},n=f(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],tr(n));const r=f(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const i=f(t,["referenceType"]);i!=null&&p(e,["referenceType"],i);const o=f(t,["maskImageConfig"]);o!=null&&p(e,["maskImageConfig"],mse(o));const a=f(t,["controlImageConfig"]);a!=null&&p(e,["controlImageConfig"],lae(a));const s=f(t,["styleImageConfig"]);s!=null&&p(e,["styleImageConfig"],s);const l=f(t,["subjectImageConfig"]);return l!=null&&p(e,["subjectImageConfig"],l),e}function Q2(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function Z2(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function Sse(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function Ese(t){const e={},n=f(t,["image"]);return n!=null&&p(e,["image"],tr(n)),e}function Tse(t,e){const n={},r=f(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const i=f(t,["maxPredictions"]);e!==void 0&&i!=null&&p(e,["parameters","maxPredictions"],i);const o=f(t,["confidenceThreshold"]);e!==void 0&&o!=null&&p(e,["parameters","confidenceThreshold"],o);const a=f(t,["maskDilation"]);e!==void 0&&a!=null&&p(e,["parameters","maskDilation"],a);const s=f(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&p(e,["parameters","binaryColorThreshold"],s);const l=f(t,["labels"]);return e!==void 0&&l!=null&&p(e,["labels"],l),n}function Ase(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["source"]);i!=null&&kse(i,n);const o=f(e,["config"]);return o!=null&&Tse(o,n),n}function Cse(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Qae(i))),p(e,["generatedMasks"],r)}return e}function kse(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],tr(i));const o=f(t,["scribbleImage"]);return e!==void 0&&o!=null&&p(e,["instances[0]","scribble"],Ese(o)),n}function eN(t){const e={},n=f(t,["languageCode"]);n!=null&&p(e,["languageCode"],n);const r=f(t,["voiceConfig"]);if(r!=null&&p(e,["voiceConfig"],r),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Pse(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],Nae(n));const r=f(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function Ise(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],ise(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],ose(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function tN(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>Oae(h))),p(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=f(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=f(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(t,["codeExecution"]);a!=null&&p(e,["codeExecution"],a);const s=f(t,["enterpriseWebSearch"]);s!=null&&p(e,["enterpriseWebSearch"],s);const l=f(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=f(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function Nse(t){const e={},n=f(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function Ose(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function Rse(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function Mse(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function $se(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","name"],Ce(t,r));const i=f(e,["config"]);return i!=null&&Rse(i,n),n}function Dse(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["config"]);return i!=null&&Mse(i,n),n}function jse(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&p(e,["parameters","safetySetting"],i);const o=f(t,["personGeneration"]);e!==void 0&&o!=null&&p(e,["parameters","personGeneration"],o);const a=f(t,["includeRaiReason"]);e!==void 0&&a!=null&&p(e,["parameters","includeRaiReason"],a);const s=f(t,["outputMimeType"]);e!==void 0&&s!=null&&p(e,["parameters","outputOptions","mimeType"],s);const l=f(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&p(e,["parameters","outputOptions","compressionQuality"],l);const u=f(t,["enhanceInputImage"]);e!==void 0&&u!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=f(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=f(t,["labels"]);e!==void 0&&d!=null&&p(e,["labels"],d);const h=f(t,["numberOfImages"]);e!==void 0&&h!=null&&p(e,["parameters","sampleCount"],h);const g=f(t,["mode"]);return e!==void 0&&g!=null&&p(e,["parameters","mode"],g),n}function Lse(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],Ce(t,r));const i=f(e,["image"]);i!=null&&p(n,["instances[0]","image"],tr(i));const o=f(e,["upscaleFactor"]);o!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=f(e,["config"]);return a!=null&&jse(a,n),n}function Use(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ih(o))),p(e,["generatedImages"],i)}return e}function Bse(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],Ei(r));const i=f(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function Fse(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],Ei(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Vse(t){const e={},n=f(t,["image"]);n!=null&&p(e,["_self"],tr(n));const r=f(t,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function zse(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],Nh(n));const r=f(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function qse(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],tr(n));const r=f(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function nN(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["videoBytes"]);r!=null&&p(e,["encodedVideo"],Ei(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["encoding"],i),e}function rN(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Ei(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gse="Content-Type",Hse="X-Server-Timeout",Wse="User-Agent",Cv="x-goog-api-client",Kse="1.30.0",Jse=`google-genai-sdk/${Kse}`,Yse="v1beta1",Xse="v1beta",BE=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Qse{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Yse,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Xse,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&Zse(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await FE(i),new _v(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await FE(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return pa(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:s,value:l}=yield Ge(i.read());if(s){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(l,{stream:!0});try{const d=JSON.parse(u);if("error"in d){const h=JSON.parse(JSON.stringify(d.error)),g=h.status,v=h.code,y=`got status: ${g}. ${JSON.stringify(d)}`;if(v>=400&&v<600)throw new kh({message:y,status:v})}}catch(d){if(d.name==="ApiError")throw d}a+=u;let c=a.match(BE);for(;c;){const d=c[1];try{const h=new Response(d,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ge(new _v(h)),a=a.slice(c[0].length),c=a.match(BE)}catch(h){throw new Error(`exception parsing stream chunk ${d}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Jse+" "+this.clientOptions.userAgentExtra;return e[Wse]=n,e[Cv]=n,e[Gse]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(Hse,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),c=te("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&r.customMetadata&&(d.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(d.chunkingConfig=r.chunkingConfig);const h=await this.fetchUploadUrl(u,s,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function FE(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new kh({message:i,status:n}):new Error(i)}}function Zse(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ele="mcp_used/unknown";let tle=!1;function iN(t){for(const e of t)if(nle(e)||typeof e=="object"&&"inputSchema"in e)return!0;return tle}function oN(t){var e;const n=(e=t[Cv])!==null&&e!==void 0?e:"";t[Cv]=(n+` ${ele}`).trimStart()}function nle(t){return t!==null&&typeof t=="object"&&t instanceof Q0}function rle(t,e=100){return pa(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield Ge(t.listTools({cursor:r}));for(const a of o.tools)yield yield Ge(a),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class Q0{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Q0(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,fl(rle(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;a.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Jre(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ile(t,e,n){const r=new Fre;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class ole{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=lle(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(_=>{u=_}),d=e.callbacks,h=function(){u({})},g=this.apiClient,v={onopen:h,onmessage:_=>{ile(g,d.onmessage,_)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(_){}},y=this.webSocketFactory.create(l,sle(a),v);y.connect(),await c;const b={setup:{model:Ce(this.apiClient,e.model)}};return y.send(JSON.stringify(b)),new ale(y,this.apiClient)}}class ale{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Hoe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Goe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(na.PLAY)}pause(){this.sendPlaybackControl(na.PAUSE)}stop(){this.sendPlaybackControl(na.STOP)}resetContext(){this.sendPlaybackControl(na.RESET_CONTEXT)}close(){this.conn.close()}}function sle(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function lle(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ule="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function cle(t,e,n){const r=new Bre;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=Joe(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class dle{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new ole(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&iN(e.config.tools)&&oN(d);const h=mle(d);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c);else{const k=this.apiClient.getApiKey();let N="BidiGenerateContent",P="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",P="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${N}?${P}=${k}`}let g=()=>{};const v=new Promise(k=>{g=k}),y=e.callbacks,x=function(){var k;(k=y==null?void 0:y.onopen)===null||k===void 0||k.call(y),g({})},w=this.apiClient,b={onopen:x,onmessage:k=>{cle(w,y.onmessage,k)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(k){}},_=this.webSocketFactory.create(c,ple(h),b);_.connect(),await v;let T=Ce(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const k=this.apiClient.getProject(),N=this.apiClient.getLocation();T=`projects/${k}/locations/${N}/`+T}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[cf.AUDIO]}:e.config.responseModalities=[cf.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],A=[];for(const k of E)if(this.isCallableTool(k)){const N=k;A.push(await N.tool())}else A.push(k);A.length>0&&(e.config.tools=A);const C={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=qoe(this.apiClient,C):S=zoe(this.apiClient,C),delete S.config,_.send(JSON.stringify(S)),new hle(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const fle={turnComplete:!0};class hle{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=On(n.turns),e.isVertexAI()||(r=r.map(i=>Ph(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(ule)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},fle),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Koe(e)}:n={realtimeInput:Woe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function ple(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function mle(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VE=10;function zE(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ma(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ma(t){return"callTool"in t&&typeof t.callTool=="function"}function gle(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>ma(i)))!==null&&r!==void 0?r:!1}function qE(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(ma(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function GE(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vle extends qr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!gle(n)||zE(n.config))return await this.generateContentInternal(l);const u=qE(n);if(u.length>0){const y=u.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let c,d;const h=On(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:VE;let v=0;for(;v<g&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const y=c.candidates[0].content,x=[];for(const w of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(ma(w)){const _=await w.callTool(c.functionCalls);x.push(..._)}v++,d={role:"user",parts:x},l.contents=On(l.contents),l.contents.push(y),l.contents.push(d),GE(l.config)&&(h.push(y),h.push(d))}return GE(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),zE(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=qE(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Eo(Lr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>ma(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&iN(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),oN(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ma(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:VE;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){var h,g;return pa(this,arguments,function*(){for(var v,y,x,w;s<o;){a&&(s++,a=!1);const S=yield Ge(u.processParamsMaybeAddMcpUsage(d)),E=yield Ge(u.generateContentStreamInternal(S)),A=[],C=[];try{for(var b=!0,_=(y=void 0,fl(E)),T;T=yield Ge(_.next()),v=T.done,!v;b=!0){w=T.value,b=!1;const k=w;if(yield yield Ge(k),k.candidates&&(!((h=k.candidates[0])===null||h===void 0)&&h.content)){C.push(k.candidates[0].content);for(const N of(g=k.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(s<o&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(N.functionCall.name)){const P=yield Ge(c.get(N.functionCall.name).callTool([N.functionCall]));A.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(k){y={error:k}}finally{try{!b&&!v&&(x=_.return)&&(yield Ge(x.call(_)))}finally{if(y)throw y.error}}if(A.length>0){a=!0;const k=new Bs;k.candidates=[{content:{role:"user",parts:A}}],yield yield Ge(k);const N=[];N.push(...C),N.push({role:"user",parts:A});const P=On(d.contents).concat(N);d.contents=P}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=jE(this.apiClient,e);return s=te("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=UE(c),h=new Bs;return Object.assign(h,d),h})}else{const u=DE(this.apiClient,e);return s=te("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=LE(c),h=new Bs;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=jE(this.apiClient,e);return s=te("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(d){return pa(this,arguments,function*(){var h,g,v,y;try{for(var x=!0,w=fl(d),b;b=yield Ge(w.next()),h=b.done,!h;x=!0){y=b.value,x=!1;const _=y,T=UE(yield Ge(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new Bs;Object.assign(S,T),yield yield Ge(S)}}catch(_){g={error:_}}finally{try{!x&&!h&&(v=w.return)&&(yield Ge(v.call(w)))}finally{if(g)throw g.error}}})})}else{const u=DE(this.apiClient,e);return s=te("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(d){return pa(this,arguments,function*(){var h,g,v,y;try{for(var x=!0,w=fl(d),b;b=yield Ge(w.next()),h=b.done,!h;x=!0){y=b.value,x=!1;const _=y,T=LE(yield Ge(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new Bs;Object.assign(S,T),yield yield Ge(S)}}catch(_){g={error:_}}finally{try{!x&&!h&&(v=w.return)&&(yield Ge(v.call(w)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Tae(this.apiClient,e);return s=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Cae(c),h=new bE;return Object.assign(h,d),h})}else{const u=Eae(this.apiClient,e);return s=te("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Aae(c),h=new bE;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Lae(this.apiClient,e);return s=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Bae(c),h=new xE;return Object.assign(h,d),h})}else{const u=jae(this.apiClient,e);return s=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Uae(c),h=new xE;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=bae(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=xae(l),c=new Pre;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Lse(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Use(l),c=new Ire;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=wse(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=bse(l),c=new Nre;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Ase(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Cse(l),c=new Ore;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=rse(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Av(c))}else{const u=nse(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Tv(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=fse(this.apiClient,e);return s=te("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=pse(c),h=new _E;return Object.assign(h,d),h})}else{const u=dse(this.apiClient,e);return s=te("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=hse(c),h=new _E;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Dse(this.apiClient,e);return s=te("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Av(c))}else{const u=$se(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Tv(c))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=gae(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=yae(c),h=new SE;return Object.assign(h,d),h})}else{const u=mae(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=vae(c),h=new SE;return Object.assign(h,d),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=fae(this.apiClient,e);return s=te("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=pae(c),h=new EE;return Object.assign(h,d),h})}else{const u=dae(this.apiClient,e);return s=te("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=hae(c),h=new EE;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=iae(this.apiClient,e);return o=te("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=oae(l),c=new Rre;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Hae(this.apiClient,e);return s=te("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=qae(c),h=new df;return Object.assign(h,d),h})}else{const u=Gae(this.apiClient,e);return s=te("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const d=zae(c),h=new df;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yle extends qr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Sre(e);return s=te("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=_re(e);return s=te("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=mre(e);return o=te("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wle(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function ble(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ple(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function xle(t,e,n){const r={},i=f(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=f(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const a=f(e,["uses"]);n!==void 0&&a!=null&&p(n,["uses"],a);const s=f(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],kle(t,s));const l=f(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function _le(t,e){const n={},r=f(e,["config"]);return r!=null&&p(n,["config"],xle(t,r,n)),n}function Sle(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Ele(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Tle(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Ale(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Cle(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],X0(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=f(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],ble(jt(v)));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let E=ms(y);Array.isArray(E)&&(E=E.map(A=>Nle(ps(A)))),p(e,["setup","tools"],E)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&p(e,["setup","sessionResumption"],Ile(x));const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&p(e,["setup","inputAudioTranscription"],w);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);return e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),n}function kle(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],Ce(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],Cle(i,n)),n}function Ple(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],Sle(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],Ele(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],wle(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Ile(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Nle(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=f(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=f(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const a=f(t,["codeExecution"]);if(a!=null&&p(e,["codeExecution"],a),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],Tle(s));const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],Ale(l));const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ole(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Rle(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Ole(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Mle extends qr{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=_le(this.apiClient,e);o=te("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=Rle(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $le(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["displayName"],r),n}function Dle(t){const e={},n=f(t,["config"]);return n!=null&&$le(n,e),e}function jle(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function Lle(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&jle(r,e),e}function Ule(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function Ble(t,e){const n={},r=f(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["customMetadata"],o)}const i=f(t,["chunkingConfig"]);return e!==void 0&&i!=null&&p(e,["chunkingConfig"],i),n}function Fle(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],zle(a)),e}function Vle(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["fileName"]);r!=null&&p(e,["fileName"],r);const i=f(t,["config"]);return i!=null&&Ble(i,e),e}function zle(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function qle(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function Gle(t){const e={},n=f(t,["config"]);return n!=null&&qle(n,e),e}function Hle(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["fileSearchStores"],o)}return e}function Wle(t,e){const n={},r=f(t,["mimeType"]);e!==void 0&&r!=null&&p(e,["mimeType"],r);const i=f(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(e,["customMetadata"],s)}const a=f(t,["chunkingConfig"]);return e!==void 0&&a!=null&&p(e,["chunkingConfig"],a),n}function Kle(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["config"]);return r!=null&&Wle(r,e),e}function Jle(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yle(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function Xle(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&Yle(r,e),e}function Qle(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function Zle(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function eue(t){const e={},n=f(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const r=f(t,["config"]);return r!=null&&Zle(r,e),e}function tue(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nue extends qr{constructor(e){super(),this.apiClient=e,this.list=async n=>new Eo(Lr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Qle(e);return o=te("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Xle(e);i=te("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=eue(e);return o=te("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=tue(l),c=new Mre;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rue extends qr{constructor(e,n=new nue(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Eo(Lr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Dle(e);return o=te("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ule(e);return o=te("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Lle(e);i=te("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Gle(e);return o=te("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Hle(l),c=new $re;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Kle(e);return o=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Jle(l),c=new Dre;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Vle(e);return o=te("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Fle(l),c=new H0;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iue(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function oue(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function aue(t,e,n){const r={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&p(e,["displayName"],i),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(t,["epochCount"]);e!==void 0&&o!=null&&p(e,["tuningTask","hyperparameters","epochCount"],o);const a=f(t,["learningRateMultiplier"]);if(a!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=f(t,["batchSize"]);e!==void 0&&s!=null&&p(e,["tuningTask","hyperparameters","batchSize"],s);const l=f(t,["learningRate"]);if(e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","learningRate"],l),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function sue(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=f(t,["validationDataset"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec"],HE(g))}else if(i==="PREFERENCE_TUNING"){const g=f(t,["validationDataset"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec"],HE(g))}const o=f(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&p(e,["tunedModelDisplayName"],o);const a=f(t,["description"]);e!==void 0&&a!=null&&p(e,["description"],a);let s=f(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const g=f(t,["epochCount"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(s==="PREFERENCE_TUNING"){const g=f(t,["epochCount"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=f(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=f(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=f(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=f(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=f(t,["adapterSize"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(c==="PREFERENCE_TUNING"){const g=f(t,["adapterSize"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=f(t,["labels"]);e!==void 0&&d!=null&&p(e,["labels"],d);const h=f(t,["beta"]);return e!==void 0&&h!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function lue(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&wue(o);const a=f(t,["config"]);return a!=null&&aue(a,n),n}function uue(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&bue(o,n,e);const a=f(t,["config"]);return a!=null&&sue(a,n,e),n}function cue(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function due(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function fue(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function hue(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function pue(t,e){const n={},r=f(t,["config"]);return r!=null&&fue(r,n),n}function mue(t,e){const n={},r=f(t,["config"]);return r!=null&&hue(r,n),n}function gue(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>aN(s))),p(n,["tuningJobs"],a)}return n}function vue(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>kv(s))),p(n,["tuningJobs"],a)}return n}function yue(t,e){const n={},r=f(t,["name"]);r!=null&&p(n,["model"],r);const i=f(t,["name"]);return i!=null&&p(n,["endpoint"],i),n}function wue(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function bue(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function aN(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],F2(o));const a=f(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(t,["tuningTask","startTime"]);s!=null&&p(n,["startTime"],s);const l=f(t,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["description"]);c!=null&&p(n,["description"],c);const d=f(t,["baseModel"]);d!=null&&p(n,["baseModel"],d);const h=f(t,["_self"]);return h!=null&&p(n,["tunedModel"],yue(h)),n}function kv(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],F2(o));const a=f(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(t,["startTime"]);s!=null&&p(n,["startTime"],s);const l=f(t,["endTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["error"]);c!=null&&p(n,["error"],c);const d=f(t,["description"]);d!=null&&p(n,["description"],d);const h=f(t,["baseModel"]);h!=null&&p(n,["baseModel"],h);const g=f(t,["tunedModel"]);g!=null&&p(n,["tunedModel"],g);const v=f(t,["preTunedModel"]);v!=null&&p(n,["preTunedModel"],v);const y=f(t,["supervisedTuningSpec"]);y!=null&&p(n,["supervisedTuningSpec"],y);const x=f(t,["preferenceOptimizationSpec"]);x!=null&&p(n,["preferenceOptimizationSpec"],x);const w=f(t,["tuningDataStats"]);w!=null&&p(n,["tuningDataStats"],w);const b=f(t,["encryptionSpec"]);b!=null&&p(n,["encryptionSpec"],b);const _=f(t,["partnerModelTuningSpec"]);_!=null&&p(n,["partnerModelTuningSpec"],_);const T=f(t,["customBaseModel"]);T!=null&&p(n,["customBaseModel"],T);const S=f(t,["experiment"]);S!=null&&p(n,["experiment"],S);const E=f(t,["labels"]);E!=null&&p(n,["labels"],E);const A=f(t,["outputUri"]);A!=null&&p(n,["outputUri"],A);const C=f(t,["pipelineJob"]);C!=null&&p(n,["pipelineJob"],C);const k=f(t,["serviceAccount"]);k!=null&&p(n,["serviceAccount"],k);const N=f(t,["tunedModelDisplayName"]);N!=null&&p(n,["tunedModelDisplayName"],N);const P=f(t,["veoTuningSpec"]);return P!=null&&p(n,["veoTuningSpec"],P),n}function xue(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(t,["done"]);a!=null&&p(n,["done"],a);const s=f(t,["error"]);return s!=null&&p(n,["error"],s),n}function HE(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=f(t,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _ue extends qr{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Eo(Lr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:xv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=due(e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>kv(c))}else{const u=cue(e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>aN(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=mue(e);return s=te("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=vue(c),h=new TE;return Object.assign(h,d),h})}else{const u=pue(e);return s=te("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=gue(c),h=new TE;return Object.assign(h,d),h})}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=oue(e);a=te("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=iue(e);a=te("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=uue(e,e);return o=te("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>kv(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=lue(e);return o=te("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>xue(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sue{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Eue=1024*1024*8,Tue=3,Aue=1e3,Cue=2,hf="x-goog-upload-status";async function kue(t,e,n){var r;const i=await sN(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[hf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Pue(t,e,n){var r;const i=await sN(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[hf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=$2(o),s=new W0;return Object.assign(s,a),s}async function sN(t,e,n){var r,i;let o=0,a=0,s=new _v(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min(Eue,o-a),c=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let d=0,h=Aue;for(;d<Tue&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[hf]));)d++,await Nue(h),h=h*Cue;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[hf])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function Iue(t){return{size:t.size,type:t.type}}function Nue(t){return new Promise(e=>setTimeout(e,t))}class Oue{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kue(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Pue(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Iue(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rue{create(e,n,r){return new Mue(e,n,r)}}class Mue{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WE="x-goog-api-key";class $ue{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(WE)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(WE,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Due="gl-node/";class jue{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=hre(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new $ue(this.apiKey);this.apiClient=new Qse({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Due+"web",uploader:new Oue,downloader:new Sue}),this.models=new vle(this.apiClient),this.live=new dle(this.apiClient,i,new Rue),this.batches=new Vie(this.apiClient),this.chats=new Soe(this.models,this.apiClient),this.caches=new boe(this.apiClient),this.files=new Roe(this.apiClient),this.operations=new yle(this.apiClient),this.authTokens=new Mle(this.apiClient),this.tunings=new _ue(this.apiClient),this.fileSearchStores=new rue(this.apiClient)}}var KE={};const Lue=async t=>{if(!KE.API_KEY)return"API key not configured. Please set the API_KEY environment variable.";try{return(await new jue({apiKey:KE.API_KEY}).models.generateContent({model:"gemini-2.5-flash",contents:t,config:{systemInstruction:"You are an expert business analyst for a POS system. Provide concise, data-driven insights based on the user's query. Format your response as clean markdown."}})).text}catch(e){return console.error("Gemini API error:",e),"Sorry, I couldn't fetch insights at the moment. Please try again later."}},Uue=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5L12 3m0 0l7.5 7.5M12 3v18"})}),Bue=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5L12 21m0 0l-7.5-7.5M12 21V3"})}),Fs=({title:t,value:e,change:n,changeType:r,icon:i})=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-neutral-500 dark:text-neutral-400",children:t}),m.jsx("p",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100 mt-2",children:e}),m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsxs("span",{className:`flex items-center text-xs font-semibold ${r==="increase"?"text-green-500":"text-red-500"}`,children:[r==="increase"?m.jsx(Uue,{className:"w-3 h-3 mr-1"}):m.jsx(Bue,{className:"w-3 h-3 mr-1"}),n]}),m.jsx("span",{className:"text-xs text-neutral-400 ml-1",children:"vs last month"})]})]}),m.jsx("div",{className:"bg-primary-100 dark:bg-primary-900/50 text-primary-600 dark:text-primary-400 p-3 rounded-full",children:i})]}),Fue=()=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Sales Overview"}),m.jsx("div",{style:{width:"100%",height:300},children:m.jsx(s0,{children:m.jsxs(sre,{data:p$,children:[m.jsx(z0,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.2)"}),m.jsx(fs,{dataKey:"name",tick:{fill:"#94a3b8"}}),m.jsx(hs,{tick:{fill:"#94a3b8"}}),m.jsx(En,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"0.5rem"}}),m.jsx(hi,{wrapperStyle:{color:"#94a3b8"}}),m.jsx(Iu,{type:"monotone",dataKey:"sales",stroke:"#4f46e5",strokeWidth:2,activeDot:{r:8}})]})})})]}),Vue=()=>{const t=["#4f46e5","#6366f1","#818cf8","#a5b4fc"];return m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Top Selling Products"}),m.jsx("div",{style:{width:"100%",height:300},className:"flex items-center justify-center",children:m.jsx(s0,{children:m.jsxs(ure,{children:[m.jsx(zr,{data:xb,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:xb.map((e,n)=>m.jsx(rh,{fill:t[n%t.length]},`cell-${n}`))}),m.jsx(En,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"0.5rem"}}),m.jsx(hi,{wrapperStyle:{color:"#94a3b8"}})]})})})]})},zue=()=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4",children:"Recent Activity"}),m.jsx("ul",{className:"space-y-4",children:m$.map(t=>m.jsxs("li",{className:"flex items-center",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/50 flex items-center justify-center mr-4",children:m.jsx("span",{className:"text-sm font-bold text-primary-600 dark:text-primary-300",children:t.user.charAt(0)})}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-sm text-neutral-700 dark:text-neutral-200",children:[m.jsx("span",{className:"font-semibold",children:t.user})," ",t.action.toLowerCase()]}),m.jsx("p",{className:"text-xs text-neutral-400",children:new Date(t.timestamp).toLocaleTimeString()})]})]},t.id))})]}),que=({products:t,sales:e})=>{const[n,r]=I.useState(""),[i,o]=I.useState(""),[a,s]=I.useState(!1),l=async()=>{if(!n.trim())return;s(!0);const c=`${`Context: ${t.length} products in inventory, ${e.length} total sales records.`}
${n}`,d=await Lue(c);o(d),s(!1)};return m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsxs("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4 flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 mr-2 text-primary-500",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.553L16.5 21.75l-.398-1.197a3.375 3.375 0 00-2.456-2.456L12.75 18l1.197-.398a3.375 3.375 0 002.456-2.456L17.25 14.25l.398 1.197a3.375 3.375 0 002.456 2.456L21 18l-1.197.398a3.375 3.375 0 00-2.456 2.456z"})}),"AI-Powered Insights"]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),placeholder:"e.g., 'Summarize today's performance'",className:"flex-grow bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:outline-none",disabled:a}),m.jsx("button",{onClick:l,disabled:a,className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 disabled:bg-primary-400 disabled:cursor-not-allowed transition-colors",children:a?"Thinking...":"Ask"})]}),i&&m.jsx("div",{className:"mt-4 p-4 bg-neutral-50 dark:bg-neutral-900 rounded-lg prose prose-sm dark:prose-invert max-w-none",children:m.jsx("p",{children:i})})]})},Gue=({products:t})=>{const e=t.filter(r=>typeof r.lowStockThreshold<"u"&&r.stock<=r.lowStockThreshold).sort((r,i)=>r.stock-i.stock),n=r=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...r,children:m.jsx("path",{fillRule:"evenodd",d:"M8.485 3.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 3.495zM10 6a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 6zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})});return m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md h-full",children:[m.jsxs("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-4 flex items-center",children:[m.jsx(n,{className:"h-6 w-6 mr-2 text-yellow-500"}),"Low Stock Alerts"]}),e.length>0?m.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:e.map(r=>m.jsxs("li",{className:"flex justify-between items-center text-sm p-2 rounded-md bg-neutral-50 dark:bg-neutral-700/50",children:[m.jsx("span",{className:"text-neutral-700 dark:text-neutral-200 font-medium",children:r.name}),m.jsxs("span",{className:"font-semibold text-red-500",children:[r.stock," ",r.unit||"items"," left"]})]},r.id))}):m.jsxs("div",{className:"text-center text-neutral-500 dark:text-neutral-400 py-8 flex flex-col items-center justify-center h-full",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mb-2 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("p",{children:"All stock levels are healthy."})]})]})},{ChartBarIcon:Hue,UsersIcon:Wue,CubeIcon:Kue,ShoppingCartIcon:Jue,KeyIcon:Yue}=fr,Xue=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0"})}),Que=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Zue=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z",clipRule:"evenodd"})}),ece=({isOpen:t,onClose:e,userWidgets:n,onWidgetChange:r,t:i})=>t?m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-md",children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700",children:[m.jsx("h3",{className:"text-lg font-semibold",children:"Customize Dashboard"}),m.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:m.jsx(Que,{className:"w-6 h-6"})})]}),m.jsx("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto",children:s$.map(o=>m.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-neutral-50 dark:bg-neutral-700/50",children:[m.jsx("span",{className:"font-medium text-neutral-800 dark:text-neutral-100",children:i(o.name)}),m.jsx("input",{type:"checkbox",checked:!!n[o.id],onChange:a=>r(o.id,a.target.checked),className:"h-5 w-5 rounded border-neutral-300 text-primary-600 focus:ring-primary-500"})]},o.id))}),m.jsx("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700",children:m.jsx("button",{onClick:e,className:"bg-primary-600 text-white font-semibold px-5 py-2.5 rounded-lg hover:bg-primary-700 transition-colors",children:"Done"})})]})}):null,tce=({featureName:t})=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md h-full flex flex-col items-center justify-center text-center relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-neutral-50 dark:bg-neutral-700/30 opacity-50"}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("div",{className:"w-12 h-12 bg-neutral-200 dark:bg-neutral-700 text-neutral-400 dark:text-neutral-500 rounded-full flex items-center justify-center mx-auto mb-3",children:m.jsx(Zue,{className:"w-6 h-6"})}),m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-1",children:t}),m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"This feature is available in Premium & Enterprise plans."}),m.jsx("button",{className:"mt-4 text-sm font-semibold bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Upgrade Now"})]})]}),nce=({products:t,sales:e,user:n,onWidgetChange:r,formatCurrency:i,t:o,activeLicense:a,licenseKeys:s})=>{var v;const[l,u]=O.useState(!1),{dashboardWidgets:c}=n,d=Object.values(c).filter(Boolean).length,h=s.length,g=s.filter(y=>y.status==="Active").length;return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:o("Dashboard")}),m.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-white dark:bg-neutral-700/80 border border-neutral-200 dark:border-neutral-600 text-neutral-700 dark:text-neutral-200 font-semibold px-4 py-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-600 transition-colors",children:[m.jsx(Xue,{className:"w-5 h-5"}),"Customize"]})]}),d===0&&m.jsxs("div",{className:"text-center py-20 bg-white dark:bg-neutral-800 rounded-lg shadow-md",children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Your dashboard is empty!"}),m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 mt-2",children:'Click the "Customize" button to add widgets.'})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.totalRevenue&&m.jsx(Fs,{title:o("Total Revenue"),value:i(75231.89),change:"+12.5%",changeType:"increase",icon:m.jsx(Hue,{className:"w-6 h-6"})}),c.newCustomers&&m.jsx(Fs,{title:o("New Customers"),value:"1,204",change:"+8.2%",changeType:"increase",icon:m.jsx(Wue,{className:"w-6 h-6"})}),c.productsSold&&m.jsx(Fs,{title:o("Products Sold"),value:"5,890",change:"-1.7%",changeType:"decrease",icon:m.jsx(Kue,{className:"w-6 h-6"})}),c.todaysTransactions&&m.jsx(Fs,{title:o("Todays Transactions"),value:"23",change:"+5",changeType:"increase",icon:m.jsx(Jue,{className:"w-6 h-6"})}),c.licenseActivations&&m.jsx(Fs,{title:o("License Activations"),value:`${g} / ${h}`,change:`${h>0?(g/h*100).toFixed(0):0}% Active`,changeType:"increase",icon:m.jsx(Yue,{className:"w-6 h-6"})})]}),(c.salesOverview||c.topProducts)&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.salesOverview&&m.jsx("div",{className:"lg:col-span-2",children:m.jsx(Fue,{})}),c.topProducts&&m.jsx("div",{className:c.salesOverview?"":"lg:col-span-3",children:m.jsx(Vue,{})})]}),(c.recentActivity||c.lowStockAlerts||c.aiInsights)&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(c.recentActivity||c.lowStockAlerts)&&m.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.recentActivity&&m.jsx(zue,{}),c.lowStockAlerts&&m.jsx(Gue,{products:t})]}),c.aiInsights&&m.jsx("div",{className:c.recentActivity||c.lowStockAlerts?"lg:col-span-2":"lg:col-span-3",children:(v=a==null?void 0:a.enabledFeatures)!=null&&v.includes("AI_INSIGHTS")?m.jsx(que,{products:t,sales:e}):m.jsx(tce,{featureName:"AI-Powered Insights"})})]}),m.jsx(ece,{isOpen:l,onClose:()=>u(!1),userWidgets:c,onWidgetChange:r,t:o})]})},{BanknotesIcon:rce,TagIcon:ice,UserGroupIcon:JE,ChatBubbleLeftRightIcon:oce,PrinterIcon:ace,ShoppingCartIcon:sce,CubeIcon:YE}=fr,lce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),XE=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m6-6H6"})}),uce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12H6"})}),Vp=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),cce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),dce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),fce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})}),hce=({user:t,customers:e,products:n,onAddSale:r,onAddCustomer:i,heldCarts:o,setHeldCarts:a,formatCurrency:s,t:l,businessName:u})=>{const[c,d]=O.useState([]),[h,g]=O.useState(""),[v,y]=O.useState(null),[x,w]=O.useState(!1),[b,_]=O.useState(!1),[T,S]=O.useState(!1),[E,A]=O.useState(!1),[C,k]=O.useState(!1),[N,P]=O.useState(!1),[R,j]=O.useState(null),[F,B]=O.useState(""),[M,L]=O.useState("Cash"),[$,U]=O.useState(""),[H,V]=O.useState(""),[q,Q]=O.useState(!1),[ne,ye]=O.useState(null),[xe,je]=O.useState("percentage"),[$e,Z]=O.useState(""),[ue,de]=O.useState(""),[D,fe]=O.useState(!1),[oe,_e]=O.useState({name:"",phone:"",email:""}),Se=O.useMemo(()=>n.filter(G=>G.name.toLowerCase().includes(h.toLowerCase())||G.sku.toLowerCase().includes(h.toLowerCase())),[n,h]),Ke=O.useMemo(()=>ue?e.filter(G=>G.name.toLowerCase().includes(ue.toLowerCase())||G.phone.includes(ue)):[],[e,ue]),wt=G=>{let se=G.price;return G.discountType==="percentage"&&G.discountValue?se=se-se*(G.discountValue/100):G.discountType==="amount"&&G.discountValue&&(se=se-G.discountValue),Math.max(0,se)},Tt=O.useMemo(()=>c.reduce((G,se)=>G+wt(se)*se.quantity,0),[c]),Ut=O.useMemo(()=>{if(q&&v){const G=v.loyaltyPoints*yb;return Math.min(G,Tt)}return 0},[q,v,Tt]),at=(Tt-Ut)*.08,At=Tt-Ut+at,mr=G=>{if(G.stock<=0){alert(l("Out of Stock"));return}d(se=>{const ke=se.find(K=>K.id===G.id);return ke?ke.quantity>=G.stock?(alert(l("Stock Limit Exceeded")),se):se.map(K=>K.id===G.id?{...K,quantity:K.quantity+1}:K):[...se,{...G,quantity:1}]})},Ai=(G,se)=>{d(ke=>ke.map(K=>{if(K.id===G){const W=K.quantity+se,X=n.find(ee=>ee.id===G);return X&&se>0&&W>X.stock?(alert(l("Stock Limit Exceeded")),K):{...K,quantity:Math.max(1,W)}}return K}))},Re=G=>{d(se=>se.filter(ke=>ke.id!==G))},Ci=()=>{d([]),y(null),de(""),Q(!1)},bs=G=>{var ke;ye(G);const se=c[G];je(se.discountType||"percentage"),Z(((ke=se.discountValue)==null?void 0:ke.toString())||""),P(!0)},xs=()=>{if(ne!==null){const G=parseFloat($e);d(se=>se.map((ke,K)=>K===ne?{...ke,discountType:xe,discountValue:isNaN(G)?0:G}:ke)),P(!1),ye(null)}},Ou=G=>{y(G),de(G.name),V(G.phone),fe(!1)},Mh=G=>{G.preventDefault();const se=i({...oe,loyaltyPoints:0,dueAmount:0,creditLimit:500});y(se),de(se.name),V(se.phone),k(!1),_e({name:"",phone:"",email:""})},Ru=()=>{if(c.length===0)return;const G={id:`hc${Date.now()}`,items:c,customer:v,timestamp:new Date().toISOString(),note:$};a(se=>[G,...se]),Ci(),S(!1),U("")},$h=G=>{d(G.items),y(G.customer),G.customer&&de(G.customer.name),a(se=>se.filter(ke=>ke.id!==G.id)),A(!1)},Dh=G=>{a(se=>se.filter(ke=>ke.id!==G))},nn=()=>{B(At.toFixed(2)),w(!0)},Ln=()=>{const G=parseFloat(F),se=M==="Credit",ke=!se&&G<At;if(se){if(!v){alert("Cannot process credit sale without a customer.");return}const X=v.dueAmount+At;if(v.creditLimit&&X>v.creditLimit){alert(`Credit limit exceeded! Limit: ${s(v.creditLimit)}, Current Due: ${s(v.dueAmount)}, New Total Due would be: ${s(X)}`);return}}const K=se?"Credit":ke?"Partial":M,W={id:"temp",total:At,date:"temp",cashier:t.name,cashierId:t.id,items:c.reduce((X,ee)=>X+ee.quantity,0),customerId:(v==null?void 0:v.id)||"guest",customerName:(v==null?void 0:v.name)||"Guest",amountPaid:se?0:G,paymentMethod:K,organizationId:t.organizationId};r(W),j(W),w(!1),_(!0),Ci()},jh=()=>{if(!R)return;const G=c.map(ke=>`${ke.quantity}x ${ke.name} (${s(wt(ke))})`).join("%0a"),se=`*Invoice from ${u}*%0aDate: ${new Date().toLocaleDateString()}%0a%0a${G}%0a%0a*Total: ${s(R.total)}*%0aThank you for your business!`;window.open(`https://wa.me/${H}?text=${se}`,"_blank")},Lh=()=>{window.print()},Uh=G=>{if(G.key==="Enter"){const se=h.trim().toLowerCase();if(!se)return;const ke=n.find(W=>W.sku.toLowerCase()===se);if(ke){mr(ke),g("");return}const K=n.find(W=>W.name.toLowerCase()===se);if(K){mr(K),g("");return}Se.length===1&&(mr(Se[0]),g(""))}};return m.jsxs("div",{className:"flex flex-col h-full md:flex-row gap-6 overflow-hidden",children:[m.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white dark:bg-neutral-800 rounded-xl shadow-md",children:[m.jsx("div",{className:"p-4 border-b dark:border-neutral-700 flex flex-col gap-3",children:m.jsxs("div",{className:"relative",children:[m.jsx(lce,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),m.jsx("input",{type:"text",placeholder:l("Search"),value:h,onChange:G=>g(G.target.value),onKeyDown:Uh,autoFocus:!0,className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg pl-10 pr-4 py-3 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:m.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[Se.map(G=>{const se=G.stock<=0;return m.jsxs("div",{onClick:()=>!se&&mr(G),className:`bg-neutral-50 dark:bg-neutral-700/50 p-3 rounded-lg border border-neutral-200 dark:border-neutral-700 transition-all flex flex-col items-center text-center group ${se?"opacity-60 cursor-not-allowed bg-neutral-200 dark:bg-neutral-800":"cursor-pointer hover:shadow-md hover:border-primary-300"}`,children:[m.jsx("div",{className:"w-20 h-20 mb-3 rounded-md bg-white dark:bg-neutral-600 flex items-center justify-center overflow-hidden",children:G.imageUrl?m.jsx("img",{src:G.imageUrl,alt:G.name,className:`w-full h-full object-cover ${se?"grayscale":""}`}):m.jsx(YE,{className:"w-8 h-8 text-neutral-300 group-hover:text-primary-500 transition-colors"})}),m.jsx("h3",{className:"font-semibold text-sm text-neutral-800 dark:text-neutral-100 line-clamp-2",children:G.name}),m.jsx("p",{className:"text-primary-600 dark:text-primary-400 font-bold mt-1",children:s(G.price)}),m.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:[G.stock," in stock"]}),se&&m.jsx("span",{className:"text-xs font-bold text-red-500 mt-1",children:l("Out of Stock")})]},G.id)}),Se.length===0&&m.jsx("div",{className:"col-span-full text-center py-10 text-neutral-500",children:"No products found."})]})})]}),m.jsxs("div",{className:"w-full md:w-96 flex flex-col bg-white dark:bg-neutral-800 rounded-xl shadow-md h-full overflow-hidden",children:[m.jsxs("div",{className:"p-4 border-b dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-700/30",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h2",{className:"font-bold text-lg",children:l("Current Order")}),m.jsxs("div",{className:"flex gap-1",children:[o.length>0&&m.jsxs("button",{onClick:()=>A(!0),className:"relative p-2 text-primary-600 hover:bg-primary-50 rounded-full",title:"View Held Orders",children:[m.jsx(dce,{className:"w-5 h-5"}),m.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 rounded-full"})]}),m.jsx("button",{onClick:()=>c.length>0&&S(!0),disabled:c.length===0,className:"text-xs font-medium bg-amber-100 text-amber-800 px-2 py-1 rounded hover:bg-amber-200 disabled:opacity-50",children:l("Hold")}),m.jsx("button",{onClick:Ci,className:"text-xs font-medium bg-red-100 text-red-800 px-2 py-1 rounded hover:bg-red-200",children:l("Clear Cart")})]})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"relative flex-grow",children:[m.jsx(JE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400"}),m.jsx("input",{type:"text",placeholder:"Walk-in Customer",value:ue,onChange:G=>{de(G.target.value),fe(!0),G.target.value===""&&y(null)},className:"w-full text-sm bg-white dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded-lg pl-9 pr-8 py-2 focus:ring-1 focus:ring-primary-500 focus:outline-none"}),v&&m.jsx("button",{onClick:()=>{y(null),de("")},className:"absolute right-2 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-red-500",children:m.jsx(cce,{className:"w-4 h-4"})})]}),m.jsx("button",{onClick:()=>k(!0),className:"bg-primary-600 text-white p-2 rounded-lg hover:bg-primary-700",children:m.jsx(XE,{className:"w-5 h-5"})})]}),D&&Ke.length>0&&m.jsx("div",{className:"absolute top-full left-0 right-0 z-20 mt-1 bg-white dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Ke.map(G=>m.jsxs("div",{onClick:()=>Ou(G),className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-600 cursor-pointer border-b border-neutral-100 dark:border-neutral-600 last:border-0",children:[m.jsx("p",{className:"font-semibold text-sm text-neutral-800 dark:text-neutral-200",children:G.name}),m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:G.phone})]},G.id))})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:c.length===0?m.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-neutral-400",children:[m.jsx(sce,{className:"w-12 h-12 mb-2 opacity-50"}),m.jsx("p",{children:"Cart is empty"})]}):c.map((G,se)=>{const ke=wt(G),K=ke<G.price;return m.jsxs("div",{className:"flex items-center gap-3 bg-neutral-50 dark:bg-neutral-700/30 p-2 rounded-lg border border-neutral-100 dark:border-neutral-700/50",children:[m.jsx("div",{className:"w-12 h-12 bg-white dark:bg-neutral-600 rounded-md flex items-center justify-center flex-shrink-0 overflow-hidden border border-neutral-200 dark:border-neutral-600",children:G.imageUrl?m.jsx("img",{src:G.imageUrl,alt:G.name,className:"w-full h-full object-cover"}):m.jsx(YE,{className:"w-6 h-6 text-neutral-300"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"text-sm font-medium truncate text-neutral-800 dark:text-neutral-100",children:G.name}),m.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[K&&m.jsx("span",{className:"text-neutral-400 line-through",children:s(G.price)}),m.jsx("span",{className:"font-semibold text-primary-600 dark:text-primary-400",children:s(ke)}),K&&m.jsx("span",{className:"text-green-600 bg-green-100 dark:bg-green-900/50 px-1 rounded text-[10px]",children:G.discountType==="percentage"?`-${G.discountValue}%`:`-${s(G.discountValue||0)}`})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"flex items-center bg-white dark:bg-neutral-700 rounded border border-neutral-300 dark:border-neutral-600",children:[m.jsx("button",{onClick:()=>G.quantity>1?Ai(G.id,-1):Re(G.id),className:"p-1 hover:bg-neutral-100 dark:hover:bg-neutral-600 text-neutral-600 dark:text-neutral-300",children:m.jsx(uce,{className:"w-3 h-3"})}),m.jsx("span",{className:"w-6 text-center text-sm font-medium",children:G.quantity}),m.jsx("button",{onClick:()=>Ai(G.id,1),className:"p-1 hover:bg-neutral-100 dark:hover:bg-neutral-600 text-neutral-600 dark:text-neutral-300",children:m.jsx(XE,{className:"w-3 h-3"})})]}),m.jsx("button",{onClick:()=>bs(se),className:`p-1.5 rounded ${K?"bg-green-100 text-green-700":"bg-neutral-200 text-neutral-600"} hover:opacity-80`,title:"Apply Discount",children:m.jsx(ice,{className:"w-4 h-4"})})]})]},`${G.id}-${se}`)})}),m.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-700/30 border-t dark:border-neutral-700 space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm text-neutral-600 dark:text-neutral-400",children:[m.jsx("span",{children:l("Subtotal")}),m.jsx("span",{children:s(Tt)})]}),q&&Ut>0&&m.jsxs("div",{className:"flex justify-between text-sm text-green-600 font-medium",children:[m.jsx("span",{children:"Loyalty Discount"}),m.jsxs("span",{children:["-",s(Ut)]})]}),m.jsxs("div",{className:"flex justify-between text-sm text-neutral-600 dark:text-neutral-400",children:[m.jsxs("span",{children:[l("Tax")," (8%)"]}),m.jsx("span",{children:s(at)})]}),m.jsxs("div",{className:"flex justify-between text-xl font-bold text-neutral-900 dark:text-neutral-100 pt-2 border-t border-neutral-200 dark:border-neutral-700",children:[m.jsx("span",{children:l("Total")}),m.jsx("span",{children:s(At)})]}),m.jsxs("button",{onClick:nn,disabled:c.length===0,className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:[l("Charge")," ",s(At)]})]})]}),x&&m.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center p-4 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-2xl w-full max-w-md overflow-hidden",children:[m.jsxs("div",{className:"bg-primary-600 p-4 flex justify-between items-center",children:[m.jsx("h3",{className:"text-white font-bold text-lg",children:"Payment"}),m.jsx("button",{onClick:()=>w(!1),className:"text-primary-200 hover:text-white",children:m.jsx(Vp,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:"Total Amount Due"}),m.jsx("p",{className:"text-4xl font-bold text-neutral-800 dark:text-neutral-100",children:s(At)})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[m.jsxs("button",{onClick:()=>L("Cash"),className:`flex flex-col items-center justify-center p-3 rounded-lg border ${M==="Cash"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"}`,children:[m.jsx(rce,{className:"w-6 h-6 mb-1"}),m.jsx("span",{className:"text-xs font-semibold",children:"Cash"})]}),m.jsxs("button",{onClick:()=>L("Card"),className:`flex flex-col items-center justify-center p-3 rounded-lg border ${M==="Card"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"}`,children:[m.jsx(fce,{className:"w-6 h-6 mb-1"}),m.jsx("span",{className:"text-xs font-semibold",children:"Card"})]}),m.jsxs("button",{onClick:()=>L("Credit"),disabled:!v,className:`flex flex-col items-center justify-center p-3 rounded-lg border ${M==="Credit"?"bg-primary-50 border-primary-500 text-primary-700":"border-neutral-200 text-neutral-600 hover:bg-neutral-50"} ${v?"":"opacity-50 cursor-not-allowed"}`,children:[m.jsx(JE,{className:"w-6 h-6 mb-1"}),m.jsx("span",{className:"text-xs font-semibold",children:"Credit"})]})]}),v&&v.loyaltyPoints>0&&m.jsxs("div",{className:"mb-4 p-3 bg-neutral-50 dark:bg-neutral-700 rounded-lg flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"flex items-center justify-center w-6 h-6 bg-yellow-100 text-yellow-600 rounded-full text-xs font-bold",children:""}),m.jsxs("div",{className:"text-sm",children:[m.jsxs("p",{className:"font-semibold",children:[v.loyaltyPoints," Points"]}),m.jsxs("p",{className:"text-xs text-neutral-500",children:["Value: ",s(v.loyaltyPoints*yb)]})]})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:q,onChange:G=>Q(G.target.checked),className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-neutral-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-primary-600"})]})]}),M==="Cash"&&m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount Received"}),m.jsx("input",{type:"number",value:F,onChange:G=>B(G.target.value),className:"w-full text-xl p-3 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:outline-none",autoFocus:!0}),parseFloat(F)>At&&m.jsxs("div",{className:"mt-2 text-right text-green-600 font-bold",children:["Change: ",s(parseFloat(F)-At)]})]}),m.jsx("button",{onClick:Ln,className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors text-lg",children:"Confirm Payment"})]})]})}),b&&R&&m.jsxs("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center p-4 backdrop-blur-sm print:hidden",children:[m.jsx("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-2xl w-full max-w-sm overflow-hidden",children:m.jsxs("div",{className:"p-6 text-center",children:[m.jsxs("div",{className:"w-16 h-16 bg-green-100 text-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:[m.jsx(Vp,{className:"w-8 h-8 rotate-45"})," "]}),m.jsx("h3",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:l("Payment Success")}),m.jsxs("p",{className:"text-neutral-500 mt-1",children:["Invoice #",R.id]}),m.jsxs("div",{className:"my-6 py-4 border-y border-dashed border-neutral-300 dark:border-neutral-600",children:[m.jsxs("div",{className:"flex justify-between mb-2 text-sm",children:[m.jsx("span",{children:"Amount Paid"}),m.jsx("span",{className:"font-bold",children:s(R.amountPaid)})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{children:"Change"}),m.jsx("span",{className:"font-bold",children:s(Math.max(0,parseFloat(F||"0")-R.total))})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("button",{onClick:Lh,className:"w-full flex items-center justify-center gap-2 bg-neutral-800 text-white py-3 rounded-lg hover:bg-neutral-900 font-semibold",children:[m.jsx(ace,{className:"w-5 h-5"}),"Print Receipt"]}),m.jsxs("button",{onClick:jh,className:"w-full flex items-center justify-center gap-2 bg-green-500 text-white py-3 rounded-lg hover:bg-green-600 font-semibold",children:[m.jsx(oce,{className:"w-5 h-5"}),"WhatsApp Invoice"]}),m.jsx("button",{onClick:()=>_(!1),className:"w-full py-3 text-neutral-500 hover:text-neutral-800 font-medium",children:"New Sale"})]})]})}),m.jsx("div",{className:"hidden print:block print:fixed print:inset-0 print:bg-white print:p-4 text-black",children:m.jsxs("div",{className:"text-center font-mono text-sm",children:[m.jsx("h1",{className:"text-xl font-bold mb-2",children:u}),m.jsxs("p",{children:["Date: ",new Date().toLocaleString()]}),m.jsxs("p",{children:["Sale ID: ",R.id]}),m.jsxs("p",{children:["Cashier: ",R.cashier]}),m.jsx("div",{className:"border-b border-black my-2"}),m.jsx("div",{className:"text-left",children:m.jsxs("p",{children:["Total Items: ",R.items]})}),m.jsx("div",{className:"border-b border-black my-2"}),m.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[m.jsx("span",{children:"Total"}),m.jsx("span",{children:s(R.total)})]}),m.jsx("p",{className:"mt-4",children:"Thank you!"})]})})]}),N&&ne!==null&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-xs shadow-xl",children:[m.jsx("h3",{className:"font-bold text-lg mb-4",children:"Apply Discount"}),m.jsxs("div",{className:"flex gap-2 mb-4",children:[m.jsx("button",{onClick:()=>je("percentage"),className:`flex-1 py-2 rounded text-sm font-medium ${xe==="percentage"?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600"}`,children:"Percentage (%)"}),m.jsx("button",{onClick:()=>je("amount"),className:`flex-1 py-2 rounded text-sm font-medium ${xe==="amount"?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-600"}`,children:"Fixed ($)"})]}),m.jsx("input",{type:"number",value:$e,onChange:G=>Z(G.target.value),placeholder:"Value",className:"w-full border border-neutral-300 rounded-lg p-2 mb-4",autoFocus:!0}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),m.jsx("button",{onClick:xs,className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Apply"})]})]})}),T&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-sm shadow-xl",children:[m.jsx("h3",{className:"font-bold text-lg mb-4",children:"Hold Order"}),m.jsx("textarea",{value:$,onChange:G=>U(G.target.value),placeholder:"Optional note (e.g. Customer forgot wallet)",className:"w-full border border-neutral-300 dark:border-neutral-600 dark:bg-neutral-700 rounded-lg p-3 mb-4 h-24 resize-none"}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),m.jsx("button",{onClick:Ru,className:"px-4 py-2 bg-amber-500 text-white rounded hover:bg-amber-600",children:"Hold Order"})]})]})}),E&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-md shadow-xl h-[80vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"font-bold text-lg",children:"Held Orders"}),m.jsx("button",{onClick:()=>A(!1),children:m.jsx(Vp,{className:"w-6 h-6"})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:o.length===0?m.jsx("p",{className:"text-center text-neutral-500 mt-10",children:"No held orders."}):o.map(G=>{var se;return m.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-700 p-3 rounded-lg border border-neutral-200 dark:border-neutral-600",children:[m.jsxs("div",{className:"flex justify-between mb-2",children:[m.jsx("span",{className:"font-bold",children:((se=G.customer)==null?void 0:se.name)||"Walk-in"}),m.jsx("span",{className:"text-xs text-neutral-500",children:new Date(G.timestamp).toLocaleTimeString()})]}),m.jsxs("p",{className:"text-xs text-neutral-600 dark:text-neutral-300 mb-2",children:[G.items.length," items  Note: ",G.note||"None"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>$h(G),className:"flex-1 bg-primary-600 text-white py-1.5 rounded text-sm hover:bg-primary-700",children:"Resume"}),m.jsx("button",{onClick:()=>Dh(G.id),className:"px-3 bg-red-100 text-red-600 rounded text-sm hover:bg-red-200",children:"Discard"})]})]},G.id)})})]})}),C&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-6 w-full max-w-sm shadow-xl",children:[m.jsx("h3",{className:"font-bold text-lg mb-4",children:"Add New Customer"}),m.jsxs("form",{onSubmit:Mh,className:"space-y-3",children:[m.jsx("input",{type:"text",required:!0,placeholder:"Name",value:oe.name,onChange:G=>_e({...oe,name:G.target.value}),className:"w-full border p-2 rounded"}),m.jsx("input",{type:"text",placeholder:"Phone",value:oe.phone,onChange:G=>_e({...oe,phone:G.target.value}),className:"w-full border p-2 rounded"}),m.jsx("input",{type:"email",placeholder:"Email",value:oe.email,onChange:G=>_e({...oe,email:G.target.value}),className:"w-full border p-2 rounded"}),m.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[m.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 text-neutral-500 hover:bg-neutral-100 rounded",children:"Cancel"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Create"})]})]})]})})]})},pce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),mce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),QE=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),gce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),{BanknotesIcon:vce,ArrowUpTrayIcon:yce,QrCodeIcon:wce}=fr,jc=({children:t,title:e,onClose:n})=>m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-md max-h-full overflow-y-auto",children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700 sticky top-0 bg-white dark:bg-neutral-800",children:[m.jsx("h3",{className:"text-lg font-semibold",children:e}),m.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:m.jsx(gce,{className:"w-6 h-6"})})]}),t]})}),bce=({items:t,onClose:e})=>{const n=()=>{const r=document.getElementById("label-sheet"),i="about:blank",a="Print"+new Date().getTime(),s=window.open(i,a,"width=800,height=600");s&&r&&(s.document.write(`
                <html>
                    <head>
                        <title>Print Labels</title>
                        <style>
                            body { font-family: sans-serif; padding: 20px; }
                            .label-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
                            .label { border: 1px dashed #ccc; padding: 10px; text-align: center; border-radius: 5px; }
                            .sku { font-family: monospace; letter-spacing: 2px; font-weight: bold; margin-top: 5px; display: block;}
                            @media print {
                                body { padding: 0; }
                                .label { break-inside: avoid; }
                            }
                        </style>
                    </head>
                    <body>${r.innerHTML}</body>
                </html>
            `),s.document.close(),s.focus(),s.print(),s.close())};return m.jsx(jc,{title:"Print Barcode Labels",onClose:e,children:m.jsxs("div",{className:"p-6",children:[m.jsxs("p",{className:"mb-4 text-sm text-neutral-500",children:["Preview of labels for ",t.length," selected items."]}),m.jsx("div",{id:"label-sheet",className:"max-h-60 overflow-y-auto bg-neutral-100 p-4 rounded border mb-4",children:m.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.map(r=>m.jsxs("div",{className:"bg-white p-2 text-center border border-neutral-300 rounded text-xs",children:[m.jsx("div",{className:"font-bold truncate",children:r.name}),m.jsxs("div",{children:["$",r.price]}),m.jsx("div",{className:"font-mono font-bold mt-1 tracking-widest text-sm",children:r.sku})]},r.id))})}),m.jsx("button",{onClick:n,className:"w-full bg-primary-600 text-white py-2 rounded hover:bg-primary-700",children:"Print Now"})]})})},No=({dataType:t,data:e,columns:n,formFields:r,onAdd:i,onUpdate:o,onDelete:a,customActions:s,t:l,formatCurrency:u})=>{const[c,d]=O.useState(""),[h,g]=O.useState(!1),[v,y]=O.useState(!1),[x,w]=O.useState(!1),[b,_]=O.useState(!1),[T,S]=O.useState(null),[E,A]=O.useState({}),[C,k]=O.useState([]),[N,P]=O.useState(""),R=I.useRef(null),j=l(`Manage ${t.charAt(0).toUpperCase()+t.slice(1)}`),F=O.useMemo(()=>e.filter(D=>Object.values(D).some(fe=>String(fe).toLowerCase().includes(c.toLowerCase()))),[e,c]),B=D=>{D.target.checked?k(F.map(fe=>fe.id)):k([])},M=D=>{k(fe=>fe.includes(D)?fe.filter(oe=>oe!==D):[...fe,D])},L=(D=null)=>{S(D),A(D||{}),g(!0)},$=()=>{g(!1),S(null),A({})},U=D=>{S(D),y(!0)},H=()=>{y(!1),S(null)},V=D=>{S(D),P(""),w(!0)},q=()=>{w(!1),S(null)},Q=D=>{const{name:fe,value:oe,type:_e}=D.target,Se=_e==="number";A(Ke=>({...Ke,[fe]:Se?Number(oe):oe}))},ne=(D,fe)=>{var _e;const oe=(_e=D.target.files)==null?void 0:_e[0];if(oe){const Se=new FileReader;Se.onloadend=()=>{A(Ke=>({...Ke,[fe]:Se.result}))},Se.readAsDataURL(oe)}},ye=D=>{D.preventDefault(),T?o({...T,...E}):i(E),$()},xe=()=>{T&&a([T.id]),H()},je=()=>{a(C),k([])},$e=()=>{const D=parseFloat(N);T&&D>0&&(s!=null&&s.onRecordPayment)&&s.onRecordPayment(T.id,D),q()},Z=()=>{var D;(D=R.current)==null||D.click()},ue=D=>{var _e;const fe=(_e=D.target.files)==null?void 0:_e[0];if(!fe)return;const oe=new FileReader;oe.onload=Se=>{var Tt;const wt=((Tt=Se.target)==null?void 0:Tt.result).split(`
`);for(let Ut=1;Ut<wt.length;Ut++){const tn=wt[Ut].trim();if(!tn)continue;const at=tn.split(",");if(at.length>=5){const At={name:at[0],price:parseFloat(at[1])||0,stock:parseInt(at[2])||0,category:at[3],sku:at[4],imageUrl:"",brand:""};i(At)}}alert(`Import process completed for ${wt.length-1} rows.`)},oe.readAsText(fe),D.target.value=""},de=()=>{_(!0)};return m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold",children:j}),m.jsxs("div",{className:"w-full sm:w-auto flex items-center gap-2",children:[m.jsxs("div",{className:"relative flex-grow",children:[m.jsx(pce,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),m.jsx("input",{type:"text",placeholder:l("Search"),value:c,onChange:D=>d(D.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg pl-10 pr-4 py-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),t==="products"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:Z,className:"bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200 px-3 py-2 rounded-lg hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors flex items-center gap-1",children:[m.jsx(yce,{className:"w-5 h-5"}),m.jsx("span",{className:"hidden sm:inline",children:l("Import CSV")})]}),m.jsx("input",{type:"file",accept:".csv",ref:R,className:"hidden",onChange:ue})]}),m.jsx("button",{onClick:()=>L(),className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors whitespace-nowrap",children:l("Add New")})]})]}),C.length>0&&m.jsxs("div",{className:"mb-4 flex items-center justify-between p-3 bg-primary-50 dark:bg-primary-900/40 rounded-lg",children:[m.jsxs("span",{className:"font-semibold text-primary-700 dark:text-primary-200",children:[C.length," item(s) selected"]}),m.jsxs("div",{className:"flex gap-2",children:[t==="products"&&m.jsxs("button",{onClick:de,className:"flex items-center gap-2 bg-purple-600 text-white text-sm font-semibold px-3 py-1.5 rounded-lg hover:bg-purple-700 transition-colors",children:[m.jsx(wce,{className:"w-4 h-4"}),l("Print Labels")]}),m.jsxs("button",{onClick:je,className:"flex items-center gap-2 bg-red-600 text-white text-sm font-semibold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors",children:[m.jsx(QE,{className:"w-4 h-4"}),"Delete Selected"]})]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left text-neutral-500 dark:text-neutral-400",children:[m.jsx("thead",{className:"text-xs text-neutral-700 dark:text-neutral-300 uppercase bg-neutral-50 dark:bg-neutral-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"p-4",children:m.jsx("input",{type:"checkbox",onChange:B,checked:C.length>0&&C.length===F.length,className:"w-4 h-4 text-primary-600 bg-neutral-100 border-neutral-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-neutral-800 focus:ring-2 dark:bg-neutral-700 dark:border-neutral-600"})}),n.map(D=>m.jsx("th",{scope:"col",className:"px-6 py-3",children:D.header},String(D.key))),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Actions"})]})}),m.jsx("tbody",{children:F.map(D=>m.jsxs("tr",{className:"bg-white dark:bg-neutral-800 border-b dark:border-neutral-700 hover:bg-neutral-50 dark:hover:bg-neutral-700/50",children:[m.jsx("td",{className:"p-4",children:m.jsx("input",{type:"checkbox",checked:C.includes(D.id),onChange:()=>M(D.id),className:"w-4 h-4 text-primary-600 bg-neutral-100 border-neutral-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-neutral-800 focus:ring-2 dark:bg-neutral-700 dark:border-neutral-600"})}),n.map(fe=>m.jsx("td",{className:"px-6 py-4 font-medium text-neutral-900 dark:text-white whitespace-nowrap",children:fe.render?fe.render(D):D[fe.key]},`${D.id}-${String(fe.key)}`)),m.jsxs("td",{className:"px-6 py-4 flex justify-end items-center gap-4",children:[t==="customers"&&D.dueAmount>0&&(s==null?void 0:s.onRecordPayment)&&m.jsx("button",{onClick:()=>V(D),className:"text-green-600 dark:text-green-400 hover:underline",title:"Record Payment",children:m.jsx(vce,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>L(D),className:"text-primary-600 dark:text-primary-400 hover:underline",children:m.jsx(mce,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>U(D),className:"text-red-600 dark:text-red-400 hover:underline",children:m.jsx(QE,{className:"w-5 h-5"})})]})]},D.id))})]})}),h&&m.jsx(jc,{title:T?`Edit ${t.slice(0,-1)}`:`Add ${t.slice(0,-1)}`,onClose:$,children:m.jsxs("form",{onSubmit:ye,children:[m.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map(D=>{var fe;return m.jsxs("div",{className:["select","image"].includes(D.type)?"sm:col-span-2":"",children:[m.jsx("label",{htmlFor:String(D.key),className:"block mb-2 text-sm font-medium",children:D.label}),D.type==="select"?m.jsxs("select",{id:String(D.key),name:String(D.key),value:E[D.key]||"",onChange:Q,required:D.required,className:"bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5",children:[m.jsx("option",{value:"",children:"Select an option"}),(fe=D.options)==null?void 0:fe.map(oe=>m.jsx("option",{value:oe.value,children:oe.label},oe.value))]}):D.type==="image"?m.jsxs("div",{className:"flex items-center gap-4",children:[E[D.key]&&m.jsx("img",{src:E[D.key],alt:"preview",className:"w-16 h-16 rounded-full object-cover bg-neutral-200"}),m.jsx("input",{type:"file",id:String(D.key),name:String(D.key),onChange:oe=>ne(oe,D.key),accept:"image/*",className:"block w-full text-sm text-neutral-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})]}):m.jsx("input",{type:D.type,id:String(D.key),name:String(D.key),value:E[D.key]||"",onChange:Q,required:D.required,className:"bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"})]},String(D.key))})}),m.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2 sticky bottom-0 bg-white dark:bg-neutral-800",children:[m.jsx("button",{type:"button",onClick:$,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),m.jsx("button",{type:"submit",className:"text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Save"})]})]})}),v&&T&&m.jsxs(jc,{title:"Confirm Deletion",onClose:H,children:[m.jsx("div",{className:"p-6",children:m.jsxs("p",{children:["Are you sure you want to delete ",m.jsx("span",{className:"font-semibold",children:T.name||"this item"}),"? This action cannot be undone."]})}),m.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2",children:[m.jsx("button",{onClick:H,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),m.jsx("button",{onClick:xe,className:"text-white bg-red-600 hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800",children:"Delete"})]})]}),x&&T&&m.jsxs(jc,{title:`Record Payment for ${T.name}`,onClose:q,children:[m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"p-3 bg-neutral-100 dark:bg-neutral-700/50 rounded-lg text-center",children:[m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Current Due Amount"}),m.jsx("p",{className:"text-2xl font-bold",children:u(T.dueAmount)})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"payment-amount",className:"block text-sm font-medium mb-1",children:"Payment Amount"}),m.jsx("input",{id:"payment-amount",type:"number",value:N,onChange:D=>P(D.target.value),className:"w-full text-lg bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",autoFocus:!0})]})]}),m.jsxs("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700 space-x-2",children:[m.jsx("button",{onClick:q,className:"text-neutral-500 bg-white hover:bg-neutral-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-neutral-200 text-sm font-medium px-5 py-2.5 hover:text-neutral-900 focus:z-10 dark:bg-neutral-700 dark:text-neutral-300 dark:border-neutral-500 dark:hover:text-white dark:hover:bg-neutral-600 dark:focus:ring-neutral-600",children:"Cancel"}),m.jsx("button",{onClick:$e,className:"text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",children:"Record Payment"})]})]}),b&&m.jsx(bce,{items:F.filter(D=>C.includes(D.id)),onClose:()=>_(!1)})]})},xce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),_ce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),Sce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),zp=({title:t,value:e})=>m.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-700/50 p-4 rounded-lg",children:[m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:t}),m.jsx("p",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:e})]}),Ece=({sales:t,users:e,customers:n,formatCurrency:r})=>{const[i,o]=O.useState(""),[a,s]=O.useState(""),[l,u]=O.useState("all"),[c,d]=O.useState("all"),[h,g]=O.useState("csv"),[v,y]=O.useState(!1),x=O.useRef(null),[w,b]=O.useState(""),[_,T]=O.useState(!1),S=O.useRef(null),E=O.useMemo(()=>e.filter(M=>[me.Admin,me.Manager,me.Cashier].includes(M.role)),[e]);O.useEffect(()=>{const M=L=>{S.current&&!S.current.contains(L.target)&&T(!1),x.current&&!x.current.contains(L.target)&&y(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const A=O.useMemo(()=>w?n.filter(M=>M.name.toLowerCase().includes(w.toLowerCase())):n,[n,w]),C=M=>{d(M);const L=n.find($=>$.id===M);b(L?L.name:""),T(!1)},k=()=>{d("all"),b("")},N=O.useMemo(()=>t.filter(M=>{const L=new Date(M.date),$=i?new Date(i):null,U=a?new Date(a):null;$&&$.setHours(0,0,0,0),U&&U.setHours(23,59,59,999);const H=(!$||L>=$)&&(!U||L<=U),V=l==="all"||M.cashierId===l,q=c==="all"||M.customerId===c;return H&&V&&q}),[t,i,a,l,c]),P=O.useMemo(()=>{const M=N.reduce((U,H)=>U+H.total,0),L=N.length,$=L>0?M/L:0;return{totalSales:r(M),totalTransactions:L,avgSaleValue:r($)}},[N,r]),R=O.useMemo(()=>{if(N.length===0)return[];const M=N.reduce((L,$)=>{const U=new Date($.date).toISOString().split("T")[0];return L[U]||(L[U]=0),L[U]+=$.total,L},{});return Object.entries(M).map(([L,$])=>({rawDate:L,date:new Date(L+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"}),total:$})).sort((L,$)=>new Date(L.rawDate).getTime()-new Date($.rawDate).getTime())},[N]),j=()=>{o(""),s(""),u("all"),k()},F=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),B=()=>{if(N.length===0){alert("No data to export for the current filters.");return}const M=["Sale ID","Date","Customer","Cashier","Items","Total","Amount Paid","Amount Due","Payment Method"],L=N.map($=>({"Sale ID":$.id,Date:new Date($.date).toISOString(),Customer:$.customerName,Cashier:$.cashier,Items:$.items,Total:$.total,"Amount Paid":$.amountPaid,"Amount Due":$.total-$.amountPaid,"Payment Method":$.paymentMethod}));if(h==="csv"){const U=[M.join(","),...L.map(Q=>Object.values(Q).map(ne=>{const ye=String(ne);return ye.includes(",")||ye.includes('"')?`"${ye.replace(/"/g,'""')}"`:ye}).join(","))].join(`
`),H=new Blob([U],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a"),q=URL.createObjectURL(H);V.setAttribute("href",q),V.setAttribute("download","sales_report.csv"),V.style.visibility="hidden",document.body.appendChild(V),V.click(),document.body.removeChild(V)}else if(h==="xlsx"&&typeof XLSX<"u"){const $=XLSX.utils.json_to_sheet(L),U=XLSX.utils.book_new();XLSX.utils.book_append_sheet(U,$,"Sales"),XLSX.writeFile(U,"sales_report.xlsx")}else h==="xlsx"&&alert("XLSX export not available (library not loaded).")};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[m.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:"Sales Reports"}),m.jsxs("div",{className:"flex rounded-lg shadow-sm",children:[m.jsxs("button",{onClick:B,className:"relative inline-flex items-center gap-2 bg-secondary-600 px-4 py-2 text-sm font-semibold text-white hover:bg-secondary-700 focus:z-10 rounded-l-lg",children:[m.jsx(xce,{className:"w-5 h-5"}),"Export Data"]}),m.jsxs("div",{ref:x,className:"relative -ml-px block",children:[m.jsxs("button",{onClick:()=>y(!v),type:"button",className:"relative inline-flex items-center bg-secondary-600 px-2 py-2 text-white hover:bg-secondary-700 focus:z-10 rounded-r-lg","aria-expanded":"true","aria-haspopup":"true",children:[m.jsx("span",{className:"text-xs uppercase mr-1",children:h}),m.jsx(_ce,{className:"h-5 w-5","aria-hidden":"true"})]}),v&&m.jsx("div",{className:"absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-white dark:bg-neutral-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabIndex:-1,children:m.jsxs("div",{className:"py-1",role:"none",children:[m.jsx("a",{href:"#",onClick:M=>{M.preventDefault(),g("csv"),y(!1)},className:`block px-4 py-2 text-sm ${h==="csv"?"font-bold text-primary-600":"text-neutral-700 dark:text-neutral-200"} hover:bg-neutral-100 dark:hover:bg-neutral-700`,role:"menuitem",tabIndex:-1,id:"menu-item-0",children:"Export as .csv"}),m.jsx("a",{href:"#",onClick:M=>{M.preventDefault(),g("xlsx"),y(!1)},className:`block px-4 py-2 text-sm ${h==="xlsx"?"font-bold text-primary-600":"text-neutral-700 dark:text-neutral-200"} hover:bg-neutral-100 dark:hover:bg-neutral-700`,role:"menuitem",tabIndex:-1,id:"menu-item-1",children:"Export as .xlsx"})]})})]})]})]}),m.jsx("div",{className:"bg-white dark:bg-neutral-800 p-4 rounded-xl shadow-md space-y-4",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[m.jsxs("div",{className:"lg:col-span-2 grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"start-date",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Start Date"}),m.jsx("input",{type:"date",id:"start-date",value:i,onChange:M=>o(M.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"end-date",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"End Date"}),m.jsx("input",{type:"date",id:"end-date",value:a,onChange:M=>s(M.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"cashier",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Cashier"}),m.jsxs("select",{id:"cashier",value:l,onChange:M=>u(M.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",children:[m.jsx("option",{value:"all",children:"All Cashiers"}),E.map(M=>m.jsx("option",{value:M.id,children:M.name},M.id))]})]}),m.jsxs("div",{ref:S,children:[m.jsx("label",{htmlFor:"customer",className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Customer"}),m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"text",id:"customer",value:w,onChange:M=>{b(M.target.value),d("all"),_||T(!0)},onFocus:()=>T(!0),placeholder:"All Customers",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"}),c!=="all"&&m.jsx("button",{onClick:k,className:"absolute right-2 text-neutral-500 hover:text-red-500",children:m.jsx(Sce,{className:"w-5 h-5"})})]}),_&&m.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white dark:bg-neutral-700 rounded-md shadow-lg max-h-60 overflow-auto border dark:border-neutral-600",children:m.jsxs("ul",{children:[m.jsx("li",{onClick:()=>C("all"),className:"px-4 py-2 text-sm hover:bg-primary-50 dark:hover:bg-neutral-600 cursor-pointer text-neutral-700 dark:text-neutral-200",children:"All Customers"}),A.map(M=>m.jsx("li",{onClick:()=>C(M.id),className:"px-4 py-2 text-sm hover:bg-primary-50 dark:hover:bg-neutral-600 cursor-pointer text-neutral-700 dark:text-neutral-200",children:M.name},M.id))]})})]})]}),m.jsx("div",{className:"lg:col-span-5 flex justify-end",children:m.jsx("button",{onClick:j,className:"text-sm text-primary-600 hover:underline",children:"Reset Filters"})})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx(zp,{title:"Total Revenue",value:P.totalSales}),m.jsx(zp,{title:"Transactions",value:P.totalTransactions.toString()}),m.jsx(zp,{title:"Avg. Sale Value",value:P.avgSaleValue})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-6 rounded-xl shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold mb-4 text-neutral-800 dark:text-neutral-100",children:"Sales Trend"}),m.jsx("div",{className:"h-80 w-full",children:m.jsx(s0,{width:"100%",height:"100%",children:m.jsxs(lre,{data:R,children:[m.jsx(z0,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(128,128,128,0.2)"}),m.jsx(fs,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},dy:10}),m.jsx(hs,{axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},tickFormatter:M=>`$${M}`}),m.jsx(En,{cursor:{fill:"rgba(128,128,128,0.1)"},contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"0.5rem",color:"#F3F4F6"},itemStyle:{color:"#F3F4F6"},formatter:M=>[`$${M.toFixed(2)}`,"Sales"]}),m.jsx(So,{dataKey:"total",fill:"#4F46E5",radius:[4,4,0,0]})]})})})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b dark:border-neutral-700",children:m.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-100",children:"Recent Transactions"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left text-neutral-500 dark:text-neutral-400",children:[m.jsx("thead",{className:"text-xs text-neutral-700 dark:text-neutral-300 uppercase bg-neutral-50 dark:bg-neutral-700/50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"Date"}),m.jsx("th",{className:"px-6 py-3",children:"Sale ID"}),m.jsx("th",{className:"px-6 py-3",children:"Customer"}),m.jsx("th",{className:"px-6 py-3",children:"Cashier"}),m.jsx("th",{className:"px-6 py-3 text-right",children:"Total"}),m.jsx("th",{className:"px-6 py-3",children:"Method"})]})}),m.jsx("tbody",{className:"divide-y divide-neutral-100 dark:divide-neutral-700",children:N.length>0?N.map(M=>m.jsxs("tr",{className:"bg-white dark:bg-neutral-800 hover:bg-neutral-50 dark:hover:bg-neutral-700/50",children:[m.jsxs("td",{className:"px-6 py-4",children:[F(M.date)," ",m.jsx("span",{className:"text-xs text-neutral-400 ml-1",children:new Date(M.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),m.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:M.id}),m.jsx("td",{className:"px-6 py-4 font-medium text-neutral-900 dark:text-neutral-100",children:M.customerName}),m.jsx("td",{className:"px-6 py-4",children:M.cashier}),m.jsx("td",{className:"px-6 py-4 text-right font-semibold text-neutral-900 dark:text-neutral-100",children:r(M.total)}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M.paymentMethod==="Cash"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":M.paymentMethod==="Card"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"}`,children:M.paymentMethod})})]},M.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-neutral-500 dark:text-neutral-400",children:"No transactions found matching current filters."})})})]})})]})]})},Tce=({title:t})=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-8 rounded-xl shadow-md text-center h-full flex flex-col justify-center items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:t}),m.jsx("p",{className:"mt-4 text-neutral-500 dark:text-neutral-400",children:"This feature is under construction."}),m.jsx("div",{className:"mt-6 text-6xl text-neutral-200 dark:text-neutral-700",children:""})]}),Ace="ZENITH_POS_SECRET_KEY_2025_V2",Cce=(t,e)=>{const n=t+e;let r=5381;for(let i=0;i<n.length;i++)r=r*33^n.charCodeAt(i);return(r>>>0).toString(16).toUpperCase().padStart(8,"0").slice(-5)},kce={A:"AI_INSIGHTS",R:"ADVANCED_REPORTS",M:"MULTI_LANGUAGE",C:"CLOUD_SYNC"},ZE={STD:["M"],PREM:["M","A"],ENT:["M","A","R","C"]},Pce=(t,e,n,r,i)=>{const o=Math.random().toString(36).substring(2,8).toUpperCase(),a=`${e.getFullYear()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}`,s=`ZENITH-${t}-${o}-${n}-${a}`;let l=s;const u=r==null?void 0:r.trim().toUpperCase().replace(/\s+/g,"");u&&(l+=`-${u}`);const c=i==null?void 0:i.trim().toLowerCase();c&&(l+=`-${c}`);const d=Cce(l,Ace),h=`${s}-${d}`,g={STD:"Standard",PREM:"Premium",ENT:"Enterprise"};return{key:h,validUntil:e.toISOString(),planType:g[t],status:"Generated",maxShops:t==="ENT"?1/0:1,enabledFeatures:n.split("").map(v=>kce[v]).filter(Boolean),businessNameLock:(r==null?void 0:r.trim())||void 0,emailLock:(i==null?void 0:i.trim())||void 0}},Ice=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),Nce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0"})}),Oce=fr.GlobeAltIcon,lN=fr.ShieldCheckIcon,uN=fr.XMarkIcon,cN=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),Rce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),Mce=fr.BanknotesIcon,$ce=fr.KeyIcon,Vi=({title:t,icon:e,children:n})=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md",children:[m.jsx("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-700",children:m.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-3",children:[e,t]})}),m.jsx("div",{className:"p-6",children:n})]}),Dce=({type:t,message:e,onClose:n})=>{const r="p-4 rounded-md flex items-center justify-between shadow-md mb-6",i=t==="success"?"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-200";return m.jsxs("div",{className:`${r} ${i}`,children:[m.jsx("p",{className:"text-sm font-medium",children:e}),m.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-black/10",children:m.jsx(uN,{className:"w-5 h-5"})})]})},jce=({title:t,children:e})=>{const[n,r]=O.useState(!1);return m.jsxs("div",{className:"border-b dark:border-neutral-700",children:[m.jsxs("button",{onClick:()=>r(!n),className:"w-full flex justify-between items-center text-left py-4 px-1",children:[m.jsx("span",{className:"font-semibold text-neutral-800 dark:text-neutral-100",children:t}),m.jsx(Rce,{className:`w-5 h-5 transition-transform ${n?"rotate-180":""}`})]}),n&&m.jsx("div",{className:"pb-4 px-1 text-neutral-600 dark:text-neutral-300 prose prose-sm dark:prose-invert max-w-none whitespace-pre-line",children:e})]})},Lce=[{title:"1. Getting Started",content:`Welcome to Zenith POS. 

**Login & Roles:**
- **Admin:** Full access (Settings, Users, Reports).
- **Manager:** Manages Inventory & Reports.
- **Cashier:** Access to POS & Customers only.

**Dashboard:** Customize your dashboard widgets by clicking the 'Customize' button on the top right.`},{title:"2. Advanced Point of Sale (POS)",content:`Our POS is designed for speed and flexibility.

- **Touchscreen Mode:** Tap any input field (like Search) to open the Virtual Keyboard automatically.
- **Discounts:** Click the 'Tag Icon' next to any cart item to apply a % or Fixed Amount discount.
- **Hold Order:** Temporarily save an order if a customer needs time. Resume it later from the 'Held Orders' menu.
- **Credit Sales:** Select a customer to enable the 'Credit' payment option.
- **WhatsApp Invoice:** After a sale, click 'WhatsApp Invoice' to send the receipt directly to the customer's phone.`},{title:"3. Inventory & Products",content:`Manage your stock efficiently.

- **Add Products:** Add items manually or use **'Import CSV'** to upload hundreds of products at once.
- **Label Printing:** Select multiple products in the list and click **'Print Labels'** to generate barcode stickers.
- **Stock Adjustment:** Use the 'Adjust Stock' button to correct inventory levels for damage or loss.`},{title:"4. Offline Mode",content:`**No Internet? No Problem.**

Zenith POS works 100% offline. You can continue selling even when the internet is down. All data is saved locally on your device and will automatically sync once the connection is restored. Look for the 'Cloud' icon in the header to check your status.`},{title:"5. Customers & Loyalty",content:`Build customer loyalty.

- **Points:** Customers earn points for every purchase. You can redeem these points for discounts during checkout.
- **Credit Limit:** Set a maximum credit limit for each customer to control debt risk.
- **Due Collection:** Go to the Customer page and click the 'Money' icon to record a due payment.`},{title:"6. Localization & Currency",content:`Make the app yours.

Go to **Settings > Localization** to:
- Change the interface language (English / Bangla).
- Change the currency symbol (USD, BDT, EUR, INR).
The entire app will instantly update to reflect your choices.`},{title:"7. Data Security & Backup",content:`Your data is safe.

- **Backup:** In Settings, click 'Backup Data' to download a full copy of your system data as a JSON file.
- **Restore:** If you change devices or clear your browser, use 'Restore Data' to upload your backup file and resume exactly where you left off.`},{title:"8. Managing Multiple Stores",content:`To manage multiple stores or branches, you need an **Enterprise** plan license key.

- **Activation:** Use your Enterprise key to activate the software on the first device. This will establish your main organization.
- **Data Separation:** The system keeps data for each organization separate and secure.
- **Note:** The 'multi-shop' feature in the Enterprise plan allows your single organization to operate from multiple locations/devices under one business umbrella.`}],Uce=({isOpen:t,onClose:e})=>t?m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-start p-4 pt-16",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-neutral-700",children:[m.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[m.jsx(cN,{className:"w-6 h-6 text-primary-500"}),"System User Guide"]}),m.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-700",children:m.jsx(uN,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"p-6 overflow-y-auto",children:[m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-4",children:"Comprehensive guide to operating the Zenith POS system. Click on a section to expand."}),Lce.map((n,r)=>m.jsx(jce,{title:n.title,children:n.content},r))]}),m.jsx("div",{className:"flex items-center justify-end p-4 border-t dark:border-neutral-700",children:m.jsx("button",{onClick:e,className:"bg-primary-600 text-white font-semibold px-5 py-2.5 rounded-lg hover:bg-primary-700 transition-colors",children:"Close Guide"})})]})}):null,Bce=t=>{const{user:e,onUpdateUser:n,employees:r,isDarkMode:i,toggleDarkMode:o,businessName:a,setBusinessName:s,businessLogo:l,setBusinessLogo:u,licenseKeys:c,setLicenseKeys:d,licenseDatabase:h,setLicenseDatabase:g,language:v,setLanguage:y,currency:x,setCurrency:w,t:b}=t,[_,T]=O.useState(8),[S,E]=O.useState(null),[A,C]=O.useState(!1),k=I.useRef(null),N=O.useRef(null),[P,R]=O.useState({name:e.name,email:e.email,avatarUrl:e.avatarUrl,phone:e.phone||""});O.useEffect(()=>{if(S){const V=setTimeout(()=>E(null),5e3);return()=>clearTimeout(V)}},[S]);const j=V=>R(q=>({...q,[V.target.name]:V.target.value})),F=V=>{var Q;const q=(Q=V.target.files)==null?void 0:Q[0];if(q){const ne=new FileReader;ne.onloadend=()=>R(ye=>({...ye,avatarUrl:ne.result})),ne.readAsDataURL(q)}},B=V=>{n({name:P.name,avatarUrl:P.avatarUrl,phone:P.phone}),E({type:"success",message:`${V} settings saved successfully!`})},M=V=>{V.preventDefault();const q=new FormData(V.currentTarget),Q=q.get("currentPassword"),ne=q.get("newPassword"),ye=q.get("confirmPassword");if(ne!==ye){E({type:"error",message:"New passwords do not match."});return}if(e.password!==Q){E({type:"error",message:"Current password is incorrect."});return}n({password:ne}),E({type:"success",message:"Password updated successfully!"}),V.currentTarget.reset()},L=V=>{var Q;const q=(Q=V.target.files)==null?void 0:Q[0];if(q){const ne=new FileReader;ne.onloadend=()=>u(ne.result),ne.readAsDataURL(q)}},$=()=>{const V={zenith_users:localStorage.getItem("zenith_users"),zenith_products:localStorage.getItem("zenith_products"),zenith_customers:localStorage.getItem("zenith_customers"),zenith_sales:localStorage.getItem("zenith_sales"),zenith_license_database:localStorage.getItem("zenith_license_database")},q=new Blob([JSON.stringify(V,null,2)],{type:"application/json"}),Q=URL.createObjectURL(q),ne=document.createElement("a");ne.href=Q,ne.download=`zenith_backup_${new Date().toISOString().split("T")[0]}.json`,ne.click(),E({type:"success",message:"Backup downloaded successfully!"})},U=()=>{var V;return(V=k.current)==null?void 0:V.click()},H=V=>{var ne;const q=(ne=V.target.files)==null?void 0:ne[0];if(!q)return;const Q=new FileReader;Q.onload=ye=>{var xe;try{const je=JSON.parse((xe=ye.target)==null?void 0:xe.result);Object.keys(je).forEach($e=>{je[$e]&&localStorage.setItem($e,je[$e])}),E({type:"success",message:"Data restored! Please reload the page."}),setTimeout(()=>window.location.reload(),2e3)}catch{E({type:"error",message:"Invalid backup file."})}},Q.readAsText(q)};return m.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto pb-10",children:[m.jsx("h1",{className:"text-3xl font-bold text-neutral-800 dark:text-neutral-100",children:b("Settings")}),S&&m.jsx(Dce,{type:S.type,message:S.message,onClose:()=>E(null)}),e.email==="superadmin@zenith.com"?m.jsx(Fce,{licenseDatabase:h,setLicenseDatabase:g,setNotification:E}):e.role===me.Admin&&m.jsx(Vce,{licenseKeys:c,setLicenseKeys:d,user:e,setNotification:E}),m.jsx(Uce,{isOpen:A,onClose:()=>C(!1)}),m.jsx("button",{onClick:()=>C(!0),className:"fixed bottom-6 right-6 bg-primary-600 text-white p-4 rounded-full shadow-lg hover:bg-primary-700 transition-transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 z-40","aria-label":"Open settings guide",children:m.jsx(cN,{className:"w-8 h-8"})}),m.jsxs(Vi,{title:"Profile",icon:m.jsx(Ice,{className:"w-6 h-6 text-primary-500"}),children:[m.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[m.jsxs("div",{className:"relative w-20 h-20 group flex-shrink-0",children:[m.jsx("img",{src:P.avatarUrl,alt:"Profile Avatar",className:"w-20 h-20 rounded-full object-cover"}),m.jsx("button",{onClick:()=>{var V;return(V=N.current)==null?void 0:V.click()},className:"absolute inset-0 bg-black/60 rounded-full flex items-center justify-center text-white opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:m.jsx("span",{className:"text-xs font-semibold",children:"Change"})}),m.jsx("input",{type:"file",ref:N,onChange:F,className:"hidden",accept:"image/png, image/jpeg"})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-xl font-bold",children:P.name}),m.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:e.role})]})]}),m.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 my-6"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Full Name"}),m.jsx("input",{type:"text",name:"name",value:P.name,onChange:j,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Email Address"}),m.jsx("input",{type:"email",value:P.email,disabled:!0,className:"mt-1 w-full bg-neutral-200 dark:bg-neutral-800 border-transparent rounded-lg p-2.5 text-neutral-500 dark:text-neutral-400 cursor-not-allowed"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Phone Number"}),m.jsx("input",{type:"tel",name:"phone",value:P.phone||"",onChange:j,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"}),m.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Used for password recovery and notifications."})]})]}),m.jsx("div",{className:"mt-6 text-right",children:m.jsx("button",{onClick:()=>B("Profile"),className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Save Changes"})})]}),m.jsxs(Vi,{title:"Password & Security",icon:m.jsx(lN,{className:"w-6 h-6 text-primary-500"}),children:[m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-6",children:"Your registered Email and Phone number will be used for verification during password reset."}),m.jsxs("form",{onSubmit:M,children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Current Password"}),m.jsx("input",{type:"password",name:"currentPassword",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"New Password"}),m.jsx("input",{type:"password",name:"newPassword",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300",children:"Confirm New Password"}),m.jsx("input",{type:"password",name:"confirmPassword",required:!0,className:"mt-1 w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})]}),m.jsx("div",{className:"mt-6 text-right",children:m.jsx("button",{type:"submit",className:"bg-primary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Change Password"})})]})]}),m.jsx(Vi,{title:"Localization",icon:m.jsx(Oce,{className:"w-6 h-6 text-primary-500"}),children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-2",children:"Language"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>y("en"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-semibold border ${v==="en"?"bg-primary-600 text-white border-primary-600":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 border-neutral-300 dark:border-neutral-600"}`,children:"English"}),m.jsx("button",{onClick:()=>y("bn"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-semibold border ${v==="bn"?"bg-primary-600 text-white border-primary-600":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 border-neutral-300 dark:border-neutral-600"}`,children:"Bangla"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-2",children:"Currency"}),m.jsx("select",{value:x,onChange:V=>w(V.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none",children:Object.entries(WC).map(([V,q])=>m.jsxs("option",{value:V,children:[V," - ",q.symbol]},V))})]})]})}),m.jsxs(Vi,{title:"Business Configuration",icon:m.jsx(Mce,{className:"w-6 h-6 text-primary-500"}),children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Business Name"}),m.jsx("input",{type:"text",value:a,onChange:V=>s(V.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-1",children:"Default Tax Rate (%)"}),m.jsx("input",{type:"number",value:_,onChange:V=>T(Number(V.target.value)),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5 focus:ring-2 focus:ring-primary-500 focus:outline-none"})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("p",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-300 mb-2",children:"Business Logo"}),m.jsxs("div",{className:"flex items-center gap-4",children:[l&&m.jsx("img",{src:l,alt:"Logo",className:"w-16 h-16 object-contain border border-neutral-200 rounded p-1"}),m.jsx("input",{type:"file",accept:"image/*",onChange:L,className:"text-sm text-neutral-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})]})]})]}),m.jsx(Vi,{title:"System",icon:m.jsx(Nce,{className:"w-6 h-6 text-primary-500"}),children:m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium",children:"Data Management"}),m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Backup or restore your application data."})]}),m.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[m.jsx("button",{onClick:$,className:"bg-secondary-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-secondary-700 transition-colors",children:"Backup Data"}),m.jsx("button",{onClick:U,className:"bg-neutral-200 dark:bg-neutral-600 text-neutral-800 dark:text-neutral-100 font-semibold px-4 py-2 rounded-lg hover:bg-neutral-300 dark:hover:bg-neutral-500 transition-colors",children:"Restore Data"}),m.jsx("input",{type:"file",accept:".json",ref:k,className:"hidden",onChange:H})]})]})})]})},Fce=({licenseDatabase:t,setLicenseDatabase:e,setNotification:n})=>{const[r,i]=O.useState(""),[o,a]=O.useState(""),[s,l]=O.useState("PREM"),[u,c]=O.useState(""),[d,h]=O.useState(ZE[s]);O.useEffect(()=>{const w=new Date;w.setFullYear(w.getFullYear()+1),c(w.toISOString().split("T")[0])},[]),O.useEffect(()=>{h(ZE[s])},[s]);const g=w=>{const{value:b,checked:_}=w.target;h(T=>_?[...T,b]:T.filter(S=>S!==b))},v=()=>{if(!u){alert("Please select an expiry date.");return}if(!o){alert("Please provide an email address to assign this license.");return}const w=Pce(s,new Date(u),d.join(""),r,o);e(b=>[...b,w]),n({type:"success",message:`License key ${w.key.slice(0,15)}... generated successfully!`})},y=w=>{e(b=>b.map(_=>_.key===w?{..._,status:"Revoked"}:_)),n({type:"success",message:"License has been revoked."})},x=w=>{switch(w){case"Generated":return"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300";case"Activated":return"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300";case"Revoked":return"bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-300";case"Expired":return"bg-neutral-100 text-neutral-700 dark:bg-neutral-900/50 dark:text-neutral-300"}};return m.jsxs(Vi,{title:"Super Admin: Master License Generator",icon:m.jsx(lN,{className:"w-6 h-6 text-amber-500"}),children:[m.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/30 rounded-lg text-amber-800 dark:text-amber-200 text-sm mb-6",children:"This panel is visible to Super Admins only. Generate keys locked to specific client emails."}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 border-b dark:border-neutral-700 pb-6 mb-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{type:"email",value:o,onChange:w=>a(w.target.value),placeholder:"Assign to Email (Required)",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5"}),m.jsx("input",{type:"text",value:r,onChange:w=>i(w.target.value),placeholder:"Business Name (Optional)",className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5"}),m.jsx("input",{type:"date",value:u,onChange:w=>c(w.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"grid grid-cols-3 gap-2",children:["STD","PREM","ENT"].map(w=>m.jsxs("label",{className:`text-center p-2 rounded-lg cursor-pointer border ${s===w?"bg-primary-50 border-primary-400":"dark:border-neutral-600"}`,children:[m.jsx("input",{type:"radio",name:"plan",value:w,checked:s===w,onChange:b=>l(b.target.value),className:"sr-only"})," ",w]},w))}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:["A","R","M","C"].map(w=>m.jsxs("label",{className:"flex items-center text-sm",children:[m.jsx("input",{type:"checkbox",value:w,checked:d.includes(w),onChange:g,className:"h-4 w-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500 mr-2"}),w==="A"?"AI":w==="R"?"Reports":w==="M"?"Multi-Lang":"Cloud"]},w))})]}),m.jsx("div",{className:"md:col-span-2 text-center",children:m.jsx("button",{onClick:v,className:"bg-primary-600 text-white font-semibold px-5 py-2.5 rounded-lg hover:bg-primary-700",children:"Generate New License"})})]}),m.jsx("h4",{className:"font-semibold mb-2",children:"License Database"}),m.jsx("div",{className:"overflow-x-auto max-h-96",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"text-left p-2",children:"Key"}),m.jsx("th",{className:"text-left p-2",children:"Email Lock"}),m.jsx("th",{className:"text-left p-2",children:"Status"}),m.jsx("th",{className:"text-right p-2",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y dark:divide-neutral-700",children:t.map(w=>m.jsxs("tr",{children:[m.jsx("td",{className:"p-2 font-mono text-xs",children:w.key}),m.jsx("td",{className:"p-2 text-xs",children:w.emailLock||"None"}),m.jsx("td",{className:"p-2",children:m.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${x(w.status)}`,children:w.status})}),m.jsx("td",{className:"p-2 text-right",children:w.status!=="Revoked"&&m.jsx("button",{onClick:()=>y(w.key),className:"text-red-500 hover:underline text-xs",children:"Revoke"})})]},w.key))})]})})]})},Vce=({licenseKeys:t,setLicenseKeys:e,user:n,setNotification:r})=>{const[i,o]=O.useState(""),a=()=>{if(!i)return alert("Please enter a device name.");const l={id:`dk_${Date.now()}`,key:`DEV-${Math.random().toString(36).substr(2,6).toUpperCase()}`,assignedToUserId:"",assignedToUserName:"Unassigned",status:"Active",validity:"Lifetime",deviceName:i,organizationId:n.organizationId};e(u=>[...u,l]),r({type:"success",message:`Device key for "${i}" generated successfully!`}),o("")},s=l=>{e(u=>u.map(c=>c.id===l?{...c,status:"Revoked"}:c)),r({type:"success",message:"Device key revoked."})};return m.jsxs(Vi,{title:"Shop Admin: Device & Terminal Management",icon:m.jsx($ce,{className:"w-6 h-6 text-blue-500"}),children:[m.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg text-blue-800 dark:text-blue-200 text-sm mb-6",children:"Generate access keys for your shop's terminals or employee devices."}),m.jsxs("div",{className:"flex gap-4 mb-6",children:[m.jsx("input",{type:"text",value:i,onChange:l=>o(l.target.value),placeholder:"Device Name (e.g., Counter 1)",className:"flex-1 bg-neutral-100 dark:bg-neutral-700 border-transparent rounded-lg p-2.5"}),m.jsx("button",{onClick:a,className:"bg-primary-600 text-white font-semibold px-4 py-2.5 rounded-lg hover:bg-primary-700 whitespace-nowrap",children:"Add Device Key"})]}),m.jsx("h4",{className:"font-semibold mb-2",children:"Active Device Keys"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"text-left p-2",children:"Device Name"}),m.jsx("th",{className:"text-left p-2",children:"Key"}),m.jsx("th",{className:"text-left p-2",children:"Status"}),m.jsx("th",{className:"text-right p-2",children:"Actions"})]})}),m.jsxs("tbody",{className:"divide-y dark:divide-neutral-700",children:[t.map(l=>m.jsxs("tr",{children:[m.jsx("td",{className:"p-2 font-medium",children:l.deviceName}),m.jsx("td",{className:"p-2 font-mono text-xs",children:l.key}),m.jsx("td",{className:"p-2",children:m.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${l.status==="Active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:l.status})}),m.jsx("td",{className:"p-2 text-right",children:l.status==="Active"&&m.jsx("button",{onClick:()=>s(l.id),className:"text-red-500 hover:underline text-xs",children:"Revoke"})})]},l.id)),t.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:4,className:"p-4 text-center text-neutral-500",children:"No device keys generated yet."})})]})]})})]})},zce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})}),qce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})}),Gce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),Hce=({onSuccess:t,onStartTrial:e,licenseDatabase:n})=>{const[r,i]=O.useState(""),[o,a]=O.useState(""),[s,l]=O.useState(""),[u,c]=O.useState(null),[d,h]=O.useState(!1),g=async y=>{y.preventDefault(),c(null),h(!0),await new Promise(T=>setTimeout(T,800));const x=r.trim(),w=o.trim().toLowerCase(),b=s.trim(),_=n.find(T=>T.key===x);if(!_){c("Invalid license key. Please check the key provided by your vendor."),h(!1);return}if(_.status==="Activated"&&_.emailLock&&_.emailLock.toLowerCase()!==w){c("This license key has already been activated for a different user."),h(!1);return}if(_.status==="Revoked"){c("This license key has been revoked. Please contact support."),h(!1);return}if(new Date(_.validUntil)<new Date){c("This license key has expired."),h(!1);return}if(_.emailLock){if(_.emailLock.toLowerCase()!==w){c("This license key is locked to a different email address."),h(!1);return}}else if(!w){c("Please enter your email address."),h(!1);return}h(!1),t({..._,businessNameLock:b||_.businessNameLock,emailLock:w})},v=()=>{confirm("Factory Reset: This will delete ALL data (products, sales, users) on this device and reset the license. This cannot be undone. Are you sure?")&&(localStorage.clear(),window.location.reload())};return m.jsxs("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-900 flex flex-col justify-center items-center p-4",children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-8 rounded-2xl shadow-xl w-full max-w-md",children:[m.jsx("div",{className:"flex justify-center mb-6",children:m.jsx("div",{className:"w-16 h-16 bg-primary-100 dark:bg-primary-900/50 rounded-full flex items-center justify-center text-primary-600 dark:text-primary-400",children:m.jsx(zce,{className:"w-8 h-8"})})}),m.jsx("h1",{className:"text-2xl font-bold text-center text-neutral-800 dark:text-neutral-100 mb-2",children:"Activate Zenith POS"}),m.jsx("p",{className:"text-center text-neutral-500 dark:text-neutral-400 mb-8 text-sm",children:"Enter your license details to activate the software."}),u&&m.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-3",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0",children:m.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),m.jsx("p",{className:"text-sm text-red-600 dark:text-red-300",children:u})]}),m.jsxs("form",{onSubmit:g,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email Address"}),m.jsxs("div",{className:"relative",children:[m.jsx(Gce,{className:"absolute left-3 top-3 w-5 h-5 text-neutral-400"}),m.jsx("input",{type:"email",required:!0,value:o,onChange:y=>a(y.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 focus:ring-2 focus:ring-primary-500 outline-none transition-all dark:text-white",placeholder:"registered@email.com"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"License Key"}),m.jsx("input",{type:"text",required:!0,value:r,onChange:y=>i(y.target.value),className:"w-full px-4 py-3 rounded-lg bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 focus:ring-2 focus:ring-primary-500 outline-none transition-all font-mono text-sm dark:text-white",placeholder:"ZENITH-XXXX-XXXX-XXXX"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Business Name"}),m.jsx("input",{type:"text",value:s,onChange:y=>l(y.target.value),className:"w-full px-4 py-3 rounded-lg bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 focus:ring-2 focus:ring-primary-500 outline-none transition-all dark:text-white",placeholder:"e.g. My Awesome Shop"}),m.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Leave blank if not specified by vendor."})]}),m.jsx("button",{type:"submit",disabled:d,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 rounded-lg transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center",children:d?m.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:["Activate License",m.jsx(qce,{className:"w-5 h-5 ml-2"})]})})]}),m.jsxs("div",{className:"mt-6 pt-6 border-t border-neutral-200 dark:border-neutral-700 flex flex-col items-center gap-3",children:[m.jsx("button",{onClick:e,className:"text-primary-600 dark:text-primary-400 font-semibold text-sm hover:underline",children:"Start 7-Day Free Trial"}),m.jsx("button",{onClick:v,className:"text-red-500 text-xs hover:underline",children:"Trouble logging in? Factory Reset"})]})]}),m.jsxs("div",{className:"mt-8 text-center text-neutral-500 dark:text-neutral-400 text-sm",children:[m.jsx("p",{children:"Need a license? Contact Sales"}),m.jsx("p",{className:"mt-1 font-medium",children:"ziauddin537000@gmail.com"})]})]})},{BuildingStorefrontIcon:Wce}=fr,Kce=({onLogin:t,onInitiateRegister:e,onInitiateForgotPassword:n,error:r,onClearError:i,noUsersFound:o,activeLicense:a,onDeactivateLicense:s})=>{const[l,u]=O.useState("login"),[c,d]=O.useState(""),[h,g]=O.useState(""),[v,y]=O.useState(""),[x,w]=O.useState("");O.useEffect(()=>{o&&u("register")},[o]);const b=E=>{u(E),i==null||i(),E==="login"&&g("")},_=E=>{switch(E.preventDefault(),l){case"login":t(c,h);break;case"register":if(h!==x){alert("Passwords do not match!");return}e(v,c,h);break;case"forgot_password":n(c);break}},T=()=>{if(o&&l==="register")return"Setup Admin Account";switch(l){case"login":return"Welcome Back";case"register":return"Create Account";case"forgot_password":return"Forgot Password"}},S=()=>{if(o&&l==="register")return"Create the first admin account for this shop.";switch(l){case"login":return"Please login to your account";case"register":return"Register your admin account";case"forgot_password":return"Enter your email to receive a reset link"}};return m.jsx("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-900 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-neutral-800 max-w-md w-full rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row max-w-4xl",children:[m.jsxs("div",{className:"bg-primary-600 p-8 md:w-1/2 flex flex-col justify-center items-center text-center text-white",children:[m.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-6 shadow-lg",children:m.jsx(Wce,{className:"w-10 h-10 text-primary-600"})}),m.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Zenith POS"}),m.jsx("p",{className:"text-primary-100 mb-8",children:"Smart Business Management"}),m.jsxs("ul",{className:"text-left space-y-3 text-sm text-primary-50 hidden md:block",children:[m.jsx("li",{className:"flex items-center gap-2",children:" Real-time Inventory Tracking"}),m.jsx("li",{className:"flex items-center gap-2",children:" Offline Mode Support"}),m.jsx("li",{className:"flex items-center gap-2",children:" Multi-Shop Management"}),m.jsx("li",{className:"flex items-center gap-2",children:" AI-Powered Insights"})]})]}),m.jsxs("div",{className:"p-8 md:w-1/2 flex flex-col justify-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100 mb-1",children:T()}),m.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-6",children:S()}),(a==null?void 0:a.emailLock)&&m.jsxs("div",{className:"mb-4 p-2 bg-blue-50 text-blue-800 rounded border border-blue-200 text-xs text-center",children:["Licensed to: ",m.jsx("strong",{children:a.emailLock})]}),r&&m.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm border border-red-200",children:r}),o&&l==="login"&&m.jsxs("div",{className:"mb-4 p-3 bg-amber-100 text-amber-800 rounded-lg text-sm border border-amber-200",children:["Fresh Install? Please ",m.jsx("button",{onClick:()=>b("register"),className:"font-bold underline",children:"Register"})," first."]}),m.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l==="register"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Full Name"}),m.jsx("input",{type:"text",required:!0,value:v,onChange:E=>y(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:"John Doe"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email Address"}),m.jsx("input",{type:"email",required:!0,value:c,onChange:E=>d(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:"name@company.com"})]}),["login","register"].includes(l)&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Password"}),m.jsx("input",{type:"password",required:!0,value:h,onChange:E=>g(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:""}),l==="login"&&m.jsx("div",{className:"text-right mt-1",children:m.jsx("button",{type:"button",onClick:()=>b("forgot_password"),className:"text-xs text-primary-600 hover:underline",children:"Forgot Password?"})})]}),l==="register"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Confirm Password"}),m.jsx("input",{type:"password",required:!0,value:x,onChange:E=>w(E.target.value),className:"w-full px-4 py-2 bg-neutral-50 dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",placeholder:""})]}),m.jsxs("button",{type:"submit",className:"w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors mt-2",children:[l==="login"&&"Sign In",l==="register"&&"Register Admin",l==="forgot_password"&&"Send Reset Link"]})]}),m.jsxs("div",{className:"mt-6 text-center text-sm text-neutral-500",children:[l==="login"&&m.jsxs(m.Fragment,{children:["Don't have an account?"," ",m.jsx("button",{onClick:()=>b("register"),className:"text-primary-600 font-semibold hover:underline",children:"Register"})]}),l==="register"&&!o&&m.jsxs(m.Fragment,{children:["Already have an account?"," ",m.jsx("button",{onClick:()=>b("login"),className:"text-primary-600 font-semibold hover:underline",children:"Login"})]}),l==="register"&&o&&m.jsx("p",{className:"text-xs italic",children:"Registration required for first use."}),l==="forgot_password"&&m.jsx("button",{onClick:()=>b("login"),className:"text-neutral-500 hover:text-neutral-800 font-medium",children:" Back to Login"})]}),s&&m.jsx("div",{className:"mt-8 pt-4 border-t border-neutral-100 text-center",children:m.jsx("button",{onClick:s,className:"text-red-500 text-xs hover:underline",children:"Wrong License? Deactivate & Change Key"})})]})]})})},Jce=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),eT=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,Yce=[["1","2","3","4","5","6","7","8","9","0","Backspace"],["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M",",",".","Enter"],["Space"]],Xce=()=>{const[t,e]=O.useState(!1),[n,r]=O.useState(null),i=O.useRef(null);O.useEffect(()=>{if(!eT())return;const a=l=>{const u=l.target;(u.tagName==="INPUT"||u.tagName==="TEXTAREA")&&!u.getAttribute("readonly")&&(r(u),e(!0))},s=l=>{i.current&&i.current.contains(l.target)||n&&l.target===n||(e(!1),r(null))};return document.addEventListener("focusin",a),document.addEventListener("mousedown",s),()=>{document.removeEventListener("focusin",a),document.removeEventListener("mousedown",s)}},[n]);const o=a=>{var v;if(!n)return;const s=n.selectionStart||0,l=n.selectionEnd||0,u=n.value;let c=u,d=s;if(a==="Backspace")s===l&&s>0?(c=u.slice(0,s-1)+u.slice(s),d=s-1):(c=u.slice(0,s)+u.slice(l),d=s);else if(a==="Enter")if(n.tagName==="TEXTAREA")c=u.slice(0,s)+`
`+u.slice(l),d=s+1;else{e(!1);return}else if(a==="Space")c=u.slice(0,s)+" "+u.slice(l),d=s+1;else{const y=a;c=u.slice(0,s)+y+u.slice(l),d=s+1}const h=(v=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:v.set;h?h.call(n,c):n.value=c;const g=new Event("input",{bubbles:!0});n.dispatchEvent(g),n.focus(),n.setSelectionRange(d,d)};return!eT()||!t?null:m.jsxs("div",{ref:i,className:"fixed bottom-0 left-0 right-0 bg-neutral-200 dark:bg-neutral-900 border-t border-neutral-300 dark:border-neutral-700 p-2 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-[9999]",children:[m.jsx("div",{className:"flex justify-end mb-1",children:m.jsx("button",{onClick:()=>e(!1),className:"p-1 bg-red-500 text-white rounded hover:bg-red-600",children:m.jsx(Jce,{className:"w-5 h-5"})})}),m.jsx("div",{className:"flex flex-col gap-1 max-w-5xl mx-auto",children:Yce.map((a,s)=>m.jsx("div",{className:"flex justify-center gap-1",children:a.map(l=>{let u="w-10 sm:w-14";return l==="Space"&&(u="w-64 sm:w-80"),(l==="Backspace"||l==="Enter")&&(u="w-16 sm:w-24 bg-neutral-300 dark:bg-neutral-600"),m.jsx("button",{onMouseDown:c=>{c.preventDefault(),o(l)},className:`${u} h-10 sm:h-12 rounded bg-white dark:bg-neutral-700 text-neutral-800 dark:text-neutral-100 shadow-sm hover:bg-neutral-100 dark:hover:bg-neutral-600 active:bg-neutral-300 dark:active:bg-neutral-500 font-semibold text-sm sm:text-base transition-colors select-none`,children:l==="Backspace"?"":l},l)})},s))})]})};var Pv=function(t,e){return Pv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Pv(t,e)};function dN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var pf=function(){return pf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},pf.apply(this,arguments)};function vs(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function fN(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function hN(t,e){return function(n,r){e(n,r,t)}}function pN(t,e,n,r,i,o){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var s=r.kind,l=s==="getter"?"get":s==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,h=!1,g=n.length-1;g>=0;g--){var v={};for(var y in r)v[y]=y==="access"?{}:r[y];for(var y in r.access)v.access[y]=r.access[y];v.addInitializer=function(w){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(w||null))};var x=(0,n[g])(s==="accessor"?{get:c.get,set:c.set}:c[l],v);if(s==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(d=a(x.get))&&(c.get=d),(d=a(x.set))&&(c.set=d),(d=a(x.init))&&i.unshift(d)}else(d=a(x))&&(s==="field"?i.unshift(d):c[l]=d)}u&&Object.defineProperty(u,r.name,c),h=!0}function mN(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function gN(t){return typeof t=="symbol"?t:"".concat(t)}function vN(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function yN(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ae(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}function wN(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Oh=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function bN(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Oh(e,t,n)}function mf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z0(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function xN(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Z0(arguments[e]));return t}function _N(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function SN(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Ja(t){return this instanceof Ja?(this.v=t,this):new Ja(t)}function EN(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(v){return Promise.resolve(v).then(g,d)}}function s(g,v){r[g]&&(i[g]=function(y){return new Promise(function(x,w){o.push([g,y,x,w])>1||l(g,y)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(r[g](v))}catch(y){h(o[0][3],y)}}function u(g){g.value instanceof Ja?Promise.resolve(g.value.v).then(c,d):h(o[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function TN(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(a){return(n=!n)?{value:Ja(t[i](a)),done:!1}:o?o(a):a}:o}}function AN(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof mf=="function"?mf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}function CN(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Qce=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Iv=function(t){return Iv=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Iv(t)};function kN(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Iv(t),r=0;r<n.length;r++)n[r]!=="default"&&Oh(e,t,n[r]);return Qce(e,t),e}function PN(t){return t&&t.__esModule?t:{default:t}}function IN(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function NN(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function ON(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function RN(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var Zce=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function MN(t){function e(o){t.error=t.hasError?new Zce(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(a){return e(a),i()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function $N(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,a){return r?e?".jsx":".js":i&&(!o||!a)?n:i+o+"."+a.toLowerCase()+"js"}):t}const ede={__extends:dN,__assign:pf,__rest:vs,__decorate:fN,__param:hN,__esDecorate:pN,__runInitializers:mN,__propKey:gN,__setFunctionName:vN,__metadata:yN,__awaiter:ae,__generator:wN,__createBinding:Oh,__exportStar:bN,__values:mf,__read:Z0,__spread:xN,__spreadArrays:_N,__spreadArray:SN,__await:Ja,__asyncGenerator:EN,__asyncDelegator:TN,__asyncValues:AN,__makeTemplateObject:CN,__importStar:kN,__importDefault:PN,__classPrivateFieldGet:IN,__classPrivateFieldSet:NN,__classPrivateFieldIn:ON,__addDisposableResource:RN,__disposeResources:MN,__rewriteRelativeImportExtension:$N},tde=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:RN,get __assign(){return pf},__asyncDelegator:TN,__asyncGenerator:EN,__asyncValues:AN,__await:Ja,__awaiter:ae,__classPrivateFieldGet:IN,__classPrivateFieldIn:ON,__classPrivateFieldSet:NN,__createBinding:Oh,__decorate:fN,__disposeResources:MN,__esDecorate:pN,__exportStar:bN,__extends:dN,__generator:wN,__importDefault:PN,__importStar:kN,__makeTemplateObject:CN,__metadata:yN,__param:hN,__propKey:gN,__read:Z0,__rest:vs,__rewriteRelativeImportExtension:$N,__runInitializers:mN,__setFunctionName:vN,__spread:xN,__spreadArray:SN,__spreadArrays:_N,__values:mf,default:ede},Symbol.toStringTag,{value:"Module"})),nde=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class ew extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class rde extends ew{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class tT extends ew{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class nT extends ew{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Nv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Nv||(Nv={}));class ide{constructor(e,{headers:n={},customFetch:r,region:i=Nv.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=nde(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ae(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:g}=r;g||(g=this.region);const v=new URL(`${this.url}/${n}`);g&&g!=="any"&&(h["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let y;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let x=c;d&&(a=new AbortController,o=setTimeout(()=>a.abort(),d),c?(x=a.signal,c.addEventListener("abort",()=>a.abort())):x=a.signal);const w=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:x}).catch(S=>{throw new rde(S)}),b=w.headers.get("x-relay-error");if(b&&b==="true")throw new tT(w);if(!w.ok)throw new nT(w);let _=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return _==="application/json"?T=yield w.json():_==="application/octet-stream"||_==="application/pdf"?T=yield w.blob():_==="text/event-stream"?T=w:_==="multipart/form-data"?T=yield w.formData():T=yield w.text(),{data:T,error:null,response:w}}catch(s){return{data:null,error:s,response:s instanceof nT||s instanceof tT?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var Ft={};const ys=bO(tde);var hc={},pc={},mc={},gc={},vc={},yc={},rT;function DN(){if(rT)return yc;rT=1,Object.defineProperty(yc,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return yc.default=t,yc}var iT;function jN(){if(iT)return vc;iT=1,Object.defineProperty(vc,"__esModule",{value:!0});const e=ys.__importDefault(DN());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let s=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,d,h;let g=null,v=null,y=null,x=l.status,w=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=S:v=JSON.parse(S))}const _=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),T=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");_&&T&&T.length>1&&(y=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(g={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,y=null,x=406,w="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const _=await l.text();try{g=JSON.parse(_),Array.isArray(g)&&l.status===404&&(v=[],g=null,x=200,w="OK")}catch{l.status===404&&_===""?(x=204,w="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((h=g==null?void 0:g.details)===null||h===void 0)&&h.includes("0 rows"))&&(g=null,x=200,w="OK"),g&&this.shouldThrowOnError)throw new e.default(g)}return{error:g,data:v,count:y,status:x,statusText:w}});return this.shouldThrowOnError||(s=s.catch(l=>{var u,c,d,h,g,v;let y="";const x=l==null?void 0:l.cause;if(x){const w=(u=x==null?void 0:x.message)!==null&&u!==void 0?u:"",b=(c=x==null?void 0:x.code)!==null&&c!==void 0?c:"";y=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,y+=`

Caused by: ${(h=x==null?void 0:x.name)!==null&&h!==void 0?h:"Error"}: ${w}`,b&&(y+=` (${b})`),x!=null&&x.stack&&(y+=`
${x.stack}`)}else y=(g=l==null?void 0:l.stack)!==null&&g!==void 0?g:"";return{error:{message:`${(v=l==null?void 0:l.name)!==null&&v!==void 0?v:"FetchError"}: ${l==null?void 0:l.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,o)}returns(){return this}overrideTypes(){return this}}return vc.default=n,vc}var oT;function LN(){if(oT)return gc;oT=1,Object.defineProperty(gc,"__esModule",{value:!0});const e=ys.__importDefault(jN());class n extends e.default{select(i){let o=!1;const a=(i??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:a,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${o?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:a=o}={}){const s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,o,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:a=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var c;const d=[i?"analyze":null,o?"verbose":null,a?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return gc.default=n,gc}var aT;function tw(){if(aT)return mc;aT=1,Object.defineProperty(mc,"__esModule",{value:!0});const e=ys.__importDefault(LN()),n=new RegExp("[,()]");class r extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const s=Array.from(new Set(a)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(o,`in.(${s})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:s,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(o,`${u}fts${c}.${a}`),this}match(o){return Object.entries(o).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(o,a,s){return this.url.searchParams.append(o,`not.${a}.${s}`),this}or(o,{foreignTable:a,referencedTable:s=a}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${o})`),this}filter(o,a,s){return this.url.searchParams.append(o,`${a}.${s}`),this}}return mc.default=r,mc}var sT;function UN(){if(sT)return pc;sT=1,Object.defineProperty(pc,"__esModule",{value:!0});const e=ys.__importDefault(tw());class n{constructor(i,{headers:o={},schema:a,fetch:s}){this.url=i,this.headers=new Headers(o),this.schema=a,this.fetch=s}select(i,o){const{head:a=!1,count:s}=o??{},l=a?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:a=!0}={}){var s;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:a=!1,count:s,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:o}={}){var a;const s="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var o;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return pc.default=n,pc}var lT;function ode(){if(lT)return hc;lT=1,Object.defineProperty(hc,"__esModule",{value:!0});const t=ys,e=t.__importDefault(UN()),n=t.__importDefault(tw());class r{constructor(o,{headers:a={},schema:s,fetch:l}={}){this.url=o,this.headers=new Headers(a),this.schemaName=s,this.fetch=l}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:s=!1,get:l=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${o}`);let g;s||l?(d=s?"HEAD":"GET",Object.entries(a).filter(([y,x])=>x!==void 0).map(([y,x])=>[y,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([y,x])=>{h.searchParams.append(y,x)})):(d="POST",g=a);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new n.default({method:d,url:h,headers:v,schema:this.schemaName,body:g,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return hc.default=r,hc}Object.defineProperty(Ft,"__esModule",{value:!0});var BN=Ft.PostgrestError=YN=Ft.PostgrestBuilder=KN=Ft.PostgrestTransformBuilder=HN=Ft.PostgrestFilterBuilder=qN=Ft.PostgrestQueryBuilder=VN=Ft.PostgrestClient=void 0;const ws=ys,FN=ws.__importDefault(ode());var VN=Ft.PostgrestClient=FN.default;const zN=ws.__importDefault(UN());var qN=Ft.PostgrestQueryBuilder=zN.default;const GN=ws.__importDefault(tw());var HN=Ft.PostgrestFilterBuilder=GN.default;const WN=ws.__importDefault(LN());var KN=Ft.PostgrestTransformBuilder=WN.default;const JN=ws.__importDefault(jN());var YN=Ft.PostgrestBuilder=JN.default;const XN=ws.__importDefault(DN());BN=Ft.PostgrestError=XN.default;var QN=Ft.default={PostgrestClient:FN.default,PostgrestQueryBuilder:zN.default,PostgrestFilterBuilder:GN.default,PostgrestTransformBuilder:WN.default,PostgrestBuilder:JN.default,PostgrestError:XN.default};const ade=wO({__proto__:null,get PostgrestBuilder(){return YN},get PostgrestClient(){return VN},get PostgrestError(){return BN},get PostgrestFilterBuilder(){return HN},get PostgrestQueryBuilder(){return qN},get PostgrestTransformBuilder(){return KN},default:QN},[Ft]),{PostgrestClient:sde,PostgrestQueryBuilder:_he,PostgrestFilterBuilder:She,PostgrestTransformBuilder:Ehe,PostgrestBuilder:The,PostgrestError:Ahe}=QN||ade;class lde{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ude="2.83.0",cde=`realtime-js/${ude}`,ZN="1.0.0",dde="2.0.0",uT=ZN,Ov=1e4,fde=1e3,hde=100;var zi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zi||(zi={}));var ht;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ht||(ht={}));var Tn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Tn||(Tn={}));var Rv;(function(t){t.websocket="websocket"})(Rv||(Rv={}));var qi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(qi||(qi={}));class pde{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodePush(e){var n,r;const{event:i,topic:o,payload:a}=e,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=this.META_LENGTH+l.length+s.length+o.length+i.length,c=new ArrayBuffer(this.HEADER_LENGTH+u);let d=new DataView(c),h=0;d.setUint8(h++,this.KINDS.push),d.setUint8(h++,l.length),d.setUint8(h++,s.length),d.setUint8(h++,o.length),d.setUint8(h++,i.length),Array.from(l,v=>d.setUint8(h++,v.charCodeAt(0))),Array.from(s,v=>d.setUint8(h++,v.charCodeAt(0))),Array.from(o,v=>d.setUint8(h++,v.charCodeAt(0))),Array.from(i,v=>d.setUint8(h++,v.charCodeAt(0)));var g=new Uint8Array(c.byteLength+a.byteLength);return g.set(new Uint8Array(c),0),g.set(new Uint8Array(a),c.byteLength),g.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r,i,o;const a=e.topic,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,c=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let g=new DataView(h),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,l.length),g.setUint8(v++,s.length),g.setUint8(v++,a.length),g.setUint8(v++,u.length),g.setUint8(v++,this.BINARY_ENCODING),Array.from(l,x=>g.setUint8(v++,x.charCodeAt(0))),Array.from(s,x=>g.setUint8(v++,x.charCodeAt(0))),Array.from(a,x=>g.setUint8(v++,x.charCodeAt(0))),Array.from(u,x=>g.setUint8(v++,x.charCodeAt(0)));var y=new Uint8Array(h.byteLength+c.byteLength);return y.set(new Uint8Array(h),0),y.set(new Uint8Array(c),h.byteLength),y.buffer}_encodeJsonUserBroadcastPush(e){var n,r,i,o;const a=e.topic,s=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,c=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer,g=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let y=new DataView(v),x=0;y.setUint8(x++,this.KINDS.userBroadcastPush),y.setUint8(x++,l.length),y.setUint8(x++,s.length),y.setUint8(x++,a.length),y.setUint8(x++,u.length),y.setUint8(x++,this.JSON_ENCODING),Array.from(l,b=>y.setUint8(x++,b.charCodeAt(0))),Array.from(s,b=>y.setUint8(x++,b.charCodeAt(0))),Array.from(a,b=>y.setUint8(x++,b.charCodeAt(0))),Array.from(u,b=>y.setUint8(x++,b.charCodeAt(0)));var w=new Uint8Array(v.byteLength+h.byteLength);return w.set(new Uint8Array(v),0),w.set(new Uint8Array(h),v.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,n,i);case this.KINDS.reply:return this._decodeReply(e,n,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodePush(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3);let s=this.HEADER_LENGTH+this.META_LENGTH-1;const l=r.decode(e.slice(s,s+i));s=s+i;const u=r.decode(e.slice(s,s+o));s=s+o;const c=r.decode(e.slice(s,s+a));s=s+a;const d=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{join_ref:l,ref:null,topic:u,event:c,payload:d}}_decodeReply(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const h=r.decode(e.slice(l,l+s));l=l+s;const g=JSON.parse(r.decode(e.slice(l,e.byteLength))),v={status:h,response:g};return{join_ref:u,ref:c,topic:d,event:Tn.reply,payload:v}}_decodeBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const s=r.decode(e.slice(a,a+i));a=a+i;const l=r.decode(e.slice(a,a+o));a=a+o;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{join_ref:null,ref:null,topic:s,event:l,payload:u}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),g=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST,event:c,payload:g};return a>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class eO{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Le||(Le={}));const cT=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=mde(a,t,e,i),o),{}):{}},mde=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?tO(o,a):Mv(a)},tO=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return wde(e,n)}switch(t){case Le.bool:return gde(e);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return vde(e);case Le.json:case Le.jsonb:return yde(e);case Le.timestamp:return bde(e);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Mv(e);default:return Mv(e)}},Mv=t=>t,gde=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},vde=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},yde=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},wde=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>tO(e,s))}return t},bde=t=>typeof t=="string"?t.replace(" ","T"):t,nO=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class qp{constructor(e,n,r={},i=Ov){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var dT;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(dT||(dT={}));class hl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hl.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=hl.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=hl.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=o[u];if(d){const h=c.map(x=>x.presence_ref),g=d.map(x=>x.presence_ref),v=c.filter(x=>g.indexOf(x.presence_ref)<0),y=d.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(s[u]=v),y.length>0&&(l[u]=y)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const d=e[s].map(g=>g.presence_ref),h=c.filter(g=>d.indexOf(g.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(fT||(fT={}));var pl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(pl||(pl={}));var br;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(br||(br={}));class nw{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new qp(this,Tn.join,this.params,this.timeout),this.rejoinTimer=new eO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new hl(this),this.broadcastEndpointURL=nO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[pl.PRESENCE]&&this.bindings[pl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(br.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(br.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){e==null||e(br.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,w=[];for(let b=0;b<x;b++){const _=y[b],{filter:{event:T,schema:S,table:E,filter:A}}=_,C=g&&g[b];if(C&&C.event===T&&C.schema===S&&C.table===E&&C.filter===A)w.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=ht.errored,e==null||e(br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(br.SUBSCRIBED);return}}).receive("error",g=>{this.state=ht.errored,e==null||e(br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ht.joined&&e===pl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new qp(this,Tn.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new qp(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>hde){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Tn;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var v,y,x;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(y=g.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(g=>g.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var v,y,x,w,b,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const T=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return T&&((y=n.ids)===null||y===void 0?void 0:y.includes(T))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const T=(b=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return T==="*"||T===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:y,table:x,commit_timestamp:w,type:b,errors:_}=v;h=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:w,eventType:b,new:{},old:{},errors:_}),this._getPayloadRecords(v))}g.callback(h,r)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&nw.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Tn.close,{},e)}_onError(e){this._on(Tn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=cT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=cT(e.columns,e.old_record)),n}}const Gp=()=>{},wc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xde=[1e3,2e3,5e3,1e4],_de=1e4,Sde=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ede{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ov,this.transport=null,this.heartbeatIntervalMs=wc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gp,this.ref=0,this.reconnectTimer=null,this.vsn=uT,this.logger=Gp,this.conn=null,this.sendBuffer=[],this.serializer=new pde,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Rv.websocket}`,this.httpEndpoint=nO(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lde.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zi.connecting:return qi.Connecting;case zi.open:return qi.Open;case zi.closing:return qi.Closing;default:return qi.Closed}}isConnected(){return this.connectionState()===qi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new nw(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(fde,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},wc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===zi.open||this.conn.readyState===zi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Tn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Sde],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:cde};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Tn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new eO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,u,c,d,h,g;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Ov,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:wc.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Gp,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:uT,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>xde[v-1]||_de,this.vsn){case ZN:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(v,y)=>y(JSON.stringify(v)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(v,y)=>y(JSON.parse(v));break;case dde:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class rw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Xe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Tde extends rw{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $v extends rw{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const iw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ade=()=>Response,Dv=t=>{if(Array.isArray(t))return t.map(n=>Dv(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Dv(r)}),e},Cde=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Hp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},kde=(t,e,n)=>ae(void 0,void 0,void 0,function*(){const r=yield Ade();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const o=t.status||500,a=(i==null?void 0:i.statusCode)||o+"";e(new Tde(Hp(i),o,a))}).catch(i=>{e(new $v(Hp(i),i))}):e(new $v(Hp(t),t))}),Pde=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(Cde(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Nu(t,e,n,r,i,o){return ae(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(n,Pde(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>kde(l,s,r))})})}function hu(t,e,n,r){return ae(this,void 0,void 0,function*(){return Nu(t,"GET",e,n,r)})}function qn(t,e,n,r,i){return ae(this,void 0,void 0,function*(){return Nu(t,"POST",e,r,i,n)})}function jv(t,e,n,r,i){return ae(this,void 0,void 0,function*(){return Nu(t,"PUT",e,r,i,n)})}function Ide(t,e,n,r){return ae(this,void 0,void 0,function*(){return Nu(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ow(t,e,n,r,i){return ae(this,void 0,void 0,function*(){return Nu(t,"DELETE",e,r,i,n)})}class Nde{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return ae(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}}var rO;class Ode{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[rO]="BlobDownloadBuilder",this.promise=null}asStream(){return new Nde(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ae(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}}rO=Symbol.toStringTag;const Rde={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Mde{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=iw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return ae(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},hT),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(e=="PUT"?jv:qn)(this.fetch,`${this.url}/object/${c}`,o,Object.assign({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}})}upload(e,n,r){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ae(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),a=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:hT.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield jv(this.fetch,s.toString(),l,{headers:c});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ae(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield qn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new rw("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}update(e,n,r){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ae(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ae(this,void 0,void 0,function*(){try{return{data:{path:(yield qn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ae(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield qn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ae(this,void 0,void 0,function*(){try{const i=yield qn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"",s=this._getFinalPath(e),l=()=>hu(this.fetch,`${this.url}/${i}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new Ode(l,this.shouldThrowOnError)}info(e){return ae(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield hu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Dv(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}exists(e){return ae(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Ide(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r)&&r instanceof $v){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(e){return ae(this,void 0,void 0,function*(){try{return{data:yield ow(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}list(e,n,r){return ae(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Rde),n),{prefix:e||""});return{data:yield qn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}listV2(e,n){return ae(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield qn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const iO="2.83.0",oO={"X-Client-Info":`storage-js/${iO}`};class $de{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oO),n),this.fetch=iw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ae(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield hu(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}getBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield hu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}createBucket(e){return ae(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield qn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return ae(this,void 0,void 0,function*(){try{return{data:yield jv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield ow(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class Dde{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oO),n),this.fetch=iw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}listBuckets(e){return ae(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield hu(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield ow(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}})}}const aw={"X-Client-Info":`storage-js/${iO}`,"Content-Type":"application/json"};class aO extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function dn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Wp extends aO{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jde extends aO{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var pT;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(pT||(pT={}));const sw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Lde=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},mT=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ude=(t,e,n)=>ae(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new Wp(mT(a),i,s))}).catch(()=>{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new Wp(s,i,a))});else{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new Wp(s,i,a))}}else e(new jde(mT(t),t))}),Bde=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(Lde(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function Fde(t,e,n,r,i,o){return ae(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(n,Bde(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>Ude(l,s,r))})})}function fn(t,e,n,r,i){return ae(this,void 0,void 0,function*(){return Fde(t,"POST",e,r,i,n)})}class Vde{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},aw),n),this.fetch=sw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return ae(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}listIndexes(e){return ae(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return ae(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}}class zde{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},aw),n),this.fetch=sw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield fn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}getVectors(e){return ae(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}listVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield fn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}queryVectors(e){return ae(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield fn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}}class qde{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},aw),n),this.fetch=sw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}getBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}listBuckets(){return ae(this,arguments,void 0,function*(e={}){try{return{data:yield fn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}}class Gde extends qde{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new Hde(this.url,this.headers,e,this.fetch)}}class Hde extends Vde{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ae(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ae(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ae(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ae(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Wde(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Wde extends zde{constructor(e,n,r,i,o){super(e,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ae(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ae(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ae(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ae(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ae(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Kde extends $de{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new Mde(this.url,this.headers,e,this.fetch)}get vectors(){return new Gde(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Dde(this.url+"/iceberg",this.headers,this.fetch)}}const Jde="2.83.0";let Js="";typeof Deno<"u"?Js="deno":typeof document<"u"?Js="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Js="react-native":Js="node";const Yde={"X-Client-Info":`supabase-js-${Js}/${Jde}`},Xde={headers:Yde},Qde={schema:"public"},Zde={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},efe={},tfe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),nfe=()=>Headers,rfe=(t,e,n)=>{const r=tfe(n),i=nfe();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},a),{headers:u}))}};function ife(t){return t.endsWith("/")?t:t+"/"}function ofe(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},c),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function afe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ife(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const sO="2.83.0",jo=30*1e3,Lv=3,Kp=Lv*jo,sfe="http://localhost:9999",lfe="supabase.auth.token",ufe={"X-Client-Info":`gotrue-js/${sO}`},Uv="X-Supabase-Api-Version",lO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cfe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dfe=10*60*1e3;class pu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function le(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ffe extends pu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function hfe(t){return le(t)&&t.name==="AuthApiError"}class Gi extends pu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ti extends pu{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class on extends Ti{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pfe(t){return le(t)&&t.name==="AuthSessionMissingError"}class Oo extends Ti{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bc extends Ti{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xc extends Ti{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mfe(t){return le(t)&&t.name==="AuthImplicitGrantRedirectError"}class gT extends Ti{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bv extends Ti{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Jp(t){return le(t)&&t.name==="AuthRetryableFetchError"}class vT extends Ti{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Fv extends Ti{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yT=` 	
\r=`.split(""),gfe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<yT.length;e+=1)t[yT[e].charCodeAt(0)]=-2;for(let e=0;e<gf.length;e+=1)t[gf[e].charCodeAt(0)]=e;return t})();function wT(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gf[r]),e.queuedBits-=6}}function uO(t,e,n){const r=gfe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bT(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{wfe(a,r,n)};for(let a=0;a<t.length;a+=1)uO(t.charCodeAt(a),i,o);return e.join("")}function vfe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function yfe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}vfe(r,e)}}function wfe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ga(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)uO(t.charCodeAt(i),n,r);return new Uint8Array(e)}function bfe(t){const e=[];return yfe(t,n=>e.push(n)),new Uint8Array(e)}function Zi(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>wT(i,n,r)),wT(null,n,r),e.join("")}function xfe(t){return Math.round(Date.now()/1e3)+t}function _fe(){return Symbol("auth-callback")}const Ct=()=>typeof window<"u"&&typeof document<"u",Ri={tested:!1,writable:!1},cO=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ri.tested)return Ri.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ri.tested=!0,Ri.writable=!0}catch{Ri.tested=!0,Ri.writable=!1}return Ri.writable};function Sfe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const dO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Efe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Lo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Mi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Wr=async(t,e)=>{await t.removeItem(e)};class Rh{constructor(){this.promise=new Rh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Rh.promiseConstructor=Promise;function Yp(t){const e=t.split(".");if(e.length!==3)throw new Fv("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!cfe.test(e[r]))throw new Fv("JWT not in base64url format");return{header:JSON.parse(bT(e[0])),payload:JSON.parse(bT(e[1])),signature:ga(e[2]),raw:{header:e[0],payload:e[1]}}}async function Tfe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Afe(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function Cfe(t){return("0"+t.toString(16)).substr(-2)}function kfe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Cfe).join("")}async function Pfe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Ife(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Pfe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ro(t,e,n=!1){const r=kfe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Lo(t,`${e}-code-verifier`,i);const o=await Ife(r);return[o,r===o?"plain":"s256"]}const Nfe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ofe(t){const e=t.headers.get(Uv);if(!e||!e.match(Nfe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Rfe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Mfe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $fe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mo(t){if(!$fe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dfe(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function xT(t){return JSON.parse(JSON.stringify(t))}const Bi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jfe=[502,503,504];async function _T(t){var e;if(!Efe(t))throw new Bv(Bi(t),0);if(jfe.includes(t.status))throw new Bv(Bi(t),t.status);let n;try{n=await t.json()}catch(o){throw new Gi(Bi(o),o)}let r;const i=Ofe(t);if(i&&i.getTime()>=lO["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new vT(Bi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new on}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new vT(Bi(n),t.status,n.weak_password.reasons);throw new ffe(Bi(n),t.status||500,r)}const Lfe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function pe(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Uv]||(o[Uv]=lO["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Ufe(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Ufe(t,e,n,r,i,o){const a=Lfe(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new Bv(Bi(l),0)}if(s.ok||await _T(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await _T(l)}}function Vn(t){var e;let n=null;Vfe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=xfe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function ST(t){const e=Vn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ei(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Bfe(t){return{data:t,error:null}}function Ffe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=vs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function ET(t){return t}function Vfe(t){return t.access_token&&t.refresh_token&&t.expires_in}const Qp=["global","local","others"];class zfe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=dO(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Qp[0]){if(Qp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qp.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ei})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=vs(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Ffe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(le(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ei})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:ET});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(le(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Mo(e);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ei})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Mo(e);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ei})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Mo(e);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ei})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Mo(e.userId);try{const{data:n,error:r}=await pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Mo(e.userId),Mo(e.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:ET});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(le(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}}function TT(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const $o={debug:!!(globalThis&&cO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qfe extends fO{}async function Gfe(t,e,n){$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),$o.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw $o.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new qfe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($o.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Hfe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hO(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Wfe(t){return parseInt(t,16)}function Kfe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Jfe(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=hO(t.address),v=c?`${c}://${r}`:r,y=t.statement?`${t.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${g}

${y}`;let w=`URI: ${d}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),s&&(w+=`
Not Before: ${s.toISOString()}`),l&&(w+=`
Request ID: ${l}`),u){let b=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);b+=`
- ${_}`}w+=b}return`${x}
${w}`}class lt extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class vf extends lt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Yfe({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new lt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new lt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new lt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new lt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new lt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new lt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new lt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new lt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(pO(a)){if(o.rp.id!==a)return new lt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new lt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Xfe({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new lt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new lt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(pO(r)){if(n.rpId!==r)return new lt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Qfe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Zfe=new Qfe;function ehe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=vs(t,["challenge","user","excludeCredentials"]),o=ga(e).buffer,a=Object.assign(Object.assign({},n),{id:ga(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ga(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function the(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=vs(t,["challenge","allowCredentials"]),i=ga(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:ga(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function nhe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Zi(new Uint8Array(t.response.attestationObject)),clientDataJSON:Zi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rhe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Zi(new Uint8Array(i.authenticatorData)),clientDataJSON:Zi(new Uint8Array(i.clientDataJSON)),signature:Zi(new Uint8Array(i.signature)),userHandle:i.userHandle?Zi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function pO(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function AT(){var t,e;return!!(Ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function ihe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vf("Browser returned unexpected credential type",e)}:{data:null,error:new vf("Empty credential response",e)}}catch(e){return{data:null,error:Yfe({error:e,options:t})}}}async function ohe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vf("Browser returned unexpected credential type",e)}:{data:null,error:new vf("Empty credential response",e)}}catch(e){return{data:null,error:Xfe({error:e,options:t})}}}const ahe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},she={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=yf(s,a):r[o]=yf(a)}else r[o]=a}return r}function lhe(t,e){return yf(ahe,t,e||{})}function uhe(t,e){return yf(she,t,e||{})}class che{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??Zfe.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=lhe(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:c,error:d}=await ihe({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=uhe(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:c,error:d}=await ohe(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(a){return le(a)?{data:null,error:a}:{data:null,error:new Gi("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new pu("rpId is required for WebAuthn authentication")};try{if(!AT())return{data:null,error:new Gi("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return le(a)?{data:null,error:a}:{data:null,error:new Gi("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new pu("rpId is required for WebAuthn registration")};try{if(!AT())return{data:null,error:new Gi("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return le(a)?{data:null,error:a}:{data:null,error:new Gi("Unexpected error in register",a)}}}}Hfe();const dhe={url:sfe,storageKey:lfe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ufe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function CT(t,e,n){return await n()}const Do={};class mu{get jwks(){var e,n;return(n=(e=Do[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Do[this.storageKey]=Object.assign(Object.assign({},Do[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Do[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Do[this.storageKey]=Object.assign(Object.assign({},Do[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},dhe),e);if(this.storageKey=o.storageKey,this.instanceID=(n=mu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,mu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Ct()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new zfe({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=dO(o.fetch),this.lock=o.lock||CT,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Ct()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Gfe:this.lock=CT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new che(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:cO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=TT(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=TT(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${sO}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Ct()&&(n=Sfe(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ct()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),mfe(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return le(n)?this._returnResult({error:n}):this._returnResult({error:new Gi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Vn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(le(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:c,password:d,options:h}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Ro(this.storage,this.storageKey)),o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:Vn})}else if("phone"in e){const{phone:c,password:d,options:h}=e;o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Vn})}else throw new bc("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(le(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ST})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ST})}else throw new bc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Oo;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,u,c,d,h;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:y,wallet:x,statement:w,options:b}=e;let _;if(Ct())if(typeof x=="object")_=x;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")_=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const T=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=hO(S[0]);let A=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const k=await _.request({method:"eth_chainId"});A=Wfe(k)}const C={domain:T.host,address:E,statement:w,uri:T.href,version:"1",chainId:A,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.resources};g=Jfe(C),v=await _.request({method:"personal_sign",params:[Kfe(g),E]})}try{const{data:y,error:x}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Vn});if(x)throw x;if(!y||!y.session||!y.user){const w=new Oo;return this._returnResult({data:{user:null,session:null},error:w})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:x})}catch(y){if(le(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var n,r,i,o,a,s,l,u,c,d,h,g;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:x,wallet:w,statement:b,options:_}=e;let T;if(Ct())if(typeof w=="object")T=w;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))T=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=w}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const E=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)v=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),y=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await T.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:x,error:w}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Zi(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Vn});if(w)throw w;if(!x||!x.session||!x.user){const b=new Oo;return this._returnResult({data:{user:null,session:null},error:b})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(le(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const n=await Mi(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Vn});if(await Wr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new Oo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(le(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Vn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Oo;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Ro(this.storage,this.storageKey));const{error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new bc("You must provide either an email or phone number.")}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Vn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(le(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Ro(this.storage,this.storageKey));const u=await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:Bfe});return!((o=u.data)===null||o===void 0)&&o.url&&Ct()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new on;const{error:i}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(le(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new bc("You must provide either an email or phone number and a type")}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Mi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Kp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Mi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Xp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=Dfe(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ei}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new on}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:ei})})}catch(n){if(le(n))return pfe(n)&&(await this._removeSession(),await Wr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new on;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await Ro(this.storage,this.storageKey));const{data:u,error:c}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:ei});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(le(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new on;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=Yp(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(le(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new on;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Ct())throw new xc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new gT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gT("No code detected.");const{data:b,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=e;if(!o||!s||!a||!u)throw new xc("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let h=c+d;l&&(h=parseInt(l));const g=h-c;g*1e3<=jo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:y,error:x}=await this._getUser(o);if(x)throw x;const w={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(r){if(le(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Mi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(hfe(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await Wr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=_fe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ro(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(le(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:d,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Ct()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(le(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=e,d=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Vn}),{data:h,error:g}=d;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Oo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(le(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Afe(async i=>(i>0&&await Tfe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Vn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&Jp(o)&&Date.now()+a-r<jo})}catch(r){if(this._debug(n,"error",r),le(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ct()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Mi(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Mi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Lo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Xp()}else if(i&&!i.user&&!i.user){const a=await Mi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Wr(this.storage,this.storageKey+"-user"),await Lo(this.storage,this.storageKey,i)):i.user=Xp()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Kp;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Kp}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Jp(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new on;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Rh;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new on;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),le(o)){const a={data:null,error:o};return Jp(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Lo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=xT(i);await Lo(this.storage,this.storageKey,o)}else{const i=xT(n);await Lo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Wr(this.storage,this.storageKey),await Wr(this.storage,this.storageKey+"-code-verifier"),await Wr(this.storage,this.storageKey+"-user"),this.userStorage&&await Wr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),jo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/jo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${jo}ms, refresh threshold is ${Lv} ticks`),i<=Lv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await Ro(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?nhe(e.webauthn.credential_response):rhe(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:ehe(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:the(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Yp(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new on})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new on});const a=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Ct()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new on});const a=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Ct()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new on})})}catch(e){if(le(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new on})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+dfe>i)return r;const{data:o,error:a}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return this._returnResult({data:null,error:v});r=g.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=Yp(r);n!=null&&n.allowExpired||Rfe(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:i,signature:a},error:null}}const c=Mfe(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,bfe(`${s}.${l}`)))throw new Fv("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}}mu.nextInstanceID={};const fhe=mu;class hhe extends fhe{constructor(e){super(e)}}class phe{constructor(e,n,r){var i,o,a;this.supabaseUrl=e,this.supabaseKey=n;const s=afe(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:Qde,realtime:efe,auth:Object.assign(Object.assign({},Zde),{storageKey:l}),global:Xde},c=ofe(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=c.global.headers)!==null&&o!==void 0?o:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=c.auth)!==null&&a!==void 0?a:{},this.headers,c.global.fetch),this.fetch=rfe(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new sde(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Kde(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new ide(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:a,flowType:s,lock:l,debug:u,throwOnError:c},d,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hhe({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:s,lock:l,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ede(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mhe=(t,e,n)=>new phe(t,e,n);function ghe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ghe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vhe={VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3d3R4Y2NndGtmYXhhbWRlc2FwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1MzExNzQsImV4cCI6MjA3OTEwNzE3NH0.9k0oqOZDctqpI22FhLsq-Y2Rz2Ak51bzYkb46nRQizQ",VITE_SUPABASE_URL:"https://twwtxccgtkfaxamdesap.supabase.co"},mO=vhe||{},gO=mO.VITE_SUPABASE_URL,vO=mO.VITE_SUPABASE_ANON_KEY,Vs=!!gO&&!!vO,yhe=gO||"https://placeholder.supabase.co",whe=vO||"placeholder",zs=mhe(yhe,whe);function vr(t,e){try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.error(`Error loading ${t} from storage`,n),e}}function bhe(){const[t,e]=O.useState(null),[n,r]=O.useState(!0),[i,o]=O.useState(!1),[a,s]=O.useState(()=>vr("zenith_license_database",[])),[l,u]=O.useState(null),[c,d]=O.useState(null),[h,g]=O.useState(!0),[v,y]=O.useState(()=>vr("zenith_users",bb)),[x,w]=O.useState(()=>vr("zenith_products",l$)),[b,_]=O.useState(()=>vr("zenith_customers",u$)),[T,S]=O.useState(()=>vr("zenith_suppliers",c$)),[E,A]=O.useState(()=>vr("zenith_pos",d$)),[C,k]=O.useState(()=>vr("zenith_sales",h$)),[N,P]=O.useState(()=>vr("zenith_expenses",f$)),[R,j]=O.useState(()=>vr("zenith_licenses",g$)),[F,B]=O.useState(v$),[M,L]=O.useState(null),[$,U]=O.useState([]),[H,V]=O.useState("dashboard"),[q,Q]=O.useState(!1),[ne,ye]=O.useState(!1),[xe,je]=O.useState("Zenith POS"),[$e,Z]=O.useState(null),[ue,de]=O.useState("en"),[D,fe]=O.useState("USD"),[oe,_e]=O.useState(navigator.onLine);O.useEffect(()=>localStorage.setItem("zenith_users",JSON.stringify(v)),[v]),O.useEffect(()=>localStorage.setItem("zenith_products",JSON.stringify(x)),[x]),O.useEffect(()=>localStorage.setItem("zenith_customers",JSON.stringify(b)),[b]),O.useEffect(()=>localStorage.setItem("zenith_suppliers",JSON.stringify(T)),[T]),O.useEffect(()=>localStorage.setItem("zenith_pos",JSON.stringify(E)),[E]),O.useEffect(()=>localStorage.setItem("zenith_sales",JSON.stringify(C)),[C]),O.useEffect(()=>localStorage.setItem("zenith_expenses",JSON.stringify(N)),[N]),O.useEffect(()=>localStorage.setItem("zenith_licenses",JSON.stringify(R)),[R]),O.useEffect(()=>localStorage.setItem("zenith_license_database",JSON.stringify(a)),[a]),O.useEffect(()=>{l?localStorage.setItem("zenith_current_user",JSON.stringify(l)):localStorage.removeItem("zenith_current_user")},[l]),O.useEffect(()=>{const K=()=>{_e(!0),B(X=>[{id:`n-net-${Date.now()}`,title:"Back Online",message:"Connection restored. Syncing data...",timestamp:new Date().toISOString(),read:!1},...X])},W=()=>{_e(!1),B(X=>[{id:`n-net-${Date.now()}`,title:"Offline Mode",message:"You are offline. Changes will be saved locally.",timestamp:new Date().toISOString(),read:!1},...X])};return window.addEventListener("online",K),window.addEventListener("offline",W),()=>{window.removeEventListener("online",K),window.removeEventListener("offline",W)}},[]),O.useEffect(()=>{(async()=>{const W=localStorage.getItem("zenith_master_license");let X=null;if(W)try{const ee=JSON.parse(W);ee&&ee.key&&ee.validUntil&&(new Date(ee.validUntil)>new Date?(X=ee,e(ee),o(!1)):localStorage.removeItem("zenith_master_license"))}catch{localStorage.removeItem("zenith_master_license")}if(X){const ee=localStorage.getItem("zenith_current_user");if(ee)try{const it=JSON.parse(ee);X.emailLock&&it.email.trim().toLowerCase()!==X.emailLock.trim().toLowerCase()?localStorage.removeItem("zenith_current_user"):u(it)}catch{localStorage.removeItem("zenith_current_user")}}r(!1),g(!1)})()},[]);const Se=async()=>{if(Vs)try{await zs.auth.signOut()}catch{console.warn("Supabase signout failed (likely offline)")}u(null),localStorage.removeItem("zenith_current_user"),V("dashboard")},Ke=()=>{confirm("Are you sure you want to deactivate the license on this device? You will need to enter the license key again.")&&(e(null),u(null),localStorage.removeItem("zenith_master_license"),localStorage.removeItem("zenith_current_user"),localStorage.removeItem("zenith_trial_start"),window.location.reload())},wt=async(K,W)=>{var it,Un,Mu;d(null);const X=K.trim().toLowerCase();if(K==="superadmin@zenith.com"&&W==="superadmin123!"){const tt=bb.find(To=>To.email==="superadmin@zenith.com");if(tt){u(tt),V("settings");return}}if(t&&t.emailLock&&X!==t.emailLock.trim().toLowerCase()){d(`This device is licensed to ${t.emailLock}. Please log in with that email.`);return}if(v.length===0){d("No users found. Please Register a new account first.");return}const ee=v.find(tt=>tt.email.toLowerCase()===X&&tt.password===W);if(ee){if(t&&!t.emailLock){const tt={...t,emailLock:X};e(tt),localStorage.setItem("zenith_master_license",JSON.stringify(tt)),s(To=>To.map(ki=>ki.key===tt.key?{...ki,emailLock:X}:ki)),console.log("Legacy license auto-healed and locked to:",X)}u(ee),V("dashboard");return}if(Vs)try{const{data:tt,error:To}=await zs.auth.signInWithPassword({email:K,password:W,options:{captchaToken:void 0}});if(To)d(To.message);else if(tt.user){const ki={id:tt.user.id,email:tt.user.email||K,name:((it=tt.user.user_metadata)==null?void 0:it.name)||K.split("@")[0],password:W,role:((Un=tt.user.user_metadata)==null?void 0:Un.role)||me.Admin,avatarUrl:((Mu=tt.user.user_metadata)==null?void 0:Mu.avatarUrl)||`https://i.pravatar.cc/150?u=${tt.user.id}`,dashboardWidgets:ua(me.Admin),organizationId:t==null?void 0:t.organizationId};if(y(Pi=>Pi.find(Bh=>Bh.id===ki.id)?Pi:[...Pi,ki]),t&&!t.emailLock){const Pi={...t,emailLock:X};e(Pi),localStorage.setItem("zenith_master_license",JSON.stringify(Pi)),s(Bh=>Bh.map(Fh=>Fh.key===Pi.key?{...Fh,emailLock:X}:Fh))}u(ki),V("dashboard");return}}catch{}d("Invalid email or password.")},Tt=async(K,W,X)=>{if(!t||!t.organizationId){d("Cannot register without an active license.");return}const ee=W.trim().toLowerCase();if(t.emailLock&&ee!==t.emailLock.trim().toLowerCase()){d(`This software is already activated for ${t.emailLock}. You cannot register a new account.`);return}if(v.find(Un=>Un.email.toLowerCase()===ee)){d("This email is already registered locally. Please Login.");return}d(null);const it={id:`u${Date.now()}`,name:K,email:W,password:X,role:me.Admin,avatarUrl:`https://i.pravatar.cc/150?u=${W}`,dashboardWidgets:ua(me.Admin),organizationId:t.organizationId,isVerified:!0};if(y(Un=>[...Un,it]),t&&!t.emailLock){const Un={...t,emailLock:ee};e(Un),localStorage.setItem("zenith_master_license",JSON.stringify(Un)),s(Mu=>Mu.map(tt=>tt.key===Un.key?{...tt,emailLock:ee}:tt))}if(Vs)try{zs.auth.signUp({email:W,password:X,options:{data:{name:K,role:me.Admin,organizationId:t.organizationId}}})}catch{console.warn("Cloud registration skipped.")}u(it),V("dashboard"),alert("Account created successfully! You are now logged in.")},Ut=async K=>{if(!Vs){d("Password reset is not available in offline/demo mode.");return}const{error:W}=await zs.auth.resetPasswordForEmail(K,{redirectTo:window.location.origin});W?d(W.message):alert("Password reset link sent to your email.")},tn=async K=>{if(!Vs)return;const{error:W}=await zs.auth.updateUser({password:K});alert(W?W.message:"Password updated successfully!")},at=K=>{if(!l)return;const W={...l,...K};u(W),y(X=>X.map(ee=>ee.id===l.id?{...ee,...K}:ee))},At=K=>{const W=`org_${K.key.split("-")[2].toLowerCase()}`,X={...K,status:"Activated",activationDate:new Date().toISOString(),organizationId:W};s(ee=>ee.map(it=>it.key===X.key?X:it)),localStorage.setItem("zenith_master_license",JSON.stringify(X)),localStorage.removeItem("zenith_trial_start"),w([]),_([]),S([]),A([]),k([]),P([]),j([]),y([]),localStorage.removeItem("zenith_products"),localStorage.removeItem("zenith_customers"),localStorage.removeItem("zenith_suppliers"),localStorage.removeItem("zenith_pos"),localStorage.removeItem("zenith_sales"),localStorage.removeItem("zenith_expenses"),localStorage.removeItem("zenith_licenses"),localStorage.removeItem("zenith_users"),e(X),o(!1),u(null),localStorage.removeItem("zenith_current_user")},mr=()=>{let K=localStorage.getItem("zenith_trial_start");K||(K=new Date().toISOString(),localStorage.setItem("zenith_trial_start",K));const W=new Date(K);if(Math.ceil(Math.abs(new Date().getTime()-W.getTime())/(1e3*60*60*24))>wb){alert("Your trial period has expired. Please enter a valid license key to continue.");return}o(!0);const ee={key:"TRIAL",organizationId:"org_trial",validUntil:new Date(W.getTime()+wb*864e5).toISOString(),planType:"Premium",status:"Activated",activationDate:new Date().toISOString(),maxShops:1,enabledFeatures:["AI_INSIGHTS","MULTI_LANGUAGE"]};e(ee)},Ai=()=>{if(l)if(M)L(null);else{const K={id:`sh${Date.now()}`,userId:l.id,userName:l.name,startTime:new Date().toISOString(),endTime:null};L(K)}},Re=l==null?void 0:l.organizationId,Ci=O.useMemo(()=>v.filter(K=>K.organizationId===Re),[v,Re]),bs=O.useMemo(()=>x.filter(K=>K.organizationId===Re),[x,Re]),xs=O.useMemo(()=>b.filter(K=>K.organizationId===Re),[b,Re]),Ou=O.useMemo(()=>T.filter(K=>K.organizationId===Re),[T,Re]),Mh=O.useMemo(()=>E.filter(K=>K.organizationId===Re),[E,Re]),Ru=O.useMemo(()=>C.filter(K=>K.organizationId===Re),[C,Re]),$h=O.useMemo(()=>N.filter(K=>K.organizationId===Re),[N,Re]),Dh=O.useMemo(()=>R.filter(K=>K.organizationId===Re),[R,Re]);O.useEffect(()=>{Re&&je(`Shop (${Re.substring(4,10).toUpperCase()})`)},[Re]),O.useEffect(()=>{ne?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[ne]);const nn=I.useCallback(K=>{var W;return((W=y$[ue])==null?void 0:W[K])||K},[ue]),Ln=I.useCallback(K=>{const W=WC[D];return W?`${W.symbol}${(K*W.rate).toFixed(2)}`:`$${K.toFixed(2)}`},[D]),jh=(K,W)=>{if(!l)return;const X={...l.dashboardWidgets,[K]:W},ee={...l,dashboardWidgets:X};u(ee),at({dashboardWidgets:X})},Lh=K=>{if(!l)return;const W=K.total-K.amountPaid,X={...K,id:`s${Date.now()}`,cashier:l.name,cashierId:l.id,date:new Date().toISOString(),organizationId:Re};k(ee=>[X,...ee]),W>0&&K.customerId!=="guest"&&_(ee=>ee.map(it=>it.id===K.customerId?{...it,dueAmount:it.dueAmount+W}:it))},Uh=(K,W)=>{_(X=>X.map(ee=>ee.id===K?{...ee,dueAmount:Math.max(0,ee.dueAmount-W)}:ee))},G=K=>{const W={...K,id:`c${Date.now()}`,organizationId:Re};return _(X=>[...X,W]),W},se=(K,W,X)=>{w(ee=>ee.map(it=>it.id===K?{...it,stock:W}:it))};if(n||h)return m.jsx("div",{className:"flex h-screen items-center justify-center dark:bg-neutral-900",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!t)return m.jsx(Hce,{onSuccess:At,onStartTrial:mr,licenseDatabase:a});if(!l)return m.jsx(Kce,{onLogin:wt,onInitiateRegister:Tt,onInitiateForgotPassword:Ut,onVerifyEmail:K=>console.log("Verify email",K),onVerifyResetCode:K=>console.log("Verify reset code",K),onResetPassword:tn,error:c,onClearError:()=>d(null),noUsersFound:v.length===0,activeLicense:t,onDeactivateLicense:Ke});const ke=()=>{if(!l)return null;const K={...bn.purchases,formFields:bn.purchases.formFields.map(W=>W.key==="supplierId"?{...W,options:Ou.map(X=>({value:X.id,label:X.name}))}:W)};switch(H){case"dashboard":return m.jsx(nce,{products:bs,sales:Ru,user:l,onWidgetChange:jh,formatCurrency:Ln,t:nn,activeLicense:t,licenseKeys:Dh});case"pos":return m.jsx(hce,{user:l,customers:xs,products:bs,onAddSale:Lh,onAddCustomer:G,heldCarts:$,setHeldCarts:U,formatCurrency:Ln,t:nn,businessName:xe});case"products":return m.jsx(No,{dataType:"products",data:bs,columns:bn.products.columns,formFields:bn.products.formFields,onAdd:W=>w(X=>[...X,{...W,id:`p${Date.now()}`,organizationId:Re}]),onUpdate:W=>w(X=>X.map(ee=>ee.id===W.id?W:ee)),onDelete:W=>w(X=>X.filter(ee=>!W.includes(ee.id))),customActions:{onAdjustStock:se},t:nn,formatCurrency:Ln});case"customers":return m.jsx(No,{dataType:"customers",data:xs,columns:bn.customers.columns,formFields:bn.customers.formFields,onAdd:W=>G(W),onUpdate:W=>_(X=>X.map(ee=>ee.id===W.id?W:ee)),onDelete:W=>_(X=>X.filter(ee=>!W.includes(ee.id))),customActions:{onRecordPayment:Uh},t:nn,formatCurrency:Ln});case"employees":return m.jsx(No,{dataType:"employees",data:Ci,columns:bn.employees.columns,formFields:bn.employees.formFields,onAdd:W=>y(X=>[...X,{...W,id:`u${Date.now()}`,organizationId:Re,dashboardWidgets:ua(W.role)}]),onUpdate:W=>y(X=>X.map(ee=>ee.id===W.id?W:ee)),onDelete:W=>y(X=>X.filter(ee=>!W.includes(ee.id))),t:nn,formatCurrency:Ln});case"suppliers":return m.jsx(No,{dataType:"suppliers",data:Ou,columns:bn.suppliers.columns,formFields:bn.suppliers.formFields,onAdd:W=>S(X=>[...X,{...W,id:`sup${Date.now()}`,organizationId:Re}]),onUpdate:W=>S(X=>X.map(ee=>ee.id===W.id?W:ee)),onDelete:W=>S(X=>X.filter(ee=>!W.includes(ee.id))),t:nn,formatCurrency:Ln});case"purchases":return m.jsx(No,{dataType:"purchases",data:Mh,columns:K.columns,formFields:K.formFields,onAdd:W=>A(X=>[...X,{...W,id:`po${Date.now()}`,createdBy:l.name,createdAt:new Date().toISOString(),organizationId:Re}]),onUpdate:W=>A(X=>X.map(ee=>ee.id===W.id?W:ee)),onDelete:W=>A(X=>X.filter(ee=>!W.includes(ee.id))),t:nn,formatCurrency:Ln});case"expenses":return m.jsx(No,{dataType:"expenses",data:$h,columns:bn.expenses.columns,formFields:bn.expenses.formFields,onAdd:W=>P(X=>[...X,{...W,id:`e${Date.now()}`,recordedBy:l.name,organizationId:Re}]),onUpdate:W=>P(X=>X.map(ee=>ee.id===W.id?W:ee)),onDelete:W=>P(X=>X.filter(ee=>!W.includes(ee.id))),t:nn,formatCurrency:Ln});case"reports":return m.jsx(Ece,{sales:Ru,users:Ci,customers:xs,formatCurrency:Ln});case"settings":return m.jsx(Bce,{user:l,onUpdateUser:at,employees:Ci,isDarkMode:ne,toggleDarkMode:()=>ye(!ne),businessName:xe,setBusinessName:je,businessLogo:$e,setBusinessLogo:Z,licenseKeys:R,setLicenseKeys:j,language:ue,setLanguage:de,currency:D,setCurrency:fe,t:nn,licenseDatabase:a,setLicenseDatabase:s});default:return m.jsx(Tce,{title:H})}};return m.jsxs("div",{className:`flex h-screen bg-neutral-100 dark:bg-neutral-900 text-neutral-800 dark:text-neutral-100 antialiased ${ne?"dark":""}`,children:[m.jsx(P$,{userRole:l.role,activeView:H,setActiveView:V,isOpen:q,setIsOpen:Q,businessName:xe,businessLogo:$e,t:nn}),m.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[m.jsx(A$,{user:l,onLogout:Se,toggleSidebar:()=>Q(!q),isDarkMode:ne,toggleDarkMode:()=>ye(!ne),businessName:xe,businessLogo:$e,activeView:H,setActiveView:V,notifications:F,setNotifications:B,activeShift:M,onToggleShift:Ai,isOnline:oe,t:nn,isInTrial:i}),m.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-neutral-100 dark:bg-neutral-900 p-6",children:ke()})]}),m.jsx(Xce,{})]})}const yO=document.getElementById("root");if(!yO)throw new Error("Could not find root element to mount to");const xhe=Zp.createRoot(yO);xhe.render(m.jsx(I.StrictMode,{children:m.jsx(bhe,{})}));
